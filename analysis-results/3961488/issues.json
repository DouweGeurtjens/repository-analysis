[{"url": "https://api.github.com/repos/pypa/setuptools/issues/3901", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3901/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3901/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3901/events", "html_url": "https://github.com/pypa/setuptools/issues/3901", "id": 1678796200, "node_id": "I_kwDOA0bv8c5kEGWo", "number": 3901, "title": "[BUG] Broken link in deprecation warning", "user": {"login": "mattclay", "id": 806360, "node_id": "MDQ6VXNlcjgwNjM2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/806360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattclay", "html_url": "https://github.com/mattclay", "followers_url": "https://api.github.com/users/mattclay/followers", "following_url": "https://api.github.com/users/mattclay/following{/other_user}", "gists_url": "https://api.github.com/users/mattclay/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattclay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattclay/subscriptions", "organizations_url": "https://api.github.com/users/mattclay/orgs", "repos_url": "https://api.github.com/users/mattclay/repos", "events_url": "https://api.github.com/users/mattclay/events{/privacy}", "received_events_url": "https://api.github.com/users/mattclay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-21T16:34:05Z", "updated_at": "2023-04-24T11:37:55Z", "closed_at": "2023-04-24T10:55:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.7.1\n\n### Python version\n\n3.8\n\n### OS\n\nUbuntu 22.04.2 LTS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nRunning a `pip install` that generates a `setuptools` deprecation warning results in a broken link being shown.\n\n### Expected behavior\n\nA valid link is displayed.\n\n### How to Reproduce\n\n1. Create and activate a Python 3.8 virtual environment (make sure `wheel` is not installed).\r\n2. `pip install pip --upgrade`\r\n3. `pip install coverage==4.5.4 --no-binary :all: --no-cache -v`\n\n### Output\n\n```\r\n          ********************************************************************************\r\n          The license_file parameter is deprecated, use license_files instead.\r\n\r\n          By 2023-Oct-30, you need to update your project and remove deprecated calls\r\n          or your builds will no longer be supported.\r\n\r\n          See https://setuptools.pypa.io/en/latest/https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.\r\n          ********************************************************************************\r\n```\r\n\r\nNotice the extra `https://setuptools.pypa.io/en/latest/` before the actual link (which works).", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3899", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3899/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3899/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3899/events", "html_url": "https://github.com/pypa/setuptools/issues/3899", "id": 1677234844, "node_id": "I_kwDOA0bv8c5j-JKc", "number": 3899, "title": "[BUG] `invalid_unless_false` generates a warning and raises an exception even when config is valid", "user": {"login": "JamMarHer", "id": 19697071, "node_id": "MDQ6VXNlcjE5Njk3MDcx", "avatar_url": "https://avatars.githubusercontent.com/u/19697071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamMarHer", "html_url": "https://github.com/JamMarHer", "followers_url": "https://api.github.com/users/JamMarHer/followers", "following_url": "https://api.github.com/users/JamMarHer/following{/other_user}", "gists_url": "https://api.github.com/users/JamMarHer/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamMarHer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamMarHer/subscriptions", "organizations_url": "https://api.github.com/users/JamMarHer/orgs", "repos_url": "https://api.github.com/users/JamMarHer/repos", "events_url": "https://api.github.com/users/JamMarHer/events{/privacy}", "received_events_url": "https://api.github.com/users/JamMarHer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-20T18:43:25Z", "updated_at": "2023-04-21T12:15:10Z", "closed_at": "2023-04-20T21:52:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n67.7.0\r\n\r\n### Python version\r\n\r\n3.7\r\n\r\n### OS\r\n\r\nUbuntu Linux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nInstalling a package that sets the `use_2to3` command to `false` results in a warning and an exception being raised.\r\n\r\n### Expected behavior\r\n\r\nNo exception should be raised because calling `invalid_unless_false` with `false` is valid.\r\n\r\n### How to Reproduce\r\n\r\n1. Upgrade setuptools to version `67.7.0`\r\n2. git clone git@github.com:pyvisa/pyvisa-sim.git && cd pyvisa-sim\r\n4.  Checkout version that uses `use_2to3` flag with  `git checkout 0.3 `\r\n5. Install using `pip install .`\r\n\r\n### Output\r\n\r\n```console\r\njamhernandezq@JHQ jam % git clone git@github.com:pyvisa/pyvisa-sim.git\r\nCloning into 'pyvisa-sim'...\r\nremote: Enumerating objects: 967, done.\r\nremote: Counting objects: 100% (242/242), done.\r\nremote: Compressing objects: 100% (83/83), done.\r\nremote: Total 967 (delta 190), reused 170 (delta 159), pack-reused 725\r\nReceiving objects: 100% (967/967), 254.20 KiB | 2.27 MiB/s, done.\r\nResolving deltas: 100% (604/604), done.\r\njamhernandezq@JHQ jam % cd pyvisa-sim \r\njamhernandezq@JHQ pyvisa-sim % git checkout 0.3 \r\nNote: switching to '0.3'.\r\n\r\nYou are in 'detached HEAD' state. You can look around, make experimental\r\nchanges and commit them, and you can discard any commits you make in this\r\nstate without impacting any branches by switching back to a branch.\r\n\r\nIf you want to create a new branch to retain commits you create, you may\r\ndo so (now or later) by using -c with the switch command. Example:\r\n\r\n  git switch -c <new-branch-name>\r\n\r\nOr undo this operation with:\r\n\r\n  git switch -\r\n\r\nTurn off this advice by setting config variable advice.detachedHead to false\r\n\r\nHEAD is now at f7c4158 Preparing release 0.3\r\njamhernandezq@JHQ pyvisa-sim % ls\r\nAUTHORS\t\tCHANGES\t\tLICENSE\t\tMANIFEST.in\tREADME\t\tdocs\t\tpyvisa-sim\tsetup.cfg\tsetup.py\r\njamhernandezq@JHQ pyvisa-sim % pip install setuptools --upgrade \r\nRequirement already satisfied: setuptools in /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages (65.5.0)\r\nCollecting setuptools\r\n  Downloading setuptools-67.7.0-py3-none-any.whl (1.1 MB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 1.1/1.1 MB 6.9 MB/s eta 0:00:00\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 65.5.0\r\n    Uninstalling setuptools-65.5.0:\r\n      Successfully uninstalled setuptools-65.5.0\r\npip instaSuccessfully installed setuptools-67.7.0\r\nl%                                                                                                                                                               \r\njamhernandezq@JHQ pyvisa-sim % pip install .\r\nProcessing /Users/.../jam/pyvisa-sim\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [3 lines of output]\r\n      /private/var/folders/4z/djhjm20x6b925sp6ljz2bhwr0000gn/T/pip-build-env-q_8awvro/overlay/lib/python3.11/site-packages/setuptools/dist.py:954: DistDeprecationWarning: use_2to3 is ignored.\r\n        ep.load()(self, ep.name, value)\r\n      error in PyVISA-sim setup command: use_2to3 is invalid.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\njamhernandezq@JHQ pyvisa-sim % \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3898", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3898/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3898/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3898/events", "html_url": "https://github.com/pypa/setuptools/issues/3898", "id": 1677222153, "node_id": "I_kwDOA0bv8c5j-GEJ", "number": 3898, "title": "[BUG] Install fails with `use_2to3 is invalid` error", "user": {"login": "mattclay", "id": 806360, "node_id": "MDQ6VXNlcjgwNjM2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/806360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattclay", "html_url": "https://github.com/mattclay", "followers_url": "https://api.github.com/users/mattclay/followers", "following_url": "https://api.github.com/users/mattclay/following{/other_user}", "gists_url": "https://api.github.com/users/mattclay/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattclay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattclay/subscriptions", "organizations_url": "https://api.github.com/users/mattclay/orgs", "repos_url": "https://api.github.com/users/mattclay/repos", "events_url": "https://api.github.com/users/mattclay/events{/privacy}", "received_events_url": "https://api.github.com/users/mattclay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-04-20T18:33:25Z", "updated_at": "2023-04-21T10:39:34Z", "closed_at": "2023-04-21T08:53:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n67.7.0\r\n\r\n### Python version\r\n\r\n3.8\r\n\r\n### OS\r\n\r\nUbuntu 22.04.2 LTS\r\n\r\n### Additional environment information\r\n\r\nUse of `pip` 23.1 is required for the reproducer given, since it relies on `--no-binary` attempting to build a wheel.\r\nAdditionally, `wheel` should not be installed for the reproducer to work.\r\n\r\nThe changes in https://github.com/pypa/setuptools/pull/3849 seem related.\r\n\r\n### Description\r\n\r\nInstallation of `coverage` version 4.5.4 fails with `setuptools` version 67.7.0, but works with 67.6.1.\r\n\r\nAs a work-around, I can use the previous version of `setuptools`:\r\n\r\n```console\r\n$ cat constraints.txt\r\nsetuptools==67.6.1\r\n$ PIP_CONSTRAINT=./constraints.txt pip install coverage==4.5.4 --no-binary :all: --no-cache\r\nCollecting coverage==4.5.4\r\n  Downloading coverage-4.5.4.tar.gz (385 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 385.2/385.2 kB 1.5 MB/s eta 0:00:00\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: coverage\r\n  Building wheel for coverage (pyproject.toml) ... done\r\n  Created wheel for coverage: filename=coverage-4.5.4-cp38-cp38-linux_x86_64.whl size=208278 sha256=73953647437bb81efefbaae00f779c00e8051e83d2ec0dba760e465e1793cc91\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-pnyp3zi8/wheels/e7/0e/3f/4d16d7576f1070cf1a0028b1664aff2cc8e84c9c0e2b8f3207\r\nSuccessfully built coverage\r\nInstalling collected packages: coverage\r\nSuccessfully installed coverage-4.5.4\r\n```\r\n\r\n### Expected behavior\r\n\r\n```console\r\n$ pip install coverage==4.5.4 --no-binary :all: --no-cache\r\nCollecting coverage==4.5.4\r\n  Downloading coverage-4.5.4.tar.gz (385 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 385.2/385.2 kB 1.5 MB/s eta 0:00:00\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: coverage\r\n  Building wheel for coverage (pyproject.toml) ... done\r\n  Created wheel for coverage: filename=coverage-4.5.4-cp38-cp38-linux_x86_64.whl size=208278 sha256=73953647437bb81efefbaae00f779c00e8051e83d2ec0dba760e465e1793cc91\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-pnyp3zi8/wheels/e7/0e/3f/4d16d7576f1070cf1a0028b1664aff2cc8e84c9c0e2b8f3207\r\nSuccessfully built coverage\r\nInstalling collected packages: coverage\r\nSuccessfully installed coverage-4.5.4\r\n```\r\n\r\n### How to Reproduce\r\n\r\n`pip install coverage==4.5.4 --no-binary :all: --no-cache`\r\n\r\n\r\n### Output\r\n\r\n```console\r\n$ pip install coverage==4.5.4 --no-binary :all: --no-cache\r\nCollecting coverage==4.5.4\r\n  Downloading coverage-4.5.4.tar.gz (385 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 385.2/385.2 kB 1.6 MB/s eta 0:00:00\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [17 lines of output]\r\n      /tmp/pip-build-env-6bs8y2ax/overlay/lib/python3.8/site-packages/setuptools/config/setupcfg.py:293: _DeprecatedConfig: Deprecated config in `setup.cfg`\r\n      !!\r\n      \r\n              ********************************************************************************\r\n              The license_file parameter is deprecated, use license_files instead.\r\n      \r\n              By 2023-Oct-30, you need to update your project and remove deprecated calls\r\n              or your builds will no longer be supported.\r\n      \r\n              See https://setuptools.pypa.io/en/latest/https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.\r\n              ********************************************************************************\r\n      \r\n      !!\r\n        parsed = self.parsers.get(option_name, lambda x: x)(value)\r\n      /tmp/pip-build-env-6bs8y2ax/overlay/lib/python3.8/site-packages/setuptools/dist.py:954: DistDeprecationWarning: use_2to3 is ignored.\r\n        ep.load()(self, ep.name, value)\r\n      error in coverage setup command: use_2to3 is invalid.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3898/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3890", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3890/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3890/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3890/events", "html_url": "https://github.com/pypa/setuptools/issues/3890", "id": 1660140839, "node_id": "I_kwDOA0bv8c5i870n", "number": 3890, "title": "[BUG] setup.py set version=1.0.RC1,but pip list version is 1.0rc1", "user": {"login": "chenzeng8", "id": 122774235, "node_id": "U_kgDOB1Fi2w", "avatar_url": "https://avatars.githubusercontent.com/u/122774235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenzeng8", "html_url": "https://github.com/chenzeng8", "followers_url": "https://api.github.com/users/chenzeng8/followers", "following_url": "https://api.github.com/users/chenzeng8/following{/other_user}", "gists_url": "https://api.github.com/users/chenzeng8/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenzeng8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenzeng8/subscriptions", "organizations_url": "https://api.github.com/users/chenzeng8/orgs", "repos_url": "https://api.github.com/users/chenzeng8/repos", "events_url": "https://api.github.com/users/chenzeng8/events{/privacy}", "received_events_url": "https://api.github.com/users/chenzeng8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-10T02:40:23Z", "updated_at": "2023-04-14T02:56:12Z", "closed_at": "2023-04-13T11:11:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools == 65.5.1\n\n### Python version\n\npython 3.9\n\n### OS\n\ncentos\n\n### Additional environment information\n\nsetup.py set version=1.0.RC1,but pip list version is 1.0rc1\n\n### Description\n\nthe setup.py is \r\n![image](https://user-images.githubusercontent.com/122774235/230814511-7db4a8dc-0133-4df1-a5c6-e73d2526ee3f.png)\r\nthe whl file is \r\n![image](https://user-images.githubusercontent.com/122774235/230814547-f397995f-c835-49c8-a075-76207d711c0f.png)\r\n\r\n\n\n### Expected behavior\n\npip install test_whl-1.0.RC1-py3-none-any.whl\r\n\n\n### How to Reproduce\n\npip list\n\n### Output\n\n```console\r\npip list\r\n\r\n```\r\n![image](https://user-images.githubusercontent.com/122774235/230814491-4bc0c90b-7f13-4084-a1c8-fe9c7b927174.png)\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3890/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3889", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3889/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3889/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3889/events", "html_url": "https://github.com/pypa/setuptools/issues/3889", "id": 1659888558, "node_id": "I_kwDOA0bv8c5i7-Ou", "number": 3889, "title": "[BUG] setuptools fails on 'pytz (>dev)' with 'Expected closing RIGHT_PARENTHESIS'", "user": {"login": "kiilerix", "id": 225555, "node_id": "MDQ6VXNlcjIyNTU1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/225555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiilerix", "html_url": "https://github.com/kiilerix", "followers_url": "https://api.github.com/users/kiilerix/followers", "following_url": "https://api.github.com/users/kiilerix/following{/other_user}", "gists_url": "https://api.github.com/users/kiilerix/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiilerix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiilerix/subscriptions", "organizations_url": "https://api.github.com/users/kiilerix/orgs", "repos_url": "https://api.github.com/users/kiilerix/repos", "events_url": "https://api.github.com/users/kiilerix/events{/privacy}", "received_events_url": "https://api.github.com/users/kiilerix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-09T14:09:29Z", "updated_at": "2023-04-13T12:07:02Z", "closed_at": "2023-04-13T12:07:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==67.0\n\n### Python version\n\nPython 3.11 and others\n\n### OS\n\nFedora Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nInstalling Kallithea as described on https://kallithea.readthedocs.io/en/default/contributing.html#getting-started works fine when only upgrading setuptools to < 67 .\r\n\r\nWith 67 or later, it fails as\r\n```console\r\n$ gearbox serve -c my.ini --reload \r\n15:56:54,111 ERROR [gearbox] Expected closing RIGHT_PARENTHESIS\r\n    pytz (>dev)\r\n         ~^\r\n```\r\n\r\nThe error seems to come from the vendered `packaging`, when stumbling upon `venv/lib/python3.11/site-packages/celery-5.0.5.dist-info/METADATA` with `Requires-Dist: pytz (>dev)`. It might be an issue in celery, and it might already be fixed in later celery versions, but it is still a regression in setuptools.\n\n### Expected behavior\n\nI expect it to work with setuptools 67 as it does with setuptools 66.\n\n### How to Reproduce\n\n```\r\nhg clone https://kallithea-scm.org/repos/kallithea\r\ncd kallithea\r\npython3 -m venv venv\r\n. venv/bin/activate\r\npip install --upgrade pip setuptools\r\npip install --upgrade -e . -r dev_requirements.txt python-ldap python-pam\r\nkallithea-cli config-create my.ini\r\n```\n\n### Output\n\n```\r\n...\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/celery/bin/celery.py\", line 11, in <module>\r\n    from pkg_resources import iter_entry_points\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3323, in <module>\r\n    @_call_aside\r\n     ^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3298, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3336, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 629, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 966, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 832, in resolve\r\n    new_requirements = dist.requires(req.extras)[::-1]\r\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 2821, in requires\r\n    dm = self._dep_map\r\n         ^^^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3107, in _dep_map\r\n    self.__dep_map = self._compute_dependencies()\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3117, in _compute_dependencies\r\n    reqs.extend(parse_requirements(req))\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/__init__.py\", line 3170, in __init__\r\n    super(Requirement, self).__init__(requirement_string)\r\n  File \"/tmp/kallithea/venv/lib64/python3.11/site-packages/pkg_resources/_vendor/packaging/requirements.py\", line 37, in __init__\r\n    raise InvalidRequirement(str(e)) from e\r\npkg_resources.extern.packaging.requirements.InvalidRequirement: Expected closing RIGHT_PARENTHESIS\r\n    pytz (>dev)\r\n         ~^\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3888", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3888/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3888/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3888/events", "html_url": "https://github.com/pypa/setuptools/issues/3888", "id": 1659536984, "node_id": "I_kwDOA0bv8c5i6oZY", "number": 3888, "title": "[BUG] `pip list` duplicate package entries", "user": {"login": "AmeyaVS", "id": 6262562, "node_id": "MDQ6VXNlcjYyNjI1NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6262562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AmeyaVS", "html_url": "https://github.com/AmeyaVS", "followers_url": "https://api.github.com/users/AmeyaVS/followers", "following_url": "https://api.github.com/users/AmeyaVS/following{/other_user}", "gists_url": "https://api.github.com/users/AmeyaVS/gists{/gist_id}", "starred_url": "https://api.github.com/users/AmeyaVS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AmeyaVS/subscriptions", "organizations_url": "https://api.github.com/users/AmeyaVS/orgs", "repos_url": "https://api.github.com/users/AmeyaVS/repos", "events_url": "https://api.github.com/users/AmeyaVS/events{/privacy}", "received_events_url": "https://api.github.com/users/AmeyaVS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-08T14:17:21Z", "updated_at": "2023-04-08T16:33:04Z", "closed_at": "2023-04-08T16:33:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.6.1\n\n### Python version\n\nPython 3.11.2\n\n### OS\n\nFedora 37\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nHave reported same issue in pip package: https://github.com/pypa/pip/issues/11937.\r\n\r\nWhile trying out example from scikit-build examples:\r\n[hello-cpp](https://github.com/scikit-build/scikit-build-sample-projects/tree/master/projects/hello-cpp)\r\n\r\nDuplicate entries of the C++ extension is displayed when installing package through `setup.py`.\n\n### Expected behavior\n\nOnly a single instance of the C++ extension package should be listed.\n\n### How to Reproduce\n\n1. Get following source: [hello-cpp](https://github.com/scikit-build/scikit-build-sample-projects/tree/master/projects/hello-cpp)\r\n2. Using python setup.py:\r\n    2.1. Build C++ Extension Package:\r\n    ```sh\r\n    $  python setup.py build\r\n    ```\r\n    2.2. Install package in venv:\r\n    ```sh\r\n    $ python setup.py install\r\n    ```\n\n### Output\n\nList packages:\r\n\r\n```console\r\n$ pip list\r\nPackage      Version\r\n------------ -------\r\ndistro       1.8.0\r\nhello-cpp    1.2.3\r\nhello-cpp    1.2.3\r\nhello-cpp    1.2.3\r\npackaging    23.0\r\npip          23.0.1\r\nscikit-build 0.16.7\r\nsetuptools   67.6.1\r\nwheel        0.40.0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3888/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3880", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3880/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3880/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3880/events", "html_url": "https://github.com/pypa/setuptools/issues/3880", "id": 1650782573, "node_id": "I_kwDOA0bv8c5iZPFt", "number": 3880, "title": "[BUG] When Cython is an extra/optional dependency, it does not get imported in setup.py, cythonization impossible", "user": {"login": "lrq3000", "id": 1118942, "node_id": "MDQ6VXNlcjExMTg5NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1118942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lrq3000", "html_url": "https://github.com/lrq3000", "followers_url": "https://api.github.com/users/lrq3000/followers", "following_url": "https://api.github.com/users/lrq3000/following{/other_user}", "gists_url": "https://api.github.com/users/lrq3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/lrq3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lrq3000/subscriptions", "organizations_url": "https://api.github.com/users/lrq3000/orgs", "repos_url": "https://api.github.com/users/lrq3000/repos", "events_url": "https://api.github.com/users/lrq3000/events{/privacy}", "received_events_url": "https://api.github.com/users/lrq3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-02T02:50:06Z", "updated_at": "2023-04-03T13:19:43Z", "closed_at": "2023-04-03T13:19:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.6.1\n\n### Python version\n\n3.10.8\n\n### OS\n\nWindows 10\n\n### Additional environment information\n\nMiniconda3\n\n### Description\n\nI have a project where I offer both a pure python implementation by default, and an optional cythonized extension if the user explicitly requests it with a flag. More info on my build process [here](https://discuss.python.org/t/explicit-optional-cythonization-via-config-setting-post-pep517-and-install-option-deprecation/25379).\r\n\r\nThis made me find what I think is a bug in setuptools with how it handles pyproject.toml: if cython is specified as an extra/optional dependency, like so:\r\n\r\n```\r\n[project.optional-dependencies]\r\ncythonize = [\r\n    \"cython>=3.0.0b2\"\r\n]\r\n```\r\n\r\nAnd then if we install our python module like so:\r\n\r\n`pip install --upgrade -e .[cythonize] --verbose --use-pep517`\r\n\r\nThen in setup.py, any `import Cython` will result in an `ImportError`, despite cython being correctly installed.\r\n\r\nThis is I guess because `setuptools` does some magic to allow Cython to be importable in setup.py despite logically not being importable yet since the package is not yet installed, as explained [here](https://blog.ganssle.io/articles/2021/10/setup-py-deprecated.html).\n\n### Expected behavior\n\nSpecifying cython as an optional-dependency should result in Cython being importable in setup.py, just as if cython was specified in pyproject.toml as a required dependency (eg, `requires = [\"setuptools>65\", \"wheel>=0.40.0\", \"cython>=3.0.0b2\"]`).\n\n### How to Reproduce\n\n1. Create a pyproject.toml with Cython being an optional-dependency:\r\n\r\n[project.optional-dependencies]\r\ncythonize = [\r\n    \"cython>=3.0.0b2\"\r\n]\r\n\r\n2. Write in setup.py:\r\n\r\n`from Cython.Build import cythonize, build_ext`\r\n\r\n4. Try to install the module with `pip install --upgrade -e .[cythonize] --verbose --use-pep517`\r\n5. This should result in an `ImportError`\n\n### Output\n\n```console\r\nModuleNotFoundError: No module named 'Cython'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3880/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3879", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3879/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3879/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3879/events", "html_url": "https://github.com/pypa/setuptools/issues/3879", "id": 1649465012, "node_id": "I_kwDOA0bv8c5iUNa0", "number": 3879, "title": "[BUG] Messages use dubious link shortener services instead of canonical URLs", "user": {"login": "uiopaubo", "id": 49102982, "node_id": "MDQ6VXNlcjQ5MTAyOTgy", "avatar_url": "https://avatars.githubusercontent.com/u/49102982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uiopaubo", "html_url": "https://github.com/uiopaubo", "followers_url": "https://api.github.com/users/uiopaubo/followers", "following_url": "https://api.github.com/users/uiopaubo/following{/other_user}", "gists_url": "https://api.github.com/users/uiopaubo/gists{/gist_id}", "starred_url": "https://api.github.com/users/uiopaubo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uiopaubo/subscriptions", "organizations_url": "https://api.github.com/users/uiopaubo/orgs", "repos_url": "https://api.github.com/users/uiopaubo/repos", "events_url": "https://api.github.com/users/uiopaubo/events{/privacy}", "received_events_url": "https://api.github.com/users/uiopaubo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-31T14:31:52Z", "updated_at": "2023-04-24T10:55:17Z", "closed_at": "2023-04-24T10:55:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n40.8.0\n\n### Python version\n\n3.7.3\n\n### OS\n\n10.13\n\n### Additional environment information\n\nI encounter this when running the Debian packaging scripts, but it is not peculiar to Debian's patched version of setuptools.\n\n### Description\n\nA message of the following form may appear when setuptools is invoked:\r\n\r\n```console\r\nNote: Bypassing https://pypi.org/simple/setuptools_scm/ (disallowed host; see http://bit.ly/2hrImnY for details).\r\n```\r\n\r\nThis text can be found in the following location in the sources:\r\n\r\nhttps://github.com/pypa/setuptools/blob/main/setuptools/package_index.py#L405\n\n### Expected behavior\n\nLink-shortened URLs should not be used. The services involved may not remain available, they may not guarantee that the target URL remain the same, and such services may even be subverted by malicious parties. When someone uses setuptools, their screen space is generally not so limited that they cannot tolerate a full-length URL. Instead, canonical URLs referencing a trusted site should be employed.\n\n### How to Reproduce\n\nExamine the source code to \"reproduce\" the bug.\n\n### Output\n\n```console\r\nNote: Bypassing https://pypi.org/simple/setuptools_scm/ (disallowed host; see http://bit.ly/2hrImnY for details).\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3871", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3871/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3871/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3871/events", "html_url": "https://github.com/pypa/setuptools/issues/3871", "id": 1638414412, "node_id": "I_kwDOA0bv8c5hqDhM", "number": 3871, "title": "[BUG] Ignored MANIFEST.in", "user": {"login": "EricBuist", "id": 12241953, "node_id": "MDQ6VXNlcjEyMjQxOTUz", "avatar_url": "https://avatars.githubusercontent.com/u/12241953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EricBuist", "html_url": "https://github.com/EricBuist", "followers_url": "https://api.github.com/users/EricBuist/followers", "following_url": "https://api.github.com/users/EricBuist/following{/other_user}", "gists_url": "https://api.github.com/users/EricBuist/gists{/gist_id}", "starred_url": "https://api.github.com/users/EricBuist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EricBuist/subscriptions", "organizations_url": "https://api.github.com/users/EricBuist/orgs", "repos_url": "https://api.github.com/users/EricBuist/repos", "events_url": "https://api.github.com/users/EricBuist/events{/privacy}", "received_events_url": "https://api.github.com/users/EricBuist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-23T22:13:13Z", "updated_at": "2023-03-24T12:27:35Z", "closed_at": "2023-03-24T12:27:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.6.0\n\n### Python version\n\n3.10.6\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe contents of MANIFEST.in is completely ignored, so Setuptools doesn't add non-Python files from packages. I tried everything I can think about. Without a fix or workaround, I'll be forced to unpack the generated .whl file, add the files and repack. Having to write post-build scripts like this completely defeats the purpose of a build system. At this point it would be simpler to just generate the build directory by script and zip it.\n\n### Expected behavior\n\nNon-Python files referred to by MANIFEST.in should appear in source distribution. Since I am using a pyproject.toml, they should by default be included in the whl distribution as well.\n\n### How to Reproduce\n\nCreate a simple project with a src directory, containing the following empty files\r\n- src/test1/test1.py\r\n- src/test2/test2.py\r\n- src/test1/data.txt\r\n- src/test2/data.txt\r\n\r\nCreate a pyproject.toml similar to the following\r\n```\r\n[project]\r\nname = \"sample-project\"\r\nversion = \"1.0.1\"\r\n```\r\n\r\nCreate a MANIFEST.in file of the fowm\r\n```\r\ninclude *.txt\r\n```\r\n\r\nRun python -m build.\r\nIn the dist directory, the source distribution and whl contains test1.py, test2.py but no data.txt file.\n\n### Output\n\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3870", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3870/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3870/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3870/events", "html_url": "https://github.com/pypa/setuptools/issues/3870", "id": 1637652279, "node_id": "I_kwDOA0bv8c5hnJc3", "number": 3870, "title": "[BUG] ", "user": {"login": "lanzkron", "id": 11015162, "node_id": "MDQ6VXNlcjExMDE1MTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11015162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lanzkron", "html_url": "https://github.com/lanzkron", "followers_url": "https://api.github.com/users/lanzkron/followers", "following_url": "https://api.github.com/users/lanzkron/following{/other_user}", "gists_url": "https://api.github.com/users/lanzkron/gists{/gist_id}", "starred_url": "https://api.github.com/users/lanzkron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lanzkron/subscriptions", "organizations_url": "https://api.github.com/users/lanzkron/orgs", "repos_url": "https://api.github.com/users/lanzkron/repos", "events_url": "https://api.github.com/users/lanzkron/events{/privacy}", "received_events_url": "https://api.github.com/users/lanzkron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-23T14:24:28Z", "updated_at": "2023-03-26T08:01:39Z", "closed_at": "2023-03-26T08:01:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.5.0\n\n### Python version\n\nPython 3.10.10\n\n### OS\n\nWindows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nFiles excluded via the `find_packages(exclude=` mechanism appear in the package when built with `build` package\n\n### Expected behavior\n\nExcluded files should be excluded as they are when building directly with `setup.py`\n\n### How to Reproduce\n\n1. create project with `lib` and `tests` directories\r\n2. `lib` should contain an empty `__init__.py` file and a `hello.py` file with `print(\"hello\")`\r\n3. `tests` should contain an empty `test_hello.py` file\r\n4. `setup.py` should contain the following\r\n\r\n````\r\n    from setuptools import find_packages, setup\r\n\r\n    setup(\r\n      name=\"hello\",\r\n      version=\"0.1\",\r\n      author=\"myself\",\r\n      description=\"test package\",\r\n      packages=find_packages(exclude=[\"tests\"]),\r\n    )\n\n### Output\n\nWhen built with `python setup.py sdist` the contents of `hello.egg-info/SOURCERS>.txt` does **not** contain `tests/test_hello.py` (this is the expected behaviour). \r\nWhen built with `python -m build` the contents of `hello.egg-info/SOURCERS>.txt` **does** contain `tests/test_hello.py`  (expected to be excluded)\r\n\r\nNote, I've opened this defect after starting discussion https://discuss.python.org/t/moving-to-build-rather-than-calling-setup-py-directly/25107 and being told this looks like a defect.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3870/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3867", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3867/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3867/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3867/events", "html_url": "https://github.com/pypa/setuptools/issues/3867", "id": 1633444711, "node_id": "I_kwDOA0bv8c5hXGNn", "number": 3867, "title": "[BUG] Wildcard specification is broken ", "user": {"login": "xbeastx", "id": 3618442, "node_id": "MDQ6VXNlcjM2MTg0NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3618442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xbeastx", "html_url": "https://github.com/xbeastx", "followers_url": "https://api.github.com/users/xbeastx/followers", "following_url": "https://api.github.com/users/xbeastx/following{/other_user}", "gists_url": "https://api.github.com/users/xbeastx/gists{/gist_id}", "starred_url": "https://api.github.com/users/xbeastx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xbeastx/subscriptions", "organizations_url": "https://api.github.com/users/xbeastx/orgs", "repos_url": "https://api.github.com/users/xbeastx/repos", "events_url": "https://api.github.com/users/xbeastx/events{/privacy}", "received_events_url": "https://api.github.com/users/xbeastx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-21T08:41:33Z", "updated_at": "2023-03-21T09:03:33Z", "closed_at": "2023-03-21T08:56:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>65.6.3\n\n### Python version\n\npython 3.x\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nSo in setuptools with version above 65.6.3 pip rise an error:\r\n```\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [3 lines of output]\r\n      error in my-pkg setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Expected end or semicolon (after version specifier)\r\n          requests>=2.18.*\r\n                    ~~~~~^\r\n      [end of output]\r\n```\r\n\r\nAs I can see there is no any changes in PEP440 in terms of wildcard version matching: https://peps.python.org/pep-0440/#version-matching\r\n\n\n### Expected behavior\n\nExpecting support of wildcard matching version requirements as in 65.6.3 and below.\n\n### How to Reproduce\n\nJust create `requirements.txt` with wildcard like so:\r\n```\r\nrequests>=2.18.*\r\n```\r\n\r\nAnd try to install\n\n### Output\n\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3867/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3866", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3866/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3866/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3866/events", "html_url": "https://github.com/pypa/setuptools/issues/3866", "id": 1632799775, "node_id": "I_kwDOA0bv8c5hUowf", "number": 3866, "title": "Bug Trying to use Tox with coveragepy[BUG] ", "user": {"login": "talihashi", "id": 15970917, "node_id": "MDQ6VXNlcjE1OTcwOTE3", "avatar_url": "https://avatars.githubusercontent.com/u/15970917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talihashi", "html_url": "https://github.com/talihashi", "followers_url": "https://api.github.com/users/talihashi/followers", "following_url": "https://api.github.com/users/talihashi/following{/other_user}", "gists_url": "https://api.github.com/users/talihashi/gists{/gist_id}", "starred_url": "https://api.github.com/users/talihashi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talihashi/subscriptions", "organizations_url": "https://api.github.com/users/talihashi/orgs", "repos_url": "https://api.github.com/users/talihashi/repos", "events_url": "https://api.github.com/users/talihashi/events{/privacy}", "received_events_url": "https://api.github.com/users/talihashi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-20T20:19:03Z", "updated_at": "2023-03-20T21:14:18Z", "closed_at": "2023-03-20T21:14:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.5.0\n\n### Python version\n\nPython 3.10.10\n\n### OS\n\nWindows 10 VS Code Terminal\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen I try and run tox I get this long error.\r\n\r\nhttps://pastebin.com/ZvxFhA9a\n\n### Expected behavior\n\nExpected tox to run.\n\n### How to Reproduce\n\n1. open integrated terminal in VS code\r\n2. python-m venv env\r\n3. source env/Scripts/activate\r\n4. git clone https://github.com/nedbat/coveragepy\r\n5. cd coveragepy\r\n6. python3 -m pip install -r requirements/dev.pip\r\n7. python3 -m pip install -r requirements/dev.in\r\n8. python3 -m tox\n\n### Output\n\n```console\r\n\r\n```\r\n$ python3 -m tox\r\nROOT: tox-gh won't override envlist because tox is not running in GitHub Actions\r\npy37: skipped because could not find python interpreter with spec(s): py37\r\npy37: SKIP \u26a0 in 0 seconds\r\npy38: skipped because could not find python interpreter with spec(s): py38\r\npy38: SKIP \u26a0 in 0 seconds\r\npy39: skipped because could not find python interpreter with spec(s): py39\r\npy39: SKIP \u26a0 in 0.02 seconds\r\n.pkg: _optional_hooks> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\n.pkg: get_requires_for_build_editable> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta.pkg: build_editable> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\npy310: packaging backend failed (code=error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"), with SystemExit: error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\nno previously-included directories found matching 'doc\\_build'\r\nno previously-included directories found matching 'doc\\_spell'\r\nno previously-included directories found matching 'tests\\eggsrc\\build'\r\nC:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\wheel\\bdist_wheel.py:83: RuntimeWarning: Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect\r\n  if get_flag(\"Py_DEBUG\", hasattr(sys, \"gettotalrefcount\"), warn=(impl == \"cp\")):\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"<string>\", line 174, in build_extension\r\nBuildFailed\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"<string>\", line 174, in build_extension\r\nBuildFailed\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 201, in run_commands\r\n    dist.run_commands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 969, in run_commands\r\n    self.run_command(cmd)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 154, in run\r\n    raise errors.InternalError(cleandoc(msg)) from ex\r\ndistutils.errors.DistutilsInternalError: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py\", line 90, in run\r\n    outcome = backend_proxy(parsed_message[\"cmd\"], **parsed_message[\"kwargs\"])\r\n  File \"C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py\", line 32, in __call__\r\n    return getattr(on_object, name)(*args, **kwargs)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 442, in build_editable\r\n    return self._build_with_temp_dir(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 398, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 335, in run_setup\r\n    exec(code, locals())\r\n  File \"<string>\", line 224, in <module>\r\n  File \"<string>\", line 214, in main\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\__init__.py\", line 108, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 185, in setup\r\n    return run_commands(dist)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 215, in run_commands\r\n    raise SystemExit(\"error: \" + str(msg))\r\nSystemExit: error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\nBackend: run command build_editable with args {'wheel_directory': '.tox\\\\.pkg\\\\dist', 'config_settings': {'--build-option': []}, 'metadata_directory': None}\r\nrunning editable_wheel\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\r\nwriting C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\PKG-INFO\r\nwriting dependency_links to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\dependency_links.txt\r\nwriting entry points to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\entry_points.txt\r\nwriting requirements to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\requires.txt\r\nwriting top-level names to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\top_level.txt\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage.egg-info\\SOURCES.txt'\r\ncreating 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage-7.2.3a0.dev1.dist-info'\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-7wl1m1av\\coverage-7.2.3a0.dev1.dist-info\\WHEEL\r\nrunning build_py\r\nrunning build_ext\r\nbuilding 'coverage.tracer' extension\r\nBackend: Wrote response {'code': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"', 'exc_type': 'SystemExit', 'exc_msg': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"'} to C:\\Users\\Jordan\\AppData\\Local\\Temp\\pep517_build_editable-mlt4umie.json\r\npy310: FAIL \u2716 in 1.09 seconds\r\n.pkg-cpython311: _optional_hooks> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\n.pkg-cpython311: get_requires_for_build_editable> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\n.pkg-cpython311: build_editable> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\npy311: packaging backend failed (code=error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"), with SystemExit: error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\nno previously-included directories found matching 'doc\\_build'\r\nno previously-included directories found matching 'doc\\_spell'\r\nno previously-included directories found matching 'tests\\eggsrc\\build'\r\nC:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\wheel\\bdist_wheel.py:83: RuntimeWarning: Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect\r\n  if get_flag(\"Py_DEBUG\", hasattr(sys, \"gettotalrefcount\"), warn=(impl == \"cp\")):\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n              ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n             ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"<string>\", line 174, in build_extension\r\nBuildFailed\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n              ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n             ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\nBackend: run command build_editable with args {'wheel_directory': '.tox\\\\.pkg-cpython311\\\\dist', 'config_settings': {'--build-option': []}, 'metadata_directory': None}\r\nrunning editable_wheel\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\r\nwriting C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\PKG-INFO\r\nwriting dependency_links to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\dependency_links.txt\r\nwriting entry points to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\entry_points.txt\r\nwriting requirements to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\requires.txt\r\nwriting top-level names to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\top_level.txt\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage.egg-info\\SOURCES.txt'\r\ncreating 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage-7.2.3a0.dev1.dist-info'\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg-cpython311\\dist\\.tmp-di4cwr_0\\coverage-7.2.3a0.dev1.dist-info\\WHEEL\r\nrunning build_py\r\nrunning build_ext\r\nbuilding 'coverage.tracer' extension\r\nBackend: Wrote response {'code': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"', 'exc_type': 'SystemExit', 'exc_msg': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"'} to C:\\Users\\Jordan\\AppData\\Local\\Temp\\pep517_build_editable-a27vu3v1.json\r\npy311: FAIL \u2716 in 0.92 seconds\r\npy312: skipped because could not find python interpreter with spec(s): py312\r\npy312: SKIP \u26a0 in 0 seconds\r\npypy3: skipped because could not find python interpreter with spec(s): pypy3\r\npypy3: SKIP \u26a0 in 0 seconds\r\n.pkg: build_editable> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\ndoc: packaging backend failed (code=error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"), with SystemExit: error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\nno previously-included directories found matching 'doc\\_build'\r\nno previously-included directories found matching 'doc\\_spell'\r\nno previously-included directories found matching 'tests\\eggsrc\\build'\r\nC:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\wheel\\bdist_wheel.py:83: RuntimeWarning: Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect\r\n  if get_flag(\"Py_DEBUG\", hasattr(sys, \"gettotalrefcount\"), warn=(impl == \"cp\")):\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"<string>\", line 174, in build_extension\r\nBuildFailed\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 172, in build_extension\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 246, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 549, in build_extension\r\n    objects = self.compiler.compile(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 344, in compile\r\n    self.initialize()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 253, in initialize\r\n    vc_env = _get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 210, in msvc14_get_vc_env\r\n    return _msvc14_get_vc_env(plat_spec)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\msvc.py\", line 164, in _msvc14_get_vc_env\r\n    raise distutils.errors.DistutilsPlatformError(\r\ndistutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 140, in run\r\n    self._create_wheel_file(bdist_wheel)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 330, in _create_wheel_file\r\n    files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 261, in _run_build_commands\r\n    self._run_build_subcommands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 288, in _run_build_subcommands\r\n    self.run_command(name)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"<string>\", line 163, in run\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 468, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 494, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"<string>\", line 174, in build_extension\r\nBuildFailed\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 201, in run_commands\r\n    dist.run_commands()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 969, in run_commands\r\n    self.run_command(cmd)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\dist.py\", line 1213, in run_command\r\n    super().run_command(command)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n    cmd_obj.run()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\command\\editable_wheel.py\", line 154, in run\r\n    raise errors.InternalError(cleandoc(msg)) from ex\r\ndistutils.errors.DistutilsInternalError: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py\", line 90, in run\r\n    outcome = backend_proxy(parsed_message[\"cmd\"], **parsed_message[\"kwargs\"])\r\n  File \"C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py\", line 32, in __call__\r\n    return getattr(on_object, name)(*args, **kwargs)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 442, in build_editable\r\n    return self._build_with_temp_dir(\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 398, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\build_meta.py\", line 335, in run_setup\r\n    exec(code, locals())\r\n  File \"<string>\", line 224, in <module>\r\n  File \"<string>\", line 214, in main\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\__init__.py\", line 108, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 185, in setup\r\n    return run_commands(dist)\r\n  File \"C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 215, in run_commands\r\n    raise SystemExit(\"error: \" + str(msg))\r\nSystemExit: error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\nBackend: run command build_editable with args {'wheel_directory': '.tox\\\\.pkg\\\\dist', 'config_settings': {'--build-option': []}, 'metadata_directory': None}\r\nrunning editable_wheel\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\r\nwriting C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\PKG-INFO\r\nwriting dependency_links to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\dependency_links.txt\r\nwriting entry points to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\entry_points.txt\r\nwriting requirements to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\requires.txt\r\nwriting top-level names to C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\top_level.txt\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage.egg-info\\SOURCES.txt'\r\ncreating 'C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage-7.2.3a0.dev1.dist-info'\r\ncreating C:\\Users\\Jordan\\Desktop\\Coding\\Devmountain\\14Week\\coveragepy\\.tox\\.pkg\\dist\\.tmp-2nm_ilf8\\coverage-7.2.3a0.dev1.dist-info\\WHEEL\r\nrunning build_py\r\nrunning build_ext\r\nbuilding 'coverage.tracer' extension\r\nBackend: Wrote response {'code': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"', 'exc_type': 'SystemExit', 'exc_msg': 'error: Support for editable installs via PEP 660 was recently introduced\\nin `setuptools`. If you are seeing this error, please report to:\\n\\nhttps://github.com/pypa/setuptools/issues\\n\\nMeanwhile you can try the legacy behavior by setting an\\nenvironment variable and trying to install again:\\n\\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"'} to C:\\Users\\Jordan\\AppData\\Local\\Temp\\pep517_build_editable-fjde8_x4.json\r\ndoc: FAIL \u2716 in 0.34 seconds\r\nlint: install_deps> python -m pip install -U -r requirements/lint.pip\r\nCollecting alabaster==0.7.13\r\n  Using cached alabaster-0.7.13-py3-none-any.whl (13 kB)\r\nCollecting astroid==2.15.0\r\n  Using cached astroid-2.15.0-py3-none-any.whl (277 kB)\r\nCollecting attrs==22.2.0\r\n  Using cached attrs-22.2.0-py3-none-any.whl (60 kB)\r\nCollecting babel==2.12.1\r\n  Using cached Babel-2.12.1-py3-none-any.whl (10.1 MB)\r\nCollecting bleach==6.0.0\r\n  Using cached bleach-6.0.0-py3-none-any.whl (162 kB)\r\nCollecting build==0.10.0\r\n  Using cached build-0.10.0-py3-none-any.whl (17 kB)\r\nCollecting cachetools==5.3.0\r\n  Using cached cachetools-5.3.0-py3-none-any.whl (9.3 kB)\r\nCollecting certifi==2022.12.7\r\n  Using cached certifi-2022.12.7-py3-none-any.whl (155 kB)\r\nCollecting chardet==5.1.0\r\n  Using cached chardet-5.1.0-py3-none-any.whl (199 kB)\r\nCollecting charset-normalizer==3.1.0\r\n  Using cached charset_normalizer-3.1.0-cp310-cp310-win_amd64.whl (97 kB)\r\nCollecting check-manifest==0.49\r\n  Using cached check_manifest-0.49-py3-none-any.whl (20 kB)\r\nCollecting click==8.1.3\r\n  Using cached click-8.1.3-py3-none-any.whl (96 kB)\r\nCollecting click-log==0.4.0\r\n  Using cached click_log-0.4.0-py2.py3-none-any.whl (4.3 kB)\r\nCollecting cogapp==3.3.0\r\n  Using cached cogapp-3.3.0-py2.py3-none-any.whl (28 kB)\r\nCollecting colorama==0.4.6\r\n  Using cached colorama-0.4.6-py2.py3-none-any.whl (25 kB)\r\nCollecting dill==0.3.6\r\n  Using cached dill-0.3.6-py3-none-any.whl (110 kB)\r\nCollecting distlib==0.3.6\r\n  Using cached distlib-0.3.6-py2.py3-none-any.whl (468 kB)\r\nCollecting docutils==0.18.1\r\n  Using cached docutils-0.18.1-py2.py3-none-any.whl (570 kB)\r\nCollecting exceptiongroup==1.1.1\r\n  Using cached exceptiongroup-1.1.1-py3-none-any.whl (14 kB)\r\nCollecting execnet==1.9.0\r\n  Using cached execnet-1.9.0-py2.py3-none-any.whl (39 kB)\r\nCollecting filelock==3.10.0\r\n  Using cached filelock-3.10.0-py3-none-any.whl (9.9 kB)\r\nCollecting flaky==3.7.0\r\n  Using cached flaky-3.7.0-py2.py3-none-any.whl (22 kB)\r\nCollecting greenlet==2.0.2\r\n  Using cached greenlet-2.0.2-cp310-cp310-win_amd64.whl (192 kB)\r\nCollecting hypothesis==6.70.0\r\n  Using cached hypothesis-6.70.0-py3-none-any.whl (403 kB)\r\nCollecting idna==3.4\r\n  Using cached idna-3.4-py3-none-any.whl (61 kB)\r\nCollecting imagesize==1.4.1\r\n  Using cached imagesize-1.4.1-py2.py3-none-any.whl (8.8 kB)\r\nCollecting importlib-metadata==6.0.0\r\n  Using cached importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\r\nCollecting importlib-resources==5.12.0\r\n  Using cached importlib_resources-5.12.0-py3-none-any.whl (36 kB)\r\nCollecting iniconfig==2.0.0\r\n  Using cached iniconfig-2.0.0-py3-none-any.whl (5.9 kB)\r\nCollecting isort==5.11.5\r\n  Using cached isort-5.11.5-py3-none-any.whl (104 kB)\r\nCollecting jaraco-classes==3.2.3\r\n  Using cached jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\r\nCollecting jedi==0.18.2\r\n  Using cached jedi-0.18.2-py2.py3-none-any.whl (1.6 MB)\r\nCollecting jinja2==3.1.2\r\n  Using cached Jinja2-3.1.2-py3-none-any.whl (133 kB)\r\nCollecting keyring==23.13.1\r\n  Using cached keyring-23.13.1-py3-none-any.whl (37 kB)\r\nCollecting lazy-object-proxy==1.9.0\r\n  Using cached lazy_object_proxy-1.9.0-cp310-cp310-win_amd64.whl (22 kB)\r\nCollecting libsass==0.22.0\r\n  Using cached libsass-0.22.0-cp37-abi3-win_amd64.whl (880 kB)\r\nCollecting livereload==2.6.3\r\n  Using cached livereload-2.6.3-py2.py3-none-any.whl (24 kB)\r\nCollecting markdown-it-py==2.2.0\r\n  Using cached markdown_it_py-2.2.0-py3-none-any.whl (84 kB)\r\nCollecting markupsafe==2.1.2\r\n  Using cached MarkupSafe-2.1.2-cp310-cp310-win_amd64.whl (16 kB)\r\nCollecting mccabe==0.7.0\r\n  Using cached mccabe-0.7.0-py2.py3-none-any.whl (7.3 kB)\r\nCollecting mdurl==0.1.2\r\n  Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)\r\nCollecting more-itertools==9.1.0\r\n  Using cached more_itertools-9.1.0-py3-none-any.whl (54 kB)\r\nCollecting packaging==23.0\r\n  Using cached packaging-23.0-py3-none-any.whl (42 kB)\r\nCollecting parso==0.8.3\r\n  Using cached parso-0.8.3-py2.py3-none-any.whl (100 kB)\r\nCollecting pkginfo==1.9.6\r\n  Using cached pkginfo-1.9.6-py3-none-any.whl (30 kB)\r\nCollecting platformdirs==3.1.1\r\n  Using cached platformdirs-3.1.1-py3-none-any.whl (14 kB)\r\nCollecting pluggy==1.0.0\r\n  Using cached pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\r\nCollecting pudb==2022.1.3\r\n  Using cached pudb-2022.1.3.tar.gz (220 kB)\r\n  Preparing metadata (setup.py): started\r\n  Preparing metadata (setup.py): finished with status 'done'\r\nCollecting pyenchant==3.2.2\r\n  Using cached pyenchant-3.2.2-py3-none-win_amd64.whl (11.9 MB)\r\nCollecting pygments==2.14.0\r\n  Using cached Pygments-2.14.0-py3-none-any.whl (1.1 MB)\r\nCollecting pylint==2.17.0\r\n  Using cached pylint-2.17.0-py3-none-any.whl (535 kB)\r\nCollecting pyproject-api==1.5.1\r\n  Using cached pyproject_api-1.5.1-py3-none-any.whl (12 kB)\r\nCollecting pyproject-hooks==1.0.0\r\n  Using cached pyproject_hooks-1.0.0-py3-none-any.whl (9.3 kB)\r\nCollecting pytest==7.2.2\r\n  Using cached pytest-7.2.2-py3-none-any.whl (317 kB)\r\nCollecting pytest-xdist==3.2.1\r\n  Using cached pytest_xdist-3.2.1-py3-none-any.whl (41 kB)\r\nCollecting pytz==2022.7.1\r\n  Using cached pytz-2022.7.1-py2.py3-none-any.whl (499 kB)\r\nCollecting readme-renderer==37.3\r\n  Using cached readme_renderer-37.3-py3-none-any.whl (14 kB)\r\nCollecting requests==2.28.2\r\n  Using cached requests-2.28.2-py3-none-any.whl (62 kB)\r\nCollecting requests-toolbelt==0.10.1\r\n  Using cached requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\r\nCollecting rfc3986==2.0.0\r\n  Using cached rfc3986-2.0.0-py2.py3-none-any.whl (31 kB)\r\nCollecting rich==13.3.2\r\n  Using cached rich-13.3.2-py3-none-any.whl (238 kB)\r\nCollecting scriv==1.2.1\r\n  Using cached scriv-1.2.1-py2.py3-none-any.whl (32 kB)\r\nCollecting six==1.16.0\r\n  Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)\r\nCollecting snowballstemmer==2.2.0\r\n  Using cached snowballstemmer-2.2.0-py2.py3-none-any.whl (93 kB)\r\nCollecting sortedcontainers==2.4.0\r\n  Using cached sortedcontainers-2.4.0-py2.py3-none-any.whl (29 kB)\r\nCollecting sphinx==5.3.0\r\n  Using cached sphinx-5.3.0-py3-none-any.whl (3.2 MB)\r\nCollecting sphinx-autobuild==2021.3.14\r\n  Using cached sphinx_autobuild-2021.3.14-py3-none-any.whl (9.9 kB)\r\nCollecting sphinx-rtd-theme==1.2.0\r\n  Using cached sphinx_rtd_theme-1.2.0-py2.py3-none-any.whl (2.8 MB)\r\nCollecting sphinxcontrib-applehelp==1.0.2\r\n  Using cached sphinxcontrib_applehelp-1.0.2-py2.py3-none-any.whl (121 kB)\r\nCollecting sphinxcontrib-devhelp==1.0.2\r\n  Using cached sphinxcontrib_devhelp-1.0.2-py2.py3-none-any.whl (84 kB)\r\nCollecting sphinxcontrib-htmlhelp==2.0.0\r\n  Using cached sphinxcontrib_htmlhelp-2.0.0-py2.py3-none-any.whl (100 kB)\r\nCollecting sphinxcontrib-jquery==4.1\r\n  Using cached sphinxcontrib_jquery-4.1-py2.py3-none-any.whl (121 kB)\r\nCollecting sphinxcontrib-jsmath==1.0.1\r\n  Using cached sphinxcontrib_jsmath-1.0.1-py2.py3-none-any.whl (5.1 kB)\r\nCollecting sphinxcontrib-qthelp==1.0.3\r\n  Using cached sphinxcontrib_qthelp-1.0.3-py2.py3-none-any.whl (90 kB)\r\nCollecting sphinxcontrib-restbuilder==0.3\r\n  Using cached sphinxcontrib_restbuilder-0.3-py2.py3-none-any.whl (11 kB)\r\nCollecting sphinxcontrib-serializinghtml==1.1.5\r\n  Using cached sphinxcontrib_serializinghtml-1.1.5-py2.py3-none-any.whl (94 kB)\r\nCollecting sphinxcontrib-spelling==8.0.0\r\n  Using cached sphinxcontrib_spelling-8.0.0-py3-none-any.whl (16 kB)\r\nCollecting tomli==2.0.1\r\n  Using cached tomli-2.0.1-py3-none-any.whl (12 kB)\r\nCollecting tomlkit==0.11.6\r\n  Using cached tomlkit-0.11.6-py3-none-any.whl (35 kB)\r\nCollecting tornado==6.2\r\n  Using cached tornado-6.2-cp37-abi3-win_amd64.whl (425 kB)\r\nCollecting tox==4.4.7\r\n  Using cached tox-4.4.7-py3-none-any.whl (148 kB)\r\nCollecting tox-gh==1.0.0\r\n  Using cached tox_gh-1.0.0-py3-none-any.whl (5.9 kB)\r\nCollecting twine==4.0.2\r\n  Using cached twine-4.0.2-py3-none-any.whl (36 kB)\r\nCollecting typed-ast==1.5.4\r\n  Using cached typed_ast-1.5.4-cp310-cp310-win_amd64.whl (162 kB)\r\nCollecting typing-extensions==4.5.0\r\n  Using cached typing_extensions-4.5.0-py3-none-any.whl (27 kB)\r\nCollecting urllib3==1.26.15\r\n  Using cached urllib3-1.26.15-py2.py3-none-any.whl (140 kB)\r\nCollecting urwid==2.1.2\r\n  Using cached urwid-2.1.2.tar.gz (634 kB)\r\n  Preparing metadata (setup.py): started\r\n  Preparing metadata (setup.py): finished with status 'done'\r\nCollecting urwid-readline==0.13\r\n  Using cached urwid_readline-0.13.tar.gz (7.9 kB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nCollecting virtualenv==20.21.0\r\n  Using cached virtualenv-20.21.0-py3-none-any.whl (8.7 MB)\r\nCollecting webencodings==0.5.1\r\n  Using cached webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\r\nCollecting wrapt==1.15.0\r\n  Using cached wrapt-1.15.0-cp310-cp310-win_amd64.whl (36 kB)\r\nCollecting zipp==3.15.0\r\n  Using cached zipp-3.15.0-py3-none-any.whl (6.8 kB)\r\nCollecting pip==23.0.1\r\n  Using cached pip-23.0.1-py3-none-any.whl (2.1 MB)\r\nCollecting setuptools==65.7.0\r\n  Using cached setuptools-65.7.0-py3-none-any.whl (1.2 MB)\r\nCollecting pywin32-ctypes>=0.2.0\r\nlint: FAIL \u2716 in 21.34 seconds                                                                         b842edf10007e4547ea8157b0b9fc78599a/pywin32_ctypes-0.2.0-py2.py3-none-any.whl (from keyring==23.13.1->-r requirements/lint.pip (line 300\r\nmypy: skipped because could not find python interpreter with spec(s): python3.8\r\n.pkg: _exit> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2ip install -U -r requirements/lint.pip pid=29192kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta\r\n.pkg-cpython311: _exit> python C:\\Users\\Jordan\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_meta3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True se3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\pyproject_api\\_backend.py True setuptools.build_metatuptools.build_meta\r\n  py37: SKIP (0.00 seconds)\r\n  py38: SKIP (0.00 seconds)\r\n  py39: SKIP (0.02 seconds)\r\n  py310: FAIL code error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\" (1.09 seconds)\r\n  py311: FAIL code error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\" (0.92 seconds)\r\n  py312: SKIP (0.00 seconds)\r\n  pypy3: SKIP (0.00 seconds)\r\n  doc: FAIL code error: Support for editable installs via PEP 660 was recently introduced\r\nin `setuptools`. If you are seeing this error, please report to:\r\n\r\nhttps://github.com/pypa/setuptools/issues\r\n\r\nMeanwhile you can try the legacy behavior by setting an\r\nenvironment variable and trying to install again:\r\n\r\nSETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\" (0.33 seconds)\r\n  lint: FAIL code 1 (21.34 seconds)\r\n  mypy: SKIP (0.11 seconds)\r\n  evaluation failed :( (24.69 seconds)", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3862", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3862/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3862/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3862/events", "html_url": "https://github.com/pypa/setuptools/issues/3862", "id": 1631160392, "node_id": "I_kwDOA0bv8c5hOYhI", "number": 3862, "title": "[BUG] dynamic = [\"scripts\"] in pyproject.toml doesn't work", "user": {"login": "SpecLad", "id": 2391761, "node_id": "MDQ6VXNlcjIzOTE3NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2391761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SpecLad", "html_url": "https://github.com/SpecLad", "followers_url": "https://api.github.com/users/SpecLad/followers", "following_url": "https://api.github.com/users/SpecLad/following{/other_user}", "gists_url": "https://api.github.com/users/SpecLad/gists{/gist_id}", "starred_url": "https://api.github.com/users/SpecLad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SpecLad/subscriptions", "organizations_url": "https://api.github.com/users/SpecLad/orgs", "repos_url": "https://api.github.com/users/SpecLad/repos", "events_url": "https://api.github.com/users/SpecLad/events{/privacy}", "received_events_url": "https://api.github.com/users/SpecLad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T23:32:22Z", "updated_at": "2023-03-28T13:03:36Z", "closed_at": "2023-03-28T13:03:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===67.6.0\n\n### Python version\n\nPython 3.11.2\n\n### OS\n\nWindows 11\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI'm trying to define a project whose metadata is specified in `pyproject.toml`, but whose console scripts are defined dynamically. In `pyproject.toml`, the console scripts are defined via the `project.scripts` table, so I would expect that to do it dynamically, I would have to set `dynamic = [\"scripts\"]`. However, this doesn't work; setuptools complains that I have to set `dynamic = [\"entry-points\"]`.\r\n\n\n### Expected behavior\n\nsetuptools should emit a warning about `entry-points` not listed as dynamic if and only if `setup.py`/`setup.cfg` define any entry point groups that are not `console_scripts` or `gui_scripts`. For those, it should expect the `dynamic` field to contain `scripts` and `gui_scripts`, respectively.\r\n\r\n\n\n### How to Reproduce\n\nCreate a project like this:\r\n\r\n`pyproject.toml`:\r\n```toml\r\n[project]\r\nname = \"testproj\"\r\nversion = \"0\"\r\ndynamic = [\"scripts\"]\r\n\r\n[build-system]\r\nrequires = [\"setuptools\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n```\r\n\r\n`setup.py`:\r\n```python\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    entry_points={\r\n        \"console_scripts\": [\r\n            \"foobar=foobar:main\",\r\n        ],\r\n    },\r\n)\r\n```\r\n\r\nNow try to build a distribution.\r\n\n\n### Output\n\n```console\r\n> python .\\setup.py sdist\r\nC:\\Users\\dpb\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\setuptools\\config\\_apply_pyprojecttoml.py:103: _WouldIgnoreField: 'entry-points' defined outside of `pyproject.toml` would be ignored.\r\n    !!\r\n\r\n\r\n    ##########################################################################\r\n    # configuration would be ignored/result in error due to `pyproject.toml` #\r\n    ##########################################################################\r\n\r\n    The following seems to be defined outside of `pyproject.toml`:\r\n\r\n    `entry-points = {'console_scripts': ['foobar=foobar:main']}`\r\n\r\n    According to the spec (see the link below), however, setuptools CANNOT\r\n    consider this value unless 'entry-points' is listed as `dynamic`.\r\n\r\n    https://packaging.python.org/en/latest/specifications/declaring-project-metadata/\r\n\r\n    For the time being, `setuptools` will still consider the given value (as a\r\n    **transitional** measure), but please note that future releases of setuptools will\r\n    follow strictly the standard.\r\n\r\n    To prevent this warning, you can list 'entry-points' under `dynamic` or alternatively\r\n    remove the `[project]` table from your file and rely entirely on other means of\r\n    configuration.\r\n\r\n\r\n!!\r\n\r\n[...]\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3862/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3862/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3854", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3854/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3854/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3854/events", "html_url": "https://github.com/pypa/setuptools/issues/3854", "id": 1618741141, "node_id": "I_kwDOA0bv8c5gfAeV", "number": 3854, "title": "Problem building a setuptools dependent package on Manjaro", "user": {"login": "Ph-St", "id": 19529376, "node_id": "MDQ6VXNlcjE5NTI5Mzc2", "avatar_url": "https://avatars.githubusercontent.com/u/19529376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ph-St", "html_url": "https://github.com/Ph-St", "followers_url": "https://api.github.com/users/Ph-St/followers", "following_url": "https://api.github.com/users/Ph-St/following{/other_user}", "gists_url": "https://api.github.com/users/Ph-St/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ph-St/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ph-St/subscriptions", "organizations_url": "https://api.github.com/users/Ph-St/orgs", "repos_url": "https://api.github.com/users/Ph-St/repos", "events_url": "https://api.github.com/users/Ph-St/events{/privacy}", "received_events_url": "https://api.github.com/users/Ph-St/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-10T10:32:15Z", "updated_at": "2023-03-10T14:58:10Z", "closed_at": "2023-03-10T14:57:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.1.0-1\n\n### Python version\n\nPython 3.10.9\n\n### OS\n\nManjaro Linux\n\n### Additional environment information\n\nThis seems to be a Manjaro specific problem (see below)\n\n### Description\n\nI'm trying to update python-eduvpn-client to new version 4.0.1-2.\r\n\r\nIn the process, I get the following error:\r\n\r\n```\r\nFile \"/usr/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 253, in finalize_options\r\n        if pd is not None and pd.key == self.egg_name.lower():\r\n    AttributeError: 'PathDistribution' object has no attribute 'key'\r\n\r\n    ERROR Backend subprocess exited when trying to invoke build_wheel\r\n    ==> ERROR: An error occurred in build().\r\n        Aborting...\r\n    Error: can not build \u201apython-eduvpn-client-4.0.0-1\u2018:\r\n    Error: can not build package: python-eduvpn-client-4.0.0-1\r\n```\r\n\r\nAccording to the maintainer of python-eduvpn-client (https://aur.archlinux.org/packages/python-eduvpn-client#comment-904944), this points to a problem with setuptools, that's why I'm reporting this here.\n\n### Expected behavior\n\nBuilding of python-eduvpn-client completes with no errors.\n\n### How to Reproduce\n\n1. On current Manjaro, update python-eduvpn-client from 3.1.0-2 to 4.0.1-2.\r\n2. Building fails with above error message\n\n### Output\n\n```\r\nFile \"/usr/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 253, in finalize_options\r\n        if pd is not None and pd.key == self.egg_name.lower():\r\n    AttributeError: 'PathDistribution' object has no attribute 'key'\r\n\r\n    ERROR Backend subprocess exited when trying to invoke build_wheel\r\n    ==> ERROR: An error occurred in build().\r\n        Aborting...\r\n    Error: can not build \u201apython-eduvpn-client-4.0.0-1\u2018:\r\n    Error: can not build package: python-eduvpn-client-4.0.0-1\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3845", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3845/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3845/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3845/events", "html_url": "https://github.com/pypa/setuptools/issues/3845", "id": 1612488885, "node_id": "I_kwDOA0bv8c5gHKC1", "number": 3845, "title": "[BUG] PackageFinder unnecessarily traverses file system before filtering include/exclude packages", "user": {"login": "vkottler", "id": 15205052, "node_id": "MDQ6VXNlcjE1MjA1MDUy", "avatar_url": "https://avatars.githubusercontent.com/u/15205052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vkottler", "html_url": "https://github.com/vkottler", "followers_url": "https://api.github.com/users/vkottler/followers", "following_url": "https://api.github.com/users/vkottler/following{/other_user}", "gists_url": "https://api.github.com/users/vkottler/gists{/gist_id}", "starred_url": "https://api.github.com/users/vkottler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vkottler/subscriptions", "organizations_url": "https://api.github.com/users/vkottler/orgs", "repos_url": "https://api.github.com/users/vkottler/repos", "events_url": "https://api.github.com/users/vkottler/events{/privacy}", "received_events_url": "https://api.github.com/users/vkottler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-03-07T00:56:24Z", "updated_at": "2023-03-08T10:17:10Z", "closed_at": "2023-03-08T10:17:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==67.5.1\n\n### Python version\n\nPython 3.7.4\n\n### OS\n\nUbuntu 16.04 LTS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThere's a warning about this in the documentation: https://setuptools.pypa.io/en/latest/userguide/package_discovery.html#finding-namespace-packages\r\n\r\n![image](https://user-images.githubusercontent.com/15205052/223291020-4fddbe5f-2107-4e67-865c-6c4add076e21.png)\r\n\r\nThe problem is that the \"A simple way to fix this...\" sentence isn't true, because something like a symbolic link to another part of the file system in the project root will brick package building unnecessarily.\n\n### Expected behavior\n\nWhen `find_namespace_packages` is provided `include` and/or `exclude` arguments, this information should be sufficient to avoid walking parts of the file system that are not part of the Python package project.\n\n### How to Reproduce\n\nCreate a symbolic link to another part of a host's file system in the root of a Python package project and attempt to build the project.\r\n\r\nIf there are enough files, this will cause package building to hang, trying to compute what things are a part of the package in a foreign domain w.r.t what `setuptools` is told is the domain of the package's sources.\n\n### Output\n\nThis results in e.g. `python -m build .` appearing to hang when `setup.py` is trying to compute \"what are the packages\", which is unexpected because the result is simple to compute.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3842", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3842/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3842/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3842/events", "html_url": "https://github.com/pypa/setuptools/issues/3842", "id": 1608929727, "node_id": "I_kwDOA0bv8c5f5lG_", "number": 3842, "title": "[BUG] Import process in submodule fails under certain conditions when using pyproject.toml", "user": {"login": "alfa0112", "id": 48952282, "node_id": "MDQ6VXNlcjQ4OTUyMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/48952282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alfa0112", "html_url": "https://github.com/alfa0112", "followers_url": "https://api.github.com/users/alfa0112/followers", "following_url": "https://api.github.com/users/alfa0112/following{/other_user}", "gists_url": "https://api.github.com/users/alfa0112/gists{/gist_id}", "starred_url": "https://api.github.com/users/alfa0112/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alfa0112/subscriptions", "organizations_url": "https://api.github.com/users/alfa0112/orgs", "repos_url": "https://api.github.com/users/alfa0112/repos", "events_url": "https://api.github.com/users/alfa0112/events{/privacy}", "received_events_url": "https://api.github.com/users/alfa0112/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-03T16:30:38Z", "updated_at": "2023-03-03T19:02:17Z", "closed_at": "2023-03-03T17:30:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools===65.5.0\r\n\r\n### Python version\r\n\r\nPython 3.11.2\r\n\r\n### OS\r\n\r\nWindows 10 Home\r\n\r\n### Additional environment information\r\n\r\n```\r\n$ pip list\r\nPackage    Version\r\n---------- -------\r\nnumpy      1.24.2\r\npip        23.0.1\r\nsetuptools 65.5.0\r\n```\r\n\r\n```\r\n$ tree test_project /f\r\ntest_project\r\n\u251c\u2500pkg\r\n\u2502  \u2502  module1.py\r\n\u2502  \u2502  __init__.py\r\n\u2502  \u2514\u2500 __version__.py\r\n\u2502\r\n\u2514\u2500pyproject.toml\r\n```\r\n\r\n### Description\r\n\r\nIn the `__init__.py` of the package\r\n\r\n- Import `__version__` from `__version__.py`\r\n- Import classes from submodules\r\n\r\nAn error occurs during the submodule import process if I do.\r\n\r\n---\r\n\r\nAlso, the phenomenon did not occur when the following changes were made\r\n- When `__version__` is declared in `__init__.py`\r\n```python\r\n#__init__.py\r\n# from .__version__ import __version__\r\n__version__ = \"0.1.0\"\r\n\r\nfrom .module1 import AwesomeClass\r\n\r\n```\r\n- When `import numpy` is deleted from `module1.py`\r\n```python\r\n# import numpy\r\n\r\nclass AwesomeClass:\r\n    pass\r\n\r\n```\r\n\r\nThe following changes caused the problem\r\n- Create module2.py and change `import numpy` in `module1.py` to `import .module2`\r\n```python\r\n# import numpy\r\nimport .module2\r\n\r\nclass AwesomeClass:\r\n    pass\r\n\r\n```\r\n\r\nThanks for your help!\r\n\r\n### Expected behavior\r\n\r\nInstallation is completed.\r\n\r\n### How to Reproduce\r\n\r\nThe following is a minimally configured reproducible script.\r\n\r\n```python\r\n# __init__.py\r\nfrom .__version__ import __version__\r\n\r\nfrom .module1 import AwesomeClass\r\n\r\n```\r\n\r\n```python\r\n# __version__.py\r\n__version__ = \"0.1.0\"\r\n\r\n```\r\n\r\n```python\r\n# module1.py\r\nimport numpy\r\n\r\nclass AwesomeClass:\r\n    pass\r\n\r\n```\r\n\r\n```toml\r\n# pyproject.toml\r\n[build-system]\r\nrequires = [\"setuptools\", \"setuptools_scm\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"test\"\r\ndynamic = [\"version\"]\r\ndependencies = [\r\n  \"numpy\"\r\n]\r\n\r\n[tool.setuptools.dynamic]\r\nversion = {attr = \"pkg.__version__\"}\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n$ pip install test_project/\r\nProcessing d:\\users\\alfa\\desktop\\dev\\python\\test\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [84 lines of output]\r\n      C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*. \r\n        warnings.warn(msg, _BetaConfiguration)\r\n      No `packages` or `py_modules` configuration, performing automatic discovery.\r\n      `src-layout` detected -- analysing .\\src\r\n      discovered packages -- ['pkg']\r\n      discovered py_modules -- []\r\n      Traceback (most recent call last):\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\expand.py\", line 81, in __getattr__\r\n          return next(\r\n                 ^^^^^\r\n      StopIteration\r\n     \r\n      The above exception was the direct cause of the following exception:\r\n     \r\n      Traceback (most recent call last):\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\expand.py\", line 191, in read_attr\r\n          return getattr(StaticModule(module_name, spec), attr_name)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\expand.py\", line 87, in __getattr__\r\n          raise AttributeError(f\"{self.name} has no attribute {attr}\") from e\r\n      AttributeError: pkg has no attribute __version__\r\n     \r\n      During handling of the above exception, another exception occurred:\r\n     \r\n      Traceback (most recent call last):\r\n        File \"D:\\Users\\Alfa\\Desktop\\Dev\\python\\test\\venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 353, in <module>\r\n          main()\r\n        File \"D:\\Users\\Alfa\\Desktop\\Dev\\python\\test\\venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 335, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"D:\\Users\\Alfa\\Desktop\\Dev\\python\\test\\venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 118, in get_requires_for_build_wheel\r\n          return hook(config_settings)\r\n                 ^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 338, in get_requires_for_build_wheel\r\n          return self._get_build_requires(config_settings, requirements=['wheel'])\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 320, in _get_build_requires\r\n          self.run_setup()\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 335, in run_setup\r\n          exec(code, locals())\r\n        File \"<string>\", line 1, in <module>\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\__init__.py\", line 108, in setup\r\n          return distutils.core.setup(**attrs)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 159, in setup\r\n          dist.parse_config_files()\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 885, in parse_config_files\r\n          pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 62, in apply_configuration\r\n          config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 140, in read_configuration\r\n          return expand_configuration(asdict, root_dir, ignore_option_errors, dist)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 195, in expand_configuration\r\n          return _ConfigExpander(config, root_dir, ignore_option_errors, dist).expand()\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 243, in expand\r\n          self._expand_all_dynamic(dist, package_dir)\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 288, in _expand_all_dynamic\r\n          version=self._obtain_version(dist, package_dir),\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 337, in _obtain_version\r\n          return _expand.version(self._obtain(dist, \"version\", package_dir))\r\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 326, in _obtain\r\n          return self._expand_directive(\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\pyprojecttoml.py\", line 320, in _expand_directive\r\n          return _expand.read_attr(directive[\"attr\"], package_dir, root_dir)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\expand.py\", line 194, in read_attr\r\n          module = _load_spec(spec, module_name)\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\syana\\AppData\\Local\\Temp\\pip-build-env-9tepn12u\\overlay\\Lib\\site-packages\\setuptools\\config\\expand.py\", line 214, in _load_spec\r\n          spec.loader.exec_module(module)  # type: ignore\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"<frozen importlib._bootstrap_external>\", line 940, in exec_module\r\n        File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n        File \"D:\\Users\\Alfa\\Desktop\\Dev\\python\\test\\src\\pkg\\__init__.py\", line 3, in <module>\r\n          from .module1 import AwesomeClass\r\n        File \"D:\\Users\\Alfa\\Desktop\\Dev\\python\\test\\src\\pkg\\module1.py\", line 1, in <module>\r\n          import numpy\r\n      ModuleNotFoundError: No module named 'numpy'\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3842/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3840", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3840/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3840/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3840/events", "html_url": "https://github.com/pypa/setuptools/issues/3840", "id": 1603462705, "node_id": "I_kwDOA0bv8c5fkuYx", "number": 3840, "title": "[BUG] Setuptools causes failure when parsing environment marker with parentheses", "user": {"login": "amarkules1", "id": 23044681, "node_id": "MDQ6VXNlcjIzMDQ0Njgx", "avatar_url": "https://avatars.githubusercontent.com/u/23044681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amarkules1", "html_url": "https://github.com/amarkules1", "followers_url": "https://api.github.com/users/amarkules1/followers", "following_url": "https://api.github.com/users/amarkules1/following{/other_user}", "gists_url": "https://api.github.com/users/amarkules1/gists{/gist_id}", "starred_url": "https://api.github.com/users/amarkules1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amarkules1/subscriptions", "organizations_url": "https://api.github.com/users/amarkules1/orgs", "repos_url": "https://api.github.com/users/amarkules1/repos", "events_url": "https://api.github.com/users/amarkules1/events{/privacy}", "received_events_url": "https://api.github.com/users/amarkules1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-28T17:09:40Z", "updated_at": "2023-02-28T19:03:56Z", "closed_at": "2023-02-28T19:03:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools >= 67.0.0\n\n### Python version\n\nPython 3.9, Python 3.10, likely others\n\n### OS\n\nWindows 10, Ubuntu 20.04, likely others\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nRan into an error after upgrading to setuptools 67.4.0 and trying to build the wheel files for a project. It appears the new version is causing some issue when parsing an environment marker. The requirements.txt file I believe it is reading from has a space and right parenthesis after the \"or\" where the log seems to indicate a missing character. Editing the Pipfile to use an earlier version of setuptools fixes the issue.\r\n\n\n### Expected behavior\n\nI expect setuptools to interpret the environment marker correctly, and to not prevent me from building wheel files for my projects\n\n### How to Reproduce\n\n1. Clone https://github.com/amarkules1/setuptools-bug-example.git\r\n2. Run build_wheels.sh (assumes python3 and pipenv are installed)\r\n3. Observe output in console.\n\n### Output\n\n```console\r\n./build_wheels.sh\r\nPipfile.lock not found, creating...\r\nLocking [packages] dependencies...\r\n           Building requirements...\r\nResolving dependencies...\r\nSuccess!\r\nLocking [dev-packages] dependencies...\r\nUpdated Pipfile.lock (c80165ac5802f8af0a9f6de3928ddce43d36ad09f1fa4f37384dd7d5826d8505)!\r\nInstalling dependencies from Pipfile.lock (6d8505)...\r\nTo activate this project's virtualenv, run pipenv shell.\r\nAlternatively, run a command inside the virtualenv with pipenv run.\r\nProcessing c:\\dev\\setuptools-bug-example\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [54 lines of output]\r\n      [pbr] Generating ChangeLog\r\n      C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\setuptools\\command\\easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n        warnings.warn(\r\n      C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\setuptools\\command\\install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n        warnings.warn(\r\n      Marker evaluation failed, see the following error.  For more information see: http://docs.openstack.org/pbr/latest/user/using.html#environment-markers\r\n      Error parsing\r\n      Traceback (most recent call last):\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\markers.py\", line 192, in __init__\r\n          self._markers = _normalize_extra_values(parse_marker(marker))\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\_parser.py\", line 234, in parse_marker\r\n          return _parse_marker(Tokenizer(source, rules=DEFAULT_RULES))\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\_parser.py\", line 241, in _parse_marker\r\n          expression = [_parse_marker_atom(tokenizer)]\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\_parser.py\", line 260, in _parse_marker_atom\r\n          tokenizer.consume(\"WS\")\r\n        File \"C:\\Users\\amarkules\\AppData\\Local\\Programs\\Python\\Python39\\lib\\contextlib.py\", line 126, in __exit__\r\n          next(self.gen)\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\_tokenizer.py\", line 183, in enclosing_tokens\r\n          self.raise_syntax_error(\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\_vendor\\packaging\\_tokenizer.py\", line 163, in raise_syntax_error\r\n          raise ParserSyntaxError(\r\n      pkg_resources.extern.packaging._tokenizer.ParserSyntaxError: Expected closing RIGHT_PARENTHESIS\r\n          (platform_machine == 'aarch64' orplatform_machine == 'ppc64le' or (platform_machine == 'x86_64' or (platform_machine == 'amd64' or (platform_machine == 'AMD64' or (platform_machine == 'win32' or platform_machine == 'WIN32')))\r\n))\r\n          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\r\n     \r\n      The above exception was the direct cause of the following exception:\r\n     \r\n      Traceback (most recent call last):\r\n        File \"C:\\dev\\setuptools-bug-example\\.venv\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1432, in evaluate_marker\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3824", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3824/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3824/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3824/events", "html_url": "https://github.com/pypa/setuptools/issues/3824", "id": 1585600244, "node_id": "I_kwDOA0bv8c5eglb0", "number": 3824, "title": "Some namespace packages rely on `setuptools` importing `pkg_resources` during build, which is not necessarily true in 67.3.1", "user": {"login": "mnasiadka", "id": 16347957, "node_id": "MDQ6VXNlcjE2MzQ3OTU3", "avatar_url": "https://avatars.githubusercontent.com/u/16347957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnasiadka", "html_url": "https://github.com/mnasiadka", "followers_url": "https://api.github.com/users/mnasiadka/followers", "following_url": "https://api.github.com/users/mnasiadka/following{/other_user}", "gists_url": "https://api.github.com/users/mnasiadka/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnasiadka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnasiadka/subscriptions", "organizations_url": "https://api.github.com/users/mnasiadka/orgs", "repos_url": "https://api.github.com/users/mnasiadka/repos", "events_url": "https://api.github.com/users/mnasiadka/events{/privacy}", "received_events_url": "https://api.github.com/users/mnasiadka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-02-15T10:25:19Z", "updated_at": "2023-02-16T13:45:13Z", "closed_at": "2023-02-16T13:45:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===67.3.1\n\n### Python version\n\nPython 3.9\n\n### OS\n\nCentOS Stream 9 / Rocky Linux 9\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nHappening on a regular build of OpenStack Kolla container images installing OpenStack Horizon (and dependencies) using pip:\r\n\r\nLOG: https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_046/873875/1/check/kolla-build-rocky9/0467a01/kolla/build/000_FAILED_horizon.log\r\n\r\n\n\n### Expected behavior\n\nInstallation successful (like in 67.2.0)\n\n### How to Reproduce\n\nUse setuptools 67.3.0 and run exact commands as in linked Log file.\n\n### Output\n\n```console\r\nINFO:kolla.common.utils.horizon:Collecting XStatic-Moment-Timezone>=0.5.22.0\r\nINFO:kolla.common.utils.horizon:  Downloading http://mirror-int.iad.rax.opendev.org:8080/pypifiles/packages/77/8d/a3a89a0b2b18086b1c7c9c754decefb813715d870df3adcdcf1ca687ff70/XStatic-Moment-Timezone-0.5.22.0.tar.gz (99 kB)\r\nINFO:kolla.common.utils.horizon:     \u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081\u00e2\u201d\u0081 99.7/99.7 kB 132.6 MB/s eta 0:00:00\r\nINFO:kolla.common.utils.horizon:  Preparing metadata (setup.py): started\r\nINFO:kolla.common.utils.horizon:  Preparing metadata (setup.py): finished with status 'error'\r\nINFO:kolla.common.utils.horizon:\u001b[91m  error: subprocess-exited-with-error\r\nINFO:kolla.common.utils.horizon:  \r\nINFO:kolla.common.utils.horizon:  \u00c3\u2014 python setup.py egg_info did not run successfully.\r\nINFO:kolla.common.utils.horizon:  \u00e2\u201d\u201a exit code: 1\r\nINFO:kolla.common.utils.horizon:  \u00e2\u2022\u00b0\u00e2\u201d\u20ac> [6 lines of output]\r\nINFO:kolla.common.utils.horizon:      Traceback (most recent call last):\r\nINFO:kolla.common.utils.horizon:        File \"<string>\", line 2, in <module>\r\nINFO:kolla.common.utils.horizon:        File \"<pip-setuptools-caller>\", line 34, in <module>\r\nINFO:kolla.common.utils.horizon:        File \"/tmp/pip-install-5b3r3by_/xstatic-moment-timezone_8aa6c912d03148cc8a3bf51bd5942cbf/setup.py\", line 2, in <module>\r\nINFO:kolla.common.utils.horizon:          from xstatic.pkg import moment_timezone as xs\r\nINFO:kolla.common.utils.horizon:      ImportError: cannot import name 'moment_timezone' from 'xstatic.pkg' (unknown location)\r\nINFO:kolla.common.utils.horizon:      [end of output]\r\nINFO:kolla.common.utils.horizon:  \r\nINFO:kolla.common.utils.horizon:  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nINFO:kolla.common.utils.horizon:\u001b[0m\r\nINFO:kolla.common.utils.horizon:\u001b[91merror: metadata-generation-failed\r\nINFO:kolla.common.utils.horizon:\u00c3\u2014 Encountered error while generating package metadata.\r\nINFO:kolla.common.utils.horizon:\u00e2\u2022\u00b0\u00e2\u201d\u20ac> See above for output.\r\nINFO:kolla.common.utils.horizon:note: This is an issue with the package mentioned above, not pip.\r\nINFO:kolla.common.utils.horizon:hint: See above for details.\r\nINFO:kolla.common.utils.horizon:\u001b[0m\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3824/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3820", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3820/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3820/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3820/events", "html_url": "https://github.com/pypa/setuptools/issues/3820", "id": 1581326337, "node_id": "I_kwDOA0bv8c5eQSAB", "number": 3820, "title": "[BUG] distutils.ccompiler.CCompiler.has_function does not quote provided includes anymore", "user": {"login": "rokm", "id": 5579125, "node_id": "MDQ6VXNlcjU1NzkxMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5579125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rokm", "html_url": "https://github.com/rokm", "followers_url": "https://api.github.com/users/rokm/followers", "following_url": "https://api.github.com/users/rokm/following{/other_user}", "gists_url": "https://api.github.com/users/rokm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rokm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rokm/subscriptions", "organizations_url": "https://api.github.com/users/rokm/orgs", "repos_url": "https://api.github.com/users/rokm/repos", "events_url": "https://api.github.com/users/rokm/events{/privacy}", "received_events_url": "https://api.github.com/users/rokm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-02-12T16:45:45Z", "updated_at": "2023-02-20T14:46:52Z", "closed_at": "2023-02-20T14:46:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.2.0\n\n### Python version\n\n3.x\n\n### OS\n\nLinux (but presumably applicable to all)\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nAs of 56a5b333b2a8064c000d18ac0629385100957db0 (setuptools 67.2.0), the `distutils.ccompiler.CCompiler.has_function` in the `setuptools`-provided `distutils` ceased to quote the provided `includes` in the generated test C file ([here](https://github.com/pypa/setuptools/blob/bfd92b008cbda2c1252eddd2f3e54b91f61969fb/setuptools/_distutils/ccompiler.py#L863)).\r\n\r\nTherefore, the compilation of the generated test C file always fails.\n\n### Expected behavior\n\nThe provided `includes` should be quoted ([as before the change](https://github.com/pypa/setuptools/blob/8032430d75cdfad9f9826d302d90cd7b23dea3ca/setuptools/_distutils/ccompiler.py#L848)) to retain compatibility with older code using this function.\n\n### How to Reproduce\n\n1. Run the following test code on Linux:\r\n\r\n```python\r\n# program.py\r\nimport distutils.ccompiler\r\n\r\n# Check for `clock` function in the standard library\r\ncc = distutils.ccompiler.new_compiler()\r\nhas_clock = cc.has_function('clock', includes=['time.h'])\r\nprint(\"Has clock:\" , has_clock)\r\n``` \r\n\n\n### Output\n\nWith `setuptools 67.2.0`:\r\n```console\r\n$ python program.py \r\n/tmp/clocku2l593gf.c:1:10: error: #include expects \"FILENAME\" or <FILENAME>\r\n    1 | #include time.h\r\n      |          ^~~~\r\n/tmp/clocku2l593gf.c: In function \u2018main\u2019:\r\n/tmp/clocku2l593gf.c:3:5: warning: implicit declaration of function \u2018clock\u2019 [-Wimplicit-function-declaration]\r\n    3 |     clock();\r\n      |     ^~~~~\r\n/tmp/clocku2l593gf.c:1:1: note: \u2018clock\u2019 is defined in header \u2018<time.h>\u2019; did you forget to \u2018#include <time.h>\u2019?\r\n  +++ |+#include <time.h>\r\n    1 | #include time.h\r\nHas clock: False\r\n```\r\n\r\nWith `setuptools 67.1.0`:\r\n```console\r\n$ python program.py \r\nHas clock: True\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3817", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3817/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3817/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3817/events", "html_url": "https://github.com/pypa/setuptools/issues/3817", "id": 1580729359, "node_id": "I_kwDOA0bv8c5eOAQP", "number": 3817, "title": "[BUG] Can't exclude some of test code when build sdist", "user": {"login": "yukihiko-shinoda", "id": 17278878, "node_id": "MDQ6VXNlcjE3Mjc4ODc4", "avatar_url": "https://avatars.githubusercontent.com/u/17278878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yukihiko-shinoda", "html_url": "https://github.com/yukihiko-shinoda", "followers_url": "https://api.github.com/users/yukihiko-shinoda/followers", "following_url": "https://api.github.com/users/yukihiko-shinoda/following{/other_user}", "gists_url": "https://api.github.com/users/yukihiko-shinoda/gists{/gist_id}", "starred_url": "https://api.github.com/users/yukihiko-shinoda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yukihiko-shinoda/subscriptions", "organizations_url": "https://api.github.com/users/yukihiko-shinoda/orgs", "repos_url": "https://api.github.com/users/yukihiko-shinoda/repos", "events_url": "https://api.github.com/users/yukihiko-shinoda/events{/privacy}", "received_events_url": "https://api.github.com/users/yukihiko-shinoda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-11T08:20:26Z", "updated_at": "2023-02-13T06:43:33Z", "closed_at": "2023-02-13T06:43:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==67.2.0\r\n\r\n### Python version\r\n\r\n3.10.6\r\n\r\n### OS\r\n\r\nDebian GNU/Linux 11 (bullseye)\r\n\r\n### Additional environment information\r\n\r\n```console\r\nPackage         Version\r\n--------------- -------\r\nbuild           0.10.0\r\npackaging       23.0\r\npip             23.0\r\npyproject_hooks 1.0.0\r\nsetuptools      67.2.0\r\ntomli           2.0.1\r\nwheel           0.38.4\r\n```\r\n\r\n### Description\r\n\r\nWhen build sdist, some of test codes are included.\r\n\r\n- When built in 2022-09-29, test codes are not included.\r\n  - However, I couldn't reproduce past behavior by rollbacking package versions.\r\n  - I don't change any settings like [`pyproject.toml`](https://github.com/yukihiko-shinoda/pyvelocity/blob/ac59391ad13df8880e209ec603970da398a64f95/pyproject.toml#L58) since last time I built.\r\n  - Even I change `pyproject.toml`, I couldn't exclude test package.\r\n    - For example, remove `[tool.setuptools.packages.find]` block\r\n- Wheel is no problem, test code were successfully excluded.\r\n- I couldn't identify what package and code cause this behavior change.\r\n- `python setup.py sdist` doesn't includes test code.\r\n- It seems undecided whether tests should be included or not:\r\n  - [Should sdists include docs and tests? - Packaging - Discussions on Python.org](https://discuss.python.org/t/should-sdists-include-docs-and-tests/14578/5)\r\n- There are no mention of specifications about whether tests should be included or not in official docs:\r\n  - [The Internal Structure of Python Eggs - setuptools 67.2.0.post20230207 documentation](https://setuptools.pypa.io/en/latest/deprecated/python_eggs.html#sources-txt-source-files-manifest)\r\n- Relates?: #3243\r\n\r\n### Expected behavior\r\n\r\nExclude tests directory from sdist. (original behavior)\r\n\r\n### How to Reproduce\r\n\r\n1\\.\r\nClone this project:\r\n[yukihiko-shinoda/pyvelocity: Automates task to check configurations about Python project to follow best practices to increase development velocity.](https://github.com/yukihiko-shinoda/pyvelocity)\r\n\r\n2\\.\r\nInstall dependencies:\r\n\r\n```console\r\npip install setuptools==67.2.0 build==0.10.0 pyproject_hooks==1.0.0 tomli=2.0.1\r\n```\r\n\r\n3\\.\r\nBuild:\r\n\r\n```console\r\npython -m build\r\n```\r\n\r\n4\\.\r\nCheck sdist:\r\n\r\n```console\r\ntar tf dist/*.tar.gz\r\n```\r\n\r\n\r\n### Output\r\n\r\n<details>\r\n  <summary>Click me</summary>\r\n\r\n```console\r\npyvelocity-0.1.2/\r\npyvelocity-0.1.2/LICENSE\r\npyvelocity-0.1.2/PKG-INFO\r\npyvelocity-0.1.2/README.md\r\npyvelocity-0.1.2/pyproject.toml\r\npyvelocity-0.1.2/pyvelocity/\r\npyvelocity-0.1.2/pyvelocity/__init__.py\r\npyvelocity-0.1.2/pyvelocity/checks/\r\npyvelocity-0.1.2/pyvelocity/checks/__init__.py\r\npyvelocity-0.1.2/pyvelocity/checks/aggregation.py\r\npyvelocity-0.1.2/pyvelocity/checks/line_length.py\r\npyvelocity-0.1.2/pyvelocity/checks/using_py_project_toml.py\r\npyvelocity-0.1.2/pyvelocity/cli.py\r\npyvelocity-0.1.2/pyvelocity/configurations/\r\npyvelocity-0.1.2/pyvelocity/configurations/__init__.py\r\npyvelocity-0.1.2/pyvelocity/configurations/aggregation.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/\r\npyvelocity-0.1.2/pyvelocity/configurations/files/__init__.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/aggregation.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/py_project_toml.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/__init__.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/black.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/docformatter.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/factory.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/flake8.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/isort.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/pylint/\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/pylint/__init__.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/sections/pyvelocity.py\r\npyvelocity-0.1.2/pyvelocity/configurations/files/setup_cfg.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/__init__.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/black.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/docformatter.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/flake8.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/isort.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/pylint.py\r\npyvelocity-0.1.2/pyvelocity/configurations/tools/pyvelocity.py\r\npyvelocity-0.1.2/pyvelocity/py.typed\r\npyvelocity-0.1.2/pyvelocity/pyvelocity.py\r\npyvelocity-0.1.2/pyvelocity.egg-info/\r\npyvelocity-0.1.2/pyvelocity.egg-info/PKG-INFO\r\npyvelocity-0.1.2/pyvelocity.egg-info/SOURCES.txt\r\npyvelocity-0.1.2/pyvelocity.egg-info/dependency_links.txt\r\npyvelocity-0.1.2/pyvelocity.egg-info/entry_points.txt\r\npyvelocity-0.1.2/pyvelocity.egg-info/not-zip-safe\r\npyvelocity-0.1.2/pyvelocity.egg-info/requires.txt\r\npyvelocity-0.1.2/pyvelocity.egg-info/top_level.txt\r\npyvelocity-0.1.2/setup.cfg\r\npyvelocity-0.1.2/setup.py\r\npyvelocity-0.1.2/tests/\r\npyvelocity-0.1.2/tests/test_cli.py\r\n```\r\n\r\n</details>\r\n\r\nThis seams to depends exported `SOURCES.txt`:\r\n\r\n<details>\r\n  <summary>Click me</summary>\r\n\r\n```plaintext\r\nLICENSE\r\nREADME.md\r\npyproject.toml\r\nsetup.cfg\r\nsetup.py\r\npyvelocity/__init__.py\r\npyvelocity/cli.py\r\npyvelocity/py.typed\r\npyvelocity/pyvelocity.py\r\npyvelocity.egg-info/PKG-INFO\r\npyvelocity.egg-info/SOURCES.txt\r\npyvelocity.egg-info/dependency_links.txt\r\npyvelocity.egg-info/entry_points.txt\r\npyvelocity.egg-info/not-zip-safe\r\npyvelocity.egg-info/requires.txt\r\npyvelocity.egg-info/top_level.txt\r\npyvelocity/checks/__init__.py\r\npyvelocity/checks/aggregation.py\r\npyvelocity/checks/line_length.py\r\npyvelocity/checks/using_py_project_toml.py\r\npyvelocity/configurations/__init__.py\r\npyvelocity/configurations/aggregation.py\r\npyvelocity/configurations/files/__init__.py\r\npyvelocity/configurations/files/aggregation.py\r\npyvelocity/configurations/files/py_project_toml.py\r\npyvelocity/configurations/files/setup_cfg.py\r\npyvelocity/configurations/files/sections/__init__.py\r\npyvelocity/configurations/files/sections/black.py\r\npyvelocity/configurations/files/sections/docformatter.py\r\npyvelocity/configurations/files/sections/factory.py\r\npyvelocity/configurations/files/sections/flake8.py\r\npyvelocity/configurations/files/sections/isort.py\r\npyvelocity/configurations/files/sections/pyvelocity.py\r\npyvelocity/configurations/files/sections/pylint/__init__.py\r\npyvelocity/configurations/tools/__init__.py\r\npyvelocity/configurations/tools/black.py\r\npyvelocity/configurations/tools/docformatter.py\r\npyvelocity/configurations/tools/flake8.py\r\npyvelocity/configurations/tools/isort.py\r\npyvelocity/configurations/tools/pylint.py\r\npyvelocity/configurations/tools/pyvelocity.py\r\ntests/test_cli.py\r\n```\r\n\r\n</details>\r\n\r\nHowever, the cache of `SOURCES.txt` when built in 2022-09-29 is:\r\n\r\n<details>\r\n  <summary>Click me</summary>\r\n\r\n```plaintext\r\nLICENSE\r\nREADME.md\r\npyproject.toml\r\nsetup.cfg\r\nsetup.py\r\npyvelocity/__init__.py\r\npyvelocity/cli.py\r\npyvelocity/py.typed\r\npyvelocity/pyvelocity.py\r\npyvelocity.egg-info/PKG-INFO\r\npyvelocity.egg-info/SOURCES.txt\r\npyvelocity.egg-info/dependency_links.txt\r\npyvelocity.egg-info/entry_points.txt\r\npyvelocity.egg-info/not-zip-safe\r\npyvelocity.egg-info/requires.txt\r\npyvelocity.egg-info/top_level.txt\r\npyvelocity/checks/__init__.py\r\npyvelocity/checks/aggregation.py\r\npyvelocity/checks/line_length.py\r\npyvelocity/checks/using_py_project_toml.py\r\npyvelocity/configurations/__init__.py\r\npyvelocity/configurations/aggregation.py\r\npyvelocity/configurations/files/__init__.py\r\npyvelocity/configurations/files/aggregation.py\r\npyvelocity/configurations/files/py_project_toml.py\r\npyvelocity/configurations/files/setup_cfg.py\r\npyvelocity/configurations/files/sections/__init__.py\r\npyvelocity/configurations/files/sections/black.py\r\npyvelocity/configurations/files/sections/docformatter.py\r\npyvelocity/configurations/files/sections/factory.py\r\npyvelocity/configurations/files/sections/flake8.py\r\npyvelocity/configurations/files/sections/isort.py\r\npyvelocity/configurations/files/sections/pyvelocity.py\r\npyvelocity/configurations/files/sections/pylint/__init__.py\r\npyvelocity/configurations/tools/__init__.py\r\npyvelocity/configurations/tools/black.py\r\npyvelocity/configurations/tools/docformatter.py\r\npyvelocity/configurations/tools/flake8.py\r\npyvelocity/configurations/tools/isort.py\r\npyvelocity/configurations/tools/pylint.py\r\npyvelocity/configurations/tools/pyvelocity.py\r\n```\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3817/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3807", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3807/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3807/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3807/events", "html_url": "https://github.com/pypa/setuptools/issues/3807", "id": 1568830257, "node_id": "I_kwDOA0bv8c5dgnMx", "number": 3807, "title": "[BUG] Cannot use .* with >= in version specifiers", "user": {"login": "whitequark", "id": 54771, "node_id": "MDQ6VXNlcjU0Nzcx", "avatar_url": "https://avatars.githubusercontent.com/u/54771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whitequark", "html_url": "https://github.com/whitequark", "followers_url": "https://api.github.com/users/whitequark/followers", "following_url": "https://api.github.com/users/whitequark/following{/other_user}", "gists_url": "https://api.github.com/users/whitequark/gists{/gist_id}", "starred_url": "https://api.github.com/users/whitequark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whitequark/subscriptions", "organizations_url": "https://api.github.com/users/whitequark/orgs", "repos_url": "https://api.github.com/users/whitequark/repos", "events_url": "https://api.github.com/users/whitequark/events{/privacy}", "received_events_url": "https://api.github.com/users/whitequark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-02T21:44:01Z", "updated_at": "2023-02-06T15:42:24Z", "closed_at": "2023-02-02T23:13:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools===67.1.0\r\n\r\n### Python version\r\n\r\nPython 3.9.2\r\n\r\n### OS\r\n\r\nDebian 11\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nSetuptools validation for `pyproject.toml` dependency specifications is too strict and rejects `amaranth-yosys>=0.10.*`.\r\n\r\nThis doesn't match the grammar [defined in PEP 508](https://peps.python.org/pep-0508/#grammar).\r\n\r\nYou might ask yourself, \"isn't this version specification the same as `amaranth-yosys>=0.10`?\" The answer is no, try running both:\r\n - `pip install 'amaranth-yosys>=0.10.*'`\r\n - `pip install 'amaranth-yosys>=0.10'`\r\n\r\nand comparing the result. Only the former will succeed since all of the `amaranth-yosys` distributions have a `.dev` suffix.\r\n\r\n### Expected behavior\r\n\r\nSetuptools accepts `amaranth-yosys>=0.10.*` in a dependency specification.\r\n\r\n### How to Reproduce\r\n\r\nPut the following in a `pyproject.toml` file in an empty directory:\r\n\r\n```toml\r\n[build-system]\r\nrequires = [\"wheel\", \"setuptools\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"test-project\"\r\nversion = \"1.0\"\r\ndependencies = [\"amaranth-yosys>=0.10.*\"]\r\n```\r\n\r\nInstall it with `pip install .`\r\n\r\n### Output\r\n\r\n```console\r\n  configuration error: `project.dependencies[{data__dependencies_x}]` must be pep508\r\n  DESCRIPTION:\r\n      Project dependency specification according to PEP 508\r\n  \r\n  GIVEN VALUE:\r\n      \"amaranth-yosys>=0.10.*\"\r\n  \r\n  OFFENDING RULE: 'format'\r\n  \r\n  DEFINITION:\r\n      {\r\n          \"$id\": \"#/definitions/dependency\",\r\n          \"title\": \"Dependency\",\r\n          \"type\": \"string\",\r\n          \"format\": \"pep508\"\r\n      }\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3803", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3803/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3803/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3803/events", "html_url": "https://github.com/pypa/setuptools/issues/3803", "id": 1562517770, "node_id": "I_kwDOA0bv8c5dIiEK", "number": 3803, "title": "[BUG] pyproject.toml tools.setuptools.packages not recognized", "user": {"login": "hoba87", "id": 6099617, "node_id": "MDQ6VXNlcjYwOTk2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6099617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoba87", "html_url": "https://github.com/hoba87", "followers_url": "https://api.github.com/users/hoba87/followers", "following_url": "https://api.github.com/users/hoba87/following{/other_user}", "gists_url": "https://api.github.com/users/hoba87/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoba87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoba87/subscriptions", "organizations_url": "https://api.github.com/users/hoba87/orgs", "repos_url": "https://api.github.com/users/hoba87/repos", "events_url": "https://api.github.com/users/hoba87/events{/privacy}", "received_events_url": "https://api.github.com/users/hoba87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-30T14:08:09Z", "updated_at": "2023-01-30T14:25:55Z", "closed_at": "2023-01-30T14:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n67.0.0\n\n### Python version\n\n3.9\n\n### OS\n\nWin11\n\n### Additional environment information\n\nI'm using a venv.\n\n### Description\n\nWith my flat directory layout I'm getting the error: \" Multiple top-level packages discovered in a flat-layout: ['gui', 'misc', 'package']\"\r\nSettings in pyproject.toml as given below doesn't work. I have also tried with settings include/exclude for find.\r\nThe error only vanishes, if I use a additional setup.py with \r\n\r\n```\r\nimport setuptools\r\n\r\nif __name__ == \"__main__\":\r\n    setuptools.setup(packages=['package'])\r\n```\n\n### Expected behavior\n\nIt should work without the additional setup.py\n\n### How to Reproduce\n\ndirectory layout:\r\n```\r\n- package\r\n  - gui\r\n  - misc\r\n  - package\r\n    - __init__.py\r\n  - pyproject.toml\r\n```\r\n\r\nWith the setting in pyproject.toml:\r\n```\r\n[tools.setuptools]\r\npackages = [\"package\"]\r\n```\n\n### Output\n\n```console\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [14 lines of output]\r\n      error: Multiple top-level packages discovered in a flat-layout: ['gui', 'misc', 'package'].\r\n\r\n      To avoid accidental inclusion of unwanted files or directories,\r\n      setuptools will not proceed with this build.\r\n\r\n      If you are trying to create a single distribution with multiple packages\r\n      on purpose, you should not rely on automatic discovery.\r\n      Instead, consider the following options:\r\n\r\n      1. set up custom discovery (`find` directive with `include` or `exclude`)\r\n      2. use a `src-layout`\r\n      3. explicitly set `py_modules` or `packages` with a list of names\r\n\r\n      To find more information, look for \"package discovery\" on setuptools docs.\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3796", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3796/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3796/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3796/events", "html_url": "https://github.com/pypa/setuptools/issues/3796", "id": 1556929417, "node_id": "I_kwDOA0bv8c5czNuJ", "number": 3796, "title": "[BUG] Cannot define stub-only packages", "user": {"login": "b-kamphorst", "id": 61748872, "node_id": "MDQ6VXNlcjYxNzQ4ODcy", "avatar_url": "https://avatars.githubusercontent.com/u/61748872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-kamphorst", "html_url": "https://github.com/b-kamphorst", "followers_url": "https://api.github.com/users/b-kamphorst/followers", "following_url": "https://api.github.com/users/b-kamphorst/following{/other_user}", "gists_url": "https://api.github.com/users/b-kamphorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-kamphorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-kamphorst/subscriptions", "organizations_url": "https://api.github.com/users/b-kamphorst/orgs", "repos_url": "https://api.github.com/users/b-kamphorst/repos", "events_url": "https://api.github.com/users/b-kamphorst/events{/privacy}", "received_events_url": "https://api.github.com/users/b-kamphorst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-25T16:24:07Z", "updated_at": "2023-02-01T13:28:33Z", "closed_at": "2023-02-01T13:28:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.5.0\n\n### Python version\n\nPython 3.10.9, 3.11.1\n\n### OS\n\nWSL2 Ubuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI tried to define a stubs-package through `pyproject.toml`. A stubs-only package [MUST](https://peps.python.org/pep-0561/#stub-only-packages) follow the scheme `pkgname-stubs`, but this name is not allowed via `pyproject.toml`. More specifically:\r\n- if `name=pkgname-stubs`, then all files are put into `pkgname_stubs` in the distribution (automatic discovery);\r\n- manually defining `packages` and/or `package-dir` does not accept a hypen in a package name and crashes.\n\n### Expected behavior\n\nA package with name `pgkname-stubs` is accepted in both `name` and `packages`, and produces a valid stubs-only package.\n\n### How to Reproduce\n\nIn an empty directory, create the `pyproject.toml` below:\r\n\r\n```toml\r\n[build-system]\r\nrequires = [\"setuptools\", \"setuptools-scm\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"mypkg-stubs\"\r\nversion = \"0.0.0\"\r\n\r\n[tool.setuptools]\r\nplatforms = [\"any\"]\r\npackages = [\"mypkg-stubs\"]\r\n\r\n[tool.setuptools.package-dir]\r\n\"\" = \"src\"\r\n\r\n[tool.setuptools.package-data]\r\n\"*\" = [\"*.pyi\"]\r\n```\r\n\r\nAlso create an empty file `__init__.pyi` in `src/mypkg-stubs/`. Now, `python -m build` will crash since `pkgname-stubs` is not a valid `python-module-name`.\n\n### Output\n\n<details><summary>Click to see output.</summary>\r\n\r\n```console\r\n$ python -m build\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools, setuptools-scm)\r\n* Getting build dependencies for sdist...\r\n/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n  warnings.warn(msg, _BetaConfiguration)\r\nconfiguration error: `tool.setuptools.packages` must be valid exactly by one definition (0 matches found):\r\n\r\n    - type: array\r\n      items: {type: string, format: 'python-module-name'}\r\n    - type: table\r\n      additional keys: False\r\n      keys:\r\n        'find':\r\n          type: table\r\n          additional keys: False\r\n          keys:\r\n            'where':\r\n              type: array\r\n              items: {type: string}\r\n            'exclude':\r\n              type: array\r\n              items: {type: string}\r\n            'include':\r\n              type: array\r\n              items: {type: string}\r\n            'namespaces': {type: boolean}\r\n\r\nDESCRIPTION:\r\n    Packages that should be included in the distribution. It can be given either\r\n    as a list of package identifiers or as a ``dict``-like structure with a\r\n    single key ``find`` which corresponds to a dynamic call to\r\n    ``setuptools.config.expand.find_packages`` function. The ``find`` key is\r\n    associated with a nested ``dict``-like structure that can contain ``where``,\r\n    ``include``, ``exclude`` and ``namespaces`` keys, mimicking the keyword\r\n    arguments of the associated function.\r\n\r\nGIVEN VALUE:\r\n    [\r\n        \"mypkg-stubs\"\r\n    ]\r\n\r\nOFFENDING RULE: 'oneOf'\r\n\r\nDEFINITION:\r\n    {\r\n        \"oneOf\": [\r\n            {\r\n                \"title\": \"Array of Python package identifiers\",\r\n                \"type\": \"array\",\r\n                \"items\": {\r\n                    \"type\": \"string\",\r\n                    \"format\": \"python-module-name\"\r\n                }\r\n            },\r\n            {\r\n                \"$id\": \"#/definitions/find-directive\",\r\n                \"title\": \"'find:' directive\",\r\n                \"type\": \"object\",\r\n                \"additionalProperties\": false,\r\n                \"properties\": {\r\n                    \"find\": {\r\n                        \"type\": \"object\",\r\n                        \"$$description\": [\r\n                            \"Dynamic `package discovery\",\r\n                            \"<https://setuptools.pypa.io/en/latest/userguide/package_discovery.html>`_.\"\r\n                        ],\r\n                        \"additionalProperties\": false,\r\n                        \"properties\": {\r\n                            \"where\": {\r\n                                \"description\": \"Directories to be searched for packages (Unix-style relative path)\",\r\n                                \"type\": \"array\",\r\n                                \"items\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            },\r\n                            \"exclude\": {\r\n                                \"type\": \"array\",\r\n                                \"$$description\": [\r\n                                    \"Exclude packages that match the values listed in this field.\",\r\n                                    \"Can container shell-style wildcards (e.g. ``'pkg.*'``)\"\r\n                                ],\r\n                                \"items\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            },\r\n                            \"include\": {\r\n                                \"type\": \"array\",\r\n                                \"$$description\": [\r\n                                    \"Restrict the found packages to just the ones listed in this field.\",\r\n                                    \"Can container shell-style wildcards (e.g. ``'pkg.*'``)\"\r\n                                ],\r\n                                \"items\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            },\r\n                            \"namespaces\": {\r\n                                \"type\": \"boolean\",\r\n                                \"$$description\": [\r\n                                    \"When ``True``, directories without a ``__init__.py`` file will also\",\r\n                                    \"be scanned for :pep:`420`-style implicit namespaces\"\r\n                                ]\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\nTraceback (most recent call last):\r\n  File \"/home/bart/git/mpclab/setuptools-tester/.venv/lib/python3.11/site-packages/pyproject_hooks/_in_process/_in_process.py\", line 353, in <module>\r\n    main()\r\n  File \"/home/bart/git/mpclab/setuptools-tester/.venv/lib/python3.11/site-packages/pyproject_hooks/_in_process/_in_process.py\", line 335, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/bart/git/mpclab/setuptools-tester/.venv/lib/python3.11/site-packages/pyproject_hooks/_in_process/_in_process.py\", line 287, in get_requires_for_build_sdist\r\n    return hook(config_settings)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/build_meta.py\", line 341, in get_requires_for_build_sdist\r\n    return self._get_build_requires(config_settings, requirements=[])\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n    exec(code, locals())\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/__init__.py\", line 108, in setup\r\n    return distutils.core.setup(**attrs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/_distutils/core.py\", line 159, in setup\r\n    dist.parse_config_files()\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/dist.py\", line 872, in parse_config_files\r\n    pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/config/pyprojecttoml.py\", line 62, in apply_configuration\r\n    config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/config/pyprojecttoml.py\", line 126, in read_configuration\r\n    validate(subset, filepath)\r\n  File \"/tmp/build-env-j_gmor26/lib/python3.11/site-packages/setuptools/config/pyprojecttoml.py\", line 51, in validate\r\n    raise ValueError(f\"{error}\\n{summary}\") from None\r\nValueError: invalid pyproject.toml config: `tool.setuptools.packages`.\r\nconfiguration error: `tool.setuptools.packages` must be valid exactly by one definition (0 matches found):\r\n\r\n    - type: array\r\n      items: {type: string, format: 'python-module-name'}\r\n    - type: table\r\n      additional keys: False\r\n      keys:\r\n        'find':\r\n          type: table\r\n          additional keys: False\r\n          keys:\r\n            'where':\r\n              type: array\r\n              items: {type: string}\r\n            'exclude':\r\n              type: array\r\n              items: {type: string}\r\n            'include':\r\n              type: array\r\n              items: {type: string}\r\n            'namespaces': {type: boolean}\r\n\r\n\r\nERROR Backend subprocess exited when trying to invoke get_requires_for_build_sdist\r\n```\r\n\r\n</details>", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3789", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3789/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3789/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3789/events", "html_url": "https://github.com/pypa/setuptools/issues/3789", "id": 1551939478, "node_id": "I_kwDOA0bv8c5cgLeW", "number": 3789, "title": "[BUG] setuptools 66.1.1 fail to install on windows-latest github actions", "user": {"login": "12rambau", "id": 12596392, "node_id": "MDQ6VXNlcjEyNTk2Mzky", "avatar_url": "https://avatars.githubusercontent.com/u/12596392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12rambau", "html_url": "https://github.com/12rambau", "followers_url": "https://api.github.com/users/12rambau/followers", "following_url": "https://api.github.com/users/12rambau/following{/other_user}", "gists_url": "https://api.github.com/users/12rambau/gists{/gist_id}", "starred_url": "https://api.github.com/users/12rambau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12rambau/subscriptions", "organizations_url": "https://api.github.com/users/12rambau/orgs", "repos_url": "https://api.github.com/users/12rambau/repos", "events_url": "https://api.github.com/users/12rambau/events{/privacy}", "received_events_url": "https://api.github.com/users/12rambau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-21T23:29:28Z", "updated_at": "2023-01-21T23:31:38Z", "closed_at": "2023-01-21T23:31:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n66.1.1\n\n### Python version\n\nPyhton 3.9\n\n### OS\n\nMicrosoft Windows Server 2022 4   10.0.20348\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWe had a working CI testing the pydata-sphinx-theme. Since 21/01/2023 the windos build fails (we only test Python 3.9) when installing the lib.\r\n\n\n### Expected behavior\n\nI was expecting setuptools to continue installing itself on windows\n\n### How to Reproduce\n\non a windows CI build run: \r\n```\r\npip install setuptools\r\n```\n\n### Output\n\ncopied from https://github.com/pydata/pydata-sphinx-theme/actions/runs/3975640870/jobs/6815790378\r\n\r\n```console\r\nCollecting setuptools\r\nDownloading setuptools-66.1.1-py3-none-any.whl (1.3 MB)\r\n    ---------------------------------------- 1.3/1.3 MB 16.0 MB/s eta 0:00:00\r\nInstalling collected packages: wheel, setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 58.1.0\r\n    Uninstalling setuptools-58.1.0:\r\n      Successfully uninstalled setuptools-58.1.0\r\nSuccessfully installed setuptools-66.1.1 wheel-0.38.4\r\nObtaining file:///D:/a/pydata-sphinx-theme/pydata-sphinx-theme\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Checking if build backend supports build_editable: started\r\n  Checking if build backend supports build_editable: finished with status 'done'\r\n  Getting requirements to build editable: started\r\n  Getting requirements to build editable: finished with status 'done'\r\n  Preparing editable metadata (pyproject.toml): started\r\n  Preparing editable metadata (pyproject.toml): finished with status 'error'\r\n  error: subprocess-exited-with-error\r\n  \r\n  Preparing editable metadata (pyproject.toml) did not run successfully.\r\n  exit code: 1\r\n  \r\n  [16 lines of output]\r\n  Traceback (most recent call last):\r\n    File \"C:\\hostedtoolcache\\windows\\Python\\3.9.13\\x64\\lib\\site-packages\\pip\\_vendor\\pep517\\in_process\\_in_process.py\", line 351, in <module>\r\n      main()\r\n    File \"C:\\hostedtoolcache\\windows\\Python\\3.9.13\\x64\\lib\\site-packages\\pip\\_vendor\\pep517\\in_process\\_in_process.py\", line 333, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"C:\\hostedtoolcache\\windows\\Python\\3.9.13\\x64\\lib\\site-packages\\pip\\_vendor\\pep517\\in_process\\_in_process.py\", line 179, in prepare_metadata_for_build_editable\r\n      return hook(metadata_directory, config_settings)\r\n    File \"C:\\Users\\runneradmin\\AppData\\Local\\Temp\\pip-build-env-v4e4d6e1\\overlay\\Lib\\site-packages\\sphinx_theme_builder\\__init__.py\", line 80, in prepare_metadata_for_build_wheel\r\n      return _generate_metadata(project, destination=Path(metadata_directory))\r\n    File \"C:\\Users\\runneradmin\\AppData\\Local\\Temp\\pip-build-env-v4e4d6e1\\overlay\\Lib\\site-packages\\sphinx_theme_builder\\_internal\\distributions.py\", line 132, in generate_metadata\r\n      (dist_info / \"METADATA\").write_text(project.get_metadata_file_contents())\r\n    File \"C:\\hostedtoolcache\\windows\\Python\\3.9.13\\x64\\lib\\pathlib.py\", line 1286, in write_text\r\n      return f.write(data)\r\n    File \"C:\\hostedtoolcache\\windows\\Python\\3.9.13\\x64\\lib\\encodings\\cp1252.py\", line 19, in encode\r\n      return codecs.charmap_encode(input,self.errors,encoding_table)[0]\r\n  UnicodeEncodeError: 'charmap' codec can't encode character '\\U0001f4da' in position 4812: character maps to <undefined>\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3783", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3783/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3783/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3783/events", "html_url": "https://github.com/pypa/setuptools/issues/3783", "id": 1551324039, "node_id": "I_kwDOA0bv8c5cd1OH", "number": 3783, "title": "[BUG] \"Failed building editable\" / \"Could not build wheels\"", "user": {"login": "SunyataZero", "id": 10245688, "node_id": "MDQ6VXNlcjEwMjQ1Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/10245688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SunyataZero", "html_url": "https://github.com/SunyataZero", "followers_url": "https://api.github.com/users/SunyataZero/followers", "following_url": "https://api.github.com/users/SunyataZero/following{/other_user}", "gists_url": "https://api.github.com/users/SunyataZero/gists{/gist_id}", "starred_url": "https://api.github.com/users/SunyataZero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SunyataZero/subscriptions", "organizations_url": "https://api.github.com/users/SunyataZero/orgs", "repos_url": "https://api.github.com/users/SunyataZero/repos", "events_url": "https://api.github.com/users/SunyataZero/events{/privacy}", "received_events_url": "https://api.github.com/users/SunyataZero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-20T19:11:53Z", "updated_at": "2023-01-21T12:41:56Z", "closed_at": "2023-01-21T12:18:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n66.1.0 (have tried earlier versions back to 65.6.3)\r\n\r\n### Python version\r\n\r\n3.10.6\r\n\r\n### OS\r\n\r\nXUbuntu 22.04 (Also problem on CI server which runs Debian)\r\n\r\n### Additional environment information\r\n\r\nYesterday everything was working fine on the gitlab CI server, but today it failed. So i tried building locally and got the same error as on the CI server (see description)\r\n\r\nMy first thought was to try an earlier version of setuptools, esp. after seeing that 66.1.0 was recently released. This didn't help though\r\n\r\nAnother thing i tried was checking out an earlier version of my own software, but that didn't help either. (Also i can't see why it would)\r\n\r\nI am using the latest versions of various packages (i don't lock the versions) and so i've tried downgrading the `build` package (which had a new release on 11 jan) but that didn't help\r\n\r\n(The `wheel` package hasn't been updated in a while so i don't think that's the issue)\r\n\r\n### Description\r\n\r\nWhen i try building i get this:\r\n\r\n```\r\ndistutils.errors.DistutilsSetupError: Error: setup script specifies an absolute path:\r\n```\r\n\r\n```\r\n  ERROR: Failed building editable for mindfulness-at-the-computer\r\nFailed to build mindfulness-at-the-computer\r\nERROR: Could not build wheels for mindfulness-at-the-computer, which is required to install pyproject.toml-based projects\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\nI can build the package locally and on the CI server\r\n\r\n### How to Reproduce\r\n\r\n1. pip3 install -e .\r\n\r\nor\r\n\r\n1. pip3 install .\r\n\r\nI've included both these because the first way to produce the issue gives a traceback, and the second way is more minimal (in the sense that it doesn't seem to be an issue with editable installs)\r\n\r\n### Output\r\n\r\n# When running pip3 install -e .\r\n\r\n```console\r\n\r\nRequirement already satisfied: pycparser in ./venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.0->SecretStorage>=3.2->keyring>=15.1->twine->mindfulness-at-the-computer==1.0.0b2.dev5) (2.21)\r\nBuilding wheels for collected packages: mindfulness-at-the-computer\r\n  Building editable for mindfulness-at-the-computer (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Building editable for mindfulness-at-the-computer (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [66 lines of output]\r\n      /tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n        warnings.warn(msg, _BetaConfiguration)\r\n      running editable_wheel\r\n      creating /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info\r\n      writing /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/dependency_links.txt\r\n      writing entry points to /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/entry_points.txt\r\n      writing requirements to /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/requires.txt\r\n      writing top-level names to /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/top_level.txt\r\n      writing manifest file '/tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/SOURCES.txt'\r\n      reading manifest template 'MANIFEST.in'\r\n      adding license file 'LICENSE.txt'\r\n      writing manifest file '/tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer.egg-info/SOURCES.txt'\r\n      creating '/tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer-1.0.0b2.dev5.dist-info'\r\n      creating /tmp/pip-wheel-bx07g450/.tmp-eckljrek/mindfulness_at_the_computer-1.0.0b2.dev5.dist-info/WHEEL\r\n      running build_py\r\n      running egg_info\r\n      creating /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info\r\n      writing /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/dependency_links.txt\r\n      writing entry points to /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/entry_points.txt\r\n      writing requirements to /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/requires.txt\r\n      writing top-level names to /tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/top_level.txt\r\n      writing manifest file '/tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/SOURCES.txt'\r\n      reading manifest template 'MANIFEST.in'\r\n      adding license file 'LICENSE.txt'\r\n      writing manifest file '/tmp/tmpssu414li.build-temp/mindfulness_at_the_computer.egg-info/SOURCES.txt'\r\n      Traceback (most recent call last):\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 140, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 330, in _create_wheel_file\r\n          files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 262, in _run_build_commands\r\n          files, mapping = self._collect_build_outputs()\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 251, in _collect_build_outputs\r\n          files.extend(cmd.get_outputs() or [])\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 131, in get_outputs\r\n          return list(self.get_output_mapping().keys())\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 140, in get_output_mapping\r\n          return dict(sorted(mapping, key=lambda x: x[0]))\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 151, in _get_package_data_output_mapping\r\n          for package, src_dir, build_dir, filenames in self.data_files:\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 72, in __getattr__\r\n          self.data_files = self._get_data_files()\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 84, in _get_data_files\r\n          self.analyze_manifest()\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 188, in analyze_manifest\r\n          d, f = os.path.split(assert_relative(path))\r\n        File \"/tmp/pip-build-env-xbo0_3s7/overlay/lib/python3.10/site-packages/setuptools/command/build_py.py\", line 322, in assert_relative\r\n          raise DistutilsSetupError(msg)\r\n      distutils.errors.DistutilsSetupError: Error: setup script specifies an absolute path:\r\n      \r\n          /\r\n      \r\n      setup() arguments must *always* be /-separated paths relative to the\r\n      setup.py directory, *never* absolute paths.\r\n      \r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n      \r\n      https://github.com/pypa/setuptools/issues\r\n      \r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n      \r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building editable for mindfulness-at-the-computer\r\nFailed to build mindfulness-at-the-computer\r\nERROR: Could not build wheels for mindfulness-at-the-computer, which is required to install pyproject.toml-based projects\r\nmake[1]: *** [Makefile:20: install] Error 1\r\nmake[1]: Leaving directory '/home/sunyata/PycharmProjects/mindfulness-at-the-computer'\r\nmake: *** [Makefile:66: build-pypi-test] Error 2\r\n(venv) sunyata@sunyata-HP-Laptop:~/PycharmProjects/mindfulness-at-the-computer$ \r\n\r\n```\r\n\r\n\r\n# When running pip3 install .\r\n\r\n```\r\n\r\nBuilding wheels for collected packages: mindfulness-at-the-computer\r\n  Building wheel for mindfulness-at-the-computer (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Building wheel for mindfulness-at-the-computer (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [21 lines of output]\r\n      /tmp/pip-build-env-lhac_3bt/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n        warnings.warn(msg, _BetaConfiguration)\r\n      running bdist_wheel\r\n      running build\r\n      running build_py\r\n      running egg_info\r\n      writing mindfulness_at_the_computer.egg-info/PKG-INFO\r\n      writing dependency_links to mindfulness_at_the_computer.egg-info/dependency_links.txt\r\n      writing entry points to mindfulness_at_the_computer.egg-info/entry_points.txt\r\n      writing requirements to mindfulness_at_the_computer.egg-info/requires.txt\r\n      writing top-level names to mindfulness_at_the_computer.egg-info/top_level.txt\r\n      reading manifest template 'MANIFEST.in'\r\n      adding license file 'LICENSE.txt'\r\n      writing manifest file 'mindfulness_at_the_computer.egg-info/SOURCES.txt'\r\n      error: Error: setup script specifies an absolute path:\r\n      \r\n          /\r\n      \r\n      setup() arguments must *always* be /-separated paths relative to the\r\n      setup.py directory, *never* absolute paths.\r\n      \r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for mindfulness-at-the-computer\r\nFailed to build mindfulness-at-the-computer\r\nERROR: Could not build wheels for mindfulness-at-the-computer, which is required to install pyproject.toml-based projects\r\n(venv) sunyata@sunyata-HP-Laptop:~/PycharmProjects/mindfulness-at-the-computer$", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3783/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3781", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3781/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3781/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3781/events", "html_url": "https://github.com/pypa/setuptools/issues/3781", "id": 1551153041, "node_id": "I_kwDOA0bv8c5cdLeR", "number": 3781, "title": "[BUG] When specifying dynamic version using a single file, '/' is included in SOURCES.txt", "user": {"login": "AnjoMan", "id": 2414360, "node_id": "MDQ6VXNlcjI0MTQzNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2414360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnjoMan", "html_url": "https://github.com/AnjoMan", "followers_url": "https://api.github.com/users/AnjoMan/followers", "following_url": "https://api.github.com/users/AnjoMan/following{/other_user}", "gists_url": "https://api.github.com/users/AnjoMan/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnjoMan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnjoMan/subscriptions", "organizations_url": "https://api.github.com/users/AnjoMan/orgs", "repos_url": "https://api.github.com/users/AnjoMan/repos", "events_url": "https://api.github.com/users/AnjoMan/events{/privacy}", "received_events_url": "https://api.github.com/users/AnjoMan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-20T16:42:18Z", "updated_at": "2023-01-20T20:48:32Z", "closed_at": "2023-01-20T19:20:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==66.1.0\r\n\r\n### Python version\r\n\r\nPython 3.10\r\n\r\n### OS\r\n\r\nmacOS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI am trying to use dynamic metadata ([as described in the docs here](https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html#dynamic-metadata)) to load the version of my package in `pyproject.toml` from a file. I first tried using `version = { file = \"src/VERSION\" }`, and I found that if i do this, setuptools includes `/` in the `SOURCES.txt`; however, pip/setuptools can't handle this and will fail to build the package when installing it from source. \r\n\r\nI've attached an MWE ([sample_project.zip](https://github.com/pypa/setuptools/files/10467971/sample_project.zip)), but the key files are below:\r\n\r\nMy `pyproject.toml`:\r\n```TOML\r\n[project]\r\nname = \"sample_project\"\r\ndynamic = [\"version\"]\r\n\r\n## build specification\r\n[build-system]\r\nrequires = [\"setuptools >= 61.0.0\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[tool.setuptools.dynamic]\r\nversion = {file = \"src/VERSION\"}\r\n```\r\n\r\nContents of `src/VERSION`:\r\n```\r\n0.1.0\r\n```\r\n\r\n\r\nAfter some trial and error, a colleague of mine identified that if we make `file` into a list, the problem goes away:\r\n```TOML\r\n[tool.setuptools.dynamic]\r\nversion = {file = [\"src/VERSION\"]}\r\n```\r\n\r\nLooking in the documentation, i see other examples of files being specified as lists (e.g. `requirements.txt` dynamic loading) but there is no example of specifying the version using a file.\r\n\r\n### Expected behavior\r\n\r\nI could imagine two potential outcomes that would make sense in my head\r\n\r\n1. `setuptools` metadata interprets `{file = \"src/VERSION\"}` the same as `{file = [\"src/VERSION\"]}`\r\n2. `setuptools` throws an error if it does not get a list. To me, this is less intuitive (i can't imagine why anyone would need more than one file to specify the version) however it does provide quicker feedback about what is wrong and how to fix it.\r\n\r\n\r\n### How to Reproduce\r\n\r\n1. download and unzip the attached MWE and `cd` into the directory\r\n2. install `build`: `pip install build`\r\n3. run the build command: `python -m build --sdist`\r\n4. (in a virtualenv) install the resulting sdist: `pip install dist/sample_project-0.1.0.tar.gz`\r\n\r\n### Output\r\n\r\nOutput of step 3 (note `'/' not a regular file -- skipping` 2/3 of the way down):\r\n```console\r\n$ python -m build --sdist\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 61.0.0)\r\n* Getting build dependencies for sdist...\r\n/private/var/folders/fx/35b0z9051xz_8hmylnf2j4b80000gn/T/build-env-sjxd0z_i/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n  warnings.warn(msg, _BetaConfiguration)\r\nrunning egg_info\r\nwriting src/sample_project.egg-info/PKG-INFO\r\nwriting dependency_links to src/sample_project.egg-info/dependency_links.txt\r\nwriting top-level names to src/sample_project.egg-info/top_level.txt\r\nreading manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\n* Building sdist...\r\n/private/var/folders/fx/35b0z9051xz_8hmylnf2j4b80000gn/T/build-env-sjxd0z_i/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n  warnings.warn(msg, _BetaConfiguration)\r\nrunning sdist\r\nrunning egg_info\r\nwriting src/sample_project.egg-info/PKG-INFO\r\nwriting dependency_links to src/sample_project.egg-info/dependency_links.txt\r\nwriting top-level names to src/sample_project.egg-info/top_level.txt\r\nreading manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\ncreating sample_project-0.1.0\r\ncreating sample_project-0.1.0/src\r\ncreating sample_project-0.1.0/src/sample_project.egg-info\r\ncopying files to sample_project-0.1.0...\r\ncopying MANIFEST.in -> sample_project-0.1.0\r\ncopying pyproject.toml -> sample_project-0.1.0\r\n'/' not a regular file -- skipping\r\ncopying src/VERSION -> sample_project-0.1.0/src\r\ncopying src/__init__.py -> sample_project-0.1.0/src\r\ncopying src/sample_project.egg-info/PKG-INFO -> sample_project-0.1.0/src/sample_project.egg-info\r\ncopying src/sample_project.egg-info/SOURCES.txt -> sample_project-0.1.0/src/sample_project.egg-info\r\ncopying src/sample_project.egg-info/dependency_links.txt -> sample_project-0.1.0/src/sample_project.egg-info\r\ncopying src/sample_project.egg-info/top_level.txt -> sample_project-0.1.0/src/sample_project.egg-info\r\nWriting sample_project-0.1.0/setup.cfg\r\nCreating tar archive\r\nremoving 'sample_project-0.1.0' (and everything under it)\r\nSuccessfully built sample_project-0.1.0.tar.gz\r\n```\r\n\r\nContents of `dist/sample_project-0.1.0.tar.gz/src/sample_project.egg_info/SOURCES.txt` produced by step 3:\r\n```txt\r\nMANIFEST.in\r\npyproject.toml\r\n/\r\nsrc/VERSION\r\nsrc/__init__.py\r\nsrc/sample_project.egg-info/PKG-INFO\r\nsrc/sample_project.egg-info/SOURCES.txt\r\nsrc/sample_project.egg-info/dependency_links.txt\r\nsrc/sample_project.egg-info/top_level.txt\r\n```\r\n\r\nOutput of step 4:\r\n```console\r\n$ python -m pip install dist/sample_project-0.1.0.tar.gz\r\nLooking in indexes: https://pypi.org/simple, https://dig-grid-artifactory.apps.ge.com/artifactory/api/pypi/opus-one-pypi-virtual/simple\r\nProcessing ./dist/sample_project-0.1.0.tar.gz\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: sample-project\r\n  Building wheel for sample-project (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Building wheel for sample-project (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [22 lines of output]\r\n      /private/var/folders/fx/35b0z9051xz_8hmylnf2j4b80000gn/T/pip-build-env-wlxo9tub/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n        warnings.warn(msg, _BetaConfiguration)\r\n      running bdist_wheel\r\n      running build\r\n      running build_py\r\n      creating build\r\n      creating build/lib\r\n      copying src/__init__.py -> build/lib\r\n      running egg_info\r\n      writing src/sample_project.egg-info/PKG-INFO\r\n      writing dependency_links to src/sample_project.egg-info/dependency_links.txt\r\n      writing top-level names to src/sample_project.egg-info/top_level.txt\r\n      reading manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\n      reading manifest template 'MANIFEST.in'\r\n      writing manifest file 'src/sample_project.egg-info/SOURCES.txt'\r\n      error: Error: setup script specifies an absolute path:\r\n      \r\n          /\r\n      \r\n      setup() arguments must *always* be /-separated paths relative to the\r\n      setup.py directory, *never* absolute paths.\r\n      \r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for sample-project\r\nFailed to build sample-project\r\nERROR: Could not build wheels for sample-project, which is required to install pyproject.toml-based projects\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3781/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3778", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3778/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3778/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3778/events", "html_url": "https://github.com/pypa/setuptools/issues/3778", "id": 1548698262, "node_id": "I_kwDOA0bv8c5cT0KW", "number": 3778, "title": "Python.h No such file or directory", "user": {"login": "perryitay", "id": 85821686, "node_id": "MDQ6VXNlcjg1ODIxNjg2", "avatar_url": "https://avatars.githubusercontent.com/u/85821686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perryitay", "html_url": "https://github.com/perryitay", "followers_url": "https://api.github.com/users/perryitay/followers", "following_url": "https://api.github.com/users/perryitay/following{/other_user}", "gists_url": "https://api.github.com/users/perryitay/gists{/gist_id}", "starred_url": "https://api.github.com/users/perryitay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perryitay/subscriptions", "organizations_url": "https://api.github.com/users/perryitay/orgs", "repos_url": "https://api.github.com/users/perryitay/repos", "events_url": "https://api.github.com/users/perryitay/events{/privacy}", "received_events_url": "https://api.github.com/users/perryitay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-01-19T08:17:40Z", "updated_at": "2023-01-20T16:05:21Z", "closed_at": "2023-01-20T16:05:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.2.0\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nUbuntu\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nwhen trying to update setuptools to a ver >= 65.2.0, tried various versions. (65.1.1 works fine)\r\n\r\nI get this errors for different extensions:\r\n\r\n```\r\n   INFO:build_extension:building 'M2Crypto._m2crypto' extension^M\r\n      INFO:swig_sources:swigging src/SWIG/_m2crypto.i to src/SWIG/_m2crypto_wrap.c^M\r\n      INFO:spawn:swig -python -py3 -I/usr/lib/gcc/x86_64-linux-gnu/7/include -I/usr/local/include -I/usr/lib/gcc/x86_64-linux-gnu/7/include-fixed -I/usr/include/x86_64-linux-gnu -I/usr/include -D__x86_64__ -I/opt/redislabs/include/python3.9 -I/usr/include/openssl -includeall -modern -builtin -outdir /tmp/pip-req-build-6_7oepv5/src/M2Crypto -o src/SWIG/_m2crypto_wrap.c src/SWIG/_m2crypto.i^M\r\n      INFO:mkpath:creating build/temp.linux-x86_64-cpython-39^M\r\n      INFO:mkpath:creating build/temp.linux-x86_64-cpython-39/src^M\r\n      INFO:mkpath:creating build/temp.linux-x86_64-cpython-39/src/SWIG^M\r\n      INFO:spawn:gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/opt/redislabs/include/python3.9 -I/tmp/pip-req-build-6_7oepv5/src/SWIG -c src/SWIG/_m2crypto_wrap.c -o build/temp.linux-x86_64-cpython-39/src/SWIG/_m2crypto_wrap.o -Wno-deprecated-declarations -DTHREADING^M\r\n      src/SWIG/_m2crypto_wrap.c:151:11: fatal error: Python.h: No such file or directory^M\r\n       # include <Python.h>^M\r\n                 ^~~~~~~~~~^M\r\n      compilation terminated.^M\r\n      error: command '/usr/bin/gcc' failed with exit code 1^M\r\n      [end of output]^M\r\n  ^M\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.^M\r\n  ERROR: Failed building wheel for M2Crypto^M\r\n  error: subprocess-exited-with-error^M\r\n  ^M\r\n  \u00d7 python setup.py bdist_wheel did not run successfully.^M\r\n  \u2502 exit code: 1^M\r\n  \u2570\u2500> [7 lines of output]^M\r\n      /tmp/cache/bazel/_bazel_root/e65c5d2d008a6d538a6299494bc1c8f6/sandbox/processwrapper-sandbox/29/execroot/redis_enterprise/bazel-out/k8-fastbuild/bin/deps/dependencies/opt/redislabs/lib/python3.9/site-packages/setuptools/dist.py:529: UserWarning: Normalizing '2014.08.15' to '2014.8.15'^M\r\n        warnings.warn(tmpl.format(**locals()))^M\r\n      Python3/_regex.c:46:10: fatal error: Python.h: No such file or directory^M\r\n       #include \"Python.h\"^M\r\n ```\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Expected behavior\r\n\r\nI except Python.h to exist \r\n\r\n### How to Reproduce\r\n\r\ncreate a build that includes cffi, mcripto etc. and setuptools larger then 65.2.0 \r\n\r\n### Output\r\n\r\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3765", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3765/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3765/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3765/events", "html_url": "https://github.com/pypa/setuptools/issues/3765", "id": 1529617029, "node_id": "I_kwDOA0bv8c5bLBqF", "number": 3765, "title": "[BUG] An empty directory with an empty pyproject.toml file is a valid setuptools project", "user": {"login": "pradyunsg", "id": 3275593, "node_id": "MDQ6VXNlcjMyNzU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3275593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pradyunsg", "html_url": "https://github.com/pradyunsg", "followers_url": "https://api.github.com/users/pradyunsg/followers", "following_url": "https://api.github.com/users/pradyunsg/following{/other_user}", "gists_url": "https://api.github.com/users/pradyunsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/pradyunsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pradyunsg/subscriptions", "organizations_url": "https://api.github.com/users/pradyunsg/orgs", "repos_url": "https://api.github.com/users/pradyunsg/repos", "events_url": "https://api.github.com/users/pradyunsg/events{/privacy}", "received_events_url": "https://api.github.com/users/pradyunsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-11T20:05:10Z", "updated_at": "2023-01-12T18:03:11Z", "closed_at": "2023-01-12T18:03:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==65.7.0\r\n\r\n### Python version\r\n\r\nN/A\r\n\r\n### OS\r\n\r\nN/A\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nSetuptools does not refuse to build a project if it is missing a name or a version.\r\n\r\n### Expected behavior\r\n\r\nSetuptools should fail because this project did not declare a name and a version for this package.\r\n\r\n\r\n### How to Reproduce\r\n\r\n```\r\n\u276f mkdir /tmp/foo\r\n\u276f touch /tmp/foo.pyproject.toml\r\n\u276f pip wheel -vv /tmp/foo\r\nCreated temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-ephem-wheel-cache-sig2t8yx\r\nCreated temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe\r\nInitialized build tracking at /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe\r\nCreated build tracker: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe\r\nEntered build tracker: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe\r\nCreated temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-wheel-zisoqdm8\r\nCreated temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-ephem-wheel-cache-zo6vfgeo\r\nProcessing /private/tmp/foo\r\n  Added file:///private/tmp/foo to build tracker '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe'\r\n  Created temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-env-zynnm9x1\r\n  Running command pip subprocess to install build dependencies\r\n  Using pip 23.0.dev0 from /Users/pradyunsg/Developer/github/pip/src/pip (python 3.10)\r\n  Collecting setuptools>=40.8.0\r\n    Using cached setuptools-65.7.0-py3-none-any.whl (1.2 MB)\r\n  Collecting wheel\r\n    Using cached wheel-0.38.4-py3-none-any.whl (36 kB)\r\n  Installing collected packages: wheel, setuptools\r\n    Creating /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-env-zynnm9x1/overlay/bin\r\n    changing mode of /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-env-zynnm9x1/overlay/bin/wheel to 755\r\n  Successfully installed setuptools-65.7.0 wheel-0.38.4\r\n  Installing build dependencies ... done\r\n  Running command Getting requirements to build wheel\r\n  running egg_info\r\n  writing UNKNOWN.egg-info/PKG-INFO\r\n  writing dependency_links to UNKNOWN.egg-info/dependency_links.txt\r\n  writing top-level names to UNKNOWN.egg-info/top_level.txt\r\n  reading manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\n  writing manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\n  Getting requirements to build wheel ... done\r\n  Created temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe\r\n  Running command Preparing metadata (pyproject.toml)\r\n  running dist_info\r\n  creating /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info\r\n  writing /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/PKG-INFO\r\n  writing dependency_links to /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/dependency_links.txt\r\n  writing top-level names to /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/top_level.txt\r\n  writing manifest file '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/SOURCES.txt'\r\n  reading manifest file '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/SOURCES.txt'\r\n  writing manifest file '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN.egg-info/SOURCES.txt'\r\n  creating '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-modern-metadata-eok1kcfe/UNKNOWN-0.0.0.dist-info'\r\n  Preparing metadata (pyproject.toml) ... done\r\n  Source in /private/tmp/foo has version 0.0.0, which satisfies requirement UNKNOWN==0.0.0 from file:///private/tmp/foo\r\n  Removed UNKNOWN==0.0.0 from file:///private/tmp/foo from build tracker '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe'\r\nCreated temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-unpack-9usa7vao\r\nBuilding wheels for collected packages: UNKNOWN\r\n  Created temporary directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-wheel-nwaq45u8\r\n  Destination directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-wheel-nwaq45u8\r\n  Running command Building wheel for UNKNOWN (pyproject.toml)\r\n  running bdist_wheel\r\n  running build\r\n  installing to build/bdist.macosx-11.6-arm64/wheel\r\n  running install\r\n  running install_egg_info\r\n  running egg_info\r\n  writing UNKNOWN.egg-info/PKG-INFO\r\n  writing dependency_links to UNKNOWN.egg-info/dependency_links.txt\r\n  writing top-level names to UNKNOWN.egg-info/top_level.txt\r\n  reading manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\n  writing manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\n  Copying UNKNOWN.egg-info to build/bdist.macosx-11.6-arm64/wheel/UNKNOWN-0.0.0-py3.10.egg-info\r\n  running install_scripts\r\n  creating build/bdist.macosx-11.6-arm64/wheel/UNKNOWN-0.0.0.dist-info/WHEEL\r\n  creating '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-wheel-nwaq45u8/.tmp-9pg6213d/UNKNOWN-0.0.0-py3-none-any.whl' and adding 'build/bdist.macosx-11.6-arm64/wheel' to it\r\n  adding 'UNKNOWN-0.0.0.dist-info/METADATA'\r\n  adding 'UNKNOWN-0.0.0.dist-info/WHEEL'\r\n  adding 'UNKNOWN-0.0.0.dist-info/top_level.txt'\r\n  adding 'UNKNOWN-0.0.0.dist-info/RECORD'\r\n  removing build/bdist.macosx-11.6-arm64/wheel\r\n  Building wheel for UNKNOWN (pyproject.toml) ... done\r\n  Created wheel for UNKNOWN: filename=UNKNOWN-0.0.0-py3-none-any.whl size=922 sha256=99881449cf5f483d5c9bce481b854d4546b01c43c42176a8faf2138d5ce79434\r\n  Stored in directory: /private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-ephem-wheel-cache-zo6vfgeo/wheels/54/10/69/9afa0ccc2ebddbac532467b09e8cbf723c5a663ffda67f9d55\r\nSuccessfully built UNKNOWN\r\nRemote version of pip: 22.3.1\r\nLocal version of pip:  23.0.dev0\r\nWas pip installed by pip? True\r\nRemoved build tracker: '/private/var/folders/y1/j465wvf92vs938kmgqh63bj80000gn/T/pip-build-tracker-lfadyaxe'\r\n\u276f ls /tmp/foo\r\nUNKNOWN-0.0.0-py3-none-any.whl UNKNOWN.egg-info               build                          pyproject.toml\r\n```\r\n\r\n### Output\r\n\r\nSee above.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3740", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3740/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3740/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3740/events", "html_url": "https://github.com/pypa/setuptools/issues/3740", "id": 1514690745, "node_id": "I_kwDOA0bv8c5aSFi5", "number": 3740, "title": "[BUG] extras definition order will change build outcome", "user": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-30T18:02:07Z", "updated_at": "2022-12-31T15:22:40Z", "closed_at": "2022-12-31T15:22:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.1.0\n\n### Python version\n\n3.11\n\n### OS\n\nmacos\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhile trying to add an extra named \"lock\" which would pin all requirements, I observed that any dependency that was already listed in a previous extra is solely disregarded, basically the example below produced a wheel without any dependencies listed on lock.\r\n\r\n\r\nIf I move the lock line to be the first one, the result is that the other two extras will have no dependencies and that all dependencies will be assigned to the lock one (basically because the lock requirements file contains all dependencies combined). \r\n\r\nStill, that is not expected and will produce a wheel with wrong metadata.\r\n\n\n### Expected behavior\n\nOrder of extras should not change the built metadata. What is inside one extra should not interfere with another extra.\n\n### How to Reproduce\n\n```\r\n[tool.setuptools.dynamic]\r\noptional-dependencies.docs = {file = [\".config/requirements-docs.txt\"]}\r\noptional-dependencies.test = {file = [\".config/requirements-test.txt\"]}\r\noptional-dependencies.lock = {file = [\"requirements.txt\"]}\r\n```\n\n### Output\n\n```console\r\n...\r\nRequires-Dist: zipp (==3.11.0) ; extra == 'lock'\r\nProvides-Extra: test\r\n\r\n# no requires dist for test extra, at all\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3740/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3735", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3735/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3735/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3735/events", "html_url": "https://github.com/pypa/setuptools/issues/3735", "id": 1509222210, "node_id": "I_kwDOA0bv8c5Z9OdC", "number": 3735, "title": "[BUG] dynamic readme guesses incorrect content-type", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-23T11:14:20Z", "updated_at": "2023-01-11T18:01:50Z", "closed_at": "2023-01-11T18:01:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.6.3\r\n\r\n### Python version\r\n\r\nPython 3.11\r\n\r\n### OS\r\n\r\nlinux\r\n\r\n### Additional environment information\r\n\r\nRun within an isolated build via `python -m build`\r\n\r\n### Description\r\n\r\nThis is an issue for a project that uses pyproject.toml to define metadata using the dynamic readme feature provided by setuptools.\r\n\r\nThe contents of `pyproject.toml` contain these excerpts:\r\n```toml\r\n[build-system]\r\nrequires = [\"setuptools >=61\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\n# ...\r\ndynamic = [\"readme\"]\r\n\r\n[tool.setuptools.dynamic]\r\nreadme = {file = [\"docs/release.md\", \"LICENSE.md\"]}\r\n```\r\n\r\nWith the rendered METADATA file, \"Description-Content-Type: text/x-rst\" is found, which is incorrect. The concatenated description files are normal, but remain as Markdown format. This inconsistency of content-type is not detected by (e.g.) `twine check --strict dist/*`.\r\n\r\nThis is not an issue with declarative configurations with (e.g.) setup.cfg, which allows a field to explicitly state the content-type of the concatenated content:\r\n```\r\n[metadata]\r\n# ...\r\nlong_description = file: docs/release.md, LICENSE.md\r\nlong_description_content_type = text/markdown\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe content-type of the files should be auto-detected, and rendered as \"Description-Content-Type: text/markdown\". Inconsistencies or ambiguous guesses should raise warnings.\r\n\r\n### How to Reproduce\r\n\r\n1. create a demo project with the pyproject.toml content, and two Markdown files with `*.md` suffix\r\n2. run `python -m build --wheel` to build the wheel and generate METADATA\r\n\r\n### Output\r\n\r\nMETADATA contains \"Description-Content-Type: text/x-rst\"", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3731", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3731/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3731/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3731/events", "html_url": "https://github.com/pypa/setuptools/issues/3731", "id": 1505021107, "node_id": "I_kwDOA0bv8c5ZtMyz", "number": 3731, "title": "[BUG] editable install doesn't support multiple top level packages with custom package_dir ", "user": {"login": "jjsjann123", "id": 3709243, "node_id": "MDQ6VXNlcjM3MDkyNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3709243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjsjann123", "html_url": "https://github.com/jjsjann123", "followers_url": "https://api.github.com/users/jjsjann123/followers", "following_url": "https://api.github.com/users/jjsjann123/following{/other_user}", "gists_url": "https://api.github.com/users/jjsjann123/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjsjann123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjsjann123/subscriptions", "organizations_url": "https://api.github.com/users/jjsjann123/orgs", "repos_url": "https://api.github.com/users/jjsjann123/repos", "events_url": "https://api.github.com/users/jjsjann123/events{/privacy}", "received_events_url": "https://api.github.com/users/jjsjann123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-20T17:50:07Z", "updated_at": "2022-12-20T20:04:34Z", "closed_at": "2022-12-20T18:30:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools=65.5.0\n\n### Python version\n\nPython 3.10.9\n\n### OS\n\nLinux bc26dde05365 5.4.0-126-generic #142-Ubuntu SMP Fri Aug 26 12:12:57 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI have a simple setup like this:\r\n\r\n```\r\nsetup.py\r\npkg1/\r\n  __init__.py\r\npkg_dir/\r\n  pkg2/\r\n    __init__.py\r\n```\r\nIn `setup.py`, I have\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n  package_dir = {\"pkg2\": \"pkg_dir/pkg2/\"},\r\n  packages = [\"pkg1\", \"pkg2\"])\r\n```\r\n\r\nwhen I install the project with `python setup.py develop`, no errors occurs, but I can't `import pkg2`, which gives me vvv\r\n> ModuleNotFoundError: No module named `pkg2`\r\n\r\nMy setup looks about right, egg info listed things also look about right.\r\n```\r\nroot@9dca5fa65a83:/install_project# cat UNKNOWN.egg-info/SOURCES.txt\r\nsetup.py\r\nUNKNOWN.egg-info/PKG-INFO\r\nUNKNOWN.egg-info/SOURCES.txt\r\nUNKNOWN.egg-info/dependency_links.txt\r\nUNKNOWN.egg-info/top_level.txt\r\npkg1/__init__.py\r\npkg_dir/pkg2/__init__.py\r\n```\r\n```\r\nroot@9dca5fa65a83:/install_project# cat UNKNOWN.egg-info/top_level.txt\r\npkg1\r\npkg2\r\n```\r\n\r\nBut looks like it doesn't have the information on where pkg2 directory should have been.\r\n\r\nMeanwhile, a proper `python setup.py install` would work.\r\n\r\n\n\n### Expected behavior\n\n`python -c \"import pkg2\"` shouldn't error after `python setup.py develop` on the toy example.\n\n### How to Reproduce\n\n1. get the toy example from here: https://github.com/jjsjann123/toy_example/tree/2f632c8cb1ea4b46dc5bc03f51797be2cafe3147\r\n2. install it with `pip install --editable .`\r\n3. run `python -c \"import pkg2\"`\r\n\n\n### Output\n\n```console\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# ll\r\ntotal 24\r\ndrwxrwxrwx 5 root  dip   6 Dec 20 17:41 ./\r\ndrwxr-xr-x 4 root  dip   4 Dec 19 21:45 ../\r\ndrwxr-xr-x 8 14192 dip  13 Dec 20 00:37 .git/\r\ndrwxr-xr-x 3 root  dip   4 Dec 20 17:36 pkg1/\r\ndrwxr-xr-x 3 root  dip   3 Dec 19 23:43 pkg_dir/\r\n-rw-r--r-- 1 root  dip 152 Dec 19 23:44 setup.py\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python setup.py develop\r\nNo parent package detected, impossible to derive `name`\r\nrunning develop\r\n/usr/local/lib/python3.10/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\n/usr/local/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\nrunning egg_info\r\ncreating UNKNOWN.egg-info\r\nwriting UNKNOWN.egg-info/PKG-INFO\r\nwriting dependency_links to UNKNOWN.egg-info/dependency_links.txt\r\nwriting top-level names to UNKNOWN.egg-info/top_level.txt\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nreading manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nrunning build_ext\r\nCreating /usr/local/lib/python3.10/site-packages/UNKNOWN.egg-link (link to .)\r\nAdding UNKNOWN 0.0.0 to easy-install.pth file\r\n\r\nInstalled /jiej/playground/python/install_project\r\nProcessing dependencies for UNKNOWN==0.0.0\r\nFinished processing dependencies for UNKNOWN==0.0.0\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python -c \"import pkg1\"\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python -c \"import pkg2\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pkg2'\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python setup.py install\r\nNo parent package detected, impossible to derive `name`\r\nrunning install\r\n/usr/local/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\n/usr/local/lib/python3.10/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\nrunning bdist_egg\r\nrunning egg_info\r\nwriting UNKNOWN.egg-info/PKG-INFO\r\nwriting dependency_links to UNKNOWN.egg-info/dependency_links.txt\r\nwriting top-level names to UNKNOWN.egg-info/top_level.txt\r\nreading manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\ninstalling library code to build/bdist.linux-x86_64/egg\r\nrunning install_lib\r\nrunning build_py\r\ncreating build\r\ncreating build/lib\r\ncreating build/lib/pkg1\r\ncopying pkg1/__init__.py -> build/lib/pkg1\r\ncreating build/lib/pkg2\r\ncopying pkg_dir/pkg2/__init__.py -> build/lib/pkg2\r\ncreating build/bdist.linux-x86_64\r\ncreating build/bdist.linux-x86_64/egg\r\ncreating build/bdist.linux-x86_64/egg/pkg2\r\ncopying build/lib/pkg2/__init__.py -> build/bdist.linux-x86_64/egg/pkg2\r\ncreating build/bdist.linux-x86_64/egg/pkg1\r\ncopying build/lib/pkg1/__init__.py -> build/bdist.linux-x86_64/egg/pkg1\r\nbyte-compiling build/bdist.linux-x86_64/egg/pkg2/__init__.py to __init__.cpython-310.pyc\r\nbyte-compiling build/bdist.linux-x86_64/egg/pkg1/__init__.py to __init__.cpython-310.pyc\r\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\nzip_safe flag not set; analyzing archive contents...\r\ncreating dist\r\ncreating 'dist/UNKNOWN-0.0.0-py3.10.egg' and adding 'build/bdist.linux-x86_64/egg' to it\r\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\r\nProcessing UNKNOWN-0.0.0-py3.10.egg\r\nCopying UNKNOWN-0.0.0-py3.10.egg to /usr/local/lib/python3.10/site-packages\r\nRemoving UNKNOWN 0.0.0 from easy-install.pth file\r\nAdding UNKNOWN 0.0.0 to easy-install.pth file\r\n\r\nInstalled /usr/local/lib/python3.10/site-packages/UNKNOWN-0.0.0-py3.10.egg\r\nProcessing dependencies for UNKNOWN==0.0.0\r\nFinished processing dependencies for UNKNOWN==0.0.0\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python -c \"import pkg1\"\r\nroot@e2f7910f5346:/jiej/playground/python/install_project# python -c \"import pkg2\"\r\nroot@e2f7910f5346:/jiej/playground/python/install_project#\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3721", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3721/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3721/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3721/events", "html_url": "https://github.com/pypa/setuptools/issues/3721", "id": 1486801943, "node_id": "I_kwDOA0bv8c5YnswX", "number": 3721, "title": "[BUG] Relative import paths not set correctly in __init__.py for setuptools >= 60.0.0", "user": {"login": "roehnan", "id": 22568428, "node_id": "MDQ6VXNlcjIyNTY4NDI4", "avatar_url": "https://avatars.githubusercontent.com/u/22568428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roehnan", "html_url": "https://github.com/roehnan", "followers_url": "https://api.github.com/users/roehnan/followers", "following_url": "https://api.github.com/users/roehnan/following{/other_user}", "gists_url": "https://api.github.com/users/roehnan/gists{/gist_id}", "starred_url": "https://api.github.com/users/roehnan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roehnan/subscriptions", "organizations_url": "https://api.github.com/users/roehnan/orgs", "repos_url": "https://api.github.com/users/roehnan/repos", "events_url": "https://api.github.com/users/roehnan/events{/privacy}", "received_events_url": "https://api.github.com/users/roehnan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-12-09T13:54:31Z", "updated_at": "2022-12-09T19:53:38Z", "closed_at": "2022-12-09T19:53:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.10.0\n\n### Python version\n\n3.10.5 - 3.10.9, 3.11\n\n### OS\n\nFedora Linux 37\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nFor setuptools >= 60.0.0, installing amqplib==1.0.2 results in an invalid __init__.py file.\r\n\r\nThe client library cannot be imported because the relative imports are missing the initial '.'.\r\n\r\nUnder setuptools >= 60.0.0, the imports are written like:\r\n\r\n```\r\nfrom basic_message import *\r\nfrom channel import *\r\nfrom connection import *\r\nfrom exceptions import *\r\n```\r\n\r\nBecause of this, importing the client fails:\r\n\r\n```\r\n>>> import amqplib.client_0_8\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.11/site-packages/amqplib/client_0_8/__init__.py\", line 24, in <module>\r\n    from basic_message import *\r\nModuleNotFoundError: No module named 'basic_message'\r\n```\n\n### Expected behavior\n\nThe __init__.py contains proper relative imports:\r\n\r\n```from .basic_message import *\r\nfrom .channel import *\r\nfrom .connection import *\r\nfrom .exceptions import *\r\n```\n\n### How to Reproduce\n\n1. Install setuptools>=60.0.0 (`python -m pip install 'setuptools>=60.0.0'`)\r\n2. Install amqplib==1.0.2 (`python -m pip install 'amqplib==1.0.2'`)\r\n3. From a Python interpreter, attempt to import `amqplib.client_0_8` (`import amqplib.client_0_8\r\n`)\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.11/site-packages/amqplib/client_0_8/__init__.py\", line 24, in <module>\r\n    from basic_message import *\r\nModuleNotFoundError: No module named 'basic_message'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3721/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3707", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3707/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3707/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3707/events", "html_url": "https://github.com/pypa/setuptools/issues/3707", "id": 1462286235, "node_id": "I_kwDOA0bv8c5XKLeb", "number": 3707, "title": "[BUG] AttributeError: module 'distutils.log' has no attribute 'warning'", "user": {"login": "dmytro-returnbear", "id": 117669364, "node_id": "U_kgDOBwN99A", "avatar_url": "https://avatars.githubusercontent.com/u/117669364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmytro-returnbear", "html_url": "https://github.com/dmytro-returnbear", "followers_url": "https://api.github.com/users/dmytro-returnbear/followers", "following_url": "https://api.github.com/users/dmytro-returnbear/following{/other_user}", "gists_url": "https://api.github.com/users/dmytro-returnbear/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmytro-returnbear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmytro-returnbear/subscriptions", "organizations_url": "https://api.github.com/users/dmytro-returnbear/orgs", "repos_url": "https://api.github.com/users/dmytro-returnbear/repos", "events_url": "https://api.github.com/users/dmytro-returnbear/events{/privacy}", "received_events_url": "https://api.github.com/users/dmytro-returnbear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-23T19:18:21Z", "updated_at": "2022-11-24T10:53:58Z", "closed_at": "2022-11-24T04:47:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.6.2\n\n### Python version\n\nPython 3.8.15\n\n### OS\n\nmacOS 12.5.1\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nInstalling a package `kappa=0.6.0` doesn't work. I think it could be the issue on setuptools's side.\n\n### Expected behavior\n\nInstalling the package works.\n\n### How to Reproduce\n\n```console\r\n$ python3.8 -m venv .venv\r\n$ source .venv/bin/activate\r\n$ pip install setuptools==65.6.2\r\n$ pip install wheel\r\n$ pip install kappa==0.6.0\r\n```\n\n### Output\n\n```console\r\n(.venv) dmytro@Dmytros-MacBook-Pro install_kappa % pip install kappa==0.6.0\r\nCollecting kappa==0.6.0\r\n  Using cached kappa-0.6.0.tar.gz (29 kB)\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [20 lines of output]\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 34, in <module>\r\n        File \"/private/var/folders/kv/zxwjm57d3jdgwyylrg2db6r80000gn/T/pip-install-xjv7l4bl/kappa_6f4dfc99aa59445e99fd8697c5e00cd7/setup.py\", line 54, in <module>\r\n          run_setup()\r\n        File \"/private/var/folders/kv/zxwjm57d3jdgwyylrg2db6r80000gn/T/pip-install-xjv7l4bl/kappa_6f4dfc99aa59445e99fd8697c5e00cd7/setup.py\", line 18, in run_setup\r\n          setup(\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/__init__.py\", line 87, in setup\r\n          return distutils.core.setup(**attrs)\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/_distutils/core.py\", line 147, in setup\r\n          _setup_distribution = dist = klass(attrs)\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/dist.py\", line 475, in __init__\r\n          _Distribution.__init__(\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 258, in __init__\r\n          getattr(self.metadata, \"set_\" + key)(val)\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 1242, in set_classifiers\r\n          self.classifiers = _ensure_list(value, 'classifiers')\r\n        File \"/Users/dmytro/Tests/install_kappa/.venv/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 48, in _ensure_list\r\n          log.warning(msg)\r\n      AttributeError: module 'distutils.log' has no attribute 'warning'\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3707/reactions", "total_count": 9, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3693", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3693/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3693/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3693/events", "html_url": "https://github.com/pypa/setuptools/issues/3693", "id": 1456453033, "node_id": "I_kwDOA0bv8c5Wz7Wp", "number": 3693, "title": "[BUG] release v65.6.0 breaks packages downstream due to removal of `distutils.log.Log`", "user": {"login": "sphuber", "id": 6992332, "node_id": "MDQ6VXNlcjY5OTIzMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/6992332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sphuber", "html_url": "https://github.com/sphuber", "followers_url": "https://api.github.com/users/sphuber/followers", "following_url": "https://api.github.com/users/sphuber/following{/other_user}", "gists_url": "https://api.github.com/users/sphuber/gists{/gist_id}", "starred_url": "https://api.github.com/users/sphuber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sphuber/subscriptions", "organizations_url": "https://api.github.com/users/sphuber/orgs", "repos_url": "https://api.github.com/users/sphuber/repos", "events_url": "https://api.github.com/users/sphuber/events{/privacy}", "received_events_url": "https://api.github.com/users/sphuber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2022-11-19T12:48:43Z", "updated_at": "2022-11-24T17:52:09Z", "closed_at": "2022-11-23T14:46:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.6.0\n\n### Python version\n\nPython 3.10\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe `distutils.log.Log` class was removed in https://github.com/pypa/setuptools/commit/74652cabdeaacadc76ccf126563bed8ee2ccf3ef. This causes popular packages downstream, such as `numpy`, to fail: see https://github.com/numpy/numpy/issues/22623\n\n### Expected behavior\n\nThe module `distutils.log` module was not officially marked as deprecated even though https://github.com/pypa/setuptools/commit/74652cabdeaacadc76ccf126563bed8ee2ccf3ef added to the docstring that the module is `Retained for compatibility and should not be used.`. It would be great if the removed class could be reinstated and a deprecation pathway be provided.\n\n### How to Reproduce\n\n1. `pip install setuptools==65.6.0`\r\n2. `from numpy.distutils import Log`\n\n### Output\n\n```\r\nIn [4]: from numpy.distutils import Log\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-4-f8e71815afcd> in <module>\r\n----> 1 from numpy.distutils import Log\r\n\r\n~/.virtualenvs/aiida_dev/lib/python3.9/site-packages/numpy/distutils/__init__.py in <module>\r\n     22 # Must import local ccompiler ASAP in order to get\r\n     23 # customized CCompiler.spawn effective.\r\n---> 24 from . import ccompiler\r\n     25 from . import unixccompiler\r\n     26 \r\n\r\n~/.virtualenvs/aiida_dev/lib/python3.9/site-packages/numpy/distutils/ccompiler.py in <module>\r\n     18 from distutils.version import LooseVersion\r\n     19 \r\n---> 20 from numpy.distutils import log\r\n     21 from numpy.distutils.exec_command import (\r\n     22     filepath_from_subprocess_output, forward_bytes_to_stdout\r\n\r\n~/.virtualenvs/aiida_dev/lib/python3.9/site-packages/numpy/distutils/log.py in <module>\r\n      2 import sys\r\n      3 from distutils.log import *  # noqa: F403\r\n----> 4 from distutils.log import Log as old_Log\r\n      5 from distutils.log import _global_log\r\n      6 \r\n\r\nImportError: cannot import name 'Log' from 'distutils.log' (/home/sph/.virtualenvs/aiida_dev/lib/python3.9/site-packages/setuptools/_distutils/log.py)\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3693/reactions", "total_count": 36, "+1": 25, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 11}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3692", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3692/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3692/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3692/events", "html_url": "https://github.com/pypa/setuptools/issues/3692", "id": 1455523121, "node_id": "I_kwDOA0bv8c5WwYUx", "number": 3692, "title": "[BUG] autodiscovery for single-module layout causes `build_wheel(\".\")` to produce an empty wheel", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-18T17:33:36Z", "updated_at": "2022-11-23T18:02:31Z", "closed_at": "2022-11-23T14:46:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n65.5.1\n\n### Python version\n\n3.11.0\n\n### OS\n\nGentoo Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen the package is using a flat distribution layout for a single Python module with autodiscovery, the build-backend produces an empty wheel if wheel_dir is `.`. It seems to work correctly if a subdirectory is used as wheel_dir.\r\n\r\nI've noticed this with [bitstring](https://github.com/scott-griffiths/bitstring) package.\n\n### Expected behavior\n\nCorrect package or an explicit error.\n\n### How to Reproduce\n\n```\r\ncat > pyproject.toml <<EOF\r\n[build-system]\r\nrequires = [\"setuptools>=61\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"test\"\r\nversion = \"1\"\r\nEOF\r\n\r\n> foo.py\r\npython -c 'import setuptools.build_meta; setuptools.build_meta.build_wheel(\".\")'\r\n```\n\n### Output\n\n```console\r\nrunning bdist_wheel\r\nrunning build\r\nrunning build_py\r\nrunning egg_info\r\ncreating test.egg-info\r\nwriting test.egg-info/PKG-INFO\r\nwriting dependency_links to test.egg-info/dependency_links.txt\r\nwriting top-level names to test.egg-info/top_level.txt\r\nwriting manifest file 'test.egg-info/SOURCES.txt'\r\nlisting git files failed - pretending there aren't any\r\nreading manifest file 'test.egg-info/SOURCES.txt'\r\nwriting manifest file 'test.egg-info/SOURCES.txt'\r\ninstalling to build/bdist.linux-x86_64/wheel\r\nrunning install\r\nrunning install_lib\r\nwarning: install_lib: 'build/lib' does not exist -- no Python modules to install\r\n\r\nrunning install_egg_info\r\nCopying test.egg-info to build/bdist.linux-x86_64/wheel/test-1-py3.11.egg-info\r\nrunning install_scripts\r\ncreating build/bdist.linux-x86_64/wheel/test-1.dist-info/WHEEL\r\ncreating '/tmp/test/tmpygf6hdpg/test-1-py3-none-any.whl' and adding 'build/bdist.linux-x86_64/wheel' to it\r\nadding 'test-1.dist-info/METADATA'\r\nadding 'test-1.dist-info/WHEEL'\r\nadding 'test-1.dist-info/top_level.txt'\r\nadding 'test-1.dist-info/RECORD'\r\nremoving build/bdist.linux-x86_64/wheel\r\n\r\n$ unzip -l test-1-py3-none-any.whl \r\nArchive:  test-1-py3-none-any.whl\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n       45  11-18-2022 17:32   test-1.dist-info/METADATA\r\n       92  11-18-2022 17:32   test-1.dist-info/WHEEL\r\n       12  11-18-2022 17:32   test-1.dist-info/top_level.txt\r\n      268  11-18-2022 17:32   test-1.dist-info/RECORD\r\n---------                     -------\r\n      417                     4 files\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3692/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3681", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3681/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3681/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3681/events", "html_url": "https://github.com/pypa/setuptools/issues/3681", "id": 1448858273, "node_id": "I_kwDOA0bv8c5WW9Kh", "number": 3681, "title": "[BUG] setuptools doesn't respect global distutils.cfg file for changing compiler", "user": {"login": "eabase", "id": 52289379, "node_id": "MDQ6VXNlcjUyMjg5Mzc5", "avatar_url": "https://avatars.githubusercontent.com/u/52289379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eabase", "html_url": "https://github.com/eabase", "followers_url": "https://api.github.com/users/eabase/followers", "following_url": "https://api.github.com/users/eabase/following{/other_user}", "gists_url": "https://api.github.com/users/eabase/gists{/gist_id}", "starred_url": "https://api.github.com/users/eabase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eabase/subscriptions", "organizations_url": "https://api.github.com/users/eabase/orgs", "repos_url": "https://api.github.com/users/eabase/repos", "events_url": "https://api.github.com/users/eabase/events{/privacy}", "received_events_url": "https://api.github.com/users/eabase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-14T22:24:50Z", "updated_at": "2022-11-24T15:30:00Z", "closed_at": "2022-11-23T14:46:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.5.1\r\n\r\n### Python version\r\n\r\nPython 3.10.0\r\n\r\n### OS\r\n\r\nWin-10\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI have tried just about everything to try to make *setuptools* **not use** `python setup.py ...` to compile and install a C-built extension package. \r\n\r\nAs you have [elegantly stated](https://setuptools.pypa.io/en/latest/deprecated/commands.html) (now for several years) that one *should not* use `python setup.py`: \r\n\r\n> ... running python setup.py directly as a script is considered deprecated. This also means that users should avoid running commands directly via python setup.py <command>.\r\n> \r\n> If you want to create [sdist](https://packaging.python.org/en/latest/glossary/#term-Source-Distribution-or-sdist) or [wheel](https://packaging.python.org/en/latest/glossary/#term-Wheel) distributions the recommendation is to use the command line tool provided by [build](https://pypi.org/project/build):\r\n\r\n```bash\r\npip install build  # needs to be installed first\r\npython -m build  # builds both sdist and wheel\r\n```\r\nHowever, because `python -m build` ignores the `.../Lib/distutils/distutils.cfg` file,   \r\nthere is no known way to avoid using the good old: \r\n```bash\r\npython setup.py build --compiler=mingw32\r\n```  \r\n\r\n### Expected behavior\r\n\r\nI expect to be able to build my package using any compiler of my choice, like MinGW, by specifying this in the `python -m build` command. \r\n\r\n### How to Reproduce\r\n\r\n`python -m build -n -w --config-setting=\"--compiler=mingw32\"` \r\n\r\nIs ignored\r\n\r\n\r\n### Output\r\n\r\nAlways using MS Visual Studio VC....", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3677", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3677/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3677/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3677/events", "html_url": "https://github.com/pypa/setuptools/issues/3677", "id": 1447577290, "node_id": "I_kwDOA0bv8c5WSEbK", "number": 3677, "title": "[BUG] set version=1.0.1.b101 but get whl version=1.0.1b101", "user": {"login": "qianyiwei", "id": 30101368, "node_id": "MDQ6VXNlcjMwMTAxMzY4", "avatar_url": "https://avatars.githubusercontent.com/u/30101368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qianyiwei", "html_url": "https://github.com/qianyiwei", "followers_url": "https://api.github.com/users/qianyiwei/followers", "following_url": "https://api.github.com/users/qianyiwei/following{/other_user}", "gists_url": "https://api.github.com/users/qianyiwei/gists{/gist_id}", "starred_url": "https://api.github.com/users/qianyiwei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qianyiwei/subscriptions", "organizations_url": "https://api.github.com/users/qianyiwei/orgs", "repos_url": "https://api.github.com/users/qianyiwei/repos", "events_url": "https://api.github.com/users/qianyiwei/events{/privacy}", "received_events_url": "https://api.github.com/users/qianyiwei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-14T08:05:46Z", "updated_at": "2022-11-14T17:51:00Z", "closed_at": "2022-11-14T17:51:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools == 65.5.1\n\n### Python version\n\npython 3.9\n\n### OS\n\ncentos\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nin setup.py, set version== 1.0.1.b101\r\nbut after install whl ,pip list whl version=1.0.1b101\n\n### Expected behavior\n\nno\n\n### How to Reproduce\n\nset version=1.0.1.b101 and exec python setup.py bdist_wheel\n\n### Output\n\n```console\r\nbut after install whl ,pip list whl version=1.0.1b101\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3677/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3673", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3673/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3673/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3673/events", "html_url": "https://github.com/pypa/setuptools/issues/3673", "id": 1446615327, "node_id": "I_kwDOA0bv8c5WOZkf", "number": 3673, "title": "[BUG] config.read_configuration does not evaluate attr: attributes", "user": {"login": "nbraud", "id": 1155801, "node_id": "MDQ6VXNlcjExNTU4MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1155801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbraud", "html_url": "https://github.com/nbraud", "followers_url": "https://api.github.com/users/nbraud/followers", "following_url": "https://api.github.com/users/nbraud/following{/other_user}", "gists_url": "https://api.github.com/users/nbraud/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbraud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbraud/subscriptions", "organizations_url": "https://api.github.com/users/nbraud/orgs", "repos_url": "https://api.github.com/users/nbraud/repos", "events_url": "https://api.github.com/users/nbraud/events{/privacy}", "received_events_url": "https://api.github.com/users/nbraud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-12T21:39:56Z", "updated_at": "2022-11-14T17:44:24Z", "closed_at": "2022-11-14T17:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n63.2.0.post0\n\n### Python version\n\n3.10.6\n\n### OS\n\nNixOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\n`config.read_configuration` does not evaluate `attr:` values, breaking tools such as `tox` in some cases.\n\n### Expected behavior\n\nThose values are obtained correctly, same way `file:` etc. are correctly supported.\n\n### How to Reproduce\n\n1. `git clone https://gist.github.com/c203d1984a0ace60cdc34d7f33372726`\r\n2. Try to run `tox -e meta` or call `config.read_configuration('./setup.cfg')`\n\n### Output\n\n```console\r\n$ python -c 'from setuptools.config import read_configuration as rc; print(rc(\"./setup.cfg\"))'\r\n<string>:1: SetuptoolsDeprecationWarning: As setuptools moves its configuration towards `pyproject.toml`, `setuptools.config.read_configuration` became deprecated.\r\n[...]\r\n\r\ndefaultdict(<class 'dict'>, {'metadata': {'name': 'attr: test_pkg.__title__', 'version': '0', 'description': 'attr: test_pkg.__summary__'}, 'options': {'package_dir': {'': '.'}}})\r\n\r\n$ tox -e meta\r\nerror: Invalid distribution name or version syntax: attr-test-pkg.-title--0\r\nERROR: invocation failed (exit code 1), logfile: /run/user/1000/tmp.3zCHf5QmWc/.tox/.package/log/.package-11.log\r\n============================================================== log start ===============================================================\r\nrunning egg_info\r\n\r\n=============================================================== log end ================================================================\r\nERROR: FAIL could not package project - v = InvocationError(\"/run/user/1000/tmp.3zCHf5QmWc/.tox/.package/bin/python /nix/store/qxnyf9z49splrzxj3jmfxhs6vgs0il9d-python3.10-tox-3.25.1/lib/python3.10/site-packages/tox/helper/build_requires.py setuptools.build_meta '' ''\", 1)\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3667", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3667/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3667/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3667/events", "html_url": "https://github.com/pypa/setuptools/issues/3667", "id": 1442175302, "node_id": "I_kwDOA0bv8c5V9dlG", "number": 3667, "title": "[BUG] Running the \"egg_info\" command without proper rights results in a cryptic and unhelpful error message", "user": {"login": "droodev", "id": 7488821, "node_id": "MDQ6VXNlcjc0ODg4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/7488821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/droodev", "html_url": "https://github.com/droodev", "followers_url": "https://api.github.com/users/droodev/followers", "following_url": "https://api.github.com/users/droodev/following{/other_user}", "gists_url": "https://api.github.com/users/droodev/gists{/gist_id}", "starred_url": "https://api.github.com/users/droodev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/droodev/subscriptions", "organizations_url": "https://api.github.com/users/droodev/orgs", "repos_url": "https://api.github.com/users/droodev/repos", "events_url": "https://api.github.com/users/droodev/events{/privacy}", "received_events_url": "https://api.github.com/users/droodev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-09T14:09:44Z", "updated_at": "2023-01-11T18:01:51Z", "closed_at": "2023-01-11T18:01:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools == 65.5.1\n\n### Python version\n\nPython 3.8, 3.9\n\n### OS\n\nUbuntu Mate\n\n### Additional environment information\n\nI used setuptools via pip. However, the issue is not dependent on how exactly one runs the egg_info command.\n\n### Description\n\nDeveloiping a package, I tried to install it using pip with pyproject.toml specifying setuptools as a backend. After running\r\n`pip install -e .`\r\nI got an output with the following error:\r\n` running egg_info\r\n  error: [Errno 13] Permission denied\r\n`\r\nThe problem is that this error does not show to what the permission is denied.\r\n\r\nI tracked it down, and the output comes from the `utime` function in this part (lines296-988) of `setuptools/command/egg_info.py`\r\n[(Click to see the file in the repo)](https://github.com/pypa/setuptools/blob/main/setuptools/command/egg_info.py#L297)\r\n```python\r\ndef run(self):\r\n        self.mkpath(self.egg_info)\r\n        os.utime(self.egg_info, None)\r\n```\r\nSo `os.utime` raises an `OSError` which is then printed out. Unfortunately, for some weird reason, the raised error does not contain a properly filled field `filename`, hence one needs a workaround to really print the file out\n\n### Expected behavior\n\nAs usually with this kind of error, the expected output is something like:\r\n`error: [Errno 13] Permission denied: /foo/bar/package/src/package-egg.info`\n\n### How to Reproduce\n\n[dist-err.zip](https://github.com/pypa/setuptools/files/9971742/dist-err.zip)\r\n0. I assume that `pip` is installed.\r\n1. Unzip the above very simple package project\r\n2. Go to the main directory of the project (in which the `pyproject.toml` is)\r\n3. run `sudo mkdir src/dist_err_pkg.egg-info` (the quickest way of creating a directory inaccessible for a standard user in ubuntu)\r\n4. run `pip install .`\n\n### Output\n\n```console\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [2 lines of output]\r\n      running egg_info\r\n      error: [Errno 13] Permission denied\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3663", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3663/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3663/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3663/events", "html_url": "https://github.com/pypa/setuptools/issues/3663", "id": 1436725722, "node_id": "I_kwDOA0bv8c5VorHa", "number": 3663, "title": "[BUG] Setuptools via pyproject.toml parses maintainers list badly", "user": {"login": "nabriis", "id": 26246495, "node_id": "MDQ6VXNlcjI2MjQ2NDk1", "avatar_url": "https://avatars.githubusercontent.com/u/26246495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nabriis", "html_url": "https://github.com/nabriis", "followers_url": "https://api.github.com/users/nabriis/followers", "following_url": "https://api.github.com/users/nabriis/following{/other_user}", "gists_url": "https://api.github.com/users/nabriis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nabriis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nabriis/subscriptions", "organizations_url": "https://api.github.com/users/nabriis/orgs", "repos_url": "https://api.github.com/users/nabriis/repos", "events_url": "https://api.github.com/users/nabriis/events{/privacy}", "received_events_url": "https://api.github.com/users/nabriis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-04T23:27:17Z", "updated_at": "2022-11-09T19:02:46Z", "closed_at": "2022-11-09T19:02:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.5.1\r\n\r\n### Python version\r\n\r\n-\r\n\r\n### OS\r\n\r\n-\r\n\r\n### Additional environment information\r\n\r\nsetuptools via isolated environment as part of pyproject.toml.\r\n\r\n### Description\r\n\r\nOur releases build via setuptools using a pyproject.toml file have just now started to fail because the maintainer list added to METADATA is some odd string rather than the list of maintainers.\r\n\r\nIt has been working at least a few days ago.\r\n\r\nThe pyproject.toml file is here https://github.com/CUQI-DTU/CUQIpy/blob/main/pyproject.toml. Relevant parts are:\r\n``` \r\n[build-system]\r\nrequires = [\"setuptools>=42\", \"wheel\", \"versioneer[toml]==0.26\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nmaintainers = [\r\n    {name = \"Nicolai A. B. Riis\", email = \"nabr@dtu.dk\"},\r\n    {name = \"Jakob S. J\u00f8rgensen\", email = \"jakj@dtu.dk\"},\r\n    {name = \"Amal M. Alghamdi\", email = \"amaal@dtu.dk\"}\r\n]\r\n```\r\n\r\nSomehow in the METADATA after running `python -m build --sdist --wheel --outdir dist/ .`  maintainers is written as follows.\r\n```\r\n'=?utf-8?b?Ik5pY29sYWkgQS4gQi4g...bWRpIiA8YW1hYWxAZHR1LmRrPg==?='\r\n```\r\n\r\nError thrown by PyPI when attempting to upload release can be viewed here:\r\nhttps://github.com/CUQI-DTU/CUQIpy/actions/runs/3397562988/jobs/5649833961\r\n\r\nPerhaps related to the \u00f8 in one of our names?\r\n\r\n### Expected behavior\r\n\r\nExpect to correctly parse the maintainer list and provide METADATA file with correct format of maintainers.\r\n\r\n### How to Reproduce\r\n\r\n1. Create Python project with pyproject.toml file and maintainer list as written above.\r\n2. Build wheels etc. for release\r\n3. Check METADATA file\r\n\r\n### Output\r\n\r\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3659", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3659/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3659/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3659/events", "html_url": "https://github.com/pypa/setuptools/issues/3659", "id": 1432315851, "node_id": "I_kwDOA0bv8c5VX2fL", "number": 3659, "title": "[BUG] Inefficient Regex", "user": {"login": "SCH227", "id": 69127692, "node_id": "MDQ6VXNlcjY5MTI3Njky", "avatar_url": "https://avatars.githubusercontent.com/u/69127692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SCH227", "html_url": "https://github.com/SCH227", "followers_url": "https://api.github.com/users/SCH227/followers", "following_url": "https://api.github.com/users/SCH227/following{/other_user}", "gists_url": "https://api.github.com/users/SCH227/gists{/gist_id}", "starred_url": "https://api.github.com/users/SCH227/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SCH227/subscriptions", "organizations_url": "https://api.github.com/users/SCH227/orgs", "repos_url": "https://api.github.com/users/SCH227/repos", "events_url": "https://api.github.com/users/SCH227/events{/privacy}", "received_events_url": "https://api.github.com/users/SCH227/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-02T01:13:35Z", "updated_at": "2023-04-07T16:00:03Z", "closed_at": "2022-11-04T17:52:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.5.0\n\n### Python version\n\nPython 3.10\n\n### OS\n\nKali Linux\n\n### Additional environment information\n\nThe reported bug should be independent from env\n\n### Description\n\n[This](https://github.com/pypa/setuptools/blob/fe8a98e696241487ba6ac9f91faa38ade939ec5d/setuptools/package_index.py#L200) regex pattern is inefficient. \r\nAs described through PSRT channel, it may end in a DoS if an user is fetching malicious HTML from a package in PyPI or custom PackageIndex page.\n\n### Expected behavior\n\nRegex matches/not without hanging.\r\nThe following regex seems to be performing ok:\r\n`<([^>]*\\srel\\s{0,10}=\\s{0,10}['\"]?([^'\" >]+)[^>]*)>`\n\n### How to Reproduce\n\n```\r\nDescribed through PSRT channel\r\n```\n\n### Output\n\n[  hangs forever  ]\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3657", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3657/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3657/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3657/events", "html_url": "https://github.com/pypa/setuptools/issues/3657", "id": 1430484934, "node_id": "I_kwDOA0bv8c5VQ3fG", "number": 3657, "title": "[BUG] bundled distutils produces incorrect paths to headers with relocatable pythons", "user": {"login": "asottile-sentry", "id": 103459774, "node_id": "U_kgDOBiqrvg", "avatar_url": "https://avatars.githubusercontent.com/u/103459774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile-sentry", "html_url": "https://github.com/asottile-sentry", "followers_url": "https://api.github.com/users/asottile-sentry/followers", "following_url": "https://api.github.com/users/asottile-sentry/following{/other_user}", "gists_url": "https://api.github.com/users/asottile-sentry/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile-sentry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile-sentry/subscriptions", "organizations_url": "https://api.github.com/users/asottile-sentry/orgs", "repos_url": "https://api.github.com/users/asottile-sentry/repos", "events_url": "https://api.github.com/users/asottile-sentry/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile-sentry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-31T20:55:57Z", "updated_at": "2023-02-16T14:33:09Z", "closed_at": "2023-02-16T14:33:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.5.0\n\n### Python version\n\n3.11.0\n\n### OS\n\nmacos\n\n### Additional environment information\n\nthe pythons can be downloaded from here if you'd like to reproduce exactly:\r\n\r\narm64: https://storage.googleapis.com/sentry-dev-infra-assets/prebuilt-pythons/python-3.11.0+0-macosx_12_0_arm64.tgz\r\nx86_64: https://storage.googleapis.com/sentry-dev-infra-assets/prebuilt-pythons/python-3.11.0+0-macosx_12_0_x86_64.tgz\r\n\r\nthe pythons are built from https://github.com/getsentry/prebuilt-pythons\n\n### Description\n\nbuilding a trivial C extension fails as it looks for the headers at the original path that the binaries were built at rather than the path after installation.  the stdlib implementation of `distutils` seems to handle this correctly\r\n\r\n```python\r\n# setup.py\r\nfrom setuptools import setup\r\nfrom setuptools import Extension\r\n\r\n\r\nsetup(\r\n    name='hello-lib',\r\n    version='1',\r\n    ext_modules=[Extension('_hello', ['_hello.c'])],\r\n)\r\n```\r\n\r\n```c\r\n/* _hello.c */\r\n#include <Python.h>\r\n\r\nstatic PyObject* _hello_world(PyObject* self) {\r\n    return PyUnicode_FromString(\"hello world\");  // python c api\r\n}\r\n\r\nstatic struct PyMethodDef methods[] = {\r\n    {\"hello_world\", (PyCFunction)_hello_world, METH_NOARGS},\r\n    {NULL, NULL}\r\n};\r\n\r\nstatic struct PyModuleDef module = {\r\n    PyModuleDef_HEAD_INIT,\r\n    \"_hello\",\r\n    NULL,\r\n    -1,\r\n    methods\r\n};\r\n\r\nPyMODINIT_FUNC PyInit__hello(void) {\r\n    return PyModule_Create(&module);\r\n}\r\n```\n\n### Expected behavior\n\nI expect them to be able to build and identify the prefix from the current executable location -- for example using `SETUPTOOLS_USE_DISTUTILS=stdlib`:\r\n\r\n```console\r\n$ SETUPTOOLS_USE_DISTUTILS=stdlib ./venv311/bin/pip wheel .\r\nProcessing /private/tmp/y\r\n  Preparing metadata (setup.py) ... done\r\nBuilding wheels for collected packages: hello-lib\r\n  Building wheel for hello-lib (setup.py) ... done\r\n  Created wheel for hello-lib: filename=hello_lib-1-cp311-cp311-macosx_12_0_arm64.whl size=2690 sha256=6ff81f5734d30f9c0f99bc341806e16f9d870135971f81aef068409ffccf13b9\r\n  Stored in directory: /private/var/folders/1c/5r_6j4rs0j56vnt8kq83tmvh0000gn/T/pip-ephem-wheel-cache-d8pr4u8_/wheels/b5/10/da/93caa535f3d99a26b32fc168ccfc527888b41536b9e286bf4f\r\nSuccessfully built hello-lib\r\n```\n\n### How to Reproduce\n\nnote that this script has the url above for `arm64` -- substitute for `x86_64` instead\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\nset -euxo pipefail\r\n\r\nrm -rf work\r\nmkdir work\r\ncd work\r\n\r\ncurl --silent --location https://storage.googleapis.com/sentry-dev-infra-assets/prebuilt-pythons/python-3.11.0+0-macosx_12_0_arm64.tgz |\r\n   tar -xf -\r\n\r\n*/bin/python3 -m venv venv\r\nvenv/bin/pip install setuptools wheel --upgrade\r\n\r\ncat > setup.py <<EOF\r\nfrom setuptools import setup\r\nfrom setuptools import Extension\r\n\r\n\r\nsetup(\r\n    name='hello-lib',\r\n    version='1',\r\n    ext_modules=[Extension('_hello', ['_hello.c'])],\r\n)\r\nEOF\r\n\r\ncat > _hello.c << EOF\r\n#include <Python.h>\r\n\r\nstatic PyObject* _hello_world(PyObject* self) {\r\n    return PyUnicode_FromString(\"hello world\");  // python c api\r\n}\r\n\r\nstatic struct PyMethodDef methods[] = {\r\n    {\"hello_world\", (PyCFunction)_hello_world, METH_NOARGS},\r\n    {NULL, NULL}\r\n};\r\n\r\nstatic struct PyModuleDef module = {\r\n    PyModuleDef_HEAD_INIT,\r\n    \"_hello\",\r\n    NULL,\r\n    -1,\r\n    methods\r\n};\r\n\r\nPyMODINIT_FUNC PyInit__hello(void) {\r\n    return PyModule_Create(&module);\r\n}\r\nEOF\r\n\r\nvenv/bin/pip wheel .\r\n```\n\n### Output\n\n```console\r\n$ SETUPTOOLS_USE_DISTUTILS=local bash t.sh \r\n+ rm -rf work\r\n+ mkdir work\r\n+ cd work\r\n+ curl --silent --location https://storage.googleapis.com/sentry-dev-infra-assets/prebuilt-pythons/python-3.11.0+0-macosx_12_0_arm64.tgz\r\n+ tar -xf -\r\n+ python-3.11.0+0-macosx_12_0_arm64/bin/python3 -m venv venv\r\n+ venv/bin/pip install setuptools wheel --upgrade\r\nRequirement already satisfied: setuptools in ./venv/lib/python3.11/site-packages (65.5.0)\r\nCollecting wheel\r\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\r\nInstalling collected packages: wheel\r\nSuccessfully installed wheel-0.37.1\r\n+ cat\r\n+ cat\r\n+ venv/bin/pip wheel .\r\nProcessing /private/tmp/y/y/work\r\n  Preparing metadata (setup.py) ... done\r\nBuilding wheels for collected packages: hello-lib\r\n  Building wheel for hello-lib (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 python setup.py bdist_wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [12 lines of output]\r\n      running bdist_wheel\r\n      running build\r\n      running build_ext\r\n      building '_hello' extension\r\n      creating build\r\n      creating build/temp.macosx-12.5-arm64-cpython-311\r\n      gcc -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/private/tmp/y/y/work/venv/include -I/var/folders/76/zy5ktkns50v6gt5g8r0sf6sc0000gn/T/tmp7csdie6a/prefix/include/python3.11 -c _hello.c -o build/temp.macosx-12.5-arm64-cpython-311/_hello.o\r\n      _hello.c:1:10: fatal error: 'Python.h' file not found\r\n      #include <Python.h>\r\n               ^~~~~~~~~~\r\n      1 error generated.\r\n      error: command '/usr/bin/gcc' failed with exit code 1\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for hello-lib\r\n  Running setup.py clean for hello-lib\r\nFailed to build hello-lib\r\nERROR: Failed to build one or more wheels\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3639", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3639/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3639/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3639/events", "html_url": "https://github.com/pypa/setuptools/issues/3639", "id": 1413624022, "node_id": "I_kwDOA0bv8c5UQjDW", "number": 3639, "title": "[BUG] Build_ext --inplace failed on Windows", "user": {"login": "its-monotype", "id": 79363260, "node_id": "MDQ6VXNlcjc5MzYzMjYw", "avatar_url": "https://avatars.githubusercontent.com/u/79363260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/its-monotype", "html_url": "https://github.com/its-monotype", "followers_url": "https://api.github.com/users/its-monotype/followers", "following_url": "https://api.github.com/users/its-monotype/following{/other_user}", "gists_url": "https://api.github.com/users/its-monotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/its-monotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/its-monotype/subscriptions", "organizations_url": "https://api.github.com/users/its-monotype/orgs", "repos_url": "https://api.github.com/users/its-monotype/repos", "events_url": "https://api.github.com/users/its-monotype/events{/privacy}", "received_events_url": "https://api.github.com/users/its-monotype/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-18T17:54:00Z", "updated_at": "2022-10-18T21:30:45Z", "closed_at": "2022-10-18T21:30:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.5.0\r\n\r\n### Python version\r\n\r\n3.10\r\n\r\n### OS\r\n\r\nWindows 11 22H2\r\n\r\n### Additional environment information\r\nVS Buildtools 2022\r\n\r\n### Description\r\n\r\nWhen run the command build_ext with --inplace, that error appeared.\r\n\r\n### Expected behavior\r\n\r\nShould not throw errors\r\n\r\n### How to Reproduce\r\n\r\nCreate a project with poetry, implement build script with cythonize from Cython.Build and build_ext from setuptools.command.build_ext and run `poetry build -f wheel` then after the extensions were created I got error \r\n\r\n### Output\r\n\r\n```console\r\nLINK : fatal error LNK1104: cannot open file 'D:\\a\\pyqt-ui\\pyqt-ui\\pyqt_ui\\colors.cp310-win_amd64.pyd'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 512, in link\r\n    self.spawn([self.linker] + ld_args)\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 521, in spawn\r\n    return super().spawn(cmd, env=env)\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\ccompiler.py\", line 1007, in spawn\r\n    spawn(cmd, dry_run=self.dry_run, **kwargs)\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\spawn.py\", line 70, in spawn\r\n    raise DistutilsExecError(\r\ndistutils.errors.DistutilsExecError: command 'C:\\\\Program Files\\\\Microsoft Visual Studio\\\\2022\\\\Enterprise\\\\VC\\\\Tools\\\\MSVC\\\\14.33.31629\\\\bin\\\\HostX86\\\\x64\\\\link.exe' failed with exit code 1104\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\a\\pyqt-ui\\pyqt-ui\\build.py\", line 106, in <module>\r\n    build({})\r\n  File \"D:\\a\\pyqt-ui\\pyqt-ui\\build.py\", line 44, in build\r\n    build_ext_cmd.run()\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 466, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 4[92](https://github.com/ragempbots/pyqt-ui/actions/runs/3274575537/jobs/5388282776#step:11:93), in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\Cython\\Distutils\\build_ext.py\", line 127, in build_extension\r\n    super(build_ext, self).build_extension(ext)\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 571, in build_extension\r\n    self.compiler.link_shared_object(\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\ccompiler.py\", line 751, in link_shared_object\r\n    self.link(\r\n  File \"C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\tmpdfy3ewae\\.venv\\lib\\site-packages\\setuptools\\_distutils\\_msvccompiler.py\", line 514, in link\r\n    raise LinkError(msg)\r\ndistutils.errors.LinkError: command 'C:\\\\Program Files\\\\Microsoft Visual Studio\\\\2022\\\\Enterprise\\\\VC\\\\Tools\\\\MSVC\\\\14.33.31629\\\\bin\\\\HostX86\\\\x64\\\\link.exe' failed with exit code 1[104](https://github.com/ragempbots/pyqt-ui/actions/runs/3274575537/jobs/5388282776#step:11:105)\r\n\r\nCommand '['C:/Users/RUNNER~1/AppData/Local/Temp/tmpdfy3ewae/.venv/Scripts/python.exe', 'build.py']' returned non-zero exit status 1.\r\nError: Process completed with exit code 1.\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3635", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3635/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3635/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3635/events", "html_url": "https://github.com/pypa/setuptools/issues/3635", "id": 1406582889, "node_id": "I_kwDOA0bv8c5T1sBp", "number": 3635, "title": "[BUG] Editable installs not working with package_dir", "user": {"login": "rzats", "id": 13783592, "node_id": "MDQ6VXNlcjEzNzgzNTky", "avatar_url": "https://avatars.githubusercontent.com/u/13783592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rzats", "html_url": "https://github.com/rzats", "followers_url": "https://api.github.com/users/rzats/followers", "following_url": "https://api.github.com/users/rzats/following{/other_user}", "gists_url": "https://api.github.com/users/rzats/gists{/gist_id}", "starred_url": "https://api.github.com/users/rzats/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rzats/subscriptions", "organizations_url": "https://api.github.com/users/rzats/orgs", "repos_url": "https://api.github.com/users/rzats/repos", "events_url": "https://api.github.com/users/rzats/events{/privacy}", "received_events_url": "https://api.github.com/users/rzats/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-12T17:44:59Z", "updated_at": "2022-10-13T15:38:28Z", "closed_at": "2022-10-13T14:43:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.4.1\n\n### Python version\n\n3.9\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nEditable-mode installs do not work with custom, nonstandard `package_dir`.\r\nNon-editable installs with the same config work fine.\r\n\r\nhttps://github.com/pypa/setuptools/issues/3608 suggests this should be fixed with the newer PEP 660 implementation, but that doesn't seem to be the case.\r\n\r\nI've created a small repo to mirror the structure of the project I'm trying this out on: https://github.com/rzats/setuptools-repro. It contains this `pyproject.toml`:\r\n\r\n```\r\n[build-system]\r\nrequires = [\"setuptools>=65\", \"wheel\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n```\r\n\r\n`setup.cfg`:\r\n\r\n```\r\n[metadata]\r\nname = Local Package\r\n\r\n[options]\r\npackages =\r\n    root.package\r\n\r\npackage_dir =\r\n    root.package = root/package/src\r\n```\r\n\r\nand a Python file at `root/package/src/test.py`.\n\n### Expected behavior\n\nAfter a package is installed with `pip install -e`, it should recognize the mappings from `package_dir` in `pyproject.toml`.\n\n### How to Reproduce\n\nVerify that a non-editable install of the sample package works:\r\n```console\r\n$ git clone https://github.com/rzats/setuptools-repro.git\r\n$ cd setuptools-repro\r\n$ python3 -m pip install --use-pep517 .\r\n$ python3 -c 'import root.package.test'\r\n$ python3 -m pip uninstall Local-Package\r\n```\r\nBut an editable one does not:\r\n```console\r\n$ python3 -m pip install --use-pep517 -e .\r\n$ python3 -c 'import root.package.test'\r\n```\n\n### Output\n\n```console\r\n$ git clone https://github.com/rzats/setuptools-repro.git\r\n\r\n$ cd setuptools-repro\r\n\r\n$ python3 -m pip install --use-pep517 .\r\nDefaulting to user installation because normal site-packages is not writeable\r\nProcessing /Users/work/Documents/setuptools-repro\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: Local-Package\r\n  Building wheel for Local-Package (pyproject.toml) ... done\r\n  Created wheel for Local-Package: filename=Local_Package-0.0.0-py3-none-any.whl size=1219 sha256=33a914cef0d8248c4d1023c7f8ed943f67d21e98b91f47b73e3db2459355752d\r\n  Stored in directory: /Users/work/Library/Caches/pip/wheels/3b/f3/39/5146b860dfd91bd2fc9e945cd0e8f702410f76f413f67f7bf8\r\nSuccessfully built Local-Package\r\nInstalling collected packages: Local-Package\r\nSuccessfully installed Local-Package-0.0.0\r\n\r\n$ python3 -c 'import root.package.test'\r\n\r\n$ python3 -m pip uninstall Local-Package\r\nFound existing installation: Local-Package 0.0.0\r\nUninstalling Local-Package-0.0.0:\r\n  Would remove:\r\n    /Users/work/Library/Python/3.9/lib/python/site-packages/Local_Package-0.0.0.dist-info/*\r\n    /Users/work/Library/Python/3.9/lib/python/site-packages/root/package/test.py\r\nProceed (Y/n)? Y\r\n  Successfully uninstalled Local-Package-0.0.0\r\n\r\n$ python3 -m pip install --use-pep517 -e .\r\nDefaulting to user installation because normal site-packages is not writeable\r\nObtaining file:///Users/work/Documents/setuptools-repro\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: Local-Package\r\n  Running setup.py develop for Local-Package\r\nSuccessfully installed Local-Package\r\n\r\n$ python3 -c 'import root.package.test'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'root.package.test'```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3635/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3631", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3631/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3631/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3631/events", "html_url": "https://github.com/pypa/setuptools/issues/3631", "id": 1402477619, "node_id": "I_kwDOA0bv8c5TmBwz", "number": 3631, "title": "[BUG] setuptools is using deprecated and slated to be removed APIs", "user": {"login": "warsaw", "id": 210184, "node_id": "MDQ6VXNlcjIxMDE4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/210184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/warsaw", "html_url": "https://github.com/warsaw", "followers_url": "https://api.github.com/users/warsaw/followers", "following_url": "https://api.github.com/users/warsaw/following{/other_user}", "gists_url": "https://api.github.com/users/warsaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/warsaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/warsaw/subscriptions", "organizations_url": "https://api.github.com/users/warsaw/orgs", "repos_url": "https://api.github.com/users/warsaw/repos", "events_url": "https://api.github.com/users/warsaw/events{/privacy}", "received_events_url": "https://api.github.com/users/warsaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-10T01:30:12Z", "updated_at": "2023-01-20T11:42:56Z", "closed_at": "2023-01-20T11:42:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n65.4.1\n\n### Python version\n\n3.12\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nAs described over in the [pip issue tracker](https://github.com/pypa/pip/issues/11501), several long-deprecated Python import related APIs are being removed in Python 3.12.  All of these have been documented as deprecated for years (in most cases, since Python 3.3).  Now is the time to remove them.\r\n\r\nHowever, this is blocked on references to these old APIs in `pkg_resources` which, through twisty mazes, breaks Python 3.12's build because of its vendoring of pip, hence, setuptools, hence pkg_resources.\r\n\r\nHere is the [upstream Python ticket](https://github.com/python/cpython/issues/98040) tracking these removals, which contains the APIs that are being removed.  The `pip` issue above has references to the places in `pkg_resources` where these APIs are still being used.\n\n### Expected behavior\n\nNothing in `pkg_resources`, `setuptools`, or `pip` should reference these long deprecated APIs.\n\n### How to Reproduce\n\nSee the description in the [pip issue description](https://github.com/pypa/pip/issues/11501#issue-1402421943).\n\n### Output\n\nSee the description in the [pip issue description](https://github.com/pypa/pip/issues/11501#issue-1402421943).", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3624", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3624/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3624/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3624/events", "html_url": "https://github.com/pypa/setuptools/issues/3624", "id": 1398358121, "node_id": "I_kwDOA0bv8c5TWUBp", "number": 3624, "title": "[BUG] In editable installs, whether new modules are auto-picked-up depends on whether the distribution contains a package or not", "user": {"login": "anntzer", "id": 1322974, "node_id": "MDQ6VXNlcjEzMjI5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1322974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anntzer", "html_url": "https://github.com/anntzer", "followers_url": "https://api.github.com/users/anntzer/followers", "following_url": "https://api.github.com/users/anntzer/following{/other_user}", "gists_url": "https://api.github.com/users/anntzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/anntzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anntzer/subscriptions", "organizations_url": "https://api.github.com/users/anntzer/orgs", "repos_url": "https://api.github.com/users/anntzer/repos", "events_url": "https://api.github.com/users/anntzer/events{/privacy}", "received_events_url": "https://api.github.com/users/anntzer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-05T20:43:56Z", "updated_at": "2022-10-14T11:38:22Z", "closed_at": "2022-10-14T11:38:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.4.1\n\n### Python version\n\n3.10.7\n\n### OS\n\nArch Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIn a loose (i.e. default) editable install of a distribution containing a single package, adding a toplevel module (out of the package) results in that module being automatically picked up (immediately available for import, without a reinstall).  This corresponds also, I believe, to the old, pre-PEP660 behavior.\r\nOn the other hand, if the distribution does not contain a package but a single toplevel module, adding another toplevel module results in that (new) module not being automatically picked up.\n\n### Expected behavior\n\nConsistent behavior in both cases, hopefully matching the legacy behavior (i.e. new toplevel modules are always auto-picked-up).\n\n### How to Reproduce\n\nWrite the following pyproject.toml:\r\n```toml\r\n[build-system]\r\nrequires = [\"setuptools>=64\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"testpkg\"\r\nversion = \"0.0.1\"\r\n```\r\n\r\nIn that directory, create a single package, editably install, create a single (empty) new module, check that the new module can be imported:\r\n```sh\r\nmkdir src; mkdir src/pkg; touch src/pkg/__init__.py; pip install -e .; touch src/mod2.py; python -c 'import pkg, mod2'\r\n```\r\nThis succeeds.\r\n\r\nBlow away everything (except for pyproject.toml):\r\n```sh\r\npip uninstall testpkg; rm -rf src\r\n```\r\n\r\nCreate a single (empty) module, editably install, create another (empty) new module; this new module cannot be imported:\r\n```sh\r\nmkdir src; touch src/mod1.py; pip install -e .; touch src/mod2.py; python -c 'import mod1, mod2'\r\n```\r\nThis fails with `ModuleNotFoundError: No module named 'mod2'`\n\n### Output\n\nSee above.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3623", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3623/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3623/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3623/events", "html_url": "https://github.com/pypa/setuptools/issues/3623", "id": 1396848996, "node_id": "I_kwDOA0bv8c5TQjlk", "number": 3623, "title": "[BUG] IndentError in tmp file during editable install of dependency", "user": {"login": "rbracco", "id": 47190785, "node_id": "MDQ6VXNlcjQ3MTkwNzg1", "avatar_url": "https://avatars.githubusercontent.com/u/47190785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbracco", "html_url": "https://github.com/rbracco", "followers_url": "https://api.github.com/users/rbracco/followers", "following_url": "https://api.github.com/users/rbracco/following{/other_user}", "gists_url": "https://api.github.com/users/rbracco/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbracco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbracco/subscriptions", "organizations_url": "https://api.github.com/users/rbracco/orgs", "repos_url": "https://api.github.com/users/rbracco/repos", "events_url": "https://api.github.com/users/rbracco/events{/privacy}", "received_events_url": "https://api.github.com/users/rbracco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-04T21:12:12Z", "updated_at": "2022-10-04T21:19:07Z", "closed_at": "2022-10-04T21:19:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==65.4.1\r\n\r\n### Python version\r\n\r\n3.8.10\r\n\r\n### OS\r\n\r\nUbuntu 20.04\r\n\r\n### Additional environment information\r\n\r\npip 22.2.2\r\n\r\n### Description\r\n\r\nI recently switched over to poetry from pipenv. I have two local repos that I want to install as editable dependencies, and one was installed successfully, but when I added the other and ran `poetry install`, and it causes an error saying there is an indentation error coming from a string of code that is being executed in `setuptools/build_meta.py` during `run_setup`\r\n\r\nThis is happening in a tmp file that gets cleaned up, so I can't debug it on my own. Please let me know if I can share anything else about my env or system that would be helpful. Thank you. \r\n\r\n### Relevant portion of stack trace\r\n```python\r\n    \u00d7 Getting requirements to build editable did not run successfully.\r\n    \u2502 exit code: 1\r\n    \u2570\u2500> [21 lines of output]\r\n        Traceback (most recent call last):\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n            main()\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n            json_out['return_val'] = hook(**hook_input['kwargs'])\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 144, in get_requires_for_build_editable\r\n            return hook(config_settings)\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 445, in get_requires_for_build_editable\r\n            return self.get_requires_for_build_wheel(config_settings)\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 338, in get_requires_for_build_wheel\r\n            return self._get_build_requires(config_settings, requirements=['wheel'])\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\r\n            self.run_setup()\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 482, in run_setup\r\n            super(_BuildMetaLegacyBackend,\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n            exec(code, locals())\r\n          File \"<string>\", line 18\r\n            classifiers=[\r\n            ^\r\n        IndentationError: unexpected indent\r\n        [end of output]\r\n    \r\n    note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  error: subprocess-exited-with-error\r\n```\r\n\r\n### Full stack trace\r\n```python\r\nInstalling dependencies from lock file\r\n\r\nPackage operations: 1 install, 0 updates, 0 removals\r\n\r\n  \u2022 Installing speechdata (0.1.0 /home/rob/code/speechdata): Failed\r\n\r\n  CalledProcessError\r\n\r\n  Command '['/home/rob/code/thunder_fresh/.venv/bin/python', '-m', 'pip', 'install', '--disable-pip-version-check', '--prefix', '/home/rob/code/thunder_fresh/.venv', '--upgrade', '--no-deps', '-e', '/home/rob/code/speechdata']' returned non-zero exit status 1.\r\n\r\n  at /usr/lib/python3.8/subprocess.py:516 in run\r\n       512\u2502             # We don't call process.wait() as .__exit__ does that for us.\r\n       513\u2502             raise\r\n       514\u2502         retcode = process.poll()\r\n       515\u2502         if check and retcode:\r\n    \u2192  516\u2502             raise CalledProcessError(retcode, process.args,\r\n       517\u2502                                      output=stdout, stderr=stderr) was installed successfully, but when I added the other and ran `poetry install`, I get the following trace\r\n\r\n```\r\nInstalling dependencies from lock file\r\n\r\nPackage operations: 1 install, 0 updates, 0 removals\r\n\r\n  \u2022 Installing speechdata (0.1.0 /home/rob/code/speechdata): Failed\r\n\r\n  CalledProcessError\r\n\r\n  Command '['/home/rob/code/thunder_fresh/.venv/bin/python', '-m', 'pip', 'install', '--disable-pip-version-check', '--prefix', '/home/rob/code/thunder_fresh/.venv', '--upgrade', '--no-deps', '-e', '/home/rob/code/speechdata']' returned non-zero exit status 1.\r\n\r\n  at /usr/lib/python3.8/subprocess.py:516 in run\r\n       512\u2502             # We don't call process.wait() as .__exit__ does that for us.\r\n       513\u2502             raise\r\n       514\u2502         retcode = process.poll()\r\n       515\u2502         if check and retcode:\r\n    \u2192  516\u2502             raise CalledProcessError(retcode, process.args,\r\n       517\u2502                                      output=stdout, stderr=stderr)\r\n       518\u2502     return CompletedProcess(process.args, retcode, stdout, stderr)\r\n       519\u2502 \r\n       520\u2502 \r\n\r\nThe following error occurred when trying to handle this error:\r\n\r\n\r\n  EnvCommandError\r\n\r\n  Command ['/home/rob/code/thunder_fresh/.venv/bin/python', '-m', 'pip', 'install', '--disable-pip-version-check', '--prefix', '/home/rob/code/thunder_fresh/.venv', '--upgrade', '--no-deps', '-e', '/home/rob/code/speechdata'] errored with the following return code 1, and output: \r\n  Obtaining file:///home/rob/code/speechdata\r\n    Installing build dependencies: started\r\n    Installing build dependencies: finished with status 'done'\r\n    Checking if build backend supports build_editable: started\r\n    Checking if build backend supports build_editable: finished with status 'done'\r\n    Getting requirements to build editable: started\r\n    Getting requirements to build editable: finished with status 'error'\r\n    error: subprocess-exited-with-error\r\n    \r\n    \u00d7 Getting requirements to build editable did not run successfully.\r\n    \u2502 exit code: 1\r\n    \u2570\u2500> [21 lines of output]\r\n        Traceback (most recent call last):\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n            main()\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n\r\n       518\u2502     return CompletedProcess(process.args, retcode, stdout, stderr)\r\n       519\u2502 \r\n       520\u2502 \r\n\r\nThe following error occurred when trying to handle this error:\r\n\r\n\r\n  EnvCommandError\r\n\r\n  Command ['/home/rob/code/thunder_fresh/.venv/bin/python', '-m', 'pip', 'install', '--disable-pip-version-check', '--prefix', '/home/rob/code/thunder_fresh/.venv', '--upgrade', '--no-deps', '-e', '/home/rob/code/speechdata'] errored with the following return code 1, and output: \r\n  Obtaining file:///home/rob/code/speechdata\r\n    Installing build dependencies: started\r\n    Installing build dependencies: finished with status 'done'\r\n    Checking if build backend supports build_editable: started\r\n    Checking if build backend supports build_editable: finished with status 'done'\r\n    Getting requirements to build editable: started\r\n    Getting requirements to build editable: finished with status 'error'\r\n    error: subprocess-exited-with-error\r\n    \r\n    \u00d7 Getting requirements to build editable did not run successfully.\r\n    \u2502 exit code: 1\r\n    \u2570\u2500> [21 lines of output]\r\n        Traceback (most recent call last):\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n            main()\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n            json_out['return_val'] = hook(**hook_input['kwargs'])\r\n          File \"/home/rob/code/thunder_fresh/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 144, in get_requires_for_build_editable\r\n            return hook(config_settings)\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 445, in get_requires_for_build_editable\r\n            return self.get_requires_for_build_wheel(config_settings)\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 338, in get_requires_for_build_wheel\r\n            return self._get_build_requires(config_settings, requirements=['wheel'])\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\r\n            self.run_setup()\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 482, in run_setup\r\n            super(_BuildMetaLegacyBackend,\r\n          File \"/tmp/pip-build-env-clseqd9l/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n            exec(code, locals())\r\n          File \"<string>\", line 18\r\n            classifiers=[\r\n            ^\r\n        IndentationError: unexpected indent\r\n        [end of output]\r\n    \r\n    note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Getting requirements to build editable did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> See above for output.\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  \r\n\r\n  at ~/.local/share/pypoetry/venv/lib/python3.8/site-packages/poetry/utils/env.py:1476 in _run\r\n      1472\u2502                 output = subprocess.check_output(\r\n      1473\u2502                     command, stderr=subprocess.STDOUT, env=env, **kwargs\r\n      1474\u2502                 )\r\n      1475\u2502         except CalledProcessError as e:\r\n    \u2192 1476\u2502             raise EnvCommandError(e, input=input_)\r\n      1477\u2502 \r\n      1478\u2502         return decode(output)\r\n      1479\u2502 \r\n      1480\u2502     def execute(self, bin: str, *args: str, **kwargs: Any) -> int:\r\n\r\nThe following error occurred when trying to handle this error:\r\n\r\n\r\n  PoetryException\r\n\r\n  Failed to install /home/rob/code/speechdata\r\n\r\n  at ~/.local/share/pypoetry/venv/lib/python3.8/site-packages/poetry/utils/pip.py:51 in pip_install\r\n       47\u2502 \r\n       48\u2502     try:\r\n       49\u2502         return environment.run_pip(*args)\r\n       50\u2502     except EnvCommandError as e:\r\n    \u2192  51\u2502         raise PoetryException(f\"Failed to install {path.as_posix()}\") from e\r\n       52\u2502 \r\n```\r\n\r\n### Expected behavior\r\n\r\nThe editable install should complete successfully as it does with pipenv. \r\n\r\n### How to Reproduce\r\n\r\nUnfortunately this is some combo of setuptools and my environment not liking each other, so I don't have a way to reproduce it. Locally I am doing the following \r\n1. cd into project folder\r\n2. Add `speechdata = {path = \"./../speechdata\", develop = true}` to my pyproject.toml dependencies\r\n3. `poetry install`\r\n\r\n### Output\r\n\r\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3612", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3612/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3612/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3612/events", "html_url": "https://github.com/pypa/setuptools/issues/3612", "id": 1387798827, "node_id": "I_kwDOA0bv8c5SuCEr", "number": 3612, "title": "[BUG] StaticModule not choosing the Python file encoding", "user": {"login": "JulienPalard", "id": 239510, "node_id": "MDQ6VXNlcjIzOTUxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/239510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JulienPalard", "html_url": "https://github.com/JulienPalard", "followers_url": "https://api.github.com/users/JulienPalard/followers", "following_url": "https://api.github.com/users/JulienPalard/following{/other_user}", "gists_url": "https://api.github.com/users/JulienPalard/gists{/gist_id}", "starred_url": "https://api.github.com/users/JulienPalard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JulienPalard/subscriptions", "organizations_url": "https://api.github.com/users/JulienPalard/orgs", "repos_url": "https://api.github.com/users/JulienPalard/repos", "events_url": "https://api.github.com/users/JulienPalard/events{/privacy}", "received_events_url": "https://api.github.com/users/JulienPalard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-27T13:46:35Z", "updated_at": "2022-09-29T23:46:44Z", "closed_at": "2022-09-29T23:46:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.4.0\n\n### Python version\n\n3.7, 3.8, 3.9, 3.10, 3.11\n\n### OS\n\nWindows mainly, but reproducible on Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe [StaticModule](https://github.com/pypa/setuptools/blob/badd7064e202635b8a94d5603b31a37ca7d58d6c/setuptools/config/expand.py#L61) opens Python file without looking at `-*-` encoding, and without specifying the encoding:\r\n\r\n```python\r\n    with open(spec.origin) as strm:\r\n```\r\n\r\nOn Linux as most Python files are UTF-8 and as Python defaults to UTF-8 to open files, it goes right.\r\n\r\nBut on Windows, Python will default to CP1252 at file opening, possibly leading to a UnicodeDecodeError.\r\n\r\nWhen the module don't have an import on an external dependency the `fallback to evaluate module` hides the bug.\n\n### Expected behavior\n\nI expect `StaticModule` to first look at the encoding marker (`# -*- coding: encoding -*-`) of the file before trying to decode it, and defaulting to UTF-8 if no maker is found.\n\n### How to Reproduce\n\nI first found the bug on a Windows CI runner on github so it was reading UTF-8 file as CP1252. I'm on Debian so I'll repro it the other way around: writing a latin1 file and I let setuptools fail to decode it.\r\n\r\n```bash\r\nmkdir repro\r\ncd repro\r\necho $'# -*- coding: latin1 -*-\\nimport regex\\n__version__ = \"0.1\"\\nprint(\"\\xe9\")' > repro.py \r\ncat <<EOF >pyproject.toml \r\n[build-system]\r\nrequires = [\"setuptools\", \"wheel\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"my_package\"\r\ndynamic = [\"version\"]\r\ndependencies = [\r\n    \"regex\",\r\n]\r\n\r\n[tool.setuptool]\r\npy-modules = ['repro.py']\r\n\r\n[tool.setuptools.dynamic.version]\r\nattr = \"repro.__version__\"\r\nEOF\r\npip install .\r\n```\r\n\r\n\n\n### Output\n\n<details>\r\n<summary>\r\noutput\r\n</summary>\r\n\r\n```text\r\nProcessing /home/mdk/clones/setuptools/repro\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [58 lines of output]\r\n      /tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n        warnings.warn(msg, _BetaConfiguration)\r\n      Traceback (most recent call last):\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 191, in read_attr\r\n          return getattr(StaticModule(module_name, spec), attr_name)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 66, in __init__\r\n          src = strm.read()\r\n        File \"/usr/lib/python3.10/codecs.py\", line 322, in decode\r\n          (result, consumed) = self._buffer_decode(data, self.errors, final)\r\n      UnicodeDecodeError: 'utf-8' codec can't decode byte 0xe9 in position 65: invalid continuation byte\r\n      \r\n      During handling of the above exception, another exception occurred:\r\n      \r\n      Traceback (most recent call last):\r\n        File \"/home/mdk/clones/setuptools/repro/.venv/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n          main()\r\n        File \"/home/mdk/clones/setuptools/repro/.venv/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/home/mdk/clones/setuptools/repro/.venv/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n          return hook(config_settings)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 338, in get_requires_for_build_wheel\r\n          return self._get_build_requires(config_settings, requirements=['wheel'])\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\r\n          self.run_setup()\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n          exec(code, locals())\r\n        File \"<string>\", line 1, in <module>\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n          return distutils.core.setup(**attrs)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 159, in setup\r\n          dist.parse_config_files()\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/dist.py\", line 868, in parse_config_files\r\n          pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 62, in apply_configuration\r\n          config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 140, in read_configuration\r\n          return expand_configuration(asdict, root_dir, ignore_option_errors, dist)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 195, in expand_configuration\r\n          return _ConfigExpander(config, root_dir, ignore_option_errors, dist).expand()\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 242, in expand\r\n          self._expand_all_dynamic(dist, package_dir)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 286, in _expand_all_dynamic\r\n          version=self._obtain_version(dist, package_dir),\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 332, in _obtain_version\r\n          return _expand.version(self._obtain(dist, \"version\", package_dir))\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 321, in _obtain\r\n          return self._expand_directive(\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 315, in _expand_directive\r\n          return _expand.read_attr(directive[\"attr\"], package_dir, root_dir)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 194, in read_attr\r\n          module = _load_spec(spec, module_name)\r\n        File \"/tmp/pip-build-env-by2xrl8v/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 214, in _load_spec\r\n          spec.loader.exec_module(module)  # type: ignore\r\n        File \"<frozen importlib._bootstrap_external>\", line 883, in exec_module\r\n        File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n        File \"/home/mdk/clones/setuptools/repro/repro.py\", line 2, in <module>\r\n          import regex\r\n      ModuleNotFoundError: No module named 'regex'\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n```\r\n\r\n</details>", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3608", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3608/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3608/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3608/events", "html_url": "https://github.com/pypa/setuptools/issues/3608", "id": 1384737211, "node_id": "I_kwDOA0bv8c5SiWm7", "number": 3608, "title": "[BUG] editable install not working when package_dir was used", "user": {"login": "wimglenn", "id": 6615374, "node_id": "MDQ6VXNlcjY2MTUzNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6615374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wimglenn", "html_url": "https://github.com/wimglenn", "followers_url": "https://api.github.com/users/wimglenn/followers", "following_url": "https://api.github.com/users/wimglenn/following{/other_user}", "gists_url": "https://api.github.com/users/wimglenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/wimglenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wimglenn/subscriptions", "organizations_url": "https://api.github.com/users/wimglenn/orgs", "repos_url": "https://api.github.com/users/wimglenn/repos", "events_url": "https://api.github.com/users/wimglenn/events{/privacy}", "received_events_url": "https://api.github.com/users/wimglenn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-24T16:37:53Z", "updated_at": "2022-09-27T11:46:17Z", "closed_at": "2022-09-26T09:21:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.3.0\n\n### Python version\n\n3.10\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe project https://github.com/borisbabic/browser_cookie3 has an uncommon structure: `__init__.py` is in the source root, and the [package_dir](https://github.com/borisbabic/browser_cookie3/blob/0.13.0/setup.py#L7-L8) is redirected there. It's strange but not necessarily invalid. Somehow that structure seems to break editable installation.\n\n### Expected behavior\n\nafter `pip install -e <path_to_source_root>`, then `import browser_cookie3` should work.\n\n### How to Reproduce\n\n1. clone the repo to ./src\r\n2. pip install -e ./src\r\n3. try to import the package top level name\n\n### Output\n\n```\r\n$ pip freeze --all\r\npip==22.2.2\r\nsetuptools==65.3.0\r\nwheel==0.37.1\r\n\r\n$ git clone git@github.com:borisbabic/browser_cookie3.git src    \r\nCloning into 'src'...\r\nremote: Enumerating objects: 355, done.\r\nremote: Counting objects: 100% (162/162), done.\r\nremote: Compressing objects: 100% (49/49), done.\r\nremote: Total 355 (delta 139), reused 116 (delta 113), pack-reused 193\r\nReceiving objects: 100% (355/355), 103.37 KiB | 1.88 MiB/s, done.\r\nResolving deltas: 100% (218/218), done.\r\n\r\n$ pip install -e ./src\r\nObtaining file:///private/tmp/issue/src\r\n  Preparing metadata (setup.py) ... done\r\n...\r\nInstalling collected packages: pyaes, pbkdf2, pycryptodome, pycparser, more-itertools, lz4, jeepney, jaraco.classes, cffi, keyring, cryptography, SecretStorage, browser-cookie3\r\n  Running setup.py develop for browser-cookie3\r\nSuccessfully installed SecretStorage-3.3.3 browser-cookie3-0.16.0 cffi-1.15.1 cryptography-38.0.1 jaraco.classes-3.2.2 jeepney-0.8.0 keyring-23.9.3 lz4-4.0.2 more-itertools-8.14.0 pbkdf2-1.3 pyaes-1.6.1 pycparser-2.21 pycryptodome-3.15.0\r\n\r\n$ cat .venv/lib/python3.10/site-packages/browser-cookie3.egg-link\r\n/private/tmp/issue/src\r\n.\r\n\r\n$ cat .venv/lib/python3.10/site-packages/easy-install.pth        \r\n/private/tmp/issue/src\r\n\r\n$ python3 -c 'import browser_cookie3'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'browser_cookie3'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3607", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3607/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3607/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3607/events", "html_url": "https://github.com/pypa/setuptools/issues/3607", "id": 1384507939, "node_id": "I_kwDOA0bv8c5Sheoj", "number": 3607, "title": "[BUG] If you are seeing this error, please report to", "user": {"login": "rickwierenga", "id": 36956818, "node_id": "MDQ6VXNlcjM2OTU2ODE4", "avatar_url": "https://avatars.githubusercontent.com/u/36956818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rickwierenga", "html_url": "https://github.com/rickwierenga", "followers_url": "https://api.github.com/users/rickwierenga/followers", "following_url": "https://api.github.com/users/rickwierenga/following{/other_user}", "gists_url": "https://api.github.com/users/rickwierenga/gists{/gist_id}", "starred_url": "https://api.github.com/users/rickwierenga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rickwierenga/subscriptions", "organizations_url": "https://api.github.com/users/rickwierenga/orgs", "repos_url": "https://api.github.com/users/rickwierenga/repos", "events_url": "https://api.github.com/users/rickwierenga/events{/privacy}", "received_events_url": "https://api.github.com/users/rickwierenga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-24T03:59:55Z", "updated_at": "2022-09-26T16:37:45Z", "closed_at": "2022-09-26T16:37:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.3.0\n\n### Python version\n\n3.10.6\n\n### OS\n\nM1 Mac\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nTried installing onnx using https://github.com/onnx/onnx#mac.\r\n\r\nRan into an error asking to report the issue here. See full output below.\r\n\r\n`SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"` works.\r\n\r\nLet me know if you anything else.\r\n\r\n\n\n### Expected behavior\n\n-\n\n### How to Reproduce\n\nsee above\n\n### Output\n\n```console\r\n      Consolidate compiler generated dependencies of target onnx_cpp2py_export\r\n      [100%] Built target onnx_cpp2py_export\r\n      running build_ext\r\n      copying somewhere/.setuptools-cmake-build/onnx_cpp2py_export.cpython-310-darwin.so -> /private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/tmpmzrmzw7l.build-lib/onnx\r\n      Traceback (most recent call last):\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/file_util.py\", line 40, in _copy_file_contents\r\n          fdst = open(dst, 'wb')\r\n      FileNotFoundError: [Errno 2] No such file or directory: '/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/tmpmzrmzw7l.build-lib/onnx/onnx_cpp2py_export.cpython-310-darwin.so'\r\n      \r\n      During handling of the above exception, another exception occurred:\r\n      \r\n      Traceback (most recent call last):\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 140, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 330, in _create_wheel_file\r\n          files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 261, in _run_build_commands\r\n          self._run_build_subcommands()\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 288, in _run_build_subcommands\r\n          self.run_command(name)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/cmd.py\", line 319, in run_command\r\n          self.distribution.run_command(command)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n          super().run_command(command)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 992, in run_command\r\n          cmd_obj.run()\r\n        File \"<string>\", line 255, in run\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/command/build_ext.py\", line 84, in run\r\n          _build_ext.run(self)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/command/build_ext.py\", line 346, in run\r\n          self.build_extensions()\r\n        File \"<string>\", line 272, in build_extensions\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/cmd.py\", line 351, in copy_file\r\n          return file_util.copy_file(\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/file_util.py\", line 163, in copy_file\r\n          _copy_file_contents(src, dst)\r\n        File \"/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/pip-build-env-kv9wckuz/overlay/lib/python3.10/site-packages/setuptools/_distutils/file_util.py\", line 42, in _copy_file_contents\r\n          raise DistutilsFileError(\r\n      distutils.errors.DistutilsFileError: could not create '/private/var/folders/yz/5_6_nfl928v85_5lk2gqpctm0000gn/T/tmpmzrmzw7l.build-lib/onnx/onnx_cpp2py_export.cpython-310-darwin.so': No such file or directory\r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n      \r\n      https://github.com/pypa/setuptools/issues\r\n      \r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n      \r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building editable for onnx\r\nFailed to build onnx\r\nERROR: Could not build wheels for onnx, which is required to install pyproject.toml-based projects\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3607/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3599", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3599/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3599/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3599/events", "html_url": "https://github.com/pypa/setuptools/issues/3599", "id": 1379682045, "node_id": "I_kwDOA0bv8c5SPEb9", "number": 3599, "title": "[BUG] `license_files` not showing up on wheel if not set on `setup.cfg` (`setup.py` & `pyproject.toml`).", "user": {"login": "ashb", "id": 34150, "node_id": "MDQ6VXNlcjM0MTUw", "avatar_url": "https://avatars.githubusercontent.com/u/34150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashb", "html_url": "https://github.com/ashb", "followers_url": "https://api.github.com/users/ashb/followers", "following_url": "https://api.github.com/users/ashb/following{/other_user}", "gists_url": "https://api.github.com/users/ashb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashb/subscriptions", "organizations_url": "https://api.github.com/users/ashb/orgs", "repos_url": "https://api.github.com/users/ashb/repos", "events_url": "https://api.github.com/users/ashb/events{/privacy}", "received_events_url": "https://api.github.com/users/ashb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-09-20T16:23:04Z", "updated_at": "2023-01-20T10:59:45Z", "closed_at": "2023-01-20T10:57:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.2.0\n\n### Python version\n\nPython 3.10.7\n\n### OS\n\nArch Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nA setuptools based distribtuion does not include the files specified in `license-files` under the `tool.setuptools` table in the wheel files dist-info (by a setup.py/setup.cfg) based project does).\n\n### Expected behavior\n\nIt works for sdist, and I see appropriate lines about \"adding license-A.txt\" but it doesn't show up in the wheel when pyproject.toml is present\n\n### How to Reproduce\n\n**With pyproject.toml**\r\n\r\n```bash\r\nmkdir -p licenses\r\ndate > licenses/license-A.txt\r\ncat > pyproject.toml << EOF\r\n[build-system]\r\nrequires = ['setuptools==65.2.0']\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"repro-case\"\r\nversion = '2.5.0dev0'\r\nrequires-python = \"~=3.7\"\r\nlicense = { text = \"Apache License 2.0\" }\r\nauthors = [\r\n    { name = \"Ash\", email = \"ash@github.no\" },\r\n]\r\n[tool.setuptools]\r\nlicense-files = [\r\n    'LICENSE',\r\n    'licenses/license-A.txt',\r\n]\r\nEOF\r\nrm -r repro_case.egg-info/ dist\r\npython -m build\r\nunzip -l dist/*.whl\r\n```\r\n\r\n**With out pyproject.toml**:\r\n```bash\r\nmkdir -p licenses\r\ndate > licenses/license-A.txt\r\ncat > setup.cfg << EOF\r\n[metadata]\r\nname = repro-case\r\nversion = 2.5.0dev0\r\nrequires_python = ~=3.7\r\nauthor = Apache Software Foundation\r\nauthor_email = dev@airflow.apache.org\r\nlicense_files =\r\n    LICENSE\r\n    licenses/license-A.txt\r\nEOF\r\ncat > setup.py <<EOF\r\nimport setuptools\r\nsetuptools.setup()\r\nEOF\r\nrm -r repro_case.egg-info/ dist\r\npython -m build\r\nunzip -l dist/*.whl\r\n```\r\n\n\n### Output\n\nExpected output (and this is what I get with setup.cfg includes `repro_case-2.5.0.dev0.dist-info/license-A.txt`\r\n\r\n```console\r\n$ unzip -l dist/*.whl \r\nArchive:  dist/repro_case-2.5.0.dev0-py3-none-any.whl\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n      169  2022-09-20 16:04   repro_case-2.5.0.dev0.dist-info/METADATA\r\n       92  2022-09-20 16:04   repro_case-2.5.0.dev0.dist-info/WHEEL\r\n       32  2022-09-20 16:04   repro_case-2.5.0.dev0.dist-info/license-A.txt\r\n        9  2022-09-20 16:04   repro_case-2.5.0.dev0.dist-info/top_level.txt\r\n      428  2022-09-20 16:04   repro_case-2.5.0.dev0.dist-info/RECORD\r\n---------                     -------\r\n      730                     5 files\r\n```\r\n\r\nOutput with pyproject.toml does not include extra file\r\n\r\n```console\r\n unzip -l dist/*.whl                                                                                                                                                                                  [17:22] \u2713 !1161\r\nArchive:  dist/repro_case-2.5.0.dev0-py3-none-any.whl\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n      205  2022-09-20 16:22   repro_case-2.5.0.dev0.dist-info/METADATA\r\n       92  2022-09-20 16:22   repro_case-2.5.0.dev0.dist-info/WHEEL\r\n        1  2022-09-20 16:22   repro_case-2.5.0.dev0.dist-info/top_level.txt\r\n      328  2022-09-20 16:22   repro_case-2.5.0.dev0.dist-info/RECORD\r\n---------                     -------\r\n      626                     4 files\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3592", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3592/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3592/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3592/events", "html_url": "https://github.com/pypa/setuptools/issues/3592", "id": 1373834676, "node_id": "I_kwDOA0bv8c5R4w20", "number": 3592, "title": "[BUG] PEP-660 editable installs import issue based on package name and CWD", "user": {"login": "noah-weingarden", "id": 33741795, "node_id": "MDQ6VXNlcjMzNzQxNzk1", "avatar_url": "https://avatars.githubusercontent.com/u/33741795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noah-weingarden", "html_url": "https://github.com/noah-weingarden", "followers_url": "https://api.github.com/users/noah-weingarden/followers", "following_url": "https://api.github.com/users/noah-weingarden/following{/other_user}", "gists_url": "https://api.github.com/users/noah-weingarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/noah-weingarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noah-weingarden/subscriptions", "organizations_url": "https://api.github.com/users/noah-weingarden/orgs", "repos_url": "https://api.github.com/users/noah-weingarden/repos", "events_url": "https://api.github.com/users/noah-weingarden/events{/privacy}", "received_events_url": "https://api.github.com/users/noah-weingarden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-15T02:54:51Z", "updated_at": "2022-09-15T03:09:50Z", "closed_at": "2022-09-15T03:09:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==65.3.0\r\n\r\n### Python version\r\n\r\nPython 3.10 or Python 3.8\r\n\r\n### OS\r\n\r\nUbuntu 22.04\r\n\r\n### Additional environment information\r\n\r\npip==22.2.2\r\n\r\n### Description\r\n\r\nIf I install a package with a PEP 660 editable install using a `pyproject.toml` file and no `setup.py` file, and the package's parent directory has the same name as the package directory itself, Python fails to fully import the package *specifically when my CWD is the grandparent of the package directory*. That is, I can import the package, but I can't access its non-built-in attributes, and its `__spec__` attribute includes `loader=<_frozen_importlib_external._NamespaceLoader` even though there are no namespace packages involved here. If my CWD is any other directory, I don't encounter this issue, and if I ensure that the package directory has a different name than its parent, I don't encounter this issue. This also isn't an issue when using `setup.py` instead of `pyproject.toml`.\r\n\r\n### Expected behavior\r\n\r\nI expect to be able to import from an editable install with a venv activated regardless of my CWD and regardless of whether or not the package's name is the same as its parent directory.\r\n\r\n### How to Reproduce\r\n\r\nI made a minimal reproducible example here: https://github.com/noah-weingarden/setuptools-mre\r\n\r\nThis is the directory structure:\r\n\r\n```\r\n.\r\n\u251c\u2500\u2500 bugexample\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bugexample\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pyproject.toml\r\n\u2514\u2500\u2500 workingexample\r\n    \u251c\u2500\u2500 pyproject.toml\r\n    \u2514\u2500\u2500 working\r\n        \u2514\u2500\u2500 __init__.py\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n$ pwd\r\n/home/noah/setuptools-bug-demo\r\n$ python3 -m venv env\r\n$ source env/bin/activate\r\n$ pip install --upgrade pip setuptools wheel\r\n$ pip install -e bugexample\r\n$ pip install -e workingexample\r\n$ python\r\n```\r\n```python3\r\n>>> import bugexample\r\n>>> import working\r\n>>> bugexample.obj\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: module 'bugexample' has no attribute 'obj'\r\n>>> working.obj\r\n'Yay! :D'\r\n```\r\n```console\r\ncd ~\r\npython\r\n```\r\n(I think any other directory would also work.)\r\n```python3\r\n>>> import bugexample\r\n>>> import working\r\n>>> bugexample.obj\r\n'Oh no!'\r\n>>> working.obj\r\n'Yay! :D'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3590", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3590/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3590/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3590/events", "html_url": "https://github.com/pypa/setuptools/issues/3590", "id": 1373514094, "node_id": "I_kwDOA0bv8c5R3ilu", "number": 3590, "title": "[BUG] All VCS files included in sdist in case of uncommitted changes (WITHOUT setuptools-scm)", "user": {"login": "mara004", "id": 65915611, "node_id": "MDQ6VXNlcjY1OTE1NjEx", "avatar_url": "https://avatars.githubusercontent.com/u/65915611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mara004", "html_url": "https://github.com/mara004", "followers_url": "https://api.github.com/users/mara004/followers", "following_url": "https://api.github.com/users/mara004/following{/other_user}", "gists_url": "https://api.github.com/users/mara004/gists{/gist_id}", "starred_url": "https://api.github.com/users/mara004/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mara004/subscriptions", "organizations_url": "https://api.github.com/users/mara004/orgs", "repos_url": "https://api.github.com/users/mara004/repos", "events_url": "https://api.github.com/users/mara004/events{/privacy}", "received_events_url": "https://api.github.com/users/mara004/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-14T19:57:52Z", "updated_at": "2022-09-14T20:48:48Z", "closed_at": "2022-09-14T20:14:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.3.0\r\n\r\n### Python version\r\n\r\n3.10.5\r\n\r\n### OS\r\n\r\nopenSUSE Leap 15.4 Linux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWe would like to include only a bare minimum of files required for installation in the source distribution.\r\nThus, we use a `MANIFEST.in` file and make sure `setuptools-scm` is not installed.\r\nHowever, if the repository contains uncommitted changes, then all files under version control will be included, even if `setuptools-scm` is not present.\r\n\r\n### Expected behavior\r\n\r\nNo arbitrary VCS files should land in the `sdist`.\r\nOnly files explicitly included by user configuration should be packaged (`MANIFEST.in`, `package_data`, ...).\r\nOf course, defaults should still be included, though (`README`, `setup.cfg`, ...).\r\n\r\n### How to Reproduce\r\n\r\n```bash\r\ngit clone \"https://github.com/pypdfium2-team/pypdfium2.git\"\r\ncd pypdfium2/\r\ngit checkout setupinfra\r\n# first run without any uncommitted changes\r\nPDFIUM_BINARY=none python3 -m build --sdist -n -x\r\n# now, manually make some change to a file covered by VCS (e. g. src/pypdfium2/version.py) and then re-run\r\nPDFIUM_BINARY=none python3 -m build --sdist -n -x\r\n```\r\nInspect the `sdist`s with an archive opener after the two `build` runs to see which files were included.\r\n\r\n### Output\r\n\r\n* The first `sdist` will only contain the files included via `MANIFEST.in`.\r\n* The second `sdist`, however, will contain all files under version control.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3590/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3589", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3589/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3589/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3589/events", "html_url": "https://github.com/pypa/setuptools/issues/3589", "id": 1372700115, "node_id": "I_kwDOA0bv8c5R0b3T", "number": 3589, "title": "[BUG] setuptools>=65.2.0 fails to find Python.h in Blender embedded Python environment ", "user": {"login": "peisenwang", "id": 5351744, "node_id": "MDQ6VXNlcjUzNTE3NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5351744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peisenwang", "html_url": "https://github.com/peisenwang", "followers_url": "https://api.github.com/users/peisenwang/followers", "following_url": "https://api.github.com/users/peisenwang/following{/other_user}", "gists_url": "https://api.github.com/users/peisenwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/peisenwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peisenwang/subscriptions", "organizations_url": "https://api.github.com/users/peisenwang/orgs", "repos_url": "https://api.github.com/users/peisenwang/repos", "events_url": "https://api.github.com/users/peisenwang/events{/privacy}", "received_events_url": "https://api.github.com/users/peisenwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-14T09:57:53Z", "updated_at": "2023-02-21T12:15:28Z", "closed_at": "2023-02-21T12:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>=65.2.0\n\n### Python version\n\nPython 3.10.2\n\n### OS\n\nUbuntu Linux x86_64\n\n### Additional environment information\n\nRunning in Blender 3.3.0's embedded Python environment.\n\n### Description\n\nTrying to install OpenEXR inside Blender's embedded Python environment. \r\n\r\nThe package contains C code where `Python.h` is included. To add `Python.h` to the environment I downloaded Python source code matching the version from [python.org](https://www.python.org/downloads/release/python-3102/), and extracted the header files under `Include` into `blender/3.3/python/include/python3.10/`. Then I run `blender/3.3/python/bin/python3.10 -m pip install OpenEXR` to install OpenEXR. \r\n\r\nThis worked before with setuptools under 65.1.1, but after udpating setuptools over 65.2.0 the installation failed with error: `OpenEXR.cpp:1:10: fatal error: Python.h: No such file or directory`\n\n### Expected behavior\n\nSuccessfully compiling and installing OpenEXR inside Blender embedded Python.\n\n### How to Reproduce\n\n1. Download latest version (currentlly 3.3.0) of Blender from https://www.blender.org/download/ and extract it.\r\n2. Setup pip: `blender-3.3.0-linux-x64/3.3/python/bin/python3.10 -m ensurepip`\r\n3. Install setuptools: `blender-3.3.0-linux-x64/3.3/python/bin/python3.10 -m pip install setuptools==65.2.0`\r\n4. Download Python sourcefile tarball from [python.org](https://www.python.org/downloads/release/python-3102/), extract, and copy  files under `Include` into blender python's include directory: \r\n`cp -r Python-3.10.2/Include/* blender-3.3.0-linux-x64/3.3/python/include/python3.10/`\r\n5. Try installing OpenEXR: `blender-3.3.0-linux-x64/3.3/python/bin/python3.10 -m pip install OpenEXR`\r\n6. Switching to setuptools under 65.2.0 works fine: \r\n`blender-3.3.0-linux-x64/3.3/python/bin/python3.10 -m pip install setuptools==65.1.1` \r\n`blender-3.3.0-linux-x64/3.3/python/bin/python3.10 -m pip install OpenEXR`\n\n### Output\n\n```console                                                             \r\n  Preparing metadata (setup.py) ... done                                        \r\nBuilding wheels for collected packages: OpenEXR                                 \r\n  Building wheel for OpenEXR (setup.py) ... error                               \r\n  error: subprocess-exited-with-error                                           \r\n                                                                                \r\n  \u00d7 python setup.py bdist_wheel did not run successfully.                       \r\n  \u2502 exit code: 1                                                                \r\n  \u2570\u2500> [16 lines of output]                                                      \r\n      Looking for libOpenEXR...                                                 \r\n      running bdist_wheel                                                       \r\n      running build                                                             \r\n      running build_py                                                          \r\n      creating build                                                            \r\n      creating build/lib.linux-x86_64-cpython-310                               \r\n      copying Imath.py -> build/lib.linux-x86_64-cpython-310                    \r\n      running build_ext                                                         \r\n      building 'OpenEXR' extension                                              \r\n      creating build/temp.linux-x86_64-cpython-310                              \r\n      gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wa\r\nll -I/home/sybren/buildbot-builder/linux_glibc217_x86_64_cmake/build_deps/deps/R\r\nelease/sqlite/include -I/home/sybren/buildbot-builder/linux_glibc217_x86_64_cmak\r\ne/build_deps/deps/Release/bzip2/include -I/home/sybren/buildbot-builder/linux_gl\r\nibc217_x86_64_cmake/build_deps/deps/Release/lzma/include -I/home/sybren/buildbot\r\n-builder/linux_glibc217_x86_64_cmake/build_deps/deps/Release/zlib/include -fPIC \r\n-fPIC -fPIC -I/usr/include/OpenEXR -I/usr/local/include/OpenEXR -I/opt/local/inc\r\nlude/OpenEXR -I/usr/include/Imath -I/usr/local/include/Imath -I/opt/local/includ\r\ne/Imath -I/home/sybren/buildbot-builder/linux_glibc217_x86_64_cmake/build_deps/d\r\neps/Release/python/include/python3.10 -c OpenEXR.cpp -o build/temp.linux-x86_64-\r\ncpython-310/OpenEXR.o -g -DVERSION=\\\"1.3.9\\\"                                    \r\n      OpenEXR.cpp:1:10: fatal error: Python.h: No such file or directory        \r\n          1 | #include <Python.h>                                               \r\n            |          ^~~~~~~~~~                                               \r\n      compilation terminated.                                                   \r\n      error: command '/usr/bin/gcc' failed with exit code 1\r\n      [end of output]\r\n   \r\n  note: This error originates from a subprocess, and is likely not a problem wit\r\nh pip.\r\n  ERROR: Failed building wheel for OpenEXR\r\n  Running setup.py clean for OpenEXR\r\nFailed to build OpenEXR\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3589/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3561", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3561/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3561/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3561/events", "html_url": "https://github.com/pypa/setuptools/issues/3561", "id": 1349042659, "node_id": "I_kwDOA0bv8c5QaMHj", "number": 3561, "title": "[BUG] Editable wheel match import paths that are not theirs", "user": {"login": "proto3", "id": 4438221, "node_id": "MDQ6VXNlcjQ0MzgyMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4438221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/proto3", "html_url": "https://github.com/proto3", "followers_url": "https://api.github.com/users/proto3/followers", "following_url": "https://api.github.com/users/proto3/following{/other_user}", "gists_url": "https://api.github.com/users/proto3/gists{/gist_id}", "starred_url": "https://api.github.com/users/proto3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/proto3/subscriptions", "organizations_url": "https://api.github.com/users/proto3/orgs", "repos_url": "https://api.github.com/users/proto3/repos", "events_url": "https://api.github.com/users/proto3/events{/privacy}", "received_events_url": "https://api.github.com/users/proto3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-24T08:09:28Z", "updated_at": "2022-08-24T11:59:08Z", "closed_at": "2022-08-24T10:26:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.2.0\n\n### Python version\n\n3.10.6\n\n### OS\n\nUbuntu 20.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI'm currently working with two packages having names beginning the same, let's call them **foo** and **foobar** for example.\r\nI install both of them using `pip install -e`, and both can be imported normally:\r\n```python\r\n#!/usr/bin/env python\r\nimport foo\r\nimport foobar\r\n```\r\n\r\nNow I add a module **bar** in the foo package, so I can import **foo**, **foobar** and **foo.bar**\r\nBut importing **foobar** now always result in importing **foo.bar**\r\n\r\n```python\r\n#!/usr/bin/env python\r\nimport foobar # PROBLEM this actually import foo.bar\r\n```\r\n\n\n### Expected behavior\n\nImporting foobar should never result in importing foo.bar instead.\n\n### How to Reproduce\n\n```bash\r\n#\u251c\u2500\u2500 project1\r\n#\u2502\u00a0\u00a0 \u251c\u2500\u2500 foo\r\n#\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bar\r\n#\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\r\n#\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\r\n#\u2502\u00a0\u00a0 \u251c\u2500\u2500 pyproject.toml\r\n#\u2502\u00a0\u00a0 \u2514\u2500\u2500 setup.cfg\r\n#\u2502\r\n#\u251c\u2500 project2\r\n#\u2502   \u251c\u2500\u2500 foobar\r\n#\u2502   \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\r\n#\u2502   \u251c\u2500\u2500 pyproject.toml\r\n#\u2502   \u2514\u2500\u2500 setup.cfg\r\n\r\n# Commands to reproduce the same layout\r\nmkdir -p project1/foo/bar\r\nmkdir -p project2/foobar\r\ntouch project1/pyproject.toml \r\ntouch project1/pyproject.toml\r\ntouch project1/setup.cfg\r\ntouch project1/setup.cfg\r\necho print\\(\\\"Hello from foo\\\"\\) > project1/foo/__init__.py\r\necho print\\(\\\"Hello from foo.bar\\\"\\) > project1/foo/bar/__init__.py\r\necho print\\(\\\"Hello from foobar\\\"\\) > project2/foobar/__init__.py\r\n```\r\n```bash\r\n# Commands to reproduce the error\r\npip install -e project1\r\npip install -e project2\r\npython\r\n>>> import foobar\r\nHello from foo.bar # ERROR it should be foobar, not foo.bar\r\n```\n\n### Output\n\n```console\r\npip install -e project1\r\npip install -e project2\r\npython\r\n>>> import foobar\r\nHello from foobar # This is what we expect\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3560", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3560/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3560/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3560/events", "html_url": "https://github.com/pypa/setuptools/issues/3560", "id": 1347605587, "node_id": "I_kwDOA0bv8c5QUtRT", "number": 3560, "title": "[BUG] No module named 'setuptools.command.build' on cross python environment", "user": {"login": "raymanP", "id": 70489149, "node_id": "MDQ6VXNlcjcwNDg5MTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/70489149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raymanP", "html_url": "https://github.com/raymanP", "followers_url": "https://api.github.com/users/raymanP/followers", "following_url": "https://api.github.com/users/raymanP/following{/other_user}", "gists_url": "https://api.github.com/users/raymanP/gists{/gist_id}", "starred_url": "https://api.github.com/users/raymanP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raymanP/subscriptions", "organizations_url": "https://api.github.com/users/raymanP/orgs", "repos_url": "https://api.github.com/users/raymanP/repos", "events_url": "https://api.github.com/users/raymanP/events{/privacy}", "received_events_url": "https://api.github.com/users/raymanP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-08-23T09:10:09Z", "updated_at": "2022-08-24T11:20:15Z", "closed_at": "2022-08-24T11:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n65.2.0\n\n### Python version\n\n3.9\n\n### OS\n\nUbuntu 20.04\n\n### Additional environment information\n\ncross environment on docker messense/manylinux_2_24-cross:armv7l\r\n\n\n### Description\n\nWhen running setup.py build_ext bdist_wheel I get exception: No module named 'setuptools.command.build'\r\nWhen uninstalling setuptools it runs without that exception, however, failing at compiler.\r\n\r\nOn normal debian/ubuntu/macOS no problem with 65.2.0.\r\n\r\nWhen listing setuptools/commands directory, in the problematic environments build.py is missing.\r\n\r\nHope you can help. It is an new problem, because it worked, before, however do not know if it ist setuptools related or maybe another module.\r\n\r\nKind regards\r\nReimund\r\n\n\n### Expected behavior\n\ncompiling cythonized code and building wheel\n\n### How to Reproduce\n\n1. integrate setuptools via setup.py\r\n2. run setup.py build_ext\r\n3. getting above error\n\n### Output\n\n```console\r\nrunning build_ext\r\nTraceback (most recent call last):\r\n  File \"/opt/ioddcom/python/setup.py\", line 78, in <module>\r\n    setup(\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.ensure_finalized()\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 107, in ensure_finalized\r\n    self.finalize_options()\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/command/build_ext.py\", line 136, in finalize_options\r\n    _build_ext.finalize_options(self)\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/command/build_ext.py\", line 134, in finalize_options\r\n    self.set_undefined_options('build',\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 286, in set_undefined_options\r\n    src_cmd_obj = self.distribution.get_command_obj(src_cmd)\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 858, in get_command_obj\r\n    klass = self.get_command_class(command)\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/setuptools/dist.py\", line 887, in get_command_class\r\n    self.cmdclass[command] = cmdclass = ep.load()\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2450, in load\r\n    return self.resolve()\r\n  File \"/opt/cross_env/py3.9/build/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2456, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\nModuleNotFoundError: No module named 'setuptools.command.build'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3558", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3558/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3558/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3558/events", "html_url": "https://github.com/pypa/setuptools/issues/3558", "id": 1346707471, "node_id": "I_kwDOA0bv8c5QRSAP", "number": 3558, "title": "How to create a whl which includes another b.whl, and Then, when installing a.whl, also install b.whl automatically(b.whl is not released to pypi))", "user": {"login": "yudonghai", "id": 14260987, "node_id": "MDQ6VXNlcjE0MjYwOTg3", "avatar_url": "https://avatars.githubusercontent.com/u/14260987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yudonghai", "html_url": "https://github.com/yudonghai", "followers_url": "https://api.github.com/users/yudonghai/followers", "following_url": "https://api.github.com/users/yudonghai/following{/other_user}", "gists_url": "https://api.github.com/users/yudonghai/gists{/gist_id}", "starred_url": "https://api.github.com/users/yudonghai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yudonghai/subscriptions", "organizations_url": "https://api.github.com/users/yudonghai/orgs", "repos_url": "https://api.github.com/users/yudonghai/repos", "events_url": "https://api.github.com/users/yudonghai/events{/privacy}", "received_events_url": "https://api.github.com/users/yudonghai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-22T16:44:59Z", "updated_at": "2022-08-22T16:53:54Z", "closed_at": "2022-08-22T16:53:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nany\n\n### Python version\n\npython 3.9\n\n### OS\n\nmacOS\n\n### Additional environment information\n\nNA\n\n### Description\n\n\r\n\r\nI want to push a whl package, and it includes another whl file, for example, b.whl is packaged in to a.whl. when install the a.whl, Can b.whl be installed automatically too?\r\n\r\nI don't want release another b.whl to pypi.\r\n\r\nfor example, two whl files(a.whl and b.whl), b.whl in the package_data of a, but when installing a.whl, the b.whl is only put the installation path, how to trigger it's installation automatically?\r\n\r\nthanks\r\n\n\n### Expected behavior\n\nCan work\n\n### How to Reproduce\n\n\r\nI want to push a whl package, and it includes another whl file, for example, b.whl is packaged in to a.whl. when install the a.whl, Can b.whl be installed automatically too?\r\n\r\nI don't want release another b.whl to pypi.\r\n\r\nfor example, two whl files(a.whl and b.whl), b.whl in the package_data of a, but when installing a.whl, the b.whl is only put the installation path, how to trigger it's installation automatically?\r\n\r\nthanks\r\n\n\n### Output\n\nNA", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3550", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3550/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3550/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3550/events", "html_url": "https://github.com/pypa/setuptools/issues/3550", "id": 1345381585, "node_id": "I_kwDOA0bv8c5QMOTR", "number": 3550, "title": "[BUG] Realtive import of nonexistent package with same name throws RecursionError", "user": {"login": "0x2b3bfa0", "id": 11387611, "node_id": "MDQ6VXNlcjExMzg3NjEx", "avatar_url": "https://avatars.githubusercontent.com/u/11387611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0x2b3bfa0", "html_url": "https://github.com/0x2b3bfa0", "followers_url": "https://api.github.com/users/0x2b3bfa0/followers", "following_url": "https://api.github.com/users/0x2b3bfa0/following{/other_user}", "gists_url": "https://api.github.com/users/0x2b3bfa0/gists{/gist_id}", "starred_url": "https://api.github.com/users/0x2b3bfa0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0x2b3bfa0/subscriptions", "organizations_url": "https://api.github.com/users/0x2b3bfa0/orgs", "repos_url": "https://api.github.com/users/0x2b3bfa0/repos", "events_url": "https://api.github.com/users/0x2b3bfa0/events{/privacy}", "received_events_url": "https://api.github.com/users/0x2b3bfa0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-08-21T04:19:26Z", "updated_at": "2022-08-21T07:45:14Z", "closed_at": "2022-08-21T06:24:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools 64.0.0\r\n\r\n### Python version\r\n\r\nPython 3.10\r\n\r\n### OS\r\n\r\nUbuntu 22.04\r\n\r\n### Additional environment information\r\n\r\nSeen in the wild at https://github.com/AMYPAD/CuVec, had to pin `setuptools` in https://github.com/AMYPAD/CuVec/pull/25 to fix this issue.\r\n\r\n### Description\r\n\r\nIntroduced with https://github.com/pypa/setuptools/pull/3488, throws `RecursionError` instead of `ModuleNotFoundError` when importing an editable package with an `__init__.py` containing an import in the form `from .example import anything` where `example` is also the package name.\r\n\r\n### Expected behavior\r\n\r\nIn this specific case, the expected outcome is `ModuleNotFoundError: No module named 'test.test'` like when pinning `setuptools` in the minimal reproducible example below to any versions lower than 64.\r\n\r\n```console\r\n$ docker build .\r\n[+] Building 7.3s (7/7) FINISHED                                                                                                                                                                                                                                                                     \r\n => [internal] load build definition from Dockerfile                                                                                                                                                                                                                                            0.1s\r\n => => transferring dockerfile: 337B                                                                                                                                                                                                                                                            0.0s\r\n => [internal] load .dockerignore                                                                                                                                                                                                                                                               0.2s\r\n => => transferring context: 2B                                                                                                                                                                                                                                                                 0.0s\r\n => [internal] load metadata for docker.io/library/python:3                                                                                                                                                                                                                                     0.9s\r\n => [auth] library/python:pull token for registry-1.docker.io                                                                                                                                                                                                                                   0.0s\r\n => CACHED [1/3] FROM docker.io/library/python:3@sha256:cbf49327fae903d64ab28251912fc00faea2c1baee493d347a07973a2cb50f98                                                                                                                                                                        0.0s\r\n => [2/3] RUN mkdir test && echo 'build-system.requires = [\"setuptools<64\"]' >pyproject.toml && echo 'from distutils.core import setup; setup(packages=[\"test\"])' >setup.py && echo 'from .test import nonexistent' >test/__init__.py                                                           0.6s\r\n => ERROR [3/3] RUN pip install -e . && python -c 'import test'                                                                                                                                                                                                                                 5.5s\r\n------                                                                                                                                                                                                                                                                                               \r\n > [3/3] RUN pip install -e . && python -c 'import test':                                                                                                                                                                                                                                            \r\n#7 2.005 Obtaining file:///                                                                                                                                                                                                                                                                          \r\n#7 2.008   Installing build dependencies: started                                                                                                                                                                                                                                                    \r\n#7 3.556   Installing build dependencies: finished with status 'done'                                                                                                                                                                                                                                \r\n#7 3.559   WARNING: Missing build requirements in pyproject.toml for file:///.                                                                                                                                                                                                                       \r\n#7 3.559   WARNING: The project does not specify a build backend, and pip cannot fall back to setuptools without 'wheel'.\r\n#7 3.560   Checking if build backend supports build_editable: started\r\n#7 3.790   Checking if build backend supports build_editable: finished with status 'done'\r\n#7 3.791   Getting requirements to build wheel: started\r\n#7 4.020   Getting requirements to build wheel: finished with status 'done'\r\n#7 4.022   Installing backend dependencies: started\r\n#7 4.715   Installing backend dependencies: finished with status 'done'\r\n#7 4.717   Preparing metadata (pyproject.toml): started\r\n#7 4.967   Preparing metadata (pyproject.toml): finished with status 'done'\r\n#7 5.007 Installing collected packages: test\r\n#7 5.008   Running setup.py develop for test\r\n#7 5.291 Successfully installed test-0.0.0\r\n#7 5.291 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\r\n#7 5.296 \r\n#7 5.296 [notice] A new release of pip available: 22.2.1 -> 22.2.2\r\n#7 5.296 [notice] To update, run: pip install --upgrade pip\r\n#7 5.409 Traceback (most recent call last):\r\n#7 5.409   File \"<string>\", line 1, in <module>\r\n#7 5.409   File \"/test/__init__.py\", line 1, in <module>\r\n#7 5.410     from .test import nonexistent\r\n#7 5.410 ModuleNotFoundError: No module named 'test.test'\r\n------\r\nexecutor failed running [/bin/sh -c pip install -e . && python -c 'import test']: exit code: 1\r\n```\r\n\r\n### How to Reproduce\r\n\r\nCreate a file named `Dockerfile` with the contents below and run `docker build .` to reproduce the issue.\r\n\r\n#### `Dockerfile`\r\n```dockerfile\r\nFROM python:3\r\n\r\nRUN mkdir test\\\r\n && echo 'build-system.requires = [\"setuptools==64.0.0\"]' >pyproject.toml\\\r\n && echo 'from distutils.core import setup; setup(packages=[\"test\"])' >setup.py\\\r\n && echo 'from .test import nonexistent' >test/__init__.py\r\n\r\nRUN pip install -e .\\\r\n && python -c 'import test'\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n$ docker build .\r\n[+] Building 7.5s (6/6) FINISHED                                                                                                                                                                                                                                                                     \r\n => [internal] load build definition from Dockerfile                                                                                                                                                                                                                                            0.7s\r\n => => transferring dockerfile: 38B                                                                                                                                                                                                                                                             0.0s\r\n => [internal] load .dockerignore                                                                                                                                                                                                                                                               0.8s\r\n => => transferring context: 2B                                                                                                                                                                                                                                                                 0.0s\r\n => [internal] load metadata for docker.io/library/python:3                                                                                                                                                                                                                                     0.7s\r\n => [1/3] FROM docker.io/library/python:3@sha256:cbf49327fae903d64ab28251912fc00faea2c1baee493d347a07973a2cb50f98                                                                                                                                                                               0.0s\r\n => CACHED [2/3] RUN mkdir test && echo 'build-system.requires = [\"setuptools==64.0.0\"]' >pyproject.toml && echo 'from distutils.core import setup; setup(packages=[\"test\"])' >setup.py && echo 'from .test import nonexistent' >test/__init__.py                                               0.0s\r\n => ERROR [3/3] RUN pip install -e . && python -c 'import test'                                                                                                                                                                                                                                 6.0s\r\n------                                                                                                                                                                                                                                                                                               \r\n > [3/3] RUN pip install -e . && python -c 'import test':                                                                                                                                                                                                                                            \r\n#6 1.921 Obtaining file:///                                                                                                                                                                                                                                                                          \r\n#6 1.923   Installing build dependencies: started                                                                                                                                                                                                                                                    \r\n#6 3.514   Installing build dependencies: finished with status 'done'                                                                                                                                                                                                                                \r\n#6 3.517   WARNING: Missing build requirements in pyproject.toml for file:///.                                                                                                                                                                                                                       \r\n#6 3.517   WARNING: The project does not specify a build backend, and pip cannot fall back to setuptools without 'wheel'.\r\n#6 3.518   Checking if build backend supports build_editable: started\r\n#6 3.755   Checking if build backend supports build_editable: finished with status 'done'\r\n#6 3.756   Getting requirements to build editable: started\r\n#6 3.995   Getting requirements to build editable: finished with status 'done'\r\n#6 3.997   Installing backend dependencies: started\r\n#6 4.945   Installing backend dependencies: finished with status 'done'\r\n#6 4.946   Preparing editable metadata (pyproject.toml): started\r\n#6 5.196   Preparing editable metadata (pyproject.toml): finished with status 'done'\r\n#6 5.201 Building wheels for collected packages: test\r\n#6 5.202   Building editable for test (pyproject.toml): started\r\n#6 5.521   Building editable for test (pyproject.toml): finished with status 'done'\r\n#6 5.522   Created wheel for test: filename=test-0.0.0-0.editable-cp310-cp310-linux_x86_64.whl size=2179 sha256=f590bda7d3eba788bb56059a8bf19d008194c7df0d0ac2c7ef90286629c3c38a\r\n#6 5.523   Stored in directory: /tmp/pip-ephem-wheel-cache-rpsc66p0/wheels/31/76/a9/e09ab97e8ad0c49e207a3bddaf35a323dc6d5d03bb95d5511f\r\n#6 5.527 Successfully built test\r\n#6 5.566 Installing collected packages: test\r\n#6 5.625 Successfully installed test-0.0.0\r\n#6 5.626 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\r\n#6 5.631 \r\n#6 5.631 [notice] A new release of pip available: 22.2.1 -> 22.2.2\r\n#6 5.631 [notice] To update, run: pip install --upgrade pip\r\n#6 5.795 Traceback (most recent call last):\r\n#6 5.795   File \"/usr/local/lib/python3.10/pathlib.py\", line 625, in __str__\r\n#6 5.795     return self._str\r\n#6 5.795 AttributeError: 'PosixPath' object has no attribute '_str'\r\n#6 5.795 \r\n#6 5.795 During handling of the above exception, another exception occurred:\r\n#6 5.795 \r\n#6 5.795 Traceback (most recent call last):\r\n#6 5.795   File \"<string>\", line 1, in <module>\r\n#6 5.795   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.796     from .test import nonexistent\r\n#6 5.796   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.796     from .test import nonexistent\r\n#6 5.796   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.796     from .test import nonexistent\r\n\r\n[OMITTED ~270 SIMILAR LINES]\r\n\r\n#6 5.805   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.805     from .test import nonexistent\r\n#6 5.805   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.805     from .test import nonexistent\r\n#6 5.805   File \"/test/__init__.py\", line 1, in <module>\r\n#6 5.805     from .test import nonexistent\r\n#6 5.805   File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n#6 5.805   File \"<frozen importlib._bootstrap>\", line 1002, in _find_and_load_unlocked\r\n#6 5.806   File \"<frozen importlib._bootstrap>\", line 945, in _find_spec\r\n#6 5.806   File \"/usr/local/lib/python3.10/site-packages/__editable___test_0_0_0_finder.py\", line 19, in find_spec\r\n#6 5.806     return cls._find_spec(fullname, Path(pkg_path, *rest))\r\n#6 5.806   File \"/usr/local/lib/python3.10/site-packages/__editable___test_0_0_0_finder.py\", line 28, in _find_spec\r\n#6 5.806     if candidate.exists():\r\n#6 5.806   File \"/usr/local/lib/python3.10/pathlib.py\", line 1290, in exists\r\n#6 5.806     self.stat()\r\n#6 5.806   File \"/usr/local/lib/python3.10/pathlib.py\", line 1097, in stat\r\n#6 5.806     return self._accessor.stat(self, follow_symlinks=follow_symlinks)\r\n#6 5.806   File \"/usr/local/lib/python3.10/pathlib.py\", line 632, in __fspath__\r\n#6 5.806     return str(self)\r\n#6 5.806   File \"/usr/local/lib/python3.10/pathlib.py\", line 627, in __str__\r\n#6 5.807     self._str = self._format_parsed_parts(self._drv, self._root,\r\n#6 5.807 RecursionError: maximum recursion depth exceeded\r\n------\r\nexecutor failed running [/bin/sh -c pip install -e . && python -c 'import test']: exit code: 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3546", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3546/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3546/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3546/events", "html_url": "https://github.com/pypa/setuptools/issues/3546", "id": 1343860410, "node_id": "I_kwDOA0bv8c5QGa66", "number": 3546, "title": "[BUG] unable to build package on python 3.10.0 with declarative config", "user": {"login": "adigitoleo", "id": 34595875, "node_id": "MDQ6VXNlcjM0NTk1ODc1", "avatar_url": "https://avatars.githubusercontent.com/u/34595875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adigitoleo", "html_url": "https://github.com/adigitoleo", "followers_url": "https://api.github.com/users/adigitoleo/followers", "following_url": "https://api.github.com/users/adigitoleo/following{/other_user}", "gists_url": "https://api.github.com/users/adigitoleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/adigitoleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adigitoleo/subscriptions", "organizations_url": "https://api.github.com/users/adigitoleo/orgs", "repos_url": "https://api.github.com/users/adigitoleo/repos", "events_url": "https://api.github.com/users/adigitoleo/events{/privacy}", "received_events_url": "https://api.github.com/users/adigitoleo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-08-19T02:39:16Z", "updated_at": "2022-08-20T19:17:31Z", "closed_at": "2022-08-19T11:19:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools>=52.0.0\r\n\r\n### Python version\r\n\r\nPython 3.10.0a6, Python 3.10.0\r\n\r\n### OS\r\n\r\nUbuntu\r\n\r\n### Additional environment information\r\n\r\nOutput of `lsb_release -a`:\r\n\r\n```\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 20.04.4 LTS\r\nRelease:\t20.04\r\nCodename:\tfocal\r\n```\r\n\r\nI'm not able to move to Ubuntu 22 right now. Because this system is ~~a dinosaur~~ still on Python 2.7 by default, I use [pyenv](https://github.com/pyenv/pyenv) to manage Python versions.\r\n\r\nOutput of `pyenv versions`:\r\n\r\n```\r\n  system\r\n* 3.10.0a6 (set by /home/leon/.pyenv/version)\r\n```\r\n\r\nI set up a virtual environment with:\r\n\r\n```\r\n$(pyenv prefix)/bin/python3 -m venv .venv && source .venv/bin/activate && pip install --upgrade pip flake8 mypy black\r\n```\r\n\r\n### Description\r\n\r\nI'm unable to build/install a package in the above indicated environment. Upgrading the setuptools version doesn't help. Upgrading `importlib_metadata` doesn't help.\r\n\r\n### Expected behavior\r\n\r\nI use pyenv to set my Python version to 3.10, then create the virtual environment. Then I try to install the package with either of:\r\n\r\n```\r\npip install .\r\npip install -e .\r\n```\r\n\r\nIt don't work.\r\n\r\n### How to Reproduce\r\n\r\nI tried with a minimal package and can reproduce the issue. Output of `tree`:\r\n\r\n```\r\n.\r\n\u251c\u2500\u2500 pyproject.toml\r\n\u251c\u2500\u2500 setup.cfg\r\n\u251c\u2500\u2500 setup.py\r\n\u2514\u2500\u2500 src\r\n    \u2514\u2500\u2500 python_setuptools_bug\r\n        \u251c\u2500\u2500 core.py\r\n        \u2514\u2500\u2500 __init__.py\r\n```\r\n\r\nMy `pyproject.toml`:\r\n```\r\n# Boilerplate for modern (PEP517, PEP518) build systems.\r\n# The setup.cfg metadata may eventually migrate over here, see:\r\n# https://github.com/pypa/setuptools/issues/1688\r\n# https://www.python.org/dev/peps/pep-0621/\r\n# https://snarky.ca/what-the-heck-is-pyproject-toml/\r\n[build-system]\r\nrequires = [\"setuptools >= 42\", \"wheel\", \"setuptools_scm[toml]>=3.4\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n# Automatically use the version number from vcs (e.g. git) tags,\r\n# <https://github.com/pypa/setuptools_scm>.\r\n[tool.setuptools_scm]\r\n```\r\n\r\nMy `setup.cfg`:\r\n```\r\n# Packaging configuration and metadata.\r\n# <https://packaging.python.org/en/latest/tutorials/packaging-projects/>\r\n# <https://setuptools.readthedocs.io/en/latest/userguide/declarative_config.html>\r\n# <https://docs.python.org/3/distutils/configfile.html>\r\n[metadata]\r\nname = python_setuptools_bug\r\ndescription = Reproducer for python setuptools bug\r\n\r\n[options]\r\n# YES, IT NEEDS THE SECOND '=', <https://github.com/pypa/setuptools/issues/1259>.\r\npackage_dir =\r\n    = src\r\n# Find all the *.py files in options.packages.find[\"where\"] (recursive).\r\npackages = find:\r\n\r\n# Required for src/ setup.\r\n[options.packages.find]\r\nwhere = src\r\n```\r\n\r\nMy `setup.py`:\r\n```\r\n\"\"\"Setuptools shim for pre-PEP571 build methods.\"\"\"\r\nimport setuptools  # type: ignore\r\n\r\n# DO NOT EDIT, use setup.cfg instead.\r\nif __name__ == \"__main__\":\r\n    setuptools.setup()\r\n```\r\n\r\nContents of `src/python_setuptools_bug/core.py` is arbitrary, I have put:\r\n```\r\ndef main():\r\n    print(\"I'm a bug. \ud83d\udc1b\")\r\n```\r\n\r\n### Output\r\n\r\n```console\r\nProcessing /home/leon/srcbuilds/python_setuptools_bug\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 Getting requirements to build wheel did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [23 lines of output]\r\n      Traceback (most recent call last):\r\n        File \"/home/leon/srcbuilds/python_setuptools_bug/.venv-python_setuptools_bug/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n          main()\r\n        File \"/home/leon/srcbuilds/python_setuptools_bug/.venv-python_setuptools_bug/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/home/leon/srcbuilds/python_setuptools_bug/.venv-python_setuptools_bug/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n          return hook(config_settings)\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 338, in get_requires_for_build_wheel\r\n          return self._get_build_requires(config_settings, requirements=['wheel'])\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\r\n          self.run_setup()\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n          exec(code, locals())\r\n        File \"<string>\", line 6, in <module>\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/__init__.py\", line 86, in setup\r\n          _install_setup_requires(attrs)\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/__init__.py\", line 75, in _install_setup_requires\r\n          dist = MinimalDistribution(attrs)\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/__init__.py\", line 57, in __init__\r\n          super().__init__(filtered)\r\n        File \"/tmp/pip-build-env-xwiy0fou/overlay/lib/python3.10/site-packages/setuptools/dist.py\", line 474, in __init__\r\n          for ep in metadata.entry_points(group='distutils.setup_keywords'):\r\n      TypeError: entry_points() got an unexpected keyword argument 'group'\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 Getting requirements to build wheel did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3545", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3545/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3545/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3545/events", "html_url": "https://github.com/pypa/setuptools/issues/3545", "id": 1343858919, "node_id": "I_kwDOA0bv8c5QGajn", "number": 3545, "title": "[BUG] `ConfigDiscovery.analyse_name` incorrectly sets the `name` attribute on `Distribution`", "user": {"login": "jeamland", "id": 492857, "node_id": "MDQ6VXNlcjQ5Mjg1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/492857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeamland", "html_url": "https://github.com/jeamland", "followers_url": "https://api.github.com/users/jeamland/followers", "following_url": "https://api.github.com/users/jeamland/following{/other_user}", "gists_url": "https://api.github.com/users/jeamland/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeamland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeamland/subscriptions", "organizations_url": "https://api.github.com/users/jeamland/orgs", "repos_url": "https://api.github.com/users/jeamland/repos", "events_url": "https://api.github.com/users/jeamland/events{/privacy}", "received_events_url": "https://api.github.com/users/jeamland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-19T02:36:03Z", "updated_at": "2022-08-24T10:26:02Z", "closed_at": "2022-08-24T10:26:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.1.0\n\n### Python version\n\nPython 3.10.2\n\n### OS\n\nmacOS 12.5, Oracle Linux Server release 8.6\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nUnder certain circumstances (see reproduction steps) `setuptools.discovery.ConfigDiscovery.analyse_name` will overwrite the `name` attribute of the `Distribution` object leading to `python setup.py --name` failing.\n\n### Expected behavior\n\n```\r\n$ python setup.py --name\r\nmy_package_name\r\n```\n\n### How to Reproduce\n\nA project demonstrating this issue (along with a detailed description of what's going on) can be found here:\r\n\r\nhttps://github.com/jeamland/setuptools-name-bug\n\n### Output\n\n```console\r\n$ python setup.py --name\r\n/Users/benno/.pyenv/versions/setuptools-name-bug/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:108: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n  warnings.warn(msg, _BetaConfiguration)\r\nTraceback (most recent call last):\r\n  File \"/Users/benno/work/setuptools-name-bug/setup.py\", line 3, in <module>\r\n    setup()\r\n  File \"/Users/benno/.pyenv/versions/setuptools-name-bug/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/Users/benno/.pyenv/versions/setuptools-name-bug/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 170, in setup\r\n    ok = dist.parse_command_line()\r\n  File \"/Users/benno/.pyenv/versions/setuptools-name-bug/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 471, in parse_command_line\r\n    args = parser.getopt(args=self.script_args, object=self)\r\n  File \"/Users/benno/.pyenv/versions/setuptools-name-bug/lib/python3.10/site-packages/setuptools/_distutils/fancy_getopt.py\", line 274, in getopt\r\n    val = getattr(object, attr, 0) + 1\r\nTypeError: can only concatenate str (not \"int\") to str\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3539", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3539/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3539/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3539/events", "html_url": "https://github.com/pypa/setuptools/issues/3539", "id": 1342171036, "node_id": "I_kwDOA0bv8c5P_-ec", "number": 3539, "title": "[BUG] setuptools >= 64.0.0 with editable install from subdirectory breaks mypy", "user": {"login": "rtandy", "id": 795000, "node_id": "MDQ6VXNlcjc5NTAwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/795000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rtandy", "html_url": "https://github.com/rtandy", "followers_url": "https://api.github.com/users/rtandy/followers", "following_url": "https://api.github.com/users/rtandy/following{/other_user}", "gists_url": "https://api.github.com/users/rtandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rtandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rtandy/subscriptions", "organizations_url": "https://api.github.com/users/rtandy/orgs", "repos_url": "https://api.github.com/users/rtandy/repos", "events_url": "https://api.github.com/users/rtandy/events{/privacy}", "received_events_url": "https://api.github.com/users/rtandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-17T19:15:36Z", "updated_at": "2022-08-17T19:39:24Z", "closed_at": "2022-08-17T19:38:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools >= 64.0.0, up to at least 65.0.2\n\n### Python version\n\nPython 3.10.6\n\n### OS\n\nmacOS Big Sur 11.6.8 (20G730)\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nReproducer: https://github.com/rtandy/setuptools-editable-subdirectory\r\n(Reduced reproducer. In our original project (private) the Python module is one subdirectory of a larger repository, and the app that consumes the module has its own separate repository.)\r\n\r\nWith setuptools 64.0.0 and later, `pip install -e git+https://github.com/<repo>#egg=<package>&subdirectory=<subdir>` changed its behaviour in some way that breaks `mypy`. At time of writing, the latest available setuptools 65.0.2 did not fix the problem.\r\n\r\nPython itself is able to load the module:\r\n\r\n```\r\n$ pipenv run python3\r\nPython 3.10.6 (main, Aug 11 2022, 13:49:01) [Clang 13.0.0 (clang-1300.0.29.30)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import mylib.example\r\n>>> mylib.example.example()\r\n'Hello'\r\n```\r\n\r\nhowever, mypy fails:\r\n\r\n```\r\n$ pipenv run mypy .\r\napp.py:1: error: Cannot find implementation or library stub for module named \"mylib.example\"\r\napp.py:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\r\napp.py:1: error: Cannot find implementation or library stub for module named \"mylib\"\r\nFound 2 errors in 1 file (checked 1 source file)\r\n```\r\n\r\nI also noticed that `pip freeze` no longer shows the `subdirectory` for the editable module:\r\n\r\n```\r\n$ pipenv run pip freeze\r\nWARNING: Could not find a Python project for directory /Users/ryan/.local/share/virtualenvs/app-FRm2CBtr/src/test-library (tried all parent directories)\r\nmypy==0.971\r\nmypy-extensions==0.4.3\r\n-e git+https://github.com/rtandy/setuptools-editable-subdirectory@412e934070173ea904daad6e99125e4afc2a1275#egg=test_library\r\ntomli==2.0.1\r\ntyping_extensions==4.3.0\r\n```\r\n\r\nI don't think this is a Pipenv bug. It appears to run the `pip` command I'd expect (including subdirectory) and running `pip install -e git+https://...` manually has the same results.\r\n\r\nThank you for maintaining setuptools!\n\n### Expected behavior\n\nThe branch `older-setuptools` shows the working behaviour with setuptools < 64.\r\n\r\n```\r\n$ git checkout older-setuptools\r\n$ pipenv update --dev\r\n[...]\r\n$ pipenv run mypy .\r\nSuccess: no issues found in 1 source file\r\n$ pipenv run pip freeze\r\nmypy==0.971\r\nmypy-extensions==0.4.3\r\n-e git+https://github.com/rtandy/setuptools-editable-subdirectory@0b624539211adf7b5d584426f7cf3dba49d7f62b#egg=test_library&subdirectory=library\r\ntomli==2.0.1\r\ntyping_extensions==4.3.0\r\n```\n\n### How to Reproduce\n\n```\r\ngit clone https://github.com/rtandy/setuptools-editable-subdirectory\r\ncd setuptools-editable-subdirectory/app\r\npipenv install --dev\r\npipenv run mypy .\r\npipenv run pip freeze\r\n```\n\n### Output\n\n```\r\n$ pipenv run mypy .\r\napp.py:1: error: Cannot find implementation or library stub for module named \"mylib.example\"\r\napp.py:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\r\napp.py:1: error: Cannot find implementation or library stub for module named \"mylib\"\r\nFound 2 errors in 1 file (checked 1 source file)\r\n$ pipenv run pip freeze\r\nWARNING: Could not find a Python project for directory /Users/ryan/.local/share/virtualenvs/app-FRm2CBtr/src/test-library (tried all parent directories)\r\nmypy==0.971\r\nmypy-extensions==0.4.3\r\n-e git+https://github.com/rtandy/setuptools-editable-subdirectory@158b003430fa340a75364bd84e17a7aef4f6291c#egg=test_library\r\ntomli==2.0.1\r\ntyping_extensions==4.3.0\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3539/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3537", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3537/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3537/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3537/events", "html_url": "https://github.com/pypa/setuptools/issues/3537", "id": 1341960427, "node_id": "I_kwDOA0bv8c5P_LDr", "number": 3537, "title": "[BUG] new pip install --editable . behavior does sometimes gets confused with namespace packages ", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-17T15:40:32Z", "updated_at": "2022-08-17T17:49:50Z", "closed_at": "2022-08-17T17:49:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools=65.0.2\r\n\r\n### Python version\r\n\r\n3.9\r\n\r\n### OS\r\n\r\nmacOS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\n### Description\r\n\r\nthe new version of `pip install --editable .` sometimes get a bit confused for namespace packages. @pfmoore told me to report here after i opened https://github.com/pypa/pip/issues/11386.\r\n\r\nyou can see this behavior on the [dedupe library](https://github.com/dedupeio/dedupe). the library is a namespace package and it [depends on a second namespace package](https://github.com/dedupeio/dedupe/blob/main/setup.py#L17).\r\n\r\nafter installing and running pytest sometimes `import dedupe` imports the development path and sometimes it imports the other namespace package. you can see that with some of these tests passing and other failing on an import error.\r\n\r\nhttps://github.com/dedupeio/dedupe/runs/7881347467?check_suite_focus=true#step:6:61\r\n\r\n### pip version\r\n\r\n22.2.2\r\n\r\n\r\n### Expected behavior\r\n\r\nthat the importing of a namespace package will work consistently with a development install\r\n\r\n`pip install -e . --config-settings editable_mode=compat` does the right thing.\r\n\r\n### How to Reproduce\r\n\r\n1. clone https://github.com/dedupeio/dedupe/\r\n2. pip install -e .\r\n3. pip install -r requirements.txt\r\n4. pytest\r\n\r\n### Output\r\n\r\n```console\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.7.9, pytest-7.1.2, pluggy-1.0.0\r\nrootdir: D:\\a\\dedupe\\dedupe, configfile: pyproject.toml, testpaths: tests, dedupe\r\nplugins: cov-3.0.0\r\ncollected 45 items\r\n\r\ntests\\test_api.py ...                                                    [  6%]\r\ntests\\test_blocking.py ....                                              [ 15%]\r\ntests\\test_canonical.py ..                                               [ 20%]\r\ntests\\test_core.py FFFFF.                                                [ 33%]\r\ntests\\test_dedupe.py ......                                              [ 46%]\r\ntests\\test_labeler.py .                                                  [ 48%]\r\ntests\\test_predicates.py ..............                                  [ 80%]\r\ntests\\test_price.py .                                                    [ 82%]\r\ntests\\test_serializer.py F                                               [ 84%]\r\ntests\\test_tfidf.py ....                                                 [ 93%]\r\ntests\\test_training.py FFF                                               [100%]\r\n\r\n================================== FAILURES ===================================\r\n____________________ ScoreDuplicates.test_score_duplicates ____________________\r\n\r\nself = <test_core.ScoreDuplicates testMethod=test_score_duplicates>\r\n\r\n    def setUp(self):\r\n        random.seed(123)\r\n    \r\n        long_string = \"asa;sasdfjasdio;fio;asdnfasdvnvao;asduifvnavjasdfasdfasfasasdfasdfasdfasdfasdfsdfasgnuavpidcvaspdivnaspdivninasduinguipghauipsdfnvaspfighapsdifnasdifnasdpighuignpaguinpgiasidfjasdfjsdofgiongag\"  # noqa: E501\r\n    \r\n        self.records = iter(\r\n            [\r\n                (\r\n                    (long_string, {\"name\": \"Margret\", \"age\": \"32\"}),\r\n                    (\"2\", {\"name\": \"Marga\", \"age\": \"33\"}),\r\n                ),\r\n                (\r\n                    (\"2\", {\"name\": \"Marga\", \"age\": \"33\"}),\r\n                    (\"3\", {\"name\": \"Maria\", \"age\": \"19\"}),\r\n                ),\r\n                (\r\n                    (\"4\", {\"name\": \"Maria\", \"age\": \"19\"}),\r\n                    (\"5\", {\"name\": \"Monica\", \"age\": \"39\"}),\r\n                ),\r\n                (\r\n                    (\"6\", {\"name\": \"Monica\", \"age\": \"39\"}),\r\n                    (\"7\", {\"name\": \"Mira\", \"age\": \"47\"}),\r\n                ),\r\n                (\r\n                    (\"8\", {\"name\": \"Mira\", \"age\": \"47\"}),\r\n                    (\"9\", {\"name\": \"Mona\", \"age\": \"9\"}),\r\n                ),\r\n            ]\r\n        )\r\n    \r\n>       deduper = dedupe.Dedupe([{\"field\": \"name\", \"type\": \"String\"}])\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_core.py:51: AttributeError\r\n______________ ScoreDuplicates.test_score_duplicates_with_zeros _______________\r\n\r\nself = <test_core.ScoreDuplicates testMethod=test_score_duplicates_with_zeros>\r\n\r\n    def setUp(self):\r\n        random.seed(123)\r\n    \r\n        long_string = \"asa;sasdfjasdio;fio;asdnfasdvnvao;asduifvnavjasdfasdfasfasasdfasdfasdfasdfasdfsdfasgnuavpidcvaspdivnaspdivninasduinguipghauipsdfnvaspfighapsdifnasdifnasdpighuignpaguinpgiasidfjasdfjsdofgiongag\"  # noqa: E501\r\n    \r\n        self.records = iter(\r\n            [\r\n                (\r\n                    (long_string, {\"name\": \"Margret\", \"age\": \"32\"}),\r\n                    (\"2\", {\"name\": \"Marga\", \"age\": \"33\"}),\r\n                ),\r\n                (\r\n                    (\"2\", {\"name\": \"Marga\", \"age\": \"33\"}),\r\n                    (\"3\", {\"name\": \"Maria\", \"age\": \"19\"}),\r\n                ),\r\n                (\r\n                    (\"4\", {\"name\": \"Maria\", \"age\": \"19\"}),\r\n                    (\"5\", {\"name\": \"Monica\", \"age\": \"39\"}),\r\n                ),\r\n                (\r\n                    (\"6\", {\"name\": \"Monica\", \"age\": \"39\"}),\r\n                    (\"7\", {\"name\": \"Mira\", \"age\": \"47\"}),\r\n                ),\r\n                (\r\n                    (\"8\", {\"name\": \"Mira\", \"age\": \"47\"}),\r\n                    (\"9\", {\"name\": \"Mona\", \"age\": \"9\"}),\r\n                ),\r\n            ]\r\n        )\r\n    \r\n>       deduper = dedupe.Dedupe([{\"field\": \"name\", \"type\": \"String\"}])\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_core.py:51: AttributeError\r\n_______________________ FieldDistances.test_comparator ________________________\r\n\r\nself = <test_core.FieldDistances testMethod=test_comparator>\r\n\r\n    def test_comparator(self):\r\n>       deduper = dedupe.Dedupe(\r\n            [{\"field\": \"type\", \"type\": \"Categorical\", \"categories\": [\"a\", \"b\", \"c\"]}]\r\n        )\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_core.py:122: AttributeError\r\n_________________ FieldDistances.test_comparator_interaction __________________\r\n\r\nself = <test_core.FieldDistances testMethod=test_comparator_interaction>\r\n\r\n    def test_comparator_interaction(self):\r\n>       deduper = dedupe.Dedupe(\r\n            [\r\n                {\r\n                    \"field\": \"type\",\r\n                    \"variable name\": \"type\",\r\n                    \"type\": \"Categorical\",\r\n                    \"categories\": [\"a\", \"b\"],\r\n                },\r\n                {\"type\": \"Interaction\", \"interaction variables\": [\"type\", \"name\"]},\r\n                {\"field\": \"name\", \"variable name\": \"name\", \"type\": \"Exact\"},\r\n            ]\r\n        )\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_core.py:135: AttributeError\r\n____________________ FieldDistances.test_exact_comparator _____________________\r\n\r\nself = <test_core.FieldDistances testMethod=test_exact_comparator>\r\n\r\n    def test_exact_comparator(self):\r\n>       deduper = dedupe.Dedupe([{\"field\": \"name\", \"type\": \"Exact\"}])\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_core.py:110: AttributeError\r\n______________________ SerializerTest.test_writeTraining ______________________\r\n\r\nself = <test_serializer.SerializerTest testMethod=test_writeTraining>\r\n\r\n    def test_writeTraining(self):\r\n        if sys.version < \"3\":\r\n            from StringIO import StringIO\r\n    \r\n            output = StringIO()\r\n            encoded_file = codecs.EncodedFile(\r\n                output, data_encoding=\"utf8\", file_encoding=\"ascii\"\r\n            )\r\n        else:\r\n            from io import StringIO\r\n    \r\n            encoded_file = StringIO()\r\n    \r\n        training_pairs = {\r\n            \"distinct\": [\r\n                [\r\n                    {\r\n                        \"bar\": frozenset([\"bar\ufffd\"]),\r\n                        \"baz\": (1, 2),\r\n                        \"bang\": (1, 2),\r\n                        \"foo\": \"baz\",\r\n                    },\r\n                    {\"foo\": \"baz\"},\r\n                ]\r\n            ],\r\n            \"match\": [],\r\n        }\r\n    \r\n        json.dump(training_pairs, encoded_file, cls=dedupe.serializer.TupleEncoder)\r\n    \r\n        encoded_file.seek(0)\r\n    \r\n        loaded_training_pairs = json.load(\r\n            encoded_file, object_hook=dedupe.serializer._from_json\r\n        )\r\n    \r\n        assert loaded_training_pairs[\"distinct\"][0][0] == dict(\r\n            training_pairs[\"distinct\"][0][0]\r\n        )\r\n    \r\n        assert isinstance(loaded_training_pairs[\"distinct\"][0][0][\"bar\"], frozenset)\r\n        assert isinstance(loaded_training_pairs[\"distinct\"][0][0][\"baz\"], tuple)\r\n    \r\n>       deduper = dedupe.Dedupe([{\"field\": \"foo\", \"type\": \"String\"}])\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_serializer.py:56: AttributeError\r\n_______________________ TrainingTest.test_covered_pairs _______________________\r\n\r\nself = <test_training.TrainingTest testMethod=test_covered_pairs>\r\n\r\n    def setUp(self):\r\n    \r\n        field_definition = [{\"field\": \"name\", \"type\": \"String\"}]\r\n>       self.data_model = dedupe.Dedupe(field_definition).data_model\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_training.py:11: AttributeError\r\n______________________ TrainingTest.test_dedupe_coverage ______________________\r\n\r\nself = <test_training.TrainingTest testMethod=test_dedupe_coverage>\r\n\r\n    def setUp(self):\r\n    \r\n        field_definition = [{\"field\": \"name\", \"type\": \"String\"}]\r\n>       self.data_model = dedupe.Dedupe(field_definition).data_model\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_training.py:11: AttributeError\r\n_______________________ TrainingTest.test_uncovered_by ________________________\r\n\r\nself = <test_training.TrainingTest testMethod=test_uncovered_by>\r\n\r\n    def setUp(self):\r\n    \r\n        field_definition = [{\"field\": \"name\", \"type\": \"String\"}]\r\n>       self.data_model = dedupe.Dedupe(field_definition).data_model\r\nE       AttributeError: module 'dedupe' has no attribute 'Dedupe'\r\n\r\ntests\\test_training.py:11: AttributeError\r\n\r\n----------- coverage: platform win32, python 3.7.9-final-0 -----------\r\nName                                   Stmts   Miss  Cover\r\n----------------------------------------------------------\r\ndedupe\\__init__.py                         3      3     0%\r\ndedupe\\_init.py                            3      3     0%\r\ndedupe\\_typing.py                         48      6    88%\r\ndedupe\\api.py                            276    161    42%\r\ndedupe\\blocking.py                        82     14    83%\r\ndedupe\\canonical.py                       33      1    97%\r\ndedupe\\canopy_index.py                    11      0   100%\r\ndedupe\\clustering.py                     180     34    81%\r\ndedupe\\convenience.py                     60     60     0%\r\ndedupe\\core.py                           180    136    24%\r\ndedupe\\datamodel.py                      147     37    75%\r\ndedupe\\index.py                           12      2    83%\r\ndedupe\\labeler.py                        274    175    36%\r\ndedupe\\levenshtein.py                     26     14    46%\r\ndedupe\\predicates.py                     344    100    71%\r\ndedupe\\serializer.py                      31      4    87%\r\ndedupe\\tfidf.py                           28      0   100%\r\ndedupe\\training.py                       219    179    18%\r\ndedupe\\variables\\__init__.py               2      2     0%\r\ndedupe\\variables\\base.py                  78     13    83%\r\ndedupe\\variables\\categorical_type.py      24     24     0%\r\ndedupe\\variables\\exact.py                 11     11     0%\r\ndedupe\\variables\\exists.py                23     23     0%\r\ndedupe\\variables\\interaction.py           42      5    88%\r\ndedupe\\variables\\latlong.py               10     10     0%\r\ndedupe\\variables\\price.py                 13      2    85%\r\ndedupe\\variables\\set.py                   14     14     0%\r\ndedupe\\variables\\string.py                38      5    87%\r\n----------------------------------------------------------\r\nTOTAL                                   2212   1038    53%\r\n\r\n=========================== short test summary info ===========================\r\nFAILED tests/test_core.py::ScoreDuplicates::test_score_duplicates - Attribute...\r\nFAILED tests/test_core.py::ScoreDuplicates::test_score_duplicates_with_zeros\r\nFAILED tests/test_core.py::FieldDistances::test_comparator - AttributeError: ...\r\nFAILED tests/test_core.py::FieldDistances::test_comparator_interaction - Attr...\r\nFAILED tests/test_core.py::FieldDistances::test_exact_comparator - AttributeE...\r\nFAILED tests/test_serializer.py::SerializerTest::test_writeTraining - Attribu...\r\nFAILED tests/test_training.py::TrainingTest::test_covered_pairs - AttributeEr...\r\nFAILED tests/test_training.py::TrainingTest::test_dedupe_coverage - Attribute...\r\nFAILED tests/test_training.py::TrainingTest::test_uncovered_by - AttributeErr...\r\n======================== 9 failed, 36 passed in 2.38s =========================\r\nError: Process completed with exit code 1.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3537/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3536", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3536/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3536/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3536/events", "html_url": "https://github.com/pypa/setuptools/issues/3536", "id": 1341875681, "node_id": "I_kwDOA0bv8c5P-2Xh", "number": 3536, "title": "[BUG] `import setuptools` raises a DeprecationWarning on Windows", "user": {"login": "kmaehashi", "id": 939877, "node_id": "MDQ6VXNlcjkzOTg3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/939877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmaehashi", "html_url": "https://github.com/kmaehashi", "followers_url": "https://api.github.com/users/kmaehashi/followers", "following_url": "https://api.github.com/users/kmaehashi/following{/other_user}", "gists_url": "https://api.github.com/users/kmaehashi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmaehashi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmaehashi/subscriptions", "organizations_url": "https://api.github.com/users/kmaehashi/orgs", "repos_url": "https://api.github.com/users/kmaehashi/repos", "events_url": "https://api.github.com/users/kmaehashi/events{/privacy}", "received_events_url": "https://api.github.com/users/kmaehashi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-08-17T14:41:15Z", "updated_at": "2022-08-18T13:40:56Z", "closed_at": "2022-08-18T12:34:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==65.0.2\n\n### Python version\n\nPython 3.9\n\n### OS\n\nWindows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nOn Windows, `import setuptools` raises a warning added in https://github.com/pypa/distutils/commit/c802880.\r\n\r\nThis issue does not occur in setuptools 65.0.1.\n\n### Expected behavior\n\nNo warnings.\n\n### How to Reproduce\n\n```console\r\npython -Werror -c \"import setuptools\"\r\n```\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"C:\\Users\\maehashi\\.venv-py39\\lib\\site-packages\\setuptools\\__init__.py\", line 247, in <module>\r\n    monkey.patch_all()\r\n  File \"C:\\Users\\maehashi\\.venv-py39\\lib\\site-packages\\setuptools\\monkey.py\", line 99, in patch_all\r\n    patch_for_msvc_specialized_compiler()\r\n  File \"C:\\Users\\maehashi\\.venv-py39\\lib\\site-packages\\setuptools\\monkey.py\", line 136, in patch_for_msvc_specialized_compiler\r\n    msvc = import_module('setuptools.msvc')\r\n  File \"C:\\Program Files\\Python39\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"C:\\Users\\maehashi\\.venv-py39\\lib\\site-packages\\setuptools\\msvc.py\", line 61, in <module>\r\n    from distutils.msvc9compiler import Reg\r\n  File \"C:\\Users\\maehashi\\.venv-py39\\lib\\site-packages\\setuptools\\_distutils\\msvc9compiler.py\", line 34, in <module>\r\n    warnings.warn(\r\nDeprecationWarning: msvc9compiler is deprecated and slated to be removed in the future. Please discontinue use or file an issue with pypa/distutils describing your use case.\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3536/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3535", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3535/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3535/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3535/events", "html_url": "https://github.com/pypa/setuptools/issues/3535", "id": 1341637847, "node_id": "I_kwDOA0bv8c5P98TX", "number": 3535, "title": "[BUG] `ImportError` running entrypoint in setuptools 64.0.0+ when `PYTHONPATH` defined", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-08-17T11:44:24Z", "updated_at": "2022-08-17T18:12:55Z", "closed_at": "2022-08-17T18:12:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==64.0.0\r\n\r\n### Python version\r\n\r\nPython 3.10\r\n\r\n### OS\r\n\r\nDebian (official Python docker images)\r\n\r\n### Additional environment information\r\n\r\nLast known good version: setuptools v63.4.3\r\nFirst failing version: setuptools v64.0.0 (also confirmed failing with setuptools v65.0.2)\r\n\r\n### Description\r\n\r\nInstalling a local package (which has an entrypoint) as editable, now results in an `ImportError` when that entrypoint is run with `PYTHONPATH` set, when it worked before.\r\n\r\nExample project repo:\r\nhttps://github.com/edmorley/testcase-setuptools-pep660-pythonpath\r\n\r\n### Expected behavior\r\n\r\nEither:\r\n1. Existing package continues to work with setuptools v64's new PEP660 editable mode (if what the package is doing is reasonable)\r\n2. Or, if a certain workflow/scenario is no longer supported, then ideally for setuptools to output an error or warning at build/install time, rather than there being a hard to diagnose `ImportError` at runtime.\r\n\r\n### How to Reproduce\r\n\r\n1. `git clone https://github.com/edmorley/testcase-setuptools-pep660-pythonpath && cd testcase-setuptools-pep660-pythonpath`\r\n2. `docker build -t testcase . && docker run --rm -it -e PYTHONPATH=/src testcase hello`\r\n\r\n## Notes:\r\n\r\n- This testcase uses Python 3.10.6, pip 22.2.2, setuptools 65.0.2, wheel 0.37.1.\r\n- Any of the following prevents the issue from occurring:\r\n  - Downgrading to setuptools <64 (eg: 63.4.3) in the `[build-system]` `requires` of `pyproject.toml`.\r\n  - Removing the `-e PYTHONPATH=/src` from the `docker run` command.\r\n- ~However using `SETUPTOOLS_ENABLE_FEATURE=legacy-editable` doesn't seem to help (uncomment in `Dockerfile` to try it).~\r\n\r\n\r\n### Output\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hello\", line 5, in <module>\r\n    from my_package import hello\r\nImportError: cannot import name 'hello' from 'my_package' (unknown location)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3535/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3527", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3527/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3527/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3527/events", "html_url": "https://github.com/pypa/setuptools/issues/3527", "id": 1339238673, "node_id": "I_kwDOA0bv8c5P0ykR", "number": 3527, "title": "[BUG] Setuptools 64+ has incorrect entry point \"dist.module_path\"", "user": {"login": "djhoese", "id": 1828519, "node_id": "MDQ6VXNlcjE4Mjg1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1828519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djhoese", "html_url": "https://github.com/djhoese", "followers_url": "https://api.github.com/users/djhoese/followers", "following_url": "https://api.github.com/users/djhoese/following{/other_user}", "gists_url": "https://api.github.com/users/djhoese/gists{/gist_id}", "starred_url": "https://api.github.com/users/djhoese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djhoese/subscriptions", "organizations_url": "https://api.github.com/users/djhoese/orgs", "repos_url": "https://api.github.com/users/djhoese/repos", "events_url": "https://api.github.com/users/djhoese/events{/privacy}", "received_events_url": "https://api.github.com/users/djhoese/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-08-15T17:03:27Z", "updated_at": "2022-08-15T21:30:11Z", "closed_at": "2022-08-15T19:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools>=64.0.0\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nPopOS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen installing a package in editable mode with setuptools 64+ the resulting `entry_point.dist.module_path` points to the environment's `site-packages` instead of the location of the editable package source. This makes it impossible or at least not backwards compatible to get the location of an entry point's content (package data).\r\n\r\n### Expected behavior\r\n\r\nSee the reproduction code below for exact expected values, but:\r\n\r\n```\r\nimport pkg_resources\r\nfor entry_point in pkg_resources.iter_entry_points('a'):\r\n    print(entry_point.dist.module_path)\r\n```\r\n\r\nI expect this to print the path to the package source that defined this entry point. It currently prints the path to `site-packages` (ex. `/home/davidh/miniconda3/envs/satpy_py39/lib/python3.9/site-packages`).\r\n\r\n### How to Reproduce\r\n\r\n1. Create environment with setuptools installed.\r\n2. Running the following bash commands or equivalent:\r\n\r\n   ```bash\r\n   cd /tmp\r\n   mkdir -p mypkg/mypkg\r\n   touch mypkg/mypkg/__init__.py\r\n   ```\r\n3. Create a pyproject.toml file in `/tmp/mypkg/pyproject.toml`:\r\n\r\n   ```toml\r\n   [project]\r\n   name = \"mypkg\"\r\n   version = \"1.0.0\"\r\n\r\n   [tool.setuptools]\r\n   packages = [\"mypkg\"]\r\n\r\n   [project.entry-points.a]\r\n   b = \"c\"\r\n\r\n   [build-system]\r\n   requires = [\"setuptools>=64\", \"wheel\"]\r\n   build-backend = \"setuptools.build_meta\"\r\n   ```\r\n4. Create a `setup.py` file in `/tmp/mypkg/setup.py`:\r\n\r\n   ```python\r\n   from setuptools import setup\r\n   setup()\r\n   ```\r\n5. Change to another directory to make sure you don't have access to `mypkg` by relative path: `cd ~`\r\n6. Install the package in editable mode: `pip install -e /tmp/mypkg`\r\n7. Run this example from bash:\r\n\r\n   ```bash\r\n   python <<EOF\r\n   import pkg_resources\r\n   for entry_point in pkg_resources.iter_entry_points('a'):\r\n       print(entry_point.dist.module_path)\r\n   EOF\r\n   ```\r\n8. Note the output is `site-packages`.\r\n9. Change the pyproject.toml to use `<64` for setuptools, rerun `pip install -e /tmp/mypkg`, rerun above example and note the `/tmp/mypkg` result.\r\n\r\n### Output\r\n\r\n```console\r\n$ cd /tmp\r\n$ mkdir -p mypkg/mypkg\r\n$ cd mypkg/\r\n$ touch mypkg/__init__.py\r\n$ vim pyproject.toml\r\n$ vim setup.py\r\n$ pip install -e .\r\nObtaining file:///tmp/mypkg\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: mypkg\r\n  Running setup.py develop for mypkg\r\nSuccessfully installed mypkg-1.0.0\r\n$ cd\r\n$ python <<EOF\r\nimport pkg_resources\r\nfor entry_point in pkg_resources.iter_entry_points('a'):\r\n    print(entry_point.module_name, entry_point.dist.module_path)\r\n\r\nEOF\r\nc /home/davidh/miniconda3/envs/satpy_py39/lib/python3.9/site-packages\r\n\r\n$ vim /tmp/mypkg/pyproject.toml  # change to <64\r\n$ pip install -e /tmp/mypkg/\r\nObtaining file:///tmp/mypkg\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: mypkg\r\n  Attempting uninstall: mypkg\r\n    Found existing installation: mypkg 1.0.0\r\n    Uninstalling mypkg-1.0.0:\r\n      Successfully uninstalled mypkg-1.0.0\r\n  Running setup.py develop for mypkg\r\nSuccessfully installed mypkg-1.0.0\r\n$ python <<EOF\r\nimport pkg_resources\r\nfor entry_point in pkg_resources.iter_entry_points('a'):\r\n    print(entry_point.module_name, entry_point.dist.module_path)\r\n\r\nEOF\r\nc /tmp/mypkg\r\n\r\n$ vim /tmp/mypkg/pyproject.toml  # change to >=65 to make sure newer releases don't have important fixes\r\n(satpy_py39) davidh@janet:~$ pip install -e /tmp/mypkg/\r\nObtaining file:///tmp/mypkg\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build editable ... done\r\n  Preparing editable metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: mypkg\r\n  Building editable for mypkg (pyproject.toml) ... done\r\n  Created wheel for mypkg: filename=mypkg-1.0.0-0.editable-py3-none-any.whl size=2416 sha256=211f0d8240461cc126ad04f35d91b63b0523be802c23fd70328653bd7a1ea4d1\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-n61anp3q/wheels/96/83/6b/d7d48eba2f2b8a9e7c44cf04a809888c8783c06cbbf4c7991d\r\nSuccessfully built mypkg\r\nInstalling collected packages: mypkg\r\n  Attempting uninstall: mypkg\r\n    Found existing installation: mypkg 1.0.0\r\n    Uninstalling mypkg-1.0.0:\r\n      Successfully uninstalled mypkg-1.0.0\r\nSuccessfully installed mypkg-1.0.0\r\n$ python <<EOF\r\nimport pkg_resources\r\nfor entry_point in pkg_resources.iter_entry_points('a'):\r\n    print(entry_point.module_name, entry_point.dist.module_path)\r\n\r\nEOF\r\nc /home/davidh/miniconda3/envs/satpy_py39/lib/python3.9/site-packages\r\n\r\n$ cat /tmp/mypkg/pyproject.toml\r\n[project]\r\nname = \"mypkg\"\r\nversion = \"1.0.0\"\r\n\r\n[tool.setuptools]\r\npackages = [\"mypkg\"]\r\n\r\n[project.entry-points.a]\r\nb = \"c\"\r\n\r\n[build-system]\r\nrequires = [\"setuptools>=65\", \"wheel\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n$ cat /tmp/mypkg/setup.py\r\nfrom setuptools import setup\r\nsetup()\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3523", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3523/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3523/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3523/events", "html_url": "https://github.com/pypa/setuptools/issues/3523", "id": 1339045451, "node_id": "I_kwDOA0bv8c5P0DZL", "number": 3523, "title": "[BUG] build_meta glob *.dist-info targets unrelated .dist-info files", "user": {"login": "hrnciar", "id": 13086088, "node_id": "MDQ6VXNlcjEzMDg2MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13086088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrnciar", "html_url": "https://github.com/hrnciar", "followers_url": "https://api.github.com/users/hrnciar/followers", "following_url": "https://api.github.com/users/hrnciar/following{/other_user}", "gists_url": "https://api.github.com/users/hrnciar/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrnciar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrnciar/subscriptions", "organizations_url": "https://api.github.com/users/hrnciar/orgs", "repos_url": "https://api.github.com/users/hrnciar/repos", "events_url": "https://api.github.com/users/hrnciar/events{/privacy}", "received_events_url": "https://api.github.com/users/hrnciar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-15T14:03:31Z", "updated_at": "2022-08-17T07:22:14Z", "closed_at": "2022-08-15T20:35:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools 64+\n\n### Python version\n\nPython 3.10.6\n\n### OS\n\nFedora Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI tried to build the new version of setuptools with setuptools itself, but I got an error: \r\n~~~~\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/rpm/redhat/pyproject_buildrequires.py\", line 501, in main\r\n    generate_requires(\r\n  File \"/usr/lib/rpm/redhat/pyproject_buildrequires.py\", line 420, in generate_requires\r\n    generate_run_requirements(backend, requirements, build_wheel=build_wheel, wheeldir=wheeldir)\r\n  File \"/usr/lib/rpm/redhat/pyproject_buildrequires.py\", line 330, in generate_run_requirements\r\n    generate_run_requirements_hook(backend, requirements)\r\n  File \"/usr/lib/rpm/redhat/pyproject_buildrequires.py\", line 286, in generate_run_requirements_hook\r\n    dir_basename = prepare_metadata('.')\r\n                   ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-65.0.0/setuptools/build_meta.py\", line 372, in prepare_metadata_for_build_wheel\r\n    return self._bubble_up_info_directory(metadata_directory, \".dist-info\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-65.0.0/setuptools/build_meta.py\", line 350, in _bubble_up_info_directory\r\n    assert len(candidates) == 1, f\"Exactly one {suffix} should have been produced\"\r\nAssertionError: Exactly one .dist-info should have been produced\r\n~~~~\r\nHere is the content of `candidates`:\r\n~~~~\r\n[PosixPath('setuptools-65.0.0.post20220815.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/attrs-22.1.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/autocommand-2.2.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/build-0.8.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/click-8.1.3.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/distlib-0.3.5.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/docutils-0.19.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/execnet-1.9.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/filelock-3.7.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/flake8-4.0.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/flake8_2020-1.6.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/importlib_metadata-4.12.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/ini2toml-0.11.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/iniconfig-1.1.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/jaraco.context-4.1.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/jaraco.envs-2.4.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/jaraco.functools-3.5.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/jaraco.path-3.4.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/mccabe-0.6.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/mock-4.0.3.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/more_itertools-8.13.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/mypy_extensions-0.4.3.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/packaging-21.3.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/path-16.4.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pathspec-0.9.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pep517-0.13.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pip-22.1.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pip_run-8.8.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/platformdirs-2.5.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pluggy-1.0.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/py-1.11.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pycodestyle-2.8.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pyflakes-2.4.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pyparsing-3.0.9.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest-7.1.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_black-0.3.12.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_checkdocs-2.7.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_cov-3.0.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_enabler-1.3.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_flake8-1.1.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_forked-1.4.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_mypy-0.9.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_perf-0.12.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytest_xdist-2.5.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/pytz-2022.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/six-1.16.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/tempora-5.0.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/toml-0.10.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/tomli-2.0.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/tomli_w-1.0.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/tox-3.25.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/typing_extensions-4.3.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/virtualenv-20.16.2.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/wheel-0.37.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/zipp-3.8.1.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/py/_vendored_packages/apipkg-2.0.0.dist-info'), PosixPath('.tox/python/lib/python3.10/site-packages/py/_vendored_packages/iniconfig-1.1.1.dist-info'), PosixPath('.tox/python/lib64/python3.10/site-packages/black-22.6.0.dist-info'), PosixPath('.tox/python/lib64/python3.10/site-packages/coverage-6.4.2.dist-info'), PosixPath('.tox/python/lib64/python3.10/site-packages/mypy-0.971.dist-info'), PosixPath('pkg_resources/_vendor/appdirs-1.4.3.dist-info'), PosixPath('pkg_resources/_vendor/importlib_resources-5.4.0.dist-info'), PosixPath('pkg_resources/_vendor/jaraco.context-4.1.1.dist-info'), PosixPath('pkg_resources/_vendor/jaraco.functools-3.5.0.dist-info'), PosixPath('pkg_resources/_vendor/jaraco.text-3.7.0.dist-info'), PosixPath('pkg_resources/_vendor/more_itertools-8.12.0.dist-info'), PosixPath('pkg_resources/_vendor/packaging-21.3.dist-info'), PosixPath('pkg_resources/_vendor/pyparsing-3.0.8.dist-info'), PosixPath('pkg_resources/_vendor/zipp-3.7.0.dist-info'), PosixPath('pkg_resources/_vendor/pyparsing-3.0.9.dist-info'), PosixPath('setuptools/_vendor/importlib_metadata-4.11.1.dist-info'), PosixPath('setuptools/_vendor/importlib_resources-5.4.0.dist-info'), PosixPath('setuptools/_vendor/jaraco.context-4.1.1.dist-info'), PosixPath('setuptools/_vendor/jaraco.functools-3.5.0.dist-info'), PosixPath('setuptools/_vendor/jaraco.text-3.7.0.dist-info'), PosixPath('setuptools/_vendor/more_itertools-8.8.0.dist-info'), PosixPath('setuptools/_vendor/ordered_set-3.1.1.dist-info'), PosixPath('setuptools/_vendor/packaging-21.3.dist-info'), PosixPath('setuptools/_vendor/tomli-2.0.1.dist-info'), PosixPath('setuptools/_vendor/typing_extensions-4.0.1.dist-info'), PosixPath('setuptools/_vendor/zipp-3.7.0.dist-info'), PosixPath('setuptools/_vendor/pyparsing-3.0.9.dist-info')]\r\n~~~~\n\n### Expected behavior\n\nIt seems that when I run prepare_metadata_for_build_wheel() function it returns some .dist-infos that shouldn't be returned (e.g. .dist-infos inside .tox directory). I'd expect there will be only `PosixPath('setuptools-65.0.0.post20220815.dist-info')`, because it fails with `AssertionError: Exactly one .dist-info should have been produced`.\n\n### How to Reproduce\n\n1. clone setuptools repository\r\n2. activate virtual environment\r\n3. pip install .\r\n4. pip install wheel\r\n5. rm bootstrap.egg-info -rf\r\n6. run python interpreter\r\n7. >>> from setuptools import build_meta\r\n8. >>> build_meta.prepare_metadata_for_build_wheel(\".\")\n\n### Output\n\n```console\r\n~/python-maint/upstream\r\n\u276f git clone git@github.com:pypa/setuptools.git\r\nCloning into 'setuptools'...\r\nremote: Enumerating objects: 60033, done.\r\nremote: Counting objects: 100% (1827/1827), done.\r\nremote: Compressing objects: 100% (627/627), done.\r\nremote: Total 60033 (delta 1271), reused 1666 (delta 1186), pack-reused 58206\r\nReceiving objects: 100% (60033/60033), 40.90 MiB | 7.38 MiB/s, done.\r\nResolving deltas: 100% (33703/33703), done.\r\n\r\n~/python-maint/upstream took 8s\r\n\u276f cd setuptools\r\n\r\nsetuptools on \ue0a0 main via \ud83d\udc0d v3.10.6\r\n\u276f python3.10 -m venv env\r\n\r\nsetuptools on \ue0a0 main [?] via \ud83d\udc0d v3.10.6 took 2s\r\n\u276f source env/bin/activate\r\n\r\nsetuptools on \ue0a0 main [?] via \ud83d\udc0d v3.10.6 (env)\r\n\u276f pip install .\r\nProcessing /home/thrnciar/python-maint/upstream/setuptools\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: setuptools\r\n  Building wheel for setuptools (pyproject.toml) ... done\r\n  Created wheel for setuptools: filename=setuptools-65.0.0.post20220815-py3-none-any.whl size=1217614 sha256=aa756eb335a37b577a39719bf980c72a743f81e8d3275c19d33bc3704017455e\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-ej85rxbx/wheels/bc/4b/d8/b2ea85368b0176afa9d32e7ab6f7421d41814a8c8d62211203\r\nSuccessfully built setuptools\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 59.6.0\r\n    Uninstalling setuptools-59.6.0:\r\n      Successfully uninstalled setuptools-59.6.0\r\nSuccessfully installed setuptools-65.0.0.post20220815\r\nWARNING: You are using pip version 21.3.1; however, version 22.2.2 is available.\r\nYou should consider upgrading via the '/home/thrnciar/python-maint/upstream/setuptools/env/bin/python3.10 -m pip install --upgrade pip' command.\r\n\r\nsetuptools on \ue0a0 main [?] via \ud83d\udc0d v3.10.6 (env) took 4s\r\n\u276f pip install wheel\r\nCollecting wheel\r\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\r\nInstalling collected packages: wheel\r\nSuccessfully installed wheel-0.37.1\r\nWARNING: You are using pip version 21.3.1; however, version 22.2.2 is available.\r\nYou should consider upgrading via the '/home/thrnciar/python-maint/upstream/setuptools/env/bin/python3.10 -m pip install --upgrade pip' command.\r\n\r\nsetuptools on \ue0a0 main [?] via \ud83d\udc0d v3.10.6 (env) took 8s\r\n\u276f rm bootstrap.egg-info -rf\r\n\r\nsetuptools on \ue0a0 main [\u2718?] via \ud83d\udc0d v3.10.6 (env)\r\n\u276f python\r\nPython 3.10.6 (main, Aug  2 2022, 00:00:00) [GCC 12.1.1 20220507 (Red Hat 12.1.1-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from setuptools import build_meta\r\n>>> build_meta.prepare_metadata_for_build_wheel(\".\")\r\nrunning dist_info\r\nwriting setuptools.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\r\nwriting entry points to setuptools.egg-info/entry_points.txt\r\nwriting requirements to setuptools.egg-info/requires.txt\r\nwriting top-level names to setuptools.egg-info/top_level.txt\r\nwriting setuptools.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\r\nwriting entry points to setuptools.egg-info/entry_points.txt\r\nwriting requirements to setuptools.egg-info/requires.txt\r\nwriting top-level names to setuptools.egg-info/top_level.txt\r\nreading manifest file 'setuptools.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching '*.py' under directory 'tests'\r\nwarning: no files found matching '*.txt' under directory 'docs'\r\nwarning: no files found matching '*.conf' under directory 'docs'\r\nwarning: no files found matching '*.css' under directory 'docs'\r\nwarning: no files found matching '*.css_t' under directory 'docs'\r\nwarning: no files found matching 'Makefile' under directory 'docs'\r\nwarning: no files found matching 'indexsidebar.html' under directory 'docs'\r\nwarning: no files found matching 'msvc-build-launcher.cmd'\r\nadding license file 'LICENSE'\r\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\r\ncreating '/home/thrnciar/python-maint/upstream/setuptools/setuptools-65.0.0.post20220815.dist-info'\r\nadding license file \"LICENSE\" (matched pattern \"LICEN[CS]E*\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/thrnciar/python-maint/upstream/setuptools/setuptools/build_meta.py\", line 372, in prepare_metadata_for_build_wheel\r\n    return self._bubble_up_info_directory(metadata_directory, \".dist-info\")\r\n  File \"/home/thrnciar/python-maint/upstream/setuptools/setuptools/build_meta.py\", line 350, in _bubble_up_info_directory\r\n    assert len(candidates) == 1, f\"Exactly one {suffix} should have been produced\"\r\nAssertionError: Exactly one .dist-info should have been produced\r\n>>>\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3522", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3522/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3522/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3522/events", "html_url": "https://github.com/pypa/setuptools/issues/3522", "id": 1338941992, "node_id": "I_kwDOA0bv8c5PzqIo", "number": 3522, "title": "[BUG] Setuptools 65 does not copy binary files (.so) in editable install", "user": {"login": "bashtage", "id": 5585221, "node_id": "MDQ6VXNlcjU1ODUyMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/5585221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bashtage", "html_url": "https://github.com/bashtage", "followers_url": "https://api.github.com/users/bashtage/followers", "following_url": "https://api.github.com/users/bashtage/following{/other_user}", "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}", "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions", "organizations_url": "https://api.github.com/users/bashtage/orgs", "repos_url": "https://api.github.com/users/bashtage/repos", "events_url": "https://api.github.com/users/bashtage/events{/privacy}", "received_events_url": "https://api.github.com/users/bashtage/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-08-15T12:29:59Z", "updated_at": "2022-08-17T07:48:28Z", "closed_at": "2022-08-15T20:35:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n65.0.0\r\n\r\n### Python version\r\n\r\n3.9\r\n\r\n### OS\r\n\r\nUbunty 20.04\r\n\r\n### Additional environment information\r\n\r\nStandard setup using Cythonized sources.  Cython to C then compiled to .so/.pyd files.\r\n\r\n### Description\r\n\r\nAs of 65 the binary extensions are not being copied back into the tree when using an editable install.  This means that they are not available when importing the library.  The install command is very vanilla\r\n\r\n```\r\npython -m pip install -e .\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\nThe .so/.pyd files would be in the same directory as their target (which is the same as the .pyx files and their compiled c version).\r\n\r\n### How to Reproduce\r\n\r\n1. `pip install -e ,` for a project containing Cython\r\n2. Check tree for missing extension modules\r\n\r\nOn linux,\r\n\r\n```\r\ngit clone https://github.com/bashtage/arch\r\ncd arch\r\npython -m pip install -e .\r\nls arch/univariate/recursions*\r\n````\r\n\r\nNote that the .so is missing when using 65.  If using an older setuptools, e.g., 63.\r\n### Output\r\n\r\n```console\r\nThe error depends on whether the binary modules are required.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3514", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3514/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3514/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3514/events", "html_url": "https://github.com/pypa/setuptools/issues/3514", "id": 1337270747, "node_id": "I_kwDOA0bv8c5PtSHb", "number": 3514, "title": "[BUG] Setuptools version number doesn't match in virtual environment", "user": {"login": "jonathanwang375", "id": 104775998, "node_id": "U_kgDOBj7BPg", "avatar_url": "https://avatars.githubusercontent.com/u/104775998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanwang375", "html_url": "https://github.com/jonathanwang375", "followers_url": "https://api.github.com/users/jonathanwang375/followers", "following_url": "https://api.github.com/users/jonathanwang375/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanwang375/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanwang375/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanwang375/subscriptions", "organizations_url": "https://api.github.com/users/jonathanwang375/orgs", "repos_url": "https://api.github.com/users/jonathanwang375/repos", "events_url": "https://api.github.com/users/jonathanwang375/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanwang375/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-08-12T14:21:25Z", "updated_at": "2022-08-17T19:26:06Z", "closed_at": "2022-08-12T15:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==63.0.0\n\n### Python version\n\n3.10.4\n\n### OS\n\nWindows\n\n### Additional environment information\n\nThis is running on Git Bash installed on a windows 10 laptop\n\n### Description\n\nOur repository requires the use of a virtual environment to run most of programs. Yesterday morning, we ran into the issue where setuptools version was 64.0.0 I believe and wheel wouldn't build, so we attached the `SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\" flag to pip install -e .` and it worked. We then went in and changed the setuptools version in our pyproject.toml file to build with setuptools version 63.0.0. However both times when we went in to double check the version using `pip list | grep setuptools` the version number appears as 58.1.0. \n\n### Expected behavior\n\nI expected the version of setuptools found by `pip list | grep setuptools` to match what was installed (63.0.0) because we have defined it as such\n\n### How to Reproduce\n\n1) Our pyproject.toml file:\r\n```\r\n[build-system]\r\nrequires = [\"setuptools==63.0.0\", \"wheel\", \"versioneer-518\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\n```\r\n2) Run `python -m venv .rempy && source .rempy/Scripts/activate && python -m pip install -e .`\r\n3) Double check version with `pip list | grep setuptools`\n\n### Output\n\n```\r\n$ pip list | grep setuptools\r\nsetuptools         58.1.0\r\nWARNING: You are using pip version 22.0.4; however, version 22.2.2 is available.\r\nYou should consider upgrading via the 'C:\\Users\\Jonathan\\GitHub\\Remora\\rempy\\.rempy\\Scripts\\python.exe -m pip install --upgrade pip' command.\r\n(.rempy)\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3513", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3513/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3513/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3513/events", "html_url": "https://github.com/pypa/setuptools/issues/3513", "id": 1337156650, "node_id": "I_kwDOA0bv8c5Ps2Qq", "number": 3513, "title": "[BUG] plat_name attribute is None with setuptools 64.0.1 and editable install", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-12T12:38:37Z", "updated_at": "2022-08-12T18:50:41Z", "closed_at": "2022-08-12T18:50:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\n64.0.1\n\n### Python version\n\n3.10.6\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhile setting up a local virtual environment with `pip install -e .` I received an error I had not previously seen.\n\n### Expected behavior\n\nThe package installs properly.\n\n### How to Reproduce\n\n1. `git clone https://github.com/pyca/cryptography`\r\n2. `cd cryptography`\r\n3. `python3 -m venv .venv`\r\n4. `source .venv/bin/activate`\r\n5. `CRYPTOGRAPHY_SUPPRESS_LINK_FLAGS='1' LDFLAGS='/opt/homebrew/opt/openssl@3/lib/libcrypto.a /opt/homebrew/opt/openssl@3/lib/libssl.a' CFLAGS='-I/opt/homebrew/opt/openssl@3/include' pip install -r dev-requirements.txt` (environment variables are specific to macOS)\r\n\n\n### Output\n\n```console\r\n[...]\r\nBuilding wheels for collected packages: cryptography\r\n  Building editable for cryptography (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Building editable for cryptography (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [66 lines of output]\r\n      running editable_wheel\r\n      creating /private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info\r\n      writing /private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/PKG-INFO\r\n      writing dependency_links to /private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/dependency_links.txt\r\n      writing requirements to /private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/requires.txt\r\n      writing top-level names to /private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/top_level.txt\r\n      writing manifest file '/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/SOURCES.txt'\r\n      reading manifest file '/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/SOURCES.txt'\r\n      reading manifest template 'MANIFEST.in'\r\n      warning: no previously-included files found matching 'vectors'\r\n      warning: no previously-included files matching '*' found under directory 'vectors'\r\n      warning: no previously-included files matching '*' found under directory '.github'\r\n      warning: no previously-included files found matching 'release.py'\r\n      warning: no previously-included files found matching '.readthedocs.yml'\r\n      warning: no previously-included files found matching 'dev-requirements.txt'\r\n      warning: no previously-included files found matching 'tox.ini'\r\n      warning: no previously-included files found matching 'mypy.ini'\r\n      warning: no previously-included files matching '*' found under directory '.circleci'\r\n      adding license file 'LICENSE'\r\n      adding license file 'LICENSE.APACHE'\r\n      adding license file 'LICENSE.BSD'\r\n      adding license file 'LICENSE.PSF'\r\n      writing manifest file '/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography.egg-info/SOURCES.txt'\r\n      creating '/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-wheel-mpo_h63u/tmp2d0kyx1o/cryptography-38.0.0.dev1.dist-info'\r\n      adding license file \"LICENSE\" (matched pattern \"LICEN[CS]E*\")\r\n      adding license file \"LICENSE.PSF\" (matched pattern \"LICEN[CS]E*\")\r\n      adding license file \"LICENSE.APACHE\" (matched pattern \"LICEN[CS]E*\")\r\n      adding license file \"LICENSE.BSD\" (matched pattern \"LICEN[CS]E*\")\r\n      Traceback (most recent call last):\r\n        File \"/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-build-env-k9m_30lt/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 136, in run\r\n          bdist_wheel.write_wheelfile(self.dist_info_dir)\r\n        File \"/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-build-env-k9m_30lt/overlay/lib/python3.10/site-packages/wheel/bdist_wheel.py\", line 389, in write_wheelfile\r\n          impl_tag, abi_tag, plat_tag = self.get_tag()\r\n        File \"/private/var/folders/tc/9_n6gvsx251b2j70g7bny1lm0000gn/T/pip-build-env-k9m_30lt/overlay/lib/python3.10/site-packages/setuptools_rust/setuptools_ext.py\", line 254, in get_tag\r\n          if self.plat_name.startswith(\"macosx-\") and arch_flags:\r\n      AttributeError: 'NoneType' object has no attribute 'startswith'\r\n      \r\n          =============================DEBUG ASSISTANCE=============================\r\n          If you are seeing a compilation error please try the following steps to\r\n          successfully install cryptography:\r\n          1) Upgrade to the latest pip and try again. This will fix errors for most\r\n             users. See: https://pip.pypa.io/en/stable/installing/#upgrading-pip\r\n          2) Read https://cryptography.io/en/latest/installation/ for specific\r\n             instructions for your platform.\r\n          3) Check our frequently asked questions for more information:\r\n             https://cryptography.io/en/latest/faq/\r\n          4) Ensure you have a recent Rust toolchain installed:\r\n             https://cryptography.io/en/latest/installation/#rust\r\n      \r\n          Python: 3.10.6\r\n          platform: macOS-12.5-arm64-arm-64bit\r\n          pip: n/a\r\n          setuptools: 64.0.1\r\n          setuptools_rust: 1.5.0\r\n          rustc: 1.63.0 (4b91a6ea7 2022-08-08)\r\n          =============================DEBUG ASSISTANCE=============================\r\n      \r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n      \r\n      https://github.com/pypa/setuptools/issues\r\n      \r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n      \r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building editable for cryptography\r\nFailed to build cryptography\r\nERROR: Could not build wheels for cryptography, which is required to install pyproject.toml-based projects\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3510", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3510/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3510/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3510/events", "html_url": "https://github.com/pypa/setuptools/issues/3510", "id": 1337004724, "node_id": "I_kwDOA0bv8c5PsRK0", "number": 3510, "title": "[BUG] Installing in editable mode fails when an optional extension fails to build", "user": {"login": "dionhaefner", "id": 11994217, "node_id": "MDQ6VXNlcjExOTk0MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/11994217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dionhaefner", "html_url": "https://github.com/dionhaefner", "followers_url": "https://api.github.com/users/dionhaefner/followers", "following_url": "https://api.github.com/users/dionhaefner/following{/other_user}", "gists_url": "https://api.github.com/users/dionhaefner/gists{/gist_id}", "starred_url": "https://api.github.com/users/dionhaefner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dionhaefner/subscriptions", "organizations_url": "https://api.github.com/users/dionhaefner/orgs", "repos_url": "https://api.github.com/users/dionhaefner/repos", "events_url": "https://api.github.com/users/dionhaefner/events{/privacy}", "received_events_url": "https://api.github.com/users/dionhaefner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-12T10:01:32Z", "updated_at": "2022-08-14T21:37:53Z", "closed_at": "2022-08-12T18:50:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.0.1\n\n### Python version\n\nPython 3.10\n\n### OS\n\nosx-arm64\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIf an optional extension fails to build in editable mode, the whole install aborts because `setuptools` is trying to copy the (non-present) library file. Works fine when not using editable mode.\n\n### Expected behavior\n\n`pip install -e .` should succeed and simply exclude the optional extension.\n\n### How to Reproduce\n\n`setup.py`:\r\n\r\n```python\r\nfrom setuptools import setup\r\nfrom setuptools.extension import Extension\r\n\r\nextensions = [\r\n    Extension(name=\"foo\", sources=[\"foo.c\"], optional=True),\r\n]\r\n\r\nsetup(\r\n    name=\"foobar\",\r\n    ext_modules=extensions\r\n)\r\n```\r\n\r\n`foo.c`:\r\n\r\n```\r\n#include missingheader.h\r\n```\n\n### Output\n\n```console\r\n$ pip install -e . -v\r\nUsing pip 22.1.1 from /Users/dion/.virtualenvs/tempenv-47702011277da/lib/python3.9/site-packages/pip (python 3.9)\r\nObtaining file:///private/tmp/foo\r\n  Running command python setup.py egg_info\r\n  running egg_info\r\n  creating /private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info\r\n  writing /private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/PKG-INFO\r\n  writing dependency_links to /private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/dependency_links.txt\r\n  writing top-level names to /private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/top_level.txt\r\n  writing manifest file '/private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/SOURCES.txt'\r\n  reading manifest file '/private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/SOURCES.txt'\r\n  writing manifest file '/private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-pip-egg-info-ybrkr3zs/foobar.egg-info/SOURCES.txt'\r\n  Preparing metadata (setup.py) ... done\r\nInstalling collected packages: foobar\r\n  Running setup.py develop for foobar\r\n    Running command python setup.py develop\r\n    running develop\r\n    /Users/dion/.virtualenvs/tempenv-47702011277da/lib/python3.9/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    /Users/dion/.virtualenvs/tempenv-47702011277da/lib/python3.9/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    running egg_info\r\n    writing foobar.egg-info/PKG-INFO\r\n    writing dependency_links to foobar.egg-info/dependency_links.txt\r\n    writing top-level names to foobar.egg-info/top_level.txt\r\n    reading manifest file 'foobar.egg-info/SOURCES.txt'\r\n    writing manifest file 'foobar.egg-info/SOURCES.txt'\r\n    running build_ext\r\n    building 'foo' extension\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX12.sdk -I/Users/dion/.virtualenvs/tempenv-47702011277da/include -I/usr/local/opt/python@3.9/Frameworks/Python.framework/Versions/3.9/include/python3.9 -c foo.c -o build/temp.macosx-12-x86_64-cpython-39/foo.o\r\n    foo.c:1:10: error: expected \"FILENAME\" or <FILENAME>\r\n    #include missingheader.h\r\n             ^\r\n    1 error generated.\r\n    warning: build_ext: building extension \"foo\" failed: command '/usr/local/opt/llvm/bin/clang' failed with exit code 1\r\n\r\n    error: can't copy 'build/lib.macosx-12-x86_64-cpython-39/foo.cpython-39-darwin.so': doesn't exist or not a regular file\r\n    error: subprocess-exited-with-error\r\n\r\n    \u00d7 python setup.py develop did not run successfully.\r\n    \u2502 exit code: 1\r\n    \u2570\u2500> See above for output.\r\n\r\n    note: This error originates from a subprocess, and is likely not a problem with pip.\r\n    full command: /Users/dion/.virtualenvs/tempenv-47702011277da/bin/python -c '\r\n    exec(compile('\"'\"''\"'\"''\"'\"'\r\n    # This is <pip-setuptools-caller> -- a caller that pip uses to run setup.py\r\n    #\r\n    # - It imports setuptools before invoking setup.py, to enable projects that directly\r\n    #   import from `distutils.core` to work with newer packaging standards.\r\n    # - It provides a clear error message when setuptools is not installed.\r\n    # - It sets `sys.argv[0]` to the underlying `setup.py`, when invoking `setup.py` so\r\n    #   setuptools doesn'\"'\"'t think the script is `-c`. This avoids the following warning:\r\n    #     manifest_maker: standard file '\"'\"'-c'\"'\"' not found\".\r\n    # - It generates a shim setup.py, for handling setup.cfg-only projects.\r\n    import os, sys, tokenize\r\n\r\n    try:\r\n        import setuptools\r\n    except ImportError as error:\r\n        print(\r\n            \"ERROR: Can not execute `setup.py` since setuptools is not available in \"\r\n            \"the build environment.\",\r\n            file=sys.stderr,\r\n        )\r\n        sys.exit(1)\r\n\r\n    __file__ = %r\r\n    sys.argv[0] = __file__\r\n\r\n    if os.path.exists(__file__):\r\n        filename = __file__\r\n        with tokenize.open(__file__) as f:\r\n            setup_py_code = f.read()\r\n    else:\r\n        filename = \"<auto-generated setuptools caller>\"\r\n        setup_py_code = \"from setuptools import setup; setup()\"\r\n\r\n    exec(compile(setup_py_code, filename, \"exec\"))\r\n    '\"'\"''\"'\"''\"'\"' % ('\"'\"'/private/tmp/foo/setup.py'\"'\"',), \"<pip-setuptools-caller>\", \"exec\"))' develop --no-deps\r\n    cwd: /private/tmp/foo/\r\nerror: subprocess-exited-with-error\r\n\r\n\u00d7 python setup.py develop did not run successfully.\r\n\u2502 exit code: 1\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\nWARNING: There was an error checking the latest version of pip.\r\n```\r\n\r\nOn the other hand, this works: (non-editable)\r\n\r\n```console\r\n$ pip install .\r\nProcessing /private/tmp/foo\r\n  Preparing metadata (setup.py) ... done\r\nBuilding wheels for collected packages: foobar\r\n  Building wheel for foobar (setup.py) ... done\r\n  Created wheel for foobar: filename=foobar-0.0.0-cp39-cp39-macosx_12_0_x86_64.whl size=1403 sha256=fff7224662fda52c35254d8f973e393c846435eeae83643fc4eb5f48d1eb8ca6\r\n  Stored in directory: /private/var/folders/ld/ylk19q555951g5k6t0vhz6740000gp/T/pip-ephem-wheel-cache-23u2txbg/wheels/59/f4/b7/5f9d2738a29be3df9fdb7bc6a9abe672e51db7ebca9ee63898\r\nSuccessfully built foobar\r\nInstalling collected packages: foobar\r\nSuccessfully installed foobar-0.0.0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3510/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3504", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3504/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3504/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3504/events", "html_url": "https://github.com/pypa/setuptools/issues/3504", "id": 1336533753, "node_id": "I_kwDOA0bv8c5PqeL5", "number": 3504, "title": "[BUG] setuptools 64.0.0 breaks editable install", "user": {"login": "ajasmin", "id": 141343, "node_id": "MDQ6VXNlcjE0MTM0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/141343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajasmin", "html_url": "https://github.com/ajasmin", "followers_url": "https://api.github.com/users/ajasmin/followers", "following_url": "https://api.github.com/users/ajasmin/following{/other_user}", "gists_url": "https://api.github.com/users/ajasmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajasmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajasmin/subscriptions", "organizations_url": "https://api.github.com/users/ajasmin/orgs", "repos_url": "https://api.github.com/users/ajasmin/repos", "events_url": "https://api.github.com/users/ajasmin/events{/privacy}", "received_events_url": "https://api.github.com/users/ajasmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2022-08-11T21:52:30Z", "updated_at": "2022-08-17T18:24:29Z", "closed_at": "2022-08-12T14:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==64.0.0\r\n\r\n### Python version\r\n\r\nPython 3.10.6\r\n\r\n### OS\r\n\r\nUbuntu jammy\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nAfter creating a simple project and installing it as editable with `pip install -e`, I'm unable to import modules from the package.\r\n\r\n### Expected behavior\r\n\r\nWe should be able to import a package installed as editable.\r\n\r\n### How to Reproduce\r\n\r\n*1. Create this simple project structure*\r\n\r\n`pyproject.toml`\r\n```\r\n[build-system]\r\nrequires = [\r\n  \"setuptools==64.0.0\",\r\n  \"wheel\",\r\n]\r\nbuild-backend = \"setuptools.build_meta\"\r\n\r\n[project]\r\nname = \"foo\"\r\nversion = \"1.0.0\"\r\n\r\n[tool.setuptools]\r\npackages.find.include = [\"foo.*\"]\r\n```\r\n\r\n`setup.py`\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup()\r\n```\r\n\r\n`foo/__init__.py`\r\n```\r\n__version__ = \"1.0.0\"\r\n```\r\n\r\n*2. Create and activate a venv:*\r\n```\r\npython -mvenv venv\r\n. venv/bin/activate\r\n```\r\n\r\n*3. Install the project as editable:*\r\n```\r\npython install -e .\r\n```\r\n\r\nChange to another directory and try to import the package:\r\n```\r\npython -c \"import foo\"\r\n```\r\n\r\n\r\n\r\n\r\n### Output\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'foo'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3501", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3501/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3501/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3501/events", "html_url": "https://github.com/pypa/setuptools/issues/3501", "id": 1336163116, "node_id": "I_kwDOA0bv8c5PpDss", "number": 3501, "title": "[BUG] PEP-660 editable installs breaks versioneer", "user": {"login": "Lyle-Alloy", "id": 66628590, "node_id": "MDQ6VXNlcjY2NjI4NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/66628590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lyle-Alloy", "html_url": "https://github.com/Lyle-Alloy", "followers_url": "https://api.github.com/users/Lyle-Alloy/followers", "following_url": "https://api.github.com/users/Lyle-Alloy/following{/other_user}", "gists_url": "https://api.github.com/users/Lyle-Alloy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lyle-Alloy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lyle-Alloy/subscriptions", "organizations_url": "https://api.github.com/users/Lyle-Alloy/orgs", "repos_url": "https://api.github.com/users/Lyle-Alloy/repos", "events_url": "https://api.github.com/users/Lyle-Alloy/events{/privacy}", "received_events_url": "https://api.github.com/users/Lyle-Alloy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2022-08-11T15:54:28Z", "updated_at": "2022-08-12T14:11:43Z", "closed_at": "2022-08-12T14:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n49.2.1\r\n\r\n### Python version\r\n\r\n3.9.2\r\n\r\n### OS\r\n\r\nmacOS 12.5\r\n\r\n### Additional environment information\r\n\r\n`versioneer.py` is version 0.19\r\n`wheel` is 0.37.1 (not sure if relevant)\r\n\r\n### Description\r\n\r\nDoing an editable install of our code (with `pip install -e .`) on a github actions runner is failing on macOS. We use [versioneer](https://github.com/python-versioneer/python-versioneer) for version numbers and something changed that seems to be breaking it. Do you have any ideas on what might have changed that is making versioneer unhappy?\r\n\r\n\r\n*EDIT: This now fails on linux (Ubuntu 20.04) as well*\r\n\r\n\r\n### Expected behavior\r\n\r\nIt does not fail, prior to this update it was fine.\r\n\r\n### How to Reproduce\r\n\r\nwe have a repository with versioneer 0.19, and the setup.py and pyproject.toml below:\r\n\r\n<details>\r\n<summary>setup.py</summary>\r\n\r\nNOTE: some details removed and replaced with `...`\r\n\r\n```python\r\nimport os\r\nfrom pathlib import Path\r\nimport sys\r\nfrom setuptools import setup, find_packages\r\nimport versioneer\r\n\r\nsetup(\r\n    name=\"Project\",\r\n    version=versioneer.get_version(),  # from versioneer install guide\r\n    cmdclass=versioneer.get_cmdclass(),  # from versioneer install guide\r\n    author=\"Lyle Cheatham\",\r\n    author_email=\"lyle@alloyenterprises.co\",\r\n    keywords=\"\",\r\n    packages=find_packages(exclude=[\"test\"]),\r\n    install_requires=[...],\r\n    dependency_links=[...],\r\n    include_package_data=True,\r\n    python_requires=\"~=3.9.2\",\r\n    entry_points={\r\n        \"console_scripts\": [...],\r\n    },\r\n)\r\n\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>pyproject.toml</summary>\r\n\r\nNOTE: some details replaced with `...`\r\n\r\n```toml\r\n######################################### BUILD ##########################################\r\n\r\n[build-system]\r\nrequires = [\r\n    \"setuptools>=49.2.1\",\r\n    \"wheel~=0.37.1\",\r\n    \"cython~=0.29.28\",\r\n    \"gitpython~=3.1.26\",\r\n]\r\n\r\n######################################### BLACK ##########################################\r\n\r\n[tool.black]\r\n...\r\n\r\n######################################### PYTEST #########################################\r\n\r\n[tool.pytest.ini_options]\r\n...\r\n\r\n######################################### PYLINT #########################################\r\n\r\n[tool.pylint]\r\n...\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n### Output\r\n\r\n<details>\r\n<summary>Log excerpt</summary>\r\n\r\n```console\r\n\u00d7 Building editable for Project (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [55 lines of output]\r\n      running editable_wheel\r\n      creating /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info\r\n      writing /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/PKG-INFO\r\n      writing dependency_links to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/dependency_links.txt\r\n      writing entry points to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/entry_points.txt\r\n      writing requirements to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/requires.txt\r\n      writing top-level names to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/top_level.txt\r\n      writing manifest file '/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/SOURCES.txt'\r\n      reading manifest file '/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/SOURCES.txt'\r\n      reading manifest template 'MANIFEST.in'\r\n      writing manifest file '/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project.egg-info/SOURCES.txt'\r\n      creating '/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project-0.20.1+22.gdfe7c96.dist-info'\r\n      creating /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-wheel-55z7vnhm/tmpziqr33el/Project-0.20.1+22.gdfe7c96.dist-info/WHEEL\r\n      /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n        warnings.warn(\r\n      running build\r\n      running build_py\r\n      Traceback (most recent call last):\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 138, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 284, in _create_wheel_file\r\n          files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 257, in _run_build_commands\r\n          self.run_command(\"build\")\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 319, in run_command\r\n          self.distribution.run_command(command)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n          super().run_command(command)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 992, in run_command\r\n          cmd_obj.run()\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/command/build.py\", line 33, in run\r\n          super().run()\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/_distutils/command/build.py\", line 132, in run\r\n          self.run_command(cmd_name)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 319, in run_command\r\n          self.distribution.run_command(command)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n          super().run_command(command)\r\n        File \"/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/pip-build-env-7altab77/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 992, in run_command\r\n          cmd_obj.run()\r\n        File \"/Users/runner/work/project/project/versioneer.py\", line 1568, in run\r\n          write_to_version_file(target_versionfile, versions)\r\n        File \"/Users/runner/work/project/project/versioneer.py\", line 1223, in write_to_version_file\r\n          os.unlink(filename)\r\n      FileNotFoundError: [Errno 2] No such file or directory: '/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/tmpd49cxg_x.build-lib/project/_version.py'\r\n      UPDATING /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/tmpd49cxg_x.build-lib/project/_version.py\r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n      \r\n      https://github.com/pypa/setuptools/issues\r\n      \r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n      \r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n```\r\n\r\n</details>", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3501/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3500", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3500/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3500/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3500/events", "html_url": "https://github.com/pypa/setuptools/issues/3500", "id": 1336142578, "node_id": "I_kwDOA0bv8c5Po-ry", "number": 3500, "title": "[BUG] setup.cfg + pyproject.toml + setup.py (with PBR) breaking.", "user": {"login": "synchronizing", "id": 2829082, "node_id": "MDQ6VXNlcjI4MjkwODI=", "avatar_url": "https://avatars.githubusercontent.com/u/2829082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/synchronizing", "html_url": "https://github.com/synchronizing", "followers_url": "https://api.github.com/users/synchronizing/followers", "following_url": "https://api.github.com/users/synchronizing/following{/other_user}", "gists_url": "https://api.github.com/users/synchronizing/gists{/gist_id}", "starred_url": "https://api.github.com/users/synchronizing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/synchronizing/subscriptions", "organizations_url": "https://api.github.com/users/synchronizing/orgs", "repos_url": "https://api.github.com/users/synchronizing/repos", "events_url": "https://api.github.com/users/synchronizing/events{/privacy}", "received_events_url": "https://api.github.com/users/synchronizing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-08-11T15:38:10Z", "updated_at": "2022-08-11T23:13:17Z", "closed_at": "2022-08-11T21:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==64.0.0\n\n### Python version\n\nPython 3.8.5\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nReported originally in #3498. Unsure what is going on, but after the latest setuptools the following is thrown when using editable installs:\r\n\r\n```\r\n      distutils.errors.DistutilsSetupError: Error: setup script specifies an absolute path:\r\n      \r\n          /var/folders/r7/ggtlz3qs465bzrr2zjtf1h380000gp/T/tmpbr2b9x3w.build-temp/test.egg-info/SOURCES.txt\r\n      \r\n      setup() arguments must *always* be /-separated paths relative to the\r\n      setup.py directory, *never* absolute paths.\r\n      \r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n      \r\n      https://github.com/pypa/setuptools/issues\r\n      \r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n      \r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n```\n\n### Expected behavior\n\nNo error should be thrown, and the package should be installed.\n\n### How to Reproduce\n\n\r\nHere is a reproducible repo: https://github.com/synchronizing/setuptools-error\r\n\r\nRunning `pip install -e .` inside the folder will cause the error seen above. A few points:\r\n\r\n* `SETUPTOOLS_ENABLE_FEATURES` flag _fixes_ the issue.\r\n* Installing it without being editable (`pip install .`) _fixes_ the issue.\r\n* Removing `pyproject.toml` _fixes_ the issue.\r\n* Removing `pbr` _fixes_ the issue.\r\n* Removing the `other` folder _fixes_ the issue.\n\n### Output\n\nSee above.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3499", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3499/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3499/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3499/events", "html_url": "https://github.com/pypa/setuptools/issues/3499", "id": 1336138020, "node_id": "I_kwDOA0bv8c5Po9kk", "number": 3499, "title": "Editable install using setup.py breaks without legacy feature [BUG] ", "user": {"login": "vogre", "id": 334187, "node_id": "MDQ6VXNlcjMzNDE4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/334187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vogre", "html_url": "https://github.com/vogre", "followers_url": "https://api.github.com/users/vogre/followers", "following_url": "https://api.github.com/users/vogre/following{/other_user}", "gists_url": "https://api.github.com/users/vogre/gists{/gist_id}", "starred_url": "https://api.github.com/users/vogre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vogre/subscriptions", "organizations_url": "https://api.github.com/users/vogre/orgs", "repos_url": "https://api.github.com/users/vogre/repos", "events_url": "https://api.github.com/users/vogre/events{/privacy}", "received_events_url": "https://api.github.com/users/vogre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-08-11T15:34:49Z", "updated_at": "2023-01-19T07:25:29Z", "closed_at": "2022-08-11T21:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n63.2.0\n\n### Python version\n\nPython 3.10\n\n### OS\n\nUbuntu 22.04 LTS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nRunning `pip install -e .`  in a repository with a `pyproject.toml` present, even if `pyproject.toml` is only used for tool configuration\r\n\r\n```\r\n[tool.black]\r\nline-length=100\r\n```\r\n\r\nResults in the error\r\n```\r\n      Editable install will be performed using a meta path finder.\r\n\r\n      Options like `package-data`, `include/exclude-package-data` or\r\n      `packages.find.exclude/include` may have no effect.\r\n\r\n      Traceback (most recent call last):\r\n        File \"/tmp/pip-build-env-fl8nfpvg/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 138, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/tmp/pip-build-env-fl8nfpvg/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 287, in _create_wheel_file\r\n          strategy(wheel_obj, files, mapping)\r\n        File \"/tmp/pip-build-env-fl8nfpvg/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 441, in __call__\r\n          namespaces_: Dict[str, List[str]] = dict(chain(\r\n        File \"/tmp/pip-build-env-fl8nfpvg/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 604, in _find_namespaces\r\n          for pkg in packages:\r\n      TypeError: 'NoneType' object is not iterable\r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n\r\n      https://github.com/pypa/setuptools/issues\r\n\r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n\r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n```\r\n\r\nexporting SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\" does behave as expected, as does removing the `pyproject.toml` file.\n\n### Expected behavior\n\nExpected install to ignore `pyproject.toml` without any build configuration.\n\n### How to Reproduce\n\nNo specific steps to reproduce, since a similar package installs successfully with the same `setuptools` version.\r\n\r\nThe command failing is\r\n`pip install -e .`\n\n### Output\n\n```console\r\nBuilding editable for my-package (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 Building editable for my-package (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [52 lines of output]\r\n      running editable_wheel\r\n      creating /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info\r\n      writing /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/dependency_links.txt\r\n      writing requirements to /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/requires.txt\r\n      writing top-level names to /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/top_level.txt\r\n      writing manifest file '/tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/SOURCES.txt'\r\n      file my.py (for module my) not found\r\n      reading manifest file '/tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/SOURCES.txt'\r\n      writing manifest file '/tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package.egg-info/SOURCES.txt'\r\n      creating '/tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package-0.23.1.dist-info'\r\n      creating /tmp/pip-wheel-6iyrnxzp/tmpi0w89_xq/my_package-0.23.1.dist-info/WHEEL\r\n      /tmp/pip-build-env-m2f24vth/overlay/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n        warnings.warn(\r\n      running build\r\n      running build_py\r\n      running egg_info\r\n      creating /tmp/tmpyhvg_rsh.build-temp/my_package.egg-info\r\n      writing /tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/dependency_links.txt\r\n      writing requirements to /tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/requires.txt\r\n      writing top-level names to /tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/top_level.txt\r\n      writing manifest file '/tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/SOURCES.txt'\r\n      file my.py (for module my) not found\r\n      reading manifest file '/tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/SOURCES.txt'\r\n      writing manifest file '/tmp/tmpyhvg_rsh.build-temp/my_package.egg-info/SOURCES.txt'\r\n      file my.py (for module my) not found\r\n      file my.py (for module my) not found\r\n      Editable install will be performed using a meta path finder.\r\n\r\n      Options like `package-data`, `include/exclude-package-data` or\r\n      `packages.find.exclude/include` may have no effect.\r\n\r\n      Traceback (most recent call last):\r\n        File \"/tmp/pip-build-env-m2f24vth/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 138, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/tmp/pip-build-env-m2f24vth/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 287, in _create_wheel_file\r\n          strategy(wheel_obj, files, mapping)\r\n        File \"/tmp/pip-build-env-m2f24vth/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 441, in __call__\r\n          namespaces_: Dict[str, List[str]] = dict(chain(\r\n        File \"/tmp/pip-build-env-m2f24vth/overlay/lib/python3.10/site-packages/setuptools/command/editable_wheel.py\", line 604, in _find_namespaces\r\n          for pkg in packages:\r\n      TypeError: 'NoneType' object is not iterable\r\n      error: Support for editable installs via PEP 660 was recently introduced\r\n      in `setuptools`. If you are seeing this error, please report to:\r\n\r\n      https://github.com/pypa/setuptools/issues\r\n\r\n      Meanwhile you can try the legacy behavior by setting an\r\n      environment variable and trying to install again:\r\n\r\n      SETUPTOOLS_ENABLE_FEATURES=\"legacy-editable\"\r\n      [end of output]\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3499/reactions", "total_count": 3, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3498", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3498/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3498/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3498/events", "html_url": "https://github.com/pypa/setuptools/issues/3498", "id": 1336092822, "node_id": "I_kwDOA0bv8c5PoyiW", "number": 3498, "title": "[BUG] AttributeError: pakcage_dir typo breaks editable installs", "user": {"login": "agroszer", "id": 350912, "node_id": "MDQ6VXNlcjM1MDkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/350912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroszer", "html_url": "https://github.com/agroszer", "followers_url": "https://api.github.com/users/agroszer/followers", "following_url": "https://api.github.com/users/agroszer/following{/other_user}", "gists_url": "https://api.github.com/users/agroszer/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroszer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroszer/subscriptions", "organizations_url": "https://api.github.com/users/agroszer/orgs", "repos_url": "https://api.github.com/users/agroszer/repos", "events_url": "https://api.github.com/users/agroszer/events{/privacy}", "received_events_url": "https://api.github.com/users/agroszer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-08-11T15:01:43Z", "updated_at": "2022-08-12T08:13:35Z", "closed_at": "2022-08-11T21:24:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n64.0.0\r\n\r\n### Python version\r\n\r\n3.9\r\n\r\n### OS\r\n\r\nubuntu\r\n\r\n### Additional environment information\r\n\r\nhttps://github.com/pypa/setuptools/commit/7ae5a6903c83eb43a96ad02c874990d02ee92672 introduced the typo\r\n\r\n### Description\r\n\r\nDoing the obvious\r\n`bin/pip install --upgrade -r \"data/versions/requirements.txt\"`\r\n\r\nwhere requirements.txt has:\r\n`-e .`\r\n\r\n### Expected behavior\r\n\r\n.\r\n\r\n### How to Reproduce\r\n\r\n.\r\n\r\n### Output\r\n\r\n```\r\n Traceback (most recent call last):\r\n        File \"/tmp/pip-build-env-msencw5_/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 138, in run\r\n          self._create_wheel_file(bdist_wheel)\r\n        File \"/tmp/pip-build-env-msencw5_/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 283, in _create_wheel_file\r\n          self._install_namespaces(unpacked, dist_info.name)\r\n        File \"/tmp/pip-build-env-msencw5_/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py\", line 171, in _install_namespaces\r\n          src_root = Path(self.project_dir, self.pakcage_dir.get(\"\", \".\")).resolve()\r\n        File \"/tmp/pip-build-env-msencw5_/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 105, in __getattr__\r\n          raise AttributeError(attr)\r\n      AttributeError: pakcage_dir\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3498/reactions", "total_count": 8, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3468", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3468/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3468/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3468/events", "html_url": "https://github.com/pypa/setuptools/issues/3468", "id": 1318324706, "node_id": "I_kwDOA0bv8c5OlAni", "number": 3468, "title": "After upgrading, the installation directory of other software packages is changed", "user": {"login": "xiaoge1001", "id": 103323735, "node_id": "U_kgDOBiiYVw", "avatar_url": "https://avatars.githubusercontent.com/u/103323735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoge1001", "html_url": "https://github.com/xiaoge1001", "followers_url": "https://api.github.com/users/xiaoge1001/followers", "following_url": "https://api.github.com/users/xiaoge1001/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoge1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoge1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoge1001/subscriptions", "organizations_url": "https://api.github.com/users/xiaoge1001/orgs", "repos_url": "https://api.github.com/users/xiaoge1001/repos", "events_url": "https://api.github.com/users/xiaoge1001/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoge1001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-26T14:26:06Z", "updated_at": "2022-08-01T14:30:59Z", "closed_at": "2022-08-01T14:30:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===63.2.0\n\n### Python version\n\npython 3.9.9\u3001python 3.10.2\n\n### OS\n\nopenEuler\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI used to use setuptools 59.4.0, and there was no problem with iotop building. Recently, I upgraded setuptools to the latest version (63.2.0), it led to the failure of iotop building. I don't know whether other software packages have such problems. What causes this?\r\n\r\nKey logs are as follows:\r\nError information:\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/103323735/181028614-7c9578fb-1349-4488-9ab2-74640fc10a94.png)\r\n\r\nsetuptools 59.4.0 (iotop build ok)\uff1a\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/103323735/181030023-9dd8f32c-14a6-4092-8e46-e1f9dc530c95.png)\r\n\r\nsetuptools 63.2.0(iotop build failed)\uff1a\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/103323735/181028935-00e120cc-2a1d-48c4-8e2b-d4552ed8983c.png)\r\n\r\nOnly the version of setuptools has changed, and other software packages remain unchanged.\r\n\n\n### Expected behavior\n\niotop build ok\n\n### How to Reproduce\n\n1. install setuptools==63.2.0\r\n2. build iotop.\n\n### Output\n\nNo. \r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3467", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3467/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3467/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3467/events", "html_url": "https://github.com/pypa/setuptools/issues/3467", "id": 1317939515, "node_id": "I_kwDOA0bv8c5Ojik7", "number": 3467, "title": "[FR] Improve error feedback for improper one-liner requirement  with environment markers in `setup.cfg`", "user": {"login": "frenzymadness", "id": 5688939, "node_id": "MDQ6VXNlcjU2ODg5Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/5688939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frenzymadness", "html_url": "https://github.com/frenzymadness", "followers_url": "https://api.github.com/users/frenzymadness/followers", "following_url": "https://api.github.com/users/frenzymadness/following{/other_user}", "gists_url": "https://api.github.com/users/frenzymadness/gists{/gist_id}", "starred_url": "https://api.github.com/users/frenzymadness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frenzymadness/subscriptions", "organizations_url": "https://api.github.com/users/frenzymadness/orgs", "repos_url": "https://api.github.com/users/frenzymadness/repos", "events_url": "https://api.github.com/users/frenzymadness/events{/privacy}", "received_events_url": "https://api.github.com/users/frenzymadness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-07-26T09:12:35Z", "updated_at": "2022-08-06T18:40:45Z", "closed_at": "2022-08-06T18:40:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n63.2.0\n\n### Python version\n\n3.9 and 3.11\n\n### OS\n\nFedora Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nProject: https://github.com/thoth-station/micropipenv\r\nThe line I have a problem with: https://github.com/thoth-station/micropipenv/blob/2127293c4c9fa344fd1535c5189c39ca7ba4594d/setup.cfg#L40\r\n\r\nIt seems to me that there is a difference between this:\r\n```\r\n[options.extras_require]\r\ntoml = toml;python_version<\"3.11\"\r\n```\r\nand this:\r\n```\r\n[options.extras_require]\r\ntoml =\r\n    toml;python_version<\"3.11\"\r\n```\r\n\r\nMicropipenv version 1.4.0 contains the [toml] definition on a single line and when you try to install micropipenv[toml], it does not work (Python 3.9.13):\r\n```\r\nCollecting micropipenv[toml]==1.4.0\r\n  Using cached micropipenv-1.4.0-py3-none-any.whl (38 kB)\r\nRequirement already satisfied: pip>=9 in /home/lbalhar/.virtualenvs/micropipenv/lib/python3.9/site-packages (from micropipenv[toml]==1.4.0) (22.2)\r\nCollecting toml\r\n  Using cached toml-0.10.2-py2.py3-none-any.whl (16 kB)\r\nERROR: Could not find a version that satisfies the requirement python-version<\"3.11\"; extra == \"toml\" (from micropipenv[toml]) (from versions: 0.0.2)\r\nERROR: No matching distribution found for python-version<\"3.11\"; extra == \"toml\"\r\n```\r\nthe same happens when you use Python 3.11.\r\n\r\nBut when I use the multiline definition:\r\n```\r\n[options.extras_require]\r\ntoml =\r\n    toml;python_version<\"3.11\"\r\n```\r\nit works correctly and omits toml in env with Python 3.11 and installs it if Python<3.11.\r\n\r\nWhen I build a sdist from the package, there is a difference in requires.txt in egg-info directory:\r\nsingle line definition:\r\n```\r\npip>=9\r\n\r\n[toml]\r\ntoml\r\npython_version<\"3.11\"\r\n```\r\ntwo lines:\r\n```\r\npip>=9\r\n\r\n[toml]\r\n\r\n[toml:python_version < \"3.11\"]\r\ntoml\r\n```\n\n### Expected behavior\n\nI'd expect the two definitions mentioned above to behave the same way.\n\n### How to Reproduce\n\nYou can try to install \"micropipenv[toml]==1.4.0\" and then you can change the extras_require definition as described above to see that it fixes the problem.\n\n### Output\n\n```console\r\n$ tail -n 3 setup.cfg\r\n\r\n[options.extras_require]\r\ntoml = toml;python_version<\"3.11\"\r\n\r\n$ pip install .[toml]\r\nProcessing /home/lbalhar/Software/micropipenv\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nRequirement already satisfied: pip>=9 in /home/lbalhar/.virtualenvs/micropipenv/lib/python3.9/site-packages (from micropipenv==1.4.0) (22.2)\r\nCollecting toml\r\n  Using cached toml-0.10.2-py2.py3-none-any.whl (16 kB)\r\nERROR: Could not find a version that satisfies the requirement python-version<\"3.11\"; extra == \"toml\" (from micropipenv[toml]) (from versions: 0.0.2)\r\nERROR: No matching distribution found for python-version<\"3.11\"; extra == \"toml\"\r\n\r\n## changed the definition\r\n\r\n$ tail -n 3 setup.cfg\r\n[options.extras_require]\r\ntoml =\r\n    toml;python_version<\"3.11\"\r\n\r\n$ pip install .[toml]\r\nProcessing /home/lbalhar/Software/micropipenv\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nRequirement already satisfied: pip>=9 in /home/lbalhar/.virtualenvs/micropipenv/lib/python3.9/site-packages (from micropipenv==1.4.0) (22.2)\r\nCollecting toml\r\n  Using cached toml-0.10.2-py2.py3-none-any.whl (16 kB)\r\nBuilding wheels for collected packages: micropipenv\r\n  Building wheel for micropipenv (pyproject.toml) ... done\r\n  Created wheel for micropipenv: filename=micropipenv-1.4.0-py3-none-any.whl size=23303 sha256=b645cc71f7404f367dabe8c203cf80025f3080c7d2ac6a929aec3ae5bbab2a6a\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-zh2n98et/wheels/2a/c1/ee/2caed205bb1a97b553aa44d9a5f1966c5bec9edea862cc2c72\r\nSuccessfully built micropipenv\r\nInstalling collected packages: toml, micropipenv\r\nSuccessfully installed micropipenv-1.4.0 toml-0.10.2\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3457", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3457/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3457/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3457/events", "html_url": "https://github.com/pypa/setuptools/issues/3457", "id": 1309599486, "node_id": "I_kwDOA0bv8c5ODub-", "number": 3457, "title": "[BUG] setuptools>=48.0.0 installs msgpack==1.0.3 to `site-packages` instead of `dist-package` when using `pip install --no-cache-dir`", "user": {"login": "squahtx", "id": 8349537, "node_id": "MDQ6VXNlcjgzNDk1Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/8349537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squahtx", "html_url": "https://github.com/squahtx", "followers_url": "https://api.github.com/users/squahtx/followers", "following_url": "https://api.github.com/users/squahtx/following{/other_user}", "gists_url": "https://api.github.com/users/squahtx/gists{/gist_id}", "starred_url": "https://api.github.com/users/squahtx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squahtx/subscriptions", "organizations_url": "https://api.github.com/users/squahtx/orgs", "repos_url": "https://api.github.com/users/squahtx/repos", "events_url": "https://api.github.com/users/squahtx/events{/privacy}", "received_events_url": "https://api.github.com/users/squahtx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-19T14:22:13Z", "updated_at": "2022-07-20T13:52:56Z", "closed_at": "2022-07-20T13:52:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools>=48.0.0\r\n\r\n### Python version\r\n\r\nPython 3.7\r\n\r\n### OS\r\n\r\nDebian 10\r\n\r\n### Additional environment information\r\n\r\nOccurs in the `debian:buster` Docker container, where packages go into `.../dist-packages`:\r\n\r\n```\r\n$ sudo docker run -it debian:buster\r\n...\r\nroot@721aec8b79f0:/# apt update && apt install python3 python3-pip -y\r\n...\r\nroot@721aec8b79f0:/# find / | grep site-packages\r\nroot@721aec8b79f0:/# find / | grep dist-packages\r\n/usr/lib/python3/dist-packages\r\n/usr/local/lib/python3.7/dist-packages\r\n```\r\n\r\n### Description\r\n`pip install --no-cache-dir msgpack==1.0.3` with setuptools>=48.0.0 installs msgpack to `/usr/lib/python3.7/site-packages/`, where Python can't find it.\r\n\r\nWhen the `--no-cache-dir` option is removed or setuptools==47.3.2 is used, msgpack gets installed to `/usr/local/lib/python3.7/dist-packages/` as expected.\r\n\r\n### Expected behavior\r\n\r\n`pip install --no-cache-dir msgpack==1.0.3` with setuptools>=48.0.0 installs msgpack to`/usr/local/lib/python3.7/dist-packages/`.\r\n\r\n### How to Reproduce\r\n\r\n1. Start a `debian:buster` container, install Python and note that packages go into `dist-packages`.\r\n    ```\r\n    $ sudo docker run -it debian:buster\r\n    ...\r\n    root@721aec8b79f0:/# apt update && apt install python3 python3-pip -y\r\n    ...\r\n    root@721aec8b79f0:/# find / | grep site-packages\r\n    root@721aec8b79f0:/# find / | grep dist-packages\r\n    /usr/lib/python3/dist-packages\r\n    /usr/local/lib/python3.7/dist-packages\r\n    ```\r\n2. Install setuptools==48.0.0:\r\n    ```\r\n    root@721aec8b79f0:/# python3 -m pip install setuptools==48.0.0\r\n    Collecting setuptools==48.0.0\r\n      Downloading https://files.pythonhosted.org/packages/52/b4/2b8decca516c7139f2d262b6a0c5dcd6388d0a2d2c760c6bbc830e49347e/setuptools-48.0.0-py3-none-any.whl (786kB)\r\n        100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 788kB 1.4MB/s\r\n    Installing collected packages: setuptools\r\n      Found existing installation: setuptools 40.8.0\r\n        Not uninstalling setuptools at /usr/lib/python3/dist-packages, outside environment /usr\r\n        Can't uninstall 'setuptools'. No files were found to uninstall.\r\n    Successfully installed setuptools-48.0.0\r\n    root@721aec8b79f0:/# python3 -m pip list | grep setuptools\r\n    setuptools    48.0.0\r\n    ```\r\n3. Install msgpack==1.0.3. Don't use >=1.0.4, since they start specifying build dependencies.\r\n    ```\r\n    root@721aec8b79f0:/# python3 -m pip install --no-cache-dir msgpack==1.0.3\r\n    Collecting msgpack==1.0.3\r\n      Downloading https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz (123kB)\r\n        100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 133kB 5.1MB/s\r\n    Installing collected packages: msgpack\r\n      Running setup.py install for msgpack ... done\r\n    Successfully installed msgpack\r\n    ```\r\n4. `pip list` does not pick up msgpack\r\n    ```\r\n    root@721aec8b79f0:/# python3 -m pip list | grep msgpack\r\n    ```\r\n5. msgpack has gone into `/usr/lib/python3.7/site-packages/msgpack`:\r\n    ```\r\n    root@721aec8b79f0:/# find / | grep msgpack\r\n    /usr/lib/python3.7/site-packages/msgpack\r\n    ```\r\n6. Try again with setuptools==47.3.2, which works as expected:\r\n    ```\r\n    root@721aec8b79f0:/# python3 -m pip install setuptools==47.3.2\r\n    Collecting setuptools==47.3.2\r\n      Downloading https://files.pythonhosted.org/packages/90/0f/1e97de8eebf9d3c61b92202e69dbd40a8c0022ae25db5f64e0f28d501dd8/setuptools-47.3.2-py3-none-any.whl (582kB)\r\n        100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 583kB 1.9MB/s\r\n    Installing collected packages: setuptools\r\n      Found existing installation: setuptools 48.0.0\r\n        Uninstalling setuptools-48.0.0:\r\n          Successfully uninstalled setuptools-48.0.0\r\n    Successfully installed setuptools-47.3.2\r\n    root@721aec8b79f0:/# python3 -m pip install --no-cache-dir msgpack==1.0.3\r\n    Collecting msgpack==1.0.3\r\n      Downloading https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz (123kB)\r\n        100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 133kB 5.1MB/s\r\n    Installing collected packages: msgpack\r\n      Running setup.py install for msgpack ... done\r\n    Successfully installed msgpack-1.0.3\r\n    root@721aec8b79f0:/# python3 -m pip list | grep msgpack\r\n    msgpack       1.0.3\r\n    ```\r\n\r\n### Output\r\n\r\nverbose output, with setuptools==48.0.0:\r\n```\r\nroot@721aec8b79f0:/# python3 -m pip install --no-cache-dir msgpack==1.0.3 -v\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-_kdxzi0r\r\nCreated temporary directory: /tmp/pip-req-tracker-axqlt4bp\r\nCreated requirements tracker '/tmp/pip-req-tracker-axqlt4bp'\r\nCreated temporary directory: /tmp/pip-install-4jxlv1iz\r\nCollecting msgpack==1.0.3\r\n  1 location(s) to search for versions of msgpack:\r\n  * https://pypi.org/simple/msgpack/\r\n  Getting page https://pypi.org/simple/msgpack/\r\n  Starting new HTTPS connection (1): pypi.org:443\r\n  https://pypi.org:443 \"GET /simple/msgpack/ HTTP/1.1\" 200 37762\r\n  Analyzing links from page https://pypi.org/simple/msgpack/\r\n...\r\n  Using version 1.0.3 (newest of versions: 1.0.3)\r\n  Created temporary directory: /tmp/pip-unpack-zyvft96v\r\n  Starting new HTTPS connection (1): files.pythonhosted.org:443\r\n  https://files.pythonhosted.org:443 \"GET /packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz HTTP/1.1\" 200 123830\r\n  Downloading https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz (123kB)\r\n  Downloading from URL https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz#sha256=51fdc7fb93615286428ee7758cecc2f374d5ff363bdd884c7ea622a7a327a81e (from https://pypi.org/simple/msgpack/)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 133kB 5.7MB/s\r\n  Added msgpack==1.0.3 from https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz#sha256=51fdc7fb93615286428ee7758cecc2f374d5ff363bdd884c7ea622a7a327a81e to build tracker '/tmp/pip-req-tracker-axqlt4bp'\r\n  Running setup.py (path:/tmp/pip-install-4jxlv1iz/msgpack/setup.py) egg_info for package msgpack\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/msgpack.egg-info\r\n    writing pip-egg-info/msgpack.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/msgpack.egg-info/dependency_links.txt\r\n    writing top-level names to pip-egg-info/msgpack.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/msgpack.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/msgpack.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/msgpack.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-4jxlv1iz/msgpack has version 1.0.3, which satisfies requirement msgpack==1.0.3 from https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz#sha256=51fdc7fb93615286428ee7758cecc2f374d5ff363bdd884c7ea622a7a327a81e\r\n  Removed msgpack==1.0.3 from https://files.pythonhosted.org/packages/61/3c/2206f39880d38ca7ad8ac1b28d2d5ca81632d163b2d68ef90e46409ca057/msgpack-1.0.3.tar.gz#sha256=51fdc7fb93615286428ee7758cecc2f374d5ff363bdd884c7ea622a7a327a81e from build tracker '/tmp/pip-req-tracker-axqlt4bp'\r\nInstalling collected packages: msgpack                                                                                                                                                                                                         Created temporary directory: /tmp/pip-record-fxx2yv1m                                                                                                                                                                                        Running setup.py install for msgpack ...     Running command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-4jxlv1iz/msgpack/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-fxx2yv1m/install-record.txt --single-version-externally-managed --compile                                                                          running install                                                                                                                                                                                                                              running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.7\r\n    creating build/lib.linux-x86_64-3.7/msgpack\r\n    copying msgpack/fallback.py -> build/lib.linux-x86_64-3.7/msgpack\r\n    copying msgpack/_version.py -> build/lib.linux-x86_64-3.7/msgpack\r\n    copying msgpack/__init__.py -> build/lib.linux-x86_64-3.7/msgpack\r\n    copying msgpack/ext.py -> build/lib.linux-x86_64-3.7/msgpack\r\n    copying msgpack/exceptions.py -> build/lib.linux-x86_64-3.7/msgpack\r\n    running build_ext\r\n    building 'msgpack._cmsgpack' extension\r\n    creating build/temp.linux-x86_64-3.7\r\n    creating build/temp.linux-x86_64-3.7/msgpack\r\n    x86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -flto -fuse-linker-plugin -ffat-lto-objects -fPIC -D__LITTLE_ENDIAN__=1 -I. -I/usr/include/python3.7m -c msgpack/_cmsgpack.cpp -o build/temp.linux-x86_64-3.7/msgpack/_cmsgpack.o\r\n    msgpack/_cmsgpack.cpp: In function \u2018__pyx_f_7msgpack_9_cmsgpack_6Packer__pack(__pyx_obj_7msgpack_9_cmsgpack_Packer*, _object*, __pyx_opt_args_7msgpack_9_cmsgpack_6Packer__pack*)\u2019:\r\n    msgpack/_cmsgpack.cpp:4534:10: warning: \u2018__pyx_r\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\r\n       return __pyx_r;\r\n              ^~~~~~~\r\n    x86_64-linux-gnu-g++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-z,relro build/temp.linux-x86_64-3.7/msgpack/_cmsgpack.o -L/usr/lib -o build/lib.linux-x86_64-3.7/msgpack/_cmsgpack.cpython-37m-x86_64-linux-gnu.so\r\n    running install_lib\r\n    copying build/lib.linux-x86_64-3.7/msgpack/_cmsgpack.cpython-37m-x86_64-linux-gnu.so -> /usr/lib/python3.7/site-packages/msgpack\r\n    running install_egg_info\r\n    running egg_info\r\n    creating msgpack.egg-info\r\n    writing msgpack.egg-info/PKG-INFO\r\n    writing dependency_links to msgpack.egg-info/dependency_links.txt\r\n    writing top-level names to msgpack.egg-info/top_level.txt\r\n    writing manifest file 'msgpack.egg-info/SOURCES.txt'\r\n    reading manifest file 'msgpack.egg-info/SOURCES.txt'\r\n    writing manifest file 'msgpack.egg-info/SOURCES.txt'\r\n    removing '/usr/lib/python3.7/site-packages/msgpack-1.0.3-py3.7.egg-info' (and everything under it)\r\n    Copying msgpack.egg-info to /usr/lib/python3.7/site-packages/msgpack-1.0.3-py3.7.egg-info\r\n    running install_scripts\r\n    writing list of installed files to '/tmp/pip-record-fxx2yv1m/install-record.txt'\r\ndone\r\n  Removing source in /tmp/pip-install-4jxlv1iz/msgpack\r\nSuccessfully installed msgpack\r\nCleaning up...\r\nRemoved build tracker '/tmp/pip-req-tracker-axqlt4bp'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3455", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3455/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3455/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3455/events", "html_url": "https://github.com/pypa/setuptools/issues/3455", "id": 1308979365, "node_id": "I_kwDOA0bv8c5OBXCl", "number": 3455, "title": "[BUG] Breaking change in setuptools 61.2", "user": {"login": "hauntsaninja", "id": 12621235, "node_id": "MDQ6VXNlcjEyNjIxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/12621235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hauntsaninja", "html_url": "https://github.com/hauntsaninja", "followers_url": "https://api.github.com/users/hauntsaninja/followers", "following_url": "https://api.github.com/users/hauntsaninja/following{/other_user}", "gists_url": "https://api.github.com/users/hauntsaninja/gists{/gist_id}", "starred_url": "https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hauntsaninja/subscriptions", "organizations_url": "https://api.github.com/users/hauntsaninja/orgs", "repos_url": "https://api.github.com/users/hauntsaninja/repos", "events_url": "https://api.github.com/users/hauntsaninja/events{/privacy}", "received_events_url": "https://api.github.com/users/hauntsaninja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-19T04:56:57Z", "updated_at": "2022-07-19T07:44:35Z", "closed_at": "2022-07-19T07:16:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n61.2\r\n\r\n### Python version\r\n\r\n3.10.5\r\n\r\n### OS\r\n\r\nmacOS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nAt work, we store some project metadata in pyproject.toml.\r\n\r\nsetuptools has started validating information in pyproject.toml, when it previously didn't. On it's own, this isn't a bad idea, but as it stands this is problematic because:\r\n- setuptools insists on having a version field. PEP 621 does not require users to specify a version. For example, contrast to the phrasing PEP 621 uses for name, which is required, is \"Tools MUST require users to statically define this field [name].\"\r\n- This is a breaking change in a point release\r\n\r\n### Expected behavior\r\n\r\nsetuptools shouldn't require a version field. Especially since it doesn't require a version when calling `setuptools.setup`\r\n\r\nNo breaking changes in point releases.\r\n\r\n### How to Reproduce\r\n\r\n```\r\n\u03bb cat setup.py \r\nfrom setuptools import setup\r\n\r\nsetup(name=\"repro\", install_requires=[])\r\n\r\n\u03bb cat pyproject.toml\r\n[project]\r\nname = \"repro\"\r\ndependencies = []\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n\u03bb tree\r\n.\r\n\u251c\u2500\u2500 pyproject.toml\r\n\u2514\u2500\u2500 setup.py\r\n\r\n0 directories, 2 files\r\n\r\n\u03bb cat setup.py \r\nfrom setuptools import setup\r\n\r\nsetup(name=\"repro\", install_requires=[])\r\n\r\n\u03bb cat pyproject.toml \r\n[project]\r\nname = \"repro\"\r\ndependencies = []\r\n\r\n\u03bb pip install --upgrade 'setuptools==61.1'\r\nCollecting setuptools==61.1\r\n  Using cached setuptools-61.1.0-py3-none-any.whl (1.1 MB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 61.2.0\r\n    Uninstalling setuptools-61.2.0:\r\n      Successfully uninstalled setuptools-61.2.0\r\nSuccessfully installed setuptools-61.1.0\r\n\r\n\u03bb pip freeze --all\r\npip==22.1.2\r\nsetuptools==61.1.0\r\nwheel==0.37.1\r\n\r\n\u03bb PIP_NO_BUILD_ISOLATION=no pip install -e .\r\nObtaining file:///Users/shantanu/tmp/repro\r\n  Checking if build backend supports build_editable ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: repro\r\n  Running setup.py develop for repro\r\nSuccessfully installed repro-0.0.0\r\n\r\n\u03bb pip install --upgrade 'setuptools==61.2'\r\nCollecting setuptools==61.2\r\n  Using cached setuptools-61.2.0-py3-none-any.whl (1.1 MB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 61.1.0\r\n    Uninstalling setuptools-61.1.0:\r\n      Successfully uninstalled setuptools-61.1.0\r\nSuccessfully installed setuptools-61.2.0\r\n\r\n\u03bb pip freeze --all\r\npip==22.1.2\r\n# Editable install with no version control (repro==0.0.0)\r\n-e /Users/shantanu/tmp/repro\r\nsetuptools==61.2.0\r\nwheel==0.37.1\r\n\r\n\u03bb PIP_NO_BUILD_ISOLATION=no pip install -e .\r\nObtaining file:///Users/shantanu/tmp/repro\r\n  Checking if build backend supports build_editable ... done\r\n  Preparing metadata (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 Preparing metadata (pyproject.toml) did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [50 lines of output]\r\n      /Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:103: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n        warnings.warn(msg, _ExperimentalProjectMetadata)\r\n      configuration error: `project` must contain ['version'] properties\r\n      DESCRIPTION:\r\n          version should be statically defined in the ``version`` field\r\n      \r\n      GIVEN VALUE:\r\n          {\r\n              \"name\": \"repro\",\r\n              \"dependencies\": []\r\n          }\r\n      \r\n      OFFENDING RULE: 'required'\r\n      \r\n      DEFINITION:\r\n          {\r\n              \"required\": [\r\n                  \"version\"\r\n              ]\r\n          }\r\n      Traceback (most recent call last):\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n          main()\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 164, in prepare_metadata_for_build_wheel\r\n          return hook(metadata_directory, config_settings)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/build_meta.py\", line 188, in prepare_metadata_for_build_wheel\r\n          self.run_setup()\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/build_meta.py\", line 281, in run_setup\r\n          super(_BuildMetaLegacyBackend,\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n          exec(compile(code, __file__, 'exec'), locals())\r\n        File \"setup.py\", line 3, in <module>\r\n          setup(name=\"repro\", install_requires=[])\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n          return distutils.core.setup(**attrs)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 122, in setup\r\n          dist.parse_config_files()\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/_virtualenv.py\", line 21, in parse_config_files\r\n          result = old_parse_config_files(self, *args, **kwargs)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/dist.py\", line 854, in parse_config_files\r\n          pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 55, in apply_configuration\r\n          config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 121, in read_configuration\r\n          validate(subset, filepath)\r\n        File \"/Users/shantanu/.virtualenvs/repro-xxxx/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 44, in validate\r\n          raise error from None\r\n      ValueError: invalid pyproject.toml config: `project`\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3455/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3452", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3452/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3452/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3452/events", "html_url": "https://github.com/pypa/setuptools/issues/3452", "id": 1304542644, "node_id": "I_kwDOA0bv8c5Nwb20", "number": 3452, "title": "[BUG] `AttributeError: 'PathDistribution' object has no attribute '_normalized_name'` with setuptools 60.9.0+", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-07-14T09:52:24Z", "updated_at": "2023-02-21T18:20:41Z", "closed_at": "2023-02-21T18:20:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.9.0\n\n### Python version\n\nPython 3.10\n\n### OS\n\nUbuntu 20.04\n\n### Additional environment information\n\nAlso affects latest setuptools (62.2.0) + Python 3.8 and 3.9.\n\n### Description\n\nWith setuptools 60.9.0+ this requirements file (reduced from a user-provided report), installs successfully initially, however on subsequent installs (ie: when `site-packages` is already populated), results in an error. With setuptools 60.8.2 and older, this error did not occur.\r\n\r\n```\r\nimportlib-metadata==2.0.0\r\ngit+https://github.com/izdi/django-slack-oauth.git@1.5.2\r\njira==2.0.0\r\n```\r\n\r\nUpdating to newer `importlib-metadata` or downgrading `setuptools` resolves the issue.\n\n### Expected behavior\n\nEither the existing requirements file continues to work, or else a clearer error message is given about what needs to be changed to fix it.\r\n\r\nFor example, by outputting an error message mentioning that the `importlib-metadata` version should be updated.\n\n### How to Reproduce\n\n```\r\ndocker run --rm -it python:3.10.5 bash -c 'pip install -q setuptools==60.9.0 && pip install -q importlib-metadata==2.0.0 git+https://github.com/izdi/django-slack-oauth.git@1.5.2 jira==2.0.0 && pip install importlib-metadata==2.0.0 git+https://github.com/izdi/django-slack-oauth.git@1.5.2 jira==2.0.0'\r\n```\n\n### Output\n\n```console\r\n$ docker run --rm -it python:3.10.5 bash -c 'pip install -q setuptools==60.9.0 && pip install importlib-metadata==2.0.0 git+https://github.com/izdi/django-slack-oauth.git@1.5.2 jira==2.0.0 && pip install importlib-metadata==2.0.0 git+https://github.com/izdi/django-slack-oauth.git@1.5.2 jira==2.0.0'\r\n...\r\nCollecting git+https://github.com/izdi/django-slack-oauth.git@1.5.2\r\n  Cloning https://github.com/izdi/django-slack-oauth.git (to revision 1.5.2) to /tmp/pip-req-build-yzzrjnd1\r\n  Running command git clone --filter=blob:none --quiet https://github.com/izdi/django-slack-oauth.git /tmp/pip-req-build-yzzrjnd1\r\n  Resolved https://github.com/izdi/django-slack-oauth.git to commit 0d72013198de94ca38e8d5ccbe7dd11dd484fc64\r\n  Preparing metadata (setup.py) ... done\r\nCollecting importlib-metadata==2.0.0\r\n  Downloading importlib_metadata-2.0.0-py2.py3-none-any.whl (31 kB)\r\nCollecting jira==2.0.0\r\n  Downloading jira-2.0.0-py2.py3-none-any.whl (57 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 57.6/57.6 KB 28.4 MB/s eta 0:00:00\r\nCollecting zipp>=0.5\r\n  Downloading zipp-3.8.1-py3-none-any.whl (5.6 kB)\r\nCollecting six>=1.10.0\r\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\r\nCollecting requests-oauthlib>=0.6.1\r\n  Downloading requests_oauthlib-1.3.1-py2.py3-none-any.whl (23 kB)\r\nCollecting requests-toolbelt\r\n  Downloading requests_toolbelt-0.9.1-py2.py3-none-any.whl (54 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 54.3/54.3 KB 29.1 MB/s eta 0:00:00\r\nRequirement already satisfied: setuptools>=20.10.1 in /usr/local/lib/python3.10/site-packages (from jira==2.0.0) (60.9.0)\r\nCollecting pbr>=3.0.0\r\n  Downloading pbr-5.9.0-py2.py3-none-any.whl (112 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 112.3/112.3 KB 65.1 MB/s eta 0:00:00\r\nCollecting requests>=2.10.0\r\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 62.8/62.8 KB 36.8 MB/s eta 0:00:00\r\nCollecting defusedxml\r\n  Downloading defusedxml-0.7.1-py2.py3-none-any.whl (25 kB)\r\nCollecting oauthlib[signedtoken]>=1.0.0\r\n  Downloading oauthlib-3.2.0-py3-none-any.whl (151 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 151.5/151.5 KB 80.1 MB/s eta 0:00:00\r\nCollecting Django>=1.8\r\n  Downloading Django-4.0.6-py3-none-any.whl (8.0 MB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 8.0/8.0 MB 63.8 MB/s eta 0:00:00\r\nCollecting jsonfield\r\n  Downloading jsonfield-3.1.0-py3-none-any.whl (8.0 kB)\r\nCollecting sqlparse>=0.2.2\r\n  Downloading sqlparse-0.4.2-py3-none-any.whl (42 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 42.3/42.3 KB 25.9 MB/s eta 0:00:00\r\nCollecting asgiref<4,>=3.4.1\r\n  Downloading asgiref-3.5.2-py3-none-any.whl (22 kB)\r\nCollecting pyjwt<3,>=2.0.0\r\n  Downloading PyJWT-2.4.0-py3-none-any.whl (18 kB)\r\nCollecting cryptography>=3.0.0\r\n  Downloading cryptography-37.0.4-cp36-abi3-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl (3.7 MB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 3.7/3.7 MB 64.7 MB/s eta 0:00:00\r\nCollecting urllib3<1.27,>=1.21.1\r\n  Downloading urllib3-1.26.10-py2.py3-none-any.whl (139 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 139.2/139.2 KB 63.5 MB/s eta 0:00:00\r\nCollecting idna<4,>=2.5\r\n  Downloading idna-3.3-py3-none-any.whl (61 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 61.2/61.2 KB 40.4 MB/s eta 0:00:00\r\nCollecting charset-normalizer<3,>=2\r\n  Downloading charset_normalizer-2.1.0-py3-none-any.whl (39 kB)\r\nCollecting certifi>=2017.4.17\r\n  Downloading certifi-2022.6.15-py3-none-any.whl (160 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 160.2/160.2 KB 56.0 MB/s eta 0:00:00\r\nCollecting cffi>=1.12\r\n  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (449 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 449.9/449.9 KB 73.9 MB/s eta 0:00:00\r\nCollecting pycparser\r\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 118.7/118.7 KB 50.1 MB/s eta 0:00:00\r\nBuilding wheels for collected packages: django-slack-oauth\r\n  Building wheel for django-slack-oauth (setup.py) ... done\r\n  Created wheel for django-slack-oauth: filename=django_slack_oauth-1.5.1-py3-none-any.whl size=11142 sha256=ad24b187de24b8ce040b5abc925e76e5f53a9252a489b1fe673eebba7bbd7b09\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-1occgfey/wheels/57/60/f4/4ef8708f018860cd3487fa19bf1b4125810444c29e98591fcb\r\nSuccessfully built django-slack-oauth\r\nInstalling collected packages: zipp, urllib3, sqlparse, six, pyjwt, pycparser, pbr, oauthlib, idna, defusedxml, charset-normalizer, certifi, asgiref, requests, importlib-metadata, Django, cffi, requests-toolbelt, requests-oauthlib, jsonfield, cryptography, django-slack-oauth, jira\r\nSuccessfully installed Django-4.0.6 asgiref-3.5.2 certifi-2022.6.15 cffi-1.15.1 charset-normalizer-2.1.0 cryptography-37.0.4 defusedxml-0.7.1 django-slack-oauth-1.5.1 idna-3.3 importlib-metadata-2.0.0 jira-2.0.0 jsonfield-3.1.0 oauthlib-3.2.0 pbr-5.9.0 pycparser-2.21 pyjwt-2.4.0 requests-2.28.1 requests-oauthlib-1.3.1 requests-toolbelt-0.9.1 six-1.16.0 sqlparse-0.4.2 urllib3-1.26.10 zipp-3.8.1\r\n...\r\nCollecting git+https://github.com/izdi/django-slack-oauth.git@1.5.2\r\n  Cloning https://github.com/izdi/django-slack-oauth.git (to revision 1.5.2) to /tmp/pip-req-build-fcax2atz\r\n  Running command git clone --filter=blob:none --quiet https://github.com/izdi/django-slack-oauth.git /tmp/pip-req-build-fcax2atz\r\n  Resolved https://github.com/izdi/django-slack-oauth.git to commit 0d72013198de94ca38e8d5ccbe7dd11dd484fc64\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [47 lines of output]\r\n      running egg_info\r\n      writing /tmp/pip-pip-egg-info-oz9bkwiy/django_slack_oauth.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/pip-pip-egg-info-oz9bkwiy/django_slack_oauth.egg-info/dependency_links.txt\r\n      writing requirements to /tmp/pip-pip-egg-info-oz9bkwiy/django_slack_oauth.egg-info/requires.txt\r\n      writing top-level names to /tmp/pip-pip-egg-info-oz9bkwiy/django_slack_oauth.egg-info/top_level.txt\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 34, in <module>\r\n        File \"/tmp/pip-req-build-fcax2atz/setup.py\", line 16, in <module>\r\n          setup(\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/__init__.py\", line 155, in setup\r\n          return distutils.core.setup(**attrs)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n          return run_commands(dist)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n          dist.run_commands()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n          self.run_command(cmd)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n          cmd_obj.run()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 298, in run\r\n          self.find_sources()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 305, in find_sources\r\n          mm.run()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 540, in run\r\n          self.add_defaults()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/command/egg_info.py\", line 577, in add_defaults\r\n          sdist.add_defaults(self)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/command/sdist.py\", line 226, in add_defaults\r\n          self._add_defaults_python()\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/command/sdist.py\", line 111, in _add_defaults_python\r\n          build_py = self.get_finalized_command('build_py')\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/cmd.py\", line 298, in get_finalized_command\r\n          cmd_obj = self.distribution.get_command_obj(command, create)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 858, in get_command_obj\r\n          klass = self.get_command_class(command)\r\n        File \"/usr/local/lib/python3.10/site-packages/setuptools/dist.py\", line 928, in get_command_class\r\n          eps = metadata.entry_points(group='distutils.commands', name=command)\r\n        File \"/usr/local/lib/python3.10/importlib/metadata/__init__.py\", line 1009, in entry_points\r\n          return SelectableGroups.load(eps).select(**params)\r\n        File \"/usr/local/lib/python3.10/importlib/metadata/__init__.py\", line 459, in load\r\n          ordered = sorted(eps, key=by_group)\r\n        File \"/usr/local/lib/python3.10/importlib/metadata/__init__.py\", line 1006, in <genexpr>\r\n          eps = itertools.chain.from_iterable(\r\n        File \"/usr/local/lib/python3.10/importlib/metadata/_itertools.py\", line 16, in unique_everseen\r\n          k = key(element)\r\n      AttributeError: 'PathDistribution' object has no attribute '_normalized_name'\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3452/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3451", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3451/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3451/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3451/events", "html_url": "https://github.com/pypa/setuptools/issues/3451", "id": 1304364047, "node_id": "I_kwDOA0bv8c5NvwQP", "number": 3451, "title": "[BUG] Users report problems with installing modules when they have the latest 3.0.9 version of pyparsing installed", "user": {"login": "ptmcg", "id": 383875, "node_id": "MDQ6VXNlcjM4Mzg3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/383875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptmcg", "html_url": "https://github.com/ptmcg", "followers_url": "https://api.github.com/users/ptmcg/followers", "following_url": "https://api.github.com/users/ptmcg/following{/other_user}", "gists_url": "https://api.github.com/users/ptmcg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptmcg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptmcg/subscriptions", "organizations_url": "https://api.github.com/users/ptmcg/orgs", "repos_url": "https://api.github.com/users/ptmcg/repos", "events_url": "https://api.github.com/users/ptmcg/events{/privacy}", "received_events_url": "https://api.github.com/users/ptmcg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-07-14T07:15:37Z", "updated_at": "2022-08-06T18:59:06Z", "closed_at": "2022-08-06T18:40:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.6.0 and \"latest\"\n\n### Python version\n\nUnknown\n\n### OS\n\nUnknown\n\n### Additional environment information\n\nUsers report problems with installing modules when they have the latest 3.0.9 version of pyparsing installed.\r\n\r\nhttps://github.com/pyparsing/pyparsing/issues/419\r\n\n\n### Description\n\nSomehow, the vendored version of pyparsing (3.0.8) references a file (template.jinja2) which exists in the pkg_resources vendored version of pyparsing but has been removed in the latest version of pyparsing (3.0.9).\r\n\r\nOne user reports:\r\n\r\n> Warning occurs creating python executable file:\r\n> \r\n> > WARNING: Failed to collect submodules for 'pkg_resources._vendor.pyparsing.diagram' because importing 'pkg_resources._vendor.pyparsing.diagram' raised: FileNotFoundError: [Errno 2] No such file or directory: 'C:/python/Lib/site-packages/pkg_resources/_vendor/pyparsing/diagram/template.jinja2'\r\n> \r\n\r\nA second user reports:\r\n\r\n> I have the same issue, this should be fixed, because it's a very important problem. Now I can't load a submodule, and I have the latest versions of setuptools, pyparsing\r\n\r\n\n\n### Expected behavior\n\nExpect installs with no warnings, since the vendored pyparsing _does_ contain the template.jinja2 file.\n\n### How to Reproduce\n\nDescriptions in https://github.com/pyparsing/pyparsing/issues/419.  I will instruct those reporting on that bug to add further details here.\r\n\n\n### Output\n\nSee Description above.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3447", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3447/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3447/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3447/events", "html_url": "https://github.com/pypa/setuptools/issues/3447", "id": 1303837418, "node_id": "I_kwDOA0bv8c5Ntvrq", "number": 3447, "title": "[BUG] finalize_distribution_options", "user": {"login": "gentlegiantJGC", "id": 11940194, "node_id": "MDQ6VXNlcjExOTQwMTk0", "avatar_url": "https://avatars.githubusercontent.com/u/11940194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gentlegiantJGC", "html_url": "https://github.com/gentlegiantJGC", "followers_url": "https://api.github.com/users/gentlegiantJGC/followers", "following_url": "https://api.github.com/users/gentlegiantJGC/following{/other_user}", "gists_url": "https://api.github.com/users/gentlegiantJGC/gists{/gist_id}", "starred_url": "https://api.github.com/users/gentlegiantJGC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gentlegiantJGC/subscriptions", "organizations_url": "https://api.github.com/users/gentlegiantJGC/orgs", "repos_url": "https://api.github.com/users/gentlegiantJGC/repos", "events_url": "https://api.github.com/users/gentlegiantJGC/events{/privacy}", "received_events_url": "https://api.github.com/users/gentlegiantJGC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-13T19:17:02Z", "updated_at": "2022-07-17T12:24:51Z", "closed_at": "2022-07-17T12:24:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n63.1.0\n\n### Python version\n\n3.9.13\n\n### OS\n\nWindows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI am trying to implement a sub-command to extend setuptools to add a compile step however this is only run if the local path is added to the python path. This may be an issue in conjunction with the [build library](https://github.com/pypa/build).\r\n\r\nI am trying to implement [this behaviour](https://github.com/abravalheri/experiment-setuptools-plugin) as was linked to in #2899 \r\n\r\nI have defined the function in the `setup.cfg` file however this is only run if the local path is added to sys.path in the `setup.py` file\r\n\r\n```\r\n[options.entry_points]\r\nsetuptools.finalize_distribution_options =\r\n    compile_example_files = my_package.finalise:install\r\n```\r\n\r\nWhen running `python -m build` that function is not run.\r\n\r\nIf the following line is added to the `setup.py` file the function will get called and everything will run as expected.\r\n`sys.path.append(os.path.dirname(__name__))`\r\n\r\nSorry if there is something I am misunderstanding here.\n\n### Expected behavior\n\nfinalize_distribution_options should be able to work with build without modifying the python path.\n\n### How to Reproduce\n\n1) Extract the attached zip file\r\n2) Install Python with `build`\r\n3) Run `python -m build`\r\n4) Note that the command `custom_finalise` was not run\r\n5) Uncomment line 5 in the setup.py file\r\n6) Run `python -m build` again\r\n7) Note that `custom_finalise` was run with the following line being `*********** do some things **************`\r\n\r\n[finalize_distribution_options.zip](https://github.com/pypa/setuptools/files/9105203/finalize_distribution_options.zip)\r\n\n\n### Output\n\nConsole output with `sys.path.append(os.path.dirname(__name__))` commented out\r\n```console\r\n(venv) PS D:\\finalize_distribution_options> python -m build\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 42, wheel)\r\n* Getting dependencies for sdist...\r\nrunning egg_info\r\ncreating my_package.egg-info                                        \r\nwriting my_package.egg-info\\PKG-INFO                                \r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt        \r\nwriting top-level names to my_package.egg-info\\top_level.txt        \r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'             \r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'                \r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\n* Building sdist...\r\nrunning sdist\r\nrunning egg_info                                                    \r\nwriting my_package.egg-info\\PKG-INFO                                \r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\ncreating my-package-1.0.0\r\ncreating my-package-1.0.0\\my_package\r\ncreating my-package-1.0.0\\my_package.egg-info\r\ncopying files to my-package-1.0.0...\r\ncopying MANIFEST.in -> my-package-1.0.0\r\ncopying pyproject.toml -> my-package-1.0.0\r\ncopying setup.cfg -> my-package-1.0.0\r\ncopying setup.py -> my-package-1.0.0\r\ncopying my_package\\__init__.py -> my-package-1.0.0\\my_package\r\ncopying my_package\\finalise.py -> my-package-1.0.0\\my_package\r\ncopying my_package.egg-info\\PKG-INFO -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\SOURCES.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\dependency_links.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\entry_points.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\top_level.txt -> my-package-1.0.0\\my_package.egg-info\r\nWriting my-package-1.0.0\\setup.cfg\r\nCreating tar archive\r\nremoving 'my-package-1.0.0' (and everything under it)\r\n* Building wheel from sdist\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 42, wheel)\r\n* Getting dependencies for wheel...\r\nrunning egg_info\r\nwriting my_package.egg-info\\PKG-INFO\r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\n* Installing packages in isolated environment... (wheel)\r\n* Building wheel...\r\nrunning bdist_wheel\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build\\lib\r\ncreating build\\lib\\my_package\r\ncopying my_package\\finalise.py -> build\\lib\\my_package\r\ncopying my_package\\__init__.py -> build\\lib\\my_package\r\ninstalling to build\\bdist.win-amd64\\wheel\r\nrunning install\r\nrunning install_lib\r\ncreating build\\bdist.win-amd64\r\ncreating build\\bdist.win-amd64\\wheel\r\ncreating build\\bdist.win-amd64\\wheel\\my_package\r\ncopying build\\lib\\my_package\\finalise.py -> build\\bdist.win-amd64\\wheel\\.\\my_package\r\ncopying build\\lib\\my_package\\__init__.py -> build\\bdist.win-amd64\\wheel\\.\\my_package\r\nrunning install_egg_info\r\nrunning egg_info\r\nwriting my_package.egg-info\\PKG-INFO\r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\nCopying my_package.egg-info to build\\bdist.win-amd64\\wheel\\.\\my_package-1.0.0-py3.9.egg-info\r\nrunning install_scripts\r\ncreating build\\bdist.win-amd64\\wheel\\my_package-1.0.0.dist-info\\WHEEL\r\ncreating 'D:\\finalize_distribution_options\\dist\\tmpu9scla6m\\my_package-1.0.0-py3-none-any.whl' and adding 'build\\bdist.win-amd64\\wheel' to it\r\nadding 'my_package/__init__.py'\r\nadding 'my_package/finalise.py'\r\nadding 'my_package-1.0.0.dist-info/METADATA'\r\nadding 'my_package-1.0.0.dist-info/WHEEL'\r\nadding 'my_package-1.0.0.dist-info/entry_points.txt'\r\nadding 'my_package-1.0.0.dist-info/top_level.txt'\r\nadding 'my_package-1.0.0.dist-info/RECORD'\r\nremoving build\\bdist.win-amd64\\wheel\r\nSuccessfully built my-package-1.0.0.tar.gz and my_package-1.0.0-py3-none-any.whl\r\n```\r\n\r\nConsole output after with `sys.path.append(os.path.dirname(__name__))` uncommented\r\n```console\r\n(venv) PS D:\\finalize_distribution_options> python -m build\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 42, wheel)\r\n* Getting dependencies for sdist...\r\nrunning egg_info\r\ncreating my_package.egg-info                                        \r\nwriting my_package.egg-info\\PKG-INFO                                \r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt        \r\nwriting top-level names to my_package.egg-info\\top_level.txt        \r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'             \r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'                \r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\n* Building sdist...\r\nrunning sdist\r\nrunning egg_info                                                    \r\nwriting my_package.egg-info\\PKG-INFO                                \r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\ncreating my-package-1.0.0\r\ncreating my-package-1.0.0\\my_package\r\ncreating my-package-1.0.0\\my_package.egg-info\r\ncopying files to my-package-1.0.0...\r\ncopying MANIFEST.in -> my-package-1.0.0\r\ncopying pyproject.toml -> my-package-1.0.0\r\ncopying setup.cfg -> my-package-1.0.0\r\ncopying setup.py -> my-package-1.0.0\r\ncopying my_package\\__init__.py -> my-package-1.0.0\\my_package\r\ncopying my_package\\finalise.py -> my-package-1.0.0\\my_package\r\ncopying my_package.egg-info\\PKG-INFO -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\SOURCES.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\dependency_links.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\entry_points.txt -> my-package-1.0.0\\my_package.egg-info\r\ncopying my_package.egg-info\\top_level.txt -> my-package-1.0.0\\my_package.egg-info\r\nWriting my-package-1.0.0\\setup.cfg\r\nCreating tar archive\r\nremoving 'my-package-1.0.0' (and everything under it)\r\n* Building wheel from sdist\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 42, wheel)\r\n* Getting dependencies for wheel...\r\nrunning egg_info\r\nwriting my_package.egg-info\\PKG-INFO\r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\n* Installing packages in isolated environment... (wheel)\r\n* Building wheel...\r\nrunning bdist_wheel\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build\\lib\r\ncreating build\\lib\\my_package\r\ncopying my_package\\finalise.py -> build\\lib\\my_package\r\ncopying my_package\\__init__.py -> build\\lib\\my_package\r\nrunning custom_finalise\r\n*********** do some things **************\r\ninstalling to build\\bdist.win-amd64\\wheel\r\nrunning install\r\nrunning install_lib\r\ncreating build\\bdist.win-amd64\r\ncreating build\\bdist.win-amd64\\wheel\r\ncreating build\\bdist.win-amd64\\wheel\\my_package\r\ncopying build\\lib\\my_package\\finalise.py -> build\\bdist.win-amd64\\wheel\\.\\my_package\r\ncopying build\\lib\\my_package\\__init__.py -> build\\bdist.win-amd64\\wheel\\.\\my_package\r\nrunning install_egg_info\r\nrunning egg_info\r\nwriting my_package.egg-info\\PKG-INFO\r\nwriting dependency_links to my_package.egg-info\\dependency_links.txt\r\nwriting entry points to my_package.egg-info\\entry_points.txt\r\nwriting top-level names to my_package.egg-info\\top_level.txt\r\nreading manifest file 'my_package.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'my_package.egg-info\\SOURCES.txt'\r\nCopying my_package.egg-info to build\\bdist.win-amd64\\wheel\\.\\my_package-1.0.0-py3.9.egg-info\r\nrunning install_scripts\r\ncreating build\\bdist.win-amd64\\wheel\\my_package-1.0.0.dist-info\\WHEEL\r\ncreating 'D:\\finalize_distribution_options\\dist\\tmpj63f3pk0\\my_package-1.0.0-py3-none-any.whl' and adding 'build\\bdist.win-amd64\\wheel' to it\r\nadding 'my_package/__init__.py'\r\nadding 'my_package/finalise.py'\r\nadding 'my_package-1.0.0.dist-info/METADATA'\r\nadding 'my_package-1.0.0.dist-info/WHEEL'\r\nadding 'my_package-1.0.0.dist-info/entry_points.txt'\r\nadding 'my_package-1.0.0.dist-info/top_level.txt'\r\nadding 'my_package-1.0.0.dist-info/RECORD'\r\nremoving build\\bdist.win-amd64\\wheel\r\nSuccessfully built my-package-1.0.0.tar.gz and my_package-1.0.0-py3-none-any.whl\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3447/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3446", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3446/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3446/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3446/events", "html_url": "https://github.com/pypa/setuptools/issues/3446", "id": 1303672434, "node_id": "I_kwDOA0bv8c5NtHZy", "number": 3446, "title": "[BUG] Pip Installation of Setuptools 63.1.0 Fails Due to Download Error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-07-13T16:24:57Z", "updated_at": "2022-07-13T17:22:39Z", "closed_at": "2022-07-13T17:22:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===63.1.0\n\n### Python version\n\nPython 3.8.13\n\n### OS\n\nWSL Ubuntu 20.04.4 in Windows 11\n\n### Additional environment information\n\nInstalling in the following Conda env:\r\n```\r\n# Name                    Version                   Build  Channel\r\n_libgcc_mutex             0.1                        main\r\n_openmp_mutex             5.1                       1_gnu\r\nca-certificates           2022.4.26            h06a4308_0\r\ncertifi                   2022.6.15        py38h06a4308_0\r\nld_impl_linux-64          2.38                 h1181459_1\r\nlibffi                    3.3                  he6710b0_2\r\nlibgcc-ng                 11.2.0               h1234567_1\r\nlibgomp                   11.2.0               h1234567_1\r\nlibstdcxx-ng              11.2.0               h1234567_1\r\nncurses                   6.3                  h5eee18b_3\r\nopenssl                   1.1.1q               h7f8727e_0\r\npip                       22.1.2           py38h06a4308_0\r\npython                    3.8.13               h12debd9_0\r\nreadline                  8.1.2                h7f8727e_1\r\nsetuptools                61.2.0           py38h06a4308_0\r\nsqlite                    3.38.5               hc218d9a_0\r\ntk                        8.6.12               h1ccaba5_0\r\nwheel                     0.37.1             pyhd3eb1b0_0\r\nxz                        5.2.5                h7f8727e_1\r\nzlib                      1.2.12               h7f8727e_2\r\n```\n\n### Description\n\nA Pip installation (pip install setuptools==63.1.0) of the latest setuptools fails with a download error:\r\n\r\n* pip._vendor.urllib3.exceptions.ProtocolError: (\"Connection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer'))\r\n\r\nAttempting a manual web browser (Firefox) download of the wheel file listed on PyPI also fails:\r\n\r\n* Source page: https://pypi.org/project/setuptools/#files\r\n* File URL: https://files.pythonhosted.org/packages/ae/7f/6d816941769a7783be4258dd35e28bbf1a64bb36b1b7e0c773eff07fb0a8/setuptools-63.1.0-py3-none-any.whl\n\n### Expected behavior\n\nThe installation works.\n\n### How to Reproduce\n\npip install setuptools==63.1.0\n\n### Output\n\n```console\r\n(test_env) $ pip install setuptools==63.1.0\r\nLooking in indexes: https://pypi.org/simple\r\nCollecting setuptools==63.1.0\r\n  Downloading setuptools-63.1.0-py3-none-any.whl (1.2 MB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 0.0/1.2 MB ? eta -:--:--\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/urllib3/response.py\", line 435, in _error_catcher\r\n    yield\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/urllib3/response.py\", line 516, in read\r\n    data = self._fp.read(amt) if not fp_closed else b\"\"\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/cachecontrol/filewrapper.py\", line 90, in read\r\n    data = self.__fp.read(amt)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/http/client.py\", line 459, in read\r\n    n = self.readinto(b)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/http/client.py\", line 503, in readinto\r\n    n = self.fp.readinto(b)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/socket.py\", line 669, in readinto\r\n    return self._sock.recv_into(b)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/ssl.py\", line 1241, in recv_into\r\n    return self.read(nbytes, buffer)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/ssl.py\", line 1099, in read\r\n    return self._sslobj.read(len, buffer)\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 167, in exc_logging_wrapper\r\n    status = run_func(*args)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 205, in wrapper\r\n    return func(self, options, args)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 341, in run\r\n    requirement_set = resolver.resolve(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 94, in resolve\r\n    result = self._result = resolver.resolve(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/resolvelib/resolvers.py\", line 481, in resolve\r\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/resolvelib/resolvers.py\", line 348, in resolve\r\n    self._add_to_criteria(self.state.criteria, r, parent=None)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/resolvelib/resolvers.py\", line 172, in _add_to_criteria\r\n    if not criterion.candidates:\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/resolvelib/structs.py\", line 151, in __bool__\r\n    return bool(self._sequence)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/found_candidates.py\", line 155, in __bool__\r\n    return any(self)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/found_candidates.py\", line 143, in <genexpr>\r\n    return (c for c in iterator if id(c) not in self._incompatible_ids)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/found_candidates.py\", line 47, in _iter_built\r\n    candidate = func()\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/factory.py\", line 215, in _make_candidate_from_link\r\n    self._link_candidate_cache[link] = LinkCandidate(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 291, in __init__\r\n    super().__init__(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 161, in __init__\r\n    self.dist = self._prepare()\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 230, in _prepare\r\n    dist = self._prepare_distribution()\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 302, in _prepare_distribution\r\n    return preparer.prepare_linked_requirement(self._ireq, parallel_builds=True)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/operations/prepare.py\", line 428, in prepare_linked_requirement\r\n    return self._prepare_linked_requirement(req, parallel_builds)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/operations/prepare.py\", line 473, in _prepare_linked_requirement\r\n    local_file = unpack_url(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/operations/prepare.py\", line 155, in unpack_url\r\n    file = get_http_url(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/operations/prepare.py\", line 96, in get_http_url\r\n    from_path, content_type = download(link, temp_dir.path)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/network/download.py\", line 146, in __call__\r\n    for chunk in chunks:\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/cli/progress_bars.py\", line 53, in _rich_progress_bar\r\n    for chunk in iterable:\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_internal/network/utils.py\", line 63, in response_chunks\r\n    for chunk in response.raw.stream(\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/urllib3/response.py\", line 573, in stream\r\n    data = self.read(amt=amt, decode_content=decode_content)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/urllib3/response.py\", line 538, in read\r\n    raise IncompleteRead(self._fp_bytes_read, self.length_remaining)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/contextlib.py\", line 131, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.8/site-packages/pip/_vendor/urllib3/response.py\", line 452, in _error_catcher\r\n    raise ProtocolError(\"Connection broken: %r\" % e, e)\r\npip._vendor.urllib3.exceptions.ProtocolError: (\"Connection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer'))\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3418", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3418/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3418/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3418/events", "html_url": "https://github.com/pypa/setuptools/issues/3418", "id": 1286245649, "node_id": "I_kwDOA0bv8c5Mqo0R", "number": 3418, "title": "[BUG] performance after switching to nspektr / importlib_metadata as cratered", "user": {"login": "benoit-pierre", "id": 5104286, "node_id": "MDQ6VXNlcjUxMDQyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5104286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoit-pierre", "html_url": "https://github.com/benoit-pierre", "followers_url": "https://api.github.com/users/benoit-pierre/followers", "following_url": "https://api.github.com/users/benoit-pierre/following{/other_user}", "gists_url": "https://api.github.com/users/benoit-pierre/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoit-pierre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoit-pierre/subscriptions", "organizations_url": "https://api.github.com/users/benoit-pierre/orgs", "repos_url": "https://api.github.com/users/benoit-pierre/repos", "events_url": "https://api.github.com/users/benoit-pierre/events{/privacy}", "received_events_url": "https://api.github.com/users/benoit-pierre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-06-27T19:25:01Z", "updated_at": "2022-07-03T21:10:02Z", "closed_at": "2022-07-03T21:10:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>=60.8.0\n\n### Python version\n\n3.10.5\n\n### OS\n\nArch Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIt's slow...\n\n### Expected behavior\n\nIt's not slow.\n\n### How to Reproduce\n\n```shell\r\n\u25b8 python -m venv venv\r\n\u25b8 . ./venv/bin/activate\r\n\u25b8 python --version\r\nPython 3.10.5\r\n\u25b8 pip install -U pip wheel setuptools\r\nRequirement already satisfied: pip in ./venv/lib/python3.10/site-packages (22.0.4)\r\nCollecting pip\r\n  Using cached pip-22.1.2-py3-none-any.whl (2.1 MB)\r\nCollecting wheel\r\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\r\nCollecting setuptools\r\n  Using cached setuptools-62.6.0-py3-none-any.whl (1.2 MB)\r\nInstalling collected packages: wheel, setuptools, pip\r\n  Attempting uninstall: pip\r\n    Found existing installation: pip 22.0.4\r\n    Uninstalling pip-22.0.4:\r\n      Successfully uninstalled pip-22.0.4\r\nSuccessfully installed pip-22.1.2 setuptools-62.6.0 wheel-0.37.1\r\n\u25b8 wget -q https://files.pythonhosted.org/packages/71/39/171f1c67cd00715f190ba0b100d606d440a28c93c7714febeca8b79af85e/six-1.16.0.tar.gz\r\n\u25b8 tar xf six-1.16.0.tar.gz\r\n\u25b8 cd six-1.16.0\r\n\u25b8 time python setup.py -q bdist_wheel\r\npython setup.py -q bdist_wheel  3.71s user 0.05s system 98% cpu 3.809 total\r\n\u25b8 pip install 'setuptools<60.10.0'\r\nCollecting setuptools<60.10.0\r\n  Downloading setuptools-60.9.3-py3-none-any.whl (1.1 MB)\r\n     \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 1.1/1.1 MB 17.1 MB/s eta 0:00:00\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 62.6.0\r\n    Uninstalling setuptools-62.6.0:\r\n      Successfully uninstalled setuptools-62.6.0\r\nSuccessfully installed setuptools-60.9.3\r\n\u25b8 time python setup.py -q bdist_wheel\r\npython setup.py -q bdist_wheel  1.74s user 0.13s system 98% cpu 1.888 total\r\n\u25b8 pip install 'setuptools<60.8.0'\r\n\u25b8 time python setup.py -q bdist_wheel\r\npython setup.py -q bdist_wheel  0.49s user 0.03s system 99% cpu 0.524 total\r\n```\r\n\n\n### Output\n\n\u2026", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3390", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3390/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3390/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3390/events", "html_url": "https://github.com/pypa/setuptools/issues/3390", "id": 1275842789, "node_id": "I_kwDOA0bv8c5MC9Dl", "number": 3390, "title": "[BUG] Empty setup.py/cfg is not sufficient for editable installs to work with pyproject.toml/PEP 621", "user": {"login": "marktsuchida", "id": 660808, "node_id": "MDQ6VXNlcjY2MDgwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/660808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marktsuchida", "html_url": "https://github.com/marktsuchida", "followers_url": "https://api.github.com/users/marktsuchida/followers", "following_url": "https://api.github.com/users/marktsuchida/following{/other_user}", "gists_url": "https://api.github.com/users/marktsuchida/gists{/gist_id}", "starred_url": "https://api.github.com/users/marktsuchida/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marktsuchida/subscriptions", "organizations_url": "https://api.github.com/users/marktsuchida/orgs", "repos_url": "https://api.github.com/users/marktsuchida/repos", "events_url": "https://api.github.com/users/marktsuchida/events{/privacy}", "received_events_url": "https://api.github.com/users/marktsuchida/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-06-18T17:34:42Z", "updated_at": "2022-06-19T17:25:06Z", "closed_at": "2022-06-19T17:25:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==62.5.0\n\n### Python version\n\nPython 3.9.13\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe documentation [notes](https://github.com/pypa/setuptools/blob/9c7163bc6030e546ba1133de823d0b4ac06a02d9/docs/userguide/pyproject_config.rst) that \"pip still might require a setup.py file to support editable installs\" and shows an example `setup.py` with no configuration.\r\n\r\nHowever, when the package is not in flat-layout (in my case it is in src-layout), having a minimal `setup.py` or empty `setup.cfg` is not enough: `pip install -e .` will install an `egg-link` to the project root directory, which is not where the package is.\r\n\r\nThe workaround of keeping a `setup.cfg` with this minimal config (and no `setup.py`) appears to work:\r\n```ini\r\n[options]\r\npackages =\r\n    my_package\r\npackage_dir =\r\n    = src\r\n```\n\n### Expected behavior\n\nEither the documented method should work, or the documentation should include the additional necessary workaround.\n\n### How to Reproduce\n\nCreate a package with the Python source under `src/` and with `pyproject.toml` containing package metadata.\r\nAdd an empty `setup.cfg` or minimal `setup.py` with no settings.\r\nPerform an editable install with `pip`.\r\nAttempt to import the installed package; this will fail.\r\nInspect the installed `.egg-link` file; it points to the root directory, whereas it should point to `src`.\n\n### Output\n\nSetup:\r\n\r\n```console\r\n$ mkdir my-package\r\n$ cd my-package\r\n$ mkdir -p src/my_package\r\n$ touch src/my_package/__init__.py\r\n$ cat >pyproject.toml <<EOF\r\n+ [build-system]\r\n+ requires = [\"setuptools>=42\"]\r\n+ build-backend = \"setuptools.build_meta\"\r\n+\r\n+ [project]\r\n+ name = \"my-package\"\r\n+ version = \"0.1.0\"\r\n+\r\n+ [tool.setuptools]\r\n+ packages = [\"my_package\"]\r\n+ package-dir = {my_package = \"src/my_package\"}\r\n+ EOF\r\n$ python -m venv venv\r\n$ . venv/bin/activate\r\n```\r\n\r\nI edited out the `(venv) ` from the shell prompt from here on so that highlighting works; otherwise all text is a direct paste.\r\n\r\n```console\r\n$ pip install -U pip setuptools\r\nRequirement already satisfied: pip in ./venv/lib/python3.9/site-packages (22.1.1)\r\nCollecting pip\r\n  Using cached pip-22.1.2-py3-none-any.whl (2.1 MB)\r\nRequirement already satisfied: setuptools in ./venv/lib/python3.9/site-packages (62.3.2)\r\nCollecting setuptools\r\n  Using cached setuptools-62.5.0-py3-none-any.whl (1.2 MB)\r\nInstalling collected packages: setuptools, pip\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 62.3.2\r\n    Uninstalling setuptools-62.3.2:\r\n      Successfully uninstalled setuptools-62.3.2\r\n  Attempting uninstall: pip\r\n    Found existing installation: pip 22.1.1\r\n    Uninstalling pip-22.1.1:\r\n      Successfully uninstalled pip-22.1.1\r\nSuccessfully installed pip-22.1.2 setuptools-62.5.0\r\n```\r\n\r\nTest 1: no `setup.py` or `setup.cfg`; expecting failure:\r\n```console\r\n$ pip install -e .\r\nObtaining file:///private/tmp/my-package\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\nERROR: Project file:///private/tmp/my-package has a 'pyproject.toml' and its build backend is missing the 'build_editable' hook. Since it does not have a 'setup.py' nor a 'setup.cfg', it cannot be installed in editable mode. Consider using a build backend that supports PEP 660.\r\n```\r\n\r\nTest 2: empty `setup.cfg`:\r\n```console\r\n$ touch setup.cfg\r\n$ pip install -e .\r\nObtaining file:///private/tmp/my-package\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: my-package\r\n  Running setup.py develop for my-package\r\nSuccessfully installed my-package-0.1.0\r\n$ cat venv/lib/python3.9/site-packages/my-package.egg-link\r\n/private/tmp/my-package\r\n.$ python -m my_package\r\n/private/tmp/my-package/venv/bin/python3: No module named my_package\r\n```\r\nImport fails due to egg-link pointing to wrong directory.\r\n\r\n```console\r\n$ pip uninstall my-package\r\nFound existing installation: my-package 0.1.0\r\nUninstalling my-package-0.1.0:\r\n  Would remove:\r\n    /private/tmp/my-package/venv/lib/python3.9/site-packages/my-package.egg-link\r\nProceed (Y/n)?\r\n  Successfully uninstalled my-package-0.1.0\r\n$ rm setup.cfg\r\n```\r\n\r\nTest 3: minimal `setup.py`:\r\n```console\r\n$ cat >setup.py <<EOF\r\n+ from setuptools import setup\r\n+ setup()\r\n+ EOF\r\n$ pip install -e .\r\nObtaining file:///private/tmp/my-package\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: my-package\r\n  Running setup.py develop for my-package\r\nSuccessfully installed my-package-0.1.0\r\n$ cat venv/lib/python3.9/site-packages/my-package.egg-link\r\n/private/tmp/my-package\r\n.$ python -m my_package\r\n/private/tmp/my-package/venv/bin/python3: No module named my_package\r\n```\r\nImport fails due to egg-link pointing to wrong directory.\r\n\r\n```console\r\n$ pip uninstall my-package\r\nFound existing installation: my-package 0.1.0\r\nUninstalling my-package-0.1.0:\r\n  Would remove:\r\n    /private/tmp/my-package/venv/lib/python3.9/site-packages/my-package.egg-link\r\nProceed (Y/n)?\r\n  Successfully uninstalled my-package-0.1.0\r\n$ rm setup.py\r\n```\r\n\r\nTest 4: `setup.cfg` with package directory workaround:\r\n```console\r\n$ cat >setup.cfg <<EOF\r\n+ [options]\r\n+ packages =\r\n+     my_package\r\n+ package_dir =\r\n+     = src\r\n+ EOF\r\n$ pip install -e .\r\nObtaining file:///private/tmp/my-package\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: my-package\r\n  Running setup.py develop for my-package\r\nSuccessfully installed my-package-0.1.0\r\n$ cat venv/lib/python3.9/site-packages/my-package.egg-link\r\n/private/tmp/my-package/src\r\n../$ python -m my_package\r\n/private/tmp/my-package/venv/bin/python3: No module named my_package.__main__; 'my_package' is a package and cannot be directly executed\r\n$ python\r\nPython 3.9.13 (main, May 24 2022, 21:13:51)\r\n[Clang 13.1.6 (clang-1316.0.21.2)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import my_package\r\n>>>\r\n$\r\n```\r\nThis worked. The egg-link correctly points to the `src` directory.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3377", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3377/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3377/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3377/events", "html_url": "https://github.com/pypa/setuptools/issues/3377", "id": 1272486508, "node_id": "I_kwDOA0bv8c5L2Jps", "number": 3377, "title": "[BUG] pip editable modules incorrectly installed when `setuptools>=60.0.0`", "user": {"login": "IgnacioHeredia", "id": 16413205, "node_id": "MDQ6VXNlcjE2NDEzMjA1", "avatar_url": "https://avatars.githubusercontent.com/u/16413205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IgnacioHeredia", "html_url": "https://github.com/IgnacioHeredia", "followers_url": "https://api.github.com/users/IgnacioHeredia/followers", "following_url": "https://api.github.com/users/IgnacioHeredia/following{/other_user}", "gists_url": "https://api.github.com/users/IgnacioHeredia/gists{/gist_id}", "starred_url": "https://api.github.com/users/IgnacioHeredia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IgnacioHeredia/subscriptions", "organizations_url": "https://api.github.com/users/IgnacioHeredia/orgs", "repos_url": "https://api.github.com/users/IgnacioHeredia/repos", "events_url": "https://api.github.com/users/IgnacioHeredia/events{/privacy}", "received_events_url": "https://api.github.com/users/IgnacioHeredia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-15T16:40:16Z", "updated_at": "2022-06-15T16:43:46Z", "closed_at": "2022-06-15T16:43:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>=60.0.0\n\n### Python version\n\n3.8.10\n\n### OS\n\nUbuntu 20.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nHi all,\r\n\r\nI found a bug in Ubuntu 20.04 related to pip and setuptools.\r\n\r\nWhen you pip install a Python module in Ubuntu 20.04 in **editable** mode (`-e` flag), the module is not listed in pip. \r\nWhen the module is installed normally (no `-e` flag), everything works as usual, and pip finds the module.\r\n\r\nThis happens because depending on the setuptools version, the module is installed at a different path (and thus not found in the PYTHONPATH in some cases):\r\n\r\n* `setuptools 45.2.0`  works fine\r\nModule installation path: `/usr/local/lib/python3.8/dist-packages/`\r\n```shell\r\n$ python3 -c \"import sys; print(sys.path)\"\r\n['', '/usr/lib/python38.zip', '/usr/lib/python3.8', '/usr/lib/python3.8/lib-dynload', '/usr/local/lib/python3.8/dist-packages', '/samplemod', '/usr/lib/python3/dist-packages']\r\n```\r\n\r\n* `setuptools 62.4.0` breaks\r\nModule installation path: `/usr/lib/python3.8/site-packages/`\r\n```shell\r\n$ python3 -c \"import sys; print(sys.path)\"\r\n['', '/usr/lib/python38.zip', '/usr/lib/python3.8', '/usr/lib/python3.8/lib-dynload', '/usr/local/lib/python3.8/dist-packages', '/usr/lib/python3/dist-packages']\r\n```\r\n\r\n**The last working version** is `setuptools==59.8.0`. Starting from `setuptools==60.0.0` it breaks.\r\nI opened an [issue in pip](https://github.com/pypa/pip/issues/11189) and was forwarded here.\n\n### Expected behavior\n\nThe module should be correctly installed and listed.\r\n```\r\n$ pip3 list -e\r\nPackage Version Editable project location\r\n------- ------- -------------------------\r\nsample  0.1.0   /samplemod\r\n```\n\n### How to Reproduce\n\nI attach a _minimal_ Dockerfile to reproduce the issue.\r\n\r\n```dockerfile\r\nFROM ubuntu:20.04\r\n\r\n# Refresh cache and install packages\r\nRUN DEBIAN_FRONTEND=noninteractive apt-get update && \\\r\n    apt-get install -y --no-install-recommends git\r\n\r\n# Install pip\r\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y python3-pip\r\nRUN pip install --upgrade setuptools  # THIS BREAKS THE INSTALLATION: setuptools 45.2.0 -->  setuptools 62.4.0\r\nRUN pip install --upgrade pip  # pip 20.0.2 -->  pip 22.1.2\r\n\r\n# Install sample Python module in **editable** (-e) mode\r\nRUN git clone https://github.com/navdeep-G/samplemod && \\\r\n    cd  samplemod && \\\r\n    pip install -v -e . && \\\r\n    cd ..\r\n\r\n# Check behaviour\r\nRUN python3 --version\r\nRUN pip --version\r\nRUN pip list -e\r\nRUN python3 -c \"import sys; print(sys.path)\"\r\n```\n\n### Output\n\n* setuptools 45.2.0 :heavy_check_mark:\r\n```\r\nPython 3.8.10\r\npip 22.1.2 from /usr/local/lib/python3.8/dist-packages/pip (python 3.8)\r\n\r\nPip install log:\r\n[...] Creating /usr/local/lib/python3.8/dist-packages/sample.egg-link\r\n\r\n$ pip3 list -e\r\nPackage Version Editable project location\r\n------- ------- -------------------------\r\nsample  0.1.0   /samplemod\r\n```\r\n\r\n*  setuptools 62.4.0 :x:\r\n```\r\nPython 3.8.10\r\npip 22.1.2 from /usr/local/lib/python3.8/dist-packages/pip (python 3.8)\r\n\r\npip install logs:\r\n[...] Creating /usr/lib/python3.8/site-packages/sample.egg-link (link to .)\r\n\r\n$ pip3 list -e\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3350", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3350/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3350/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3350/events", "html_url": "https://github.com/pypa/setuptools/issues/3350", "id": 1265110381, "node_id": "I_kwDOA0bv8c5LaA1t", "number": 3350, "title": "[BUG] Dotfiles are not included as packaga_data unless explicitly listed", "user": {"login": "comabrewer", "id": 21090842, "node_id": "MDQ6VXNlcjIxMDkwODQy", "avatar_url": "https://avatars.githubusercontent.com/u/21090842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comabrewer", "html_url": "https://github.com/comabrewer", "followers_url": "https://api.github.com/users/comabrewer/followers", "following_url": "https://api.github.com/users/comabrewer/following{/other_user}", "gists_url": "https://api.github.com/users/comabrewer/gists{/gist_id}", "starred_url": "https://api.github.com/users/comabrewer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comabrewer/subscriptions", "organizations_url": "https://api.github.com/users/comabrewer/orgs", "repos_url": "https://api.github.com/users/comabrewer/repos", "events_url": "https://api.github.com/users/comabrewer/events{/privacy}", "received_events_url": "https://api.github.com/users/comabrewer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-06-08T18:03:56Z", "updated_at": "2022-06-08T20:38:21Z", "closed_at": "2022-06-08T19:56:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==62.3.3\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nWindows\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nDotfiles (files with a leading `.` like `.gitignore`) are not packaged as datafiles unless they are explicitly listed.\r\n\r\nSo this all works for all non-dotfiles:\r\n```ini\r\n[options.package_data]\r\n* = data/**\r\n```\r\n\r\nOr explicitly listing all levels (single-star):\r\n```ini\r\n[options.package_data]\r\n* = \r\n  data/*\r\n  data/*/*\r\n```\r\n\r\nBut dotfiles have to be added explicitly:\r\n```ini\r\n[options.package_data]\r\n* = \r\n  data/**\r\n  data/.data.txt\r\n```\r\nOr with a special pattern with leading dot in the filename:\r\n```ini\r\n[options.package_data]\r\n* = \r\n  data/**\r\n  data/**/.*\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\nIf I specify patterns for `package_data` (either via single-star or the new double-star glob patterns), I would expect all files to be included.\r\n\r\n### How to Reproduce\r\n\r\nI have the following project structure:\r\n```\r\nexample/\r\n  src/\r\n    example/\r\n      data/\r\n        data.txt\r\n        .data.txt\r\n      __init__.py\r\n  pyproject.toml\r\n  setup.cfg\r\n```\r\n\r\nWith the following setup.cfg:\r\n```ini\r\n[metadata]\r\nname = example\r\nversion = 0.0.0\r\n\r\n[options]\r\npackage_dir =\r\n    = src\r\npackages = find:\r\n\r\n[options.packages.find]\r\nwhere = src\r\n\r\n[options.package_data]\r\n* = data/**\r\n```\r\n\r\nInside a virtual environment, I install the package and list the contents:\r\n\r\n```sh\r\nrm -r build/\r\npip install .\r\nls -al .venv/Lib/site-packages/example/data\r\n```\r\n\r\n\r\n### Output\r\n\r\nOnly `data.txt` is contained, but not `.data.txt`:\r\n```console\r\ndata.txt\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3343", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3343/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3343/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3343/events", "html_url": "https://github.com/pypa/setuptools/issues/3343", "id": 1255531752, "node_id": "I_kwDOA0bv8c5K1eTo", "number": 3343, "title": "build_ext --inplace argument doesn't work when directory has __init__.py", "user": {"login": "williamhCode", "id": 83525937, "node_id": "MDQ6VXNlcjgzNTI1OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/83525937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamhCode", "html_url": "https://github.com/williamhCode", "followers_url": "https://api.github.com/users/williamhCode/followers", "following_url": "https://api.github.com/users/williamhCode/following{/other_user}", "gists_url": "https://api.github.com/users/williamhCode/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamhCode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamhCode/subscriptions", "organizations_url": "https://api.github.com/users/williamhCode/orgs", "repos_url": "https://api.github.com/users/williamhCode/repos", "events_url": "https://api.github.com/users/williamhCode/events{/privacy}", "received_events_url": "https://api.github.com/users/williamhCode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-06-01T09:49:11Z", "updated_at": "2022-06-01T12:50:00Z", "closed_at": "2022-06-01T12:29:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n62.3.2\r\n\r\n### Python version\r\n\r\n3.10.0\r\n\r\n### OS\r\n\r\nmacOS Monterey 12.2\r\n\r\n### Additional environment information\r\n\r\nMacBook Pro (13-inch, M1, 2020)\r\n\r\n### Description\r\n\r\nWhen I use the --inplace argument to build a .pyx file, such as `python setup.py build_ext --inplace` the .so file gets copied to the correct directory only if `__init__.py` doesn't exist.\r\n\r\nFile Structure:\r\n```\r\nengine\r\n\u251c\u2500\u2500 __init__.py\r\n\u251c\u2500\u2500 render.pyx\r\n```\r\n\r\n\r\nTerminal Output:\r\n```\r\nengine \u2717 python setup.py build_ext --inplace\r\n...\r\ncopying build/lib.macosx-11.1-arm64-3.10/engine/render.cpython-310-darwin.so -> engine\r\nerror: could not create 'engine/render.cpython-310-darwin.so': No such file or directory\r\n```\r\n\r\nIt seems like having `__init__.py` makes build_ext point to the directory 'root_directory/engine', even though it doesn't exist.\r\n\r\nWIth  `__init__.py` removed, the last line of the terminal output becomes\r\n```\r\ncopying build/lib.macosx-11.1-arm64-3.10/render.cpython-310-darwin.so -> \r\n```\r\nwhich solves the issue.\r\n\r\n### Expected behavior\r\n\r\nThe terminal should be running\r\n\"copying build/lib.macosx-11.1-arm64-3.10/engine/render.cpython-310-darwin.so ->\"\r\ninstead of \r\n\"copying build/lib.macosx-11.1-arm64-3.10/engine/render.cpython-310-darwin.so -> engine\"\r\n\r\n\r\n### How to Reproduce\r\n\r\n1. `pip install Cython` in your python environment.\r\n2. Create setup.py and cython file (test.pyx) the same directory.\r\n```python\r\n# setup.py\r\nfrom setuptools import setup\r\nfrom Cython.Build import cythonize\r\n\r\nsetup(\r\n    ext_modules=cythonize([\"test.pyx\"]),\r\n)\r\n```\r\n```cython\r\n# test.pyx\r\ndef test():\r\n    print('test')\r\n```\r\n3. Create `__init__.py` file in the same directory\r\n4. Run terminal command `python setup.py build_ext --inplace`\r\n\r\n### Output\r\n\r\n```console\r\ntest \u2717 python setup.py build_ext --inplace\r\nCompiling test.pyx because it changed.\r\n[1/1] Cythonizing test.pyx\r\n/opt/homebrew/Caskroom/miniforge/base/envs/pygame/lib/python3.10/site-packages/Cython/Compiler/Main.py:369: FutureWarning: Cython directive 'language_level' not set, using 2 for now (Py2). This will change in a later release! File: /Users/williamhou/Desktop/test/test.pyx\r\n  tree = Parsing.p_module(s, pxd, full_module_name)\r\nrunning build_ext\r\nbuilding 'test.test' extension\r\ncreating build\r\ncreating build/temp.macosx-11.1-arm64-3.10\r\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O2 -Wall -fPIC -O2 -isystem /opt/homebrew/Caskroom/miniforge/base/envs/pygame/include -arch arm64 -fPIC -O2 -isystem /opt/homebrew/Caskroom/miniforge/base/envs/pygame/include -arch arm64 -I/opt/homebrew/Caskroom/miniforge/base/envs/pygame/include/python3.10 -c test.c -o build/temp.macosx-11.1-arm64-3.10/test.o\r\ncreating build/lib.macosx-11.1-arm64-3.10\r\ncreating build/lib.macosx-11.1-arm64-3.10/test\r\nclang -bundle -undefined dynamic_lookup -Wl,-rpath,/opt/homebrew/Caskroom/miniforge/base/envs/pygame/lib -L/opt/homebrew/Caskroom/miniforge/base/envs/pygame/lib -Wl,-rpath,/opt/homebrew/Caskroom/miniforge/base/envs/pygame/lib -L/opt/homebrew/Caskroom/miniforge/base/envs/pygame/lib build/temp.macosx-11.1-arm64-3.10/test.o -o build/lib.macosx-11.1-arm64-3.10/test/test.cpython-310-darwin.so\r\ncopying build/lib.macosx-11.1-arm64-3.10/test/test.cpython-310-darwin.so -> test\r\nerror: could not create 'test/test.cpython-310-darwin.so': No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3320", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3320/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3320/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3320/events", "html_url": "https://github.com/pypa/setuptools/issues/3320", "id": 1237885059, "node_id": "I_kwDOA0bv8c5JyKCD", "number": 3320, "title": "[BUG] namespace_packages deprecation warning: TypeError: expected string or bytes-like object", "user": {"login": "emlys", "id": 43770515, "node_id": "MDQ6VXNlcjQzNzcwNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/43770515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emlys", "html_url": "https://github.com/emlys", "followers_url": "https://api.github.com/users/emlys/followers", "following_url": "https://api.github.com/users/emlys/following{/other_user}", "gists_url": "https://api.github.com/users/emlys/gists{/gist_id}", "starred_url": "https://api.github.com/users/emlys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emlys/subscriptions", "organizations_url": "https://api.github.com/users/emlys/orgs", "repos_url": "https://api.github.com/users/emlys/repos", "events_url": "https://api.github.com/users/emlys/events{/privacy}", "received_events_url": "https://api.github.com/users/emlys/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-17T00:16:17Z", "updated_at": "2022-05-17T06:57:03Z", "closed_at": "2022-05-17T06:48:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.3.0\n\n### Python version\n\n3.10\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nCalling the `setup` function of a package using the `namespace_packages` parameter raises an error rather than the expected `SetuptoolsDeprecationWarning`.\r\n\r\nhttps://github.com/pypa/setuptools/blob/1b7642be56c767bf064c2d0ab1bbd16f8ca3be38/setuptools/dist.py#L283-L287\r\nraises a `TypeError: expected string or bytes-like object` on line 287 because `msg` is a tuple.\n\n### Expected behavior\n\nI expect a `SetuptoolsDeprecationWarning` to be raised, not an error.\n\n### How to Reproduce\n\n`python -m build --wheel` on a package that is using the deprecated `namespace_packages` option.\n\n### Output\n\n```console\r\n$ python -m build --wheel\r\n* Creating virtualenv isolated environment...\r\n* Installing packages in isolated environment... (babel, cython, numpy==1.17.3; python_version==\"3.8\", numpy==1.19.3; python_version==\"3.9\", numpy==1.21.3; python_version==\"3.10\", setuptools>=45, setuptools_scm>=6.4.0, wheel)\r\n* Getting dependencies for wheel...\r\nTraceback (most recent call last):\r\n  File \"/Users/emily/miniconda3/envs/main/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\r\n    main()\r\n  File \"/Users/emily/miniconda3/envs/main/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 345, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/Users/emily/miniconda3/envs/main/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n    return hook(config_settings)\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/build_meta.py\", line 177, in get_requires_for_build_wheel\r\n    return self._get_build_requires(\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 65, in <module>\r\n    setup(\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 109, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/dist.py\", line 477, in __init__\r\n    _Distribution.__init__(\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 293, in __init__\r\n    self.finalize_options()\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/dist.py\", line 901, in finalize_options\r\n    ep(self)\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/dist.py\", line 922, in _finalize_setup_keywords\r\n    ep.load()(self, ep.name, value)\r\n  File \"/private/var/folders/zh/dy02ljyd4mj5_nfm158hwcr00000gn/T/build-env-sif8cxfe/lib/python3.10/site-packages/setuptools/dist.py\", line 287, in check_nsp\r\n    warnings.warn(msg, SetuptoolsDeprecationWarning)\r\nTypeError: expected string or bytes-like object\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_wheel\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3319", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3319/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3319/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3319/events", "html_url": "https://github.com/pypa/setuptools/issues/3319", "id": 1237548986, "node_id": "I_kwDOA0bv8c5Jw3-6", "number": 3319, "title": "[BUG] Setuptools crashes when implementing `find_distributions` in a custom Finder in python 3.8", "user": {"login": "konstin", "id": 6826232, "node_id": "MDQ6VXNlcjY4MjYyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/6826232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konstin", "html_url": "https://github.com/konstin", "followers_url": "https://api.github.com/users/konstin/followers", "following_url": "https://api.github.com/users/konstin/following{/other_user}", "gists_url": "https://api.github.com/users/konstin/gists{/gist_id}", "starred_url": "https://api.github.com/users/konstin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konstin/subscriptions", "organizations_url": "https://api.github.com/users/konstin/orgs", "repos_url": "https://api.github.com/users/konstin/repos", "events_url": "https://api.github.com/users/konstin/events{/privacy}", "received_events_url": "https://api.github.com/users/konstin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-05-16T18:33:31Z", "updated_at": "2023-02-21T21:08:45Z", "closed_at": "2023-02-21T18:20:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==62.2.0\n\n### Python version\n\n3.8\n\n### OS\n\nUbuntu 20.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen implementing `find_distributions` on a custom Finder, setuptools crashes because it expects the returned `PathDistribution` instances to have attributes only present in its vendored importlib_metadata but not in python 3.8's importlib.metadata.\r\n\r\nSee https://github.com/konstin/setuptools-reproducer:\r\n\r\n```bash\r\nvirtualenv -p 3.8 .venv\r\n.venv/bin/pip install -r requirements.txt # pinned versions of setuptools and virtualenv\r\n.venv/bin/python main.py\r\n```\r\n\r\n```python\r\nimport sys\r\nfrom importlib.abc import MetaPathFinder\r\nfrom importlib.machinery import PathFinder, ModuleSpec\r\nfrom importlib.metadata import DistributionFinder, PathDistribution\r\nfrom importlib.util import spec_from_file_location\r\nfrom pathlib import Path\r\n\r\nfrom typing import Iterable, Optional\r\n\r\n\r\nclass CustomFinder(PathFinder, MetaPathFinder):\r\n    \"\"\"As example, we load tqdm from a custom location\"\"\"\r\n\r\n    tqdm_folder = Path(__file__).parent.joinpath(\"tqdm_folder\")\r\n\r\n    def find_spec(self, fullname, path=None, target=None) -> Optional[ModuleSpec]:\r\n        if fullname == \"tqdm\":\r\n            init_py = self.tqdm_folder.joinpath(\"tqdm\").joinpath(\"__init__.py\")\r\n            return spec_from_file_location(fullname, init_py)\r\n\r\n    def find_distributions(\r\n        self, context: DistributionFinder.Context = ...\r\n    ) -> Iterable[PathDistribution]:\r\n        dist_info = self.tqdm_folder.joinpath(\"tqdm_folder\").joinpath(\r\n            \"tqdm-4.64.0.dist-info\"\r\n        )\r\n        # Here, we return a normal python3.8 importlib.metadata.PathDistribution\r\n        return iter([PathDistribution(dist_info)])\r\n\r\n\r\nsys.meta_path.append(CustomFinder())\r\n\r\n# this works - we successfully made tqdm importable\r\n# noinspection PyUnresolvedReferences\r\nimport tqdm\r\nprint(tqdm.__version__)\r\n# this doesn't\r\n# noinspection PyUnresolvedReferences\r\nimport virtualenv\r\nprint(virtualenv.__version__)\r\n```\r\n\r\nLatest main is also affected\n\n### Expected behavior\n\nsetuptools accepts `importlib.metadata.PathDistribution` instances.\n\n### How to Reproduce\n\nSee https://github.com/konstin/setuptools-reproducer `reproduce.sh`\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 39, in <module>\r\n    import virtualenv\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/__init__.py\", line 3, in <module>\r\n    from .run import cli_run, session_via_cli\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/run/__init__.py\", line 14, in <module>\r\n    from .plugin.creators import CreatorSelector\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/run/plugin/creators.py\", line 6, in <module>\r\n    from virtualenv.create.via_global_ref.builtin.builtin_way import VirtualenvBuiltin\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py\", line 7, in <module>\r\n    from virtualenv.create.creator import Creator\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/create/creator.py\", line 15, in <module>\r\n    from virtualenv.discovery.cached_py_info import LogCmd\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/discovery/cached_py_info.py\", line 23, in <module>\r\n    _CACHE[Path(sys.executable)] = PythonInfo()\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/discovery/py_info.py\", line 86, in __init__\r\n    self.distutils_install = {u(k): u(v) for k, v in self._distutils_install().items()}\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/virtualenv/discovery/py_info.py\", line 152, in _distutils_install\r\n    d = dist.Distribution({\"script_args\": \"--no-user-cfg\"})  # conf files not parsed so they do not hijack paths\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/setuptools/dist.py\", line 470, in __init__\r\n    for ep in metadata.entry_points(group='distutils.setup_keywords'):\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 999, in entry_points\r\n    return SelectableGroups.load(eps).select(**params)\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 449, in load\r\n    ordered = sorted(eps, key=by_group)\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 996, in <genexpr>\r\n    eps = itertools.chain.from_iterable(\r\n  File \"/home/konsti/setuptools-reproducer/.venv/lib/python3.8/site-packages/setuptools/_vendor/importlib_metadata/_itertools.py\", line 16, in unique_everseen\r\n    k = key(element)\r\nAttributeError: 'PathDistribution' object has no attribute '_normalized_name'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3314", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3314/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3314/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3314/events", "html_url": "https://github.com/pypa/setuptools/issues/3314", "id": 1233548993, "node_id": "I_kwDOA0bv8c5JhnbB", "number": 3314, "title": "[BUG] cgi module is deprecated since Python 3.11.0b1", "user": {"login": "hrnciar", "id": 13086088, "node_id": "MDQ6VXNlcjEzMDg2MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13086088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrnciar", "html_url": "https://github.com/hrnciar", "followers_url": "https://api.github.com/users/hrnciar/followers", "following_url": "https://api.github.com/users/hrnciar/following{/other_user}", "gists_url": "https://api.github.com/users/hrnciar/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrnciar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrnciar/subscriptions", "organizations_url": "https://api.github.com/users/hrnciar/orgs", "repos_url": "https://api.github.com/users/hrnciar/repos", "events_url": "https://api.github.com/users/hrnciar/events{/privacy}", "received_events_url": "https://api.github.com/users/hrnciar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-12T07:14:21Z", "updated_at": "2022-05-12T11:28:55Z", "closed_at": "2022-05-12T11:28:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3\n\n### Python version\n\n3.11.0b1\n\n### OS\n\nFedora Rawhide\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nSetuptools doesn't build with Python 3.11.0b1 due to DeprecationWarning.\n\n### Expected behavior\n\nSetuptools builds with Python 3.11.0b1.\n\n### How to Reproduce\n\nBuild setuptools with Python 3.11.\n\n### Output\n\n```console\r\n\r\n=================================== FAILURES ===================================\r\n_____________________ TestSphinxUploadDocs.test_sphinx_doc _____________________\r\n\r\nself = <setuptools.tests.test_sphinx_upload_docs.TestSphinxUploadDocs object at 0x7f6ca15ad550>\r\n\r\n    def test_sphinx_doc(self):\r\n        params = dict(\r\n            packages=['test'],\r\n        )\r\n        dist = Distribution(params)\r\n    \r\n        cmd = upload_docs(dist)\r\n    \r\n        cmd.initialize_options()\r\n        assert cmd.upload_dir is None\r\n        assert cmd.has_sphinx() is True\r\n>       cmd.finalize_options()\r\n\r\n/builddir/build/BUILD/setuptools-60.9.3/setuptools/tests/test_sphinx_upload_docs.py:37: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/builddir/build/BUILD/setuptools-60.9.3/setuptools/command/upload_docs.py:63: in finalize_options\r\n    build_sphinx = self.get_finalized_command('build_sphinx')\r\n/builddir/build/BUILD/setuptools-60.9.3/setuptools/_distutils/cmd.py:298: in get_finalized_command\r\n    cmd_obj = self.distribution.get_command_obj(command, create)\r\n/builddir/build/BUILD/setuptools-60.9.3/setuptools/_distutils/dist.py:858: in get_command_obj\r\n    klass = self.get_command_class(command)\r\n/builddir/build/BUILD/setuptools-60.9.3/setuptools/dist.py:931: in get_command_class\r\n    self.cmdclass[command] = cmdclass = ep.load()\r\n/usr/lib64/python3.11/importlib/metadata/__init__.py:198: in load\r\n    module = import_module(match.group('module'))\r\n/usr/lib64/python3.11/importlib/__init__.py:126: in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n<frozen importlib._bootstrap>:1206: in _gcd_import\r\n    ???\r\n<frozen importlib._bootstrap>:1178: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:1149: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:690: in _load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap_external>:939: in exec_module\r\n    ???\r\n<frozen importlib._bootstrap>:241: in _call_with_frames_removed\r\n    ???\r\n/usr/lib/python3.11/site-packages/sphinx/setup_command.py:13: in <module>\r\n    from sphinx.application import Sphinx\r\n/usr/lib/python3.11/site-packages/sphinx/application.py:24: in <module>\r\n    from sphinx.config import Config\r\n/usr/lib/python3.11/site-packages/sphinx/config.py:14: in <module>\r\n    from sphinx.util.i18n import format_date\r\n/usr/lib/python3.11/site-packages/sphinx/util/i18n.py:10: in <module>\r\n    from babel.messages.mofile import write_mo\r\n/usr/lib/python3.11/site-packages/babel/messages/__init__.py:12: in <module>\r\n    from babel.messages.catalog import *\r\n/usr/lib/python3.11/site-packages/babel/messages/catalog.py:14: in <module>\r\n    from cgi import parse_header\r\n/usr/lib64/python3.11/cgi.py:57: in <module>\r\n    warnings._deprecated(__name__, remove=(3,13))\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'cgi'\r\nmessage = '{name!r} is deprecated and slated for removal in Python {remove}'\r\n\r\n    def _deprecated(name, message=_DEPRECATED_MSG, *, remove, _version=sys.version_info):\r\n        \"\"\"Warn that *name* is deprecated or should be removed.\r\n    \r\n        RuntimeError is raised if *remove* specifies a major/minor tuple older than\r\n        the current Python version or the same version but past the alpha.\r\n    \r\n        The *message* argument is formatted with *name* and *remove* as a Python\r\n        version (e.g. \"3.11\").\r\n    \r\n        \"\"\"\r\n        remove_formatted = f\"{remove[0]}.{remove[1]}\"\r\n        if (_version[:2] > remove) or (_version[:2] == remove and _version[3] != \"alpha\"):\r\n            msg = f\"{name!r} was slated for removal after Python {remove_formatted} alpha\"\r\n            raise RuntimeError(msg)\r\n        else:\r\n            msg = message.format(name=name, remove=remove_formatted)\r\n>           warn(msg, DeprecationWarning, stacklevel=3)\r\nE           DeprecationWarning: 'cgi' is deprecated and slated for removal in Python 3.13\r\n\r\n/usr/lib64/python3.11/warnings.py:514: DeprecationWarning\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3312", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3312/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3312/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3312/events", "html_url": "https://github.com/pypa/setuptools/issues/3312", "id": 1230102517, "node_id": "I_kwDOA0bv8c5JUd_1", "number": 3312, "title": "[BUG] ", "user": {"login": "tdene", "id": 34819528, "node_id": "MDQ6VXNlcjM0ODE5NTI4", "avatar_url": "https://avatars.githubusercontent.com/u/34819528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdene", "html_url": "https://github.com/tdene", "followers_url": "https://api.github.com/users/tdene/followers", "following_url": "https://api.github.com/users/tdene/following{/other_user}", "gists_url": "https://api.github.com/users/tdene/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdene/subscriptions", "organizations_url": "https://api.github.com/users/tdene/orgs", "repos_url": "https://api.github.com/users/tdene/repos", "events_url": "https://api.github.com/users/tdene/events{/privacy}", "received_events_url": "https://api.github.com/users/tdene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-09T18:36:47Z", "updated_at": "2022-05-11T12:38:03Z", "closed_at": "2022-05-11T12:37:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n45.2.0\r\n\r\n### Python version\r\n\r\nPython 3.8.10\r\n\r\n### OS\r\n\r\nUbuntu\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nsetuptools chooses to not install `__init__.py` files other than the main package's.\r\n\r\nThis is a documented choice, which I could find as far back as #1097\r\n\r\nThis leads to problematic and inconsistent behavior when combined with `importlib.resources`, as can be seen in [this small test repository](https://github.com/tdene/setuptools_issue).\r\n\r\nSpecifically, `importlib.resources.path` refuses to recognize submodules such as `issue_test.test_data` when they are automatically installed, because there is no `__init__.py` file present.\r\n\r\nHowever, manually installing packages (whether by `pip -e` or by manual file copying) does not show this issue, instead working as expected.\r\n\r\n### Expected behavior\r\n\r\nsetuptools's choice to not install `__init__.py` files other than the main package's should play nice with `importlib.resources.path`?\r\n\r\nOr maybe I am just trying something that is unorthodox and should not be allowed. It is unclear which of these is the case.\r\n\r\n### How to Reproduce\r\n\r\n1. Observe the minimal setup required to reproduce this issue that can be found [here](https://github.com/tdene/setuptools_issue)\r\n2. Clone the Python package in question\r\n3. Install it with `pip install -e .`\r\n4. Run `python3 -c \"from issue_test import test; test.pkg_test();\"` and note the lack of an issue.\r\n5. Uninstall it with `pip uninstall issue_test`\r\n6. Re-install it with `pip install .`\r\n7. Run `python3 -c \"from issue_test import test; test.pkg_test();\"` and note the presence of an issue.\r\n\r\n### Output\r\n\r\n```\r\ntdene@tdene-home:~/data/setuptools_issue$ pip install -e .\r\nDefaulting to user installation because normal site-packages is not writeable\r\nObtaining file:///home/tdene/data/setuptools_issue\r\n  Preparing metadata (setup.py) ... done\r\nInstalling collected packages: issue-test\r\n  Running setup.py develop for issue-test\r\nSuccessfully installed issue-test-0.0.0\r\ntdene@tdene-home:~/data/setuptools_issue$ python3 -c \"from issue_test import test; test.pkg_test();\"\r\nSuccessful\r\ntdene@tdene-home:~/data/setuptools_issue$ pip uninstall issue_test\r\nFound existing installation: issue-test 0.0.0\r\nUninstalling issue-test-0.0.0:\r\n  Would remove:\r\n    /home/tdene/.local/lib/python3.8/site-packages/issue-test.egg-link\r\nProceed (Y/n)? y\r\n  Successfully uninstalled issue-test-0.0.0\r\ntdene@tdene-home:~/data/setuptools_issue$ pip install .\r\nDefaulting to user installation because normal site-packages is not writeable\r\nProcessing /home/tdene/data/setuptools_issue\r\n  Preparing metadata (setup.py) ... done\r\nBuilding wheels for collected packages: issue-test\r\n  Building wheel for issue-test (setup.py) ... done\r\n  Created wheel for issue-test: filename=issue_test-0.0.0-py3-none-any.whl size=1522 sha256=e854f6fd87c3c8f706691680c0e96c9c139da65c9539bf5a29e5d037c2cb4a2d\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-91we3hy5/wheels/c7/e6/aa/a632c5a16c3bc5f24c9bc49ab085af5e5dd822029feb2ee3ad\r\nSuccessfully built issue-test\r\nInstalling collected packages: issue-test\r\nSuccessfully installed issue-test-0.0.0\r\ntdene@tdene-home:~/data/setuptools_issue$ python3 -c \"from issue_test import test; test.pkg_test();\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/tdene/.local/lib/python3.8/site-packages/issue_test/test.py\", line 4, in pkg_test\r\n    with importlib.resources.path(\"issue_test.test_data\",\"data.txt\") as pkg_file:\r\n  File \"/usr/lib/python3.8/contextlib.py\", line 113, in __enter__\r\n    return next(self.gen)\r\n  File \"/usr/lib/python3.8/importlib/resources.py\", line 184, in path\r\n    package = _get_package(package)\r\n  File \"/usr/lib/python3.8/importlib/resources.py\", line 47, in _get_package\r\n    module = import_module(package)\r\n  File \"/usr/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 973, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'issue_test.test_data'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3302", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3302/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3302/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3302/events", "html_url": "https://github.com/pypa/setuptools/issues/3302", "id": 1222923141, "node_id": "I_kwDOA0bv8c5I5FOF", "number": 3302, "title": "[BUG] find_library_file doesn't find Cygwin import libraries or DLLs", "user": {"login": "DWesl", "id": 22566757, "node_id": "MDQ6VXNlcjIyNTY2NzU3", "avatar_url": "https://avatars.githubusercontent.com/u/22566757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DWesl", "html_url": "https://github.com/DWesl", "followers_url": "https://api.github.com/users/DWesl/followers", "following_url": "https://api.github.com/users/DWesl/following{/other_user}", "gists_url": "https://api.github.com/users/DWesl/gists{/gist_id}", "starred_url": "https://api.github.com/users/DWesl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DWesl/subscriptions", "organizations_url": "https://api.github.com/users/DWesl/orgs", "repos_url": "https://api.github.com/users/DWesl/repos", "events_url": "https://api.github.com/users/DWesl/events{/privacy}", "received_events_url": "https://api.github.com/users/DWesl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-02T13:57:36Z", "updated_at": "2022-06-26T15:09:19Z", "closed_at": "2022-06-26T15:09:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==62.1.0, 61.3.1, 60.10.0\n\n### Python version\n\nPython 3.8 (and 3.7, I think)\n\n### OS\n\n32-bit and 64-bit Cygwin 3.4.4 on Windows 10\n\n### Additional environment information\n\n[Cygwin library naming scheme](https://www.cygwin.com/cygwin-ug-net/dll.html):\r\n- Shared library/DLL name: `cyg${name}.dll`\r\n- Static library: `lib${name}.a`\r\n- Import library: `lib${name}.dll.a`\r\n\r\nGCC looks for the import library or static library at link time.  The import library redirects calls in the resulting executable or library to the corresponding functions in the DLL.  The result will require the DLL at runtime, and the DLL must have execute permissions.\r\n\r\nI think this is similar to how `.lib` and `.dll` library files function on native Windows targets.\n\n### Description\n\nFollowing up on python-pillow/pillow#6216:\r\n\r\nAttempting to run `python setup.py build_ext` in Pillow's main directory fails because Pillow can't find jpeg.  Downgrading setuptools to version 59.8.0 and running the same command again runs to completion.\r\n\n\n### Expected behavior\n\nRunning under python 3.8 with setuptools 59.8.0:\r\n```pycon\r\n>>> from distutils.cygwinccompiler import CygwinCCompiler\r\n>>> comp = CygwinCCompiler()\r\ndllwrap: WARNING: dllwrap is deprecated, use gcc -shared or ld -shared instead\r\n\r\n>>> comp.find_library_file([\"/usr/lib\"], \"uuid\")\r\n'/usr/lib/libuuid.dll.a'\r\n```\n\n### How to Reproduce\n\nRunning under python 3.8 with setuptools 62.1.0):\r\n```pycon\r\n>>> from setuptools._distutils.cygwinccompiler import CygwinCCompiler\r\n>>> comp = CygwinCCompiler()\r\n>>> comp.find_library_file([\"/usr/lib\"], \"uuid\")\r\n>>> import os.path\r\n>>> os.path.exists(\"/usr/lib/libuuid.dll.a\")\r\nTrue\r\n```\n\n### Output\n\n```console\r\n$ python3.8 -m pip install -U pip 'setuptools<60' wheel\r\nDefaulting to user installation because normal site-packages is not writeable\r\nRequirement already satisfied: pip in ./.local/lib/python3.8/site-packages (22.0.4)\r\nCollecting setuptools<60\r\n  Using cached setuptools-59.8.0-py3-none-any.whl (952 kB)\r\nRequirement already satisfied: wheel in ./.local/lib/python3.8/site-packages (0.37.1)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 62.1.0\r\n    Uninstalling setuptools-62.1.0:\r\n      Successfully uninstalled setuptools-62.1.0\r\nSuccessfully installed setuptools-59.8.0\r\n\r\n$ python3.8\r\nPython 3.8.12 (default, Nov 24 2021, 12:34:46)\r\n[GCC 11.2.0] on cygwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from distutils.cygwinccompiler import CygwinCCompiler\r\n>>> comp = CygwinCCompiler()\r\ndllwrap: WARNING: dllwrap is deprecated, use gcc -shared or ld -shared instead\r\n\r\n>>> comp.find_library_file([\"/usr/lib\"], \"uuid\")\r\n'/usr/lib/libuuid.dll.a'\r\n>>>\r\n\r\n$ python3.8 -m pip install -U pip 'setuptools' wheel                            \r\nDefaulting to user installation because normal site-packages is not writeable\r\nRequirement already satisfied: pip in ./.local/lib/python3.8/site-packages (22.0.4)\r\nRequirement already satisfied: setuptools in ./.local/lib/python3.8/site-packages (59.8.0)\r\nCollecting setuptools\r\n  Using cached setuptools-62.1.0-py3-none-any.whl (1.1 MB)\r\nRequirement already satisfied: wheel in ./.local/lib/python3.8/site-packages (0.37.1)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 59.8.0\r\n    Uninstalling setuptools-59.8.0:\r\n      Successfully uninstalled setuptools-59.8.0\r\nSuccessfully installed setuptools-62.1.0\r\n\r\n$ python3.8\r\nPython 3.8.12 (default, Nov 24 2021, 12:34:46)\r\n[GCC 11.2.0] on cygwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from distutils.cygwinccompiler import CygwinCCompiler\r\n>>> comp = CygwinCCompiler()\r\n>>> comp.find_library_file([\"/usr/lib\"], \"uuid\")\r\n>>>\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3300", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3300/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3300/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3300/events", "html_url": "https://github.com/pypa/setuptools/issues/3300", "id": 1222060959, "node_id": "I_kwDOA0bv8c5I1yuf", "number": 3300, "title": "[BUG] PEP 631 TOMLs can conflict with deprecated configuration files", "user": {"login": "nullableVoidPtr", "id": 30564701, "node_id": "MDQ6VXNlcjMwNTY0NzAx", "avatar_url": "https://avatars.githubusercontent.com/u/30564701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nullableVoidPtr", "html_url": "https://github.com/nullableVoidPtr", "followers_url": "https://api.github.com/users/nullableVoidPtr/followers", "following_url": "https://api.github.com/users/nullableVoidPtr/following{/other_user}", "gists_url": "https://api.github.com/users/nullableVoidPtr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nullableVoidPtr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nullableVoidPtr/subscriptions", "organizations_url": "https://api.github.com/users/nullableVoidPtr/orgs", "repos_url": "https://api.github.com/users/nullableVoidPtr/repos", "events_url": "https://api.github.com/users/nullableVoidPtr/events{/privacy}", "received_events_url": "https://api.github.com/users/nullableVoidPtr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-01T07:53:19Z", "updated_at": "2022-05-16T17:33:27Z", "closed_at": "2022-05-16T17:33:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==62.1.0\r\n\r\n### Python version\r\n\r\nPython 3.10.4\r\n\r\n### OS\r\n\r\nArch Linux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nA package with PEP 621/631 compliant `pyproject.toml` and the `build_meta` backend may have its metadata and other configuration information overlaid with other information from `setup.py` or `setup.cfg` (which may be retained for fallback with `--no-use-pep517` while setuptools transitions to a stable PEP 517 implementation by default).\r\n\r\nOne cause is this [helper function](https://github.com/pypa/setuptools/blob/ddb8844eac49e0bf3b4f20067b425ffeac1531a2/setuptools/build_meta.py#L115) which guarantees that the \"fallback\" `setup.py` would be called even if `pyproject.toml` is fully defined.\r\n\r\n### Expected behavior\r\n\r\nI expected setuptools to identify that `pyproject.toml` has the `project` and `dependencies` table, and would further ignore other configuration files (though I may be disregarding the value/use of dynamic fields with this expectation).\r\n\r\n### How to Reproduce\r\n\r\n1. `pip install setuptools wheel build`\r\n2. `git clone https://gist.github.com/nullableVoidPtr/d3f528136eff5c0e827ee98fd75da9dd`\r\n3. `python -m build`\r\n4. `cat project.egg-info/requires.txt`\r\n\r\n### Output\r\n\r\n```console\r\nclick\r\nwheel\r\nclick\r\n```\r\nThere is a duplication of the dependency `click` and the inclusion of `wheel` which was only included in `setup.cfg`.\r\n(Side note: the discrepancy in dependencies between `pyproject.toml` and `setup.py` is highly unlikely in actual packages, but is used to illustrate the issue here).\r\nThere was no warnings relating to the conflict observed in the output of `python -m build`.\r\n\r\nNote that this also works with `setup.cfg` (replacing `setup.py`) with the following:\r\n```ini\r\n[options]\r\ninstall_requires =\r\n    click\r\n    wheel\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3298", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3298/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3298/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3298/events", "html_url": "https://github.com/pypa/setuptools/issues/3298", "id": 1221656104, "node_id": "I_kwDOA0bv8c5I0P4o", "number": 3298, "title": "[BUG] cyclical dependencies cause egg_info to hang in specific circumstances", "user": {"login": "BrandonWiebe", "id": 37316036, "node_id": "MDQ6VXNlcjM3MzE2MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/37316036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BrandonWiebe", "html_url": "https://github.com/BrandonWiebe", "followers_url": "https://api.github.com/users/BrandonWiebe/followers", "following_url": "https://api.github.com/users/BrandonWiebe/following{/other_user}", "gists_url": "https://api.github.com/users/BrandonWiebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/BrandonWiebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BrandonWiebe/subscriptions", "organizations_url": "https://api.github.com/users/BrandonWiebe/orgs", "repos_url": "https://api.github.com/users/BrandonWiebe/repos", "events_url": "https://api.github.com/users/BrandonWiebe/events{/privacy}", "received_events_url": "https://api.github.com/users/BrandonWiebe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-29T23:30:52Z", "updated_at": "2023-02-23T00:54:12Z", "closed_at": "2023-02-21T11:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools >= 60.10.0\n\n### Python version\n\nPython 3.7, Python 3.9\n\n### OS\n\nCentOS 7, Windows 10\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI tried installing a package into a venv that contains a custom `egg_info.writers` entry point. That entry point's dependencies turned out to be cyclical, which caused the `egg_info` step of the package I was installing to hang indefinitely.\n\n### Expected behavior\n\nI have installed this package this package into environments with versions of setuptools < 60.10.0 and it always installs in just a few seconds.\n\n### How to Reproduce\n\nThis issue seems to only crop up under a very specific set of odd circumstances, but this is the simplest way I've found to reproduce it.\r\n\r\n1. Create the following two toy packages that depend on each other:\r\n```python\r\n# Contents of foo/setup.py\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    name=\"foo\",\r\n    install_requires=[\"bar\"],\r\n    entry_points={\r\n        \"egg_info.writers\": [\r\n            \"foo.txt = setuptools.command.egg_info:write_arg\",\r\n        ],\r\n    },\r\n)\r\n```\r\n\r\n```python\r\n# Contents of bar/setup.py\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    name=\"bar\",\r\n    install_requires=[\"foo\"]\r\n)\r\n```\r\n\r\n2. `pip install --no-deps foo` into a venv containing setuptools >= 60.10.0\r\n3. Run `python setup.py egg_info` in the `bar` directory, and it will hang.\n\n### Output\n\n```console\r\n[-bash-5.1]$ tree\r\n.\r\n\u251c\u2500\u2500 bar\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 setup.py\r\n\u2514\u2500\u2500 foo\r\n    \u2514\u2500\u2500 setup.py\r\n\r\n2 directories, 2 files\r\n[-bash-5.1]$ python3 -m venv .venv\r\n[-bash-5.1]$ source .venv/bin/activate\r\n(.venv) [-bash-5.1]$ pip install --upgrade setuptools\r\nRequirement already satisfied: setuptools in ./.venv/lib/python3.9/site-packages (44.1.1)\r\nCollecting setuptools\r\n  Using cached setuptools-62.1.0-py3-none-any.whl (1.1 MB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 44.1.1\r\n    Uninstalling setuptools-44.1.1:\r\n      Successfully uninstalled setuptools-44.1.1\r\nSuccessfully installed setuptools-62.1.0\r\n(.venv) [-bash-5.1]$ pip install --no-deps ./foo\r\nProcessing ./foo\r\nUsing legacy 'setup.py install' for foo, since package 'wheel' is not installed.\r\nInstalling collected packages: foo\r\n    Running setup.py install for foo ... done\r\nSuccessfully installed foo-0.0.0\r\n(.venv) [-bash-5.1]$ cd bar\r\n(.venv) [-bash-5.1]$ python setup.py egg_info\r\nrunning egg_info\r\ncreating bar.egg-info\r\nwriting bar.egg-info/PKG-INFO\r\nwriting dependency_links to bar.egg-info/dependency_links.txt\r\nwriting requirements to bar.egg-info/requires.txt\r\nwriting top-level names to bar.egg-info/top_level.txt\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3298/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3293", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3293/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3293/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3293/events", "html_url": "https://github.com/pypa/setuptools/issues/3293", "id": 1218369198, "node_id": "I_kwDOA0bv8c5Intau", "number": 3293, "title": "[BUG] `AttributeError: 'str' object has no attribute 'name'` with setuptools 60.9.1+", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-28T08:16:40Z", "updated_at": "2022-05-16T12:24:13Z", "closed_at": "2022-05-16T12:24:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n`setuptools==62.1.0` (however the earliest affected version is `setuptools==60.9.1`)\r\n\r\n### Python version\r\n\r\nPython 3.9 (though 3.7 and 3.8 are also affected)\r\n\r\n### OS\r\n\r\nDocker image `python:3.9.12` which is Debian 11 (it also occurs on Ubuntu on Heroku)\r\n\r\n### Additional environment information\r\n\r\n```\r\nimportlib-metadata==0.20\r\n```\r\n\r\n### Description\r\n\r\nBetween setuptools 60.9.0 and 60.9.1, a previously working project now encounters an error during the `python setup.py egg_info` phase of `pip install`:\r\n\r\n```\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [22 lines of output]\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 14, in <module>\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/__init__.py\", line 18, in <module>\r\n          from setuptools.dist import Distribution\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/dist.py\", line 35, in <module>\r\n          from ._importlib import metadata\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_importlib.py\", line 28, in <module>\r\n          disable_importlib_metadata_finder(metadata)\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_importlib.py\", line 12, in disable_importlib_metadata_finder\r\n          import importlib_metadata\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 490, in <module>\r\n          __version__ = version(__name__)\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 457, in version\r\n          return distribution(package).version\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 430, in distribution\r\n          return Distribution.from_name(package)\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 179, in from_name\r\n          dists = resolver(name)\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 886, in find_distributions\r\n          found = self._search_paths(context.name, context.path)\r\n      AttributeError: 'str' object has no attribute 'name'\r\n```\r\n\r\nThe changes between those two setuptools versions are:\r\nhttps://github.com/pypa/setuptools/compare/v60.9.0...v60.9.1\r\n\r\nIn addition to the workaround of downgrading setuptools to `60.9.0`, I also found that making any of the following changes prevents the error from occurring:\r\n- Upgrading Python to 3.10 (it only seems to affect <=3.9)\r\n- Upgrading importlib-metadata from 0.20 to 0.21+ ([changelog](https://github.com/python/importlib_metadata/compare/0.20...0.21))\r\n\r\nIt looks like the two copies of `importlib-metadata` (the older one in the environment, and the newer one vendored in setuptools) are inadvertently interacting.\r\n\r\nI'm presuming the root cause of this and #3292 are similar/the same, however filing separately in case they are not (particularly given one is build-time, the other run-time etc).\r\n\r\n### Expected behavior\r\n\r\nEither:\r\n1. The `python setup.py egg_info` phase of `pip install` succeeds with newer versions of setuptools, as it did before.\r\n2. Or, setuptools outputs a warning/error to make debugging this easier, or otherwise blocks usage with incompatible `importlib-metadata` versions.\r\n\r\n\r\n### How to Reproduce\r\n\r\n1. `docker run --rm -it python:3.9.12 bash`\r\n2. `mkdir -p testcase/mypackage && touch testcase/mypackage/__init__.py`\r\n3. `echo 'from setuptools import setup; setup(name=\"mypackage\", version=\"0.0.1\", packages=[\"mypackage\"])' > testcase/setup.py`\r\n4. `pip install setuptools==62.1.0`\r\n5. `pip install importlib-metadata==0.20`\r\n6. `pip install ./testcase`\r\n\r\n\r\n### Output\r\n\r\n```console\r\n$ docker run --rm -it python:3.9.12 bash\r\n...\r\nroot@f2eceebb1668:/# mkdir -p testcase/mypackage && touch testcase/mypackage/__init__.py\r\nroot@f2eceebb1668:/# echo 'from setuptools import setup; setup(name=\"mypackage\", version=\"0.0.1\", packages=[\"mypackage\"])' > testcase/setup.py\r\nroot@f2eceebb1668:/# pip install setuptools==62.1.0\r\n...\r\nSuccessfully installed setuptools-62.1.0\r\nroot@f2eceebb1668:/# pip install importlib-metadata==0.20\r\n...\r\nSuccessfully installed importlib-metadata-0.20 zipp-3.8.0\r\n\r\nroot@f2eceebb1668:/# pip install ./testcase\r\nProcessing /testcase\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [22 lines of output]\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 14, in <module>\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/__init__.py\", line 18, in <module>\r\n          from setuptools.dist import Distribution\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/dist.py\", line 35, in <module>\r\n          from ._importlib import metadata\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_importlib.py\", line 28, in <module>\r\n          disable_importlib_metadata_finder(metadata)\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_importlib.py\", line 12, in disable_importlib_metadata_finder\r\n          import importlib_metadata\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 490, in <module>\r\n          __version__ = version(__name__)\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 457, in version\r\n          return distribution(package).version\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 430, in distribution\r\n          return Distribution.from_name(package)\r\n        File \"/usr/local/lib/python3.9/site-packages/importlib_metadata/__init__.py\", line 179, in from_name\r\n          dists = resolver(name)\r\n        File \"/usr/local/lib/python3.9/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 886, in find_distributions\r\n          found = self._search_paths(context.name, context.path)\r\n      AttributeError: 'str' object has no attribute 'name'\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3293/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3292", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3292/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3292/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3292/events", "html_url": "https://github.com/pypa/setuptools/issues/3292", "id": 1217886282, "node_id": "I_kwDOA0bv8c5Il3hK", "number": 3292, "title": "[BUG] ImportError when using `importlib` with setuptools 60.9.0+", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-27T21:09:35Z", "updated_at": "2023-01-09T19:15:21Z", "closed_at": "2022-05-16T12:24:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n`setuptools==62.1.0`\r\n\r\n(The repro below uses the latest setuptools version, however, the first affected version was `setuptools==60.9.0`)\r\n\r\n### Python version\r\n\r\nPython 3.7\r\n\r\n### OS\r\n\r\nDocker image `python:3.7.13` which is Debian 11 (it also occurs on Ubuntu on Heroku)\r\n\r\n### Additional environment information\r\n\r\nReduced `requirements.txt`:\r\n\r\n```\r\ncelery==5.2.2\r\nDjango==3.2.8\r\nimportlib-metadata==0.20\r\n```\r\n\r\n### Description\r\n\r\nBetween setuptools 60.8.2 and 60.9.0, a previously working Django project now fails when using `importlib.import_module()`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/testcase.py\", line 2, in <module>\r\n    from celery import Celery\r\nImportError: cannot import name 'Celery' from 'celery' (/usr/local/lib/python3.7/site-packages/celery/__init__.py)\r\n```\r\n\r\nIn the original project (which was from a customer), the `importlib.import_module()` usage was inside gunicorn, when it loads the provided WSGI application file. However, I've removed gunicorn (and much of the rest of the project) as part of creating a reduced testcase.\r\n\r\nThe changes between those two setuptools versions are:\r\nhttps://github.com/pypa/setuptools/compare/v60.8.2...v60.9.0\r\n\r\nIn addition to the workaround of downgrading setuptools to `60.8.2`, I also found that making any of the following changes (each in isolation) prevents the error from occurring:\r\n- Upgrading Python to 3.8+\r\n- Upgrading importlib-metadata from 0.20 to 0.21+ ([changelog](https://github.com/python/importlib_metadata/compare/0.20...0.21))\r\n- Upgrading Django from 3.2.8 to 3.2.9+ ([changelog](https://github.com/django/django/compare/3.2.8...3.2.9), of which [this](https://github.com/django/django/commit/8bebb1c04a40a8bb45368415cd01ccbf32fd3236) seems relevant)\r\n- Upgrading Celery from 5.2.2 to 5.2.5 ([changelog](https://github.com/celery/celery/compare/v5.2.2...v5.2.5), of which [this](https://github.com/celery/celery/pull/7218) seems relevant) (skipped 5.2.3 and 5.2.4 since they pin setuptools to an earlier version that isn't affected by this)\r\n\r\n### Expected behavior\r\n\r\nEither:\r\n1. The import succeed with newer versions of setuptools, as it did before.\r\n2. Or, setuptools outputs a warning/error to make debugging this easier, or otherwise blocks usage with incompatible `importlib-metadata` versions.\r\n\r\n### How to Reproduce\r\n\r\n1. `docker run --rm -it python:3.7.13 bash`\r\n2. `echo -e \"from django.core.wsgi import get_wsgi_application\\nfrom celery import Celery\" > testcase.py`\r\n3. `pip install setuptools==62.1.0`\r\n4. `pip install celery==5.2.2 Django==3.2.8 importlib-metadata==0.20`\r\n5. `python -c 'import importlib; importlib.import_module(\"testcase\")'`\r\n\r\n### Output\r\n\r\n```console\r\n$ docker run --rm -it python:3.7.13 bash\r\n...\r\nroot@030ec79ad5e2:/# echo -e \"from django.core.wsgi import get_wsgi_application\\nfrom celery import Celery\" > testcase.py\r\nroot@030ec79ad5e2:/# pip install setuptools==62.1.0\r\n...\r\nroot@030ec79ad5e2:/# pip install celery==5.2.2 Django==3.2.8 importlib-metadata==0.20\r\n...\r\nInstalling collected packages: wcwidth, pytz, cached-property, billiard, zipp, vine, typing-extensions, sqlparse, six, prompt-toolkit, importlib-metadata, asgiref, amqp, kombu, Django, click, click-repl, click-plugins, click-didyoumean, celery\r\nSuccessfully installed Django-3.2.8 amqp-5.1.1 asgiref-3.5.0 billiard-3.6.4.0 cached-property-1.5.2 celery-5.2.2 click-8.1.2 click-didyoumean-0.3.0 click-plugins-1.1.1 click-repl-0.2.0 importlib-metadata-0.20 kombu-5.2.4 prompt-toolkit-3.0.29 pytz-2022.1 six-1.16.0 sqlparse-0.4.2 typing-extensions-4.2.0 vine-5.0.0 wcwidth-0.2.5 zipp-3.8.0\r\n\r\nroot@030ec79ad5e2:/# python -c 'import importlib; importlib.import_module(\"testcase\")'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/testcase.py\", line 2, in <module>\r\n    from celery import Celery\r\nImportError: cannot import name 'Celery' from 'celery' (/usr/local/lib/python3.7/site-packages/celery/__init__.py)\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3291", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3291/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3291/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3291/events", "html_url": "https://github.com/pypa/setuptools/issues/3291", "id": 1217398136, "node_id": "I_kwDOA0bv8c5IkAV4", "number": 3291, "title": "[BUG] name/version from pyproject.toml is not respected on macOS", "user": {"login": "slonopotamus", "id": 92637, "node_id": "MDQ6VXNlcjkyNjM3", "avatar_url": "https://avatars.githubusercontent.com/u/92637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slonopotamus", "html_url": "https://github.com/slonopotamus", "followers_url": "https://api.github.com/users/slonopotamus/followers", "following_url": "https://api.github.com/users/slonopotamus/following{/other_user}", "gists_url": "https://api.github.com/users/slonopotamus/gists{/gist_id}", "starred_url": "https://api.github.com/users/slonopotamus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slonopotamus/subscriptions", "organizations_url": "https://api.github.com/users/slonopotamus/orgs", "repos_url": "https://api.github.com/users/slonopotamus/repos", "events_url": "https://api.github.com/users/slonopotamus/events{/privacy}", "received_events_url": "https://api.github.com/users/slonopotamus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-04-27T13:55:04Z", "updated_at": "2022-04-27T18:37:42Z", "closed_at": "2022-04-27T18:37:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.10.0\r\n\r\n### Python version\r\n\r\n3.9.12\r\n\r\n### OS\r\n\r\nmacOS 12.3.1 (Monterey)\r\n\r\n### Additional environment information\r\n\r\nFor your convenience, here's a [test project that reproduces described behavior on GitHub Actions](https://github.com/slonopotamus/setuptools-vs-pyproject.toml). You can see problematic build output [here](https://github.com/slonopotamus/setuptools-vs-pyproject.toml/runs/6194514600?check_suite_focus=true#step:3:11).\r\n\r\nNote that exactly the same steps are done on [Windows](https://github.com/slonopotamus/setuptools-vs-pyproject.toml/runs/6194514427?check_suite_focus=true#step:3:11) and [Ubuntu](https://github.com/slonopotamus/setuptools-vs-pyproject.toml/runs/6194514516?check_suite_focus=true#step:3:11) and bug doesn't occur there.\r\n\r\nFor comparison, here's the list of package versions on different OSes:\r\n\r\nmacOS (broken):\r\n```\r\nPython 3.9.12\r\n\r\npip        22.0.4\r\nsetuptools 60.10.0\r\nwheel      0.37.1\r\n```\r\n\r\nWindows (works):\r\n\r\n```\r\nPython 3.9.12\r\n\r\nargcomplete 2.0.0\r\nclick       8.1.2\r\ncolorama    0.4.4\r\ndummy       0.0.1\r\npackaging   21.3\r\npip         22.0.4\r\npipx        1.0.0\r\npyparsing   3.0.8\r\nsetuptools  58.1.0\r\nuserpath    1.8.0\r\n```\r\n\r\nUbuntu (works):\r\n\r\n```\r\nPython 3.8.10\r\n\r\nargcomplete            2.0.0               \r\nattrs                  19.3.0              \r\nAutomat                0.8.0               \r\nblinker                1.4                 \r\ncertifi                2019.11.28          \r\nchardet                3.0.4               \r\nClick                  7.0                 \r\ncloud-init             22.1                \r\ncolorama               0.4.3               \r\ncommand-not-found      0.3                 \r\nconfigobj              5.0.6               \r\nconstantly             15.1.0              \r\ncrcmod                 1.7                 \r\ncrit                   0.0.1               \r\ncryptography           2.8                 \r\ndbus-python            1.2.16              \r\ndistro                 1.4.0               \r\ndistro-info            0.23ubuntu1         \r\ndummy                  0.0.1               \r\nentrypoints            0.3                 \r\nhttplib2               0.14.0              \r\nhyperlink              19.0.0              \r\nidna                   2.8                 \r\nimportlib-metadata     1.5.0               \r\nincremental            16.10.1             \r\nJinja2                 2.10.1              \r\njsonpatch              1.22                \r\njsonpointer            2.0                 \r\njsonschema             3.2.0               \r\nkeyring                18.0.1              \r\nlanguage-selector      0.1                 \r\nlaunchpadlib           1.10.13             \r\nlazr.restfulclient     0.14.2              \r\nlazr.uri               1.0.3               \r\nMarkupSafe             1.1.0               \r\nmore-itertools         4.2.0               \r\nnetifaces              0.10.4              \r\noauthlib               3.1.0               \r\npackaging              21.3                \r\npexpect                4.6.0               \r\npip                    20.0.2              \r\npipx                   1.0.0               \r\nprotobuf               3.6.1               \r\npyasn1                 0.4.2               \r\npyasn1-modules         0.2.1               \r\nPygments               2.3.1               \r\nPyGObject              3.36.0              \r\nPyHamcrest             1.9.0               \r\nPyJWT                  1.7.1               \r\npymacaroons            0.13.0              \r\nPyNaCl                 1.3.0               \r\npyOpenSSL              19.0.0              \r\npyparsing              3.0.8               \r\npyparted               3.11.2              \r\npyrsistent             0.15.5              \r\npyserial               3.4                 \r\npython-apt             2.0.0+ubuntu0.20.4.7\r\npython-debian          0.1.36ubuntu1       \r\nPyYAML                 5.3.1               \r\nrequests               2.22.0              \r\nrequests-unixsocket    0.2.0               \r\nSecretStorage          2.3.1               \r\nservice-identity       18.1.0              \r\nsetuptools             45.2.0              \r\nsimplejson             3.16.0              \r\nsix                    1.14.0              \r\nsos                    4.3                 \r\nssh-import-id          5.10                \r\nsystemd-python         234                 \r\nTwisted                18.9.0              \r\nubuntu-advantage-tools 27.7                \r\nufw                    0.36                \r\nurllib3                1.25.8              \r\nuserpath               1.8.0               \r\nwadllib                1.3.3               \r\nWALinuxAgent           2.2.46              \r\nwheel                  0.34.2              \r\nzipp                   1.0.0               \r\nzope.interface         4.7.1    \r\n```\r\n\r\n### Description\r\n\r\nsetuptools installs packages as `UNKNOWN` even though they have name/version specified in pypackage.toml\r\n\r\n### Expected behavior\r\n\r\nname/version from `pyproject.toml` is respected\r\n\r\n### How to Reproduce\r\n\r\nCreate a directory with a trivial `pyproject.toml`:\r\n\r\n```toml\r\n[project]\r\nname = \"dummy\"\r\nversion = \"0.0.1\"\r\n```\r\n\r\nAnd then install it with `pip3 install --user .`\r\n\r\n### Output\r\n\r\npyproject.toml:\r\n```toml\r\n[project]\r\nname = \"dummy\"\r\nversion = \"0.0.1\"\r\n```\r\n\r\npip3 output:\r\n```console\r\nProcessing /Users/runner/work/setuptools-vs-pyproject.toml/setuptools-vs-pyproject.toml\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nBuilding wheels for collected packages: UNKNOWN\r\n  Building wheel for UNKNOWN (pyproject.toml): started\r\n  Building wheel for UNKNOWN (pyproject.toml): finished with status 'done'\r\n  Created wheel for UNKNOWN: filename=UNKNOWN-0.0.0-py3-none-any.whl size=955 sha256=a7b6a1a2dbdb6b58ac9dba154d08243bfa69d3f9531da4f25091503bd5fce88e\r\n  Stored in directory: /Users/runner/Library/Caches/pip/wheels/0c/20/8e/7124b70b3908c7615c98401dce5a60eabf88726b43c04fe667\r\nSuccessfully built UNKNOWN\r\nInstalling collected packages: UNKNOWN\r\nSuccessfully installed UNKNOWN-0.0.0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3283", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3283/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3283/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3283/events", "html_url": "https://github.com/pypa/setuptools/issues/3283", "id": 1212570675, "node_id": "I_kwDOA0bv8c5IRlwz", "number": 3283, "title": "[BUG] dead link in \"bad install directory or PYTHONPATH\" error/warning message", "user": {"login": "alanfmw", "id": 103284994, "node_id": "U_kgDOBigBAg", "avatar_url": "https://avatars.githubusercontent.com/u/103284994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanfmw", "html_url": "https://github.com/alanfmw", "followers_url": "https://api.github.com/users/alanfmw/followers", "following_url": "https://api.github.com/users/alanfmw/following{/other_user}", "gists_url": "https://api.github.com/users/alanfmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanfmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanfmw/subscriptions", "organizations_url": "https://api.github.com/users/alanfmw/orgs", "repos_url": "https://api.github.com/users/alanfmw/repos", "events_url": "https://api.github.com/users/alanfmw/events{/privacy}", "received_events_url": "https://api.github.com/users/alanfmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-22T16:44:26Z", "updated_at": "2022-04-27T13:21:43Z", "closed_at": "2022-04-27T13:21:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n49.2.1\n\n### Python version\n\n3.10\n\n### OS\n\nWindows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nExecuting `python setup.py install --prefix=<path>`, when `<path>` is not in `PYTHONPATH` and is not a site dir, displays a \"bad install directory or PYTHONPATH\" message with a dead link: \r\n\r\nhttps://setuptools.readthedocs.io/en/latest/easy_install.html#custom-installation-locations\n\n### Expected behavior\n\nThe link should be valid, or should not be displayed at all. \n\n### How to Reproduce\n\nExecute `python setup.py install --prefix=<dir>` where `<dir>` is not in `PYTHONPATH` and is not a site dir.\r\n\n\n### Output\n\nIn the following, I have replaced actual paths with `<path>`, `<path1>`, and `<path2>`.\r\n\r\n```console\r\n'From setuptools\r\n running build\r\n running build_py\r\n creating <path>\r\n creating <path>\r\n copying <path1> -> <path2>\r\n warning: build_py: byte-compiling is disabled, skipping.\r\n \r\n running install\r\n Checking .pth file support in <path>\r\n <path>\\pythonw.exe -E -c pass\r\n TEST FAILED: <path>\\Lib\\site-packages\\ does NOT support .pth files\r\n bad install directory or PYTHONPATH\r\n \r\n You are attempting to install a package to a directory that is not\r\n on PYTHONPATH and which Python does not read \".pth\" files from.  The\r\n installation directory you specified (via --install-dir, --prefix, or\r\n the distutils default setting) was:\r\n \r\n     <path>\\Lib\\site-packages\\\r\n \r\n and your PYTHONPATH environment variable currently contains:\r\n \r\n     ''\r\n \r\n Here are some of your options for correcting the problem:\r\n \r\n * You can choose a different installation directory, i.e., one that is\r\n   on PYTHONPATH or supports .pth files\r\n \r\n * You can add the installation directory to the PYTHONPATH environment\r\n   variable.  (It must then also be on PYTHONPATH whenever you run\r\n   Python and want to use the package(s) you are installing.)\r\n \r\n * You can set up the installation directory to support \".pth\" files by\r\n   using one of the approaches described here:\r\n \r\n   https://setuptools.readthedocs.io/en/latest/easy_install.html#custom-installation-locations\r\n \r\n \r\n Please make the appropriate changes for your system and try again.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3279", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3279/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3279/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3279/events", "html_url": "https://github.com/pypa/setuptools/issues/3279", "id": 1211595464, "node_id": "I_kwDOA0bv8c5IN3rI", "number": 3279, "title": "[BUG] 62.0.0: `pkg_resources` module discards current `sys.path` sets it to default", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-21T22:02:13Z", "updated_at": "2022-07-18T08:54:48Z", "closed_at": "2022-04-22T14:07:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.0.0\n\n### Python version\n\n3.8.13\n\n### OS\n\nLinux/x86_64\n\n### Additional environment information\n\nN/A\n\n### Description\n\nLooksl like `pkg_resources` module discards current `sys.path` sets it to default which makes especially annoing when in sphinx copy.py fiel needs to setup path to module which documentation needs to be generated.\n\n### Expected behavior\n\n`pkg_resources` module should not discard current value of the `sys.path`.\n\n### How to Reproduce\n\n- git clone https://github.com/zopefoundation/transaction\r\n- apply below patch\r\n```patch\r\n--- a/docs/conf.py~     2020-12-11 11:41:37.000000000 +0000\r\n+++ b/docs/conf.py      2021-12-25 23:58:01.750032165 +0000\r\n@@ -18,7 +18,7 @@\r\n # add these directories to sys.path here. If the directory is relative to the\r\n # documentation root, use os.path.abspath to make it absolute, like shown here.\r\n #sys.path.insert(0, os.path.abspath('.'))\r\n-sys.path.append(os.path.abspath('../'))\r\n+sys.path.append(os.path.abspath('../src'))\r\n rqmt = pkg_resources.require('transaction')[0]\r\n\r\n # -- General configuration -----------------------------------------------------\r\n```\r\n- execute in project tree `strace -fe trace=file /usr/bin/sphinx-build -n -T -b man docs build/sphinx/man 2>&1 | grep transaction`\r\n\n\n### Output\n\n```console\r\n[tkloczko@devel-g2v transaction-3.0.1]$ strace -fe trace=file /usr/bin/sphinx-build -n -T -b man docs build/sphinx/man 2>&1 | grep transaction\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\nnewfstatat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs\", {st_mode=S_IFDIR|0755, st_size=340, ...}, 0) = 0\r\nnewfstatat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/build/sphinx/man\", 0x7fff69d600e0, 0) = -1 ENOENT (No such file or directory)\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\nnewfstatat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", {st_mode=S_IFREG|0644, st_size=8878, ...}, 0) = 0\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\", 1024) = 48\r\nchdir(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs\") = 0\r\nopenat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", O_RDONLY|O_CLOEXEC) = 3\r\ngetcwd(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs\", 1024) = 53\r\nnewfstatat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", {st_mode=S_IFREG|0644, st_size=8878, ...}, 0) = 0\r\nopenat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", O_RDONLY|O_CLOEXEC) = 3\r\nchdir(\"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1\") = 0\r\nnewfstatat(AT_FDCWD, \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", {st_mode=S_IFREG|0644, st_size=8878, ...}, 0) = 0\r\n  File \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", line 22, in <module>\r\n    rqmt = pkg_resources.require('transaction')[0]\r\npkg_resources.DistributionNotFound: The 'transaction' distribution was not found and is required by the application\r\n  File \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", line 22, in <module>\r\n    rqmt = pkg_resources.require('transaction')[0]\r\npkg_resources.DistributionNotFound: The 'transaction' distribution was not found and is required by the application\r\n  File \"/home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/docs/conf.py\", line 22, in <module>\r\n    rqmt = pkg_resources.require('transaction')[0]\r\npkg_resources.DistributionNotFound: The 'transaction' distribution was not found and is required by the application\r\n```\r\nOn above otput there is no try to opening /home/tkloczko/rpmbuild/BUILD/transaction-3.0.1/src/transaction.{egg|dist}-info.\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3274", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3274/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3274/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3274/events", "html_url": "https://github.com/pypa/setuptools/issues/3274", "id": 1208446518, "node_id": "I_kwDOA0bv8c5IB242", "number": 3274, "title": "[BUG] setuptools doesn't build with Python 3.11.0a7 / upgrade bundled pyparsing", "user": {"login": "hrnciar", "id": 13086088, "node_id": "MDQ6VXNlcjEzMDg2MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13086088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrnciar", "html_url": "https://github.com/hrnciar", "followers_url": "https://api.github.com/users/hrnciar/followers", "following_url": "https://api.github.com/users/hrnciar/following{/other_user}", "gists_url": "https://api.github.com/users/hrnciar/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrnciar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrnciar/subscriptions", "organizations_url": "https://api.github.com/users/hrnciar/orgs", "repos_url": "https://api.github.com/users/hrnciar/repos", "events_url": "https://api.github.com/users/hrnciar/events{/privacy}", "received_events_url": "https://api.github.com/users/hrnciar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-19T14:24:45Z", "updated_at": "2022-05-16T17:35:17Z", "closed_at": "2022-05-16T17:35:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3\n\n### Python version\n\n3.11.0a7\n\n### OS\n\nFedora Rawhide\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nPyparsing bundled in setuptools uses sre_constants module. Since Python 3.11.0a7 this module is deprecated and setuptools build fails with DeprecationWarning. This was already fixed in pyparsing 3.0.8 so updating bundled pyparsing should fix this problem.\n\n### Expected behavior\n\nSetuptools builds with Python 3.11.0a7+.\n\n### How to Reproduce\n\nBuild setuptools with Python 3.11.0a7.\n\n### Output\n\n```\r\n+ /usr/bin/pytest --ignore=setuptools/tests/test_integration.py --ignore=setuptools/tests/integration/ --ignore=setuptools/tests/test_develop.py -k 'not test_pip_upgrade_from_source'\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/pytest\", line 8, in <module>\r\n    sys.exit(console_main())\r\n             ^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 188, in console_main\r\n    code = main()\r\n           ^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 146, in main\r\n    config = _prepareconfig(args, plugins)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 325, in _prepareconfig\r\n    config = pluginmanager.hook.pytest_cmdline_parse(\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_callers.py\", line 55, in _multicall\r\n    gen.send(outcome)\r\n    ^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/helpconfig.py\", line 102, in pytest_cmdline_parse\r\n    config: Config = outcome.get_result()\r\n                     ^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_result.py\", line 60, in get_result\r\n    raise ex[1].with_traceback(ex[2])\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\r\n    res = hook_impl.function(*args)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 1013, in pytest_cmdline_parse\r\n    self.parse(args)\r\n    ^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 1301, in parse\r\n    self._preparse(args, addopts=addopts)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 1203, in _preparse\r\n    self.hook.pytest_load_initial_conftests(\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_callers.py\", line 60, in _multicall\r\n    return outcome.get_result()\r\n           ^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_result.py\", line 60, in get_result\r\n    raise ex[1].with_traceback(ex[2])\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\r\n    res = hook_impl.function(*args)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 1080, in pytest_load_initial_conftests\r\n    self.pluginmanager._set_initial_conftests(\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 529, in _set_initial_conftests\r\n    self._try_load_conftest(current, namespace.importmode, rootpath)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 534, in _try_load_conftest\r\n    self._getconftestmodules(anchor, importmode, rootpath)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 565, in _getconftestmodules\r\n    mod = self._importconftest(conftestpath, importmode, rootpath)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 620, in _importconftest\r\n    self.consider_conftest(mod)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 701, in consider_conftest\r\n    self.register(conftestmodule, name=conftestmodule.__file__)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 467, in register\r\n    self.consider_module(plugin)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 709, in consider_module\r\n    self._import_plugin_specs(getattr(mod, \"pytest_plugins\", []))\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 716, in _import_plugin_specs\r\n    self.import_plugin(import_spec)\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.11/site-packages/_pytest/config/__init__.py\", line 743, in import_plugin\r\n    __import__(importspec)\r\n    ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/setuptools/__init__.py\", line 16, in <module>\r\n    import setuptools.version\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/setuptools/version.py\", line 1, in <module>\r\n    import pkg_resources\r\n    ^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/pkg_resources/__init__.py\", line 84, in <module>\r\n    __import__('pkg_resources.extern.packaging.requirements')\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/pkg_resources/_vendor/packaging/requirements.py\", line 10, in <module>\r\n    from pkg_resources.extern.pyparsing import (  # noqa\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"<frozen importlib._bootstrap>\", line 1178, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1149, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 676, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 573, in module_from_spec\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/pkg_resources/extern/__init__.py\", line 52, in create_module\r\n    return self.load_module(spec.name)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/pkg_resources/extern/__init__.py\", line 37, in load_module\r\n    __import__(extant)\r\n    ^^^^^^^^^^^^^^^^^^\r\n  File \"/builddir/build/BUILD/setuptools-60.9.3/pkg_resources/_vendor/pyparsing.py\", line 87, in <module>\r\n    import sre_constants\r\n    ^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/sre_constants.py\", line 2, in <module>\r\n    warnings.warn(f\"module {__name__!r} is deprecated\",\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nDeprecationWarning: module 'sre_constants' is deprecated\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3274/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3273", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3273/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3273/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3273/events", "html_url": "https://github.com/pypa/setuptools/issues/3273", "id": 1206478839, "node_id": "I_kwDOA0bv8c5H6Wf3", "number": 3273, "title": "[BUG] TypeError when an empty .dist-info directory is present when running setup.py sdist", "user": {"login": "a68366", "id": 12549653, "node_id": "MDQ6VXNlcjEyNTQ5NjUz", "avatar_url": "https://avatars.githubusercontent.com/u/12549653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a68366", "html_url": "https://github.com/a68366", "followers_url": "https://api.github.com/users/a68366/followers", "following_url": "https://api.github.com/users/a68366/following{/other_user}", "gists_url": "https://api.github.com/users/a68366/gists{/gist_id}", "starred_url": "https://api.github.com/users/a68366/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a68366/subscriptions", "organizations_url": "https://api.github.com/users/a68366/orgs", "repos_url": "https://api.github.com/users/a68366/repos", "events_url": "https://api.github.com/users/a68366/events{/privacy}", "received_events_url": "https://api.github.com/users/a68366/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-17T20:29:11Z", "updated_at": "2022-04-21T10:50:04Z", "closed_at": "2022-04-21T10:50:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==62.1.0\n\n### Python version\n\n3.10\n\n### OS\n\nFedora 35\n\n### Additional environment information\n\nThe error only occurs with `setuptools>=60.9.0`\r\n\r\nE.g. `setuptools==60.8.2` is fine\n\n### Description\n\nWhen project directory contains an empty `.dist-info` directory `python setup.py sdist` fails with `TypeError`.\n\n### Expected behavior\n\nIt should probably work as it worked before `setuptools>=60.9.0`?\n\n### How to Reproduce\n\n1. Create an empty `.dist-info` directory alongside the package directory\r\n2. Run `python setup.py sdist`\r\n\r\n\r\n**tree -a:**\r\n```console\r\n.\r\n\u251c\u2500\u2500 .dist-info\r\n\u251c\u2500\u2500 my_pkg\r\n\u2502   \u2514\u2500\u2500 __init__.py\r\n\u2514\u2500\u2500 setup.py\r\n```\r\n\r\n\r\n**setup.py:**\r\n\r\n```python\r\nfrom setuptools import setup, find_packages\r\n\r\nsetup(\r\n    name='test',\r\n    version='1.0.0',\r\n    url='https://example.org',\r\n    author='test',\r\n    author_email='test@example.org',\r\n    description='test',\r\n    packages=find_packages(),    \r\n)\r\n```\n\n### Output\n\n```console\r\n$  python setup.py sdist\r\nTraceback (most recent call last):\r\n  File \"/tmp/123/setup.py\", line 3, in <module>\r\n    setup(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/setuptools/__init__.py\", line 86, in setup\r\n    _install_setup_requires(attrs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/setuptools/__init__.py\", line 75, in _install_setup_requires\r\n    dist = MinimalDistribution(attrs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/setuptools/__init__.py\", line 57, in __init__\r\n    super().__init__(filtered)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/setuptools/dist.py\", line 460, in __init__\r\n    for ep in metadata.entry_points(group='distutils.setup_keywords'):\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 1009, in entry_points\r\n    return SelectableGroups.load(eps).select(**params)\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 459, in load\r\n    ordered = sorted(eps, key=by_group)\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 1006, in <genexpr>\r\n    eps = itertools.chain.from_iterable(\r\n  File \"/usr/lib64/python3.10/importlib/metadata/_itertools.py\", line 16, in unique_everseen\r\n    k = key(element)\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 941, in _normalized_name\r\n    return self._name_from_stem(stem) or super()._normalized_name\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 622, in _normalized_name\r\n    return Prepared.normalize(self.name)\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 871, in normalize\r\n    return re.sub(r\"[-_.]+\", \"-\", name).lower().replace('-', '_')\r\n  File \"/usr/lib64/python3.10/re.py\", line 209, in sub\r\n    return _compile(pattern, flags).sub(repl, string, count)\r\nTypeError: expected string or bytes-like object\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3269", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3269/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3269/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3269/events", "html_url": "https://github.com/pypa/setuptools/issues/3269", "id": 1205646990, "node_id": "I_kwDOA0bv8c5H3LaO", "number": 3269, "title": "[BUG] pyproject.toml: name, version not recognized (UNKNOWN 0.0.0) ", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2022-04-15T15:05:10Z", "updated_at": "2022-10-16T15:17:55Z", "closed_at": "2022-04-21T09:26:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n62.1.0\r\n\r\n### Python version\r\n\r\n3.10\r\n\r\n### OS\r\n\r\nUbuntu 22.04\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI recently started using Python 3.10 and found the `pyproject.toml`-based installation lacking. It now doesn't reads `name` and `version` incorrectly:\r\n```\r\npip install .\r\n```\r\n```\r\nDefaulting to user installation because normal site-packages is not writeable\r\nProcessing /path/to/foobar\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Installing backend dependencies ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: UNKNOWN\r\n  Building wheel for UNKNOWN (pyproject.toml) ... done\r\n  Created wheel for UNKNOWN: filename=UNKNOWN-0.0.0-py3-none-any.whl size=1227 sha256=sgrhihehihg\r\n  Stored in directory: /path/to/.cache/pip/wheels/dsliughredshg\r\nSuccessfully built UNKNOWN\r\nInstalling collected packages: UNKNOWN\r\n  Attempting uninstall: UNKNOWN\r\n    Found existing installation: UNKNOWN 0.0.0\r\n    Uninstalling UNKNOWN-0.0.0:\r\n      Successfully uninstalled UNKNOWN-0.0.0\r\nSuccessfully installed UNKNOWN-0.0.0\r\n```\r\nAny idea why this might be? Perhaps package that's missing in my 3.10 installation? I was surprised not to get an error message here either.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3269/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3268", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3268/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3268/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3268/events", "html_url": "https://github.com/pypa/setuptools/issues/3268", "id": 1204824411, "node_id": "I_kwDOA0bv8c5H0Clb", "number": 3268, "title": "Console script in windows can't take unicode arguments[BUG] ", "user": {"login": "Deshdeepak1", "id": 36617998, "node_id": "MDQ6VXNlcjM2NjE3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/36617998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Deshdeepak1", "html_url": "https://github.com/Deshdeepak1", "followers_url": "https://api.github.com/users/Deshdeepak1/followers", "following_url": "https://api.github.com/users/Deshdeepak1/following{/other_user}", "gists_url": "https://api.github.com/users/Deshdeepak1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Deshdeepak1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Deshdeepak1/subscriptions", "organizations_url": "https://api.github.com/users/Deshdeepak1/orgs", "repos_url": "https://api.github.com/users/Deshdeepak1/repos", "events_url": "https://api.github.com/users/Deshdeepak1/events{/privacy}", "received_events_url": "https://api.github.com/users/Deshdeepak1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-14T18:01:58Z", "updated_at": "2022-04-17T16:27:52Z", "closed_at": "2022-04-17T16:27:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.4.2\n\n### Python version\n\n3.9\n\n### OS\n\nWindows10\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nsetup.py consolescripts can't take unicode command line arguments on windows, while the respective .py file can.\r\n\r\ne.g. all_dl.py \r\n\r\nconsole_script in setup.py:\r\nall-dl=all_dl:main\r\n\r\ndef main():\r\n  print(sys.argv[1])\r\n\r\nif __name__ == \"__main__\":\r\n main()\r\n\r\npython all_dl.py \u090f\u0915 \u092a\u0930\u093f\u091a\u092f\r\n\r\nouputs \u090f\u0915 \u092a\u0930\u093f\u091a\u092f.\r\n\r\nbut \r\n\r\nall-dl \u090f\u0915 \u092a\u0930\u093f\u091a\u092f.\r\n\r\noutputs ??????\n\n### Expected behavior\n\nThe latter output should be similar to former\n\n### How to Reproduce\n\n1. Write the small py file\r\n2. make a console script for that file\r\n3. pass unicode arg to py file and the exe file\r\n4. See the difference\n\n### Output\n\n```console\r\n\r\n```\r\n1st case -  \u090f\u0915 \u092a\u0930\u093f\u091a\u092f.\r\n2nd case - ???????", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3266", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3266/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3266/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3266/events", "html_url": "https://github.com/pypa/setuptools/issues/3266", "id": 1204336464, "node_id": "I_kwDOA0bv8c5HyLdQ", "number": 3266, "title": "[BUG] attr: not working in version field of setup.cfg", "user": {"login": "solsword", "id": 2529953, "node_id": "MDQ6VXNlcjI1Mjk5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2529953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/solsword", "html_url": "https://github.com/solsword", "followers_url": "https://api.github.com/users/solsword/followers", "following_url": "https://api.github.com/users/solsword/following{/other_user}", "gists_url": "https://api.github.com/users/solsword/gists{/gist_id}", "starred_url": "https://api.github.com/users/solsword/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/solsword/subscriptions", "organizations_url": "https://api.github.com/users/solsword/orgs", "repos_url": "https://api.github.com/users/solsword/repos", "events_url": "https://api.github.com/users/solsword/events{/privacy}", "received_events_url": "https://api.github.com/users/solsword/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-14T10:08:12Z", "updated_at": "2022-04-14T18:03:55Z", "closed_at": "2022-04-14T18:03:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.1.0\n\n### Python version\n\n3.10.2\n\n### OS\n\nmacOS\n\n### Additional environment information\n\nI get the same error in each of:\r\n\r\n- Python 3.7.9 with setuptools 47.1.0\r\n- Python 3.9.10 with setuptools 62.0.0\r\n- Python 3.10.2 with setuptools 62.1.0\r\n\r\nMy Python versions 3.9 and 3.10 were installed using homebrew, and 3.7.9 comes with Thonny.\n\n### Description\n\nI'm trying to build a basic package and maintain a version number in one place, using declarative `setup.cfg` and building with `python -m build`. I'm following option #1 from this guide:\r\n\r\nhttps://packaging.python.org/en/latest/guides/single-sourcing-package-version/\r\n\r\nWhich also corresponds with the example provided at the top of this page:\r\n\r\nhttps://setuptools.pypa.io/en/latest/userguide/declarative_config.html\r\n\r\nI've looked at issues like:\r\n\r\n- #2919 (with namespace packages)\r\n- #3176 (with other imports involved)\r\n\r\nBut I'm not using a namespace package and I'm not using any imports (see file contents below). Essentially, even if the package JUST has `version: attr:mypackage.__version__`, the build fails. Interestingly, it's able to create the egg info directory, and picks up the package version correctly there, but fails with a `ModuleNotFoundError` at a later step. The full log is included at the end of this report.\r\n\r\nI can confirm that with at least the 3.9.10 Python and setuptools 62.0.0, this issue does NOT occur if the package is provided as a single file rather than as a directory with an `__init__.py` file. Perhaps the bug is as simple as a code path in the AST parsing branch (which we seem to be triggering) that isn't checking for that and assumes `mypackage.__version__` could only be found in `mypackage.py`? I have tried using `attr:mypackage.__init__.__version__` but unsurprisingly that didn't work. I even tried putting the version number in a different file `mypackage/_verison.py` and using `attr:mypackage._version.__version__` but that didn't work either.\r\n\r\nThis seems similar to #2605, but I'm not getting the first error from that bug involving `NoneType`, and from the info in that bug, it seems like it might be related to #2919 if they're using namespace packages, which I'm not.\r\n\r\nNote: If it turns out I'm doing something I shouldn't be, it might be worth considering a docs update in one of the places I pointed to, since I feel like I'm following the documentation to the letter here.\r\n\r\nFiles used to reproduce (I also included the creation of these files in my reproduction steps):\r\n\r\n`pyproject.toml`:\r\n\r\n```\r\n[build-system]\r\nrequires = [ \"setuptools\", \"wheel\" ]\r\nbuild-backend = \"setuptools.build_meta\"\r\n```\r\n\r\n`setup.cfg`:\r\n\r\n```\r\n[metadata]\r\nname = pkg\r\nversion = attr: pkg.__version__\r\ndescription = Test for version attr: bug\r\nlong_description = N/A\r\nurl = https://www.example.com\r\nauthor = Peter Mawhorter\r\nauthor_email = pmawhort@wellesley.edu\r\nlicense = N/A\r\nclassifiers =\r\n    Programming Language :: Python :: 3 :: Only\r\n\r\n[options]\r\npython_requires = >=3.7\r\nprovides = pkg\r\npy_modules = pkg\r\n```\r\n\r\n`pkg.__init__.py` (just this one line, nothing else):\r\n\r\n```\r\n__version__ = \"0.1.1\"\r\n```\n\n### Expected behavior\n\nCreating a minimal package using `attr: my_project.__version__` in `seutp.cfg` and building using `python -m build` should work without errors, even if the package is a directory with an `__init__.py` where the version variable is defined, especially if that `__init__.py` doesn't have any other imports in it.\n\n### How to Reproduce\n\nThese commands create the `pyproject.toml`, `setup.cfg` and `pkg/__init__.py` files described above and run `python -m build`:\r\n\r\n```sh\r\n#!/bin/sh\r\necho '[build-system]\\nrequires = [ \"setuptools\", \"wheel\" ]\\nbuild-backend = \"setuptools.build_meta\"' > pyproject.toml\r\necho '[metadata]\\nname = pkg\\nversion = attr: pkg.__version__\\ndescription = Test for version attr: bug\\nlong_description = N/A\\nurl = https://www.example.com\\nauthor = Peter Mawhorter\\nauthor_email = pmawhort@wellesley.edu\\nlicense = N/A\\nclassifiers =\\n    Programming Language :: Python :: 3 :: Only\\n\\n[options] python_requires = >=3.7\\nprovides = pkg\\npy_modules = pkg' > setup.cfg\r\nmkdir pkg\r\necho '__version__ = \"0.1.1\"' > pkg/__init__.py\r\npython -m build\r\n```\n\n### Output\n\n```console\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools, wheel)\r\n* Getting dependencies for sdist...\r\nrunning egg_info\r\ncreating pkg.egg-info\r\nwriting pkg.egg-info/PKG-INFO\r\nwriting dependency_links to pkg.egg-info/dependency_links.txt\r\nwriting top-level names to pkg.egg-info/top_level.txt\r\nwriting manifest file 'pkg.egg-info/SOURCES.txt'\r\nfile pkg.py (for module pkg) not found\r\nreading manifest file 'pkg.egg-info/SOURCES.txt'\r\nwriting manifest file 'pkg.egg-info/SOURCES.txt'\r\n* Building sdist...\r\nrunning sdist\r\nrunning egg_info\r\nwriting pkg.egg-info/PKG-INFO\r\nwriting dependency_links to pkg.egg-info/dependency_links.txt\r\nwriting top-level names to pkg.egg-info/top_level.txt\r\nfile pkg.py (for module pkg) not found\r\nreading manifest file 'pkg.egg-info/SOURCES.txt'\r\nwriting manifest file 'pkg.egg-info/SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\ncreating pkg-0.1.1\r\ncreating pkg-0.1.1/pkg.egg-info\r\ncopying files to pkg-0.1.1...\r\ncopying pyproject.toml -> pkg-0.1.1\r\ncopying setup.cfg -> pkg-0.1.1\r\ncopying pkg.egg-info/PKG-INFO -> pkg-0.1.1/pkg.egg-info\r\ncopying pkg.egg-info/SOURCES.txt -> pkg-0.1.1/pkg.egg-info\r\ncopying pkg.egg-info/dependency_links.txt -> pkg-0.1.1/pkg.egg-info\r\ncopying pkg.egg-info/top_level.txt -> pkg-0.1.1/pkg.egg-info\r\nWriting pkg-0.1.1/setup.cfg\r\nCreating tar archive\r\nremoving 'pkg-0.1.1' (and everything under it)\r\n* Building wheel from sdist\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools, wheel)\r\n* Getting dependencies for wheel...\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\r\n    main()\r\n  File \"/usr/local/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 345, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/usr/local/lib/python3.10/site-packages/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n    return hook(config_settings)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/build_meta.py\", line 177, in get_requires_for_build_wheel\r\n    return self._get_build_requires(\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 1, in <module>\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 122, in setup\r\n    dist.parse_config_files()\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/dist.py\", line 850, in parse_config_files\r\n    setupcfg.parse_configuration(\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 167, in parse_configuration\r\n    meta.parse()\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 446, in parse\r\n    section_parser_method(section_options)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 417, in parse_section\r\n    self[name] = value\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 238, in __setitem__\r\n    value = parser(value)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 552, in _parse_version\r\n    return expand.version(self._parse_attr(value, self.package_dir, self.root_dir))\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/setupcfg.py\", line 372, in _parse_attr\r\n    return expand.read_attr(attr_desc, package_dir, root_dir)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/expand.py\", line 188, in read_attr\r\n    spec = _find_spec(module_name, path)\r\n  File \"/private/var/folders/sb/njhjnvlx3wz0f_8l_szm1m000000gp/T/build-env-8agqk1_z/lib/python3.10/site-packages/setuptools/config/expand.py\", line 203, in _find_spec\r\n    raise ModuleNotFoundError(module_name)\r\nModuleNotFoundError: pkg\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_wheel\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3263", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3263/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3263/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3263/events", "html_url": "https://github.com/pypa/setuptools/issues/3263", "id": 1201701184, "node_id": "I_kwDOA0bv8c5HoIFA", "number": 3263, "title": "[BUG] setuptools 62.1.0 breaks project that requires fortran sources (Nonexistent include directory)", "user": {"login": "MarkWieczorek", "id": 8697285, "node_id": "MDQ6VXNlcjg2OTcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/8697285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkWieczorek", "html_url": "https://github.com/MarkWieczorek", "followers_url": "https://api.github.com/users/MarkWieczorek/followers", "following_url": "https://api.github.com/users/MarkWieczorek/following{/other_user}", "gists_url": "https://api.github.com/users/MarkWieczorek/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkWieczorek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkWieczorek/subscriptions", "organizations_url": "https://api.github.com/users/MarkWieczorek/orgs", "repos_url": "https://api.github.com/users/MarkWieczorek/repos", "events_url": "https://api.github.com/users/MarkWieczorek/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkWieczorek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2022-04-12T11:25:43Z", "updated_at": "2022-05-29T02:01:54Z", "closed_at": "2022-04-21T10:57:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n62.1.0\n\n### Python version\n\n3.10\n\n### OS\n\nLinux, macOS\n\n### Additional environment information\n\nI am using the version supplied by conda-forge\n\n### Description\n\nWe have a project that requires compiling fortran source files, and everything has worked fine with setuptools until version 62.1.0 (62.0.0, and all other lower versions, work!). The problem exists using macos and linux with github actions, as well as on my own macos machine. I re-emphasize, that this is a problem ONLY with 62.1.0.\r\n\r\nI will admit that I have no idea how to debug this problem: in the build process, all of the source and module files compile, but at the very end when we try to compile the python wrapper, it complains about a non-existent include directory, which prevents the source file from finding a pre-compiled module. \r\n\r\n```\r\nINFO: gfortran:f90: src/PythonWrapper.f95\r\n      f951: Warning: Nonexistent include directory \u2018build/temp.linux-x86_64-3.8\u2019 [-Wmissing-include-dirs]\r\n      src/PythonWrapper.f95:2:12:\r\n      \r\n          2 |         use shtools, only: PlmBar\r\n            |            1\r\n      Fatal Error: Cannot open module file \u2018shtools.mod\u2019 for reading at (1): No such file or directory\r\n      compilation terminated.\r\n```\n\n### Expected behavior\n\ncompile with no errors, as it has been doing for the past several years...\n\n### How to Reproduce\n\nTry to install the pyshtools project: https://github.com/SHTOOLS/SHTOOLS using `pip install -v -e .`\n\n### Output\n\nPlease see the github actions output for this run:\r\n\r\nhttps://github.com/SHTOOLS/SHTOOLS/runs/5987783398?check_suite_focus=true\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3244", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3244/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3244/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3244/events", "html_url": "https://github.com/pypa/setuptools/issues/3244", "id": 1191074523, "node_id": "I_kwDOA0bv8c5G_lrb", "number": 3244, "title": "[BUG] PEP621: Warnings/errors when handling a `long_description` (`readme`) dynamically supplied from within `setup.py`", "user": {"login": "bskinn", "id": 11325439, "node_id": "MDQ6VXNlcjExMzI1NDM5", "avatar_url": "https://avatars.githubusercontent.com/u/11325439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bskinn", "html_url": "https://github.com/bskinn", "followers_url": "https://api.github.com/users/bskinn/followers", "following_url": "https://api.github.com/users/bskinn/following{/other_user}", "gists_url": "https://api.github.com/users/bskinn/gists{/gist_id}", "starred_url": "https://api.github.com/users/bskinn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bskinn/subscriptions", "organizations_url": "https://api.github.com/users/bskinn/orgs", "repos_url": "https://api.github.com/users/bskinn/repos", "events_url": "https://api.github.com/users/bskinn/events{/privacy}", "received_events_url": "https://api.github.com/users/bskinn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-03T23:07:50Z", "updated_at": "2022-04-04T14:37:03Z", "closed_at": "2022-04-04T09:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools===61.3.1\r\n\r\n### Python version\r\n\r\nPython 3.9.12\r\n\r\n### OS\r\n\r\nDebian Linux bullseye (Debian 11)\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nThis is downstream of #1688 & the recent experimental PEP621 implementation.\r\n\r\nFor my Python projects on PyPI, I use a `setuptools` packaging workflow where I dynamically modify the contents of `README.md` (alternatively `README.rst`) as part of `setup.py`, before passing those contents into the `long_description` argument to `setup()`. One example of this is [here](https://github.com/bskinn/sphobjinv/blob/505c7afc656f20b9e105f4ead9c6eb570eef971a/setup.py#L14-L40), where I'm changing some documentation links -- as README sits in the repo, they point to the `latest` docs; when packaged for PyPI, though, I want the links point to a specific historical `vx.y` docs version.\r\n\r\nI'm attempting to convert this workflow to PEP621. In doing so, it appears that it's currently impossible to configure `setuptools` to properly accept this state of affairs.\r\n\r\n1. If I don't declare `readme` in `project.dynamic`, I get a `_WouldIgnoreField` warning.\r\n2. If I *do* declare `readme` in `project.dynamic`, I get a `KeyError` from an attempted access to `dynamic_cfg[\"readme\"]`\r\n3. If I attempt to declare `project.dynamic = [\"version\", \"long_description\"]`, instead of `[\"version\", \"readme\"]`, I get `ValueError: invalid pyproject.toml config: project.dynamic[1]`\r\n\r\n\r\n### Expected behavior\r\n\r\nI would expect it to be necessary to declare my `long_description` as `dynamic`, since I am generating it dynamically within `setup.py`. Thus, (1.) above (and the future behavior of completely rejecting a dynamic `readme` when it is not declared as `dynamic`) is expected behavior.\r\n\r\nI would expect (2.) to result in a successful build. I would guess that the PEP621 `project.readme` field, and in particular the `readme` element within `dynamic_cfg`, is not being correctly linked to/populated with the contents of `long_description` coming from `setup.py`.\r\n\r\nGiven that the `pyproject.toml` table key for `project.dynamic` expects to see `readme` and not `long_description`, the error in (3.) is expected.\r\n\r\n### How to Reproduce\r\n\r\n**Setup**\r\n1. Clone and enter the demonstration repo at https://github.com/bskinn/setuptools-pep621-readme.\r\n2. Create a virtual environment for the repo and `pip install build`; or, just use an externally-installed version of `build` (e.g., via `pipx`).\r\n\r\n**Repro**\r\n1. `$ git checkout readme-static && python -m build`\r\n    - `readme` is ***not*** included in `project.dynamic`; (1.) above\r\n2. `$ git checkout readme-dynamic && python -m build`\r\n    - `readme` **is** included in `project.dynamic`; (2.) above\r\n3. `$ git checkout long-desc-in-dynamic && python -m build`\r\n    - `long_description` is included in `project.dynamic`, `readme` is omitted; (3.) above\r\n\r\n### Output\r\n\r\n```console\r\n\r\n# skipping setup steps since they should be trivial\r\n\r\n\r\n# Repro Step (1.)\r\n$ git checkout readme-static && pm build\r\nHEAD is now at 127ba90 Initial commit\r\n\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools>=61, trove-classifiers, wheel)\r\n* Getting dependencies for sdist...\r\n/tmp/build-env-lntkqmmu/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\n/tmp/build-env-lntkqmmu/lib/python3.9/site-packages/setuptools/config/_apply_pyprojecttoml.py:93: _WouldIgnoreField: !!\r\n\r\n\r\n    ##########################################################################\r\n    # configuration would be ignored/result in error due to `pyproject.toml` #\r\n    ##########################################################################\r\n\r\n    The following seems to be defined outside of `pyproject.toml`:\r\n\r\n    `readme = 'This is a test readme.'`\r\n\r\n    According to the spec (see the link bellow), however, setuptools CANNOT\r\n    consider this value unless 'readme' is listed as `dynamic`.\r\n\r\n    https://packaging.python.org/en/latest/specifications/declaring-project-metadata/\r\n\r\n    For the time being, `setuptools` will still consider the given value (as a\r\n    **transitional** measure), but please note that future releases of setuptools will\r\n    follow strictly the standard.\r\n\r\n    To prevent this warning, you can list 'readme' under `dynamic` or alternatively\r\n    remove the `[project]` table from your file and rely entirely on other means of\r\n    configuration.\r\n    \r\n\r\n!!\r\n    \r\n  warnings.warn(msg, _WouldIgnoreField)\r\nrunning egg_info\r\nwriting setuptools_pep621_readme.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools_pep621_readme.egg-info/dependency_links.txt\r\nwriting top-level names to setuptools_pep621_readme.egg-info/top_level.txt\r\nreading manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\n* Building sdist...\r\n/tmp/build-env-lntkqmmu/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\n/tmp/build-env-lntkqmmu/lib/python3.9/site-packages/setuptools/config/_apply_pyprojecttoml.py:93: _WouldIgnoreField: !!\r\n\r\n\r\n    ##########################################################################\r\n    # configuration would be ignored/result in error due to `pyproject.toml` #\r\n    ##########################################################################\r\n\r\n    The following seems to be defined outside of `pyproject.toml`:\r\n\r\n    `readme = 'This is a test readme.'`\r\n\r\n    According to the spec (see the link bellow), however, setuptools CANNOT\r\n    consider this value unless 'readme' is listed as `dynamic`.\r\n\r\n    https://packaging.python.org/en/latest/specifications/declaring-project-metadata/\r\n\r\n    For the time being, `setuptools` will still consider the given value (as a\r\n    **transitional** measure), but please note that future releases of setuptools will\r\n    follow strictly the standard.\r\n\r\n    To prevent this warning, you can list 'readme' under `dynamic` or alternatively\r\n    remove the `[project]` table from your file and rely entirely on other means of\r\n    configuration.\r\n    \r\n\r\n!!\r\n    \r\n  warnings.warn(msg, _WouldIgnoreField)\r\nrunning sdist\r\nrunning egg_info\r\nwriting setuptools_pep621_readme.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools_pep621_readme.egg-info/dependency_links.txt\r\nwriting top-level names to setuptools_pep621_readme.egg-info/top_level.txt\r\nreading manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nrunning check\r\ncreating setuptools-pep621-readme-0.1.dev1\r\ncreating setuptools-pep621-readme-0.1.dev1/setuptools_pep621_readme.egg-info\r\ncopying files to setuptools-pep621-readme-0.1.dev1...\r\ncopying LICENSE.txt -> setuptools-pep621-readme-0.1.dev1\r\ncopying README.md -> setuptools-pep621-readme-0.1.dev1\r\ncopying pyproject.toml -> setuptools-pep621-readme-0.1.dev1\r\ncopying setup.py -> setuptools-pep621-readme-0.1.dev1\r\ncopying setuptools_pep621_readme.egg-info/PKG-INFO -> setuptools-pep621-readme-0.1.dev1/setuptools_pep621_readme.egg-info\r\ncopying setuptools_pep621_readme.egg-info/SOURCES.txt -> setuptools-pep621-readme-0.1.dev1/setuptools_pep621_readme.egg-info\r\ncopying setuptools_pep621_readme.egg-info/dependency_links.txt -> setuptools-pep621-readme-0.1.dev1/setuptools_pep621_readme.egg-info\r\ncopying setuptools_pep621_readme.egg-info/top_level.txt -> setuptools-pep621-readme-0.1.dev1/setuptools_pep621_readme.egg-info\r\nWriting setuptools-pep621-readme-0.1.dev1/setup.cfg\r\nCreating tar archive\r\nremoving 'setuptools-pep621-readme-0.1.dev1' (and everything under it)\r\n* Building wheel from sdist\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools>=61, trove-classifiers, wheel)\r\n* Getting dependencies for wheel...\r\n/tmp/build-env-n_v08h44/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\n/tmp/build-env-n_v08h44/lib/python3.9/site-packages/setuptools/config/_apply_pyprojecttoml.py:93: _WouldIgnoreField: !!\r\n\r\n\r\n    ##########################################################################\r\n    # configuration would be ignored/result in error due to `pyproject.toml` #\r\n    ##########################################################################\r\n\r\n    The following seems to be defined outside of `pyproject.toml`:\r\n\r\n    `readme = 'This is a test readme.'`\r\n\r\n    According to the spec (see the link bellow), however, setuptools CANNOT\r\n    consider this value unless 'readme' is listed as `dynamic`.\r\n\r\n    https://packaging.python.org/en/latest/specifications/declaring-project-metadata/\r\n\r\n    For the time being, `setuptools` will still consider the given value (as a\r\n    **transitional** measure), but please note that future releases of setuptools will\r\n    follow strictly the standard.\r\n\r\n    To prevent this warning, you can list 'readme' under `dynamic` or alternatively\r\n    remove the `[project]` table from your file and rely entirely on other means of\r\n    configuration.\r\n    \r\n\r\n!!\r\n    \r\n  warnings.warn(msg, _WouldIgnoreField)\r\nrunning egg_info\r\nwriting setuptools_pep621_readme.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools_pep621_readme.egg-info/dependency_links.txt\r\nwriting top-level names to setuptools_pep621_readme.egg-info/top_level.txt\r\nreading manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\n* Installing packages in isolated environment... (wheel)\r\n* Building wheel...\r\n/tmp/build-env-n_v08h44/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\n/tmp/build-env-n_v08h44/lib/python3.9/site-packages/setuptools/config/_apply_pyprojecttoml.py:93: _WouldIgnoreField: !!\r\n\r\n\r\n    ##########################################################################\r\n    # configuration would be ignored/result in error due to `pyproject.toml` #\r\n    ##########################################################################\r\n\r\n    The following seems to be defined outside of `pyproject.toml`:\r\n\r\n    `readme = 'This is a test readme.'`\r\n\r\n    According to the spec (see the link bellow), however, setuptools CANNOT\r\n    consider this value unless 'readme' is listed as `dynamic`.\r\n\r\n    https://packaging.python.org/en/latest/specifications/declaring-project-metadata/\r\n\r\n    For the time being, `setuptools` will still consider the given value (as a\r\n    **transitional** measure), but please note that future releases of setuptools will\r\n    follow strictly the standard.\r\n\r\n    To prevent this warning, you can list 'readme' under `dynamic` or alternatively\r\n    remove the `[project]` table from your file and rely entirely on other means of\r\n    configuration.\r\n    \r\n\r\n!!\r\n    \r\n  warnings.warn(msg, _WouldIgnoreField)\r\nrunning bdist_wheel\r\nrunning build\r\ninstalling to build/bdist.linux-x86_64/wheel\r\nrunning install\r\nrunning install_egg_info\r\nrunning egg_info\r\nwriting setuptools_pep621_readme.egg-info/PKG-INFO\r\nwriting dependency_links to setuptools_pep621_readme.egg-info/dependency_links.txt\r\nwriting top-level names to setuptools_pep621_readme.egg-info/top_level.txt\r\nreading manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nadding license file 'LICENSE.txt'\r\nwriting manifest file 'setuptools_pep621_readme.egg-info/SOURCES.txt'\r\nCopying setuptools_pep621_readme.egg-info to build/bdist.linux-x86_64/wheel/setuptools_pep621_readme-0.1.dev1-py3.9.egg-info\r\nrunning install_scripts\r\nadding license file \"LICENSE.txt\" (matched pattern \"LICEN[CS]E*\")\r\ncreating build/bdist.linux-x86_64/wheel/setuptools_pep621_readme-0.1.dev1.dist-info/WHEEL\r\ncreating '/.../setuptools-pep621-readme/dist/tmp8qw1jvw5/setuptools_pep621_readme-0.1.dev1-py3-none-any.whl' and adding 'build/bdist.linux-x86_64/wheel' to it\r\nadding 'setuptools_pep621_readme-0.1.dev1.dist-info/LICENSE.txt'\r\nadding 'setuptools_pep621_readme-0.1.dev1.dist-info/METADATA'\r\nadding 'setuptools_pep621_readme-0.1.dev1.dist-info/WHEEL'\r\nadding 'setuptools_pep621_readme-0.1.dev1.dist-info/top_level.txt'\r\nadding 'setuptools_pep621_readme-0.1.dev1.dist-info/RECORD'\r\nremoving build/bdist.linux-x86_64/wheel\r\nSuccessfully built setuptools-pep621-readme-0.1.dev1.tar.gz and setuptools_pep621_readme-0.1.dev1-py3-none-any.whl\r\n\r\n\r\n\r\n# Repro Step (2.)\r\n$ git checkout readme-dynamic && python -m build\r\nPrevious HEAD position was 127ba90 Initial commit\r\nHEAD is now at 84b342f Change to dynamic `readme`\r\n\r\nHEAD is now at 84b342f Change to dynamic `readme`\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools>=61, trove-classifiers, wheel)\r\n* Getting dependencies for sdist...\r\n/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\nTraceback (most recent call last):\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\r\n    main()\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 345, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 297, in get_requires_for_build_sdist\r\n    return hook(config_settings)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/build_meta.py\", line 181, in get_requires_for_build_sdist\r\n    return self._get_build_requires(config_settings, requirements=[])\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 12, in <module>\r\n    setup(\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 122, in setup\r\n    dist.parse_config_files()\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/dist.py\", line 854, in parse_config_files\r\n    pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 54, in apply_configuration\r\n    config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 134, in read_configuration\r\n    return expand_configuration(asdict, root_dir, ignore_option_errors, dist)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 189, in expand_configuration\r\n    return _ConfigExpander(config, root_dir, ignore_option_errors, dist).expand()\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 236, in expand\r\n    self._expand_all_dynamic(dist, package_dir)\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 279, in _expand_all_dynamic\r\n    readme=self._obtain_readme(dist),\r\n  File \"/tmp/build-env-uvtxu5az/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 323, in _obtain_readme\r\n    \"content-type\": dynamic_cfg[\"readme\"].get(\"content-type\", \"text/x-rst\"),\r\nKeyError: 'readme'\r\n\r\n\r\n\r\n# Repro Step (3.)\r\n$ git checkout long-desc-in-dynamic && python -m build\r\nPrevious HEAD position was 127ba90 Initial commit\r\nHEAD is now at c5b9d79 Switch to `long_description` in `dynamic`\r\n* Creating venv isolated environment...\r\n* Installing packages in isolated environment... (setuptools>=61, trove-classifiers, wheel)\r\n* Getting dependencies for sdist...\r\n/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:102: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\nconfiguration error: `project.dynamic[1]` must be one of ['version', 'description', 'readme', 'requires-python', 'license', 'authors', 'maintainers', 'keywords', 'classifiers', 'urls', 'scripts', 'gui-scripts', 'entry-points', 'dependencies', 'optional-dependencies']\r\nGIVEN VALUE:\r\n    \"long_description\"\r\n\r\nOFFENDING RULE: 'enum'\r\n\r\nDEFINITION:\r\n    {\r\n        \"enum\": [\r\n            \"version\",\r\n            \"description\",\r\n            \"readme\",\r\n            \"requires-python\",\r\n            \"license\",\r\n            \"authors\",\r\n            \"maintainers\",\r\n            \"keywords\",\r\n            \"classifiers\",\r\n            \"urls\",\r\n            \"scripts\",\r\n            \"gui-scripts\",\r\n            \"entry-points\",\r\n            \"dependencies\",\r\n            \"optional-dependencies\"\r\n        ]\r\n    }\r\nTraceback (most recent call last):\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\r\n    main()\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 345, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/.../setuptools-pep621-readme/env/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 297, in get_requires_for_build_sdist\r\n    return hook(config_settings)\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/build_meta.py\", line 181, in get_requires_for_build_sdist\r\n    return self._get_build_requires(config_settings, requirements=[])\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 12, in <module>\r\n    setup(\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 122, in setup\r\n    dist.parse_config_files()\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/dist.py\", line 854, in parse_config_files\r\n    pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 54, in apply_configuration\r\n    config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 120, in read_configuration\r\n    validate(subset, filepath)\r\n  File \"/tmp/build-env-yhivke4e/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 43, in validate\r\n    raise error from None\r\nValueError: invalid pyproject.toml config: `project.dynamic[1]`\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_sdist\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3238", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3238/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3238/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3238/events", "html_url": "https://github.com/pypa/setuptools/issues/3238", "id": 1189712025, "node_id": "I_kwDOA0bv8c5G6ZCZ", "number": 3238, "title": "[BUG] package-data in pyproject.toml not honored but same config in setup.py works", "user": {"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-01T12:16:02Z", "updated_at": "2022-04-01T21:41:04Z", "closed_at": "2022-04-01T13:04:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n61.3.0\n\n### Python version\n\n3.9\n\n### OS\n\nWindows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nInstalling the main branch of https://github.com/nucleic/enaml fails to install the package-data. Moving the package-data specification from pyproject.toml to setup.py however works. This means i.e. removing the section from pyproject.toml and adding the following to setup.py\r\n```python\r\npackage_data={\r\n        'enaml.applib': ['*.enaml'],\r\n        'enaml.stdlib': ['*.enaml'],\r\n        'enaml.workbench.core': ['*.enaml'],\r\n        'enaml.workbench.ui': ['*.enaml'],\r\n        'enaml.qt.docking': [\r\n            'dock_images/*.png',\r\n            'dock_images/*.py',\r\n            'enaml_dock_resources.qrc'\r\n        ],\r\n    },\r\n```\n\n### Expected behavior\n\nI would expect both configurations to be fully equivalent.\n\n### How to Reproduce\n\nRun `pip install git+https://github.com/nucleic/enaml@main` \n\n### Output\n\nInspect the installed package in particular enaml stdlib which should contain several .enaml files but does not.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3238/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3233", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3233/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3233/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3233/events", "html_url": "https://github.com/pypa/setuptools/issues/3233", "id": 1188922171, "node_id": "I_kwDOA0bv8c5G3YM7", "number": 3233, "title": "[BUG] 61.3.0 sdist misses setuptools/tests/config/setupcfg_examples.txt", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-31T22:25:20Z", "updated_at": "2022-04-01T21:38:31Z", "closed_at": "2022-04-01T21:38:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n61.3.0\r\n\r\n### Python version\r\n\r\n3.10.4\r\n\r\n### OS\r\n\r\nGentoo Linux\r\n\r\n### Additional environment information\r\n\r\nUsing sdist tarball from pypi.\r\n\r\n### Description\r\n\r\nMany tests fail when running from 61.3.0 due to a missing file, e.g.:\r\n\r\n```pytb\r\n________________________________ ERROR collecting setuptools/tests/config/test_apply_pyprojecttoml.py _________________________________\r\nsetuptools/tests/config/test_apply_pyprojecttoml.py:21: in <module>\r\n    EXAMPLES = (Path(__file__).parent / \"setupcfg_examples.txt\").read_text()\r\n/usr/lib/python3.10/pathlib.py:1132: in read_text\r\n    with self.open(mode='r', encoding=encoding, errors=errors) as f:\r\n/usr/lib/python3.10/pathlib.py:1117: in open\r\n    return self._accessor.open(self, mode, buffering, encoding, errors,\r\nE   FileNotFoundError: [Errno 2] No such file or directory: '/tmp/setuptools-61.3.0/setuptools/tests/config/setupcfg_examples.txt'\r\n```\r\n\r\n### Expected behavior\r\n\r\nTests passing ;-).\r\n\r\n### How to Reproduce\r\n\r\n```\r\ntar -xf setuptools-61.3.0.tar.gz\r\ncd setuptools-61.3.0\r\ntox -e py310\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n$ tox -e py310\r\npy310 create: /tmp/setuptools-61.3.0/.tox/py310\r\npy310 develop-inst: /tmp/setuptools-61.3.0\r\npy310 installed: attrs==21.4.0,autocommand==2.2.1,black==22.3.0,build==0.7.0,click==8.1.2,coverage==6.3.2,distlib==0.3.4,docutils==0.18.1,execnet==1.9.0,filelock==3.6.0,flake8==4.0.1,flake8-2020==1.6.1,importlib-metadata==4.11.3,ini2toml==0.10,iniconfig==1.1.1,jaraco.context==4.1.1,jaraco.envs==2.3.0,jaraco.functools==3.5.0,jaraco.path==3.3.1,mccabe==0.6.1,mock==4.0.3,more-itertools==8.12.0,mypy==0.942,mypy-extensions==0.4.3,packaging==21.3,path==16.4.0,pathspec==0.9.0,pep517==0.12.0,pip-run==8.8.0,platformdirs==2.5.1,pluggy==1.0.0,py==1.11.0,pycodestyle==2.8.0,pyflakes==2.4.0,pyparsing==3.0.7,pytest==7.1.1,pytest-black==0.3.12,pytest-checkdocs==2.7.1,pytest-cov==3.0.0,pytest-enabler==1.2.1,pytest-flake8==1.1.1,pytest-forked==1.4.0,pytest-mypy==0.9.1,pytest-perf==0.12.0,pytest-xdist==2.5.0,pytz==2022.1,singledispatch==3.7.0,six==1.16.0,tempora==5.0.1,toml==0.10.2,tomli==2.0.1,tomli_w==1.0.0,tox==3.24.5,typing_extensions==4.1.1,virtualenv==20.14.0,zipp==3.7.0\r\npy310 run-test-pre: PYTHONHASHSEED='525240523'\r\npy310 run-test: commands[0] | pytest\r\n========================================================= test session starts =========================================================\r\nplatform linux -- Python 3.10.4, pytest-7.1.1, pluggy-1.0.0\r\ncachedir: .tox/py310/.pytest_cache\r\nrootdir: /tmp/setuptools-61.3.0, configfile: pytest.ini\r\nplugins: xdist-2.5.0, black-0.3.12, cov-3.0.0, flake8-1.1.1, forked-1.4.0, mypy-0.9.1, perf-0.12.0, checkdocs-2.7.1, enabler-1.2.1\r\ngw0 ok / gw1 [1087] / gw2 ok / gw3 ok / gw4 [1087] / gw5 [1087] / gw6 [1087] / gw7 ok / gw8 [1087] / gw9 [1087] / gw10 [1087] / gw11 [1gw0 ok / gw1 [1087] / gw2 ok / gw3 [1087] / gw4 [1087] / gw5 [1087] / gw6 [1087] / gw7 ok / gw8 [1087] / gw9 [1087] / gw10 [1087] / gw1gw0 ok / gw1 [1087] / gw2 ok / gw3 [1087] / gw4 [1087] / gw5 [1087] / gw6 [1087] / gw7 [1087] / gw8 [1087] / gw9 [1087] / gw10 [1087] /gw0 ok / gw1 [1087] / gw2 [1087] / gw3 [1087] / gw4 [1087] / gw5 [1087] / gw6 [1087] / gw7 [1087] / gw8 [1087] / gw9 [1087] / gw10 [108gw0 [1087] / gw1 [1087] / gw2 [1087] / gw3 [1087] / gw4 [1087] / gw5 [1087] / gw6 [1087] / gw7 [1087] / gw8 [1087] / gw9 [1087] / gw10 [1087] / gw11 [1087]\r\n.........................s................F.............s..............................F.F..F...............F..F........F...s.. [ 11%]\r\n.........F.F.F.F...F................F.F.FXF....F...................................FFF....F.....F......................F....... [ 23%]\r\n.............................................................................s....................F.......F...................s [ 35%]\r\n...................................................................................................F........................... [ 46%]\r\n.................F.........................F...F.................................x.F.............x.....x......x......F......... [ 58%]\r\n..........F.....................s.........s............................................................ssss.................... [ 70%]\r\n...............................................x............................................................................... [ 81%]\r\n..................F..............................................F.sss.....................................FF.........F........ [ 93%]\r\n.............................s.sss.sF..F.sFF..s.s.x.x................X.                                                         [100%]/tmp/setuptools-61.3.0/.tox/py310/lib/python3.10/site-packages/coverage/report.py:87: CoverageWarning: Couldn't parse '/tmp/build-via-sdist-5bdmqfw1/ns.pkg-0.0.0/setup.py': No source for code: '/tmp/build-via-sdist-5bdmqfw1/ns.pkg-0.0.0/setup.py'. (couldnt-parse)\r\n  coverage._warn(msg, slug=\"couldnt-parse\")\r\n[...]\r\n\r\n=============================================================== ERRORS ================================================================\r\n________________________________ ERROR collecting setuptools/tests/config/test_apply_pyprojecttoml.py _________________________________\r\nsetuptools/tests/config/test_apply_pyprojecttoml.py:21: in <module>\r\n    EXAMPLES = (Path(__file__).parent / \"setupcfg_examples.txt\").read_text()\r\n/usr/lib/python3.10/pathlib.py:1132: in read_text\r\n    with self.open(mode='r', encoding=encoding, errors=errors) as f:\r\n/usr/lib/python3.10/pathlib.py:1117: in open\r\n    return self._accessor.open(self, mode, buffering, encoding, errors,\r\nE   FileNotFoundError: [Errno 2] No such file or directory: '/tmp/setuptools-61.3.0/setuptools/tests/config/setupcfg_examples.txt'\r\n________________________________ ERROR collecting setuptools/tests/config/test_apply_pyprojecttoml.py _________________________________\r\nsetuptools/tests/config/test_apply_pyprojecttoml.py:21: in <module>\r\n    EXAMPLES = (Path(__file__).parent / \"setupcfg_examples.txt\").read_text()\r\n/usr/lib/python3.10/pathlib.py:1132: in read_text\r\n    with self.open(mode='r', encoding=encoding, errors=errors) as f:\r\n/usr/lib/python3.10/pathlib.py:1117: in open\r\n    return self._accessor.open(self, mode, buffering, encoding, errors,\r\nE   FileNotFoundError: [Errno 2] No such file or directory: '/tmp/setuptools-61.3.0/setuptools/tests/config/setupcfg_examples.txt'\r\n[...]\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3221", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3221/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3221/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3221/events", "html_url": "https://github.com/pypa/setuptools/issues/3221", "id": 1182501196, "node_id": "I_kwDOA0bv8c5Ge4lM", "number": 3221, "title": "[BUG] [pyproject.toml] `%(otherextra)s` in `[project.optional-dependencies]`", "user": {"login": "marvinpfoertner", "id": 28652141, "node_id": "MDQ6VXNlcjI4NjUyMTQx", "avatar_url": "https://avatars.githubusercontent.com/u/28652141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marvinpfoertner", "html_url": "https://github.com/marvinpfoertner", "followers_url": "https://api.github.com/users/marvinpfoertner/followers", "following_url": "https://api.github.com/users/marvinpfoertner/following{/other_user}", "gists_url": "https://api.github.com/users/marvinpfoertner/gists{/gist_id}", "starred_url": "https://api.github.com/users/marvinpfoertner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marvinpfoertner/subscriptions", "organizations_url": "https://api.github.com/users/marvinpfoertner/orgs", "repos_url": "https://api.github.com/users/marvinpfoertner/repos", "events_url": "https://api.github.com/users/marvinpfoertner/events{/privacy}", "received_events_url": "https://api.github.com/users/marvinpfoertner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-27T11:55:29Z", "updated_at": "2022-03-27T15:31:54Z", "closed_at": "2022-03-27T15:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==61.1.1\n\n### Python version\n\nPython 3.9.7\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIn `setup.cfg` it is possible to define extras that depend on other extras:\r\n\r\n```ini\r\n[options.extras_require]\r\nextra1 =\r\n    numpy\r\n    scipy\r\n\r\nextra2 =\r\n    %(extra1)s\r\n    jax\r\n```\r\n\r\nIn `pyproject.toml`-based configuration, this is no longer possible.\n\n### Expected behavior\n\nThe following configuration in `pyproject.toml` config should behave exactly as the `setup.cfg` config above:\r\n\r\n```toml\r\n[project.optional-dependencies]\r\nextra1 = [\r\n    \"numpy\",\r\n    \"scipy\",\r\n]\r\nextra2 = [\r\n    \"%(extra1)s\",\r\n    \"jax\",\r\n]\r\n```\n\n### How to Reproduce\n\n1. clone the gist https://gist.github.com/marvinpfoertner/c5ec8a5bf0f1193d9a123892259e0ebb\r\n2. run `pip wheel .` or `python -m build`\n\n### Output\n\n```console\r\n* Creating virtualenv isolated environment...\r\n* Installing packages in isolated environment... (build, setuptools>=61.0.0)\r\n* Getting dependencies for sdist...\r\n/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:100: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n  warnings.warn(msg, _ExperimentalProjectMetadata)\r\nconfiguration error: `project.optional-dependencies.{data__optionaldependencies_key}[{data__optionaldependencies_val_x}]` must be pep508\r\nDESCRIPTION:\r\n    Project dependency specification according to PEP 508\r\n\r\nGIVEN VALUE:\r\n    \"%(extra1)s\"\r\n\r\nOFFENDING RULE: 'format'\r\n\r\nDEFINITION:\r\n    {\r\n        \"$id\": \"#/definitions/dependency\",\r\n        \"title\": \"Dependency\",\r\n        \"type\": \"string\",\r\n        \"format\": \"pep508\"\r\n    }\r\nignored error: ValueError - invalid pyproject.toml config: `project.optional-dependencies.{data__optionaldependencies_key}[{data__optionaldependencies_val_x}]`\r\nTraceback (most recent call last):\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/requirements.py\", line 102, in __init__\r\n    req = REQUIREMENT.parseString(requirement_string)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1654, in parseString\r\n    raise exc\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1644, in parseString\r\n    loc, tokens = self._parse( instring, 0 )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 3417, in parseImpl\r\n    loc, exprtokens = e._parse( instring, loc, doActions )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 3739, in parseImpl\r\n    return self.expr._parse( instring, loc, doActions, callPreParse=False )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 3400, in parseImpl\r\n    loc, resultlist = self.exprs[0]._parse( instring, loc, doActions, callPreParse=False )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 1406, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/pyparsing.py\", line 2711, in parseImpl\r\n    raise ParseException(instring, loc, self.errmsg, self)\r\npkg_resources._vendor.pyparsing.ParseException: Expected W:(abcd...) (at char 0), (line:1, col:1)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/marvin/.local/miniconda3/envs/probnum/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\r\n    main()\r\n  File \"/Users/marvin/.local/miniconda3/envs/probnum/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 345, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/Users/marvin/.local/miniconda3/envs/probnum/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 297, in get_requires_for_build_sdist\r\n    return hook(config_settings)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/build_meta.py\", line 181, in get_requires_for_build_sdist\r\n    return self._get_build_requires(config_settings, requirements=[])\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 1, in <module>\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/__init__.py\", line 78, in setup\r\n    _install_setup_requires(attrs)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/__init__.py\", line 70, in _install_setup_requires\r\n    dist.parse_config_files(ignore_option_errors=True)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/_virtualenv.py\", line 21, in parse_config_files\r\n    result = old_parse_config_files(self, *args, **kwargs)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/dist.py\", line 836, in parse_config_files\r\n    pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py\", line 53, in apply_configuration\r\n    return apply(dist, config, filepath)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/config/_apply_pyprojecttoml.py\", line 56, in apply\r\n    dist._finalize_requires()\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/dist.py\", line 551, in _finalize_requires\r\n    self._convert_extras_requirements()\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/setuptools/dist.py\", line 565, in _convert_extras_requirements\r\n    for r in _reqs.parse(v):\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3089, in __init__\r\n    super(Requirement, self).__init__(requirement_string)\r\n  File \"/private/var/folders/kv/d8qqy4d14rz7qhqchrb0l6l00000gn/T/build-env-tot0a9_u/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/requirements.py\", line 104, in __init__\r\n    raise InvalidRequirement(\r\npkg_resources.extern.packaging.requirements.InvalidRequirement: Parse error at \"'%(extra1'\": Expected W:(abcd...)\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_sdist\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3219", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3219/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3219/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3219/events", "html_url": "https://github.com/pypa/setuptools/issues/3219", "id": 1182308899, "node_id": "I_kwDOA0bv8c5GeJoj", "number": 3219, "title": "[BUG] wrong EXT_SUFFIX on python 3.7 on Windows", "user": {"login": "axnsan12", "id": 6382979, "node_id": "MDQ6VXNlcjYzODI5Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6382979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axnsan12", "html_url": "https://github.com/axnsan12", "followers_url": "https://api.github.com/users/axnsan12/followers", "following_url": "https://api.github.com/users/axnsan12/following{/other_user}", "gists_url": "https://api.github.com/users/axnsan12/gists{/gist_id}", "starred_url": "https://api.github.com/users/axnsan12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axnsan12/subscriptions", "organizations_url": "https://api.github.com/users/axnsan12/orgs", "repos_url": "https://api.github.com/users/axnsan12/repos", "events_url": "https://api.github.com/users/axnsan12/events{/privacy}", "received_events_url": "https://api.github.com/users/axnsan12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-27T03:59:32Z", "updated_at": "2022-04-11T08:46:59Z", "closed_at": "2022-04-11T08:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n`>=61`\r\n\r\n### Python version\r\n\r\n3.7\r\n\r\n### OS\r\n\r\nWindows\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nThis setuptools commit changed the bundled `distutils.sysconfig` to transparently forward `get_config_var` to the interpreter builtin sysconfig: https://github.com/pypa/setuptools/commit/4b313f0d8600e8957736df7d0ffb795d187ab955\r\n\r\nHowever, as mentioned in [this python bug](https://bugs.python.org/issue39825), sysconfig is (was) broken and returns a bad EXT_SUFFIX on python >=3.7. The issue was [fixed in 3.10](https://github.com/python/cpython/commit/c0afb7fa0ebd1c0e95c0760bbe75a99a8dd12ea6), with a backport into 3.8 and 3.9, however 3.7 was completely left behind.\r\n\r\nThis problem was [mentioned on the setuptools issue tracker](https://github.com/pypa/setuptools/issues/2261#issuecomment-687060141) in the past, but the knowledge seems to since have slipped the collective mind.\r\n\r\nSince setuptools hijacks `import distutils` by default, this means that anyone using python 3.7, or an older 3.8 or 3.9 installation, will suddenly start getting a wrong `EXT_SUFFIX` by simply updating to `setuptools>=61`, and the only way to get back the correct behavior is to `set SETUPTOOLS_USE_DISTUTILS=stdlib` to prevent the hijacking. Given this overarching impact I believe it's unfair to impose such a breaking change on users unsuspectingly using older python versions.\r\n\r\nNotably, this completely breaks CMake builds of extension modules with FindPython when using affected python versions, since [they use `distutils.sysconfig`](https://gitlab.kitware.com/cmake/cmake/-/blob/843d1d198d15f65781d71118573461fb03a3101c/Modules/FindPython/Support.cmake#L503) to determine the required EXT_SUFFIX.\r\n\r\n\r\n### Expected behavior\r\n\r\nReturn proper EXT_SUFFIX on any python version >=3.7 (e.g. `.cp37-win_amd64.pyd`)\r\n\r\n### How to Reproduce\r\n\r\n1. Install `setuptools>=61`\r\n2. `py -3.7 -c \"from distutils import sysconfig; print(sysconfig.get_config_var('EXT_SUFFIX'))\"`\r\n\r\n### Output\r\n\r\n```console\r\n.pyd\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3204", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3204/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3204/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3204/events", "html_url": "https://github.com/pypa/setuptools/issues/3204", "id": 1180832442, "node_id": "I_kwDOA0bv8c5GYhK6", "number": 3204, "title": "[BUG] [pyproject.toml] Requirements with markers are ignored if project.optional-dependencies is set", "user": {"login": "domdfcoding", "id": 8050853, "node_id": "MDQ6VXNlcjgwNTA4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8050853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domdfcoding", "html_url": "https://github.com/domdfcoding", "followers_url": "https://api.github.com/users/domdfcoding/followers", "following_url": "https://api.github.com/users/domdfcoding/following{/other_user}", "gists_url": "https://api.github.com/users/domdfcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/domdfcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domdfcoding/subscriptions", "organizations_url": "https://api.github.com/users/domdfcoding/orgs", "repos_url": "https://api.github.com/users/domdfcoding/repos", "events_url": "https://api.github.com/users/domdfcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/domdfcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-25T14:02:10Z", "updated_at": "2022-03-27T16:32:52Z", "closed_at": "2022-03-27T16:32:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==61.0.0\n\n### Python version\n\nPython 3.8\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIf `install_requires` is defined in `setup.py` and the `[project.optional-dependencies]` table is defined in `pyproject.toml`, requirements with markers (e.g. `importlib-resources (>=3.0.0) ; python_version < \"3.7\"`) are not listed in the resulting metadata (`requires.txt` for sdists and `METADATA` for wheels).\r\n\r\nThis is due to the way setuptools handles these requirements. \"Complex\" requirements are added to `extras_require` with keys like `:python_version < \"3.7\"` and the values being the requirements without the marker (e.g. `importlib-resources>=3.0.0`).\r\n\r\nhttps://github.com/pypa/setuptools/blob/4923d1139be9366b3010a6d6e56d4c4980a0ab6e/setuptools/dist.py#L590-L601\r\n\r\nHowever, when the metadata is loaded from `pyproject.toml` it is occuring *after* this parsing and overrides the existing value for `extras_require`, including these \"special\" keys. \n\n### Expected behavior\n\nThe resulting metadata includes all requirements listed under `install_requires` in `setup.py`, and all optional dependencies given in `pyproject.toml`.\n\n### How to Reproduce\n\n1. Clone this gist: https://gist.github.com/domdfcoding/06ed6053a64b01335268c78ac1c27b04\r\n2. Run `pip wheel .`\r\n3. Check the `METADATA` file in the wheel. There should be the line `Requires-Dist: importlib-resources (>=3.0.0) ; python_version < \"3.7\"` but it isn't there.\n\n### Output\n\n```console\r\n/tmp$ git clone https://gist.github.com/domdfcoding/06ed6053a64b01335268c78ac1c27b04\r\nCloning into '06ed6053a64b01335268c78ac1c27b04'...\r\nremote: Enumerating objects: 7, done.\r\nremote: Counting objects: 100% (7/7), done.\r\nremote: Compressing objects: 100% (7/7), done.\r\nremote: Total 7 (delta 1), reused 0 (delta 0), pack-reused 0\r\nUnpacking objects: 100% (7/7), 834 bytes | 834.00 KiB/s, done.\r\n/tmp$ cd 06ed6053a64b01335268c78ac1c27b04\r\n/tmp/06ed6053a64b01335268c78ac1c27b04$ pip wheel .\r\nProcessing /tmp/06ed6053a64b01335268c78ac1c27b04\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: project\r\n  Building wheel for project (pyproject.toml) ... done\r\n  Created wheel for project: filename=project-1.0.0-py3-none-any.whl size=1013 sha256=4d1848166743b87cb716f1af0294752bb3693ad8c6f7f9b2ca51110ed3cbedfa\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-dbmhbh9w/wheels/16/e0/28/1173208411691c77e8cfe1f17eb35231451f2a5768eb1cc38b\r\nSuccessfully built project\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3201", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3201/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3201/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3201/events", "html_url": "https://github.com/pypa/setuptools/issues/3201", "id": 1180699343, "node_id": "I_kwDOA0bv8c5GYArP", "number": 3201, "title": "[BUG] Removal of convert_path break some packages", "user": {"login": "pierresouchay", "id": 8089033, "node_id": "MDQ6VXNlcjgwODkwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/8089033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierresouchay", "html_url": "https://github.com/pierresouchay", "followers_url": "https://api.github.com/users/pierresouchay/followers", "following_url": "https://api.github.com/users/pierresouchay/following{/other_user}", "gists_url": "https://api.github.com/users/pierresouchay/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierresouchay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierresouchay/subscriptions", "organizations_url": "https://api.github.com/users/pierresouchay/orgs", "repos_url": "https://api.github.com/users/pierresouchay/repos", "events_url": "https://api.github.com/users/pierresouchay/events{/privacy}", "received_events_url": "https://api.github.com/users/pierresouchay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-25T11:47:51Z", "updated_at": "2022-03-25T17:01:43Z", "closed_at": "2022-03-25T15:19:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools=61.0.0\n\n### Python version\n\nPython 3.9\n\n### OS\n\nall\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nSome packages such as Cartopy have been broken by upgrade to setuptools=61.0.0\r\n\r\nhttps://github.com/SciTools/cartopy/issues/2021\r\n\r\nThis is because of commit https://github.com/pypa/setuptools/commit/1ee962510ba66578f6069e6a675b3715ad12ac0b which removes the import\r\n```python\r\nfrom distutils.util import convert_path\r\n```\r\n\r\nThis should at least be in the changelog as breakage of API\n\n### Expected behavior\n\nRemoving import from __init__.py should be documented in the [CHANGES.rst file](https://github.com/pypa/setuptools/blob/main/CHANGES.rst) for version 61.0.0\n\n### How to Reproduce\n\nTry installing Cartopy with lastest setuptools version\n\n### Output\n\n```console\r\nImportError: cannot import name 'convert_path' from 'setuptools'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3201/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3200", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3200/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3200/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3200/events", "html_url": "https://github.com/pypa/setuptools/issues/3200", "id": 1180693088, "node_id": "I_kwDOA0bv8c5GX_Jg", "number": 3200, "title": "[BUG] Package Dir is No Longer Optional", "user": {"login": "blink1073", "id": 2096628, "node_id": "MDQ6VXNlcjIwOTY2Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2096628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blink1073", "html_url": "https://github.com/blink1073", "followers_url": "https://api.github.com/users/blink1073/followers", "following_url": "https://api.github.com/users/blink1073/following{/other_user}", "gists_url": "https://api.github.com/users/blink1073/gists{/gist_id}", "starred_url": "https://api.github.com/users/blink1073/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blink1073/subscriptions", "organizations_url": "https://api.github.com/users/blink1073/orgs", "repos_url": "https://api.github.com/users/blink1073/repos", "events_url": "https://api.github.com/users/blink1073/events{/privacy}", "received_events_url": "https://api.github.com/users/blink1073/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-25T11:40:42Z", "updated_at": "2022-03-25T15:17:20Z", "closed_at": "2022-03-25T15:17:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==61.0.0\r\n\r\n### Python version\r\n\r\nPython 3.8.13\r\n\r\n### OS\r\n\r\nmacOS 12.3\r\n\r\n### Additional environment information\r\n\r\nThis is happening across python versions and operating systems in CI.\r\n\r\n\r\n\r\n### Description\r\n\r\nPrior to setuptools 61.0.0, [`jupyter_releaser`](https://github.com/jupyter-server/jupyter_releaser) would properly include `jupyter_releaser/schema.json` in the wheel.  It is now excluded.  We had relied on [`MANIFEST.in`](https://github.com/jupyter-server/jupyter_releaser/blob/bf20b46c53445f2a0c05bccce6bca354eacb4c27/MANIFEST.in#L6) and [`include_package_data=True`](https://github.com/jupyter-server/jupyter_releaser/blob/bf20b46c53445f2a0c05bccce6bca354eacb4c27/setup.cfg#L26).\r\n\r\nIf I explicitly add the following to the `options` table in `setup.cfg` it works, but we did not have to do so previously:\r\n\r\n```\r\npackage_dir =\r\n    \"\" = \"jupyter_releaser\"\r\n```\r\n\r\nThe file is included in the sdist.\r\n\r\n### Expected behavior\r\n\r\nWe expect the package data to be included.\r\n\r\n### How to Reproduce\r\n\r\n1. `git clone git@github.com:jupyter-server/jupyter_releaser.git`\r\n2. `cd jupyter_releaser`\r\n3. `pip install build`\r\n4. `python -m build --wheel`\r\n\r\n### Output\r\n\r\n```console\r\n* Creating virtualenv isolated environment...\r\n* Installing packages in isolated environment... (setuptools>=40.8.0, wheel)\r\n* Getting dependencies for wheel...\r\nrunning egg_info\r\nwriting jupyter_releaser.egg-info/PKG-INFO\r\nwriting dependency_links to jupyter_releaser.egg-info/dependency_links.txt\r\nwriting entry points to jupyter_releaser.egg-info/entry_points.txt\r\nwriting requirements to jupyter_releaser.egg-info/requires.txt\r\nwriting top-level names to jupyter_releaser.egg-info/top_level.txt\r\nreading manifest file 'jupyter_releaser.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nno previously-included directories found matching 'media'\r\nno previously-included directories found matching 'docs'\r\nwarning: no previously-included files found matching 'readthedocs.yml'\r\nadding license file 'LICENSE'\r\nwriting manifest file 'jupyter_releaser.egg-info/SOURCES.txt'\r\n* Installing packages in isolated environment... (wheel)\r\n* Building wheel...\r\nrunning bdist_wheel\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build/lib\r\ncreating build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/tee.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/lib.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/util.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/__init__.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/npm.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/changelog.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/cli.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/python.py -> build/lib/jupyter_releaser\r\ncopying ./jupyter_releaser/__main__.py -> build/lib/jupyter_releaser\r\ncreating build/lib/jupyter_releaser/tests\r\ncopying ./jupyter_releaser/tests/conftest.py -> build/lib/jupyter_releaser/tests\r\ncopying ./jupyter_releaser/tests/util.py -> build/lib/jupyter_releaser/tests\r\ncopying ./jupyter_releaser/tests/__init__.py -> build/lib/jupyter_releaser/tests\r\ncopying ./jupyter_releaser/tests/test_functions.py -> build/lib/jupyter_releaser/tests\r\ncopying ./jupyter_releaser/tests/test_cli.py -> build/lib/jupyter_releaser/tests\r\ncreating build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/check_links.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/__init__.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/draft_release.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/generate-changelog.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/common.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/publish_release.py -> build/lib/jupyter_releaser/actions\r\ncopying ./jupyter_releaser/actions/draft_changelog.py -> build/lib/jupyter_releaser/actions\r\nrunning egg_info\r\nwriting jupyter_releaser.egg-info/PKG-INFO\r\nwriting dependency_links to jupyter_releaser.egg-info/dependency_links.txt\r\nwriting entry points to jupyter_releaser.egg-info/entry_points.txt\r\nwriting requirements to jupyter_releaser.egg-info/requires.txt\r\nwriting top-level names to jupyter_releaser.egg-info/top_level.txt\r\nreading manifest file 'jupyter_releaser.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nno previously-included directories found matching 'media'\r\nno previously-included directories found matching 'docs'\r\nwarning: no previously-included files found matching 'readthedocs.yml'\r\nadding license file 'LICENSE'\r\nwriting manifest file 'jupyter_releaser.egg-info/SOURCES.txt'\r\ninstalling to build/bdist.macosx-10.9-x86_64/wheel\r\nrunning install\r\nrunning install_lib\r\ncreating build/bdist.macosx-10.9-x86_64\r\ncreating build/bdist.macosx-10.9-x86_64/wheel\r\ncreating build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/tee.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/lib.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/util.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncreating build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/tests/conftest.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/tests/util.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/tests/__init__.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/tests/test_functions.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/tests/test_cli.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/tests\r\ncopying build/lib/jupyter_releaser/__init__.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/npm.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/changelog.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/cli.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncreating build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/check_links.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/__init__.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/draft_release.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/generate-changelog.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/common.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/publish_release.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/actions/draft_changelog.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser/actions\r\ncopying build/lib/jupyter_releaser/python.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\ncopying build/lib/jupyter_releaser/__main__.py -> build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser\r\nrunning install_egg_info\r\nCopying jupyter_releaser.egg-info to build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser-0.13.2-py3.10.egg-info\r\nrunning install_scripts\r\nadding license file \"LICENSE\" (matched pattern \"LICEN[CS]E*\")\r\ncreating build/bdist.macosx-10.9-x86_64/wheel/jupyter_releaser-0.13.2.dist-info/WHEEL\r\ncreating '/Users/steve.silvester/workspace/jupyter_releaser/dist/tmp62e85uay/jupyter_releaser-0.13.2-py3-none-any.whl' and adding 'build/bdist.macosx-10.9-x86_64/wheel' to it\r\nadding 'jupyter_releaser/__init__.py'\r\nadding 'jupyter_releaser/__main__.py'\r\nadding 'jupyter_releaser/changelog.py'\r\nadding 'jupyter_releaser/cli.py'\r\nadding 'jupyter_releaser/lib.py'\r\nadding 'jupyter_releaser/npm.py'\r\nadding 'jupyter_releaser/python.py'\r\nadding 'jupyter_releaser/tee.py'\r\nadding 'jupyter_releaser/util.py'\r\nadding 'jupyter_releaser/actions/__init__.py'\r\nadding 'jupyter_releaser/actions/check_links.py'\r\nadding 'jupyter_releaser/actions/common.py'\r\nadding 'jupyter_releaser/actions/draft_changelog.py'\r\nadding 'jupyter_releaser/actions/draft_release.py'\r\nadding 'jupyter_releaser/actions/generate-changelog.py'\r\nadding 'jupyter_releaser/actions/publish_release.py'\r\nadding 'jupyter_releaser/tests/__init__.py'\r\nadding 'jupyter_releaser/tests/conftest.py'\r\nadding 'jupyter_releaser/tests/test_cli.py'\r\nadding 'jupyter_releaser/tests/test_functions.py'\r\nadding 'jupyter_releaser/tests/util.py'\r\nadding 'jupyter_releaser-0.13.2.dist-info/LICENSE'\r\nadding 'jupyter_releaser-0.13.2.dist-info/METADATA'\r\nadding 'jupyter_releaser-0.13.2.dist-info/WHEEL'\r\nadding 'jupyter_releaser-0.13.2.dist-info/entry_points.txt'\r\nadding 'jupyter_releaser-0.13.2.dist-info/top_level.txt'\r\nadding 'jupyter_releaser-0.13.2.dist-info/RECORD'\r\nremoving build/bdist.macosx-10.9-x86_64/wheel\r\nSuccessfully built jupyter_releaser-0.13.2-py3-none-any.whl\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3198", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3198/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3198/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3198/events", "html_url": "https://github.com/pypa/setuptools/issues/3198", "id": 1180445282, "node_id": "I_kwDOA0bv8c5GXCpi", "number": 3198, "title": "[BUG] 61.0.0 breaks \"setup.py install\" by missing dependencies in install_requires", "user": {"login": "andy-maier", "id": 8939758, "node_id": "MDQ6VXNlcjg5Mzk3NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/8939758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andy-maier", "html_url": "https://github.com/andy-maier", "followers_url": "https://api.github.com/users/andy-maier/followers", "following_url": "https://api.github.com/users/andy-maier/following{/other_user}", "gists_url": "https://api.github.com/users/andy-maier/gists{/gist_id}", "starred_url": "https://api.github.com/users/andy-maier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andy-maier/subscriptions", "organizations_url": "https://api.github.com/users/andy-maier/orgs", "repos_url": "https://api.github.com/users/andy-maier/repos", "events_url": "https://api.github.com/users/andy-maier/events{/privacy}", "received_events_url": "https://api.github.com/users/andy-maier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 31, "created_at": "2022-03-25T07:34:52Z", "updated_at": "2022-05-31T05:57:46Z", "closed_at": "2022-03-26T15:14:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n61.0.0\r\n\r\n### Python version\r\n\r\n3.10\r\n\r\n### OS\r\n\r\nubuntu-latest in GitHub Actions\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nIn our pywbem package, we test the different documented methods to install the package. One of them is still \"setup.py install\". I do understand that it is deprecated since setuptools v58.3.0, but that still means it should be expected to work.\r\n\r\nThe issue is that the \"setup.py install\" command successfully installs the pywbem package, but upon import it turns out that dependent packages were not installed, e.g. \"six\".\r\n\r\nThe GitHub Actions test run showing that is: https://github.com/pywbem/pywbem/runs/5687824533?check_suite_focus=true\r\n\r\n\"pip install\" on the package works with setuptools 61.0.0 and does install the dependent packages.\r\n\r\nThe requirements.txt file of the pywbem project does specify the dependent packages and the setup.py script loads the dependencies from requirements.txt and specifies them in the \"install_requires\" parameter of setup().\r\n\r\nThe \"setup.py install\" approach worked before setuptools 61.0.0, e.g. with 60.10.0, see [this test run](https://github.com/pywbem/pywbem/runs/5626093559?check_suite_focus=true#step:22:2157).\r\n\r\n### Expected behavior\r\n\r\n61.0.0 should still support \"setup.py install\" as before.\r\n\r\n### How to Reproduce\r\n\r\n1. Create a new virtual env on Python 3.10\r\n2. `pip install setuptools==61.0.0; pip uninstall six`\r\n3. `git clone https://github.com/pywbem/pywbem.git; cd pywbem`\r\n4. `./setup.py install`  # should succeed\r\n5. `pip list`  # should display:\r\n   ```\r\n   Package    Version\r\n   ---------- ----------\r\n   pip        22.0.4\r\n   pywbem     1.5.0.dev1\r\n   setuptools 61.0.0\r\n   wheel      0.37.1\r\n   ```\r\n   and the issue is that the dependent packages are not installed.\r\n6. `pip install .`  # should succeed\r\n7. `pip list`  # should display the correctly installed dependencies:\r\n   ```\r\n   Package            Version\r\n   ------------------ ----------\r\n   certifi            2021.10.8\r\n   charset-normalizer 2.0.12\r\n   idna               3.3\r\n   nocasedict         1.0.2\r\n   nocaselist         1.0.4\r\n   pip                22.0.4\r\n   ply                3.11\r\n   pywbem             1.5.0.dev1\r\n   PyYAML             6.0\r\n   requests           2.27.1\r\n   setuptools         61.0.0\r\n   six                1.16.0\r\n   urllib3            1.26.9\r\n   wheel              0.37.1\r\n   yamlloader         1.1.0\r\n   ```\r\n\r\n### Output\r\n\r\nSee above", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3197", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3197/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3197/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3197/events", "html_url": "https://github.com/pypa/setuptools/issues/3197", "id": 1180405378, "node_id": "I_kwDOA0bv8c5GW46C", "number": 3197, "title": "[BUG] ", "user": {"login": "aragilar", "id": 1281144, "node_id": "MDQ6VXNlcjEyODExNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1281144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aragilar", "html_url": "https://github.com/aragilar", "followers_url": "https://api.github.com/users/aragilar/followers", "following_url": "https://api.github.com/users/aragilar/following{/other_user}", "gists_url": "https://api.github.com/users/aragilar/gists{/gist_id}", "starred_url": "https://api.github.com/users/aragilar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aragilar/subscriptions", "organizations_url": "https://api.github.com/users/aragilar/orgs", "repos_url": "https://api.github.com/users/aragilar/repos", "events_url": "https://api.github.com/users/aragilar/events{/privacy}", "received_events_url": "https://api.github.com/users/aragilar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 40, "created_at": "2022-03-25T06:39:21Z", "updated_at": "2022-04-13T14:21:52Z", "closed_at": "2022-03-25T19:01:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n61.0.0\n\n### Python version\n\n3.9\n\n### OS\n\nDebian Unstable\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nkiwisolver 1.4.0 (I haven't checked earlier versions, but kiwisolver 1.4.0 did modernise their build, so issues with earlier versions will likely be to different code) can no build from source. I filed https://github.com/nucleic/kiwi/issues/130 with the kiwisolver developers, but it appears that setuptools 60.10.0 does work.  Based on looking at https://github.com/pypa/setuptools/compare/v60.10.0...v61.0.0 and the error message that appears (see output), I think this is related to the new(?) package discovery mechanism. I'm not a kiwisolver developer, so I can't answer questions about their build system (other than link you to the repository), but I'm filing this as it appears to be a regression (give setuptools 61 came out 10 hours ago when I wrote this).\n\n### Expected behavior\n\nI expect `pip install kiwisolver` would build a wheel and install it.\n\n### How to Reproduce\n\n1. Run `pip install kiwisolver` (given kiwisolver has wheels, you may need to disable using wheels to not download a pre-built wheel).\n\n### Output\n\n```console\r\n      /tmp/pip-build-env-nwrt4o9m/overlay/lib/python3.9/site-packages/setuptools/config/pyprojecttoml.py:100: _ExperimentalProjectMetadata: Support for project metadata in `pyproject.toml` is still experimental and may be removed (or change) in future releases.\r\n        warnings.warn(msg, _ExperimentalProjectMetadata)\r\n      Install ``trove-classifiers`` to ensure proper validation. Meanwhile a list of classifiers will be downloaded from PyPI.\r\n      error: Multiple top-level packages discovered in a flat-layout: ['py', 'kiwi'].\r\n      \r\n      To avoid accidental inclusion of unwanted files or directories,\r\n      setuptools will not proceed with this build.\r\n      \r\n      If you are trying to create a single distribution with multiple packages\r\n      on purpose, you should not rely on automatic discovery.\r\n      Instead, consider the following options:\r\n      \r\n      1. set up custom discovery (`find` directive with `include` or `exclude`)\r\n      2. use a `src-layout`\r\n      3. explicitly set `py_modules` or `packages` with a list of names\r\n      \r\n      To find more information, look for \"package discovery\" on setuptools docs.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3197/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3195", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3195/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3195/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3195/events", "html_url": "https://github.com/pypa/setuptools/issues/3195", "id": 1180103665, "node_id": "I_kwDOA0bv8c5GVvPx", "number": 3195, "title": "[BUG] [pyproject.toml] Setuptools improperly backfills values in pyproject.toml", "user": {"login": "domdfcoding", "id": 8050853, "node_id": "MDQ6VXNlcjgwNTA4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8050853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domdfcoding", "html_url": "https://github.com/domdfcoding", "followers_url": "https://api.github.com/users/domdfcoding/followers", "following_url": "https://api.github.com/users/domdfcoding/following{/other_user}", "gists_url": "https://api.github.com/users/domdfcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/domdfcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domdfcoding/subscriptions", "organizations_url": "https://api.github.com/users/domdfcoding/orgs", "repos_url": "https://api.github.com/users/domdfcoding/repos", "events_url": "https://api.github.com/users/domdfcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/domdfcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "abravalheri", "id": 320755, "node_id": "MDQ6VXNlcjMyMDc1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abravalheri", "html_url": "https://github.com/abravalheri", "followers_url": "https://api.github.com/users/abravalheri/followers", "following_url": "https://api.github.com/users/abravalheri/following{/other_user}", "gists_url": "https://api.github.com/users/abravalheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/abravalheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abravalheri/subscriptions", "organizations_url": "https://api.github.com/users/abravalheri/orgs", "repos_url": "https://api.github.com/users/abravalheri/repos", "events_url": "https://api.github.com/users/abravalheri/events{/privacy}", "received_events_url": "https://api.github.com/users/abravalheri/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abravalheri", "id": 320755, "node_id": "MDQ6VXNlcjMyMDc1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abravalheri", "html_url": "https://github.com/abravalheri", "followers_url": "https://api.github.com/users/abravalheri/followers", "following_url": "https://api.github.com/users/abravalheri/following{/other_user}", "gists_url": "https://api.github.com/users/abravalheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/abravalheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abravalheri/subscriptions", "organizations_url": "https://api.github.com/users/abravalheri/orgs", "repos_url": "https://api.github.com/users/abravalheri/repos", "events_url": "https://api.github.com/users/abravalheri/events{/privacy}", "received_events_url": "https://api.github.com/users/abravalheri/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-03-24T22:07:33Z", "updated_at": "2022-03-27T14:56:31Z", "closed_at": "2022-03-27T14:56:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==61.0.0 \n\n### Python version\n\nPython 3.8\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen using `pyproject.toml` for configuration alongside `setup.cfg`, `setuptools` will use the value for `classifiers` from `setup.cfg` if it is not given in `pyprojet.toml` *even if*`classifiers` is not listed in `dynamic`. This is not allowed under PEP 621[1]\r\n\r\n> If the metadata does not list a field in dynamic, then a build back-end CANNOT fill in the requisite metadata on behalf of the user (i.e. dynamic is the only way to allow a tool to fill in metadata and the user must opt into the filling in).\r\n\r\n\r\n[1] https://peps.python.org/pep-0621/#dynamic\n\n### Expected behavior\n\n`setuptools` should only take the value from `setup.cfg` is `classifiers` is listed in `dynamic`.\r\n\r\nThere is a separate issue where if `classifiers` *is* in `dynamic`, `setuptools` throws an error:\r\n\r\n```\r\n  File \"/tmp/build-env-lbp441r9/lib/python3.8/site-packages/setuptools/dist.py\", line 836, in parse_config_files\r\n    pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n  File \"/tmp/build-env-lbp441r9/lib/python3.8/site-packages/setuptools/config/pyprojecttoml.py\", line 52, in apply_configuration\r\n    config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n  File \"/tmp/build-env-lbp441r9/lib/python3.8/site-packages/setuptools/config/pyprojecttoml.py\", line 118, in read_configuration\r\n    return expand_configuration(asdict, root_dir, ignore_option_errors, dist)\r\n  File \"/tmp/build-env-lbp441r9/lib/python3.8/site-packages/setuptools/config/pyprojecttoml.py\", line 163, in expand_configuration\r\n    _expand_all_dynamic(project_cfg, setuptools_cfg, package_dir, root_dir, ignore)\r\n  File \"/tmp/build-env-lbp441r9/lib/python3.8/site-packages/setuptools/config/pyprojecttoml.py\", line 252, in _expand_all_dynamic\r\n    project_cfg[\"classifiers\"] = value.splitlines()\r\nAttributeError: 'NoneType' object has no attribute 'splitlines'\r\n```\r\n\n\n### How to Reproduce\n\n1. Clone the following gist: https://gist.github.com/domdfcoding/88f2b9d8e7cfd3c39a3404c3be6e4c87\r\n2. Build the project with `python3 -m pip wheel .`\r\n3. Inspect the METADATA file in the wheel, and observe the presence of the `Development Status :: 5 - Production/Stable\r\n` classifier.\n\n### Output\n\nN/A", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3176", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3176/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3176/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3176/events", "html_url": "https://github.com/pypa/setuptools/issues/3176", "id": 1173662101, "node_id": "I_kwDOA0bv8c5F9KmV", "number": 3176, "title": "[BUG] __version__ must be imported first to be used as attr", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-18T14:35:15Z", "updated_at": "2022-03-24T16:53:57Z", "closed_at": "2022-03-24T16:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.10.0\n\n### Python version\n\n3.9.10\n\n### OS\n\nUbuntu 22.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\n(The reproduce this bug, [here](https://github.com/nschloe/setuptools-attr-bug) is an MWE.)\r\n\r\nIn a Python project organized like\r\n\r\n```\r\n.\r\n\u251c\u2500\u2500 pyproject.toml\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 setup.cfg\r\n\u2514\u2500\u2500 src\r\n    \u2514\u2500\u2500 foobar\r\n        \u251c\u2500\u2500 __about__.py\r\n        \u251c\u2500\u2500 __init__.py\r\n        \u2514\u2500\u2500 _main.py\r\n```\r\nwith `__about__.py` reading\r\n\r\n```python\r\n__version__ = \"1.0.0\"\r\n```\r\n\r\nI would like to use this `__version__` in `setup.cfg`. I specified\r\n\r\n```\r\nversion = attr: foobar.__about__.__version__\r\n```\r\n\r\nHowever, this _only_ works if `__init__.py` imports `__about__` before anything else. In the MWE, a third-party library, `rich`, is imported via `main` first, and one gets\r\n\r\n```\r\nModuleNotFoundError: No module named 'rich'\r\n```\r\n\r\nwhen trying to build the project\r\n\r\n```\r\npython3 -m build --sdist\r\n```\r\n\r\nIt's weird that the import order in `__init__.py` should make a difference here.\n\n### Expected behavior\n\nBuild correctly independently of the import order.\n\n### How to Reproduce\n\n[See above.](https://github.com/nschloe/setuptools-attr-bug)\n\n### Output\n\n```console\r\nModuleNotFoundError: No module named 'rich'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3176/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3173", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3173/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3173/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3173/events", "html_url": "https://github.com/pypa/setuptools/issues/3173", "id": 1170948522, "node_id": "I_kwDOA0bv8c5Fy0Gq", "number": 3173, "title": "[BUG] Upgrading some packages via pip fails with error message related to setuptools 60.9.3. Downgrading setuptools to 60.8.2 works.", "user": {"login": "SteffenBauer", "id": 5973070, "node_id": "MDQ6VXNlcjU5NzMwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5973070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SteffenBauer", "html_url": "https://github.com/SteffenBauer", "followers_url": "https://api.github.com/users/SteffenBauer/followers", "following_url": "https://api.github.com/users/SteffenBauer/following{/other_user}", "gists_url": "https://api.github.com/users/SteffenBauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/SteffenBauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SteffenBauer/subscriptions", "organizations_url": "https://api.github.com/users/SteffenBauer/orgs", "repos_url": "https://api.github.com/users/SteffenBauer/repos", "events_url": "https://api.github.com/users/SteffenBauer/events{/privacy}", "received_events_url": "https://api.github.com/users/SteffenBauer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-16T12:20:27Z", "updated_at": "2022-12-24T00:04:02Z", "closed_at": "2022-03-16T17:05:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3\n\n### Python version\n\nPython 3.7.3\n\n### OS\n\nDebian 10\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nSince upgrading `setuptools` to the newest version, upgrading certain packages via `pip` fail. See below for console output.\r\n\r\nAffected packages in particular are `srt` and `neo4j`. Both upgrades fail with same error `error: invalid command 'egg_info'`, when trying to build the `.whl`; see below console output.\r\n\r\nConsole output strongly hints that the issue might be somewhere in `setuptools`. Also downgrading `setuptools` to 60.8.2 solves the problem; this also strongly hints that something was broken in the newest version `setuptools` 60.9\r\n\r\nThere are already several issues reported here regarding `egg`; unfortunately I'm not too much of an expert here and cannot estimate if my problem is connected to these issues. I hope that this bug report is welcome anyway and provides useful information.\n\n### Expected behavior\n\nUpgrading via pip should work as it does with lower versions of setuptools, without throwing `error: invalid command 'egg_info'`\n\n### How to Reproduce\n\n1. pip install setuptools==60.9.3\r\n2. pip install -U srt==3.5.2 neo4j==4.4.2\r\n3. [upgrade fails with several warnings and error]\r\n4. pip install setuptools==60.8.2\r\n5. pip install -U srt==3.5.2 neo4j==4.4.2\r\n6. [upgrade now works]\n\n### Output\n\nOutput for srt package:\r\n```console\r\nCollecting srt\r\n  Downloading srt-3.5.2.tar.gz (24 kB)\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [8 lines of output]\r\n      /home/steffen/.local/lib/python3.7/site-packages/setuptools/_distutils/dist.py:275: UserWarning: Unknown distribution option: 'python_requires'\r\n        warnings.warn(msg)\r\n      usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n         or: setup.py --help [cmd1 cmd2 ...]\r\n         or: setup.py --help-commands\r\n         or: setup.py cmd --help\r\n      \r\n      error: invalid command 'egg_info'\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n```\r\n\r\nOutput for neo4j package:\r\n```console\r\nCollecting neo4j\r\n  Using cached neo4j-4.4.2.tar.gz (89 kB)\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 python setup.py egg_info did not run successfully.\r\n  \u2502 exit code: 1\r\n  \u2570\u2500> [12 lines of output]\r\n      /home/steffen/.local/lib/python3.7/site-packages/setuptools/_distutils/dist.py:275: UserWarning: Unknown distribution option: 'install_requires'\r\n        warnings.warn(msg)\r\n      /home/steffen/.local/lib/python3.7/site-packages/setuptools/_distutils/dist.py:275: UserWarning: Unknown distribution option: 'entry_points'\r\n        warnings.warn(msg)\r\n      /home/steffen/.local/lib/python3.7/site-packages/setuptools/_distutils/dist.py:275: UserWarning: Unknown distribution option: 'python_requires'\r\n        warnings.warn(msg)\r\n      usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n         or: setup.py --help [cmd1 cmd2 ...]\r\n         or: setup.py --help-commands\r\n         or: setup.py cmd --help\r\n      \r\n      error: invalid command 'egg_info'\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n\u00d7 Encountered error while generating package metadata.\r\n\u2570\u2500> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3169", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3169/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3169/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3169/events", "html_url": "https://github.com/pypa/setuptools/issues/3169", "id": 1167465464, "node_id": "I_kwDOA0bv8c5Flhv4", "number": 3169, "title": "[BUG] Setuptools overriding standard lib `importlib.metadata.PathDistribution`", "user": {"login": "tlambert03", "id": 1609449, "node_id": "MDQ6VXNlcjE2MDk0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1609449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlambert03", "html_url": "https://github.com/tlambert03", "followers_url": "https://api.github.com/users/tlambert03/followers", "following_url": "https://api.github.com/users/tlambert03/following{/other_user}", "gists_url": "https://api.github.com/users/tlambert03/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlambert03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlambert03/subscriptions", "organizations_url": "https://api.github.com/users/tlambert03/orgs", "repos_url": "https://api.github.com/users/tlambert03/repos", "events_url": "https://api.github.com/users/tlambert03/events{/privacy}", "received_events_url": "https://api.github.com/users/tlambert03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-03-13T03:10:51Z", "updated_at": "2022-03-13T14:42:52Z", "closed_at": "2022-03-13T14:35:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3\n\n### Python version\n\npython 3.9\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n```\r\n\u276f pip list\r\nPackage    Version\r\n---------- -------\r\npip        22.0.4\r\nsetuptools 60.9.3\r\nwheel      0.37.1\r\n```\n\n### Description\n\nthis seems similar to https://github.com/pypa/setuptools/issues/3102, but issue was closed by #3108, without activity since then, and I still seeing this issue in the latest release.\r\n\r\nimporting setuptools overrides/removes the behavior and return type of of the standard library `importlib.metadata.distribution()` function:\n\n### Expected behavior\n\nimporting setuptools doesn't supersede/remove the distribution finder from standard library importlib\n\n### How to Reproduce\n\n1. import `setuptools`\r\n2. call `importlib.metadata.distribution()`\n\n### Output\n\n\r\n```python\r\n>>> from importlib import metadata\r\n>>> metadata.distribution('pip')  # returns the expected type\r\n<importlib.metadata.PathDistribution object at 0x101665910>\r\n>>> import sys\r\n>>> [getattr(finder, 'find_distributions', None) for finder in sys.meta_path]\r\n[None, None, None, <bound method PathFinder.find_distributions of <class '_frozen_importlib_external.PathFinder'>>]\r\n\r\n# importing setuptools changes the type of object returned by metadata.distribution\r\n# and removes the _frozen_importlib_external.PathFinder from \r\n# the list of finders used by `metadata.Distribution.discover`\r\n>>> import setuptools\r\n>>> metadata.distribution('pip')\r\n<setuptools._vendor.importlib_metadata.PathDistribution object at 0x102253070>\r\n>>> [getattr(finder, 'find_distributions', None) for finder in sys.meta_path]\r\n[None, None, None, None, None, None, <bound method MetadataPathFinder.find_distributions of <setuptools._vendor.importlib_metadata.MetadataPathFinder object at 0x101fdad00>>]\r\n\r\n# note:\r\n>>> import importlib_metadata\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3165", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3165/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3165/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3165/events", "html_url": "https://github.com/pypa/setuptools/issues/3165", "id": 1164874121, "node_id": "I_kwDOA0bv8c5FbpGJ", "number": 3165, "title": "[BUG] Unable to import pkg_resources before setuptools", "user": {"login": "chrisburr", "id": 5220533, "node_id": "MDQ6VXNlcjUyMjA1MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/5220533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisburr", "html_url": "https://github.com/chrisburr", "followers_url": "https://api.github.com/users/chrisburr/followers", "following_url": "https://api.github.com/users/chrisburr/following{/other_user}", "gists_url": "https://api.github.com/users/chrisburr/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisburr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisburr/subscriptions", "organizations_url": "https://api.github.com/users/chrisburr/orgs", "repos_url": "https://api.github.com/users/chrisburr/repos", "events_url": "https://api.github.com/users/chrisburr/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisburr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-03-10T07:55:23Z", "updated_at": "2022-03-17T16:38:19Z", "closed_at": "2022-03-17T16:38:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3 (also affects the main branch)\n\n### Python version\n\nPython 3.7 from PyPy 7.3.7\n\n### OS\n\nmacOS\n\n### Additional environment information\n\nUsing packages from conda-forge.\n\n### Description\n\nImporting `pkg_resources` before `setuptools` results in `setuptools` being broken with `AttributeError: module 'setuptools' has no attribute 'version'`.\n\n### Expected behavior\n\nThe import order doesn't matter.\n\n### How to Reproduce\n\n```bash\r\n> conda create -c conda-forge --name test setuptools pypy\r\n> conda activate test\r\n> python -c 'import setuptools, pkg_resources; print(\"All good\")'\r\nAll good\r\n> python -c 'import pkg_resources, setuptools; print(\"All good\")'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/Users/cburr/mambaforge/envs/test/site-packages/setuptools/__init__.py\", line 35, in <module>\r\n    __version__ = setuptools.version.__version__\r\nAttributeError: module 'setuptools' has no attribute 'version'\r\n```\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/Users/cburr/mambaforge/envs/test/site-packages/setuptools/__init__.py\", line 35, in <module>\r\n    __version__ = setuptools.version.__version__\r\nAttributeError: module 'setuptools' has no attribute 'version'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3157", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3157/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3157/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3157/events", "html_url": "https://github.com/pypa/setuptools/issues/3157", "id": 1161955120, "node_id": "I_kwDOA0bv8c5FQgcw", "number": 3157, "title": "[BUG] Generated console scripts which depend on pkgs with dots in name fail if the dep was specified in setup.py with dashes instead", "user": {"login": "AndydeCleyre", "id": 1787385, "node_id": "MDQ6VXNlcjE3ODczODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1787385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndydeCleyre", "html_url": "https://github.com/AndydeCleyre", "followers_url": "https://api.github.com/users/AndydeCleyre/followers", "following_url": "https://api.github.com/users/AndydeCleyre/following{/other_user}", "gists_url": "https://api.github.com/users/AndydeCleyre/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndydeCleyre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndydeCleyre/subscriptions", "organizations_url": "https://api.github.com/users/AndydeCleyre/orgs", "repos_url": "https://api.github.com/users/AndydeCleyre/repos", "events_url": "https://api.github.com/users/AndydeCleyre/events{/privacy}", "received_events_url": "https://api.github.com/users/AndydeCleyre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-07T21:41:32Z", "updated_at": "2022-04-04T15:03:50Z", "closed_at": "2022-04-04T15:03:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.9.3\r\n\r\n### Python version\r\n\r\n3.9.7\r\n\r\n### OS\r\n\r\nPop OS Linux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI think the issue is really that `dist.key`'s normalization should converge dots and dashes, as they are interchangeable.\r\n\r\nWhen:\r\n- a `setup.py` file specifies a \"normally\" dotted requirement (with a `.` in its name), but uses a dash instead\r\n- the package is installed with `pip`\r\n\r\nThen:\r\n- the launcher exits early with an error because the deps don't match\r\n\r\nI see in [docs/pkg_resources.rst](https://github.com/pypa/setuptools/blob/main/docs/pkg_resources.rst):\r\n\r\n> `dist.key` is short for `dist.project_name.lower()`. It's used for case-insensitive comparison and indexing of distributions by project name.\r\n\r\nI think the following are relevant:\r\n\r\n```python\r\nIn [1]: from pip._vendor.packaging.utils import canonicalize_name, _canonicalize_regex\r\n\r\nIn [2]: canonicalize_name??\r\nSignature: canonicalize_name(name)\r\nDocstring: <no docstring>\r\nSource:\r\ndef canonicalize_name(name):\r\n    # type: (str) -> NormalizedName\r\n    # This is taken from PEP 503.\r\n    value = _canonicalize_regex.sub(\"-\", name).lower()\r\n    return cast(NormalizedName, value)\r\nFile:      /usr/share/python-wheels/packaging-20.9-py2.py3-none-any.whl/packaging/utils.py\r\nType:      function\r\n\r\nIn [3]: _canonicalize_regex??\r\nType:        Pattern\r\nString form: re.compile('[-_.]+')\r\nFile:        /usr/lib/python3.9/re.py\r\nDocstring:   Compiled regular expression object.\r\n```\r\n\r\n### Expected behavior\r\n\r\nI would expect the launch script to succeed, as installing `ruamel.yaml` (for example) is happily interchangeable with `ruamel-yaml` as far as `pip` is concerned. If one of these is installed, the requirement is truly met.\r\n\r\n### How to Reproduce\r\n\r\n```console\r\n$ git clone https://github.com/laurence-kobold/1576\r\n$ cd 1576\r\n$ python3 -m venv venv\r\n$ . ./venv/bin/activate\r\n$ pip install .\r\n$ test-with-editable-dots\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n$ git clone https://github.com/laurence-kobold/1576\r\nCloning into '1576'...\r\nremote: Enumerating objects: 19, done.\r\nremote: Counting objects: 100% (19/19), done.\r\nremote: Compressing objects: 100% (15/15), done.\r\nremote: Total 19 (delta 2), reused 19 (delta 2), pack-reused 0\r\nReceiving objects: 100% (19/19), done.\r\nResolving deltas: 100% (2/2), done.\r\n\r\n$ cd 1576\r\n$ cat setup.py\r\nfrom distutils.core import setup\r\n\r\nsetup(\r\n  name='testing_editable_dots',\r\n  install_requires=[\"ruamel-yaml\"],\r\n  entry_points={\r\n          \"console_scripts\": [\r\n              \"test-with-editable-dots=testing_editable_dots.main:main\",\r\n          ],\r\n      },\r\n)\r\n\r\n$ python3 -m venv venv\r\n\r\n$ . ./venv/bin/activate\r\n\r\n$ pip install .\r\nProcessing /home/andy/ANOTHER1576/1576\r\nCollecting ruamel-yaml\r\n  Using cached ruamel.yaml-0.17.21-py3-none-any.whl (109 kB)\r\nCollecting ruamel.yaml.clib>=0.2.6\r\n  Using cached ruamel.yaml.clib-0.2.6-cp39-cp39-manylinux1_x86_64.whl (539 kB)\r\nUsing legacy 'setup.py install' for testing-editable-dots, since package 'wheel' is not installed.\r\nInstalling collected packages: ruamel.yaml.clib, ruamel-yaml, testing-editable-dots\r\n    Running setup.py install for testing-editable-dots ... done\r\nSuccessfully installed ruamel-yaml ruamel.yaml.clib-0.2.6 testing-editable-dots-0.0.0\r\n\r\n$ test-with-editable-dots\r\nTraceback (most recent call last):\r\n  File \"/home/andy/ANOTHER1576/1576/venv/bin/test-with-editable-dots\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3252, in <module>\r\n    def _initialize_master_working_set():\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3235, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3264, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 583, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 900, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/home/andy/ANOTHER1576/1576/venv/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 786, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npkg_resources.DistributionNotFound: The 'ruamel-yaml' distribution was not found and is required by testing-editable-dots\r\n```\r\n\r\nEDIT: Output of the same, in an alpine linux container:\r\n\r\n```console\r\n$ test-with-editable-dots\r\nTraceback (most recent call last):\r\n  File \"/home/dev/1576/venv/bin/test-with-editable-dots\", line 33, in <module>\r\n    sys.exit(load_entry_point('testing-editable-dots==0.0.0', 'console_scripts', 'test-with-editable-dots')())\r\n  File \"/home/dev/1576/venv/bin/test-with-editable-dots\", line 25, in importlib_load_entry_point\r\n    return next(matches).load()\r\n  File \"/usr/lib/python3.9/importlib/metadata.py\", line 77, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/usr/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 972, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 984, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'testing_editable_dots'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3149", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3149/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3149/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3149/events", "html_url": "https://github.com/pypa/setuptools/issues/3149", "id": 1159452662, "node_id": "I_kwDOA0bv8c5FG9f2", "number": 3149, "title": "[BUG] test_pip_upgrade_from_source fails if no internet connection is available", "user": {"login": "befeleme", "id": 33810531, "node_id": "MDQ6VXNlcjMzODEwNTMx", "avatar_url": "https://avatars.githubusercontent.com/u/33810531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/befeleme", "html_url": "https://github.com/befeleme", "followers_url": "https://api.github.com/users/befeleme/followers", "following_url": "https://api.github.com/users/befeleme/following{/other_user}", "gists_url": "https://api.github.com/users/befeleme/gists{/gist_id}", "starred_url": "https://api.github.com/users/befeleme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/befeleme/subscriptions", "organizations_url": "https://api.github.com/users/befeleme/orgs", "repos_url": "https://api.github.com/users/befeleme/repos", "events_url": "https://api.github.com/users/befeleme/events{/privacy}", "received_events_url": "https://api.github.com/users/befeleme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-04T09:50:30Z", "updated_at": "2022-03-11T18:38:33Z", "closed_at": "2022-03-11T18:38:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.3\n\n### Python version\n\nPython 3.10.2\n\n### OS\n\nFedora Linux 35\n\n### Additional environment information\n\nThis happens when no internet connection is available.\n\n### Description\n\nThere is a [test_pip_upgrade_from_source](https://github.com/pypa/setuptools/blob/main/setuptools/tests/test_virtualenv.py#L84) that parametrizes pip versions and tries to detect whether the network is available or not (in that case the test is skipped). But, the network test and resulting skip is only performed for the pips in `network_versions`, not for the first case with [None](https://github.com/pypa/setuptools/blob/main/setuptools/tests/test_virtualenv.py#L72). As a result the first test is always run and in no network environment fails as [pip install --upgrade](https://github.com/pypa/setuptools/blob/main/setuptools/tests/test_virtualenv.py#L102) spawns another virtual env with `build` and tries to install `wheel` from the package index to build sdist.\n\n### Expected behavior\n\nThe \"no network\" marker should be extended to check all the parametrized inputs of the test.\n\n### How to Reproduce\n\nInstall all required dependencies and run `test_virtualenv.py` in an environment without the internet connection.\n\n### Output\n\n```console\r\n_____________ ERROR at setup of test_pip_upgrade_from_source[None] _____________\r\n\r\ntmp_path_factory = TempPathFactory(_given_basetemp=None, _trace=<pluggy._tracing.TagTracerSub object at 0x7f7b3b9f2f50>, _basetemp=PosixPath('/tmp/pytest-of-mockbuild/pytest-0'))\r\nrequest = <SubRequest 'setuptools_sdist' for <Function test_pip_upgrade_from_source[None]>>\r\n\r\n    @pytest.fixture(scope=\"session\")\r\n    def setuptools_sdist(tmp_path_factory, request):\r\n        with contexts.session_locked_tmp_dir(\r\n                request, tmp_path_factory, \"sdist_build\") as tmp:\r\n            dist = next(tmp.glob(\"*.tar.gz\"), None)\r\n            if dist:\r\n                return dist\r\n    \r\n>           subprocess.check_call([\r\n                sys.executable, \"-m\", \"build\", \"--sdist\",\r\n                \"--outdir\", str(tmp), str(request.config.rootdir)\r\n            ])\r\n\r\nsetuptools/tests/fixtures.py:78: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\npopenargs = (['/usr/bin/python3', '-m', 'build', '--sdist', '--outdir', '/tmp/pytest-of-mockbuild/pytest-0/sdist_build', ...],)\r\nkwargs = {}, retcode = 1\r\ncmd = ['/usr/bin/python3', '-m', 'build', '--sdist', '--outdir', '/tmp/pytest-of-mockbuild/pytest-0/sdist_build', ...]\r\n\r\n    def check_call(*popenargs, **kwargs):\r\n        \"\"\"Run command with arguments.  Wait for command to complete.  If\r\n        the exit code was zero then return, otherwise raise\r\n        CalledProcessError.  The CalledProcessError object will have the\r\n        return code in the returncode attribute.\r\n    \r\n        The arguments are the same as for the call function.  Example:\r\n    \r\n        check_call([\"ls\", \"-l\"])\r\n        \"\"\"\r\n        retcode = call(*popenargs, **kwargs)\r\n        if retcode:\r\n            cmd = kwargs.get(\"args\")\r\n            if cmd is None:\r\n                cmd = popenargs[0]\r\n>           raise CalledProcessError(retcode, cmd)\r\nE           subprocess.CalledProcessError: Command '['/usr/bin/python3', '-m', 'build', '--sdist', '--outdir', '/tmp/pytest-of-mockbuild/pytest-0/sdist_build', '/builddir/build/BUILD/setuptools-60.9.3']' returned non-zero exit status 1.\r\n\r\n/usr/lib64/python3.10/subprocess.py:369: CalledProcessError\r\n---------------------------- Captured stdout setup -----------------------------\r\n* Creating virtualenv isolated environment...\r\n* Installing packages in isolated environment... (setuptools >= 40.8.0, wheel)\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/build/__main__.py\", line 372, in main\r\n    built = build_call(\r\n  File \"/usr/lib/python3.10/site-packages/build/__main__.py\", line 202, in build_package\r\n    out = _build(isolation, builder, outdir, distribution, config_settings, skip_dependency_check)\r\n  File \"/usr/lib/python3.10/site-packages/build/__main__.py\", line 140, in _build\r\n    return _build_in_isolated_env(builder, outdir, distribution, config_settings)\r\n  File \"/usr/lib/python3.10/site-packages/build/__main__.py\", line 108, in _build_in_isolated_env\r\n    env.install(builder.build_system_requires)\r\n  File \"/usr/lib/python3.10/site-packages/build/env.py\", line 211, in install\r\n    _subprocess(cmd)\r\n  File \"/usr/lib/python3.10/site-packages/build/env.py\", line 81, in _subprocess\r\n    raise e\r\n  File \"/usr/lib/python3.10/site-packages/build/env.py\", line 78, in _subprocess\r\n    subprocess.check_output(cmd, stderr=subprocess.STDOUT)\r\n  File \"/usr/lib64/python3.10/subprocess.py\", line 420, in check_output\r\n    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\r\n  File \"/usr/lib64/python3.10/subprocess.py\", line 524, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['/tmp/build-env-ely02ro0/bin/python', '-Im', 'pip', 'install', '--use-pep517', '--no-warn-script-location', '-r', '/tmp/build-reqs-8w8muu0c.txt']' returned non-zero exit status 1.\r\n\r\nERROR Command '['/tmp/build-env-ely02ro0/bin/python', '-Im', 'pip', 'install', '--use-pep517', '--no-warn-script-location', '-r', '/tmp/build-reqs-8w8muu0c.txt']' returned non-zero exit status 1.\r\n---------------------------- Captured stderr setup -----------------------------\r\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fb26da64df0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/wheel/\r\nWARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fb26da654e0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/wheel/\r\nWARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fb26da655d0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/wheel/\r\nWARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fb26da65e40>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/wheel/\r\nWARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fb26e5560b0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/wheel/\r\nERROR: Could not find a version that satisfies the requirement wheel (from versions: none)\r\nERROR: No matching distribution found for wheel\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3131", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3131/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3131/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3131/events", "html_url": "https://github.com/pypa/setuptools/issues/3131", "id": 1146965256, "node_id": "I_kwDOA0bv8c5EXU0I", "number": 3131, "title": "[BUG] Editable install has recently stopped working in Ubuntu 21.10 Impish when run from root", "user": {"login": "KOLANICH", "id": 240344, "node_id": "MDQ6VXNlcjI0MDM0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/240344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KOLANICH", "html_url": "https://github.com/KOLANICH", "followers_url": "https://api.github.com/users/KOLANICH/followers", "following_url": "https://api.github.com/users/KOLANICH/following{/other_user}", "gists_url": "https://api.github.com/users/KOLANICH/gists{/gist_id}", "starred_url": "https://api.github.com/users/KOLANICH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KOLANICH/subscriptions", "organizations_url": "https://api.github.com/users/KOLANICH/orgs", "repos_url": "https://api.github.com/users/KOLANICH/repos", "events_url": "https://api.github.com/users/KOLANICH/events{/privacy}", "received_events_url": "https://api.github.com/users/KOLANICH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-22T14:14:06Z", "updated_at": "2022-02-26T01:33:29Z", "closed_at": "2022-02-26T01:33:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nlatest from git, but I have rolled back to ancient ones and the issue persists, the issue is likely not in setuptools itself\n\n### Python version\n\nCPython 3.9\n\n### OS\n\nKubuntu 21.10 Impish\n\n### Additional environment information\n\n_No response_\n\n### Description\n\n`sudo pip3 install --upgrade -e .` doesn't result in package becoming importable. Installing from a user works fine.\r\n\r\nI have debugged the issue a bit, tried ancient (that I remember have been working fine) versions of `pip` and `setuptools`, and it turns out it doesn't work with them either.\r\n\r\nIt turned out that `install_dir` contains the wrong path, the one working must have `/usr/local/lib/python3.9/dist-packages`, but and `/usr/lib/python3.9/site-packages/` is used.\r\n\r\nSo the temporary fix for me was\r\n\r\n```python\r\nFrom 0f093e7a16ecd00eff72fc8961ac6ed3f310fb83 Mon Sep 17 00:00:00 2001\r\nFrom: KOLANICH <KOLANICH@users.noreply.github.com>\r\nDate: Mon, 21 Feb 2022 21:05:23 +0300\r\nSubject: [PATCH] A temporary fix of wrong `install_dir` captured from some\r\n config, causing non-working editable installs from `root` on Ubuntu.\r\n\r\n---\r\n setuptools/command/easy_install.py | 1 +\r\n 1 file changed, 1 insertion(+)\r\n\r\ndiff --git a/setuptools/command/easy_install.py b/setuptools/command/easy_install.py\r\nindex 5b73e6e9..ac6b2623 100644\r\n--- a/setuptools/command/easy_install.py\r\n+++ b/setuptools/command/easy_install.py\r\n@@ -285,6 +285,7 @@ class easy_install(Command):\r\n             'install_dir', 'script_dir', 'build_directory',\r\n             'site_dirs',\r\n         )\r\n+        self.install_dir = \"/usr/local/lib/python3.9/dist-packages\"\r\n         # If a non-default installation directory was specified, default the\r\n         # script directory to match it.\r\n         if self.script_dir is None:\r\n-- \r\n2.32.0\r\n```\r\n\r\nBut I guess some of the configs that must be provided by distro and that `setuptools` takes the info from can be changed incorrectly in some recent updates. Can someone point where I should look?\n\n### Expected behavior\n\nShould work as expected out of the box.\n\n### How to Reproduce\n\n0. Use Ubuntu Impish, every packaging-related python package is of the latest version (except `pip`, they have introduced the change breaking my workflow recently, I guess it can be a sign of a bug) from git\r\n1. Clone some project. I used https://github.com/KOLANICH-libs/JImageHash.py\r\n2. `sudo pip3 install --upgrade -e .`\r\n3. Go into other dir and open an (i)pythkn shell and try to import. The import will fail.\r\n4. Check for `pth` files in the wrong locatikn\r\n5. Apply the patch to `setuptools`\r\n6. Try installation again.\r\n7. Enjoy the package importable.\r\n\n\n### Output\n\n```console\r\nKOLANICH@KOLANICH:~/JImageHash.py$ sudo pip3 install --upgrade -e .\r\nObtaining file:///home/KOLANICH/JImageHash.py\r\n  Checking if build backend supports build_editable ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nInstalling collected packages: JImageHash\r\n  Running setup.py develop for JImageHash\r\nSuccessfully installed JImageHash\r\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\r\nKOLANICH@KOLANICH:~/ ipython\r\nPython 3.9.7 (default, Sep 10 2021, 14:59:43) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 8.1.0.dev -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import JImageHash\r\n---------------------------------------------------------------------------\r\nModuleNotFoundError                       Traceback (most recent call last)\r\nInput In [1], in <module>\r\n----> 1 import JImageHash\r\n\r\nModuleNotFoundError: No module named 'JImageHash'\r\nKOLANICH@KOLANICH:~/ cat /usr/local/lib/python3.9/dist-packages/easy-install.pth | grep JImageHash.py\r\nKOLANICH@KOLANICH:~/ cat /usr/lib/python3.9/site-packages/easy-install.pth \r\n/home/KOLANICH/JImageHash.py\r\nKOLANICH@KOLANICH:~/ cat /usr/lib/python3.9/site-packages/JImageHash.egg-link\r\n/home/KOLANICH/JImageHash.py\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3129", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3129/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3129/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3129/events", "html_url": "https://github.com/pypa/setuptools/issues/3129", "id": 1146284017, "node_id": "I_kwDOA0bv8c5EUufx", "number": 3129, "title": "[BUG] build_scripts.py incorrectly handles shebang lines with DOS line endings", "user": {"login": "amalachow", "id": 91084530, "node_id": "MDQ6VXNlcjkxMDg0NTMw", "avatar_url": "https://avatars.githubusercontent.com/u/91084530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amalachow", "html_url": "https://github.com/amalachow", "followers_url": "https://api.github.com/users/amalachow/followers", "following_url": "https://api.github.com/users/amalachow/following{/other_user}", "gists_url": "https://api.github.com/users/amalachow/gists{/gist_id}", "starred_url": "https://api.github.com/users/amalachow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amalachow/subscriptions", "organizations_url": "https://api.github.com/users/amalachow/orgs", "repos_url": "https://api.github.com/users/amalachow/repos", "events_url": "https://api.github.com/users/amalachow/events{/privacy}", "received_events_url": "https://api.github.com/users/amalachow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-02-21T22:45:01Z", "updated_at": "2022-03-04T16:43:55Z", "closed_at": "2022-03-04T16:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools 60.9.3\n\n### Python version\n\nPython 3.8.10\n\n### OS\n\nNT-10.0-19042\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nshebang using DOS line endings causes the shebang regular expression to fail resulting in redirection to the python interpreter used for the installed script to not behave as expected.\n\n### Expected behavior\n\nThe shebang is rewritten consistently for UNIX and DOS line endings.\n\n### How to Reproduce\n\n```shell\r\n#!/bin/bash -eu\r\nprintf \"[[System Info]]\\n\"\r\nuname -srvmo\r\npython3 --version\r\npython3 -m virtualenv --version\r\nrm -rf .venv\r\npython3 -m virtualenv --quiet -p python3 .venv\r\n.venv/Scripts/python -m pip install --quiet --upgrade pip &> /dev/null\r\n.venv/Scripts/python -m pip install --quiet --upgrade setuptools &> /dev/null\r\n.venv/Scripts/python -m pip list\r\n\r\nrm -rf example\r\nmkdir example\r\ncat > example/example.py << END\r\n#!/usr/bin/env python3\r\n\r\ndef main():\r\n    print(\"Example script\")\r\n\r\nif __name__==\"__main__\":\r\n    main()\r\nEND\r\n\r\ncat > example/setup.py << END\r\nfrom setuptools import setup\r\nsetup(name=\"example\", scripts=[\"example.py\"])\r\nEND\r\n\r\nprintf \"\\n[[Expected behavior]]\\n\"\r\nfile example/example.py\r\n.venv/Scripts/pip install --quiet ./example\r\nhead -1 .venv/Scripts/example.py\r\n\r\nprintf \"\\n[[Issue]]\\n\"\r\nsed -ie 's/\\r*$/\\r/g' example/example.py\r\nfile example/example.py\r\n.venv/Scripts/pip install --quiet -I ./example\r\nhead -1 .venv/Scripts/example.py\r\n\r\nfix=\"--- a/build_scripts.py\r\n+++ b/build_scripts.py\r\n@@ -15 +15 @@\r\n-first_line_re = re.compile(b'^#!.*python[0-9.]*([ \\t].*)?$')\r\n+first_line_re = re.compile(b'^#!.*python[0-9.]*([ \\t].*)?\\r?$')\"\r\n\r\nprintf \"\\n[[Proposed Fix]]\\n\"\r\necho \"${fix}\"\r\npatch -u -p0 .venv/Lib/site-packages/setuptools/_distutils/command/build_scripts.py <<< ${fix}\r\nfile example/example.py\r\n.venv/Scripts/pip install --quiet -I ./example\r\nhead -1 .venv/Scripts/example.py```\n\n### Output\n\n```console\r\n[[System Info]]\r\nMINGW64_NT-10.0-19042 3.1.7-340.x86_64 2021-03-26 22:17 UTC x86_64 Msys\r\nPython 3.8.10\r\nvirtualenv 20.10.0 from C:\\Python38\\lib\\site-packages\\virtualenv\\__init__.py\r\nPackage    Version\r\n---------- -------\r\npip        22.0.3 \r\nsetuptools 60.9.3 \r\nwheel      0.37.1 \r\n\r\n[[Expected Behavior]]\r\nexample/example.py: Python script, ASCII text executable\r\n#!C:\\setuptools-issue\\.venv\\Scripts\\python.exe\r\n\r\n[[Issue]]\r\nexample/example.py: Python script, ASCII text executable, with CRLF line terminators\r\n#!/usr/bin/env python3\r\n\r\n[[Proposed Fix]]\r\n--- a/build_scripts.py\r\n+++ b/build_scripts.py\r\n@@ -15 +15 @@\r\n-first_line_re = re.compile(b'^#!.*python[0-9.]*([ \\t].*)?$')   \r\n+first_line_re = re.compile(b'^#!.*python[0-9.]*([ \\t].*)?\\r?$')\r\npatching file .venv/Lib/site-packages/setuptools/_distutils/command/build_scripts.py\r\nexample/example.py: Python script, ASCII text executable, with CRLF line terminators\r\n#!C:\\setuptools-issue\\.venv\\Scripts\\python.exe\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3115", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3115/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3115/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3115/events", "html_url": "https://github.com/pypa/setuptools/issues/3115", "id": 1140629456, "node_id": "I_kwDOA0bv8c5D_J_Q", "number": 3115, "title": "[BUG] Stray files in 60.9.2 release", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-16T22:01:42Z", "updated_at": "2022-02-16T23:32:31Z", "closed_at": "2022-02-16T22:50:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.2\n\n### Python version\n\nn/a\n\n### OS\n\nn/a\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe `setuptools-60.9.2.tar.gz` (sdist) archive seems to include some stray files:\r\n\r\n```\r\nsetuptools-60.9.2/tools/__pycache__/finalize.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/finalize.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/finalize.pypy37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.pypy37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.pypy37.pyc\r\nsetuptools-60.9.2/tools/vendored.py.orig\r\n```\n\n### Expected behavior\n\nNo stray files ;-).\n\n### How to Reproduce\n\n```\r\nwget https://files.pythonhosted.org/packages/bf/b0/b4599baf535aff5a8675f038a9b4b380df7e5de33c78a155e0883da05403/setuptools-60.9.2.tar.gz\r\ntar -tf setuptools-60.9.2.tar.gz\r\n```\n\n### Output\n\n```console\r\n[...]\r\nsetuptools-60.9.2/tools/\r\nsetuptools-60.9.2/tools/__pycache__/\r\nsetuptools-60.9.2/tools/__pycache__/finalize.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/finalize.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/finalize.pypy37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/ppc64le-patch.pypy37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.cpython-310.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.cpython-37.pyc\r\nsetuptools-60.9.2/tools/__pycache__/vendored.pypy37.pyc\r\nsetuptools-60.9.2/tools/finalize.py\r\nsetuptools-60.9.2/tools/msvc-build-launcher-arm64.cmd\r\nsetuptools-60.9.2/tools/msvc-build-launcher.cmd\r\nsetuptools-60.9.2/tools/ppc64le-patch.py\r\nsetuptools-60.9.2/tools/towncrier_template.rst\r\nsetuptools-60.9.2/tools/vendored.py\r\nsetuptools-60.9.2/tools/vendored.py.orig\r\nsetuptools-60.9.2/tox.ini\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3110", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3110/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3110/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3110/events", "html_url": "https://github.com/pypa/setuptools/issues/3110", "id": 1138336242, "node_id": "I_kwDOA0bv8c5D2aHy", "number": 3110, "title": "[BUG]  The error associated with the inability to use the installed tools with the setuptools 60.9.0 version (Released: 14.02.2022 00:00 ) Command not found", "user": {"login": "Sinyuk", "id": 11214569, "node_id": "MDQ6VXNlcjExMjE0NTY5", "avatar_url": "https://avatars.githubusercontent.com/u/11214569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sinyuk", "html_url": "https://github.com/Sinyuk", "followers_url": "https://api.github.com/users/Sinyuk/followers", "following_url": "https://api.github.com/users/Sinyuk/following{/other_user}", "gists_url": "https://api.github.com/users/Sinyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sinyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sinyuk/subscriptions", "organizations_url": "https://api.github.com/users/Sinyuk/orgs", "repos_url": "https://api.github.com/users/Sinyuk/repos", "events_url": "https://api.github.com/users/Sinyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/Sinyuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-02-15T08:16:38Z", "updated_at": "2022-02-15T16:45:20Z", "closed_at": "2022-02-15T15:28:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools == 60.9.0\n\n### Python version\n\nPython 3.7-3.9\n\n### OS\n\nLinux, Windows\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThe error associated with the inability to use the installed tools with the setuptools 60.9.0 version (Released: 14.02.2022 00:00 ) Command was not found. Work with any version to 60.6.0.\r\n\r\nAfter installation, the package is installed, but not when called, it says that the command was not found\n\n### Expected behavior\n\nI expect that the tools will work\n\n### How to Reproduce\n\n1. Install setuptools 60.9.0 version or use pip install --force-reinstall <path>\r\n2. Call the following tool\r\n3. Get error \"Command not found\"\r\n\n\n### Output\n\n```console\r\n$ test\r\nbash: test: command not found\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3107", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3107/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3107/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3107/events", "html_url": "https://github.com/pypa/setuptools/issues/3107", "id": 1137951313, "node_id": "I_kwDOA0bv8c5D08JR", "number": 3107, "title": "[BUG] setuptools._vendor.pyparsing.ParseException on pypy wiht tox with setuptools 60.9.0", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-02-14T23:04:16Z", "updated_at": "2022-02-15T02:55:26Z", "closed_at": "2022-02-15T02:55:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\n60.9.0\n\n### Python version\n\npypy 3.7\n\n### OS\n\nubuntu linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nRunnign tox with pypy and setuptools 60.9.0 produces:\r\n\r\n```\r\n  setuptools._vendor.pyparsing.ParseException: Expected W:(abcd...) (at char 0), (line:1, col:1)\r\n```\r\n\r\nThe full traceback can be seen in this CI run: https://github.com/pyca/cryptography/runs/5192122892?check_suite_focus=true\r\n\r\nPinning to a previous version of setuptools resolves this, as can be seen at https://github.com/pyca/cryptography/pull/6868\n\n### Expected behavior\n\nThe dependencies are installed correctly, as happens on previous versions of setuptools.\n\n### How to Reproduce\n\n1. git clone https://github.com/pyca/cryptography\r\n2. `tox -e pypy3-nocoverage`\r\n\n\n### Output\n\n```\r\nTraceback (most recent call last):\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/packaging/requirements.py\", line 102, in __init__\r\n      req = REQUIREMENT.parseString(requirement_string)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1654, in parseString\r\n      raise exc\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1644, in parseString\r\n      loc, tokens = self._parse( instring, 0 )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n      loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 3417, in parseImpl\r\n      loc, exprtokens = e._parse( instring, loc, doActions )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n      loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 3739, in parseImpl\r\n      return self.expr._parse( instring, loc, doActions, callPreParse=False )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n      loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 3400, in parseImpl\r\n      loc, resultlist = self.exprs[0]._parse( instring, loc, doActions, callPreParse=False )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n      loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/pyparsing.py\", line 2711, in parseImpl\r\n      raise ParseException(instring, loc, self.errmsg, self)\r\n  setuptools._vendor.pyparsing.ParseException: Expected W:(abcd...) (at char 0), (line:1, col:1)\r\n\r\n  During handling of the above exception, another exception occurred:\r\n\r\n  Traceback (most recent call last):\r\n    File \"/home/runner/work/cryptography/cryptography/.tox/pypy3-nocoverage/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n      main()\r\n    File \"/home/runner/work/cryptography/cryptography/.tox/pypy3-nocoverage/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"/home/runner/work/cryptography/cryptography/.tox/pypy3-nocoverage/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n      return hook(config_settings)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/build_meta.py\", line 178, in get_requires_for_build_wheel\r\n      config_settings, requirements=['wheel'])\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n      self.run_setup()\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/build_meta.py\", line [174](https://github.com/pyca/cryptography/runs/5192122892?check_suite_focus=true#step:12:174), in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 54, in <module>\r\n      rust_version=\">=1.41.0\",\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/__init__.py\", line 155, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_distutils/core.py\", line 109, in setup\r\n      _setup_distribution = dist = klass(attrs)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/dist.py\", line 462, in __init__\r\n      for k, v in attrs.items()\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_distutils/dist.py\", line 293, in __init__\r\n      self.finalize_options()\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/dist.py\", line 851, in finalize_options\r\n      ep(self)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/dist.py\", line 871, in _finalize_setup_keywords\r\n      self._install_dependencies(ep)\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/dist.py\", line 881, in _install_dependencies\r\n      for req in map(requirements.Requirement, always_iterable(ep.dist.requires))\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/dist.py\", line 879, in <setcomp>\r\n      reqs = {\r\n    File \"/tmp/pip-build-env-7y3pjwes/overlay/site-packages/setuptools/_vendor/packaging/requirements.py\", line 105, in __init__\r\n      f'Parse error at \"{ requirement_string[e.loc : e.loc + 8]!r}\": {e.msg}'\r\n  setuptools._vendor.packaging.requirements.InvalidRequirement: Parse error at \"''\": Expected W:(abcd...)\r\n  error: subprocess-exited-with-error\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3103", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3103/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3103/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3103/events", "html_url": "https://github.com/pypa/setuptools/issues/3103", "id": 1137209246, "node_id": "I_kwDOA0bv8c5DyG-e", "number": 3103, "title": "[BUG] Entry points are missing when supplied as a string.", "user": {"login": "judahrand", "id": 17158624, "node_id": "MDQ6VXNlcjE3MTU4NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/17158624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/judahrand", "html_url": "https://github.com/judahrand", "followers_url": "https://api.github.com/users/judahrand/followers", "following_url": "https://api.github.com/users/judahrand/following{/other_user}", "gists_url": "https://api.github.com/users/judahrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/judahrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/judahrand/subscriptions", "organizations_url": "https://api.github.com/users/judahrand/orgs", "repos_url": "https://api.github.com/users/judahrand/repos", "events_url": "https://api.github.com/users/judahrand/events{/privacy}", "received_events_url": "https://api.github.com/users/judahrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-02-14T12:08:32Z", "updated_at": "2022-02-15T02:52:52Z", "closed_at": "2022-02-15T02:52:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==60.9.0\r\n\r\n### Python version\r\n\r\n3.8.12\r\n\r\n### OS\r\n\r\nDebian\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen installing a Python package which uses `setuptools` and has at least one `entry_point` directly from Git the `entry_point` script is not created with `setuptools==60.9.0`.\r\n\r\nI have verified that this does work with `setuptools=60.8.2` but not `60.9.0`.\r\n\r\n### Expected behavior\r\n\r\nThe expected `entry_point` script `tap-postgres` is present in `venv/bin/`.\r\n\r\n### How to Reproduce\r\n\r\n```\r\npython -m venv venv\r\nsource venv/bin/activate\r\npip install git+https://github.com/thread/pipelinewise-tap-postgres.git@ee9bedb4711bb27c9660892f56c8fb27f3770d2a\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3103/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3102", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3102/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3102/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3102/events", "html_url": "https://github.com/pypa/setuptools/issues/3102", "id": 1137116674, "node_id": "I_kwDOA0bv8c5DxwYC", "number": 3102, "title": "[BUG] vendored importlib.metadata of setuptools 60.9.0 fails with 'PathDistribution' object has no attribute '_normalized_name'", "user": {"login": "kasium", "id": 15907922, "node_id": "MDQ6VXNlcjE1OTA3OTIy", "avatar_url": "https://avatars.githubusercontent.com/u/15907922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kasium", "html_url": "https://github.com/kasium", "followers_url": "https://api.github.com/users/kasium/followers", "following_url": "https://api.github.com/users/kasium/following{/other_user}", "gists_url": "https://api.github.com/users/kasium/gists{/gist_id}", "starred_url": "https://api.github.com/users/kasium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kasium/subscriptions", "organizations_url": "https://api.github.com/users/kasium/orgs", "repos_url": "https://api.github.com/users/kasium/repos", "events_url": "https://api.github.com/users/kasium/events{/privacy}", "received_events_url": "https://api.github.com/users/kasium/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-02-14T10:48:49Z", "updated_at": "2022-02-15T02:55:01Z", "closed_at": "2022-02-15T02:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.9.0\n\n### Python version\n\n3.7.1\n\n### OS\n\nLinux\n\n### Additional environment information\n\nPip freeze\r\n\r\n```\r\nargcomplete==1.12.3\r\ncolorlog==6.6.0\r\ndistlib==0.3.4\r\nfilelock==3.4.2\r\nimportlib-metadata==4.2.0\r\nnox==2022.1.7\r\npackaging==21.3\r\npip==22.0.3\r\nplatformdirs==2.5.0\r\npy==1.11.0\r\npyparsing==3.0.7\r\nsetuptools==60.9.0\r\nsix==1.16.0\r\ntyping_extensions==4.1.1\r\nvirtualenv==20.13.1\r\nwheel==0.37.1\r\nzipp==3.7.0\r\n```\n\n### Description\n\nIf I use the below python dependencies (mainly virtualenv, setuptools and importlib.metadata), setuptools fails with an error.\r\n\r\nIt works fine with the previous version of setuptools and newer versions of importlib.metadata. It seems like, that the current vendored version of importlib.metadata is not compatible with my environment. \n\n### Expected behavior\n\nIt should work fine\n\n### How to Reproduce\n\n1. Install the above dependencies\r\n2. Run `nox -s`\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.7/runpy.py\", line 183, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/usr/lib64/python3.7/runpy.py\", line 142, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/usr/lib64/python3.7/runpy.py\", line 109, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/__init__.py\", line 3, in <module>\r\n    from .run import cli_run, session_via_cli\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/run/__init__.py\", line 14, in <module>\r\n    from .plugin.creators import CreatorSelector\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/run/plugin/creators.py\", line 6, in <module>\r\n    from virtualenv.create.via_global_ref.builtin.builtin_way import VirtualenvBuiltin\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py\", line 7, in <module>\r\n    from virtualenv.create.creator import Creator\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/create/creator.py\", line 15, in <module>\r\n    from virtualenv.discovery.cached_py_info import LogCmd\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/discovery/cached_py_info.py\", line 23, in <module>\r\n    _CACHE[Path(sys.executable)] = PythonInfo()\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/discovery/py_info.py\", line 86, in __init__\r\n    self.distutils_install = {u(k): u(v) for k, v in self._distutils_install().items()}\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/virtualenv/discovery/py_info.py\", line 152, in _distutils_install\r\n    d = dist.Distribution({\"script_args\": \"--no-user-cfg\"})  # conf files not parsed so they do not hijack paths\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/setuptools/dist.py\", line 456, in __init__\r\n    for ep in metadata.entry_points(group='distutils.setup_keywords'):\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 1003, in entry_points\r\n    return SelectableGroups.load(eps).select(**params)\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 453, in load\r\n    ordered = sorted(eps, key=by_group)\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/setuptools/_vendor/importlib_metadata/__init__.py\", line 1001, in <genexpr>\r\n    dist.entry_points for dist in unique(distributions())\r\n  File \"/root/git/empty_test/venv/lib/python3.7/site-packages/setuptools/_vendor/importlib_metadata/_itertools.py\", line 16, in unique_everseen\r\n    k = key(element)\r\nAttributeError: 'PathDistribution' object has no attribute '_normalized_name'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3102/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3092", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3092/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3092/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3092/events", "html_url": "https://github.com/pypa/setuptools/issues/3092", "id": 1128359691, "node_id": "I_kwDOA0bv8c5DQWcL", "number": 3092, "title": "[BUG] logging regression 60.6.0", "user": {"login": "stanislavlevin", "id": 31205609, "node_id": "MDQ6VXNlcjMxMjA1NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/31205609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stanislavlevin", "html_url": "https://github.com/stanislavlevin", "followers_url": "https://api.github.com/users/stanislavlevin/followers", "following_url": "https://api.github.com/users/stanislavlevin/following{/other_user}", "gists_url": "https://api.github.com/users/stanislavlevin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stanislavlevin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stanislavlevin/subscriptions", "organizations_url": "https://api.github.com/users/stanislavlevin/orgs", "repos_url": "https://api.github.com/users/stanislavlevin/repos", "events_url": "https://api.github.com/users/stanislavlevin/events{/privacy}", "received_events_url": "https://api.github.com/users/stanislavlevin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-02-09T10:40:48Z", "updated_at": "2022-02-15T20:33:17Z", "closed_at": "2022-02-15T20:33:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.6.0+\n\n### Python version\n\n3.10\n\n### OS\n\nALTLinux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWith setuptools 60.6.0 one of the self-tests of tox fails.\r\nThis happens due to different outputs (stdout) of the same command between two setuptools versions.\r\nSome of the expected logging records are missing in verbose mode.  These loggings are still in code but they don't reach stdout. This seems unintentional change of 0d491c616284933e35bb5d61a94828aed0c8d3f2.\r\n\r\nThe issue is that `log` (`setuptools._distutils.dir_util`:`from distutils import log`) is not changed as it may be expected by  `setuptools.logging` (`import distutils.log`) and the threshold is still the default (`WARN = 3`).\r\n\r\nProbably, other stuff can be affected by this.\n\n### Expected behavior\n\nI expect to see the logging record in `verbose` mode.\n\n### How to Reproduce\n\n1. `python setup.py sdist --verbose`\r\n2. there is no record of `log.info(\"removing '%s' (and everything under it)\", directory)` (`setuptools._distutils.dir_util.remove_tree`)\n\n### Output\n\nsetuptools with 0d491c616284933e35bb5d61a94828aed0c8d3f2:\r\n```console\r\n(py3) [builder@localhost example123]$ python setup.py sdist --verbose\r\nrunning sdist\r\nrunning egg_info\r\nwriting example123.egg-info/PKG-INFO\r\nwriting dependency_links to example123.egg-info/dependency_links.txt\r\nwriting top-level names to example123.egg-info/top_level.txt\r\nlisting git files failed - pretending there aren't any\r\nreading manifest file 'example123.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\nwarning: check: missing required meta-data: url\r\n\r\nwarning: check: missing meta-data: either (author and author_email) or (maintainer and maintainer_email) should be supplied\r\n\r\ncopying files to example123-0.5...\r\nWriting example123-0.5/setup.cfg\r\n```\r\n\r\nsetuptools without 0d491c616284933e35bb5d61a94828aed0c8d3f2:\r\n```\r\n(py3) [builder@localhost example123]$ python setup.py sdist --verbose\r\nrunning sdist\r\nrunning egg_info\r\nlisting git files failed - pretending there aren't any\r\nwriting manifest file 'example123.egg-info/SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\nwarning: check: missing required meta-data: url\r\n\r\nwarning: check: missing meta-data: either (author and author_email) or (maintainer and maintainer_email) should be supplied\r\n\r\ncreating example123-0.5\r\ncreating example123-0.5/example123\r\ncreating example123-0.5/example123.egg-info\r\ncopying MANIFEST.in -> example123-0.5\r\ncopying setup.py -> example123-0.5\r\ncopying tox.ini -> example123-0.5\r\ncopying ./example123/__init__.py -> example123-0.5/./example123\r\ncopying example123.egg-info/PKG-INFO -> example123-0.5/example123.egg-info\r\ncopying example123.egg-info/SOURCES.txt -> example123-0.5/example123.egg-info\r\ncopying example123.egg-info/dependency_links.txt -> example123-0.5/example123.egg-info\r\ncopying example123.egg-info/top_level.txt -> example123-0.5/example123.egg-info\r\nCreating tar archive\r\nremoving 'example123-0.5' (and everything under it)\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3092/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3092/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3090", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3090/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3090/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3090/events", "html_url": "https://github.com/pypa/setuptools/issues/3090", "id": 1127552020, "node_id": "I_kwDOA0bv8c5DNRQU", "number": 3090, "title": "[BUG] 60.7.0 breaks gevent monkeypatching", "user": {"login": "maciejp-ro", "id": 52241383, "node_id": "MDQ6VXNlcjUyMjQxMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/52241383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maciejp-ro", "html_url": "https://github.com/maciejp-ro", "followers_url": "https://api.github.com/users/maciejp-ro/followers", "following_url": "https://api.github.com/users/maciejp-ro/following{/other_user}", "gists_url": "https://api.github.com/users/maciejp-ro/gists{/gist_id}", "starred_url": "https://api.github.com/users/maciejp-ro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maciejp-ro/subscriptions", "organizations_url": "https://api.github.com/users/maciejp-ro/orgs", "repos_url": "https://api.github.com/users/maciejp-ro/repos", "events_url": "https://api.github.com/users/maciejp-ro/events{/privacy}", "received_events_url": "https://api.github.com/users/maciejp-ro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-08T17:31:04Z", "updated_at": "2022-02-08T23:31:11Z", "closed_at": "2022-02-08T22:53:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>=60.7.0\n\n### Python version\n\nPython 3.x (tested on 3.9 & 3.10)\n\n### OS\n\nAny (tested on Linux and MacOS)\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nRecent changes in Setuptools, introduced in version 60.7.0, break `gevent` concurrent networking library. When `setuptools>=60.7.0` is installed, `gevent` is unable to monkey-patch the standard library and freezes in runtime.\r\n\r\nThere are more detail in https://github.com/gevent/gevent/issues/1865 and the script used in reproduction steps comes from that issue.\r\n\r\nGevent monkey-patches networking and concurrency functions in standard library to replace them with versions that allow other green threads to run when the function is waiting for I/O. This monkey-patching needs to happen before any of the patched modules are loaded.\r\n\r\nOne of the changes in Setuptools 60.7.0 was using a vendored `more_itertools` library. This library, in turn, imports `concurrent.futures.threading`, which is one of the modules monkey-patched by gevent. Gevent code includes a `from pkg_resources import iter_entry_points` line, which triggers `more_itertools` import when gevent is imported, which creates a chicken-and-egg problem.\r\n\r\nThis is fixed by a following quick-and-dirty patch to `setuptools`, from which I will prepare a proper pull request. I'm sending a bug report first to provide context, because it will require a change in `jaraco.text` too. Note that this is a proof of concept, not a final proposed change.\r\n\r\n<details>\r\n<summary><kbd>git diff</kbd></summary>\r\n\r\n```diff\r\ndiff --git i/pkg_resources/_vendor/jaraco/functools.py w/pkg_resources/_vendor/jaraco/functools.py\r\nindex a3fea3a1..e8f47eb8 100644\r\n--- i/pkg_resources/_vendor/jaraco/functools.py\r\n+++ w/pkg_resources/_vendor/jaraco/functools.py\r\n@@ -5,14 +5,18 @@ import collections\r\n import types\r\n import itertools\r\n \r\n-import pkg_resources.extern.more_itertools\r\n-\r\n from typing import Callable, TypeVar\r\n \r\n \r\n CallableT = TypeVar(\"CallableT\", bound=Callable[..., object])\r\n \r\n \r\n+def _consume(iterator):\r\n+    \"\"\"Consume iterator (itertools recipe)\"\"\"\r\n+    # feed the entire iterator into a zero-length deque\r\n+    collections.deque(iterator, maxlen=0)\r\n+\r\n+\r\n def compose(*funcs):\r\n     \"\"\"\r\n     Compose any number of unary functions into a single unary function.\r\n@@ -385,7 +389,7 @@ def print_yielded(func):\r\n     None\r\n     \"\"\"\r\n     print_all = functools.partial(map, print)\r\n-    print_results = compose(more_itertools.consume, print_all, func)\r\n+    print_results = compose(_consume, print_all, func)\r\n     return functools.wraps(func)(print_results)\r\n \r\n \r\ndiff --git i/setuptools/_vendor/jaraco/functools.py w/setuptools/_vendor/jaraco/functools.py\r\nindex bbd8b29f..e8f47eb8 100644\r\n--- i/setuptools/_vendor/jaraco/functools.py\r\n+++ w/setuptools/_vendor/jaraco/functools.py\r\n@@ -5,14 +5,18 @@ import collections\r\n import types\r\n import itertools\r\n \r\n-import setuptools.extern.more_itertools\r\n-\r\n from typing import Callable, TypeVar\r\n \r\n \r\n CallableT = TypeVar(\"CallableT\", bound=Callable[..., object])\r\n \r\n \r\n+def _consume(iterator):\r\n+    \"\"\"Consume iterator (itertools recipe)\"\"\"\r\n+    # feed the entire iterator into a zero-length deque\r\n+    collections.deque(iterator, maxlen=0)\r\n+\r\n+\r\n def compose(*funcs):\r\n     \"\"\"\r\n     Compose any number of unary functions into a single unary function.\r\n@@ -385,7 +389,7 @@ def print_yielded(func):\r\n     None\r\n     \"\"\"\r\n     print_all = functools.partial(map, print)\r\n-    print_results = compose(more_itertools.consume, print_all, func)\r\n+    print_results = compose(_consume, print_all, func)\r\n     return functools.wraps(func)(print_results)\r\n \r\n \r\ndiff --git i/setuptools/command/build_py.py w/setuptools/command/build_py.py\r\nindex c3fdc092..a946d1fd 100644\r\n--- i/setuptools/command/build_py.py\r\n+++ w/setuptools/command/build_py.py\r\n@@ -8,7 +8,7 @@ import io\r\n import distutils.errors\r\n import itertools\r\n import stat\r\n-from setuptools.extern.more_itertools import unique_everseen\r\n+from setuptools.extern.more_itertools.recipes import unique_everseen\r\n \r\n \r\n def make_writable(target):\r\ndiff --git i/setuptools/command/test.py w/setuptools/command/test.py\r\nindex 4a389e4d..17bc69ee 100644\r\n--- i/setuptools/command/test.py\r\n+++ w/setuptools/command/test.py\r\n@@ -19,7 +19,7 @@ from pkg_resources import (\r\n     EntryPoint,\r\n )\r\n from setuptools import Command\r\n-from setuptools.extern.more_itertools import unique_everseen\r\n+from setuptools.extern.more_itertools.recipes import unique_everseen\r\n \r\n \r\n class ScanningLoader(TestLoader):\r\ndiff --git i/setuptools/dist.py w/setuptools/dist.py\r\nindex 733ae14f..ef00e417 100644\r\n--- i/setuptools/dist.py\r\n+++ w/setuptools/dist.py\r\n@@ -28,7 +28,7 @@ from distutils.util import rfc822_escape\r\n \r\n from setuptools.extern import packaging\r\n from setuptools.extern import ordered_set\r\n-from setuptools.extern.more_itertools import unique_everseen\r\n+from setuptools.extern.more_itertools.recipes import unique_everseen\r\n \r\n from . import SetuptoolsDeprecationWarning\r\n \r\ndiff --git i/setuptools/msvc.py w/setuptools/msvc.py\r\nindex 281ea1c2..5908a06e 100644\r\n--- i/setuptools/msvc.py\r\n+++ w/setuptools/msvc.py\r\n@@ -30,7 +30,7 @@ import itertools\r\n import subprocess\r\n import distutils.errors\r\n from setuptools.extern.packaging.version import LegacyVersion\r\n-from setuptools.extern.more_itertools import unique_everseen\r\n+from setuptools.extern.more_itertools.recipes import unique_everseen\r\n \r\n from .monkey import get_unpatched\r\n \r\ndiff --git i/setuptools/package_index.py w/setuptools/package_index.py\r\nindex 051e523a..f85a4b5e 100644\r\n--- i/setuptools/package_index.py\r\n+++ w/setuptools/package_index.py\r\n@@ -27,7 +27,7 @@ from distutils import log\r\n from distutils.errors import DistutilsError\r\n from fnmatch import translate\r\n from setuptools.wheel import Wheel\r\n-from setuptools.extern.more_itertools import unique_everseen\r\n+from setuptools.extern.more_itertools.recipes import unique_everseen\r\n \r\n \r\n EGG_FRAGMENT = re.compile(r'^egg=([-A-Za-z0-9_.+!]+)$')\r\n``` \r\n\r\n</details>\r\n\r\n- `unique_everseen` is imported directly from the `recipes` submodule which doesn't import `concurrency`. I'm not sure it's necessary or that it doesn't import `more_itertools.more` via parent module anyway. This function is 16 lines copied from stdlib documentation, so in final PR I'll probably consider vendoring just this one function\r\n- `consume` is one-liner from stdlib documentation (only this branch of upstream implementation's `if` is used), so it was pasted directly into source\r\n- The `more_itertools` library is the largest part of 60.7.0 diff. It's about 5KLOC, vendored twice (in `setuptools` and in `pkg_resources`). Out of this amount of code, only two functions are used; one is a one-liner `consume` and the other is 16 lines of code.\r\n\r\nThe freezes can and should be fixed in `gevent` (by using `importlib.metadata` / `importlib_metadata` on Python 3; if I'm right, this version of Setuptools is Python 3 only, so `pkg_resources` on Python 2.7 should be safe), but I believe that at the same time it requires a fix on Setuptools side, for the following reasons:\r\n\r\n- Minimize side effects of simply importing a library as low-level and fundamental as `setuptools` / `pkg_resources`\r\n- Reduce size of codebase by removing second largest vendored dependency `more_itertools` (or postprocessing it in `tools/vendored.py` to remove the problematic `more_itertools.more` and keeping only `more_itertools.recipes`)\n\n### Expected behavior\n\nI expected that the test code from \"How to Reproduce\" section will run.\n\n### How to Reproduce\n\n1. Install `gevent` and `setuptools>=60.7.0`\r\n2. Run the following code\r\n\r\n```python\r\nfrom gevent import monkey\r\nimport gevent\r\n\r\nif __name__ == \"__main__\":\r\n    monkey.patch_thread()\r\n    monkey.patch_subprocess()\r\n\r\n    import subprocess\r\n    from concurrent.futures import ThreadPoolExecutor\r\n\r\n    def func():\r\n        # gevent.sleep(0) # uncomment to fail\r\n        return subprocess.run([\"ls\", \"-l\", \"/dev/null\"], capture_output=True)\r\n\r\n    with ThreadPoolExecutor(max_workers=5) as executor:\r\n        fut = executor.submit(func)\r\n        print(fut.result())\r\n```\r\n\r\nThe script will freeze.\n\n### Output\n\n```console\r\n% python3 -m venv ./venv\r\n% . ./venv/bin/activate\r\n(venv) % pip install -U pip gevent setuptools==60.6.0\r\nRequirement already satisfied: pip in ./venv/lib/python3.9/site-packages (21.3.1)\r\nCollecting pip\r\n  Using cached pip-22.0.3-py3-none-any.whl (2.1 MB)\r\nCollecting gevent\r\n  Using cached gevent-21.12.0-cp39-cp39-macosx_12_0_arm64.whl\r\nCollecting setuptools==60.6.0\r\n  Using cached setuptools-60.6.0-py3-none-any.whl (953 kB)\r\nCollecting greenlet<2.0,>=1.1.0\r\n  Using cached greenlet-1.1.2-cp39-cp39-macosx_12_0_arm64.whl\r\nCollecting zope.interface\r\n  Using cached zope.interface-5.4.0-cp39-cp39-macosx_12_0_arm64.whl\r\nCollecting zope.event\r\n  Using cached zope.event-4.5.0-py2.py3-none-any.whl (6.8 kB)\r\nInstalling collected packages: setuptools, zope.interface, zope.event, greenlet, pip, gevent\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 60.5.0\r\n    Uninstalling setuptools-60.5.0:\r\n      Successfully uninstalled setuptools-60.5.0\r\n  Attempting uninstall: pip\r\n    Found existing installation: pip 21.3.1\r\n    Uninstalling pip-21.3.1:\r\n      Successfully uninstalled pip-21.3.1\r\nSuccessfully installed gevent-21.12.0 greenlet-1.1.2 pip-22.0.3 setuptools-60.6.0 zope.event-4.5.0 zope.interface-5.4.0\r\n(venv) % cat test.py\r\nfrom gevent import monkey\r\nimport gevent\r\n\r\nif __name__ == \"__main__\":\r\n    monkey.patch_thread()\r\n    monkey.patch_subprocess()\r\n\r\n    import subprocess\r\n    from concurrent.futures import ThreadPoolExecutor\r\n\r\n    def func():\r\n        # gevent.sleep(0) # uncomment to fail\r\n        return subprocess.run([\"ls\", \"-l\", \"/dev/null\"], capture_output=True)\r\n\r\n    with ThreadPoolExecutor(max_workers=5) as executor:\r\n        fut = executor.submit(func)\r\n        print(fut.result())\r\n(venv) % python test.py\r\nCompletedProcess(args=['ls', '-l', '/dev/null'], returncode=0, stdout=b'crw-rw-rw-  1 root  wheel  0x3000002 Feb  8 17:38 /dev/null\\n', stderr=b'')\r\n(venv) % pip install -U setuptools\r\nRequirement already satisfied: setuptools in ./venv/lib/python3.9/site-packages (60.6.0)\r\nCollecting setuptools\r\n  Using cached setuptools-60.8.1-py3-none-any.whl (1.1 MB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 60.6.0\r\n    Uninstalling setuptools-60.6.0:\r\n      Successfully uninstalled setuptools-60.6.0\r\nSuccessfully installed setuptools-60.8.1\r\n(venv) % python test.py\r\n# Script freezes, interrupted with Ctrl+C\r\n^CException ignored in: <built-in method acquire of _thread.lock object at 0x1037e26f0>\r\nTraceback (most recent call last):\r\n  File \"/Users/maciejp/Src/github.com/HealthByRo/tmp/testink/venv/lib/python3.9/site-packages/gevent/os.py\", line 431, in fork_and_watch\r\n    pid = fork()\r\nKeyboardInterrupt:\r\nTraceback (most recent call last):\r\n  File \"/Users/maciejp/Src/github.com/HealthByRo/tmp/testink/test.py\", line 16, in <module>\r\n    fut = executor.submit(func)\r\n  File \"/opt/homebrew/Cellar/python@3.9/3.9.10/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py\", line 177, in submit\r\n    return f\r\nRuntimeError: release unlocked lock\r\n(venv) %\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3090/reactions", "total_count": 10, "+1": 10, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3090/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3088", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3088/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3088/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3088/events", "html_url": "https://github.com/pypa/setuptools/issues/3088", "id": 1126490056, "node_id": "I_kwDOA0bv8c5DJN_I", "number": 3088, "title": "Wrong Version detected with project_wheel_metadata ", "user": {"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-02-05T15:58:01Z", "updated_at": "2022-04-04T09:33:56Z", "closed_at": "2022-04-04T09:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm not sure whether this is a problem with `build`, `pep517`, `importlib.metadata` or something different.\r\n\r\nI triaged a potential bug in poetry 1.2.0a2 and realized the following:\r\n\r\nWhen I build a wheel for the current `sqlalchemy` from it's [main branch](https://github.com/sqlalchemy/sqlalchemy) - after cloning the repo - by `python -m build` the `Version` field in `METADATA` is `2.0.0b1.dev0`.\r\n\r\nBut when I run this in a python console the result is different:\r\n\r\n```py\r\nimport build.util\r\nmeta = build.util.project_wheel_metadata(\".\")\r\nmeta.get(\"Version\")\r\n'2.0.0b1.dev0dev'\r\n```\r\n\r\nAs you can see there's an additional `dev` at the end of the version.\r\n\r\nAny ideas what's going on?\r\n\r\nPython: 3.10.2\r\nbuild: 0.7.0\r\n\r\nfin swimmer\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3084", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3084/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3084/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3084/events", "html_url": "https://github.com/pypa/setuptools/issues/3084", "id": 1124929534, "node_id": "I_kwDOA0bv8c5DDQ_-", "number": 3084, "title": "[BUG] PR #3061 breaks zip importing with \"ImportError: The 'jaraco' package is required;\"", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-05T13:21:40Z", "updated_at": "2022-02-06T15:32:07Z", "closed_at": "2022-02-06T15:31:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n60.7.1\n\n### Python version\n\n3.8.10\n\n### OS\n\nubuntu 20.04\n\n### Additional environment information\n\nn/a\n\n### Description\n\nthis breaks virtualenv (and others as it seems from nuitka/nuitka#1406) https://github.com/pypa/virtualenv/runs/5077580857?check_suite_focus=true\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/site-packages.zip/setuptools/__init__.py\", line 16, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/site-packages.zip/setuptools/version.py\", line 1, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/site-packages.zip/pkg_resources/__init__.py\", line 74, in <module>\r\n  File \"/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/site-packages.zip/pkg_resources/extern/__init__.py\", line 52, in create_module\r\n  File \"/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/site-packages.zip/pkg_resources/extern/__init__.py\", line 44, in load_module\r\nImportError: The 'jaraco' package is required; normally this is bundled with this package so if you get this warning, consult the packager of your distribution.\r\n```\r\n\r\nvia this subprocess call\r\n\r\n```\r\nE           subprocess.CalledProcessError: Command '['/tmp/pytest-of-asottile/pytest-1/test_zip_importer_can_import_s0/venv/bin/python', '-c', 'from setuptools.dist import Distribution']' returned non-zero exit status 1.\r\n```\r\n\r\nnote that this is exercising the zipimporter, so this likely breaks zip importing\n\n### Expected behavior\n\nnot crashing\n\n### How to Reproduce\n\n```console\r\n$ PYTHONPATH=setuptools-60.7.1-py3-none-any.whl python -c 'from setuptools import dist'\r\n```\n\n### Output\n\n```console\r\n$ PYTHONPATH=setuptools-60.7.1-py3-none-any.whl python -c 'from setuptools import dist'\r\nError processing line 1 of /tmp/y/virtualenv/venv/lib/python3.8/site-packages/distutils-precedence.pth:\r\n\r\n  Traceback (most recent call last):\r\n    File \"/usr/lib/python3.8/site.py\", line 175, in addpackage\r\n      exec(line)\r\n    File \"<string>\", line 1, in <module>\r\n  AttributeError: module '_distutils_hack' has no attribute 'ensure_shim'\r\n\r\nRemainder of file ignored\r\nError processing line 1 of /tmp/y/virtualenv/venv/lib/python3.8/site-packages/distutils-precedence.pth:\r\n\r\n  Traceback (most recent call last):\r\n    File \"/usr/lib/python3.8/site.py\", line 175, in addpackage\r\n      exec(line)\r\n    File \"<string>\", line 1, in <module>\r\n  AttributeError: module '_distutils_hack' has no attribute 'ensure_shim'\r\n\r\nRemainder of file ignored\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/y/virtualenv/setuptools-60.7.1-py3-none-any.whl/setuptools/__init__.py\", line 16, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/y/virtualenv/setuptools-60.7.1-py3-none-any.whl/setuptools/version.py\", line 1, in <module>\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/tmp/y/virtualenv/setuptools-60.7.1-py3-none-any.whl/pkg_resources/__init__.py\", line 74, in <module>\r\n  File \"/tmp/y/virtualenv/setuptools-60.7.1-py3-none-any.whl/pkg_resources/extern/__init__.py\", line 52, in create_module\r\n  File \"/tmp/y/virtualenv/setuptools-60.7.1-py3-none-any.whl/pkg_resources/extern/__init__.py\", line 44, in load_module\r\nImportError: The 'jaraco' package is required; normally this is bundled with this package so if you get this warning, consult the packager of your distribution.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3084/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3063", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3063/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3063/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3063/events", "html_url": "https://github.com/pypa/setuptools/issues/3063", "id": 1119361902, "node_id": "I_kwDOA0bv8c5CuBtu", "number": 3063, "title": "easy_install doesn't handle sysconfig vars being integers.", "user": {"login": "domdfcoding", "id": 8050853, "node_id": "MDQ6VXNlcjgwNTA4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8050853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domdfcoding", "html_url": "https://github.com/domdfcoding", "followers_url": "https://api.github.com/users/domdfcoding/followers", "following_url": "https://api.github.com/users/domdfcoding/following{/other_user}", "gists_url": "https://api.github.com/users/domdfcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/domdfcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domdfcoding/subscriptions", "organizations_url": "https://api.github.com/users/domdfcoding/orgs", "repos_url": "https://api.github.com/users/domdfcoding/repos", "events_url": "https://api.github.com/users/domdfcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/domdfcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-31T12:23:27Z", "updated_at": "2022-02-02T01:14:07Z", "closed_at": "2022-02-02T01:14:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the `create_home_path` function of `setuptools/command/easy_install.py` the code fails with an AttributeError if `path` is not a string. Since #3027 `self.config_vars` has been created from `sysconfig.get_config_vars()`, where the values can be strings or integers, such as `'WITH_PYMALLOC': 1`.\r\n\r\nhttps://github.com/pypa/setuptools/blob/b2ba0e39918d58bd6c6b15093ddcdc42605040ce/setuptools/command/easy_install.py#L241\r\n\r\nhttps://github.com/pypa/setuptools/blob/b2ba0e39918d58bd6c6b15093ddcdc42605040ce/setuptools/command/easy_install.py#L1337-L1338\r\n\r\nBecause integers do not have a `startswith` method an AttributeError is raised. Checking whether `path` is a string should fix this.\r\n\r\nI tried to reproduce this locally with `easy_install`, but couldn't. However, it can be observed in pip's testsuite: https://github.com/pypa/pip/runs/5002678226\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3063/reactions", "total_count": 11, "+1": 10, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3055", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3055/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3055/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3055/events", "html_url": "https://github.com/pypa/setuptools/issues/3055", "id": 1115572464, "node_id": "I_kwDOA0bv8c5Cfkjw", "number": 3055, "title": "[BUG] [REGRESSION] Fails on cross-compiling when host = target x84_64", "user": {"login": "th0ma7", "id": 17141866, "node_id": "MDQ6VXNlcjE3MTQxODY2", "avatar_url": "https://avatars.githubusercontent.com/u/17141866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/th0ma7", "html_url": "https://github.com/th0ma7", "followers_url": "https://api.github.com/users/th0ma7/followers", "following_url": "https://api.github.com/users/th0ma7/following{/other_user}", "gists_url": "https://api.github.com/users/th0ma7/gists{/gist_id}", "starred_url": "https://api.github.com/users/th0ma7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/th0ma7/subscriptions", "organizations_url": "https://api.github.com/users/th0ma7/orgs", "repos_url": "https://api.github.com/users/th0ma7/repos", "events_url": "https://api.github.com/users/th0ma7/events{/privacy}", "received_events_url": "https://api.github.com/users/th0ma7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-26T22:40:53Z", "updated_at": "2022-01-30T10:56:24Z", "closed_at": "2022-01-29T18:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.5.0\n\n### Python version\n\n3.10.2\n\n### OS\n\nLinux - Synology DSM toolchain\n\n### Additional environment information\n\nPart of the SynoCommunity ecosystem providing python package(s).\r\nhttps://synocommunity.com/\r\nPython 3.10 packages for all Synology NAS archs:\r\nhttps://synocommunity.com/package/python310\r\n\r\nBuild using Synology toolchain.\r\nStages:\r\n1. build host native\r\n2. build cross-compile\r\n3. create crossenv\r\n4. install necessary dependencies into crossenv\r\n5. build wheels to be packages\r\n\r\nWhen updating to latest version (60.5.0), python 3.10 fails to build on cross-compiling ONLY when target=host x86_64. \r\n It successfully build all other cross-compiled environment.\r\n\r\nRelated PR: https://github.com/SynoCommunity/spksrc/pull/5101\n\n### Description\n\nWhile completing the python310 package update it ended-up failing specifically when updating setuptools from 60.2.0 to 60.5.0.\r\n\r\nSpecific commit:\r\nhttps://github.com/SynoCommunity/spksrc/pull/5101/commits/ca2698a5ed54d513a358cec36c8ca4cd7a665d96\n\n### Expected behavior\n\nSuccessful build using previous setuptools release (60.2.0):\r\nhttps://github.com/SynoCommunity/spksrc/pull/5101/checks?sha=1448434cb826ec5ac25b6cd66bc836b1b9818e19\n\n### How to Reproduce\n\nSee PR for additional details.\n\n### Output\n\nAll build outputs available thought checks on associated PR.\r\nhttps://github.com/SynoCommunity/spksrc/pull/5101/checks\r\n\r\nFailure seems to be happening post-build time, probably at linking time and makes me think it may have \"lost\" its `LDFLAG` somehow.  Actual failure output, only happens on x86_64:\r\n```\r\nmake[4]: Entering directory '/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2'\r\nif test \"no-framework\" = \"no-framework\" ; then \\\r\n\t/usr/bin/install -c python /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\nelse \\\r\n\t/usr/bin/install -c -s Mac/pythonw /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\nfi\r\nif test \"3.10\" != \"3.10\"; then \\\r\n\tif test -f /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10 -o -h /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\n\tthen rm -f /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\n\tfi; \\\r\n\t(cd /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin; ln python3.10 python3.10); \\\r\nfi\r\nif test \"x\" != \"x\" ; then \\\r\n\trm -f /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/binpython3.10-32; \\\r\n\tlipo  \\\r\n\t\t-output /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10-32 \\\r\n\t\t/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\nfi\r\nif test \"x\" != \"x\" ; then \\\r\n\trm -f /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/binpython3.10-intel64; \\\r\n\tlipo  \\\r\n\t\t-output /home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10-intel64 \\\r\n\t\t/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install/var/packages/python310/target/bin/python3.10; \\\r\nfi\r\n CC='/home/spksrc/python310.2/spksrc/toolchain/syno-x64-7.0/work/x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu-gcc' LDSHARED='/home/spksrc/python310.2/spksrc/toolchain/syno-x64-7.0/work/x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu-gcc -shared -L/home/spksrc/python310.2/spksrc/toolchain/syno-x64-7.0/work/x86_64-pc-linux-gnu/x86_64-pc-linux-gnu/sys-root/lib -L/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install//var/packages/python310/target/lib -Wl,--rpath-link,/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install//var/packages/python310/target/lib -Wl,--rpath,/var/packages/python310/target/lib  -L/home/spksrc/python310.2/spksrc/toolchain/syno-x64-7.0/work/x86_64-pc-linux-gnu/x86_64-pc-linux-gnu/sys-root/lib -L/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install//var/packages/python310/target/lib -Wl,--rpath-link,/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/install//var/packages/python310/target/lib -Wl,--rpath,/var/packages/python310/target/lib  -fno-semantic-interposition -flto -fuse-linker-plugin -ffat-lto-objects -flto-partition=none -g ' OPT='-DNDEBUG -g -fwrapv -O3 -Wall' \t_TCLTK_INCLUDES='' _TCLTK_LIBS='' \t_PYTHON_PROJECT_BASE=/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2 _PYTHON_HOST_PLATFORM=linux-x86_64 PYTHONPATH=/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2/build/lib.linux-x86_64-3.10:./Lib _PYTHON_SYSCONFIGDATA_NAME=_sysconfigdata__linux_x86_64-linux-gnu python3.10 ./setup.py  build\r\nTraceback (most recent call last):\r\n  File \"/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2/./setup.py\", line 50, in <module>\r\n    from distutils.command.install import install\r\n  File \"/home/spksrc/python310.2/spksrc/native/python310/work-native/install/usr/local/lib/python3.10/site-packages/setuptools/_distutils/command/install.py\", line 20, in <module>\r\n    from .. import _collections\r\n  File \"/home/spksrc/python310.2/spksrc/native/python310/work-native/install/usr/local/lib/python3.10/site-packages/setuptools/__init__.py\", line 18, in <module>\r\n    from setuptools.dist import Distribution\r\n  File \"/home/spksrc/python310.2/spksrc/native/python310/work-native/install/usr/local/lib/python3.10/site-packages/setuptools/dist.py\", line 37, in <module>\r\n    from setuptools import windows_support\r\n  File \"/home/spksrc/python310.2/spksrc/native/python310/work-native/install/usr/local/lib/python3.10/site-packages/setuptools/windows_support.py\", line 2, in <module>\r\n    import ctypes\r\n  File \"/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2/Lib/ctypes/__init__.py\", line 8, in <module>\r\n    from _ctypes import Union, Structure, Array\r\nImportError: libffi.so.8: cannot open shared object file: No such file or directory\r\nmake[4]: *** [Makefile:637: sharedmods] Error 1\r\nmake[4]: Leaving directory '/home/spksrc/python310.2/spksrc/spk/python310/work-x64-7.0/Python-3.10.2'\r\nmake[3]: *** [Makefile:126: python310_install] Error 2\r\nmake[3]: Leaving directory '/home/spksrc/python310.2/spksrc/cross/python310'\r\nmake[2]: *** [../../mk/spksrc.depend.mk:51: depend_target] Error 2\r\nmake[2]: Leaving directory '/home/spksrc/python310.2/spksrc/spk/python310'\r\nmake[1]: Leaving directory '/home/spksrc/python310.2/spksrc/spk/python310'\r\n```\r\n\r\nError relates to `libffi` while it does exists and is part of default CFLAGS and LDFLAGS.  And such error does not happens when cross-compiling for all other archs.\r\n```\r\n$ find . -name libffi.so.8\r\n./work-x64-7.0/install/var/packages/python310/target/lib/libffi.so.8\r\n./work-x64-7.0/libffi-3.4.2/x86_64-pc-linux-gnu/.libs/libffi.so.8\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3055/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3038", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3038/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3038/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3038/events", "html_url": "https://github.com/pypa/setuptools/issues/3038", "id": 1109692593, "node_id": "I_kwDOA0bv8c5CJJCx", "number": 3038, "title": "[BUG] INFO log level is no longer default for some commands", "user": {"login": "cboylan", "id": 231403, "node_id": "MDQ6VXNlcjIzMTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/231403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cboylan", "html_url": "https://github.com/cboylan", "followers_url": "https://api.github.com/users/cboylan/followers", "following_url": "https://api.github.com/users/cboylan/following{/other_user}", "gists_url": "https://api.github.com/users/cboylan/gists{/gist_id}", "starred_url": "https://api.github.com/users/cboylan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cboylan/subscriptions", "organizations_url": "https://api.github.com/users/cboylan/orgs", "repos_url": "https://api.github.com/users/cboylan/repos", "events_url": "https://api.github.com/users/cboylan/events{/privacy}", "received_events_url": "https://api.github.com/users/cboylan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-20T19:36:40Z", "updated_at": "2022-01-24T12:44:15Z", "closed_at": "2022-01-24T12:44:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.0.0 and newer\n\n### Python version\n\nPython 3.8\n\n### OS\n\nOpenSUSE Tumbleweed\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen running certain commands setuptools seems to log at a `WARN` level and not `INFO` level which was the previous default. This appears to have changed with the switch from `stdlib` to `local` distutils vendoring in 60.0.0. 59.8.0 continues to log at an `INFO` level as expected. The latest 60.5.4 release continues to log at a WARN level by default. Commands like `sdist` appear to log at an `INFO` level though making me suspect that this is limited to distutils commands and not those that setuptools has overridden.\r\n\r\nThe example I've used below is `build_scripts` because it is relatively simple but it seems to affect others as well. Calling this out as recent changing to setuptools logging seem to indicate a desire to maintain backward compat with distutils for now and that seems to have broken though I don't understand how/why. Also, pointing this out in case it points to bigger issues in the local vendoring of distutils.\n\n### Expected behavior\n\nI expect setuptools to continue logging at INFO level by default.\n\n### How to Reproduce\n\n1. Create setup.py with scripts entry.\r\n2. Install setuptools 59.8.0\r\n3. Run `setup.py build_scripts --dry-run`\r\n4. Install setuptools 60.0.0\r\n5. Run `setup.py build_scripts --dry-run`\r\n6. Note that there is no log.info() message indicating a mode change would occur.\r\n\r\nNote that setting -v on the commands does not change the output. Additionally setting SETUPTOOLS_USE_DISTUTILS=stdlib corrects this on newer setuptools indicating the local vendoring is likely to blame.\n\n### Output\n\n```console\r\n$ .tox/py38/bin/pip install -U setuptools==59.8.0\r\nCollecting setuptools==59.8.0\r\n  Using cached setuptools-59.8.0-py3-none-any.whl (952 kB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 60.0.0\r\n    Uninstalling setuptools-60.0.0:\r\n      Successfully uninstalled setuptools-60.0.0\r\nSuccessfully installed setuptools-59.8.0\r\n$ .tox/py38/bin/python3 setup.py build_scripts --dry-run\r\nrunning build_scripts\r\ncreating build/scripts-3.8\r\nwarning: build_scripts: foo/bar.py is an empty file (skipping)\r\n\r\nchanging mode of build/scripts-3.8/bar.py\r\n$ .tox/py38/bin/pip install -U setuptools==60.0.0\r\nCollecting setuptools==60.0.0\r\n  Using cached setuptools-60.0.0-py3-none-any.whl (952 kB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 59.8.0\r\n    Uninstalling setuptools-59.8.0:\r\n      Successfully uninstalled setuptools-59.8.0\r\nSuccessfully installed setuptools-60.0.0\r\n$ .tox/py38/bin/python3 setup.py build_scripts --dry-run\r\nrunning build_scripts\r\ncreating build/scripts-3.8\r\nwarning: build_scripts: foo/bar.py is an empty file (skipping)\r\n\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3035", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3035/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3035/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3035/events", "html_url": "https://github.com/pypa/setuptools/issues/3035", "id": 1108601936, "node_id": "I_kwDOA0bv8c5CE-xQ", "number": 3035, "title": "[BUG] Issue with local distutils override, duplicate module entries", "user": {"login": "dalcinl", "id": 294981, "node_id": "MDQ6VXNlcjI5NDk4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/294981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dalcinl", "html_url": "https://github.com/dalcinl", "followers_url": "https://api.github.com/users/dalcinl/followers", "following_url": "https://api.github.com/users/dalcinl/following{/other_user}", "gists_url": "https://api.github.com/users/dalcinl/gists{/gist_id}", "starred_url": "https://api.github.com/users/dalcinl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dalcinl/subscriptions", "organizations_url": "https://api.github.com/users/dalcinl/orgs", "repos_url": "https://api.github.com/users/dalcinl/repos", "events_url": "https://api.github.com/users/dalcinl/events{/privacy}", "received_events_url": "https://api.github.com/users/dalcinl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-19T21:59:24Z", "updated_at": "2022-02-16T02:15:59Z", "closed_at": "2022-02-16T02:15:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.5.0\r\n\r\n### Python version\r\n\r\n3.9.9\r\n\r\n### OS\r\n\r\nmacOS\r\n\r\n### Additional environment information\r\n\r\nedit(jaraco): ~~I explicitly state that I DO NOT AGREE with being forced to agree with the PSF Code of Conduct to submit this issue. I ticked the box just because I cannot continue otherwise. I hope this requirement for issue submission is an oversight. If not, please close this issue and ignore my report.~~\r\n\r\n### Description\r\n\r\nThere are issues with the local `distutils` override leading to duplicated `distutils.log` module entries in `sys.modules`. As a side effect, the verbose flag (`-v`) to `setup.py` does not work (i.e passing `-v` DOES NOT increase verbosity).\r\n\r\n### Expected behavior\r\n\r\n1. After `import setuptools`, there should be no entries in `sys.modules` referring to `setuptools._distutils`.\r\n2. Running `python setup.py -vv <command>` should increase verbosity.\r\n\r\n### How to Reproduce\r\n\r\nRun the following Python code:\r\n\r\n```python\r\nimport setuptools\r\nimport sys\r\nfor k in sys.modules.keys():\r\n    if 'distutils.log' in k:\r\n        print(k)\r\n```\r\n\r\n### Output\r\n\r\n```console\r\nsetuptools._distutils.log\r\ndistutils.log\r\n```\r\n\r\nObviously, the first entry is bogus and should not be printed.\r\n\r\nAdding `print(log)` after the `from distutils import log` import statement in `setuptools/_distutils/dist.py` will help with debugging the problem. You should get the bogus `setuptools._distutils.log` module.\r\n\r\nI believe this module duplication issue happens with other distutils submodules, you can check with:\r\n\r\n```python\r\nimport setuptools\r\nimport sys\r\nfor k in sys.modules.keys():\r\n    if '_distutils' in k:\r\n        print(k)\r\n```\r\n\r\nwhich produces\r\n\r\n```console\r\n_distutils_hack\r\nsetuptools._distutils\r\nsetuptools._distutils.log\r\nsetuptools._distutils.dir_util\r\nsetuptools._distutils.file_util\r\nsetuptools._distutils.archive_util\r\n_distutils_hack.override\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3019", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3019/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3019/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3019/events", "html_url": "https://github.com/pypa/setuptools/issues/3019", "id": 1097208209, "node_id": "I_kwDOA0bv8c5BZhGR", "number": 3019, "title": "[BUG] Permission denied error to install pkg editable and user mode ", "user": {"login": "jinserk", "id": 823222, "node_id": "MDQ6VXNlcjgyMzIyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/823222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinserk", "html_url": "https://github.com/jinserk", "followers_url": "https://api.github.com/users/jinserk/followers", "following_url": "https://api.github.com/users/jinserk/following{/other_user}", "gists_url": "https://api.github.com/users/jinserk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinserk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinserk/subscriptions", "organizations_url": "https://api.github.com/users/jinserk/orgs", "repos_url": "https://api.github.com/users/jinserk/repos", "events_url": "https://api.github.com/users/jinserk/events{/privacy}", "received_events_url": "https://api.github.com/users/jinserk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-01-09T14:17:36Z", "updated_at": "2022-10-02T12:03:23Z", "closed_at": "2022-04-03T20:26:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.5.0\n\n### Python version\n\n3.10.1\n\n### OS\n\nArchlinux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen I install a custom package with pip in user mode and editable, it produces permission denied error:\r\n```\r\n$ pip install --user --no-deps --no-use-pep517 -e .\r\nObtaining file:///home/jinserk/public/c2tk\r\n  Preparing metadata (setup.py) ... done\r\nInstalling collected packages: c2tk\r\n  Running setup.py develop for c2tk\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"'; __file__='\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix=\r\n         cwd: /home/jinserk/public/c2tk/\r\n    Complete output (7 lines):\r\n    running develop\r\n    /home/jinserk/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py:156: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    /home/jinserk/.local/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    running egg_info\r\n    error: [Errno 13] Permission denied\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"'; __file__='\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix= Check the logs for full command output.\r\n```\r\n\n\n### Expected behavior\n\nInstall the package into `$HOME/.local/lib/python3.10/site-packages`\n\n### How to Reproduce\n\n1. Check you're using python 3.10.1\r\n2. upgrade all the build env\r\n```\r\npip install -U pip setuptools wheel\r\n```\r\n3. clone the repo:\r\n```\r\ngit clone https://github.com/jinserk/c2tk.git\r\n```\r\n4. Install it with pip, editable and user mode\r\n```\r\ncd c2tk\r\npip install --user --no-deps --no-use-pep517 -e .\r\n```\r\n\n\n### Output\n\n```console\r\n$ pip install --user --no-deps --no-use-pep517 -e .\r\nObtaining file:///home/jinserk/public/c2tk\r\n  Preparing metadata (setup.py) ... done\r\nInstalling collected packages: c2tk\r\n  Running setup.py develop for c2tk\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"'; __file__='\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix=\r\n         cwd: /home/jinserk/public/c2tk/\r\n    Complete output (7 lines):\r\n    running develop\r\n    /home/jinserk/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py:156: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    /home/jinserk/.local/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    running egg_info\r\n    error: [Errno 13] Permission denied\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"'; __file__='\"'\"'/home/jinserk/public/c2tk/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix= Check the logs for full command output.\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3019/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3019/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3017", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3017/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3017/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3017/events", "html_url": "https://github.com/pypa/setuptools/issues/3017", "id": 1097071860, "node_id": "I_kwDOA0bv8c5BY_z0", "number": 3017, "title": "[BUG] Setuptools is including test files in its own wheel", "user": {"login": "abravalheri", "id": 320755, "node_id": "MDQ6VXNlcjMyMDc1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abravalheri", "html_url": "https://github.com/abravalheri", "followers_url": "https://api.github.com/users/abravalheri/followers", "following_url": "https://api.github.com/users/abravalheri/following{/other_user}", "gists_url": "https://api.github.com/users/abravalheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/abravalheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abravalheri/subscriptions", "organizations_url": "https://api.github.com/users/abravalheri/orgs", "repos_url": "https://api.github.com/users/abravalheri/repos", "events_url": "https://api.github.com/users/abravalheri/events{/privacy}", "received_events_url": "https://api.github.com/users/abravalheri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-09T00:42:07Z", "updated_at": "2022-01-14T14:41:19Z", "closed_at": "2022-01-14T14:41:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nmain branch: 464568d\r\n\r\n### Python version\r\n\r\nPython 3.8\r\n\r\n### OS\r\n\r\nUbuntu 20.04.3 LTS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nSetuptools own wheel contain some test files, which is undesirable.\r\nMoreover it indicates that either:\r\n1. `find_namespace_packages` is struggling to handle the exclude patterns, OR\r\n2. the exclude pattern configuration is insufficient\r\n   https://github.com/pypa/setuptools/blob/464568d64469fb1ca9794ef26fe2288f16c15598/setup.cfg#L30-L37\r\n---\r\n**Side Note**\r\n\r\nThis issue appeared when I was investigating the failures in #3015 for PyPY.\r\nI am speculating the following:\r\n- When tox install setuptools from sdist, the build artifact contains a `setuptools/tests` folder\r\n  - I suspect that works as an implicit namespace.\r\n- When pytest tries to import things there is a path manipulation (or some importlib shenanigans), and suddenly `setuptools/tests` has a `__init__.py` file, which I suspect conflicts with the previous installed implicit namespace \r\n\r\n### Expected behavior\r\n\r\nSetuptools should not include test files in the final wheel distribution.\r\nThese files should not be installed in the end user environment.\r\n\r\n### How to Reproduce\r\n\r\n```bash\r\ncd /tmp\r\ngit clone --depth=1 https://github.com/pypa/setuptools.git\r\ncd setuptools\r\nvirtualenv .venv -p python3.8\r\n\r\n.venv/bin/python setup.py egg_info\r\n.venv/bin/python setup.py bdist_wheel\r\nunzip -l dist/setuptools*.whl | grep tests\r\n      104  2022-01-09 00:19   pkg_resources/tests/data/my-test-package-source/setup.py\r\n        0  2022-01-09 00:19   setuptools/tests/integration/__init__.py\r\n     2134  2022-01-09 00:19   setuptools/tests/integration/helpers.py\r\n     7938  2022-01-09 00:19   setuptools/tests/integration/test_pip_install_sdist.py\r\n\r\n\r\nrm -rf dist build setuptools.egg-info\r\n.venv/bin/python -m pip install build\r\n.venv/bin/python -m build\r\nunzip -l dist/setuptools*.whl | grep tests\r\n      104  2022-01-09 00:19   pkg_resources/tests/data/my-test-package-source/setup.py\r\n        0  2022-01-09 00:19   setuptools/tests/integration/__init__.py\r\n     2134  2022-01-09 00:19   setuptools/tests/integration/helpers.py\r\n     7938  2022-01-09 00:19   setuptools/tests/integration/test_pip_install_sdist.py\r\n\r\n\r\ncd /tmp\r\nwget https://files.pythonhosted.org/packages/eb/53/0dd4c7960579da8be13fa9b2c2591643d37f323e3d79f8bc8b1b6c8e6217/setuptools-60.5.0-py3-none-any.whl\r\nunzip -l setuptools*.whl | grep tests\r\n      104  2021-12-20 16:48   pkg_resources/tests/data/my-test-package-source/setup.py\r\n        0  2022-01-08 01:39   setuptools/tests/integration/__init__.py\r\n     2134  2022-01-08 01:39   setuptools/tests/integration/helpers.py\r\n     7938  2022-01-08 01:39   setuptools/tests/integration/test_pip_install_sdist.py\r\n```\r\n\r\n### Output\r\n\r\nBoth distributions built locally and the file on PyPI contain the following files:\r\n\r\n```console\r\npkg_resources/tests/data/my-test-package-source/setup.py\r\nsetuptools/tests/integration/__init__.py\r\nsetuptools/tests/integration/helpers.py\r\nsetuptools/tests/integration/test_pip_install_sdist.py\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3017/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3004", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3004/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3004/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3004/events", "html_url": "https://github.com/pypa/setuptools/issues/3004", "id": 1094923532, "node_id": "I_kwDOA0bv8c5BQzUM", "number": 3004, "title": "[BUG] setuptools 60.3.0 breaks pip-review (and -m pip) with AttributeError: module '__main__' has no attribute '__file__'", "user": {"login": "allenatdecisiv", "id": 1952547, "node_id": "MDQ6VXNlcjE5NTI1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1952547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenatdecisiv", "html_url": "https://github.com/allenatdecisiv", "followers_url": "https://api.github.com/users/allenatdecisiv/followers", "following_url": "https://api.github.com/users/allenatdecisiv/following{/other_user}", "gists_url": "https://api.github.com/users/allenatdecisiv/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenatdecisiv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenatdecisiv/subscriptions", "organizations_url": "https://api.github.com/users/allenatdecisiv/orgs", "repos_url": "https://api.github.com/users/allenatdecisiv/repos", "events_url": "https://api.github.com/users/allenatdecisiv/events{/privacy}", "received_events_url": "https://api.github.com/users/allenatdecisiv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-06T03:09:08Z", "updated_at": "2022-01-06T03:15:28Z", "closed_at": "2022-01-06T03:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.3.0\r\n\r\n### Python version\r\n\r\nPython 3.8.12\r\n\r\n### OS\r\n\r\nWindows 10 (CYGWIN_NT-10.0-19044 FOUREYES 3.3.3-341.x86_64)\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI upgraded from setuptools 60.2.0 to setuptools 60.3.0 and I get this error with running `pip-review --verbose --interactive`:\r\n```\r\npip-review --verbose --interactive\r\n/usr/bin/python3.8.exe: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/pip-review\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 223, in main\r\n    outdated = get_outdated_packages(list_args)\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 205, in get_outdated_packages\r\n    output = check_output(command).decode('utf-8')\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 21, in check_output\r\n    raise error\r\nsubprocess.CalledProcessError: Command '['/usr/bin/python3.8.exe', '-m', 'pip', 'list', '--outdated', '--disable-pip-version-check', '--format=json']' returned non-zero exit status 1.\r\n```\r\n\r\nSo I removed the `pip-review` command from the puzzle, just running the command it's running:\r\n```\r\n$ /usr/bin/python3.8.exe -m pip list --outdated --disable-pip-version-check\r\n/usr/bin/python3.8.exe: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\n```\r\n\r\nInterestingly, this works:\r\n```\r\n$ pip list --outdated --disable-pip-version-check\r\nPackage            Version  Latest  Type\r\n------------------ -------- ------- -----\r\nargcomplete        1.12.3   2.0.0   wheel\r\nboto3              1.20.26  1.20.29 wheel\r\nbotocore           1.23.26  1.23.29 wheel\r\ncharset-normalizer 2.0.9    2.0.10  wheel\r\ncryptography       3.3.2    36.0.1  sdist\r\nidna               2.10     3.3     wheel\r\nparsedatetime      2.4      2.6     wheel\r\npipx               0.17.0   1.0.0   wheel\r\npyparsing          2.4.7    3.0.6   wheel\r\nrequests           2.26.0   2.27.1  wheel\r\ntomli              1.2.2    2.0.0   wheel\r\ntyping-extensions  3.10.0.2 4.0.1   wheel\r\n```\r\n\r\nI went back to setuptools 60.2.0:\r\n```\r\npip show setuptools\r\nName: setuptools\r\nVersion: 60.2.0\r\nSummary: Easily download, build, install, upgrade, and uninstall Python packages\r\nHome-page: https://github.com/pypa/setuptools\r\nAuthor: Python Packaging Authority\r\nAuthor-email: distutils-sig@python.org\r\nLicense: UNKNOWN\r\nLocation: /usr/lib/python3.8/site-packages\r\nRequires:\r\nRequired-by: csvkit, johnnydep, pip-tools, pipenv\r\n```\r\nand `pip-review` works as expected:\r\n```\r\n$ pip-review --verbose --interactive\r\nargcomplete==2.0.0 is available (you have 1.12.3)\r\nUpgrade now? [Y]es, [N]o, [A]ll, [Q]uit\r\n```\r\n\r\nSame for the `pip` module run:\r\n```\r\n/usr/bin/python3.8.exe -m pip list --outdated --disable-pip-version-check\r\nPackage            Version  Latest  Type\r\n------------------ -------- ------- -----\r\nargcomplete        1.12.3   2.0.0   wheel\r\nboto3              1.20.26  1.20.29 wheel\r\nbotocore           1.23.26  1.23.29 wheel\r\ncharset-normalizer 2.0.9    2.0.10  wheel\r\ncryptography       3.3.2    36.0.1  sdist\r\nidna               2.10     3.3     wheel\r\nparsedatetime      2.4      2.6     wheel\r\npipx               0.17.0   1.0.0   wheel\r\npyparsing          2.4.7    3.0.6   wheel\r\nrequests           2.26.0   2.27.1  wheel\r\nsetuptools         60.2.0   60.3.0  wheel\r\ntomli              1.2.2    2.0.0   wheel\r\ntyping-extensions  3.10.0.2 4.0.1   wheel\r\n```\r\n\r\n### Expected behavior\r\n\r\nTo be able to run `pip-review` and `pip` module:\r\n```\r\n$ pip-review --verbose --interactive\r\nargcomplete==2.0.0 is available (you have 1.12.3)\r\nUpgrade now? [Y]es, [N]o, [A]ll, [Q]uit\r\n```\r\n\r\n```\r\n/usr/bin/python3.8.exe -m pip list --outdated --disable-pip-version-check\r\nPackage            Version  Latest  Type\r\n------------------ -------- ------- -----\r\nargcomplete        1.12.3   2.0.0   wheel\r\nboto3              1.20.26  1.20.29 wheel\r\nbotocore           1.23.26  1.23.29 wheel\r\ncharset-normalizer 2.0.9    2.0.10  wheel\r\ncryptography       3.3.2    36.0.1  sdist\r\nidna               2.10     3.3     wheel\r\nparsedatetime      2.4      2.6     wheel\r\npipx               0.17.0   1.0.0   wheel\r\npyparsing          2.4.7    3.0.6   wheel\r\nrequests           2.26.0   2.27.1  wheel\r\nsetuptools         60.2.0   60.3.0  wheel\r\ntomli              1.2.2    2.0.0   wheel\r\ntyping-extensions  3.10.0.2 4.0.1   wheel\r\n```\r\n\r\n### How to Reproduce\r\n\r\n1. install setuptools 60.3.0\r\n2. run `pip-review`\r\n3. run `pip` module\r\n\r\n### Output\r\n\r\nI use cygport packing (Cygwin's packaging system) to update setuptools:\r\n```console\r\n$ cygcheck -c python38-setuptools\r\nCygwin Package Information\r\nPackage              Version        Status\r\npython38-setuptools  60.3.0-1       OK\r\n\r\n$ pip show setuptools\r\nName: setuptools\r\nVersion: 60.3.0\r\nSummary: Easily download, build, install, upgrade, and uninstall Python packages\r\nHome-page: https://github.com/pypa/setuptools\r\nAuthor: Python Packaging Authority\r\nAuthor-email: distutils-sig@python.org\r\nLicense: UNKNOWN\r\nLocation: /usr/lib/python3.8/site-packages\r\nRequires:\r\nRequired-by: csvkit, johnnydep, pip-tools, pipenv\r\n\r\n$ pip-review --verbose --interactive\r\n/usr/bin/python3.8.exe: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/pip-review\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 223, in main\r\n    outdated = get_outdated_packages(list_args)\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 205, in get_outdated_packages\r\n    output = check_output(command).decode('utf-8')\r\n  File \"/usr/local/lib/python3.8/site-packages/pip_review/__main__.py\", line 21, in check_output\r\n    raise error\r\nsubprocess.CalledProcessError: Command '['/usr/bin/python3.8.exe', '-m', 'pip', 'list', '--outdated', '--disable-pip-version-check', '--format=json']' returned non-zero exit status 1.\r\n\r\n$ /usr/bin/python3.8.exe -m pip list --outdated --disable-pip-version-check\r\n/usr/bin/python3.8.exe: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\n\r\n$ pip show setuptools\r\nName: setuptools\r\nVersion: 60.3.0\r\nSummary: Easily download, build, install, upgrade, and uninstall Python packages\r\nHome-page: https://github.com/pypa/setuptools\r\nAuthor: Python Packaging Authority\r\nAuthor-email: distutils-sig@python.org\r\nLicense: UNKNOWN\r\nLocation: /usr/lib/python3.8/site-packages\r\nRequires:\r\nRequired-by: csvkit, johnnydep, pip-tools, pipenv\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3003", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3003/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3003/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3003/events", "html_url": "https://github.com/pypa/setuptools/issues/3003", "id": 1094922496, "node_id": "I_kwDOA0bv8c5BQzEA", "number": 3003, "title": "[BUG] setuptools 60.3.0 breaks pip on Ubuntu 20.04.3", "user": {"login": "Patol75", "id": 23244688, "node_id": "MDQ6VXNlcjIzMjQ0Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/23244688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Patol75", "html_url": "https://github.com/Patol75", "followers_url": "https://api.github.com/users/Patol75/followers", "following_url": "https://api.github.com/users/Patol75/following{/other_user}", "gists_url": "https://api.github.com/users/Patol75/gists{/gist_id}", "starred_url": "https://api.github.com/users/Patol75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Patol75/subscriptions", "organizations_url": "https://api.github.com/users/Patol75/orgs", "repos_url": "https://api.github.com/users/Patol75/repos", "events_url": "https://api.github.com/users/Patol75/events{/privacy}", "received_events_url": "https://api.github.com/users/Patol75/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-06T03:06:59Z", "updated_at": "2022-01-06T03:21:26Z", "closed_at": "2022-01-06T03:21:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.3.0\n\n### Python version\n\nPython 3.9\n\n### OS\n\nUbuntu 20.04.3 LTS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nUpdating `setuptools` from 60.2.0 to 60.3.0 yields the following error message after executing any `python3.9 -m pip` command:\r\n`/usr/bin/python3.9: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')`\n\n### Expected behavior\n\nUpdating setuptools should not break pip.\n\n### How to Reproduce\n\nSimply update setuptools to the last release and attempt to use pip.\n\n### Output\n\n```console\r\npython3.9 -m pip install --user --upgrade setuptools\r\n/usr/bin/python3.9: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3002", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3002/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3002/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3002/events", "html_url": "https://github.com/pypa/setuptools/issues/3002", "id": 1094919795, "node_id": "I_kwDOA0bv8c5BQyZz", "number": 3002, "title": "[BUG] latest setuptools release (60.3.0) broke pip?", "user": {"login": "jab", "id": 64992, "node_id": "MDQ6VXNlcjY0OTky", "avatar_url": "https://avatars.githubusercontent.com/u/64992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jab", "html_url": "https://github.com/jab", "followers_url": "https://api.github.com/users/jab/followers", "following_url": "https://api.github.com/users/jab/following{/other_user}", "gists_url": "https://api.github.com/users/jab/gists{/gist_id}", "starred_url": "https://api.github.com/users/jab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jab/subscriptions", "organizations_url": "https://api.github.com/users/jab/orgs", "repos_url": "https://api.github.com/users/jab/repos", "events_url": "https://api.github.com/users/jab/events{/privacy}", "received_events_url": "https://api.github.com/users/jab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2022-01-06T03:01:16Z", "updated_at": "2022-01-07T18:38:53Z", "closed_at": "2022-01-06T04:24:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.3.0\r\n\r\n### Python version\r\n\r\nPython 3.10 (but also reproduces with other versions)\r\n\r\n### OS\r\n\r\nmacOS (but also reproduces in GitHub Actions CI using ubuntu-latest)\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nThe new version of setuptools that was just released seems to have broken pip? After upgrading to latest setuptools, running pip commands is now failing with an AttributeError.\r\n\r\n### Expected behavior\r\n\r\nPip continues to work after installing the latest release of setuptools, rather than raising AttributeError.\r\n\r\n### How to Reproduce\r\n\r\nInstall the latest release of setuptools (60.3.0), and then run a pip command like `pip list`.\r\n\r\n### Output\r\n\r\n```console\r\njab@tsmbp /tmp> python3 -m virtualenv /tmp/venv\r\ncreated virtual environment CPython3.10.1.final.0-64 in 269ms\r\n  creator CPython3Posix(dest=/private/tmp/venv, clear=False, no_vcs_ignore=False, global=False)\r\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/Users/jab/Library/Application Support/virtualenv)\r\n    added seed packages: pip==21.3.1, setuptools==59.5.0, wheel==0.36.2\r\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\r\njab@tsmbp /tmp> . /tmp/venv/bin/activate.fish\r\n(venv) jab@tsmbp /tmp> python -m pip list\r\nPackage    Version\r\n---------- -------\r\npip        21.3.1\r\nsetuptools 59.5.0\r\nwheel      0.36.2\r\n(venv) jab@tsmbp /tmp> python -m pip install -U setuptools\r\nRequirement already satisfied: setuptools in ./venv/lib/python3.10/site-packages (59.5.0)\r\nCollecting setuptools\r\n  Using cached setuptools-60.3.0-py3-none-any.whl (953 kB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 59.5.0\r\n    Uninstalling setuptools-59.5.0:\r\n      Successfully uninstalled setuptools-59.5.0\r\nSuccessfully installed setuptools-60.3.0\r\n(venv) jab@tsmbp /tmp> python -m pip list\r\n/private/tmp/venv/bin/python: Error while finding module specification for 'pip' (AttributeError: module '__main__' has no attribute '__file__')\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3002/reactions", "total_count": 24, "+1": 24, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3002/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3001", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3001/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3001/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3001/events", "html_url": "https://github.com/pypa/setuptools/issues/3001", "id": 1094918413, "node_id": "I_kwDOA0bv8c5BQyEN", "number": 3001, "title": "[BUG] setup installs user egg links to python3.1 site under Python 3.10", "user": {"login": "jameskirkwood", "id": 16659691, "node_id": "MDQ6VXNlcjE2NjU5Njkx", "avatar_url": "https://avatars.githubusercontent.com/u/16659691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameskirkwood", "html_url": "https://github.com/jameskirkwood", "followers_url": "https://api.github.com/users/jameskirkwood/followers", "following_url": "https://api.github.com/users/jameskirkwood/following{/other_user}", "gists_url": "https://api.github.com/users/jameskirkwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameskirkwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameskirkwood/subscriptions", "organizations_url": "https://api.github.com/users/jameskirkwood/orgs", "repos_url": "https://api.github.com/users/jameskirkwood/repos", "events_url": "https://api.github.com/users/jameskirkwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jameskirkwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-06T02:57:47Z", "updated_at": "2022-01-08T21:47:24Z", "closed_at": "2022-01-08T01:12:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===60.2.0\n\n### Python version\n\nPython 3.10\n\n### OS\n\nManjaro Linux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nUsing the deprecated workflow and Python 3.10, `python setup.py develop --user` attempts to install an egg link to ~/.local/lib/python**3.1**/site-packages (but aborts as Python will not find packages here).\r\n\r\nProvided setup.py implements this [workaround for a pip bug preventing editable user installs](https://github.com/pypa/pip/issues/7953#issuecomment-645133255), `pip install -e . --user` thinks installation is successful, but the egg link is installed to the 3.1 user site.\n\n### Expected behavior\n\nRunning `pip install -e .` (without access to system site), `pip install -e . --user` or `python setup.py develop --user` installs an egg link to ~/.local/lib/python**3.10**/site-packages.\n\n### How to Reproduce\n\n1. Change to an empty directory\r\n2. Run `python -c 'from setuptools import setup; setup()' develop --user`\n\n### Output\n\n```console\r\nrunning develop\r\n/home/user/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py:156: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\n/home/user/.local/lib/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\n/usr/bin/python -E -c pass\r\nTEST FAILED: /home/user/.local/lib/python3.1/site-packages does NOT support .pth files\r\nbad install directory or PYTHONPATH\r\n\r\nYou are attempting to install a package to a directory that is not\r\non PYTHONPATH and which Python does not read \".pth\" files from.  The\r\ninstallation directory you specified (via --install-dir, --prefix, or\r\nthe distutils default setting) was:\r\n\r\n    /home/user/.local/lib/python3.1/site-packages\r\n\r\nand your PYTHONPATH environment variable currently contains:\r\n\r\n    ''\r\n\r\nHere are some of your options for correcting the problem:\r\n\r\n* You can choose a different installation directory, i.e., one that is\r\n  on PYTHONPATH or supports .pth files\r\n\r\n* You can add the installation directory to the PYTHONPATH environment\r\n  variable.  (It must then also be on PYTHONPATH whenever you run\r\n  Python and want to use the package(s) you are installing.)\r\n\r\n* You can set up the installation directory to support \".pth\" files by\r\n  using one of the approaches described here:\r\n\r\n  https://setuptools.pypa.io/en/latest/deprecated/easy_install.html#custom-installation-locations\r\n\r\n\r\nPlease make the appropriate changes for your system and try again.\r\n/home/user/.local/lib/python3.10/site-packages/pkg_resources/__init__.py:116: PkgResourcesDeprecationWarning: 1.2.15-build-libtorrent-rasterbar-src-libtorrent-rasterbar-1.2.15-bindings-python is an invalid version and will not be supported in a future release\r\n  warnings.warn(\r\nrunning egg_info\r\ncreating UNKNOWN.egg-info\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nrunning build_ext\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2997", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2997/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2997/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2997/events", "html_url": "https://github.com/pypa/setuptools/issues/2997", "id": 1093512287, "node_id": "I_kwDOA0bv8c5BLaxf", "number": 2997, "title": "[BUG] Problem installing package that depends on automatic `build_py_2to3` conversion.", "user": {"login": "egaudry", "id": 22539228, "node_id": "MDQ6VXNlcjIyNTM5MjI4", "avatar_url": "https://avatars.githubusercontent.com/u/22539228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egaudry", "html_url": "https://github.com/egaudry", "followers_url": "https://api.github.com/users/egaudry/followers", "following_url": "https://api.github.com/users/egaudry/following{/other_user}", "gists_url": "https://api.github.com/users/egaudry/gists{/gist_id}", "starred_url": "https://api.github.com/users/egaudry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egaudry/subscriptions", "organizations_url": "https://api.github.com/users/egaudry/orgs", "repos_url": "https://api.github.com/users/egaudry/repos", "events_url": "https://api.github.com/users/egaudry/events{/privacy}", "received_events_url": "https://api.github.com/users/egaudry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-04T16:19:57Z", "updated_at": "2022-01-04T16:35:55Z", "closed_at": "2022-01-04T16:35:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==60\r\n\r\n### Python version\r\n\r\nPython-3.7\r\n\r\n### OS\r\n\r\nLinux (Rocky Linux 8.5 aarch64)\r\n\r\n### Additional environment information\r\n\r\naarch64, not x86_64 related.\r\n\r\n### Description\r\n\r\nObserved when building numexpr with setuptools==60.3.0, setuptools when launched from a custom build of python on aarch64 believes it deals with python2 when it is actually python3.\r\n\r\n### Expected behavior\r\n\r\nProper python3 detection.\r\n\r\n### How to Reproduce\r\n\r\npip install setuptools==60.3.0\r\npip install --no-binary :all: numexpr==2.7.3 --verbose\r\n\r\ncheck numexpr/__init__.py file, it contains python2 syntax, same goes for \"long\" used in numexpr/expression.py\r\n\r\n### Output\r\n\r\n```$ cat /usr/local/bin/python-3.7.10/lib/python3.7/site-packages/numexpr/__init__.py \r\n###################################################################\r\n#  Numexpr - Fast numerical array expression evaluator for NumPy.\r\n#\r\n#      License: MIT\r\n#      Author:  See AUTHORS.txt\r\n#\r\n#  See LICENSE.txt and LICENSES/*.txt for details about copyright and\r\n#  rights to use.\r\n####################################################################\r\n\r\n\"\"\"\r\nNumexpr is a fast numerical expression evaluator for NumPy.  With it,\r\nexpressions that operate on arrays (like \"3*a+4*b\") are accelerated\r\nand use less memory than doing the same calculation in Python.\r\n\r\nSee:\r\n\r\nhttps://github.com/pydata/numexpr\r\n\r\nfor more info about it.\r\n\r\n\"\"\"\r\n\r\nfrom .__config__ import show as show_config, get_info\r\n```\r\n\r\nthe ```.__config__``` is expected, not ```__config__ ```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2996", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2996/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2996/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2996/events", "html_url": "https://github.com/pypa/setuptools/issues/2996", "id": 1092484881, "node_id": "I_kwDOA0bv8c5BHf8R", "number": 2996, "title": "[BUG] Editable installs are unusable on Debian", "user": {"login": "sbrunner", "id": 353872, "node_id": "MDQ6VXNlcjM1Mzg3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/353872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbrunner", "html_url": "https://github.com/sbrunner", "followers_url": "https://api.github.com/users/sbrunner/followers", "following_url": "https://api.github.com/users/sbrunner/following{/other_user}", "gists_url": "https://api.github.com/users/sbrunner/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbrunner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbrunner/subscriptions", "organizations_url": "https://api.github.com/users/sbrunner/orgs", "repos_url": "https://api.github.com/users/sbrunner/repos", "events_url": "https://api.github.com/users/sbrunner/events{/privacy}", "received_events_url": "https://api.github.com/users/sbrunner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 617596083, "node_id": "MDU6TGFiZWw2MTc1OTYwODM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/upstream", "name": "upstream", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-03T12:51:14Z", "updated_at": "2022-06-12T21:49:40Z", "closed_at": "2022-01-03T15:27:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==60.0.0 and upper\r\n\r\n### Python version\r\n\r\nPython 3.8\r\n\r\n### OS\r\n\r\nUbuntu 20.04\r\n\r\n### Additional environment information\r\n\r\nIn Docker\r\n\r\n### Description\r\n\r\nWhen we install a package with the option `--editable` it's not working\r\n\r\n\r\n### Expected behavior\r\n\r\nIt should work!\r\n\r\n### How to Reproduce\r\n\r\nWith the following repository:\r\nhttps://github.com/sbrunner/test-setuptoold-editable\r\n`docker build .`\r\nis not working (setuptools==60.0.0)\r\nBut\r\n`docker build --file=Dockerfile.working .`\r\nIs working (setuptools==45.2.0 or 59.8.0)\r\n\r\n### Output\r\n\r\n```console\r\n[+] Building 3.8s (11/11) FINISHED                                                                                    \r\n => [internal] load build definition from Dockerfile                                                             0.0s\r\n => => transferring dockerfile: 391B                                                                             0.0s\r\n => [internal] load .dockerignore                                                                                0.1s\r\n => => transferring context: 34B                                                                                 0.0s\r\n => [internal] load metadata for docker.io/library/ubuntu:20.04                                                  0.0s\r\n => [1/7] FROM docker.io/library/ubuntu:20.04                                                                    0.0s\r\n => [internal] load build context                                                                                0.0s\r\n => => transferring context: 6.07kB                                                                              0.0s\r\n => CACHED [2/7] RUN apt-get update                                                                              0.0s\r\n => CACHED [3/7] RUN DEBIAN_FRONTEND=noninteractive apt-get install --yes --no-install-recommends     python3    0.0s\r\n => CACHED [4/7] RUN python3 -m pip install setuptools==60.0.0                                                   0.0s\r\n => [5/7] COPY . /app                                                                                            0.1s\r\n => [6/7] RUN python3 -m pip install --disable-pip-version-check --no-cache-dir --no-deps --editable=/app        2.6s\r\n => ERROR [7/7] RUN python3 -c 'import testeditable'                                                             0.9s\r\n------                                                                                                                \r\n > [7/7] RUN python3 -c 'import testeditable':                                                                        \r\n#11 0.790 Traceback (most recent call last):                                                                          \r\n#11 0.790   File \"<string>\", line 1, in <module>\r\n#11 0.790 ModuleNotFoundError: No module named 'testeditable'\r\n------\r\nexecutor failed running [/bin/sh -c python3 -c 'import testeditable']: exit code: 1\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2983", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2983/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2983/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2983/events", "html_url": "https://github.com/pypa/setuptools/issues/2983", "id": 1090361904, "node_id": "I_kwDOA0bv8c5A_Zow", "number": 2983, "title": "AttributeError: module '_distutils_hack' has no attribute 'ensure_shim'", "user": {"login": "spacexnasa", "id": 3109626, "node_id": "MDQ6VXNlcjMxMDk2MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/3109626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spacexnasa", "html_url": "https://github.com/spacexnasa", "followers_url": "https://api.github.com/users/spacexnasa/followers", "following_url": "https://api.github.com/users/spacexnasa/following{/other_user}", "gists_url": "https://api.github.com/users/spacexnasa/gists{/gist_id}", "starred_url": "https://api.github.com/users/spacexnasa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spacexnasa/subscriptions", "organizations_url": "https://api.github.com/users/spacexnasa/orgs", "repos_url": "https://api.github.com/users/spacexnasa/repos", "events_url": "https://api.github.com/users/spacexnasa/events{/privacy}", "received_events_url": "https://api.github.com/users/spacexnasa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-12-29T08:46:01Z", "updated_at": "2023-03-01T07:37:39Z", "closed_at": "2021-12-29T16:34:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==60.0.5\r\n\r\n### Python version\r\n\r\npython 3.10\r\n\r\n### OS\r\n\r\nmacOS intel 12.1\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\npython3 -m pip install  -U setuptools\r\n\r\n### Expected behavior\r\n\r\npython3 -m pip install  -U setuptools\r\n\r\n### How to Reproduce\r\n\r\nbrew install python@3.10\r\npython3 -m pip install  -U setuptools\r\n\r\n### Output\r\n\r\n```\r\nCollecting setuptools\r\n  Downloading setuptools-60.1.1-py3-none-any.whl (952 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 952 kB 351 kB/s            \r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 60.0.5\r\n    Uninstalling setuptools-60.0.5:\r\n      Successfully uninstalled setuptools-60.0.5\r\nSuccessfully installed setuptools-60.1.1\r\n```\r\n\r\nand when you exit and relogin\r\n\r\n```\r\nError processing line 1 of /usr/local/Cellar/python@3.10/3.10.1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/distutils-precedence.pth:\r\n\r\n  Traceback (most recent call last):\r\n    File \"/usr/local/Cellar/python@3.10/3.10.1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site.py\", line 186, in addpackage\r\n      exec(line)\r\n    File \"<string>\", line 1, in <module>\r\n  AttributeError: module '_distutils_hack' has no attribute 'ensure_shim'\r\n\r\nRemainder of file ignored\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2972", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2972/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2972/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2972/events", "html_url": "https://github.com/pypa/setuptools/issues/2972", "id": 1088803301, "node_id": "I_kwDOA0bv8c5A5dHl", "number": 2972, "title": "[BUG] setuptools>=60 fails to find Python.h on Pyston", "user": {"login": "BtbN", "id": 294293, "node_id": "MDQ6VXNlcjI5NDI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/294293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BtbN", "html_url": "https://github.com/BtbN", "followers_url": "https://api.github.com/users/BtbN/followers", "following_url": "https://api.github.com/users/BtbN/following{/other_user}", "gists_url": "https://api.github.com/users/BtbN/gists{/gist_id}", "starred_url": "https://api.github.com/users/BtbN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BtbN/subscriptions", "organizations_url": "https://api.github.com/users/BtbN/orgs", "repos_url": "https://api.github.com/users/BtbN/repos", "events_url": "https://api.github.com/users/BtbN/events{/privacy}", "received_events_url": "https://api.github.com/users/BtbN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-26T16:25:49Z", "updated_at": "2021-12-28T15:55:25Z", "closed_at": "2021-12-28T15:55:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools>=60\n\n### Python version\n\nPyston 2.3.1\n\n### OS\n\nUbuntu 20.04, 21.10. Gentoo. Debian 11.\n\n### Additional environment information\n\nPyston-2.3.1 installed via pyenv inside of an isolated Docker-Container with no system Python-Components installed.\n\n### Description\n\nTrying to install numpy results in an error about it not finding Python.h when calling distutils try_compile.\r\n\r\nIt does not give any indication on where it's looking for it, but another package, Pandas also exhibits this issue, though when calling gcc. It's passing `-I/usr/local/pyenv/versions/pyston-2.3.1/include/python3.8` to gcc. While the correct path would be `/usr/local/pyenv/versions/pyston-2.3.1/include/python3.8-pyston2.3`.\r\n\r\nDumping sysconfig.get_paths() does show the correct include path, so that's not where it is getting it from.\r\n\r\nThis is a relatively recent issue. This worked a week ago, and downgrading to setuptools<60 makes the issue go away.\n\n### Expected behavior\n\nWell, I'd expect a successful build.\n\n### How to Reproduce\n\n - Setup a pyenv environment with latest Pyston (currentls 2.3.1).\r\n - Upgrade pip/setuptools/wheel inside of that environment to latest versions.\r\n - `pip install numpy`\n\n### Output\n\n```console\r\n# pip install --no-cache-dir numpy\r\nCollecting numpy\r\n  Downloading numpy-1.21.5.zip (10.7 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 10.7 MB 4.1 MB/s\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nBuilding wheels for collected packages: numpy\r\n  Building wheel for numpy (pyproject.toml) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /usr/local/pyenv/versions/pyston-2.3.1/bin/python /usr/local/pyenv/versions/pyston-2.3.1/lib/python3.8-pyston2.3/site-packages/pip/_vendor/pep517/in_process/_in_process.py build_wheel /tmp/tmp5il3akyy\r\n       cwd: /tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9\r\n  Complete output (95 lines):\r\n  Processing numpy/random/_bounded_integers.pxd.in\r\n  Processing numpy/random/mtrand.pyx\r\n  Processing numpy/random/_sfc64.pyx\r\n  Processing numpy/random/_mt19937.pyx\r\n  Processing numpy/random/_philox.pyx\r\n  Processing numpy/random/_pcg64.pyx\r\n  Processing numpy/random/_common.pyx\r\n  Processing numpy/random/_generator.pyx\r\n  Processing numpy/random/_bounded_integers.pyx.in\r\n  Processing numpy/random/bit_generator.pyx\r\n  Cythonizing sources\r\n  creating /tmp/tmpficqc93o/tmp\r\n  creating /tmp/tmpficqc93o/tmp/tmpficqc93o\r\n  non-existing path in 'numpy/distutils': 'site.cfg'\r\n  running bdist_wheel\r\n  running build\r\n  running config_cc\r\n  running config_fc\r\n  running build_src\r\n  creating build\r\n  creating build/src.linux-x86_64-3.8\r\n  creating build/src.linux-x86_64-3.8/numpy\r\n  creating build/src.linux-x86_64-3.8/numpy/distutils\r\n  creating build/src.linux-x86_64-3.8/numpy/core\r\n  creating build/src.linux-x86_64-3.8/numpy/core/src\r\n  creating build/src.linux-x86_64-3.8/numpy/core/src/npymath\r\n  creating build/src.linux-x86_64-3.8/numpy/core/src/multiarray\r\n  Running from numpy source directory.\r\n  /tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/system_info.py:2026: UserWarning:\r\n      Optimized (vendor) Blas libraries are not found.\r\n      Falls back to netlib Blas library which has worse performance.\r\n      A better performance should be easily gained by switching\r\n      Blas library.\r\n    if self._calc_info(blas):\r\n  Warning: attempted relative import with no known parent package\r\n  /tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/dist.py:275: UserWarning: Unknown distribution option: 'define_macros'\r\n    warnings.warn(msg)\r\n  Traceback (most recent call last):\r\n    File \"/usr/local/pyenv/versions/pyston-2.3.1/lib/python3.8-pyston2.3/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n      main()\r\n    File \"/usr/local/pyenv/versions/pyston-2.3.1/lib/python3.8-pyston2.3/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"/usr/local/pyenv/versions/pyston-2.3.1/lib/python3.8-pyston2.3/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 261, in build_wheel\r\n      return _build_backend().build_wheel(wheel_directory, config_settings,\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/build_meta.py\", line 230, in build_wheel\r\n      return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/build_meta.py\", line 215, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/build_meta.py\", line 267, in run_setup\r\n      super(_BuildMetaLegacyBackend,\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/build_meta.py\", line 158, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 448, in <module>\r\n      setup_package()\r\n    File \"setup.py\", line 440, in setup_package\r\n      setup(**metadata)\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/core.py\", line 169, in setup\r\n      return old_setup(**new_attr)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/__init__.py\", line 153, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/wheel/bdist_wheel.py\", line 299, in run\r\n      self.run_command('build')\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/command/build.py\", line 61, in run\r\n      old_build.run(self)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/command/build.py\", line 135, in run\r\n      self.run_command(cmd_name)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/tmp/pip-build-env-yaf4w4eu/overlay/lib/python3.8-pyston2.3/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/command/build_src.py\", line 144, in run\r\n      self.build_sources()\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/command/build_src.py\", line 161, in build_sources\r\n      self.build_extension_sources(ext)\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/command/build_src.py\", line 318, in build_extension_sources\r\n      sources = self.generate_sources(sources, ext)\r\n    File \"/tmp/pip-install-xkdkddw0/numpy_d7c39e368b80449c84a5556ec68ea3b9/numpy/distutils/command/build_src.py\", line 378, in generate_sources\r\n      source = func(extension, build_dir)\r\n    File \"numpy/core/setup.py\", line 434, in generate_config_h\r\n      moredefs, ignored = cocache.check_types(config_cmd, ext, build_dir)\r\n    File \"numpy/core/setup.py\", line 44, in check_types\r\n      out = check_types(*a, **kw)\r\n    File \"numpy/core/setup.py\", line 289, in check_types\r\n      raise SystemError(\r\n  SystemError: Cannot compile 'Python.h'. Perhaps you need to install python-dev|python-devel.\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for numpy\r\nFailed to build numpy\r\nERROR: Could not build wheels for numpy, which is required to install pyproject.toml-based projects\r\n```\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2969", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2969/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2969/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2969/events", "html_url": "https://github.com/pypa/setuptools/issues/2969", "id": 1088591466, "node_id": "I_kwDOA0bv8c5A4pZq", "number": 2969, "title": "[BUG] 60.1.0: Installing mpi4py fails with latest setuptools", "user": {"login": "EnricoMi", "id": 44700269, "node_id": "MDQ6VXNlcjQ0NzAwMjY5", "avatar_url": "https://avatars.githubusercontent.com/u/44700269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EnricoMi", "html_url": "https://github.com/EnricoMi", "followers_url": "https://api.github.com/users/EnricoMi/followers", "following_url": "https://api.github.com/users/EnricoMi/following{/other_user}", "gists_url": "https://api.github.com/users/EnricoMi/gists{/gist_id}", "starred_url": "https://api.github.com/users/EnricoMi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EnricoMi/subscriptions", "organizations_url": "https://api.github.com/users/EnricoMi/orgs", "repos_url": "https://api.github.com/users/EnricoMi/repos", "events_url": "https://api.github.com/users/EnricoMi/events{/privacy}", "received_events_url": "https://api.github.com/users/EnricoMi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-12-25T11:57:07Z", "updated_at": "2021-12-29T16:51:24Z", "closed_at": "2021-12-29T16:51:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.1.0\r\n\r\n### Python version\r\n\r\n3.8\r\n\r\n### OS\r\n\r\nLinux (Ubuntu)\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nInstalling mpi4py started to fail with the release of `setuptools==60.1.0`. It works with `setuptools==60.0.4`. Is `60.1.0` expected to be a breaking release version?\r\n\r\n```\r\n$ pip install -v mpi4py\r\nUsing pip 21.3.1 from .../venv-mpi4py/lib/python3.8/site-packages/pip (python 3.8)\r\nCollecting mpi4py\r\n  Using cached mpi4py-3.1.3.tar.gz (2.5 MB)\r\n  Running command .../venv-mpi4py/bin/python /tmp/pip-standalone-pip-fmkquq0f/__env_pip__.zip/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-nun8azx9/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'setuptools >= 40.9.0' wheel\r\n  Collecting setuptools>=40.9.0\r\n    Using cached setuptools-60.1.0-py3-none-any.whl (952 kB)\r\n  Collecting wheel\r\n    Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\r\n  Installing collected packages: wheel, setuptools\r\n  Successfully installed setuptools-60.1.0 wheel-0.37.1\r\n  Installing build dependencies ... done\r\n  Running command .../venv-mpi4py/bin/python .../venv-mpi4py/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py get_requires_for_build_wheel /tmp/tmputajppc5\r\n  Traceback (most recent call last):\r\n    File \".../venv-mpi4py/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n      main()\r\n    File \".../venv-mpi4py/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \".../venv-mpi4py/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n      return hook(config_settings)\r\n    File \"/tmp/pip-build-env-nun8azx9/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 162, in get_requires_for_build_wheel\r\n      return self._get_build_requires(\r\n    File \"/tmp/pip-build-env-nun8azx9/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 143, in _get_build_requires\r\n      self.run_setup()\r\n    File \"/tmp/pip-build-env-nun8azx9/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 158, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 462, in <module>\r\n      from mpidistutils import setup\r\n    File \"/tmp/pip-install-k7kbt967/mpi4py_fa187d0418384267943227507227365d/conf/mpidistutils.py\", line 29, in <module>\r\n      cygcc_get_versions = cygcc.get_versions\r\n  AttributeError: module 'setuptools._distutils.cygwinccompiler' has no attribute 'get_versions'\r\n  Getting requirements to build wheel ... error\r\n```\r\n\r\nSomething must have changed in `setuptools` that broke [mpi4py/conf/mpidistutils.py](https://github.com/mpi4py/mpi4py/blob/master/conf/mpidistutils.py).\r\n\r\n### Expected behavior\r\n\r\nInstalling the package `mpi4py` should work as with `setuptools` 60.0.x, given this is a minor version increment.\r\n\r\n### How to Reproduce\r\n\r\npip install --upgrade pip setuptools\r\npip install mpi4py\r\n\r\n### Output\r\n\r\n```console\r\n  AttributeError: module 'setuptools._distutils.cygwinccompiler' has no attribute 'get_versions'\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2957", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2957/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2957/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2957/events", "html_url": "https://github.com/pypa/setuptools/issues/2957", "id": 1087280306, "node_id": "I_kwDOA0bv8c5AzpSy", "number": 2957, "title": "[BUG] DistutilsMetaFinder breaks distutils imports when old setuptools is higher on path", "user": {"login": "nitzmahone", "id": 6775756, "node_id": "MDQ6VXNlcjY3NzU3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6775756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitzmahone", "html_url": "https://github.com/nitzmahone", "followers_url": "https://api.github.com/users/nitzmahone/followers", "following_url": "https://api.github.com/users/nitzmahone/following{/other_user}", "gists_url": "https://api.github.com/users/nitzmahone/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitzmahone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitzmahone/subscriptions", "organizations_url": "https://api.github.com/users/nitzmahone/orgs", "repos_url": "https://api.github.com/users/nitzmahone/repos", "events_url": "https://api.github.com/users/nitzmahone/events{/privacy}", "received_events_url": "https://api.github.com/users/nitzmahone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-12-23T00:39:07Z", "updated_at": "2022-01-04T20:01:58Z", "closed_at": "2021-12-29T16:35:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==60.0.4\r\n\r\n### Python version\r\n\r\npython3.8\r\n\r\n### OS\r\n\r\nRHEL8, FreeBSD12/13, Ubuntu 20.04\r\n\r\n### Additional environment information\r\n\r\nAny environment where an old setuptools (eg OS package) is higher in `sys.path`, but a newer setuptools is installed anywhere on `sys.path` (with its distutils shimming `.pth` file active)\r\n\r\n### Description\r\n\r\nAny import of `distutils` will bomb when a new setuptools is present, but an older setuptools is higher on the path (since the new setuptools' path shim blindly tries to import from `setuptools._distutils`, which doesn't exist in old versions of setuptools). This has probably been the case ever since the distutils shim was created, but now that it's active by default, it's a bigger problem.\r\n\r\nThe place we hit this was running `pip install` from a venv with `--system-site-packages`- pip's build isolation installs latest `setuptools`, but then shuffles `sys.path` around such that the ancient OS-packaged `setuptools` is higher on the path. The first thing that tries to import `distutils` invokes the metapath finder, which has no validation or recovery and just lets the `ModuleNotFoundError` fly.\r\n\r\nAt first blush, it seems like the metapath shim's `spec_for_distutils` should try to at least verify the co-location of `setuptools` with the shim impl (ie, that they're under the same path prefix) and/or that the `_distutils` subpackage is available via `find_spec` before it actually imports it. Mixing and matching the shim version with random setuptools versions seems like a recipe for trouble down the road...\r\n\r\nI could probably throw together a PR for this if there's a consensus that this approach is sane.\r\n\r\n### Expected behavior\r\n\r\nThe presence of a new-but-not-loadable setuptools on sys.path doesn't break old setuptools/distutils.\r\n\r\n\r\n### How to Reproduce\r\n\r\n(NB: this is a much simpler repro than the OS installed setuptools that's actually failing, but illustrates the problem more easily on any OS)\r\n```\r\npython3 -m venv /tmp/bang && source /tmp/bang/bin/activate  # give us a clean venv to work in\r\npython -m pip install 'setuptools>60'  # install new setuptools to venv site-packages\r\npython -m pip install 'setuptools<45' -t .  # install old setuptools to cwd- higher than site-packages on path for most systems\r\npython -c 'import distutils'\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n...\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/tmp/bang/lib64/python3.9/site-packages/_distutils_hack/__init__.py\", line 92, in create_module\r\n    return importlib.import_module('setuptools._distutils')\r\n  File \"/usr/lib64/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/home/mdavis/setuptools/__init__.py\", line 6, in <module>\r\n    import distutils.core\r\n  File \"/tmp/bang/lib64/python3.9/site-packages/_distutils_hack/__init__.py\", line 92, in create_module\r\n    return importlib.import_module('setuptools._distutils')\r\n  File \"/usr/lib64/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\nModuleNotFoundError: No module named 'setuptools._distutils'\r\n\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2957/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2945", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2945/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2945/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2945/events", "html_url": "https://github.com/pypa/setuptools/issues/2945", "id": 1085054053, "node_id": "I_kwDOA0bv8c5ArJxl", "number": 2945, "title": "[BUG] setuptools/command/install_scripts.py line 2 bug", "user": {"login": "kevinhendricks", "id": 8493752, "node_id": "MDQ6VXNlcjg0OTM3NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/8493752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinhendricks", "html_url": "https://github.com/kevinhendricks", "followers_url": "https://api.github.com/users/kevinhendricks/followers", "following_url": "https://api.github.com/users/kevinhendricks/following{/other_user}", "gists_url": "https://api.github.com/users/kevinhendricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinhendricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinhendricks/subscriptions", "organizations_url": "https://api.github.com/users/kevinhendricks/orgs", "repos_url": "https://api.github.com/users/kevinhendricks/repos", "events_url": "https://api.github.com/users/kevinhendricks/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinhendricks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-20T17:50:01Z", "updated_at": "2022-01-04T19:56:00Z", "closed_at": "2021-12-21T03:39:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nlatest\r\n\r\n### Python version\r\n\r\nPython 3.8.3\r\n\r\n### OS\r\n\r\nMacOS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nTrying to build PySide6 from source on macOS with Qt 6.2.2 and install fails as follows:\r\n\r\n```\r\nrunning install_scripts\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 78, in <module>\r\n    setup_runner.run_setup()\r\n  File \"/Volumes/SSD-Drive/repo/pyside-setup-opensource-src-6.2.2/build_scripts/setup_runner.py\", line 137, in run_setup\r\n    self.run_setuptools_setup()\r\n  File \"/Volumes/SSD-Drive/repo/pyside-setup-opensource-src-6.2.2/build_scripts/setup_runner.py\", line 192, in run_setuptools_setup\r\n    setup(**kwargs)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n    return run_commands(dist)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n    dist.run_commands()\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n    cmd_obj.run()\r\n  File \"/Volumes/SSD-Drive/repo/pyside-setup-opensource-src-6.2.2/build_scripts/main.py\", line 329, in run\r\n    _install.run(self)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/command/install.py\", line 72, in run\r\n    orig.install.run(self)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/command/install.py\", line 641, in run\r\n    self.run_command(cmd_name)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 984, in run_command\r\n    cmd_obj = self.get_command_obj(command)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 858, in get_command_obj\r\n    klass = self.get_command_class(command)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/dist.py\", line 893, in get_command_class\r\n    self.cmdclass[command] = cmdclass = ep.load()\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 2465, in load\r\n    return self.resolve()\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 2471, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/Users/kbhend/devtools/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/command/install_scripts.py\", line 2, in <module>\r\n    import distutils.command.install_scripts as orig\r\n```\r\n\r\nThat import failed.\r\n\r\n\r\nIn internal distutils install_scripts.py is its own module and not a directory,and given your module is called install_scripts.py as well,  I think that line should be:\r\n\r\nfrom distutils.command import install_scripts as orig\r\n\r\n### Expected behavior\r\n\r\nsetuptools/command/install_scripts.py should not fail trying to import install_scripts from distutils\r\n\r\n### How to Reproduce\r\n\r\nSee above.\r\n\r\n### Output\r\n\r\nSee above\r\n\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2941", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2941/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2941/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2941/events", "html_url": "https://github.com/pypa/setuptools/issues/2941", "id": 1084863188, "node_id": "I_kwDOA0bv8c5AqbLU", "number": 2941, "title": "[BUG] KeyError: '__file__' with setuptools 60.0.0", "user": {"login": "LuisHenri", "id": 44511825, "node_id": "MDQ6VXNlcjQ0NTExODI1", "avatar_url": "https://avatars.githubusercontent.com/u/44511825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LuisHenri", "html_url": "https://github.com/LuisHenri", "followers_url": "https://api.github.com/users/LuisHenri/followers", "following_url": "https://api.github.com/users/LuisHenri/following{/other_user}", "gists_url": "https://api.github.com/users/LuisHenri/gists{/gist_id}", "starred_url": "https://api.github.com/users/LuisHenri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LuisHenri/subscriptions", "organizations_url": "https://api.github.com/users/LuisHenri/orgs", "repos_url": "https://api.github.com/users/LuisHenri/repos", "events_url": "https://api.github.com/users/LuisHenri/events{/privacy}", "received_events_url": "https://api.github.com/users/LuisHenri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-12-20T14:35:43Z", "updated_at": "2021-12-21T07:46:26Z", "closed_at": "2021-12-21T00:52:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==60.0.0\n\n### Python version\n\nPython 3.8.12\n\n### OS\n\nWindows 10\n\n### Additional environment information\n\nI use Anaconda with Python 3.8.12.\r\nI use PyArmor 7.0.3.\r\nI user PyInstaller 4.7.\n\n### Description\n\nI use PyArmor to pack my project (Obfuscation + Executable with PyInstaller).\r\nIt is used inside a Conda Environment.\r\nI have a [script that calls PyArmor](https://pyarmor.readthedocs.io/en/latest/advanced.html#call-pyarmor-from-python-script).\r\n```python\r\n    call_pyarmor(\r\n        [\r\n            \"pack\",\r\n            \"-s\",\r\n            \"./main.spec\",\r\n            \"-x\",\r\n            \" --exclude .venv*\"\r\n            \" --enable-suffix\"\r\n            \" --with-license outer\"\r\n            \" --plugin pyarmor_plugins/plugin_example.py\",\r\n            \"--clean\",\r\n            \"./main.py\",\r\n        ]\r\n    )\r\n```\n\n### Expected behavior\n\nTo the project's Executable be properly generated.\n\n### How to Reproduce\n\n1. Set the environment:\r\n```bash\r\nconda create --yes --quiet --name .venv python=3.8\r\ncall activate .venv\r\npython -m pip install --upgrade pip setuptools wheel\r\npython -m pip install pyarmor==7.0.3 pyinstaller[encryption]==4.7\r\n```\r\n2. Create a sample default project (with main.spec and a plugin)\r\n3. Run PyArmor from a script:\r\n```python\r\nfrom PyInstaller.__main__ import run as call_pyinstaller\r\ncall_pyarmor(\r\n        [\r\n            \"pack\",\r\n            \"-s\",\r\n            \"./main.spec\",\r\n            \"-x\",\r\n            \" --exclude .venv*\"\r\n            \" --enable-suffix\"\r\n            \" --with-license outer\"\r\n            \" --plugin pyarmor_plugins/plugin_example.py\",\r\n            \"--clean\",\r\n            \"./main.py\",\r\n        ]\r\n) \r\n```\n\n### Output\n\n```console\r\n2021-12-20T12:51:26.2832859Z INFO     PyArmor Version 7.0.3\r\n2021-12-20T12:51:26.2833655Z INFO     Python 3.8.12\r\n2021-12-20T12:51:26.2837167Z INFO     Target platforms: Native\r\n2021-12-20T12:51:26.2837966Z INFO     Source path is \"D:\\a\\1\\s\"\r\n2021-12-20T12:51:26.2838558Z INFO     Entry scripts are ['.\\\\main.py']\r\n2021-12-20T12:51:26.2839403Z INFO     Use cached capsule C:\\Users\\VssAdministrator\\.pyarmor\\.pyarmor_capsule.zip\r\n2021-12-20T12:51:26.2840362Z INFO     Search scripts mode: Recursive\r\n2021-12-20T12:51:26.2841345Z INFO     Exclude path \"dist\"\r\n2021-12-20T12:51:26.2844968Z INFO     Exclude path \".venv*\"\r\n2021-12-20T12:51:26.2851366Z INFO     Auto exclude output path \"dist\\obf\"\r\n2021-12-20T12:51:26.3066863Z no previously-included directories found matching 'dist'\r\n2021-12-20T12:51:26.3073564Z no previously-included directories found matching '.venv*'\r\n2021-12-20T12:51:26.3115156Z no previously-included directories found matching 'dist\\obf'\r\n2021-12-20T12:51:26.3119135Z INFO     Save obfuscated scripts to \"dist\\obf\"\r\n2021-12-20T12:51:26.3120364Z INFO     Read product key from capsule\r\n2021-12-20T12:51:26.3151411Z INFO     Obfuscate module mode is 2\r\n2021-12-20T12:51:26.3152052Z INFO     Obfuscate code mode is 1\r\n2021-12-20T12:51:26.3152539Z INFO     Wrap mode is 1\r\n2021-12-20T12:51:26.3153215Z INFO     Restrict mode is 1\r\n2021-12-20T12:51:26.3153770Z INFO     Advanced value is 0\r\n2021-12-20T12:51:26.3155708Z INFO     Super mode is False\r\n2021-12-20T12:51:26.3156579Z INFO     Super plus mode is not enabled\r\n2021-12-20T12:51:26.3163577Z INFO     Generating runtime files to dist\\obf\r\n2021-12-20T12:51:26.3169121Z INFO     Extract pytransform.key\r\n2021-12-20T12:51:26.3171851Z INFO     Use outer license file\r\n2021-12-20T12:51:26.3174756Z INFO     Copying C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\platforms\\windows\\x86_64\\_pytransform.dll\r\n2021-12-20T12:51:26.3175495Z INFO     Rename it to _pytransform_vax_0001.dll\r\n2021-12-20T12:51:26.3210551Z INFO     Patch library dist\\obf\\_pytransform_vax_0001.dll\r\n2021-12-20T12:51:26.6123821Z INFO     Patch library file OK\r\n2021-12-20T12:51:27.2509613Z INFO     Copying C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\pytransform.py\r\n2021-12-20T12:51:27.2511236Z INFO     Rename it to pytransform_vax_0001.py\r\n2021-12-20T12:51:27.2521723Z INFO     Generate runtime files OK\r\n2021-12-20T12:51:27.2527229Z INFO     Start obfuscating the scripts...\r\n2021-12-20T12:51:27.7791265Z INFO     Found plugin check_processor_id at: pyarmor_plugins/example_plugin.py\r\n2021-12-20T12:51:27.7800488Z INFO     Patch this script with plugins\r\n2021-12-20T12:51:27.7803068Z INFO     Apply plugin example_plugin\r\n2021-12-20T12:51:27.7807320Z INFO     Patch this entry script with protection code\r\n2021-12-20T12:51:27.8445234Z INFO     Insert bootstrap code to entry script dist\\obf\\main.py\r\n2021-12-20T12:51:27.8456836Z INFO     Obfuscate 9 scripts OK.\r\n2021-12-20T12:51:30.6824262Z 2464 INFO: PyInstaller: 4.7\r\n2021-12-20T12:51:30.6825312Z 2464 INFO: Python: 3.8.12 (conda)\r\n2021-12-20T12:51:30.6996302Z 2483 INFO: Platform: Windows-10-10.0.17763-SP0\r\n2021-12-20T12:51:30.7045110Z 2488 INFO: UPX is not available.\r\n2021-12-20T12:51:30.7052400Z 2490 INFO: Removing temporary files and cleaning cache in C:\\Users\\VssAdministrator\\AppData\\Local\\pyinstaller\r\n2021-12-20T12:51:30.7111993Z Traceback (most recent call last):\r\n2021-12-20T12:51:30.7112816Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n2021-12-20T12:51:30.7113603Z     return _run_code(code, main_globals, None,\r\n2021-12-20T12:51:30.7114264Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\runpy.py\", line 87, in _run_code\r\n2021-12-20T12:51:30.7114913Z     exec(code, run_globals)\r\n2021-12-20T12:51:30.7115338Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\PyInstaller\\__main__.py\", line 134, in <module>\r\n2021-12-20T12:51:30.7115776Z     run()\r\n2021-12-20T12:51:30.7118603Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\PyInstaller\\__main__.py\", line 124, in run\r\n2021-12-20T12:51:30.7119564Z     run_build(pyi_config, spec_file, **vars(args))\r\n2021-12-20T12:51:30.7120046Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\PyInstaller\\__main__.py\", line 58, in run_build\r\n2021-12-20T12:51:30.7120607Z     PyInstaller.building.build_main.main(pyi_config, spec_file, **kwargs)\r\n2021-12-20T12:51:30.7121099Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\PyInstaller\\building\\build_main.py\", line 782, in main\r\n2021-12-20T12:51:30.7122155Z     build(specfile, kw.get('distpath'), kw.get('workpath'), kw.get('clean_build'))\r\n2021-12-20T12:51:30.7123140Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\PyInstaller\\building\\build_main.py\", line 714, in build\r\n2021-12-20T12:51:30.7124574Z     exec(code, spec_namespace)\r\n2021-12-20T12:51:30.7124905Z   File \"main-patched.spec\", line 5, in <module>\r\n2021-12-20T12:51:30.7125488Z     from pip._internal.operations import freeze\r\n2021-12-20T12:51:30.7126946Z   File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n2021-12-20T12:51:30.7128349Z   File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load_unlocked\r\n2021-12-20T12:51:30.7128859Z   File \"<frozen importlib._bootstrap>\", line 914, in _find_spec\r\n2021-12-20T12:51:30.7129415Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\_distutils_hack\\__init__.py\", line 83, in find_spec\r\n2021-12-20T12:51:30.7129816Z     return method()\r\n2021-12-20T12:51:30.7130701Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\_distutils_hack\\__init__.py\", line 104, in spec_for_pip\r\n2021-12-20T12:51:30.7131192Z     if self.pip_imported_during_build():\r\n2021-12-20T12:51:30.7131784Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\_distutils_hack\\__init__.py\", line 115, in pip_imported_during_build\r\n2021-12-20T12:51:30.7132215Z     return any(\r\n2021-12-20T12:51:30.7132809Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\_distutils_hack\\__init__.py\", line 116, in <genexpr>\r\n2021-12-20T12:51:30.7133491Z     frame.f_globals['__file__'].endswith('setup.py')\r\n2021-12-20T12:51:30.7133835Z KeyError: '__file__'\r\n2021-12-20T12:51:30.8726971Z Traceback (most recent call last):\r\n2021-12-20T12:51:30.8759812Z   File \"deployment.py\", line 70, in <module>\r\n2021-12-20T12:51:30.8761995Z     main(sys.argv)\r\n2021-12-20T12:51:30.8765357Z   File \"deployment.py\", line 27, in main\r\n2021-12-20T12:51:30.8766912Z     run_pyarmor()\r\n2021-12-20T12:51:30.8768238Z   File \"deployment.py\", line 40, in run_pyarmor\r\n2021-12-20T12:51:30.8768744Z     call_pyarmor(\r\n2021-12-20T12:51:30.8769402Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\pyarmor.py\", line 1572, in main\r\n2021-12-20T12:51:30.8769991Z     args.func(args)\r\n2021-12-20T12:51:30.8770836Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\packer.py\", line 540, in packer\r\n2021-12-20T12:51:30.8771583Z     _pyinstaller(src, entry, output, extra_options, xoptions, args)\r\n2021-12-20T12:51:30.8772362Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\packer.py\", line 440, in _pyinstaller\r\n2021-12-20T12:51:30.8773051Z     run_command([sys.executable] + packcmd + ['-y', '--clean', patched_spec])\r\n2021-12-20T12:51:30.8773787Z   File \"C:\\Miniconda\\envs\\.venv\\lib\\site-packages\\pyarmor\\packer.py\", line 86, in run_command\r\n2021-12-20T12:51:30.8774419Z     raise RuntimeError('Run command failed')\r\n2021-12-20T12:51:30.8774985Z RuntimeError: Run command failed\r\n```\r\n\n\n### Code of Conduct\n\n- [x] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2941/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2941/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2940", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2940/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2940/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2940/events", "html_url": "https://github.com/pypa/setuptools/issues/2940", "id": 1084855066, "node_id": "I_kwDOA0bv8c5AqZMa", "number": 2940, "title": "[BUG] Setuptools failure with venv", "user": {"login": "RyanSiu1995", "id": 24809843, "node_id": "MDQ6VXNlcjI0ODA5ODQz", "avatar_url": "https://avatars.githubusercontent.com/u/24809843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanSiu1995", "html_url": "https://github.com/RyanSiu1995", "followers_url": "https://api.github.com/users/RyanSiu1995/followers", "following_url": "https://api.github.com/users/RyanSiu1995/following{/other_user}", "gists_url": "https://api.github.com/users/RyanSiu1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanSiu1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanSiu1995/subscriptions", "organizations_url": "https://api.github.com/users/RyanSiu1995/orgs", "repos_url": "https://api.github.com/users/RyanSiu1995/repos", "events_url": "https://api.github.com/users/RyanSiu1995/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanSiu1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-20T14:27:35Z", "updated_at": "2021-12-21T09:28:12Z", "closed_at": "2021-12-21T00:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n60.0.0\n\n### Python version\n\nPython 3.9.5\n\n### OS\n\nDebian\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI have an environment with virtualenv installed at `~/venv`.\r\nWhen we try to rerun the setup command,\r\n`python -m venv ~/venv`.\r\nIf setuptools is 60.0.0, it will return the following error.\r\n```\r\nError: Command '['/root/venv/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1.\r\n```\r\nWhen I tried to run the command directly, I got the following error.\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 6, in <module>\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 206, in run_module\r\n    mod_name, mod_spec, code = _get_module_details(mod_name)\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 130, in _get_module_details\r\n    spec = importlib.util.find_spec(mod_name)\r\n  File \"/usr/local/lib/python3.9/importlib/util.py\", line 103, in find_spec\r\n    return _find_spec(fullname, parent_path)\r\n  File \"<frozen importlib._bootstrap>\", line 925, in _find_spec\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 83, in find_spec\r\n    return method()\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 104, in spec_for_pip\r\n    if self.pip_imported_during_build():\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 115, in pip_imported_during_build\r\n    return any(\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 116, in <genexpr>\r\n    frame.f_globals['__file__'].endswith('setup.py')\r\nKeyError: '__file__'\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/usr/local/lib/python3.9/ensurepip/__main__.py\", line 5, in <module>\r\n    sys.exit(ensurepip._main())\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 210, in _main\r\n    return _bootstrap(\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 129, in _bootstrap\r\n    return _run_pip(args + [p[0] for p in _PROJECTS], additional_paths)\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 38, in _run_pip\r\n    return subprocess.run([sys.executable, \"-c\", code], check=True).returncode\r\n  File \"/usr/local/lib/python3.9/subprocess.py\", line 528, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['/root/venv/bin/python3', '-c', '\\nimport runpy\\nimport sys\\nsys.path = [\\'/tmp/tmp1s3i_m4v/setuptools-56.0.0-py3-none-any.whl\\', \\'/tmp/tmp1s3i_m4v/pip-21.1.1-py3-none-any.whl\\'] + sys.path\\nsys.argv[1:] = [\\'install\\', \\'--no-cache-dir\\', \\'--no-index\\', \\'--find-links\\', \\'/tmp/tmp1s3i_m4v\\', \\'setuptools\\', \\'pip\\']\\nrunpy.run_module(\"pip\", run_name=\"__main__\", alter_sys=True)\\n']' returned non-zero exit status 1.\r\n```\n\n### Expected behavior\n\nNo error like setuptools<60\n\n### How to Reproduce\n\n```\r\npython -m venv ~/venv\r\n. ~/venv/bin/activate\r\npip install -U setuptools\r\npython -m venv ~/venv\r\n```\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 6, in <module>\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 206, in run_module\r\n    mod_name, mod_spec, code = _get_module_details(mod_name)\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 130, in _get_module_details\r\n    spec = importlib.util.find_spec(mod_name)\r\n  File \"/usr/local/lib/python3.9/importlib/util.py\", line 103, in find_spec\r\n    return _find_spec(fullname, parent_path)\r\n  File \"<frozen importlib._bootstrap>\", line 925, in _find_spec\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 83, in find_spec\r\n    return method()\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 104, in spec_for_pip\r\n    if self.pip_imported_during_build():\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 115, in pip_imported_during_build\r\n    return any(\r\n  File \"/root/venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 116, in <genexpr>\r\n    frame.f_globals['__file__'].endswith('setup.py')\r\nKeyError: '__file__'\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/local/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/usr/local/lib/python3.9/ensurepip/__main__.py\", line 5, in <module>\r\n    sys.exit(ensurepip._main())\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 210, in _main\r\n    return _bootstrap(\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 129, in _bootstrap\r\n    return _run_pip(args + [p[0] for p in _PROJECTS], additional_paths)\r\n  File \"/usr/local/lib/python3.9/ensurepip/__init__.py\", line 38, in _run_pip\r\n    return subprocess.run([sys.executable, \"-c\", code], check=True).returncode\r\n  File \"/usr/local/lib/python3.9/subprocess.py\", line 528, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['/root/venv/bin/python3', '-c', '\\nimport runpy\\nimport sys\\nsys.path = [\\'/tmp/tmp1s3i_m4v/setuptools-56.0.0-py3-none-any.whl\\', \\'/tmp/tmp1s3i_m4v/pip-21.1.1-py3-none-any.whl\\'] + sys.path\\nsys.argv[1:] = [\\'install\\', \\'--no-cache-dir\\', \\'--no-index\\', \\'--find-links\\', \\'/tmp/tmp1s3i_m4v\\', \\'setuptools\\', \\'pip\\']\\nrunpy.run_module(\"pip\", run_name=\"__main__\", alter_sys=True)\\n']' returned non-zero exit status 1.\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2938", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2938/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2938/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2938/events", "html_url": "https://github.com/pypa/setuptools/issues/2938", "id": 1084472466, "node_id": "I_kwDOA0bv8c5Ao7yS", "number": 2938, "title": "[BUG]  KeyError: 'unix_user' with setuptools 60.0.0", "user": {"login": "yashk2810", "id": 14262417, "node_id": "MDQ6VXNlcjE0MjYyNDE3", "avatar_url": "https://avatars.githubusercontent.com/u/14262417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yashk2810", "html_url": "https://github.com/yashk2810", "followers_url": "https://api.github.com/users/yashk2810/followers", "following_url": "https://api.github.com/users/yashk2810/following{/other_user}", "gists_url": "https://api.github.com/users/yashk2810/gists{/gist_id}", "starred_url": "https://api.github.com/users/yashk2810/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yashk2810/subscriptions", "organizations_url": "https://api.github.com/users/yashk2810/orgs", "repos_url": "https://api.github.com/users/yashk2810/repos", "events_url": "https://api.github.com/users/yashk2810/events{/privacy}", "received_events_url": "https://api.github.com/users/yashk2810/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-12-20T07:58:47Z", "updated_at": "2022-09-10T04:33:05Z", "closed_at": "2021-12-20T21:44:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools-60.0.0\n\n### Python version\n\nPython 3.9\n\n### OS\n\nUbuntu 18.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nGetting this error with setuptools 60.0.0\r\n\r\nTraceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmpfs/src/github/jax/setup.py\", line 31, in <module>\r\n        setup(\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/__init__.py\", line 153, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n        return run_commands(dist)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n        dist.run_commands()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/develop.py\", line 52, in finalize_options\r\n        easy_install.finalize_options(self)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 263, in finalize_options\r\n        self._fix_install_dir_for_user_site()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 375, in _fix_install_dir_for_user_site\r\n        self.select_scheme(scheme_name)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 716, in select_scheme\r\n        scheme = INSTALL_SCHEMES[name]\r\n    KeyError: 'unix_user'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/local/bin/python3.9 -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmpfs/src/github/jax/setup.py'\"'\"'; __file__='\"'\"'/tmpfs/src/github/jax/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix= Check the logs for full command output.\n\n### Expected behavior\n\nThe Error should not happen. It was working fine with setuptools 59.8.0\n\n### How to Reproduce\n\n1. `git clone https://github.com/google/jax.git`\r\n2.  `cd jax`\r\n3. `python3.9 -m pip install -e .`\r\n\r\nMake sure the setuptools version in 60.0.0\n\n### Output\n\n```console\r\nTraceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmpfs/src/github/jax/setup.py\", line 31, in <module>\r\n        setup(\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/__init__.py\", line 153, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n        return run_commands(dist)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n        dist.run_commands()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/develop.py\", line 52, in finalize_options\r\n        easy_install.finalize_options(self)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 263, in finalize_options\r\n        self._fix_install_dir_for_user_site()\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 375, in _fix_install_dir_for_user_site\r\n        self.select_scheme(scheme_name)\r\n      File \"/home/kbuilder/.local/lib/python3.9/site-packages/setuptools/command/easy_install.py\", line 716, in select_scheme\r\n        scheme = INSTALL_SCHEMES[name]\r\n    KeyError: 'unix_user'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/local/bin/python3.9 -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmpfs/src/github/jax/setup.py'\"'\"'; __file__='\"'\"'/tmpfs/src/github/jax/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix= Check the logs for full command output.\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2937", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2937/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2937/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2937/events", "html_url": "https://github.com/pypa/setuptools/issues/2937", "id": 1084471570, "node_id": "I_kwDOA0bv8c5Ao7kS", "number": 2937, "title": "[BUG] python setup.py develop --user is broken on linux", "user": {"login": "liuzhe-lz", "id": 40699903, "node_id": "MDQ6VXNlcjQwNjk5OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/40699903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuzhe-lz", "html_url": "https://github.com/liuzhe-lz", "followers_url": "https://api.github.com/users/liuzhe-lz/followers", "following_url": "https://api.github.com/users/liuzhe-lz/following{/other_user}", "gists_url": "https://api.github.com/users/liuzhe-lz/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuzhe-lz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuzhe-lz/subscriptions", "organizations_url": "https://api.github.com/users/liuzhe-lz/orgs", "repos_url": "https://api.github.com/users/liuzhe-lz/repos", "events_url": "https://api.github.com/users/liuzhe-lz/events{/privacy}", "received_events_url": "https://api.github.com/users/liuzhe-lz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-20T07:57:35Z", "updated_at": "2021-12-20T13:59:45Z", "closed_at": "2021-12-20T13:59:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n60.0.0\r\n\r\n### Python version\r\n\r\n3.10 & 3.8\r\n\r\n### OS\r\n\r\nArch Linux & Ubuntu\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\n`python setup.py develop --user` is broken on Linux.\r\n\r\nsetuptools 60.0 overrides distutils with its built-in version, and unfortunately this version is not compatible with easy_install.\r\n\r\n### Expected behavior\r\n\r\nIt should just work.\r\n\r\n### How to Reproduce\r\n\r\nWrite a simple setup.py:\r\n```python\r\nfrom setuptools import setup\r\nsetup(name='hello', version='1.0')\r\n```\r\n\r\nInstall it:\r\n```bash\r\npython setup.py develop --user\r\n```\r\n\r\n### Output\r\n\r\n```console\r\nrunning develop\r\n/home/USER/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py:156: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\r\n  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"/PATH/TO/setup.py\", line 2, in <module>\r\n    setup(name='hello', version='1.0')\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n    return run_commands(dist)\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n    dist.run_commands()\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/_distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.ensure_finalized()\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/_distutils/cmd.py\", line 107, in ensure_finalized\r\n    self.finalize_options()\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/command/develop.py\", line 52, in finalize_options\r\n    easy_install.finalize_options(self)\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py\", line 263, in finalize_options\r\n    self._fix_install_dir_for_user_site()\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py\", line 375, in _fix_install_dir_for_user_site\r\n    self.select_scheme(scheme_name)\r\n  File \"/home/USER/.local/lib/python3.10/site-packages/setuptools/command/easy_install.py\", line 716, in select_scheme\r\n    scheme = INSTALL_SCHEMES[name]\r\nKeyError: 'unix_user'\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2937/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2921", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2921/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2921/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2921/events", "html_url": "https://github.com/pypa/setuptools/issues/2921", "id": 1077599243, "node_id": "I_kwDOA0bv8c5AOtwL", "number": 2921, "title": "[CI] `tmp_src` fixture seems to be copying everything including `.git` ", "user": {"login": "abravalheri", "id": 320755, "node_id": "MDQ6VXNlcjMyMDc1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abravalheri", "html_url": "https://github.com/abravalheri", "followers_url": "https://api.github.com/users/abravalheri/followers", "following_url": "https://api.github.com/users/abravalheri/following{/other_user}", "gists_url": "https://api.github.com/users/abravalheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/abravalheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abravalheri/subscriptions", "organizations_url": "https://api.github.com/users/abravalheri/orgs", "repos_url": "https://api.github.com/users/abravalheri/repos", "events_url": "https://api.github.com/users/abravalheri/events{/privacy}", "received_events_url": "https://api.github.com/users/abravalheri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-11T17:37:01Z", "updated_at": "2022-01-07T00:10:05Z", "closed_at": "2022-01-07T00:10:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nv59.4.0\n\n### Python version\n\nPython 3.8\n\n### OS\n\nUbuntu 20.04.3 LTS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nIt seems that the `tmp_src` is copying everything under the project directory to a temporary folder including the `.git` directory (and possibly others like `.tox`). These directories can be quite heavy and error prone to copy.\r\n\r\nMy terminal got stuck when trying to run the `test_pip_upgrade_from_source` folder, then I decided to have a look on the temporary folder being produced by pytest, and I found git-related files there.\r\n\n\n### Expected behavior\n\nThe fixture should avoid copying unnecessary files.\n\n### How to Reproduce\n\n1. Run the tests (e.g. `test_pip_upgrade_from_source`)\r\n2. Inspect the temporary directory generated by pytest and look for a git folder.\n\n### Output\n\n![git_being_copied](https://user-images.githubusercontent.com/320755/145685948-f57ea7a7-bd35-4a7c-812f-1c2116458b50.png)\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2903", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2903/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2903/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2903/events", "html_url": "https://github.com/pypa/setuptools/issues/2903", "id": 1061484471, "node_id": "I_kwDOA0bv8c4_RPe3", "number": 2903, "title": "[BUG] Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/m1/q3ggrhsj51lbx1h9vn_n_bp80000gp/T/pip-build-sH4hjw/pytest", "user": {"login": "rashmirajanna98", "id": 94921644, "node_id": "U_kgDOBahjrA", "avatar_url": "https://avatars.githubusercontent.com/u/94921644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rashmirajanna98", "html_url": "https://github.com/rashmirajanna98", "followers_url": "https://api.github.com/users/rashmirajanna98/followers", "following_url": "https://api.github.com/users/rashmirajanna98/following{/other_user}", "gists_url": "https://api.github.com/users/rashmirajanna98/gists{/gist_id}", "starred_url": "https://api.github.com/users/rashmirajanna98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rashmirajanna98/subscriptions", "organizations_url": "https://api.github.com/users/rashmirajanna98/orgs", "repos_url": "https://api.github.com/users/rashmirajanna98/repos", "events_url": "https://api.github.com/users/rashmirajanna98/events{/privacy}", "received_events_url": "https://api.github.com/users/rashmirajanna98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-23T16:27:39Z", "updated_at": "2022-03-23T15:29:25Z", "closed_at": "2022-03-23T15:29:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools 41.2.0\n\n### Python version\n\nPython 2.7.18\n\n### OS\n\nmacos\n\n### Additional environment information\n\nPackage    Version\r\n---------- ---------\r\ncertifi    2020.6.20\r\nchardet    3.0.4\r\nidna       2.10\r\npip        20.3.4\r\nrequests   2.24.0\r\nsetuptools 41.2.0\r\nurllib3    1.25.10\n\n### Description\n\nerror- \r\n`Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/m1/q3ggrhsj51lbx1h9vn_n_bp80000gp/T/pip-build-sH4hjw/pytest`\n\n### Expected behavior\n\nerror- \r\n`Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/m1/q3ggrhsj51lbx1h9vn_n_bp80000gp/T/pip-build-sH4hjw/pytest`\n\n### How to Reproduce\n\nerror- \r\n`Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/m1/q3ggrhsj51lbx1h9vn_n_bp80000gp/T/pip-build-sH4hjw/pytest`\n\n### Output\n\n```console\r\n\r\n```\r\nerror- \r\n`Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/m1/q3ggrhsj51lbx1h9vn_n_bp80000gp/T/pip-build-sH4hjw/pytest`\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2898", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2898/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2898/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2898/events", "html_url": "https://github.com/pypa/setuptools/issues/2898", "id": 1059103926, "node_id": "I_kwDOA0bv8c4_IKS2", "number": 2898, "title": "[BUG] Problems when building cython with mingw64 and msc_ver == '1800'", "user": {"login": "jon-marks", "id": 88326588, "node_id": "MDQ6VXNlcjg4MzI2NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/88326588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-marks", "html_url": "https://github.com/jon-marks", "followers_url": "https://api.github.com/users/jon-marks/followers", "following_url": "https://api.github.com/users/jon-marks/following{/other_user}", "gists_url": "https://api.github.com/users/jon-marks/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-marks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-marks/subscriptions", "organizations_url": "https://api.github.com/users/jon-marks/orgs", "repos_url": "https://api.github.com/users/jon-marks/repos", "events_url": "https://api.github.com/users/jon-marks/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-marks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-20T09:27:31Z", "updated_at": "2022-03-23T15:34:22Z", "closed_at": "2022-03-23T15:34:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n59.2.0\n\n### Python version\n\n3.9\n\n### OS\n\nWin 10\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nHi Folks.\r\nJust got cython working on Windows10 using MinGW-w64 Compiler from WinLibs.  There were a couple of patches I needed to make to distutils to get things to work.  I thought you may want to know about this.\r\n\r\n[aside].  On a philosophical note, I am perplexed that the larger Python community, who is so supportive of open source, resort to using MSVC for building their Windows targets.  I'll get off my soapbox now.\r\n\r\nAs you will see below, my patches are a Q&D hack to get things to work without a deeper knowledge and philosophy behind setuptool's project.  I'd encourage an updating of these scripts to recent versions of the tools.\r\n\r\nSee attached, as it gets formatted incorrectly by this entry form.\r\n[abc.txt](https://github.com/pypa/setuptools/files/7574268/abc.txt)\r\n\r\n\r\n\n\n### Expected behavior\n\nN/A\n\n### How to Reproduce\n\nN/A\n\n### Output\n\nN/A\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2885", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2885/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2885/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2885/events", "html_url": "https://github.com/pypa/setuptools/issues/2885", "id": 1053296574, "node_id": "I_kwDOA0bv8c4-yAe-", "number": 2885, "title": "[BUG] `import pkg_resources` emits `DeprecationWarning`", "user": {"login": "kmaehashi", "id": 939877, "node_id": "MDQ6VXNlcjkzOTg3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/939877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmaehashi", "html_url": "https://github.com/kmaehashi", "followers_url": "https://api.github.com/users/kmaehashi/followers", "following_url": "https://api.github.com/users/kmaehashi/following{/other_user}", "gists_url": "https://api.github.com/users/kmaehashi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmaehashi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmaehashi/subscriptions", "organizations_url": "https://api.github.com/users/kmaehashi/orgs", "repos_url": "https://api.github.com/users/kmaehashi/repos", "events_url": "https://api.github.com/users/kmaehashi/events{/privacy}", "received_events_url": "https://api.github.com/users/kmaehashi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-15T07:17:23Z", "updated_at": "2021-11-15T23:59:26Z", "closed_at": "2021-11-15T23:59:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==59.1.0\n\n### Python version\n\n3.9.5\n\n### OS\n\nUbuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\n`DeprecationWarning` is emitted just by importing `pkg_resources`.\r\nThis seems like a regression in 59.1.0; this issue did not reproduce with 59.0.1.\n\n### Expected behavior\n\nNo warnings were emitted by import.\n\n### How to Reproduce\n\n```\r\npython -Werror -c 'import pkg_resources'\r\n```\n\n### Output\n\n```\r\nTraceback (most recent call last):\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/version.py\", line 49, in parse\r\n    return Version(version)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/version.py\", line 266, in __init__\r\n    raise InvalidVersion(f\"Invalid version: '{version}'\")\r\npkg_resources.extern.packaging.version.InvalidVersion: Invalid version: '/home/maehashi/.pyenv/versions/3.9.5/envs/local'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3257, in <module>\r\n    def _initialize_master_working_set():\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3231, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 3269, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 564, in _build_master\r\n    ws = cls()\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 557, in __init__\r\n    self.add_entry(entry)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 613, in add_entry\r\n    for dist in find_distributions(entry, True):\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2064, in find_on_path\r\n    path_item_entries = _by_version_descending(filtered)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2034, in _by_version_descending\r\n    return sorted(names, key=_by_version, reverse=True)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2032, in _by_version\r\n    return [packaging.version.parse(part) for part in parts]\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 2032, in <listcomp>\r\n    return [packaging.version.parse(part) for part in parts]\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/version.py\", line 51, in parse\r\n    return LegacyVersion(version)\r\n  File \"/home/maehashi/.pyenv/versions/local-3.9.5/lib/python3.9/site-packages/pkg_resources/_vendor/packaging/version.py\", line 111, in __init__\r\n    warnings.warn(\r\nDeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n```\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2885/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2880", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2880/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2880/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2880/events", "html_url": "https://github.com/pypa/setuptools/issues/2880", "id": 1052995347, "node_id": "I_kwDOA0bv8c4-w28T", "number": 2880, "title": "[BUG] Avoid depdencies with URLs in setup.cfg", "user": {"login": "abravalheri", "id": 320755, "node_id": "MDQ6VXNlcjMyMDc1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abravalheri", "html_url": "https://github.com/abravalheri", "followers_url": "https://api.github.com/users/abravalheri/followers", "following_url": "https://api.github.com/users/abravalheri/following{/other_user}", "gists_url": "https://api.github.com/users/abravalheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/abravalheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abravalheri/subscriptions", "organizations_url": "https://api.github.com/users/abravalheri/orgs", "repos_url": "https://api.github.com/users/abravalheri/repos", "events_url": "https://api.github.com/users/abravalheri/events{/privacy}", "received_events_url": "https://api.github.com/users/abravalheri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-14T17:31:39Z", "updated_at": "2021-11-14T20:04:35Z", "closed_at": "2021-11-14T20:04:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nmain: d212daa\r\n\r\n### Python version\r\n\r\nPython 3.8\r\n\r\n### OS\r\n\r\nUbuntu 20.04.3 LTS\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nIt seems that #2865 might have accidentally introduced a kind of dependency that is not accepted by PyPi:\r\n\r\n```diff\r\n[options.extras_require]\r\ntesting =\r\n        ...\r\n-\tpytest-virtualenv>=1.2.7\r\n+\tpytest-virtualenv @ git+https://github.com/jaraco/pytest-plugins@distutils-deprecated#subdirectory=pytest-virtualenv\r\n```\r\n\r\nin `setup.cfg`.\r\n\r\nPyPI forbids uploading packages with dependencies outside of PyPI (via URLs specs).\r\n\r\n### Expected behavior\r\n\r\nAn alternative for this implementation is to leave the previous dependency as it was in `setup.cfg`, but overwrite it using the `deps` field in `tox.ini`.\r\n\r\n### How to Reproduce\r\n\r\nThis problem is currently being pointed out by the CI:\r\nhttps://github.com/pypa/setuptools/runs/4196605393?check_suite_focus=true\r\nTo replicate the problem it is necessary to try to submit the distribution files to PyPI\r\n\r\n### Output\r\n\r\n```console\r\nHTTPError: 400 Bad Request from https://upload.pypi.org/legacy/\r\nInvalid value for requires_dist. Error: Can't have direct dependency: \"pytest-virtualenv @ git+https://github.com/jaraco/pytest-plugins@distutils-deprecated#subdirectory=pytest-virtualenv ; extra == 'testing'\"\r\nERROR: InvocationError for command /home/runner/work/setuptools/setuptools/.tox/release/bin/python -m twine upload 'dist/*' (exited with code 1)\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2864", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2864/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2864/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2864/events", "html_url": "https://github.com/pypa/setuptools/issues/2864", "id": 1048302436, "node_id": "I_kwDOA0bv8c4-e9Nk", "number": 2864, "title": "[BUG] `python setup.py install` doesn't preserve file permissions when install dependencies as egg", "user": {"login": "sighingnow", "id": 7144772, "node_id": "MDQ6VXNlcjcxNDQ3NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/7144772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sighingnow", "html_url": "https://github.com/sighingnow", "followers_url": "https://api.github.com/users/sighingnow/followers", "following_url": "https://api.github.com/users/sighingnow/following{/other_user}", "gists_url": "https://api.github.com/users/sighingnow/gists{/gist_id}", "starred_url": "https://api.github.com/users/sighingnow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sighingnow/subscriptions", "organizations_url": "https://api.github.com/users/sighingnow/orgs", "repos_url": "https://api.github.com/users/sighingnow/repos", "events_url": "https://api.github.com/users/sighingnow/events{/privacy}", "received_events_url": "https://api.github.com/users/sighingnow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-09T08:05:56Z", "updated_at": "2021-11-11T02:15:46Z", "closed_at": "2021-11-10T17:20:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==58.2.0\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nLinux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen installing a package using `python3 setup.py install --user` to install a package, if there are executable in its dependencies, the `exec` permission bit will be discarded.\r\n\r\nIt is caused by the usage of `zipfile.ZipFile.extractall` to install wheels as `egg`,\r\n\r\nhttps://github.com/pypa/setuptools/blob/8af23a41194ae747faf3e60f9cc19141b5e7ad24/setuptools/wheel.py?_pjax=%23js-repo-pjax-container%2C%20div%5Bitemtype%3D%22http%3A%2F%2Fschema.org%2FSoftwareSourceCode%22%5D%20main%2C%20%5Bdata-pjax-container%5D#L125\r\n\r\nHowever the `ZipFile.extractall` is known to have bug that cannot perserve file permissions, see also https://bugs.python.org/issue15795.\r\n\r\nIt if can be confirmed as a bug of setuptools, I could submit a PR then.\r\n\r\n### Expected behavior\r\n\r\nThe file permission in installed `egg` should be consistent with the permission bits in wheel package.\r\n\r\n### How to Reproduce\r\n\r\n1. prepare a `setup.py` file:\r\n\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    name=\"deps-no-permission-issue\",\r\n    install_requires=[\"cmake\"],\r\n)\r\n```\r\n\r\n2. run `python3 setup.py install --user`\r\n3. run `$HOME/.local/bin/cmake`\r\n\r\n### Output\r\n\r\nIt will fail to execute as permission denied:\r\n\r\n```console\r\n[graphscope@76e7c3cfda7b ~]$ ~/.local/bin/cmake\r\nTraceback (most recent call last):\r\n  File \"/home/graphscope/.local/bin/cmake\", line 33, in <module>\r\n    sys.exit(load_entry_point('cmake==3.21.4', 'console_scripts', 'cmake')())\r\n  File \"/home/graphscope/.local/lib/python3.9/site-packages/cmake-3.21.4-py3.9-linux-x86_64.egg/cmake/__init__.py\", line 47, in cmake\r\n    raise SystemExit(_program('cmake', sys.argv[1:]))\r\n  File \"/home/graphscope/.local/lib/python3.9/site-packages/cmake-3.21.4-py3.9-linux-x86_64.egg/cmake/__init__.py\", line 43, in _program\r\n    return subprocess.call([os.path.join(CMAKE_BIN_DIR, name)] + args)\r\n  File \"/opt/python/cp39-cp39/lib/python3.9/subprocess.py\", line 349, in call\r\n    with Popen(*popenargs, **kwargs) as p:\r\n  File \"/opt/python/cp39-cp39/lib/python3.9/subprocess.py\", line 951, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"/opt/python/cp39-cp39/lib/python3.9/subprocess.py\", line 1821, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nPermissionError: [Errno 13] Permission denied: '/home/graphscope/.local/lib/python3.9/site-packages/cmake-3.21.4-py3.9-linux-x86_64.egg/cmake/data/bin/cmake'\r\n```\r\n\r\nHowever if we uninstall `cmake`, and first `python3 setup.py bdist_wheel`, then install the generated wheel under `dist/`, and `$HOME/.local/bin/cmake` will run as expected:\r\n\r\n```\r\n[graphscope@76e7c3cfda7b ~]$ $HOME/.local/bin/cmake\r\nUsage\r\n\r\n  cmake [options] <path-to-source>\r\n  cmake [options] <path-to-existing-build>\r\n  cmake [options] -S <path-to-source> -B <path-to-build>\r\n\r\nSpecify a source directory to (re-)generate a build system for it in the\r\ncurrent working directory.  Specify an existing build directory to\r\nre-generate its build system.\r\n\r\nRun 'cmake --help' for more information.\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2864/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2861", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2861/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2861/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2861/events", "html_url": "https://github.com/pypa/setuptools/issues/2861", "id": 1046815953, "node_id": "I_kwDOA0bv8c4-ZSTR", "number": 2861, "title": "SETUPTOOLS_USE_DISTUTILS=local is not tested by CI infrastructure", "user": {"login": "mkoeppe", "id": 8345221, "node_id": "MDQ6VXNlcjgzNDUyMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8345221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkoeppe", "html_url": "https://github.com/mkoeppe", "followers_url": "https://api.github.com/users/mkoeppe/followers", "following_url": "https://api.github.com/users/mkoeppe/following{/other_user}", "gists_url": "https://api.github.com/users/mkoeppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkoeppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkoeppe/subscriptions", "organizations_url": "https://api.github.com/users/mkoeppe/orgs", "repos_url": "https://api.github.com/users/mkoeppe/repos", "events_url": "https://api.github.com/users/mkoeppe/events{/privacy}", "received_events_url": "https://api.github.com/users/mkoeppe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-07T18:21:41Z", "updated_at": "2021-11-12T19:34:34Z", "closed_at": "2021-11-12T19:34:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nany\n\n### Python version\n\nany\n\n### OS\n\nany\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nThere is no testing of the vendored distutils that are activated by `SETUPTOOLS_USE_DISTUTILS=local`.\r\n\r\n\n\n### Expected behavior\n\nThe vendored distutils, currently again only used when `SETUPTOOLS_USE_DISTUTILS=local` is set, should be checked by `tox` and GH Actions workflows.\r\n\n\n### How to Reproduce\n\n`$ git grep -l SETUPTOOLS_USE_DISTUTILS`\n\n### Output\n\n```\r\n$ git grep -l SETUPTOOLS_USE_DISTUTILS\r\nCHANGES.rst\r\n_distutils_hack/__init__.py\r\ndocs/deprecated/distutils-legacy.rst\r\nsetup.py\r\nsetuptools/tests/test_distutils_adoption.py\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2861/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2852", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2852/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2852/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2852/events", "html_url": "https://github.com/pypa/setuptools/issues/2852", "id": 1044334949, "node_id": "I_kwDOA0bv8c4-P0ll", "number": 2852, "title": "[BUG] Python3.5 compatibility problem", "user": {"login": "XDeviation", "id": 52819767, "node_id": "MDQ6VXNlcjUyODE5NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/52819767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XDeviation", "html_url": "https://github.com/XDeviation", "followers_url": "https://api.github.com/users/XDeviation/followers", "following_url": "https://api.github.com/users/XDeviation/following{/other_user}", "gists_url": "https://api.github.com/users/XDeviation/gists{/gist_id}", "starred_url": "https://api.github.com/users/XDeviation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XDeviation/subscriptions", "organizations_url": "https://api.github.com/users/XDeviation/orgs", "repos_url": "https://api.github.com/users/XDeviation/repos", "events_url": "https://api.github.com/users/XDeviation/events{/privacy}", "received_events_url": "https://api.github.com/users/XDeviation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-04T03:47:22Z", "updated_at": "2021-11-04T03:55:33Z", "closed_at": "2021-11-04T03:52:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===58.5.2\n\n### Python version\n\nPython 3.5\n\n### OS\n\nUbuntu 16.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI tried to import this package and got a syntax error, I think this error comes from commit 84b1cd8e7760a9b3c984a4edfc37dc7266952266 , here is the syntax f\"{}\" above Python 3.6 is introduced\r\ncode: pkg_resources/__init__.py:117 \r\nf\"{v} is an invalid version and will not be supported in \"\n\n### Expected behavior\n\nI tried to import this package and import successfully\n\n### How to Reproduce\n\nImport setuptools===58.5.2 with python3.5 or lower version\n\n### Output\n\n```console\r\n\"./parse_logs.par/subpar/runtime/support.py\", line 157, in _setup_pkg_resources\r\n  File \"/usr/local/lib/python3.5/dist-packages/pkg_resources/__init__.py\", line 117\r\n    f\"{v} is an invalid version and will not be supported in \"\r\n                                                             ^\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2849", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2849/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2849/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2849/events", "html_url": "https://github.com/pypa/setuptools/issues/2849", "id": 1044238210, "node_id": "I_kwDOA0bv8c4-Pc-C", "number": 2849, "title": "[BUG] setuptools 58.5 breaks installation of docutils==0.10.0", "user": {"login": "anntzer", "id": 1322974, "node_id": "MDQ6VXNlcjEzMjI5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1322974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anntzer", "html_url": "https://github.com/anntzer", "followers_url": "https://api.github.com/users/anntzer/followers", "following_url": "https://api.github.com/users/anntzer/following{/other_user}", "gists_url": "https://api.github.com/users/anntzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/anntzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anntzer/subscriptions", "organizations_url": "https://api.github.com/users/anntzer/orgs", "repos_url": "https://api.github.com/users/anntzer/repos", "events_url": "https://api.github.com/users/anntzer/events{/privacy}", "received_events_url": "https://api.github.com/users/anntzer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-11-04T00:14:55Z", "updated_at": "2021-11-04T22:42:33Z", "closed_at": "2021-11-04T22:42:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n58.5.{0,1}\r\n\r\n### Python version\r\n\r\n3.9\r\n\r\n### OS\r\n\r\nArch Linux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nInstalling docutils==0.10 in a clean venv with setuptools 58.5.{0,1} fails with an internal(?) AttributeError.\r\n\r\n### Expected behavior\r\n\r\nSuccessful installation.\r\n\r\n### How to Reproduce\r\n\r\n```sh\r\npython -mvenv /tmp/testenv && source /tmp/testenv/bin/activate &&\r\n  pip install -U pip setuptools wheel && pip install docutils==0.10\r\n```\r\n(To repro the issue, you may need to `pip cache purge` first if you happen to already have a wheel for docutils==0.10 in your pip cache.)\r\n\r\n### Output\r\n\r\n```console\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /tmp/testenv/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-r8b4xqgi/docutils_459783958fce4136b27e3bc6ec961dba/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-r8b4xqgi/docutils_459783958fce4136b27e3bc6ec961dba/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-_qz_txff\r\n       cwd: /tmp/pip-install-r8b4xqgi/docutils_459783958fce4136b27e3bc6ec961dba/\r\n  Complete output (35 lines):\r\n  running egg_info\r\n  creating /tmp/pip-pip-egg-info-_qz_txff/docutils.egg-info\r\n  writing /tmp/pip-pip-egg-info-_qz_txff/docutils.egg-info/PKG-INFO\r\n  writing dependency_links to /tmp/pip-pip-egg-info-_qz_txff/docutils.egg-info/dependency_links.txt\r\n  writing top-level names to /tmp/pip-pip-egg-info-_qz_txff/docutils.egg-info/top_level.txt\r\n  writing manifest file '/tmp/pip-pip-egg-info-_qz_txff/docutils.egg-info/SOURCES.txt'\r\n  Traceback (most recent call last):\r\n    File \"<string>\", line 1, in <module>\r\n    File \"/tmp/pip-install-r8b4xqgi/docutils_459783958fce4136b27e3bc6ec961dba/setup.py\", line 221, in <module>\r\n      do_setup()\r\n    File \"/tmp/pip-install-r8b4xqgi/docutils_459783958fce4136b27e3bc6ec961dba/setup.py\", line 98, in do_setup\r\n      dist = setup(**kwargs)\r\n    File \"/usr/lib/python3.9/distutils/core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"/usr/lib/python3.9/distutils/dist.py\", line 966, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/usr/lib/python3.9/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 299, in run\r\n      self.find_sources()\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 306, in find_sources\r\n      mm.run()\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 541, in run\r\n      self.add_defaults()\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 578, in add_defaults\r\n      sdist.add_defaults(self)\r\n    File \"/usr/lib/python3.9/distutils/command/sdist.py\", line 226, in add_defaults\r\n      self._add_defaults_python()\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/sdist.py\", line 113, in _add_defaults_python\r\n      self._add_data_files(self._safe_data_files(build_py))\r\n    File \"/tmp/testenv/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 621, in _safe_data_files\r\n      return build_py.get_data_files_without_manifest()\r\n    File \"/usr/lib/python3.9/distutils/cmd.py\", line 103, in __getattr__\r\n      raise AttributeError(attr)\r\n  AttributeError: get_data_files_without_manifest\r\n  ----------------------------------------\r\nWARNING: Discarding https://files.pythonhosted.org/packages/66/40/2b11ec2ec96d527ef933332a5847cc90860fd8bbee46da2cc468794ea25b/docutils-0.10.tar.gz#sha256=370624e61b6773da2f2fb17cc2a4eaea4bb596c3585d13f75ff193c1c738603e (from https://pypi.org/simple/docutils/). Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\nERROR: Could not find a version that satisfies the requirement docutils==0.10 (from versions: 0.3, 0.3.5, 0.3.7, 0.3.9, 0.4, 0.5, 0.6, 0.7, 0.8, 0.8.1, 0.9, 0.9.1, 0.10, 0.11, 0.12, 0.13.1, 0.14rc1, 0.14rc2, 0.14, 0.15, 0.15.1.post1, 0.15.2, 0.16b0.dev0, 0.16rc1, 0.16, 0.17b1, 0.17, 0.17.1b1.dev0, 0.17.1, 0.18b1, 0.18)\r\nERROR: No matching distribution found for docutils==0.10\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2849/reactions", "total_count": 21, "+1": 21, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2847", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2847/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2847/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2847/events", "html_url": "https://github.com/pypa/setuptools/issues/2847", "id": 1043695461, "node_id": "I_kwDOA0bv8c4-NYdl", "number": 2847, "title": "[BUG] Deprecation warning when building wheels", "user": {"login": "domdfcoding", "id": 8050853, "node_id": "MDQ6VXNlcjgwNTA4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8050853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domdfcoding", "html_url": "https://github.com/domdfcoding", "followers_url": "https://api.github.com/users/domdfcoding/followers", "following_url": "https://api.github.com/users/domdfcoding/following{/other_user}", "gists_url": "https://api.github.com/users/domdfcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/domdfcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domdfcoding/subscriptions", "organizations_url": "https://api.github.com/users/domdfcoding/orgs", "repos_url": "https://api.github.com/users/domdfcoding/repos", "events_url": "https://api.github.com/users/domdfcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/domdfcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2021-11-03T14:46:56Z", "updated_at": "2022-02-18T15:03:28Z", "closed_at": "2021-11-03T23:30:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==58.3.0 or setuptools==58.4.0\r\n\r\n### Python version\r\n\r\nPython 3.8\r\n\r\n### OS\r\n\r\nUbuntu 20.04\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nAttempting to install or build a wheel of a project using setuptools results in the following warning:\r\n\r\n```\r\nvenv/lib/python3.8/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n```\r\n\r\n<details><summary>Full traceback:</summary>\r\n\r\n```python\r\n  Traceback (most recent call last):\r\n    File \"venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n      main()\r\n    File \"venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 261, in build_wheel\r\n      return _build_backend().build_wheel(wheel_directory, config_settings,\r\n    File \"venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 221, in build_wheel\r\n      return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n    File \"venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 150, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 20, in <module>\r\n      setup(\r\n    File \"venv/lib/python3.8/site-packages/setuptools/__init__.py\", line 159, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/usr/lib/python3.8/distutils/core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 966, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"venv/lib/python3.8/site-packages/wheel/bdist_wheel.py\", line 301, in run\r\n      install = self.reinitialize_command('install',\r\n    File \"/venv/lib/python3.8/site-packages/setuptools/__init__.py\", line 214, in reinitialize_command\r\n      cmd = _Command.reinitialize_command(self, command, reinit_subcommands)\r\n    File \"/usr/lib/python3.8/distutils/cmd.py\", line 305, in reinitialize_command\r\n      return self.distribution.reinitialize_command(command,\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 938, in reinitialize_command\r\n      command = self.get_command_obj(command_name)\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 858, in get_command_obj\r\n      cmd_obj = self.command_obj[command] = klass(self)\r\n    File \"venv/lib/python3.8/site-packages/setuptools/__init__.py\", line 178, in __init__\r\n      _Command.__init__(self, dist)\r\n    File \"/usr/lib/python3.8/distutils/cmd.py\", line 62, in __init__\r\n      self.initialize_options()\r\n    File \"/venv/lib/python3.8/site-packages/setuptools/command/install.py\", line 34, in initialize_options\r\n      warnings.warn(\r\n  setuptools._deprecation_warning.SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n```\r\n</details>\r\n\r\nThis occurs with both build and pip (``pip install`` and ``pip wheel``).\r\n\r\n\r\n### Expected behavior\r\n\r\nNo warning is emitted when building a wheel or installing using pip or build.\r\n\r\n### How to Reproduce\r\n\r\n1. Install setuptools 58.3.0 or 58.4.0\r\n2. Run `PYTHONWARNINGS=error pip wheel domdf_python_tools==3.1.0 --no-binary domdf_python_tools -v --no-deps`\r\n\r\nThis also occurs with `whey` and `natsort`.\r\n\r\n### Output\r\n\r\n```console\r\nLooking in indexes: http://localhost:3141/root/staging\r\nCollecting domdf_python_tools==3.1.0\r\n  Downloading http://localhost:3141/root/pypi/%2Bf/c55/b356a87d53841/domdf-python-tools-3.1.0.tar.gz (99 kB)\r\n  Installing build dependencies: started\r\n  Running command /tmp/venv/bin/python3 /tmp/pip-standalone-pip-7m38gblg/__env_pip__.zip/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-myy0rzw0/overlay --no-warn-script-location --no-binary domdf-python-tools --only-binary :none: -i http://localhost:3141/root/staging -- 'setuptools>=40.6.0' 'wheel>=0.34.2'\r\n  Looking in indexes: http://localhost:3141/root/staging\r\n  Collecting setuptools>=40.6.0\r\n    Downloading http://localhost:3141/root/pypi/%2Bf/e8b/1d3127a0441fb/setuptools-58.4.0-py3-none-any.whl (946 kB)\r\n  Collecting wheel>=0.34.2\r\n    Downloading http://localhost:3141/root/pypi/%2Bf/210/14b2bd93c6d00/wheel-0.37.0-py2.py3-none-any.whl (35 kB)\r\n  Installing collected packages: wheel, setuptools\r\n  Successfully installed setuptools-58.4.0 wheel-0.37.0\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Running command /tmp/venv/bin/python3 /tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py get_requires_for_build_wheel /tmp/tmp32ew7q_j\r\n  running egg_info\r\n  writing domdf_python_tools.egg-info/PKG-INFO\r\n  writing dependency_links to domdf_python_tools.egg-info/dependency_links.txt\r\n  writing requirements to domdf_python_tools.egg-info/requires.txt\r\n  writing top-level names to domdf_python_tools.egg-info/top_level.txt\r\n  reading manifest file 'domdf_python_tools.egg-info/SOURCES.txt'\r\n  reading manifest template 'MANIFEST.in'\r\n  no previously-included directories found matching '**/__pycache__'\r\n  adding license file 'LICENSE'\r\n  writing manifest file 'domdf_python_tools.egg-info/SOURCES.txt'\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Running command /tmp/venv/bin/python3 /tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py prepare_metadata_for_build_wheel /tmp/tmpenyjg9hk\r\n  running dist_info\r\n  creating /tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info\r\n  writing /tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/PKG-INFO\r\n  writing dependency_links to /tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/dependency_links.txt\r\n  writing requirements to /tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/requires.txt\r\n  writing top-level names to /tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/top_level.txt\r\n  writing manifest file '/tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/SOURCES.txt'\r\n  reading manifest file '/tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/SOURCES.txt'\r\n  reading manifest template 'MANIFEST.in'\r\n  no previously-included directories found matching '**/__pycache__'\r\n  adding license file 'LICENSE'\r\n  writing manifest file '/tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.egg-info/SOURCES.txt'\r\n  creating '/tmp/pip-modern-metadata-2tke0rjw/domdf_python_tools.dist-info'\r\n  adding license file \"LICENSE\" (matched pattern \"LICEN[CS]E*\")\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nBuilding wheels for collected packages: domdf-python-tools\r\n  Building wheel for domdf-python-tools (pyproject.toml): started\r\n  Running command /tmp/venv/bin/python3 /tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py build_wheel /tmp/tmp_1m0sf3w\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib\r\n  creating build/lib/domdf_python_tools\r\n  copying domdf_python_tools/bases.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/paths.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/secrets.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/dates.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/delegators.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/import_tools.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/versions.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/iterative.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/utils.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/__init__.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/terminal.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/typing.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/words.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/doctools.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/stringlist.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/_is_match.py -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/pretty_print.py -> build/lib/domdf_python_tools\r\n  creating build/lib/domdf_python_tools/pagesizes\r\n  copying domdf_python_tools/pagesizes/sizes.py -> build/lib/domdf_python_tools/pagesizes\r\n  copying domdf_python_tools/pagesizes/utils.py -> build/lib/domdf_python_tools/pagesizes\r\n  copying domdf_python_tools/pagesizes/classes.py -> build/lib/domdf_python_tools/pagesizes\r\n  copying domdf_python_tools/pagesizes/__init__.py -> build/lib/domdf_python_tools/pagesizes\r\n  copying domdf_python_tools/pagesizes/units.py -> build/lib/domdf_python_tools/pagesizes\r\n  creating build/lib/domdf_python_tools/compat\r\n  copying domdf_python_tools/compat/importlib_metadata.py -> build/lib/domdf_python_tools/compat\r\n  copying domdf_python_tools/compat/__init__.py -> build/lib/domdf_python_tools/compat\r\n  copying domdf_python_tools/compat/importlib_resources.py -> build/lib/domdf_python_tools/compat\r\n  running egg_info\r\n  creating domdf_python_tools.egg-info\r\n  writing domdf_python_tools.egg-info/PKG-INFO\r\n  writing dependency_links to domdf_python_tools.egg-info/dependency_links.txt\r\n  writing requirements to domdf_python_tools.egg-info/requires.txt\r\n  writing top-level names to domdf_python_tools.egg-info/top_level.txt\r\n  writing manifest file 'domdf_python_tools.egg-info/SOURCES.txt'\r\n  reading manifest file 'domdf_python_tools.egg-info/SOURCES.txt'\r\n  reading manifest template 'MANIFEST.in'\r\n  no previously-included directories found matching '**/__pycache__'\r\n  adding license file 'LICENSE'\r\n  writing manifest file 'domdf_python_tools.egg-info/SOURCES.txt'\r\n  copying domdf_python_tools/google-10000-english-no-swears.txt -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/py.typed -> build/lib/domdf_python_tools\r\n  copying domdf_python_tools/compat/importlib_metadata.pyi -> build/lib/domdf_python_tools/compat\r\n  copying domdf_python_tools/compat/importlib_resources.pyi -> build/lib/domdf_python_tools/compat\r\n  Traceback (most recent call last):\r\n    File \"/tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n      main()\r\n    File \"/tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"/tmp/venv/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 261, in build_wheel\r\n      return _build_backend().build_wheel(wheel_directory, config_settings,\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 221, in build_wheel\r\n      return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 150, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 20, in <module>\r\n      setup(\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/__init__.py\", line 159, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/usr/lib/python3.8/distutils/core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 966, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/wheel/bdist_wheel.py\", line 301, in run\r\n      install = self.reinitialize_command('install',\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/__init__.py\", line 214, in reinitialize_command\r\n      cmd = _Command.reinitialize_command(self, command, reinit_subcommands)\r\n    File \"/usr/lib/python3.8/distutils/cmd.py\", line 305, in reinitialize_command\r\n      return self.distribution.reinitialize_command(command,\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 938, in reinitialize_command\r\n      command = self.get_command_obj(command_name)\r\n    File \"/usr/lib/python3.8/distutils/dist.py\", line 858, in get_command_obj\r\n      cmd_obj = self.command_obj[command] = klass(self)\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/__init__.py\", line 178, in __init__\r\n      _Command.__init__(self, dist)\r\n    File \"/usr/lib/python3.8/distutils/cmd.py\", line 62, in __init__\r\n      self.initialize_options()\r\n    File \"/tmp/pip-build-env-myy0rzw0/overlay/lib/python3.8/site-packages/setuptools/command/install.py\", line 34, in initialize_options\r\n      warnings.warn(\r\n  setuptools._deprecation_warning.SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n  Building wheel for domdf-python-tools (pyproject.toml): finished with status 'error'\r\n  ERROR: Failed building wheel for domdf-python-tools\r\nFailed to build domdf-python-tools\r\nERROR: Failed to build one or more wheels\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2847/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2847/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2846", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2846/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2846/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2846/events", "html_url": "https://github.com/pypa/setuptools/issues/2846", "id": 1042768469, "node_id": "I_kwDOA0bv8c4-J2JV", "number": 2846, "title": "[BUG] NameError on deprecation warning in 58.4.0", "user": {"login": "austinweisgrau", "id": 62900254, "node_id": "MDQ6VXNlcjYyOTAwMjU0", "avatar_url": "https://avatars.githubusercontent.com/u/62900254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/austinweisgrau", "html_url": "https://github.com/austinweisgrau", "followers_url": "https://api.github.com/users/austinweisgrau/followers", "following_url": "https://api.github.com/users/austinweisgrau/following{/other_user}", "gists_url": "https://api.github.com/users/austinweisgrau/gists{/gist_id}", "starred_url": "https://api.github.com/users/austinweisgrau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/austinweisgrau/subscriptions", "organizations_url": "https://api.github.com/users/austinweisgrau/orgs", "repos_url": "https://api.github.com/users/austinweisgrau/repos", "events_url": "https://api.github.com/users/austinweisgrau/events{/privacy}", "received_events_url": "https://api.github.com/users/austinweisgrau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-02T20:15:40Z", "updated_at": "2021-11-03T21:59:52Z", "closed_at": "2021-11-03T21:59:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n58.4.0\n\n### Python version\n\nPython 3.6\n\n### OS\n\nUbuntu 18.04\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nA version conflict resulted in setuptools attempting to raise a class that no longer exists in 58.4.0, resulting in a crash.\n\n### Expected behavior\n\nThe class name should be called appropriately so that a NameError isn't raised\n\n### How to Reproduce\n\nIn particular, this happened when trying to launch gunicorn.\n\n### Output\n\n```console\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: Traceback (most recent call last):\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 573, in _build_master\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     ws.require(__requires__)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 891, in require\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     needed = self.resolve(parse_requirements(requirements))\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 782, in resolve\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     raise VersionConflict(dist, req).with_context(dependent_req)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: pkg_resources.VersionConflict: (gunicorn 19.10.0 (/home/ubuntu/.local/lib/python3.6/site-packages), Requirement.parse('gunicorn==19.7.1'))\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: During handling of the above exception, another exception occurred:\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: Traceback (most recent call last):\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 114, in parse_version\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     return packaging.version.Version(v)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/_vendor/packaging/version.py\", line 277, in __init__\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     raise InvalidVersion(\"Invalid version: '{0}'\".format(version))\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: pkg_resources.extern.packaging.version.InvalidVersion: Invalid version: '0.18ubuntu0.18.04.1'\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: During handling of the above exception, another exception occurred:\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: Traceback (most recent call last):\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/usr/bin/gunicorn3\", line 6, in <module>\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     from pkg_resources import load_entry_point\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 3247, in <module>\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     @_call_aside\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 3231, in _call_aside\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     f(*args, **kwargs)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 3260, in _initialize_master_working_set\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     working_set = WorkingSet._build_master()\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 575, in _build_master\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     return cls._build_from_requirements(__requires__)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 588, in _build_from_requirements\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     dists = ws.resolve(reqs, Environment())\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 975, in __init__\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     self.scan(search_path)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1008, in scan\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     self.add(dist)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1028, in add\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2604, in hashcmp\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     self.parsed_version,\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2651, in parsed_version\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     self._parsed_version = parse_version(self.version)\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:   File \"/home/ubuntu/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 119, in parse_version\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]:     PkgResourcesDeprecationWarning,\r\nNov 02 20:03:22 ip-172-31-23-12 gunicorn3[9718]: NameError: name 'PkgResourcesDeprecationWarning' is not defined\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2818", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2818/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2818/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2818/events", "html_url": "https://github.com/pypa/setuptools/issues/2818", "id": 1028141800, "node_id": "I_kwDOA0bv8c49SDLo", "number": 2818, "title": "[BUG] package directory does not exist wheel/sdist install with custom install/build_py cmdclass", "user": {"login": "AndrewAnnex", "id": 2126916, "node_id": "MDQ6VXNlcjIxMjY5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2126916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewAnnex", "html_url": "https://github.com/AndrewAnnex", "followers_url": "https://api.github.com/users/AndrewAnnex/followers", "following_url": "https://api.github.com/users/AndrewAnnex/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewAnnex/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewAnnex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewAnnex/subscriptions", "organizations_url": "https://api.github.com/users/AndrewAnnex/orgs", "repos_url": "https://api.github.com/users/AndrewAnnex/repos", "events_url": "https://api.github.com/users/AndrewAnnex/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewAnnex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-16T20:30:29Z", "updated_at": "2021-11-08T13:45:03Z", "closed_at": "2021-11-08T13:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n58.2.0\n\n### Python version\n\nPython 3.6-3.9\n\n### OS\n\nMacOS/Linux/Windows \n\n### Additional environment information\n\nI develop mainly on MacOS, currently 11.6, but the issue is occurring on Github CI workflows for my project on macos-latest, ubuntu-latest, windows-latest.\n\n### Description\n\nrunning python setup.py install on Github CI actions OR pip install dist/*.tar.gz (from sdist) results in a \"error: package directory 'spiceypy' does not exist\" error without a clear cause. I don't know the exact cause of the bug because any attempts to debug it with pycharm/strace haven't revealed anything clear. Build logs and other code changes can be seen at https://github.com/AndrewAnnex/SpiceyPy/pull/424. \r\n\r\nThe project is a ctypes wrapper project that needs to be able to build a large ansi C library I do not maintain from source into a shared library. I don't use distutils.Extension to build the library because I need to patch a few of the c source files for bug fixes and ARM builds, and I don't want to distribute the sources as there are platform dependent changes to the source files which are only distributed as compressed archives not in version control. The library does not import cpython anywhere so I want to avoid the complications of extension for now (although I do have a branch where I am experimenting with it https://github.com/AndrewAnnex/SpiceyPy/pull/426/) \r\n\r\nThe project has been building on various CI services for years, the only recent change has been a recent switch to cibuildwheels which necessitated the following addition to my setup.py:\r\n```python\r\n# https://stackoverflow.com/questions/45150304/how-to-force-a-python-wheel-to-be-platform-specific-when-building-it\r\n# http://lepture.com/en/2014/python-on-a-hard-wheel\r\ntry:\r\n    from wheel.bdist_wheel import bdist_wheel as _bdist_wheel\r\n\r\n    class generic_bdist_wheel(_bdist_wheel):\r\n        \"\"\"\r\n        override for bdist_wheel\r\n        \"\"\"\r\n\r\n        def finalize_options(self) -> None:\r\n            _bdist_wheel.finalize_options(self)\r\n            self.root_is_pure = False\r\n\r\n        def get_tag(self) -> (str, str, str):\r\n            python, abi, plat = _bdist_wheel.get_tag(self)\r\n            return \"py3\", \"none\", plat\r\n\r\n    # add our override to the cmdclass dict so we can inject this behavior\r\n    cmdclass[\"bdist_wheel\"] = generic_bdist_wheel\r\n\r\nexcept ImportError:\r\n    # we don't have wheel installed so there is nothing to change\r\n    pass\r\n\r\n```\r\n\r\nAgain I can't seem to get a debugger to pause in the right place so I think it is occurring right after build_py. Confusingly, python setup.py install seems to fail on my ci builds, but not locally on macos\r\n\n\n### Expected behavior\n\nI expect the build to continue, or at least to provide a more verbose reason the package is malformed\n\n### How to Reproduce\n\n1.  `git clone --single-branch --branch add_arm64_wheels git@github.com:AndrewAnnex/SpiceyPy.git`\r\n2.  `python setup.py sdist`\r\n3.  `pip install ./dist/spiceypy-4.0.2.tar.gz`\n\n### Output\n\n```console\r\nProcessing ./dist/spiceypy-4.0.2.tar.gz\r\nRequirement already satisfied: numpy>=1.17.0 in /Users/andrew/anaconda3/envs/SpiceyPy38/lib/python3.8/site-packages (from spiceypy==4.0.2) (1.19.4)\r\nBuilding wheels for collected packages: spiceypy\r\n  Building wheel for spiceypy (setup.py): started\r\n  Building wheel for spiceypy (setup.py): still running...\r\n  Building wheel for spiceypy (setup.py): still running...\r\n  Building wheel for spiceypy (setup.py): finished with status 'error'\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/andrew/anaconda3/envs/SpiceyPy38/bin/python3.8 -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/pip-req-build-nm4oqkxy/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/pip-req-build-nm4oqkxy/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/pip-wheel-7_2btvz9\r\n       cwd: /private/var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/pip-req-build-nm4oqkxy/\r\n  Complete output (1207 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  Preparing cspice\r\n  Downloading CSPICE src from NAIF\r\n  Gathering information...\r\n  SYSTEM:    Darwin\r\n  PROCESSOR: i386\r\n  MACHINE:   64bit x86_64\r\n  Downloading CSPICE for MacIntel_OSX_AppleC_64bit...\r\n  Unpacking... (this may take some time!)\r\n  end of prep: /var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/cspice_spiceypy_jao5akfe\r\n  Copying supplements\r\n  copy supplements to:  /var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/cspice_spiceypy_jao5akfe\r\n  Apply patches\r\n  Applying Patch 0001-patch-for-n66-dskx02.c.patch\r\n  0001-patch-for-n66-dskx02.c.patch:115: trailing whitespace.\r\n  \t\t    i__2, \"dskx02_\", (ftnlen)1240)] = (voxlst[(i__3 = j + i__\r\n  0001-patch-for-n66-dskx02.c.patch:137: trailing whitespace.\r\n  \t\t\ts_rnge(\"vxlcg\", i__2, \"dskx02_\", (ftnlen)1257)] =\r\n  0001-patch-for-n66-dskx02.c.patch:147: trailing whitespace.\r\n  \t\t    \"str\", i__2, \"dskx02_\", (ftnlen)1262)] = cgrptr[(i__3 =\r\n  0001-patch-for-n66-dskx02.c.patch:162: trailing whitespace.\r\n  \t\t    s_rnge(\"voxlst\", i__2, \"dskx02_\", (ftnlen)1327)] - cgscal\r\n  0001-patch-for-n66-dskx02.c.patch:168: trailing whitespace.\r\n  \t\t    s_rnge(\"voxlst\", i__2, \"dskx02_\", (ftnlen)1328)] - cgscal\r\n  Checking patch cspice/src/cspice/dskx02.c...\r\n  Applied patch cspice/src/cspice/dskx02.c cleanly.\r\n  warning: squelched 8 whitespace errors\r\n  warning: 13 lines add whitespace errors.\r\n  Applying Patch 0002-patch-for-n66-subpnt.c.patch\r\n  Checking patch cspice/src/cspice/subpnt.c...\r\n  Applied patch cspice/src/cspice/subpnt.c cleanly.\r\n  Applying Patch 0004_inquire_unistd.patch\r\n  Checking patch cspice/src/cspice/inquire.c...\r\n  Applied patch cspice/src/cspice/inquire.c cleanly.\r\n  Building cspice\r\n  ./cspice/src/cspice/ckgr02.c:337:28: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = beg + (*recno - 1 << 3);\r\n                      ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/ckgr02.c:337:28: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = beg + (*recno - 1 << 3);\r\n                             ^\r\n                      (         )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/ckr02.c:648:29: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      n = beg + (skip + index - 1 << 3);\r\n                 ~~~~~~~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/ckr02.c:648:29: note: place parentheses around the '-' expression to silence this warning\r\n      n = beg + (skip + index - 1 << 3);\r\n                              ^\r\n                 (               )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/dafbt.c:628:17: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n      snmlen = nd + (ni + 1) / 2 << 3;\r\n               ~~~^~~~~~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/dafbt.c:628:17: note: place parentheses around the '+' expression to silence this warning\r\n      snmlen = nd + (ni + 1) / 2 << 3;\r\n                  ^\r\n               (                )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/dafrwa.c:159:33: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      *addr__ = *wordno + (*recno - 1 << 7);\r\n                           ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/dafrwa.c:159:33: note: place parentheses around the '-' expression to silence this warning\r\n      *addr__ = *wordno + (*recno - 1 << 7);\r\n                                  ^\r\n                           (         )\r\n  ./cspice/src/cspice/dafrwa.c:303:33: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      *wordno = *addr__ - (*recno - 1 << 7);\r\n                           ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/dafrwa.c:303:33: note: place parentheses around the '-' expression to silence this warning\r\n      *wordno = *addr__ - (*recno - 1 << 7);\r\n                                  ^\r\n                           (         )\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/daftb.c:548:17: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n      snmlen = nd + (ni + 1) / 2 << 3;\r\n               ~~~^~~~~~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/daftb.c:548:17: note: place parentheses around the '+' expression to silence this warning\r\n      snmlen = nd + (ni + 1) / 2 << 3;\r\n                  ^\r\n               (                )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/dasac.c:462:27: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          curpos = ncomc - (rinuse - 1 << 10) + 1;\r\n                            ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/dasac.c:462:27: note: place parentheses around the '-' expression to silence this warning\r\n          curpos = ncomc - (rinuse - 1 << 10) + 1;\r\n                                   ^\r\n                            (         )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/dfe.c:97:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_dfe(a))return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/dfe.c:97:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_dfe(a))return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/dfe.c:97:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_dfe(a))return(n);\r\n              ^\r\n              ==\r\n  ./cspice/src/cspice/dfe.c:119:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_dfe(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/dfe.c:119:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_dfe(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/dfe.c:119:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_dfe(a)) return(n);\r\n              ^\r\n              ==\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/due.c:36:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_due(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/due.c:36:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_due(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/due.c:36:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_due(a)) return(n);\r\n              ^\r\n              ==\r\n  ./cspice/src/cspice/due.c:49:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_due(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/due.c:49:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_due(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/due.c:49:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_due(a)) return(n);\r\n              ^\r\n              ==\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/ekqmgr.c:5076:28: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  ptroff = nsv + 4 + (nseg - 1 << 1) + 1;\r\n                                      ~~~~~^~~ ~~\r\n  ./cspice/src/cspice/ekqmgr.c:5076:28: note: place parentheses around the '-' expression to silence this warning\r\n                  ptroff = nsv + 4 + (nseg - 1 << 1) + 1;\r\n                                           ^\r\n                                      (       )\r\n  1 warning generated.\r\n  ./cspice/src/cspice/endfile.c:30:27: warning: format specifies type 'long' but the argument has type 'ftnint' (aka 'int') [-Wformat]\r\n                  sprintf(nbuf,\"fort.%ld\",a->aunit);\r\n                                     ~~~  ^~~~~~~~\r\n                                     %d\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro 'sprintf'\r\n    __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)\r\n                                                         ^~~~~~~~~~~\r\n  ./cspice/src/cspice/endfile.c:31:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                  if (tf = fopen(nbuf, f__w_mode[0]))\r\n                      ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/endfile.c:31:10: note: place parentheses around the assignment to silence this warning\r\n                  if (tf = fopen(nbuf, f__w_mode[0]))\r\n                         ^\r\n                      (                             )\r\n  ./cspice/src/cspice/endfile.c:31:10: note: use '==' to turn this assignment into an equality comparison\r\n                  if (tf = fopen(nbuf, f__w_mode[0]))\r\n                         ^\r\n                         ==\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/getenv_.c:159:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n     while (ep = *env++)\r\n            ~~~^~~~~~~~\r\n  ./cspice/src/cspice/getenv_.c:159:14: note: place parentheses around the assignment to silence this warning\r\n     while (ep = *env++)\r\n               ^\r\n            (          )\r\n  ./cspice/src/cspice/getenv_.c:159:14: note: use '==' to turn this assignment into an equality comparison\r\n     while (ep = *env++)\r\n               ^\r\n               ==\r\n  1 warning generated.\r\n  ./cspice/src/cspice/iio.c:84:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_si(a)) return(n);\r\n             ~^~~~~~~~\r\n  ./cspice/src/cspice/iio.c:84:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_si(a)) return(n);\r\n              ^\r\n             (        )\r\n  ./cspice/src/cspice/iio.c:84:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_si(a)) return(n);\r\n              ^\r\n              ==\r\n  ./cspice/src/cspice/iio.c:115:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_si(a)) return(n);\r\n             ~^~~~~~~~\r\n  ./cspice/src/cspice/iio.c:115:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_si(a)) return(n);\r\n              ^\r\n             (        )\r\n  ./cspice/src/cspice/iio.c:115:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_si(a)) return(n);\r\n              ^\r\n              ==\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/inquire.c:59:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else *a->inex=0;\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:62:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else *a->inopen=(p!=NULL && p->ufd!=NULL);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:67:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    *a->innamed=0;\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:71:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else if(p!=NULL && p->ufnm!=NULL)\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:76:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    b_char(\"SEQUENTIAL\",a->inacc,a->inacclen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:80:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    b_char(\"YES\",a->inseq,a->inseqlen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:84:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    b_char(\"NO\",a->indir,a->indirlen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:88:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    b_char(\"FORMATTED\",a->infmt,a->infmtlen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:92:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else b_char(\"YES\",a->inform,a->informlen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:96:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else if (p!=NULL) b_char(\"NO\",a->inunf,a->inunflen);\r\n                  ^\r\n  ./cspice/src/cspice/inquire.c:105:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else    b_char(\"NULL\",a->inblank,a->inblanklen);\r\n                  ^\r\n  11 warnings generated.\r\n  ./cspice/src/cspice/lbitbits.c:44:44: warning: operator '>>' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                          return (integer)(x << b | x >> LONGBITS -b );\r\n                                                      ~~ ~~~~~~~~~^~\r\n  ./cspice/src/cspice/lbitbits.c:44:44: note: place parentheses around the '-' expression to silence this warning\r\n                          return (integer)(x << b | x >> LONGBITS -b );\r\n                                                         ~~~~~~~~~^~\r\n  ./cspice/src/cspice/lbitbits.c:48:34: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  return (integer)(x << LONGBITS - b | x >> b);\r\n                                     ~~ ~~~~~~~~~^~~\r\n  ./cspice/src/cspice/lbitbits.c:48:34: note: place parentheses around the '-' expression to silence this warning\r\n                  return (integer)(x << LONGBITS - b | x >> b);\r\n                                        ~~~~~~~~~^~~\r\n  ./cspice/src/cspice/lbitbits.c:57:47: warning: operator '>>' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  return (integer)(y | z & (x << b | x >> len - b));\r\n                                                       ~~ ~~~~^~~\r\n  ./cspice/src/cspice/lbitbits.c:57:47: note: place parentheses around the '-' expression to silence this warning\r\n                  return (integer)(y | z & (x << b | x >> len - b));\r\n                                                              ^\r\n                                                          (      )\r\n  ./cspice/src/cspice/lbitbits.c:61:46: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          return (integer)(y | z & (x >> b | x << len - b));\r\n                                               ~~ ~~~~^~~\r\n  ./cspice/src/cspice/lbitbits.c:61:46: note: place parentheses around the '-' expression to silence this warning\r\n          return (integer)(y | z & (x >> b | x << len - b));\r\n                                                      ^\r\n                                                  (      )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/lread.c:289:4: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                          else\r\n                          ^\r\n  ./cspice/src/cspice/lread.c:309:9: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if (ch = l_R(1,0))\r\n              ~~~^~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:309:9: note: place parentheses around the assignment to silence this warning\r\n          if (ch = l_R(1,0))\r\n                 ^\r\n              (            )\r\n  ./cspice/src/cspice/lread.c:309:9: note: use '==' to turn this assignment into an equality comparison\r\n          if (ch = l_R(1,0))\r\n                 ^\r\n                 ==\r\n  ./cspice/src/cspice/lread.c:321:9: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if (ch = l_R(1,0))\r\n              ~~~^~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:321:9: note: place parentheses around the assignment to silence this warning\r\n          if (ch = l_R(1,0))\r\n                 ^\r\n              (            )\r\n  ./cspice/src/cspice/lread.c:321:9: note: use '==' to turn this assignment into an equality comparison\r\n          if (ch = l_R(1,0))\r\n                 ^\r\n                 ==\r\n  ./cspice/src/cspice/lread.c:350:4: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                          else\r\n                          ^\r\n  ./cspice/src/cspice/lread.c:590:4: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          ERR(l_R(0,1));\r\n                          ^~~~~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                    ~^~~~\r\n  ./cspice/src/cspice/lread.c:590:4: note: place parentheses around the assignment to silence this warning\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:590:4: note: use '==' to turn this assignment into an equality comparison\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:595:4: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          ERR(l_R(0,0));\r\n                          ^~~~~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                    ~^~~~\r\n  ./cspice/src/cspice/lread.c:595:4: note: place parentheses around the assignment to silence this warning\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:595:4: note: use '==' to turn this assignment into an equality comparison\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:606:4: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          ERR(l_C());\r\n                          ^~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                    ~^~~~\r\n  ./cspice/src/cspice/lread.c:606:4: note: place parentheses around the assignment to silence this warning\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:606:4: note: use '==' to turn this assignment into an equality comparison\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:611:4: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          ERR(l_L());\r\n                          ^~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                    ~^~~~\r\n  ./cspice/src/cspice/lread.c:611:4: note: place parentheses around the assignment to silence this warning\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:611:4: note: use '==' to turn this assignment into an equality comparison\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:614:4: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          ERR(l_CHAR());\r\n                          ^~~~~~~~~~~~~\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                    ~^~~~\r\n  ./cspice/src/cspice/lread.c:614:4: note: place parentheses around the assignment to silence this warning\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:614:4: note: use '==' to turn this assignment into an equality comparison\r\n  ./cspice/src/cspice/lread.c:101:20: note: expanded from macro 'ERR'\r\n  #define ERR(x) if(n=(x)) return(n)\r\n                     ^\r\n  ./cspice/src/cspice/lread.c:687:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_le(a)) return(n);\r\n             ~^~~~~~~~\r\n  ./cspice/src/cspice/lread.c:687:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_le(a)) return(n);\r\n              ^\r\n             (        )\r\n  ./cspice/src/cspice/lread.c:687:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_le(a)) return(n);\r\n              ^\r\n              ==\r\n  10 warnings generated.\r\n  ./cspice/src/cspice/lwrite.c:134:15: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          while(b[0] = b[1])\r\n                                ~~~~~^~~~~~\r\n  ./cspice/src/cspice/lwrite.c:134:15: note: place parentheses around the assignment to silence this warning\r\n                          while(b[0] = b[1])\r\n                                     ^\r\n                                (          )\r\n  ./cspice/src/cspice/lwrite.c:134:15: note: use '==' to turn this assignment into an equality comparison\r\n                          while(b[0] = b[1])\r\n                                     ^\r\n                                     ==\r\n  ./cspice/src/cspice/lwrite.c:159:32: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                  for(c1 = '.', c = 'E';  *b = c1;\r\n                                                          ~~~^~~~\r\n  ./cspice/src/cspice/lwrite.c:159:32: note: place parentheses around the assignment to silence this warning\r\n                                  for(c1 = '.', c = 'E';  *b = c1;\r\n                                                             ^\r\n                                                          (      )\r\n  ./cspice/src/cspice/lwrite.c:159:32: note: use '==' to turn this assignment into an equality comparison\r\n                                  for(c1 = '.', c = 'E';  *b = c1;\r\n                                                             ^\r\n                                                             ==\r\n  ./cspice/src/cspice/lwrite.c:183:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          while(c = *s++)\r\n                ~~^~~~~~\r\n  ./cspice/src/cspice/lwrite.c:183:10: note: place parentheses around the assignment to silence this warning\r\n          while(c = *s++)\r\n                  ^\r\n                (       )\r\n  ./cspice/src/cspice/lwrite.c:183:10: note: use '==' to turn this assignment into an equality comparison\r\n          while(c = *s++)\r\n                  ^\r\n                  ==\r\n  3 warnings generated.\r\n  ./cspice/src/cspice/open.c:285:32: warning: format specifies type 'long' but the argument has type 'ftnint' (aka 'int') [-Wformat]\r\n        sprintf(buf, \"fort.%ld\", a->ounit);\r\n                           ~~~   ^~~~~~~~\r\n                           %d\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro 'sprintf'\r\n    __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)\r\n                                                         ^~~~~~~~~~~\r\n  ./cspice/src/cspice/open.c:382:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n        if (tf = fopen(buf,f__w_mode[0]))\r\n            ~~~^~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/open.c:382:14: note: place parentheses around the assignment to silence this warning\r\n        if (tf = fopen(buf,f__w_mode[0]))\r\n               ^\r\n            (                           )\r\n  ./cspice/src/cspice/open.c:382:14: note: use '==' to turn this assignment into an equality comparison\r\n        if (tf = fopen(buf,f__w_mode[0]))\r\n               ^\r\n               ==\r\n  ./cspice/src/cspice/open.c:392:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n        if (tf = fopen(buf, f__r_mode[ufmt]))\r\n            ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/open.c:392:14: note: place parentheses around the assignment to silence this warning\r\n        if (tf = fopen(buf, f__r_mode[ufmt]))\r\n               ^\r\n            (                               )\r\n  ./cspice/src/cspice/open.c:392:14: note: use '==' to turn this assignment into an equality comparison\r\n        if (tf = fopen(buf, f__r_mode[ufmt]))\r\n               ^\r\n               ==\r\n  ./cspice/src/cspice/open.c:394:19: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n        else if (tf = fopen(buf, f__w_mode[ufmt])) {\r\n                 ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/open.c:394:19: note: place parentheses around the assignment to silence this warning\r\n        else if (tf = fopen(buf, f__w_mode[ufmt])) {\r\n                    ^\r\n                 (                               )\r\n  ./cspice/src/cspice/open.c:394:19: note: use '==' to turn this assignment into an equality comparison\r\n        else if (tf = fopen(buf, f__w_mode[ufmt])) {\r\n                    ^\r\n                    ==\r\n  ./cspice/src/cspice/open.c:413:7: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n        else if ((s = a->oacc) && (*s == 'a' || *s == 'A')\r\n        ^\r\n  ./cspice/src/cspice/open.c:434:35: warning: format specifies type 'long' but the argument has type 'ftnint' (aka 'int') [-Wformat]\r\n     (void) sprintf(nbuf,\"fort.%ld\",n);\r\n                               ~~~  ^\r\n                               %d\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro 'sprintf'\r\n    __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)\r\n                                                         ^~~~~~~~~~~\r\n  6 warnings generated.\r\n  ./cspice/src/cspice/rdfmt.c:34:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                  while(ch = *s++)\r\n                        ~~~^~~~~~\r\n  ./cspice/src/cspice/rdfmt.c:34:12: note: place parentheses around the assignment to silence this warning\r\n                  while(ch = *s++)\r\n                           ^\r\n                        (        )\r\n  ./cspice/src/cspice/rdfmt.c:34:12: note: use '==' to turn this assignment into an equality comparison\r\n                  while(ch = *s++)\r\n                           ^\r\n                           ==\r\n  ./cspice/src/cspice/rdfmt.c:37:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                  while(ch = *s++)\r\n                        ~~~^~~~~~\r\n  ./cspice/src/cspice/rdfmt.c:37:12: note: place parentheses around the assignment to silence this warning\r\n                  while(ch = *s++)\r\n                           ^\r\n                        (        )\r\n  ./cspice/src/cspice/rdfmt.c:37:12: note: use '==' to turn this assignment into an equality comparison\r\n                  while(ch = *s++)\r\n                           ^\r\n                           ==\r\n  ./cspice/src/cspice/rdfmt.c:66:9: warning: operator '>>' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n          w2 = w1+1 >> 1;\r\n               ~~^~ ~~\r\n  ./cspice/src/cspice/rdfmt.c:66:9: note: place parentheses around the '+' expression to silence this warning\r\n          w2 = w1+1 >> 1;\r\n                 ^\r\n               (   )\r\n  ./cspice/src/cspice/rdfmt.c:88:23: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  *t = hex[*s0 & 0xff]-1 << 4 | hex[s0[1] & 0xff]-1;\r\n                       ~~~~~~~~~~~~~~~^~ ~~\r\n  ./cspice/src/cspice/rdfmt.c:88:23: note: place parentheses around the '-' expression to silence this warning\r\n                  *t = hex[*s0 & 0xff]-1 << 4 | hex[s0[1] & 0xff]-1;\r\n                                      ^\r\n                       (                )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/rsfe.c:221:8: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n     if(n=c_sfe(a))\r\n        ~^~~~~~~~~\r\n  ./cspice/src/cspice/rsfe.c:221:8: note: place parentheses around the assignment to silence this warning\r\n     if(n=c_sfe(a))\r\n         ^\r\n        (         )\r\n  ./cspice/src/cspice/rsfe.c:221:8: note: use '==' to turn this assignment into an equality comparison\r\n     if(n=c_sfe(a))\r\n         ^\r\n         ==\r\n  1 warning generated.\r\n  ./cspice/src/cspice/rsne.c:81:15: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          for(x = 0; c = *s++; x = x & 0x4000 ? ((x << 1) & 0x7fff) + 1 : x << 1)\r\n                     ~~^~~~~~\r\n  ./cspice/src/cspice/rsne.c:81:15: note: place parentheses around the assignment to silence this warning\r\n          for(x = 0; c = *s++; x = x & 0x4000 ? ((x << 1) & 0x7fff) + 1 : x << 1)\r\n                       ^\r\n                     (       )\r\n  ./cspice/src/cspice/rsne.c:81:15: note: use '==' to turn this assignment into an equality comparison\r\n          for(x = 0; c = *s++; x = x & 0x4000 ? ((x << 1) & 0x7fff) + 1 : x << 1)\r\n                       ^\r\n                       ==\r\n  ./cspice/src/cspice/rsne.c:102:23: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          for(x = &nl_cache; y = *x; x0 = x, x = &y->next)\r\n                             ~~^~~~\r\n  ./cspice/src/cspice/rsne.c:102:23: note: place parentheses around the assignment to silence this warning\r\n          for(x = &nl_cache; y = *x; x0 = x, x = &y->next)\r\n                               ^\r\n                             (     )\r\n  ./cspice/src/cspice/rsne.c:102:23: note: use '==' to turn this assignment into an equality comparison\r\n          for(x = &nl_cache; y = *x; x0 = x, x = &y->next)\r\n                               ^\r\n                               ==\r\n  ./cspice/src/cspice/rsne.c:154:42: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          for(s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"; c = *s++; )\r\n                                                ~~^~~~~~\r\n  ./cspice/src/cspice/rsne.c:154:42: note: place parentheses around the assignment to silence this warning\r\n          for(s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"; c = *s++; )\r\n                                                  ^\r\n                                                (       )\r\n  ./cspice/src/cspice/rsne.c:154:42: note: use '==' to turn this assignment into an equality comparison\r\n          for(s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"; c = *s++; )\r\n                                                  ^\r\n                                                  ==\r\n  ./cspice/src/cspice/rsne.c:160:27: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          for(s = \"0123456789_\"; c = *s++; )\r\n                                 ~~^~~~~~\r\n  ./cspice/src/cspice/rsne.c:160:27: note: place parentheses around the assignment to silence this warning\r\n          for(s = \"0123456789_\"; c = *s++; )\r\n                                   ^\r\n                                 (       )\r\n  ./cspice/src/cspice/rsne.c:160:27: note: use '==' to turn this assignment into an equality comparison\r\n          for(s = \"0123456789_\"; c = *s++; )\r\n                                   ^\r\n                                   ==\r\n  ./cspice/src/cspice/rsne.c:183:11: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          while(*s = Alphanum[GETC(ch) & 0xff])\r\n                ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:183:11: note: place parentheses around the assignment to silence this warning\r\n          while(*s = Alphanum[GETC(ch) & 0xff])\r\n                   ^\r\n                (                             )\r\n  ./cspice/src/cspice/rsne.c:183:11: note: use '==' to turn this assignment into an equality comparison\r\n          while(*s = Alphanum[GETC(ch) & 0xff])\r\n                   ^\r\n                   ==\r\n  ./cspice/src/cspice/rsne.c:238:8: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if (k = getnum(chp, x1))\r\n              ~~^~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:238:8: note: place parentheses around the assignment to silence this warning\r\n          if (k = getnum(chp, x1))\r\n                ^\r\n              (                  )\r\n  ./cspice/src/cspice/rsne.c:238:8: note: use '==' to turn this assignment into an equality comparison\r\n          if (k = getnum(chp, x1))\r\n                ^\r\n                ==\r\n  ./cspice/src/cspice/rsne.c:242:9: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                  if (k = getnum(chp, &x2))\r\n                      ~~^~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:242:9: note: place parentheses around the assignment to silence this warning\r\n                  if (k = getnum(chp, &x2))\r\n                        ^\r\n                      (                   )\r\n  ./cspice/src/cspice/rsne.c:242:9: note: use '==' to turn this assignment into an equality comparison\r\n                  if (k = getnum(chp, &x2))\r\n                        ^\r\n                        ==\r\n  ./cspice/src/cspice/rsne.c:246:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          if (k = getnum(chp, &x3))\r\n                              ~~^~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:246:10: note: place parentheses around the assignment to silence this warning\r\n                          if (k = getnum(chp, &x3))\r\n                                ^\r\n                              (                   )\r\n  ./cspice/src/cspice/rsne.c:246:10: note: use '==' to turn this assignment into an equality comparison\r\n                          if (k = getnum(chp, &x3))\r\n                                ^\r\n                                ==\r\n  ./cspice/src/cspice/rsne.c:343:9: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if (ch = getname(buf,sizeof(buf)))\r\n              ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:343:9: note: place parentheses around the assignment to silence this warning\r\n          if (ch = getname(buf,sizeof(buf)))\r\n                 ^\r\n              (                            )\r\n  ./cspice/src/cspice/rsne.c:343:9: note: use '==' to turn this assignment into an equality comparison\r\n          if (ch = getname(buf,sizeof(buf)))\r\n                 ^\r\n                 ==\r\n  ./cspice/src/cspice/rsne.c:398:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                  if (ch = getname(buf,sizeof(buf)))\r\n                                      ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:398:12: note: place parentheses around the assignment to silence this warning\r\n                                  if (ch = getname(buf,sizeof(buf)))\r\n                                         ^\r\n                                      (                            )\r\n  ./cspice/src/cspice/rsne.c:398:12: note: use '==' to turn this assignment into an equality comparison\r\n                                  if (ch = getname(buf,sizeof(buf)))\r\n                                         ^\r\n                                         ==\r\n  ./cspice/src/cspice/rsne.c:422:11: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                  if (k = getdimen(&ch, dn, (ftnlen)size,\r\n                                      ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:422:11: note: place parentheses around the assignment to silence this warning\r\n                                  if (k = getdimen(&ch, dn, (ftnlen)size,\r\n                                        ^\r\n                                      (\r\n  ./cspice/src/cspice/rsne.c:422:11: note: use '==' to turn this assignment into an equality comparison\r\n                                  if (k = getdimen(&ch, dn, (ftnlen)size,\r\n                                        ^\r\n                                        ==\r\n  ./cspice/src/cspice/rsne.c:439:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          if (k = getdimen(&ch, dn, size, nomax, &b))\r\n                              ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:439:10: note: place parentheses around the assignment to silence this warning\r\n                          if (k = getdimen(&ch, dn, size, nomax, &b))\r\n                                ^\r\n                              (                                     )\r\n  ./cspice/src/cspice/rsne.c:439:10: note: use '==' to turn this assignment into an equality comparison\r\n                          if (k = getdimen(&ch, dn, size, nomax, &b))\r\n                                ^\r\n                                ==\r\n  ./cspice/src/cspice/rsne.c:450:11: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                  if (k = getdimen(&ch, dn1, dn->delta**dims,\r\n                                      ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:450:11: note: place parentheses around the assignment to silence this warning\r\n                                  if (k = getdimen(&ch, dn1, dn->delta**dims,\r\n                                        ^\r\n                                      (\r\n  ./cspice/src/cspice/rsne.c:450:11: note: use '==' to turn this assignment into an equality comparison\r\n                                  if (k = getdimen(&ch, dn1, dn->delta**dims,\r\n                                        ^\r\n                                        ==\r\n  ./cspice/src/cspice/rsne.c:470:11: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                  if (k = getdimen(&ch, &substr, size, size, &b))\r\n                                      ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:470:11: note: place parentheses around the assignment to silence this warning\r\n                                  if (k = getdimen(&ch, &substr, size, size, &b))\r\n                                        ^\r\n                                      (                                         )\r\n  ./cspice/src/cspice/rsne.c:470:11: note: use '==' to turn this assignment into an equality comparison\r\n                                  if (k = getdimen(&ch, &substr, size, size, &b))\r\n                                        ^\r\n                                        ==\r\n  ./cspice/src/cspice/rsne.c:505:17: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                  else if (dims = v->dims) {\r\n                           ~~~~~^~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:505:17: note: place parentheses around the assignment to silence this warning\r\n                  else if (dims = v->dims) {\r\n                                ^\r\n                           (             )\r\n  ./cspice/src/cspice/rsne.c:505:17: note: use '==' to turn this assignment into an equality comparison\r\n                  else if (dims = v->dims) {\r\n                                ^\r\n                                ==\r\n  ./cspice/src/cspice/rsne.c:525:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          if (k = l_read(&no1, vaddr + iva, size, type))\r\n                              ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:525:10: note: place parentheses around the assignment to silence this warning\r\n                          if (k = l_read(&no1, vaddr + iva, size, type))\r\n                                ^\r\n                              (                                        )\r\n  ./cspice/src/cspice/rsne.c:525:10: note: use '==' to turn this assignment into an equality comparison\r\n                          if (k = l_read(&no1, vaddr + iva, size, type))\r\n                                ^\r\n                                ==\r\n  ./cspice/src/cspice/rsne.c:536:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                                          if (k = l_read(&no1, vaddr + iva,\r\n                                              ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:536:12: note: place parentheses around the assignment to silence this warning\r\n                                          if (k = l_read(&no1, vaddr + iva,\r\n                                                ^\r\n                                              (\r\n  ./cspice/src/cspice/rsne.c:536:12: note: use '==' to turn this assignment into an equality comparison\r\n                                          if (k = l_read(&no1, vaddr + iva,\r\n                                                ^\r\n                                                ==\r\n  ./cspice/src/cspice/rsne.c:546:5: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                                  else for(;;) {\r\n                                  ^\r\n  ./cspice/src/cspice/rsne.c:597:7: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n = c_le(a))\r\n             ~~^~~~~~~~~\r\n  ./cspice/src/cspice/rsne.c:597:7: note: place parentheses around the assignment to silence this warning\r\n          if(n = c_le(a))\r\n               ^\r\n             (          )\r\n  ./cspice/src/cspice/rsne.c:597:7: note: use '==' to turn this assignment into an equality comparison\r\n          if(n = c_le(a))\r\n               ^\r\n               ==\r\n  19 warnings generated.\r\n  ./cspice/src/cspice/sgseqw.c:1992:13: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n      nc = nd + (ni + 1) / 2 << 3;\r\n           ~~~^~~~~~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/sgseqw.c:1992:13: note: place parentheses around the '+' expression to silence this warning\r\n      nc = nd + (ni + 1) / 2 << 3;\r\n              ^\r\n           (                )\r\n  ./cspice/src/cspice/sgseqw.c:2397:13: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n      nc = nd + (ni + 1) / 2 << 3;\r\n           ~~~^~~~~~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/sgseqw.c:2397:13: note: place parentheses around the '+' expression to silence this warning\r\n      nc = nd + (ni + 1) / 2 << 3;\r\n              ^\r\n           (                )\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/signal_.c:14:9: warning: cast to smaller integer type 'ftnint' (aka 'int') from 'void (*)(int)' [-Wpointer-to-int-cast]\r\n          return (ftnint)signal(sig, proc);\r\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n  1 warning generated.\r\n  ./cspice/src/cspice/sue.c:34:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_sue(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/sue.c:34:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_sue(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/sue.c:34:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_sue(a)) return(n);\r\n              ^\r\n              ==\r\n  ./cspice/src/cspice/sue.c:57:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_sue(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/sue.c:57:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_sue(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/sue.c:57:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_sue(a)) return(n);\r\n              ^\r\n              ==\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/tisbod.c:1276:55: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n              moved_(tcoef, &c__200, &btcoef[(i__1 = (at * 100 + 1 << 1) - 202)\r\n                                                      ~~~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/tisbod.c:1276:55: note: place parentheses around the '+' expression to silence this warning\r\n              moved_(tcoef, &c__200, &btcoef[(i__1 = (at * 100 + 1 << 1) - 202)\r\n                                                               ^\r\n                                                      (           )\r\n  ./cspice/src/cspice/tisbod.c:1340:35: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n              theta = (btcoef[(i__1 = (i__ + at * 100 << 1) - 202) < 31400 && 0\r\n                                       ~~~~^~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/tisbod.c:1340:35: note: place parentheses around the '+' expression to silence this warning\r\n              theta = (btcoef[(i__1 = (i__ + at * 100 << 1) - 202) < 31400 && 0\r\n                                           ^\r\n                                       (             )\r\n  ./cspice/src/cspice/tisbod.c:1342:55: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n                      ftnlen)1196)] + epoch / t * btcoef[(i__3 = (i__ + at *\r\n                                                                  ~~~~^~~~~~\r\n  ./cspice/src/cspice/tisbod.c:1342:55: note: place parentheses around the '+' expression to silence this warning\r\n                      ftnlen)1196)] + epoch / t * btcoef[(i__3 = (i__ + at *\r\n                                                                      ^\r\n                                                                  (\r\n  ./cspice/src/cspice/tisbod.c:1345:35: warning: operator '<<' has lower precedence than '+'; '+' will be evaluated first [-Wshift-op-parentheses]\r\n              dtheta = btcoef[(i__1 = (i__ + at * 100 << 1) - 201) < 31400 && 0\r\n                                       ~~~~^~~~~~~~~~ ~~\r\n  ./cspice/src/cspice/tisbod.c:1345:35: note: place parentheses around the '+' expression to silence this warning\r\n              dtheta = btcoef[(i__1 = (i__ + at * 100 << 1) - 201) < 31400 && 0\r\n                                           ^\r\n                                       (             )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/wref.c:131:29: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n                          for(s -= 2, e1 = 2; s[0] = s[1]; s++)\r\n                                              ~~~~~^~~~~~\r\n  ./cspice/src/cspice/wref.c:131:29: note: place parentheses around the assignment to silence this warning\r\n                          for(s -= 2, e1 = 2; s[0] = s[1]; s++)\r\n                                                   ^\r\n                                              (          )\r\n  ./cspice/src/cspice/wref.c:131:29: note: use '==' to turn this assignment into an equality comparison\r\n                          for(s -= 2, e1 = 2; s[0] = s[1]; s++)\r\n                                                   ^\r\n                                                   ==\r\n  ./cspice/src/cspice/wref.c:221:8: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if (n = f__scale)\r\n              ~~^~~~~~~~~~\r\n  ./cspice/src/cspice/wref.c:221:8: note: place parentheses around the assignment to silence this warning\r\n          if (n = f__scale)\r\n                ^\r\n              (           )\r\n  ./cspice/src/cspice/wref.c:221:8: note: use '==' to turn this assignment into an equality comparison\r\n          if (n = f__scale)\r\n                ^\r\n                ==\r\n  ./cspice/src/cspice/wref.c:224:3: warning: add explicit braces to avoid dangling else [-Wdangling-else]\r\n                  else\r\n                  ^\r\n  ./cspice/src/cspice/wref.c:271:10: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          while(n = *b++)\r\n                ~~^~~~~~\r\n  ./cspice/src/cspice/wref.c:271:10: note: place parentheses around the assignment to silence this warning\r\n          while(n = *b++)\r\n                  ^\r\n                (       )\r\n  ./cspice/src/cspice/wref.c:271:10: note: use '==' to turn this assignment into an equality comparison\r\n          while(n = *b++)\r\n                  ^\r\n                  ==\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/wsfe.c:53:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_sfe(a)) return(n);\r\n             ~^~~~~~~~~\r\n  ./cspice/src/cspice/wsfe.c:53:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_sfe(a)) return(n);\r\n              ^\r\n             (         )\r\n  ./cspice/src/cspice/wsfe.c:53:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_sfe(a)) return(n);\r\n              ^\r\n              ==\r\n  1 warning generated.\r\n  ./cspice/src/cspice/wsle.c:14:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_le(a)) return(n);\r\n             ~^~~~~~~~\r\n  ./cspice/src/cspice/wsle.c:14:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_le(a)) return(n);\r\n              ^\r\n             (        )\r\n  ./cspice/src/cspice/wsle.c:14:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_le(a)) return(n);\r\n              ^\r\n              ==\r\n  1 warning generated.\r\n  ./cspice/src/cspice/wsne.c:14:6: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n          if(n=c_le(a))\r\n             ~^~~~~~~~\r\n  ./cspice/src/cspice/wsne.c:14:6: note: place parentheses around the assignment to silence this warning\r\n          if(n=c_le(a))\r\n              ^\r\n             (        )\r\n  ./cspice/src/cspice/wsne.c:14:6: note: use '==' to turn this assignment into an equality comparison\r\n          if(n=c_le(a))\r\n              ^\r\n              ==\r\n  1 warning generated.\r\n  ./cspice/src/cspice/zzdafgsr.c:669:23: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              cindex = (dindex - 1 << 3) + 1;\r\n                        ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzdafgsr.c:669:23: note: place parentheses around the '-' expression to silence this warning\r\n              cindex = (dindex - 1 << 3) + 1;\r\n                               ^\r\n                        (         )\r\n  ./cspice/src/cspice/zzdafgsr.c:710:21: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  left = 256 - (i__ - 1 << 1) * sumsiz - (*nd << 1) - 6;\r\n                                ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzdafgsr.c:710:21: note: place parentheses around the '-' expression to silence this warning\r\n                  left = 256 - (i__ - 1 << 1) * sumsiz - (*nd << 1) - 6;\r\n                                    ^\r\n                                (      )\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/zzekbs01.c:1166:16: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                    ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs01.c:1166:16: note: place parentheses around the '-' expression to silence this warning\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                        ^\r\n                    (      )\r\n  ./cspice/src/cspice/zzekbs01.c:1166:41: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                                          ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs01.c:1166:41: note: place parentheses around the '-' expression to silence this warning\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                                                 ^\r\n                                          (         )\r\n  ./cspice/src/cspice/zzekbs01.c:1174:45: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                              ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs01.c:1174:45: note: place parentheses around the '-' expression to silence this warning\r\n              cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                     ^\r\n                                              (         )\r\n  ./cspice/src/cspice/zzekbs01.c:1183:42: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                  ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs01.c:1183:42: note: place parentheses around the '-' expression to silence this warning\r\n                  cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                         ^\r\n                                                  (         )\r\n  ./cspice/src/cspice/zzekbs01.c:1218:41: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          dscbas = (i__ - 1) * 11 + 24 - (ipagno - 1 << 8);\r\n                                          ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs01.c:1218:41: note: place parentheses around the '-' expression to silence this warning\r\n          dscbas = (i__ - 1) * 11 + 24 - (ipagno - 1 << 8);\r\n                                                 ^\r\n                                          (         )\r\n  5 warnings generated.\r\n  ./cspice/src/cspice/zzekbs02.c:1166:16: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                    ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs02.c:1166:16: note: place parentheses around the '-' expression to silence this warning\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                        ^\r\n                    (      )\r\n  ./cspice/src/cspice/zzekbs02.c:1166:41: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                                          ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs02.c:1166:41: note: place parentheses around the '-' expression to silence this warning\r\n          nambas = (i__ - 1 << 5) + 64 - (cpagno - 1 << 10);\r\n                                                 ^\r\n                                          (         )\r\n  ./cspice/src/cspice/zzekbs02.c:1174:45: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                              ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs02.c:1174:45: note: place parentheses around the '-' expression to silence this warning\r\n              cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                     ^\r\n                                              (         )\r\n  ./cspice/src/cspice/zzekbs02.c:1183:42: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                  ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs02.c:1183:42: note: place parentheses around the '-' expression to silence this warning\r\n                  cdscrs[i__ * 11 - 7] = cbase + (cpagno - 1 << 10) + nambas;\r\n                                                         ^\r\n                                                  (         )\r\n  ./cspice/src/cspice/zzekbs02.c:1206:41: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          dscbas = (i__ - 1) * 11 + 24 - (ipagno - 1 << 8);\r\n                                          ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekbs02.c:1206:41: note: place parentheses around the '-' expression to silence this warning\r\n          dscbas = (i__ - 1) * 11 + 24 - (ipagno - 1 << 8);\r\n                                                 ^\r\n                                          (         )\r\n  5 warnings generated.\r\n  ./cspice/src/cspice/zzekjoin.c:889:32: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          offset = nsv1 * nt1 + 4 + (s1 - 1 << 1) + 1;\r\n                                     ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjoin.c:889:32: note: place parentheses around the '-' expression to silence this warning\r\n          offset = nsv1 * nt1 + 4 + (s1 - 1 << 1) + 1;\r\n                                        ^\r\n                                     (     )\r\n  ./cspice/src/cspice/zzekjoin.c:923:36: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              offset = nsv2 * nt2 + 4 + (s2 - 1 << 1) + 1;\r\n                                         ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjoin.c:923:36: note: place parentheses around the '-' expression to silence this warning\r\n              offset = nsv2 * nt2 + 4 + (s2 - 1 << 1) + 1;\r\n                                            ^\r\n                                         (     )\r\n  ./cspice/src/cspice/zzekjoin.c:951:36: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              offset = nsv3 * nt3 + 4 + (s3 - 1 << 1) + 1;\r\n                                         ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjoin.c:951:36: note: place parentheses around the '-' expression to silence this warning\r\n              offset = nsv3 * nt3 + 4 + (s3 - 1 << 1) + 1;\r\n                                            ^\r\n                                         (     )\r\n  ./cspice/src/cspice/zzekjoin.c:982:36: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              offset = nsv3 * nt3 + 4 + (s3 - 1 << 1) + 2;\r\n                                         ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjoin.c:982:36: note: place parentheses around the '-' expression to silence this warning\r\n              offset = nsv3 * nt3 + 4 + (s3 - 1 << 1) + 2;\r\n                                            ^\r\n                                         (     )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/zzekjsqz.c:428:45: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          cntloc = *jrsbas + 4 + nsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                 ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjsqz.c:428:45: note: place parentheses around the '-' expression to silence this warning\r\n          cntloc = *jrsbas + 4 + nsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                     ^\r\n                                                 (      )\r\n  ./cspice/src/cspice/zzekjsqz.c:500:49: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              cntloc = *jrsbas + 4 + nsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                     ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjsqz.c:500:49: note: place parentheses around the '-' expression to silence this warning\r\n              cntloc = *jrsbas + 4 + nsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                         ^\r\n                                                     (      )\r\n  ./cspice/src/cspice/zzekjsqz.c:545:48: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          cntloc = *jrsbas + 4 + newnsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                    ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjsqz.c:545:48: note: place parentheses around the '-' expression to silence this warning\r\n          cntloc = *jrsbas + 4 + newnsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                        ^\r\n                                                    (      )\r\n  ./cspice/src/cspice/zzekjsqz.c:606:48: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          cntloc = *jrsbas + 4 + newnsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                    ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjsqz.c:606:48: note: place parentheses around the '-' expression to silence this warning\r\n          cntloc = *jrsbas + 4 + newnsv * svsize + (i__ - 1 << 1) + 2;\r\n                                                        ^\r\n                                                    (      )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/zzekjtst.c:1915:35: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addrss = lbase + 7 + (lrvidx - 1 << 1) + 1;\r\n                                    ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjtst.c:1915:35: note: place parentheses around the '-' expression to silence this warning\r\n              addrss = lbase + 7 + (lrvidx - 1 << 1) + 1;\r\n                                           ^\r\n                                    (         )\r\n  ./cspice/src/cspice/zzekjtst.c:1917:35: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addrss = rbase + 7 + (rrvidx - 1 << 1) + 1;\r\n                                    ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjtst.c:1917:35: note: place parentheses around the '-' expression to silence this warning\r\n              addrss = rbase + 7 + (rrvidx - 1 << 1) + 1;\r\n                                           ^\r\n                                    (         )\r\n  ./cspice/src/cspice/zzekjtst.c:2079:35: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addrss = lbase + 7 + (lrvidx - 1 << 1) + 1;\r\n                                    ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjtst.c:2079:35: note: place parentheses around the '-' expression to silence this warning\r\n              addrss = lbase + 7 + (lrvidx - 1 << 1) + 1;\r\n                                           ^\r\n                                    (         )\r\n  ./cspice/src/cspice/zzekjtst.c:2081:35: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addrss = rbase + 7 + (rrvidx - 1 << 1) + 1;\r\n                                    ~~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekjtst.c:2081:35: note: place parentheses around the '-' expression to silence this warning\r\n              addrss = rbase + 7 + (rrvidx - 1 << 1) + 1;\r\n                                           ^\r\n                                    (         )\r\n  4 warnings generated.\r\n  ./cspice/src/cspice/zzeknres.c:810:14: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  base = ((j - 1 << 1) + 1) * 6 + 19;\r\n                           ~~^~~ ~~\r\n  ./cspice/src/cspice/zzeknres.c:810:14: note: place parentheses around the '-' expression to silence this warning\r\n                  base = ((j - 1 << 1) + 1) * 6 + 19;\r\n                             ^\r\n                           (    )\r\n  ./cspice/src/cspice/zzeknres.c:837:16: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                  base = ((i__ - 1 << 1) + 1) * 6 + 19;\r\n                           ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzeknres.c:837:16: note: place parentheses around the '-' expression to silence this warning\r\n                  base = ((i__ - 1 << 1) + 1) * 6 + 19;\r\n                               ^\r\n                           (      )\r\n  2 warnings generated.\r\n  ./cspice/src/cspice/zzekpage.c:982:22: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addr__ = (freec - 1 << 10) + 1;\r\n                        ~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:982:22: note: place parentheses around the '-' expression to silence this warning\r\n              addr__ = (freec - 1 << 10) + 1;\r\n                              ^\r\n                        (        )\r\n  ./cspice/src/cspice/zzekpage.c:998:17: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              *base = *p - 1 << 10;\r\n                      ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:998:17: note: place parentheses around the '-' expression to silence this warning\r\n              *base = *p - 1 << 10;\r\n                         ^\r\n                      (     )\r\n  ./cspice/src/cspice/zzekpage.c:1031:22: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addr__ = (freed - 1 << 7) + 1;\r\n                        ~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1031:22: note: place parentheses around the '-' expression to silence this warning\r\n              addr__ = (freed - 1 << 7) + 1;\r\n                              ^\r\n                        (        )\r\n  ./cspice/src/cspice/zzekpage.c:1045:17: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              *base = *p - 1 << 7;\r\n                      ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1045:17: note: place parentheses around the '-' expression to silence this warning\r\n              *base = *p - 1 << 7;\r\n                         ^\r\n                      (     )\r\n  ./cspice/src/cspice/zzekpage.c:1078:22: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              addr__ = (freei - 1 << 8) + 257;\r\n                        ~~~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1078:22: note: place parentheses around the '-' expression to silence this warning\r\n              addr__ = (freei - 1 << 8) + 257;\r\n                              ^\r\n                        (        )\r\n  ./cspice/src/cspice/zzekpage.c:1091:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              *base = (*p - 1 << 8) + 256;\r\n                       ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1091:18: note: place parentheses around the '-' expression to silence this warning\r\n              *base = (*p - 1 << 8) + 256;\r\n                          ^\r\n                       (     )\r\n  ./cspice/src/cspice/zzekpage.c:1272:15: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          addr__ = (*p - 1 << 10) + 1;\r\n                    ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1272:15: note: place parentheses around the '-' expression to silence this warning\r\n          addr__ = (*p - 1 << 10) + 1;\r\n                       ^\r\n                    (     )\r\n  ./cspice/src/cspice/zzekpage.c:1305:15: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          addr__ = (*p - 1 << 7) + 1;\r\n                    ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1305:15: note: place parentheses around the '-' expression to silence this warning\r\n          addr__ = (*p - 1 << 7) + 1;\r\n                       ^\r\n                    (     )\r\n  ./cspice/src/cspice/zzekpage.c:1338:15: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          addr__ = (*p - 1 << 8) + 257;\r\n                    ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1338:15: note: place parentheses around the '-' expression to silence this warning\r\n          addr__ = (*p - 1 << 8) + 257;\r\n                       ^\r\n                    (     )\r\n  ./cspice/src/cspice/zzekpage.c:1495:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 10) + 1;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1495:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 10) + 1;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:1636:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 7) + 1;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1636:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 7) + 1;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:1773:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 8) + 257;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1773:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 8) + 257;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:1935:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 10) + 1;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:1935:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 10) + 1;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:2085:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 7) + 1;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2085:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 7) + 1;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:2234:18: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n      addr__ = (*p - 1 << 8) + 257;\r\n                ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2234:18: note: place parentheses around the '-' expression to silence this warning\r\n      addr__ = (*p - 1 << 8) + 257;\r\n                   ^\r\n                (     )\r\n  ./cspice/src/cspice/zzekpage.c:2356:13: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = *p - 1 << 10;\r\n                  ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2356:13: note: place parentheses around the '-' expression to silence this warning\r\n          *base = *p - 1 << 10;\r\n                     ^\r\n                  (     )\r\n  ./cspice/src/cspice/zzekpage.c:2358:13: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = *p - 1 << 7;\r\n                  ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2358:13: note: place parentheses around the '-' expression to silence this warning\r\n          *base = *p - 1 << 7;\r\n                     ^\r\n                  (     )\r\n  ./cspice/src/cspice/zzekpage.c:2360:14: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = (*p - 1 << 8) + 256;\r\n                   ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2360:14: note: place parentheses around the '-' expression to silence this warning\r\n          *base = (*p - 1 << 8) + 256;\r\n                      ^\r\n                   (     )\r\n  ./cspice/src/cspice/zzekpage.c:2495:13: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = *p - 1 << 10;\r\n                  ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2495:13: note: place parentheses around the '-' expression to silence this warning\r\n          *base = *p - 1 << 10;\r\n                     ^\r\n                  (     )\r\n  ./cspice/src/cspice/zzekpage.c:2498:13: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = *p - 1 << 7;\r\n                  ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2498:13: note: place parentheses around the '-' expression to silence this warning\r\n          *base = *p - 1 << 7;\r\n                     ^\r\n                  (     )\r\n  ./cspice/src/cspice/zzekpage.c:2501:14: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n          *base = (*p - 1 << 8) + 256;\r\n                   ~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekpage.c:2501:14: note: place parentheses around the '-' expression to silence this warning\r\n          *base = (*p - 1 << 8) + 256;\r\n                      ^\r\n                   (     )\r\n  21 warnings generated.\r\n  ./cspice/src/cspice/zzekweed.c:469:58: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n              base = bases[cand - 1] + 4 + ncndsv * svsize + (csv - 1 << 1);\r\n                                                              ~~~~^~~ ~~\r\n  ./cspice/src/cspice/zzekweed.c:469:58: note: place parentheses around the '-' expression to silence this warning\r\n              base = bases[cand - 1] + 4 + ncndsv * svsize + (csv - 1 << 1);\r\n                                                                  ^\r\n                                                              (      )\r\n  ./cspice/src/cspice/zzekweed.c:516:56: warning: operator '<<' has lower precedence than '-'; '-' will be evaluated first [-Wshift-op-parentheses]\r\n                          base = bases[pred - 1] + 4 + nprdsv * svsize + (psv -\r\n                                                                          ~~~~^\r\n  ./cspice/src/cspice/zzekweed.c:516:56: note: place parentheses around the '-' expression to silence this warning\r\n                          base = bases[pred - 1] + 4 + nprdsv * svsize + (psv -\r\n                                                                              ^\r\n                                                                          (\r\n  2 warnings generated.\r\n  /var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/cspice_spiceypy_jao5akfe/libcspice.so\r\n  Copying built cspice: /var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/cspice_spiceypy_jao5akfe/libcspice.so to /private/var/folders/kn/ntp_0cf90h933jsqr2zq7l_00000gn/T/pip-req-build-nm4oqkxy/spiceypy/utils/libcspice.so\r\n  Done!\r\n  error: package directory 'spiceypy' does not exist\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for spiceypy\r\n  Running setup.py clean for spiceypy\r\nFailed to build spiceypy\r\nInstalling collected packages: spiceypy\r\n    Running setup.py install for spiceypy: started\r\n    Running setup.py install for spiceypy: finished with status 'done'\r\n  DEPRECATION: spiceypy was installed using the legacy 'setup.py install' method, because a wheel could not be built for it. A possible replacement is to fix the wheel build issue reported above. You can find discussion regarding this at https://github.com/pypa/pip/issues/8368.\r\nSuccessfully installed spiceypy-4.0.2\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2798", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2798/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2798/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2798/events", "html_url": "https://github.com/pypa/setuptools/issues/2798", "id": 1004241179, "node_id": "I_kwDOA0bv8c4724Eb", "number": 2798, "title": "[BUG] Dashes in directories within options.data_files paths are replaced with floors.", "user": {"login": "m-kru", "id": 26227737, "node_id": "MDQ6VXNlcjI2MjI3NzM3", "avatar_url": "https://avatars.githubusercontent.com/u/26227737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-kru", "html_url": "https://github.com/m-kru", "followers_url": "https://api.github.com/users/m-kru/followers", "following_url": "https://api.github.com/users/m-kru/following{/other_user}", "gists_url": "https://api.github.com/users/m-kru/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-kru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-kru/subscriptions", "organizations_url": "https://api.github.com/users/m-kru/orgs", "repos_url": "https://api.github.com/users/m-kru/repos", "events_url": "https://api.github.com/users/m-kru/events{/privacy}", "received_events_url": "https://api.github.com/users/m-kru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-22T12:33:02Z", "updated_at": "2021-09-22T13:33:06Z", "closed_at": "2021-09-22T13:33:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools 45.2.0\n\n### Python version\n\nPython 3.8.10\n\n### OS\n\n20.04.1-Ubuntu\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nDashes in directories within `options.data_files` paths are replaced with floors.\n\n### Expected behavior\n\nPaths in directories within `options.data_files`  should be created as is.  I consider `[options.data_files]` section to not be Python specific, so there should be no name changes applied.\n\n### How to Reproduce\n\nSnippet from `setup.cfg`.\r\n```\r\n[options.data_files]\r\nsubmodules/tree-sitter-fbdl/src/ = ./submodules/tree-sitter-fbdl/src/parser.c\r\n```\n\n### Output\n\nAfter the installation the path within the egg directory is as follows:\r\n```\r\nsubmodules/tree_sitter_fbdl/src/parser.c\r\n```\r\n\n\n### Code of Conduct\n\n- [ ] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2797", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2797/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2797/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2797/events", "html_url": "https://github.com/pypa/setuptools/issues/2797", "id": 1004189193, "node_id": "I_kwDOA0bv8c472rYJ", "number": 2797, "title": "[BUG] 58.1.0: pytest is failing in `test_local_index` unit", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-22T11:37:01Z", "updated_at": "2021-12-25T06:12:20Z", "closed_at": "2021-12-25T06:12:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n58.1.0\n\n### Python version\n\n3.8.12\n\n### OS\n\nLinux/x86_64\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nLooks like one additional unit fails in 58.1.0.\r\n```\r\nFAILED setuptools/tests/test_easy_install.py::TestUserInstallTest::test_local_index - AssertionError: assert '/home/tklocz...ptools-58.1.0' == '/tmp/pytest-..._local_ind...\r\n```\r\n\n\n### Expected behavior\n\nNo new errors/fails\n\n### How to Reproduce\n\nI'm package setuptools module as an rpm package. So I'm using the typical build, install and test cycle used on building packages from non-root account.\r\n- \"setup.py build\"\r\n- \"setup.py install --root </install/prefix>\"\r\n- \"pytest with PYTHONPATH pointing to sitearch and sitelib inside </install/prefix>\r\n\n\n### Output\n\n```console\r\n+ PYTHONPATH=/home/tkloczko/rpmbuild/BUILD/setuptools-58.1.0\r\n+ /usr/bin/pytest -ra -p no:randomly --deselect pkg_resources/tests/test_pkg_resources.py::TestDeepVersionLookupDistutils::test_version_resolved_from_egg_info --ignore=pavement.py --ignore=setuptools/tests/test_integration.py --deselect setuptools/tests/test_develop.py::TestNamespaces::test_editable_prefix --deselect setuptools/tests/test_easy_install.py::TestSetupRequires::test_setup_requires_with_allow_hosts\r\n=========================================================================== test session starts ============================================================================\r\nplatform linux -- Python 3.8.12, pytest-6.2.5, py-1.10.0, pluggy-0.13.1\r\nbenchmark: 3.4.1 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\r\nrootdir: /home/tkloczko/rpmbuild/BUILD/setuptools-58.1.0, configfile: pytest.ini\r\nplugins: forked-1.3.0, shutil-1.7.0, virtualenv-1.7.0, expect-1.1.0, flake8-1.0.7, timeout-1.4.2, betamax-0.8.1, freezegun-0.4.2, aspectlib-1.5.2, toolbox-0.5, rerunfailures-9.1.1, requests-mock-1.9.3, cov-2.12.1, flaky-3.7.0, benchmark-3.4.1, xdist-2.3.0, pylama-7.7.1, datadir-1.3.1, regressions-2.2.0, xprocess-0.18.1, black-0.3.12, asyncio-0.15.1, subtests-0.5.0, isort-2.0.0, hypothesis-6.14.6, mock-3.6.1, profiling-1.7.0, nose2pytest-1.0.8, pyfakefs-4.5.1, tornado-0.8.1, twisted-1.13.3, aiohttp-0.3.0, localserver-0.5.0, anyio-3.3.1, trio-0.7.0, Faker-8.12.2, cases-3.6.4\r\ncollected 723 items / 3 deselected / 2 skipped / 718 selected\r\n\r\npkg_resources/__init__.py ...                                                                                                                                        [  0%]\r\npkg_resources/api_tests.txt .                                                                                                                                        [  0%]\r\npkg_resources/tests/test_find_distributions.py ....                                                                                                                  [  1%]\r\npkg_resources/tests/test_markers.py .                                                                                                                                [  1%]\r\npkg_resources/tests/test_pkg_resources.py ...............ssss                                                                                                        [  3%]\r\npkg_resources/tests/test_resources.py ..................................................................................                                             [ 15%]\r\npkg_resources/tests/test_working_set.py ..................................                                                                                           [ 20%]\r\nsetuptools/dist.py .                                                                                                                                                 [ 20%]\r\nsetuptools/namespaces.py .                                                                                                                                           [ 20%]\r\nsetuptools/package_index.py ..                                                                                                                                       [ 20%]\r\nsetuptools/sandbox.py .                                                                                                                                              [ 20%]\r\nsetuptools/command/develop.py .                                                                                                                                      [ 20%]\r\nsetuptools/command/install_lib.py .                                                                                                                                  [ 20%]\r\nsetuptools/tests/test_archive_util.py X                                                                                                                              [ 21%]\r\nsetuptools/tests/test_bdist_deprecations.py .                                                                                                                        [ 21%]\r\nsetuptools/tests/test_bdist_egg.py .x                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_clib.py .                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_ext.py ....                                                                                                                              [ 22%]\r\nsetuptools/tests/test_build_meta.py ................................................................................................................................ [ 40%]\r\n......                                                                                                                                                               [ 40%]\r\nsetuptools/tests/test_build_py.py ...                                                                                                                                [ 41%]\r\nsetuptools/tests/test_config.py .............................................                                                                                        [ 47%]\r\nsetuptools/tests/test_dep_util.py .                                                                                                                                  [ 47%]\r\nsetuptools/tests/test_depends.py .                                                                                                                                   [ 47%]\r\nsetuptools/tests/test_develop.py s....                                                                                                                               [ 48%]\r\nsetuptools/tests/test_dist.py .......x...x..........................                                                                                                 [ 53%]\r\nsetuptools/tests/test_dist_info.py ..                                                                                                                                [ 54%]\r\nsetuptools/tests/test_distutils_adoption.py ...                                                                                                                      [ 54%]\r\nsetuptools/tests/test_easy_install.py .................F.............................                                                                                [ 60%]\r\nsetuptools/tests/test_egg_info.py .........................x...............................................                                                          [ 71%]\r\nsetuptools/tests/test_extern.py ...                                                                                                                                  [ 71%]\r\nsetuptools/tests/test_find_packages.py ............                                                                                                                  [ 73%]\r\nsetuptools/tests/test_glob.py ....                                                                                                                                   [ 73%]\r\nsetuptools/tests/test_install_scripts.py .s.s                                                                                                                        [ 74%]\r\nsetuptools/tests/test_manifest.py ...................................................................                                                                [ 83%]\r\nsetuptools/tests/test_msvc14.py ssss                                                                                                                                 [ 84%]\r\nsetuptools/tests/test_namespaces.py ....                                                                                                                             [ 84%]\r\nsetuptools/tests/test_packageindex.py ....................                                                                                                           [ 87%]\r\nsetuptools/tests/test_register.py .                                                                                                                                  [ 87%]\r\nsetuptools/tests/test_sandbox.py ..........                                                                                                                          [ 89%]\r\nsetuptools/tests/test_sdist.py ...............                                                                                                                       [ 91%]\r\nsetuptools/tests/test_setopt.py ..                                                                                                                                   [ 91%]\r\nsetuptools/tests/test_setuptools.py .....................                                                                                                            [ 94%]\r\nsetuptools/tests/test_sphinx_upload_docs.py .                                                                                                                        [ 94%]\r\nsetuptools/tests/test_test.py .                                                                                                                                      [ 94%]\r\nsetuptools/tests/test_unicode_utils.py .                                                                                                                             [ 94%]\r\nsetuptools/tests/test_upload.py .                                                                                                                                    [ 94%]\r\nsetuptools/tests/test_upload_docs.py ..                                                                                                                              [ 95%]\r\nsetuptools/tests/test_virtualenv.py .....x....                                                                                                                       [ 96%]\r\nsetuptools/tests/test_wheel.py ......................                                                                                                                [ 99%]\r\nsetuptools/tests/test_windows_wrappers.py sss                                                                                                                        [100%]\r\n\r\n================================================================================= FAILURES =================================================================================\r\n___________________________________________________________________ TestUserInstallTest.test_local_index ___________________________________________________________________\r\n\r\nself = <setuptools.tests.test_easy_install.TestUserInstallTest object at 0x7f3ad9c17730>, foo_package = '/tmp/pytest-of-tkloczko/pytest-2/test_local_index0'\r\ninstall_target = '/tmp/pytest-of-tkloczko/pytest-2/test_local_index0'\r\n\r\n    def test_local_index(self, foo_package, install_target):\r\n        \"\"\"\r\n        The local index must be used when easy_install locates installed\r\n        packages.\r\n        \"\"\"\r\n        dist = Distribution()\r\n        dist.script_name = 'setup.py'\r\n        cmd = ei.easy_install(dist)\r\n        cmd.install_dir = install_target\r\n        cmd.args = ['foo']\r\n        cmd.ensure_finalized()\r\n        cmd.local_index.scan([foo_package])\r\n        res = cmd.easy_install('foo')\r\n        actual = os.path.normcase(os.path.realpath(res.location))\r\n        expected = os.path.normcase(os.path.realpath(foo_package))\r\n>       assert actual == expected\r\nE       AssertionError: assert '/home/tklocz...ptools-58.1.0' == '/tmp/pytest-..._local_index0'\r\nE         - /tmp/pytest-of-tkloczko/pytest-2/test_local_index0\r\nE         + /home/tkloczko/rpmbuild/BUILD/setuptools-58.1.0\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.1.0/setuptools/tests/test_easy_install.py:398: AssertionError\r\n--------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------\r\nSearching for foo\r\nBest match: foo 58.1.0\r\nAdding foo 58.1.0 to easy-install.pth file\r\n\r\nUsing /home/tkloczko/rpmbuild/BUILD/setuptools-58.1.0\r\n========================================================================= short test summary info ==========================================================================\r\nSKIPPED [2] setuptools/tests/test_msvc.py:17: could not import 'distutils.msvc9compiler': No module named 'winreg'\r\nSKIPPED [1] pkg_resources/tests/test_pkg_resources.py:382: Testing case-insensitive filesystems.\r\nSKIPPED [3] pkg_resources/tests/test_pkg_resources.py:399: Testing systems using backslashes as path separators.\r\nSKIPPED [1] setuptools/tests/test_develop.py:66: TODO: needs a fixture to cause 'develop' to be invoked without mutating environment.\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:50: Windows only\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:78: Windows only\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:16: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:34: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:52: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:68: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:69: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:110: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:169: Windows only\r\nXFAIL setuptools/tests/test_bdist_egg.py::Test::test_exclude_source_files\r\n  Byte code disabled\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 1.2: Project-Url-attrs5]\r\n  Issue #1578: project_urls not read\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 2.1: Provides Extra-attrs9]\r\n  provides_extras not read\r\nXFAIL setuptools/tests/test_egg_info.py::TestEggInfo::test_requires[extras_require_with_marker_in_setup_cfg]\r\nXFAIL setuptools/tests/test_virtualenv.py::test_pip_upgrade_from_source[pip==19.3.1]\r\n  pypa/pip#6599\r\nXPASS setuptools/tests/test_archive_util.py::test_unicode_files #710 and #712\r\nFAILED setuptools/tests/test_easy_install.py::TestUserInstallTest::test_local_index - AssertionError: assert '/home/tklocz...ptools-58.1.0' == '/tmp/pytest-..._local_ind...\r\n======================================== 1 failed, 699 passed, 16 skipped, 3 deselected, 5 xfailed, 1 xpassed in 595.20s (0:09:55) =========================================\r\npytest-xprocess reminder::Be sure to terminate the started process by running 'pytest --xkill' if you have not explicitly done so in your fixture with 'xprocess.getinfo(<process_name>).terminate()'.\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2797/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2777", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2777/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2777/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2777/events", "html_url": "https://github.com/pypa/setuptools/pull/2777", "id": 990358956, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI4OTU5MDE5", "number": 2777, "title": "Do not error if use_2to3 is set to a false value", "user": {"login": "plumdog", "id": 2348591, "node_id": "MDQ6VXNlcjIzNDg1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2348591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plumdog", "html_url": "https://github.com/plumdog", "followers_url": "https://api.github.com/users/plumdog/followers", "following_url": "https://api.github.com/users/plumdog/following{/other_user}", "gists_url": "https://api.github.com/users/plumdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/plumdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plumdog/subscriptions", "organizations_url": "https://api.github.com/users/plumdog/orgs", "repos_url": "https://api.github.com/users/plumdog/repos", "events_url": "https://api.github.com/users/plumdog/events{/privacy}", "received_events_url": "https://api.github.com/users/plumdog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 1934018076, "node_id": "MDU6TGFiZWwxOTM0MDE4MDc2", "url": "https://api.github.com/repos/pypa/setuptools/labels/Python%202", "name": "Python 2", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-09-07T21:13:28Z", "updated_at": "2021-09-09T17:25:35Z", "closed_at": "2021-09-08T00:18:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pypa/setuptools/pulls/2777", "html_url": "https://github.com/pypa/setuptools/pull/2777", "diff_url": "https://github.com/pypa/setuptools/pull/2777.diff", "patch_url": "https://github.com/pypa/setuptools/pull/2777.patch", "merged_at": "2021-09-08T00:18:57Z"}, "body": "## Summary of changes\r\n\r\nI think this slight change fixes an issue where setting `use_2to3=False` would fail fast when really it ought to be ignored.\r\n\r\nI think this results in behaviour closer to what I had in mind with #2769.\r\n\r\n### Pull Request Checklist\r\n- [ ] Changes have tests - no because I can't see where one would go\r\n- [x] News fragment added in `changelog.d/`.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2777/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2775", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2775/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2775/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2775/events", "html_url": "https://github.com/pypa/setuptools/issues/2775", "id": 989725936, "node_id": "MDU6SXNzdWU5ODk3MjU5MzY=", "number": 2775, "title": "[BUG] error in XXXX setup command: use_2to3 is invalid when false.", "user": {"login": "miguelfito", "id": 879123, "node_id": "MDQ6VXNlcjg3OTEyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/879123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miguelfito", "html_url": "https://github.com/miguelfito", "followers_url": "https://api.github.com/users/miguelfito/followers", "following_url": "https://api.github.com/users/miguelfito/following{/other_user}", "gists_url": "https://api.github.com/users/miguelfito/gists{/gist_id}", "starred_url": "https://api.github.com/users/miguelfito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miguelfito/subscriptions", "organizations_url": "https://api.github.com/users/miguelfito/orgs", "repos_url": "https://api.github.com/users/miguelfito/repos", "events_url": "https://api.github.com/users/miguelfito/events{/privacy}", "received_events_url": "https://api.github.com/users/miguelfito/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}, {"id": 1097202178, "node_id": "MDU6TGFiZWwxMDk3MjAyMTc4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Discussion", "name": "Needs Discussion", "color": "c4178a", "default": false, "description": "Issues where the implementation still needs to be discussed."}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}, {"id": 1934018076, "node_id": "MDU6TGFiZWwxOTM0MDE4MDc2", "url": "https://api.github.com/repos/pypa/setuptools/labels/Python%202", "name": "Python 2", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-09-07T08:24:36Z", "updated_at": "2021-09-08T10:41:02Z", "closed_at": "2021-09-08T00:20:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==58.0.2\n\n### Python version\n\nPython 3.6.9, Python 3.9.2\n\n### OS\n\nUbuntu 18.04.5 LTS, Debian 11 \n\n### Additional environment information\n\nThis happens installing any Python2 package when trying to use `use_2to3` on setuptool execution\n\n### Description\n\nError installing a package that requires to use `use_2to3` on its installation\n\n### Expected behavior\n\nThe package should be installed as previous versions do (like `setuptools==58.0.1`)\n\n### How to Reproduce\n\n1. Generate a `virtualenv` and activate it.\r\n2. Make sure you're environment tools are updated.\r\n3. Install a Python2 package that requires to use `use_2to3` on its installation.\n\n### Output\n\n1. Generate a `virtualenv` like:\r\n```console\r\nvirtualenv .env -p /usr/bin/python3 && source .env/bin/activate\r\ncreated virtual environment CPython3.9.2.final.0-64 in 121ms\r\n  creator CPython3Posix(dest=/home/miguelfito/tmp/pruebas/devops_housekeeping_test/.env, clear=False, no_vcs_ignore=False, global=False)\r\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/home/miguelfito/.local/share/virtualenv)\r\n    added seed packages: pip==20.3.4, pkg_resources==0.0.0, setuptools==44.1.1, wheel==0.34.2\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\n2. Make sure you're environment tools are updated:\r\n```console\r\npython3 -m pip install --upgrade pip setuptools wheel\r\nLooking in indexes: ****\r\nRequirement already satisfied: pip in ./.env/lib/python3.9/site-packages (20.3.4)\r\nCollecting pip\r\n  Downloading pip-21.2.4-py3-none-any.whl (1.6 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.6 MB 5.4 MB/s \r\nRequirement already satisfied: setuptools in ./.env/lib/python3.9/site-packages (44.1.1)\r\nCollecting setuptools\r\n  Downloading setuptools-58.0.2-py3-none-any.whl (816 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 816 kB 20.9 MB/s \r\nRequirement already satisfied: wheel in ./.env/lib/python3.9/site-packages (0.34.2)\r\nCollecting wheel\r\n  Downloading wheel-0.37.0-py2.py3-none-any.whl (35 kB)\r\nInstalling collected packages: wheel, setuptools, pip\r\n  Attempting uninstall: wheel\r\n    Found existing installation: wheel 0.34.2\r\n    Uninstalling wheel-0.34.2:\r\n      Successfully uninstalled wheel-0.34.2\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 44.1.1\r\n    Uninstalling setuptools-44.1.1:\r\n      Successfully uninstalled setuptools-44.1.1\r\n  Attempting uninstall: pip\r\n    Found existing installation: pip 20.3.4\r\n    Uninstalling pip-20.3.4:\r\n      Successfully uninstalled pip-20.3.4\r\nSuccessfully installed pip-21.2.4 setuptools-58.0.2 wheel-0.37.0\r\n```\r\n3. Install a Python2 package:\r\n```console\r\npip install mailer==0.8.1                            \r\nLooking in indexes: **********\r\nCollecting mailer==0.8.1\r\n  Downloading mailer-0.8.1.zip (6.5 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/miguelfito/tmp/pruebas/devops_housekeeping_test/.env/bin/python3 -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-k06h_9aq/mailer_e0ec5902e983461198885f3ed8f7b2db/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-k06h_9aq/mailer_e0ec5902e983461198885f3ed8f7b2db/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-y8q_t3za\r\n         cwd: /tmp/pip-install-k06h_9aq/mailer_e0ec5902e983461198885f3ed8f7b2db/\r\n    Complete output (1 lines):\r\n    error in mailer setup command: use_2to3 is invalid.\r\n    ----------------------------------------\r\nWARNING: Discarding https://files.pythonhosted.org/packages/30/e7/c3a932fc03ab95c96ff911d8ee3e89b937205596a5c1f00849401a2468e0/mailer-0.8.1.zip#sha256=3411a12197731e0d5379ab194d9acc8d0d71c8b95fdfb11474d67c3e9860070e (from https://pypi.org/simple/mailer/). Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n  Downloading https:// **********/30/e7/c3a932fc03ab95c96ff911d8ee3e89b937205596a5c1f00849401a2468e0/mailer-0.8.1.zip (6.5 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/miguelfito/tmp/pruebas/devops_housekeeping_test/.env/bin/python3 -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-k06h_9aq/mailer_ac6269ca2eb7417faf12a97364828523/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-k06h_9aq/mailer_ac6269ca2eb7417faf12a97364828523/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-_1878lem\r\n         cwd: /tmp/pip-install-k06h_9aq/mailer_ac6269ca2eb7417faf12a97364828523/\r\n    Complete output (1 lines):\r\n    error in mailer setup command: use_2to3 is invalid.\r\n    ----------------------------------------\r\nWARNING: Discarding https:// **********/30/e7/c3a932fc03ab95c96ff911d8ee3e89b937205596a5c1f00849401a2468e0/mailer-0.8.1.zip#sha256=3411a12197731e0d5379ab194d9acc8d0d71c8b95fdfb11474d67c3e9860070e (from https://descinet.bbva.es/artifactory/api/pypi/pypi/simple/mailer/). Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\nERROR: Could not find a version that satisfies the requirement mailer==0.8.1 (from versions: 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8.1)\r\nERROR: No matching distribution found for mailer==0.8.1\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2775/reactions", "total_count": 19, "+1": 14, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 4}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2775/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2773", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2773/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2773/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2773/events", "html_url": "https://github.com/pypa/setuptools/issues/2773", "id": 989542492, "node_id": "MDU6SXNzdWU5ODk1NDI0OTI=", "number": 2773, "title": "[BUG] source distributions do not preserve case in keys of setup.cfg", "user": {"login": "aerusso", "id": 6502699, "node_id": "MDQ6VXNlcjY1MDI2OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6502699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aerusso", "html_url": "https://github.com/aerusso", "followers_url": "https://api.github.com/users/aerusso/followers", "following_url": "https://api.github.com/users/aerusso/following{/other_user}", "gists_url": "https://api.github.com/users/aerusso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aerusso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aerusso/subscriptions", "organizations_url": "https://api.github.com/users/aerusso/orgs", "repos_url": "https://api.github.com/users/aerusso/repos", "events_url": "https://api.github.com/users/aerusso/events{/privacy}", "received_events_url": "https://api.github.com/users/aerusso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-07T02:48:42Z", "updated_at": "2021-09-09T01:24:18Z", "closed_at": "2021-09-09T01:18:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nHEAD (58.0.2)\n\n### Python version\n\n(irrelevant)\n\n### OS\n\n(irrelevant)\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWhen building a source `tar.gz` with `python -m build`, `edit_config` of `setuptools` is called to record information about the call in `setup.cfg`.  During the rewrite, the case of the keys in the file is lost -- most notably, `options.data_files` loses the case of destination paths.\n\n### Expected behavior\n\nThe case of destination paths is preserved for `data_files`.  More generally, all keys have their case preserved when building source `tar.gz`s\n\n### How to Reproduce\n\n1. Create a `setup.cfg` with\r\n\r\n```\r\n[options.data_files]\r\ncAsE=\r\n  file\r\n  file2\r\n```\r\n2. `touch file file2`\r\n3. `python3 -m build`\n\n### Output\n\n`setup.cfg` in the tar.gz loses the case: (extract with `tar -xf dist/UNKNOWN-0.0.0.tar.gz && cat UNKNOWN-0.0.0/setup.cfg`)\r\n\r\n```\r\n[options.data_files]\r\ncase = \r\n        file\r\n        file2\r\n\r\n[egg_info]\r\ntag_build = \r\ntag_date = 0\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2771", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2771/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2771/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2771/events", "html_url": "https://github.com/pypa/setuptools/issues/2771", "id": 989338593, "node_id": "MDU6SXNzdWU5ODkzMzg1OTM=", "number": 2771, "title": "[BUG] 58.0.0: TOMLDecodeError when run in select environments", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-09-06T17:09:41Z", "updated_at": "2021-09-09T17:39:41Z", "closed_at": "2021-09-06T17:43:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n56.0.0\n\n### Python version\n\n3.8.12\n\n### OS\n\nLinux/x86_64\n\n### Additional environment information\n\nFull list of installed modules in build env\r\n```console\r\n[tkloczko@barrel SPECS]$ pip freeze\r\naiofiles==0.6.0\r\naiohttp==3.7.4.post0\r\naiohttp-cors==0.7.0\r\naioredis==2.0.0\r\naioresponses==0.7.2\r\nalabaster==0.7.12\r\namqp==5.0.6\r\nansi==0.2.0\r\nanyio==3.3.0\r\nanytree==2.8.0\r\napipkg==1.5\r\nappdirs==1.4.4\r\nargcomplete==1.12.3\r\nargon2-cffi==21.1.0\r\nArpeggio==1.10.2\r\narrow==1.1.1\r\nasgiref==3.4.1\r\nasn1crypto==1.4.0\r\naspectlib==1.5.2\r\nastor==0.8.1\r\nastroid==2.6.6\r\nasync-generator==1.10\r\nasync-timeout==3.0.1\r\natomicwrites==1.4.0\r\nattrs==21.2.0\r\nautoapi==2.0.1\r\nautodocsumm==0.2.6\r\nautoflake==1.4\r\nAutomat==20.2.0\r\nBabel==2.9.1\r\nbackcall==0.2.0\r\nbackports.entry-points-selectable==1.1.0\r\nbcrypt==3.2.0\r\nBeaker==1.11.0\r\nbeautifulsoup4==4.9.3\r\nbetamax==0.8.1\r\nbilliard==3.6.4.0\r\nblack==21.8b0\r\nbleach==4.0.0\r\nblinker==1.4\r\nblivet==3.4.1\r\nboto3==1.18.36\r\nbotocore==1.21.36\r\nbottle==0.12.19\r\nbreathe==4.30.0\r\nBrlapi==0.8.0\r\nBrotli==1.0.7\r\nbuild==0.6.0\r\ncachetools==4.2.2\r\ncairocffi==1.2.0\r\nCairoSVG==2.5.2\r\ncbor2==5.4.1\r\nCCColUtils==1.5\r\ncertifi==2021.5.30\r\ncffi==1.14.6\r\ncfgv==3.3.1\r\nchai==1.1.2\r\nchangelog==0.5.5\r\ncharacteristic==14.3.0\r\nchardet==4.0.0\r\ncharset-normalizer==2.0.4\r\ncheroot==8.5.2\r\nCherryPy==18.6.1\r\nclick==8.0.1\r\nclick-completion==0.5.2\r\nclick-default-group==1.2.2\r\nclick-didyoumean==0.0.3\r\nclick-log==0.3.2\r\ncloudpickle==1.6.0\r\ncodespell==2.1.0\r\ncolorama==0.4.4\r\ncolorlog==6.4.1\r\ncolorspacious==1.1.2\r\ncommonmark==0.9.1\r\nconstantly==15.1.0\r\ncontextlib2==21.6.0\r\ncontextvars==2.4\r\nconvertdate==2.3.2\r\ncov-core==1.15.0\r\ncoverage==5.6b1\r\ncoveralls==3.2.0\r\ncppy==1.1.0\r\ncram==0.7\r\ncryptography==3.3.1\r\ncryptography-vectors==3.4.8\r\ncssselect==1.1.0\r\ncssselect2==0.4.1\r\ncurio==1.5\r\ncycler==0.10.0\r\nCython==0.29.24\r\ndateparser==0.7.4\r\ndateutils==0.6.12\r\ndbus-python==1.2.16\r\nddt==1.4.2\r\ndecopatch==1.4.8\r\ndecorator==5.0.9\r\ndefusedxml==0.7.1\r\ndictdiffer==0.9.0\r\ndistlib==0.3.2\r\ndistro==1.5.0\r\nDjango==3.2.2\r\ndnspython==2.1.0\r\ndocopt==0.6.2\r\ndocutils==0.17.1\r\ndocutils-stubs==0.0.21\r\ndogtail==0.9.11\r\ndpcontracts==0.6.0\r\ndpkt==1.9.7.2\r\ndulwich==0.20.24\r\neditdistance==0.5.3\r\neditdistance-s==1.0.0\r\nelasticsearch==7.14.1\r\nelementpath==2.3.0\r\nentrypoints==0.3\r\nevdev==1.4.0\r\neventlet==0.31.1\r\nexam==0.10.6\r\nexecnet==1.9.0\r\nextras==1.0.0\r\nfactory-boy==3.2.0\r\nFaker==8.12.1\r\nfakeredis==1.6.0\r\nfido2==0.9.1\r\nfields==5.0.0\r\nfilelock==3.0.12\r\nfixtures==3.0.0\r\nflake8==3.9.2\r\nflake8-bugbear==21.4.3\r\nflake8-pie==0.14.0\r\nflaky==3.7.0\r\nFlask==2.0.1\r\nFlask-SQLAlchemy==2.5.1\r\nflit==3.3.0\r\nflit_core==3.3.0\r\nfluidity-sm==0.2.0\r\nfonttools==4.26.2\r\nfreezegun==1.0.0\r\nfunc-timeout==4.4.0\r\nfuture==0.18.2\r\nfuzzywuzzy==0.18.0\r\ngcovr==5.0\r\nGenshi==0.7.5\r\ngenty==1.3.2\r\ngevent==21.8.0\r\ngeventhttpclient==1.5.1\r\ngi-docgen==2021.7\r\ngitdb==4.0.7\r\nGitPython==3.1.20\r\ngoogle==3.0.0\r\ngpg===1.16.0-unknown\r\ngprof2dot==2021.2.21\r\ngraphviz==0.17\r\ngreenlet==1.1.1\r\nguzzle-sphinx-theme==0.7.11\r\nh11==0.12.0\r\nh2==4.1.0+dev\r\nhacking==4.0.0\r\nhidapi==0.10.1\r\nhpack==4.0.0\r\nhtml2text==2020.1.16\r\nhtml5lib==1.1\r\nhttmock==1.4.0\r\nhttpcore==0.13.3\r\nhttplib2==0.19.1\r\nhumanize==3.11.0\r\nHypercorn==0.11.2\r\nhyperframe==6.0.1\r\nhyperlink==21.0.0\r\nhypothesis==6.14.6\r\nhypothesmith==0.1.8\r\nidentify==2.2.13\r\nidna==3.2\r\nifaddr==0.1.7\r\nimagesize==1.2.0\r\nimmutables==0.16\r\nimportlib-metadata==4.8.1\r\nincremental==21.3.0\r\ninflect==5.3.0\r\niniconfig==1.1.1\r\ninvoke==1.5.0\r\niocapture==0.1.2\r\nipykernel==6.0.3\r\nipyparallel==6.3.0\r\nipython==7.26.0\r\nipython_genutils==0.2.0\r\nipywidgets==7.6.3\r\niso8601==0.1.16\r\nisodate==0.6.0\r\nisort==5.9.3\r\nitsdangerous==2.0.1\r\njaraco.classes==3.2.1\r\njaraco.collections==3.4.0\r\njaraco.envs==2.1.1\r\njaraco.functools==3.3.0\r\njaraco.itertools==6.0.1\r\njaraco.packaging==8.2.1\r\njaraco.path==3.3.1\r\njaraco.text==3.5.1\r\njavapackages==5.3.0\r\njedi==0.18.0\r\nJinja2==3.0.1\r\njinja2-pluralize==0.3.0\r\njmespath==0.10.0\r\njoblib==1.0.1\r\nJs2Py==0.71\r\njsonschema==3.2.0\r\njupyter-client==6.2.0\r\njupyter-core==4.7.1\r\njupyter-sphinx==0.3.2\r\njupyterlab-pygments==0.1.2\r\njupytext==1.11.5\r\nkiwisolver==1.3.2\r\nkombu==5.1.0\r\nlark-parser==0.12.0\r\nlatexcodec==2.0.1\r\nlazy-object-proxy==1.6.0\r\nlexicon==1.0.0\r\nlibcomps==0.1.17\r\nlibcst==0.3.20\r\nlibevdev==0.9\r\nlinecache2==1.0.0\r\nlinkify-it-py==1.0.1\r\nlit==12.0.1.dev0\r\nlockfile==0.12.2\r\nlouis==3.19.0\r\nlupa==1.9\r\nlxml==4.6.3\r\n# Editable install with no version control (lz4==3.1.3)\r\n-e /usr/lib64/python3.8/site-packages\r\nm2r==0.2.1\r\nmakefun==1.11.3\r\nMako==1.1.5.dev0\r\nmallard-ducktype==1.0.2\r\nMarkdown==3.3.4\r\nmarkdown-it-py==1.1.0\r\nMarkupSafe==2.0.1\r\nmatplotlib-inline==0.1.2\r\nmccabe==0.6.1\r\nmdit-py-plugins==0.2.8\r\nmeson==0.59.1\r\nmetaextract==1.0.7\r\nmistune==0.8.4\r\nmock==4.0.3\r\nmore-itertools==8.9.0\r\nmpi4py==3.1.1\r\nmsgpack==1.0.2\r\nmujson==1.4\r\nmultidict==5.1.0\r\nmultipledispatch==0.6.0\r\nmypy==0.910\r\nmypy-extensions==0.4.3\r\nmyst-parser==0.15.2\r\nnbclient==0.5.3\r\nnbconvert==6.1.0\r\nnbformat==5.1.3\r\nnbsphinx==0.8.7\r\nnest-asyncio==1.5.1\r\nnetaddr==0.8.0\r\nnftables==0.1\r\nnocasedict==1.0.2\r\nnocaselist==1.0.4\r\nnodeenv==1.6.0\r\nnose2==0.10.0\r\nnose2pytest==1.0.8\r\nnotebook==6.4.2\r\nntplib==0.4.0\r\nnumpy==1.18.2\r\nnumpydoc==1.1.0\r\nobjproxies==0.9.4\r\nolefile==0.46\r\nopenidc-client==0.6.0\r\nopenstackdocstheme==2.3.0\r\nordered-set==4.0.2\r\noutcome==1.1.0\r\npackaging==21.0\r\nPallets-Sphinx-Themes==2.0.1\r\npandas==1.3.1\r\npandocfilters==1.4.3\r\nparameterized==0.8.1\r\nparamiko==2.7.2\r\nparso==0.8.0\r\nparver==0.3.1\r\nPaste==3.5.0\r\nPasteDeploy==2.1.1\r\npath==16.2.0\r\npathspec==0.9.0\r\npbr==5.6.0\r\npcapy==0.11.4\r\npep517==0.11.0\r\npexpect==4.8.0\r\npickleshare==0.7.5\r\npid==3.0.4\r\nPillow==8.3.2\r\npkgconfig==1.5.2\r\nplatformdirs==2.3.0\r\npluggy==0.13.1\r\nply==3.11\r\npocketlint==0.21\r\npoetry-core==1.0.3\r\npolib==1.1.1\r\nportend==2.7.1\r\npproxy==2.7.8\r\npre-commit==2.14.0\r\npretend==1.0.9\r\nprettytable==0.7.2\r\npriority==2.0.0\r\nprocess-tests==2.1.1\r\nproductmd==1.33\r\nprometheus-client==0.11.0\r\nprompt-toolkit==3.0.19\r\npsutil==5.8.0\r\nptyprocess==0.7.0\r\npurl==1.5\r\npwquality==1.4.4\r\npy==1.10.0\r\npy-cpuinfo==8.0.0\r\npy2pack==0.8.7\r\npyasn1==0.4.8\r\npyasn1-modules==0.2.8\r\npybind11==2.7.1\r\npybtex==0.24.0\r\npybtex-docutils==1.0.1\r\npycairo==1.18.2\r\npycodestyle==2.7.0\r\npycparser==2.20\r\npycrypto==2.6.1\r\npycurl==7.43.0.5\r\npydantic==1.8.2\r\npydocstyle==6.1.1\r\npyenchant==3.2.1\r\npyfakefs==4.5.1\r\npyflakes==2.3.1\r\npyftpdlib==1.5.6\r\npygal==3.0.0.dev1\r\nPygments==2.10.0.dev20210815\r\npygments-ansi-color==0.0.6\r\npygments-pytest==2.2.0\r\nPyGObject==3.40.1\r\nPyHamcrest==2.0.2\r\npyinotify==0.9.6\r\npyjsparser==2.7.1\r\npykickstart==3.34\r\npylama==7.7.1\r\npylast==3.3.0\r\npylint==2.9.6\r\npylons-sphinx-themes==1.0.13\r\nPyMeeus==0.5.11\r\nPyNaCl==1.4.0\r\npyOpenSSL==20.0.1\r\npyparsing==2.4.6\r\npyparted==3.11.5\r\npypi-search==1.2.1\r\nPyQt5==5.14.2\r\nPyQt5_sip==4.19.22\r\npyquery==1.4.4.dev0\r\npyrad==2.4\r\npyrsistent==0.18.0\r\npyscard==2.0.1\r\npyScss==1.3.7\r\npyserial==3.4\r\nPySocks==1.7.1\r\npytest==6.2.5\r\npytest-asyncio==0.15.1\r\npytest-benchmark==3.4.1\r\npytest-black==0.3.12\r\npytest-cases==3.6.3\r\npytest-cov==2.12.1\r\npytest-datadir==1.3.1\r\npytest-expect==1.1.0\r\npytest-fixture-config==1.7.0\r\npytest-flake8==1.0.7\r\npytest-forked==1.3.0\r\npytest-freezegun==0.4.2\r\npytest-isort==2.0.0\r\npytest-mock==3.6.1\r\npytest-profiling==1.7.0\r\npytest-randomly==3.8.0\r\npytest-regressions==2.2.0\r\npytest-rerunfailures==9.1.1\r\npytest-runner==5.3.2\r\npytest-shutil==1.7.0\r\npytest-subtests==0.5.0\r\npytest-timeout==1.4.2\r\npytest-toolbox==0.5\r\npytest-tornado==0.8.1\r\npytest-tornasync==0.6.0.post2\r\npytest-trio==0.7.0\r\npytest-twisted==1.13.3\r\npytest-virtualenv==1.7.0\r\npytest-xdist==2.3.0\r\npytest-xprocess==0.18.1\r\npytest_check==1.0.1\r\npython-augeas==1.1.0\r\npython-dateutil==2.8.2\r\npython-dbusmock==0.24.0\r\npython-mimeparse==1.6.0\r\npython-socks==1.2.4\r\npython-xlib==0.31\r\npytz==2021.1\r\npyu2f==0.1.5\r\npyudev==0.22.0\r\npyusb==1.2.1\r\npywbem==1.1.3\r\npyxattr==0.7.2\r\npyxdg==0.27\r\nPyYAML==5.4.1\r\npyzmq==22.2.1\r\nraven==6.10.0\r\nrdflib==6.0.0\r\nre-assert==1.1.0\r\nreadthedocs-sphinx-ext==2.1.4\r\nrecommonmark==0.7.1\r\nredis==3.5.3\r\nregex==2021.8.28\r\nreleases==1.6.3\r\nreno==3.2.0\r\nrepoze.sphinx.autointerface==0.8\r\nrequests==2.26.0\r\nrequests-file==1.5.1\r\nrequests-ftp==0.3.1\r\nrequests-mock==1.9.3\r\nrequests-toolbelt==0.9.1\r\nrequests-unixsocket==0.2.0\r\nrequests_download==0.1.2\r\nresponses==0.13.3\r\nrfc3986==1.5.0\r\nrich==10.9.0\r\nrpm==4.16.1.3\r\nrsa==4.7.2\r\nrst.linker==2.2.0\r\ns3transfer==0.5.0\r\nSCons==4.2.0\r\nscour==0.38.2\r\nscripttest==1.3\r\nselenium==4.0.0a1\r\nselinux==3.2\r\nsemantic-version==2.8.5\r\nSend2Trash==1.8.0\r\nservice-identity==21.1.0\r\nsetuptools-git==1.2\r\nsetuptools-scm==6.3.0\r\nsetuptools-scm-git-archive==1.1\r\nsh==1.14.2\r\nshellingham==1.4.0\r\nshould-dsl==2.1.2\r\nsimplejson==3.17.5\r\nsimpleline==1.8.2\r\nsix==1.16.0\r\nslip==0.6.5\r\nslip.dbus==0.6.5\r\nsmartypants==2.0.1\r\nsmbus==1.1\r\nsmmap==4.0.0\r\nsniffio==1.2.0\r\nsnowballstemmer==2.1.0\r\nsolaar==1.0.6\r\nsortedcontainers==2.1.0\r\nsos==4.2\r\nsoupsieve==2.2.1\r\nspec==1.4.1\r\nSphinx==4.1.2\r\nsphinx-argparse==0.2.5\r\nsphinx-argparse-cli==1.7.0\r\nsphinx-autodoc-typehints==1.12.0\r\nsphinx-celery==2.0.0\r\nsphinx-click==3.0.1\r\nsphinx-copybutton==0.4.0\r\nsphinx-gallery==0.9.0\r\nsphinx-hoverxref==0.7b1\r\nsphinx-issues==1.2.0\r\nsphinx-last-updated-by-git==0.3.0\r\nsphinx-lv2-theme==1.0.0\r\nsphinx-markdown-tables==0.0.15\r\nsphinx-paramlinks==0.5.1\r\nsphinx-prompt==1.4.0\r\nsphinx-py3doc-enhanced-theme==2.4.0\r\nsphinx-readable-theme==1.3.0\r\nsphinx-removed-in==0.2.1\r\nsphinx-rst-builder==0.0.3\r\nsphinx-rtd-theme==0.5.2\r\nsphinx-selective-exclude==1.0.3\r\nsphinx-tabs==3.2.0\r\nsphinx-typlog-theme==0.8.0\r\nsphinx_inline_tabs @ file:///home/tkloczko/rpmbuild/BUILD/sphinx-inline-tabs-2021.04.11.beta9/dist/sphinx_inline_tabs-2021.4.11b9-py3-none-any.whl\r\nsphinxcontrib-apidoc==0.3.0\r\nsphinxcontrib-applehelp==1.0.2.dev20210802\r\nsphinxcontrib-asyncio==0.3.0\r\nsphinxcontrib-autoprogram==0.1.7\r\nsphinxcontrib-bibtex==2.3.0\r\nsphinxcontrib-devhelp==1.0.2.dev20210801\r\nsphinxcontrib-htmlhelp==2.0.0\r\nsphinxcontrib-httpdomain==1.7.0\r\nsphinxcontrib-jsmath==1.0.1.dev20210801\r\nsphinxcontrib-log-cabinet==1.0.1\r\nsphinxcontrib-programoutput==0.17\r\nsphinxcontrib-qthelp==1.0.3.dev20210824\r\nsphinxcontrib-restbuilder==0.3\r\nsphinxcontrib-serializinghtml==1.1.5\r\nsphinxcontrib-spelling==7.2.1\r\nsphinxcontrib-svg2pdfconverter==1.1.1\r\nsphinxcontrib-towncrier==0.2.0a0\r\nsphinxcontrib-trio==1.1.2\r\nsphinxcontrib-websupport==1.2.4\r\nsphinxcontrib_github_alt==1.2\r\nsphinxext-opengraph==0.4.2\r\nsphobjinv==2.1\r\nSQLAlchemy==1.4.23.dev0\r\nsqlparse==0.4.2.dev0\r\nstdio-mgr==1.0.1\r\nstdlib-list==0.8.0\r\nstem==1.8.0\r\nstone==3.2.1\r\nstrategies==0.2.3\r\nsure==2.0.0\r\nsybil==2.0.1\r\nsystemd-python==234\r\ntabulate==0.8.9\r\nTempita==0.5.2\r\ntempora==4.1.1\r\ntermcolor==1.1.0\r\nterminado==0.11.1\r\ntest-server==0.0.31\r\ntestpath==0.5.0\r\ntestresources==2.0.1\r\ntestscenarios==0.5.0\r\ntesttools==2.5.0\r\ntext-unidecode==1.3\r\ntexttable==1.6.4\r\nthreadpoolctl==2.2.0\r\ntinycss2==1.1.0\r\ntoml==0.10.2\r\ntomli==1.1.0\r\ntomlkit==0.7.2\r\ntoolz==0.11.1\r\ntornado==6.1\r\ntowncrier==21.3.0\r\ntox==3.24.3\r\ntox-current-env==0.0.6\r\ntqdm==4.62.2\r\ntraceback2==1.4.0\r\ntraitlets==5.0.5\r\ntransaction==3.0.1\r\ntrio==0.19.0\r\ntrustme==0.8.0\r\nTwisted==21.2.0\r\ntyped-ast==1.4.3\r\ntyping-extensions==3.10.0.2\r\ntyping-inspect==0.7.1\r\ntypogrify==2.0.7\r\ntzlocal==2.1\r\nu-msgpack-python==2.7.1\r\nuc-micro-py==1.0.1\r\nujson==4.1.0\r\nUnidecode==1.2.0\r\nunittest-mixins==1.6\r\nuritemplate==3.0.1\r\nurllib3==1.26.6\r\nuserpath==1.7.0\r\nuTidylib==0.7\r\nuvicorn==0.13.4\r\nuvloop==0.15.3\r\nvalidators==0.18.1\r\nvine==5.0.0\r\nvirtualenv==20.6.0\r\nwaitress==1.4.4\r\nwatchgod==0.7\r\nwcwidth==0.2.5\r\nwebcolors==1.11.1\r\nwebencodings==0.5.1\r\nWebOb==1.8.7\r\nwebsocket-client==1.2.1\r\nwebsockets==9.1\r\nWebTest==3.0.0\r\nWerkzeug==2.0.1\r\nWhoosh==2.7.4\r\nwidgetsnbextension==3.5.1\r\nwrapt==1.12.1\r\nWSGIProxy2==0.5.0\r\nwsproto==1.0.0\r\nxcffib==0.11.1\r\nxmlschema==1.7.1\r\nxmltodict==0.12.0\r\nyamlloader==1.0.0\r\nyarl==1.6.3\r\nyoutube-dl==2021.6.6\r\nzc.lockfile==2.0\r\nzeroconf==0.36.2\r\nzerorpc==0.6.3\r\nzipp==3.5.0\r\nzope.event==4.5.0\r\nzope.interface==5.4.0\r\nzope.testing==4.9\r\nzzzeeksphinx==1.2.3\r\n```\n\n### Description\n\nFew new units are failing. Build `setuptools` 57.5.0 in the same env still is OK.\n\n### Expected behavior\n\nNo fails or errors.\n\n### How to Reproduce\n\nPart of my spec file:\r\n```spec\r\n%build\r\nSETUPTOOLS_SCM_PRETEND_VERSION=%{version} \\\r\n%__python3 -m build --wheel\r\n%py3_build_sphinx_man\r\n\r\n%install\r\n%py3_install_wheel *.whl\r\n\r\n%__install build/sphinx/man/*.3 -Dt %{buildroot}%{_mandir}/man3\r\n\r\n%check\r\nPYTHONPATH=$PWD \\\r\n%pytest -p no:randomly \\\r\n        --deselect pkg_resources/tests/test_pkg_resources.py::TestDeepVersionLookupDistutils::test_version_resolved_from_egg_info \\\r\n        --ignore=pavement.py \\\r\n        --ignore=setuptools/tests/test_integration.py \\\r\n        %{!?with_failing_tests: \\\r\n        --deselect setuptools/tests/test_develop.py::TestNamespaces::test_editable_prefix \\\r\n        --deselect setuptools/tests/test_easy_install.py::TestSetupRequires::test_setup_requires_with_allow_hosts}\r\n```\r\nIve been deselecting or ignoring some of the units which have been failing in 57.5.0\r\n\r\ngenerally procedure is:\r\n- `%__python3 -m build --wheel`\r\n- install whl file in some </install/prefix>\r\n- run pytest  w PYTHONPATH pointing current directory (some test modules are only in source tree) + python sitelib in </install/prefix>\r\n\n\n### Output\n\n```console\r\n+ PYTHONPATH=/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0\r\n+ /usr/bin/pytest -ra -p no:randomly --deselect pkg_resources/tests/test_pkg_resources.py::TestDeepVersionLookupDistutils::test_version_resolved_from_egg_info --ignore=pavement.py --ignore=setuptools/tests/test_integration.py\r\n=========================================================================== test session starts ============================================================================\r\nplatform linux -- Python 3.8.12, pytest-6.2.5, py-1.10.0, pluggy-0.13.1\r\nbenchmark: 3.4.1 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\r\nrootdir: /home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0, configfile: pytest.ini\r\nplugins: forked-1.3.0, shutil-1.7.0, virtualenv-1.7.0, expect-1.1.0, flake8-1.0.7, timeout-1.4.2, betamax-0.8.1, freezegun-0.4.2, aspectlib-1.5.2, toolbox-0.5, rerunfailures-9.1.1, requests-mock-1.9.3, cov-2.12.1, flaky-3.7.0, benchmark-3.4.1, xdist-2.3.0, pylama-7.7.1, datadir-1.3.1, regressions-2.2.0, cases-3.6.3, xprocess-0.18.1, black-0.3.12, anyio-3.3.0, asyncio-0.15.1, trio-0.7.0, subtests-0.5.0, isort-2.0.0, hypothesis-6.14.6, mock-3.6.1, profiling-1.7.0, Faker-8.12.1, nose2pytest-1.0.8, pyfakefs-4.5.1, tornado-0.8.1, twisted-1.13.3\r\ncollected 721 items / 1 deselected / 2 skipped / 718 selected\r\n\r\npkg_resources/__init__.py ...                                                                                                                                        [  0%]\r\npkg_resources/api_tests.txt .                                                                                                                                        [  0%]\r\npkg_resources/tests/test_find_distributions.py ....                                                                                                                  [  1%]\r\npkg_resources/tests/test_markers.py .                                                                                                                                [  1%]\r\npkg_resources/tests/test_pkg_resources.py ...............ssss                                                                                                        [  3%]\r\npkg_resources/tests/test_resources.py ..................................................................................                                             [ 15%]\r\npkg_resources/tests/test_working_set.py ..................................                                                                                           [ 20%]\r\nsetuptools/dist.py .                                                                                                                                                 [ 20%]\r\nsetuptools/namespaces.py .                                                                                                                                           [ 20%]\r\nsetuptools/package_index.py ..                                                                                                                                       [ 20%]\r\nsetuptools/sandbox.py .                                                                                                                                              [ 20%]\r\nsetuptools/command/develop.py .                                                                                                                                      [ 20%]\r\nsetuptools/command/install_lib.py .                                                                                                                                  [ 20%]\r\nsetuptools/tests/test_archive_util.py X                                                                                                                              [ 21%]\r\nsetuptools/tests/test_bdist_egg.py .x                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_clib.py .                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_ext.py ....                                                                                                                              [ 22%]\r\nsetuptools/tests/test_build_meta.py ............FF................F................................................FF................F.............................. [ 39%]\r\n......                                                                                                                                                               [ 40%]\r\nsetuptools/tests/test_build_py.py ...                                                                                                                                [ 41%]\r\nsetuptools/tests/test_config.py .............................................                                                                                        [ 47%]\r\nsetuptools/tests/test_dep_util.py .                                                                                                                                  [ 47%]\r\nsetuptools/tests/test_depends.py .                                                                                                                                   [ 47%]\r\nsetuptools/tests/test_develop.py s....F                                                                                                                              [ 48%]\r\nsetuptools/tests/test_dist.py .......x...x..........................                                                                                                 [ 53%]\r\nsetuptools/tests/test_dist_info.py ..                                                                                                                                [ 54%]\r\nsetuptools/tests/test_distutils_adoption.py ...                                                                                                                      [ 54%]\r\nsetuptools/tests/test_easy_install.py ..................................F.............                                                                               [ 61%]\r\nsetuptools/tests/test_egg_info.py .........................x...............................................                                                          [ 71%]\r\nsetuptools/tests/test_extern.py ...                                                                                                                                  [ 71%]\r\nsetuptools/tests/test_find_packages.py ............                                                                                                                  [ 73%]\r\nsetuptools/tests/test_glob.py ....                                                                                                                                   [ 73%]\r\nsetuptools/tests/test_install_scripts.py .s.s                                                                                                                        [ 74%]\r\nsetuptools/tests/test_manifest.py ...................................................................                                                                [ 83%]\r\nsetuptools/tests/test_msvc14.py ssss                                                                                                                                 [ 84%]\r\nsetuptools/tests/test_namespaces.py ....                                                                                                                             [ 84%]\r\nsetuptools/tests/test_packageindex.py ....................                                                                                                           [ 87%]\r\nsetuptools/tests/test_register.py .                                                                                                                                  [ 87%]\r\nsetuptools/tests/test_sandbox.py ..........                                                                                                                          [ 89%]\r\nsetuptools/tests/test_sdist.py ...............                                                                                                                       [ 91%]\r\nsetuptools/tests/test_setopt.py .                                                                                                                                    [ 91%]\r\nsetuptools/tests/test_setuptools.py .....................                                                                                                            [ 94%]\r\nsetuptools/tests/test_sphinx_upload_docs.py .                                                                                                                        [ 94%]\r\nsetuptools/tests/test_test.py .                                                                                                                                      [ 94%]\r\nsetuptools/tests/test_unicode_utils.py .                                                                                                                             [ 94%]\r\nsetuptools/tests/test_upload.py .                                                                                                                                    [ 94%]\r\nsetuptools/tests/test_upload_docs.py ..                                                                                                                              [ 95%]\r\nsetuptools/tests/test_virtualenv.py .....x....                                                                                                                       [ 96%]\r\nsetuptools/tests/test_wheel.py ......................                                                                                                                [ 99%]\r\nsetuptools/tests/test_windows_wrappers.py sss                                                                                                                        [100%]\r\n\r\n================================================================================= FAILURES =================================================================================\r\n____________________________________________________ TestBuildMetaBackend.test_build_with_existing_file_present[wheel] _____________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 221, in build_wheel\r\n    return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 2, in <module>\r\n    setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaBackend object at 0x7f21ca4affa0>, build_type = 'wheel'\r\ntmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    @pytest.mark.parametrize('build_type', ('wheel', 'sdist'))\r\n    def test_build_with_existing_file_present(self, build_type, tmpdir_cwd):\r\n        # Building a sdist/wheel should still succeed if there's\r\n        # already a sdist/wheel in the destination directory.\r\n        files = {\r\n            'setup.py': \"from setuptools import setup\\nsetup()\",\r\n            'VERSION': \"0.0.1\",\r\n            'setup.cfg': DALS(\"\"\"\r\n                [metadata]\r\n                name = foo\r\n                version = file: VERSION\r\n            \"\"\"),\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n            \"\"\"),\r\n        }\r\n\r\n        path.build(files)\r\n\r\n        dist_dir = os.path.abspath('preexisting-' + build_type)\r\n\r\n        build_backend = self.get_build_backend()\r\n        build_method = getattr(build_backend, 'build_' + build_type)\r\n\r\n        # Build a first sdist/wheel.\r\n        # Note: this also check the destination directory is\r\n        # successfully created if it does not exist already.\r\n>       first_result = build_method(dist_dir)\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:184:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n____________________________________________________ TestBuildMetaBackend.test_build_with_existing_file_present[sdist] _____________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 225, in build_sdist\r\n    return self._build_with_temp_dir(['sdist', '--formats', 'gztar'],\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 2, in <module>\r\n    setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaBackend object at 0x7f21ca46a760>, build_type = 'sdist'\r\ntmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    @pytest.mark.parametrize('build_type', ('wheel', 'sdist'))\r\n    def test_build_with_existing_file_present(self, build_type, tmpdir_cwd):\r\n        # Building a sdist/wheel should still succeed if there's\r\n        # already a sdist/wheel in the destination directory.\r\n        files = {\r\n            'setup.py': \"from setuptools import setup\\nsetup()\",\r\n            'VERSION': \"0.0.1\",\r\n            'setup.cfg': DALS(\"\"\"\r\n                [metadata]\r\n                name = foo\r\n                version = file: VERSION\r\n            \"\"\"),\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n            \"\"\"),\r\n        }\r\n\r\n        path.build(files)\r\n\r\n        dist_dir = os.path.abspath('preexisting-' + build_type)\r\n\r\n        build_backend = self.get_build_backend()\r\n        build_method = getattr(build_backend, 'build_' + build_type)\r\n\r\n        # Build a first sdist/wheel.\r\n        # Note: this also check the destination directory is\r\n        # successfully created if it does not exist already.\r\n>       first_result = build_method(dist_dir)\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:184:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n_______________________________________________________ TestBuildMetaBackend.test_build_sdist_pyproject_toml_exists ________________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 225, in build_sdist\r\n    return self._build_with_temp_dir(['sdist', '--formats', 'gztar'],\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 1, in <module>\r\n    __import__('setuptools').setup(\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaBackend object at 0x7f21ca42ab20>, tmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    def test_build_sdist_pyproject_toml_exists(self, tmpdir_cwd):\r\n        files = {\r\n            'setup.py': DALS(\"\"\"\r\n                __import__('setuptools').setup(\r\n                    name='foo',\r\n                    version='0.0.0',\r\n                    py_modules=['hello']\r\n                )\"\"\"),\r\n            'hello.py': '',\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n                \"\"\"),\r\n        }\r\n        path.build(files)\r\n        build_backend = self.get_build_backend()\r\n>       targz_path = build_backend.build_sdist(\"temp\")\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:268:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n_________________________________________________ TestBuildMetaLegacyBackend.test_build_with_existing_file_present[wheel] __________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 221, in build_wheel\r\n    return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 258, in run_setup\r\n    super(_BuildMetaLegacyBackend,\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 2, in <module>\r\n    setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaLegacyBackend object at 0x7f21ca439370>, build_type = 'wheel'\r\ntmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    @pytest.mark.parametrize('build_type', ('wheel', 'sdist'))\r\n    def test_build_with_existing_file_present(self, build_type, tmpdir_cwd):\r\n        # Building a sdist/wheel should still succeed if there's\r\n        # already a sdist/wheel in the destination directory.\r\n        files = {\r\n            'setup.py': \"from setuptools import setup\\nsetup()\",\r\n            'VERSION': \"0.0.1\",\r\n            'setup.cfg': DALS(\"\"\"\r\n                [metadata]\r\n                name = foo\r\n                version = file: VERSION\r\n            \"\"\"),\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n            \"\"\"),\r\n        }\r\n\r\n        path.build(files)\r\n\r\n        dist_dir = os.path.abspath('preexisting-' + build_type)\r\n\r\n        build_backend = self.get_build_backend()\r\n        build_method = getattr(build_backend, 'build_' + build_type)\r\n\r\n        # Build a first sdist/wheel.\r\n        # Note: this also check the destination directory is\r\n        # successfully created if it does not exist already.\r\n>       first_result = build_method(dist_dir)\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:184:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n_________________________________________________ TestBuildMetaLegacyBackend.test_build_with_existing_file_present[sdist] __________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 225, in build_sdist\r\n    return self._build_with_temp_dir(['sdist', '--formats', 'gztar'],\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 258, in run_setup\r\n    super(_BuildMetaLegacyBackend,\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 2, in <module>\r\n    setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaLegacyBackend object at 0x7f21ca35f040>, build_type = 'sdist'\r\ntmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    @pytest.mark.parametrize('build_type', ('wheel', 'sdist'))\r\n    def test_build_with_existing_file_present(self, build_type, tmpdir_cwd):\r\n        # Building a sdist/wheel should still succeed if there's\r\n        # already a sdist/wheel in the destination directory.\r\n        files = {\r\n            'setup.py': \"from setuptools import setup\\nsetup()\",\r\n            'VERSION': \"0.0.1\",\r\n            'setup.cfg': DALS(\"\"\"\r\n                [metadata]\r\n                name = foo\r\n                version = file: VERSION\r\n            \"\"\"),\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n            \"\"\"),\r\n        }\r\n\r\n        path.build(files)\r\n\r\n        dist_dir = os.path.abspath('preexisting-' + build_type)\r\n\r\n        build_backend = self.get_build_backend()\r\n        build_method = getattr(build_backend, 'build_' + build_type)\r\n\r\n        # Build a first sdist/wheel.\r\n        # Note: this also check the destination directory is\r\n        # successfully created if it does not exist already.\r\n>       first_result = build_method(dist_dir)\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:184:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n____________________________________________________ TestBuildMetaLegacyBackend.test_build_sdist_pyproject_toml_exists _____________________________________________________\r\nconcurrent.futures.process._RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.8/concurrent/futures/process.py\", line 239, in _process_worker\r\n    r = call_item.fn(*call_item.args, **call_item.kwargs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py\", line 57, in __call__\r\n    return getattr(backend, name)(*args, **kw)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 225, in build_sdist\r\n    return self._build_with_temp_dir(['sdist', '--formats', 'gztar'],\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 207, in _build_with_temp_dir\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 258, in run_setup\r\n    super(_BuildMetaLegacyBackend,\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 1, in <module>\r\n    __import__('setuptools').setup(\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 822, in finalize_options\r\n    ep(self)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/integration.py\", line 90, in infer_version\r\n    config = Configuration.from_file(dist_name=dist_name)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 181, in from_file\r\n    defn = _load_toml(data)\r\n  File \"/usr/lib/python3.8/site-packages/setuptools_scm/config.py\", line 55, in _lazy_tomli_load\r\n    return loads(data)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 104, in loads\r\n    pos = key_value_rule(src, pos, out, header, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 331, in key_value_rule\r\n    pos, key, value = parse_key_value_pair(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 366, in parse_key_value_pair\r\n    pos, value = parse_value(src, pos, parse_float)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 595, in parse_value\r\n    return parse_one_line_basic_str(src, pos)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 406, in parse_one_line_basic_str\r\n    return parse_basic_str(src, pos, multiline=False)\r\n  File \"/usr/lib/python3.8/site-packages/tomli/_parser.py\", line 579, in parse_basic_str\r\n    raise suffixed_err(src, pos, f'Illegal character \"{char!r}\"')\r\ntomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nself = <setuptools.tests.test_build_meta.TestBuildMetaLegacyBackend object at 0x7f21ca48e2e0>, tmpdir_cwd = local('/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0')\r\n\r\n    def test_build_sdist_pyproject_toml_exists(self, tmpdir_cwd):\r\n        files = {\r\n            'setup.py': DALS(\"\"\"\r\n                __import__('setuptools').setup(\r\n                    name='foo',\r\n                    version='0.0.0',\r\n                    py_modules=['hello']\r\n                )\"\"\"),\r\n            'hello.py': '',\r\n            'pyproject.toml': DALS(\"\"\"\r\n                [build-system]\r\n                requires = [\"setuptools\", \"wheel\"]\r\n                build-backend = \"setuptools.build_meta\r\n                \"\"\"),\r\n        }\r\n        path.build(files)\r\n        build_backend = self.get_build_backend()\r\n>       targz_path = build_backend.build_sdist(\"temp\")\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:268:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/tests/test_build_meta.py:34: in method\r\n    return self.pool.submit(caller, name, *args, **kw).result()\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:444: in result\r\n    return self.__get_result()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = None\r\n\r\n    def __get_result(self):\r\n        if self._exception:\r\n            try:\r\n>               raise self._exception\r\nE               tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at line 3, column 39)\r\n\r\n/usr/lib64/python3.8/concurrent/futures/_base.py:389: TOMLDecodeError\r\n___________________________________________________________________ TestNamespaces.test_editable_prefix ____________________________________________________________________\r\n\r\nself = <setuptools.tests.test_develop.TestNamespaces object at 0x7f21af9f1b80>, tmp_path = PosixPath('/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0')\r\nsample_project = PosixPath('/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/sampleproject')\r\n\r\n    @pytest.mark.xfail(\r\n        platform.python_implementation() == 'PyPy',\r\n        reason=\"Workaround fails on PyPy (why?)\",\r\n    )\r\n    def test_editable_prefix(self, tmp_path, sample_project):\r\n        \"\"\"\r\n        Editable install to a prefix should be discoverable.\r\n        \"\"\"\r\n        prefix = tmp_path / 'prefix'\r\n        prefix.mkdir()\r\n\r\n        # figure out where pip will likely install the package\r\n        site_packages = prefix / next(\r\n            pathlib.Path(path).relative_to(sys.prefix)\r\n            for path in sys.path\r\n            if 'site-packages' in path and path.startswith(sys.prefix)\r\n        )\r\n\r\n        # install the workaround\r\n        self.install_workaround(site_packages)\r\n\r\n        env = dict(os.environ, PYTHONPATH=str(site_packages))\r\n        cmd = [\r\n            sys.executable,\r\n            '-m',\r\n            'pip',\r\n            'install',\r\n            '--editable',\r\n            str(sample_project),\r\n            '--prefix',\r\n            str(prefix),\r\n            '--no-build-isolation',\r\n        ]\r\n        subprocess.check_call(cmd, env=env)\r\n\r\n        # now run 'sample' with the prefix on the PYTHONPATH\r\n        bin = 'Scripts' if platform.system() == 'Windows' else 'bin'\r\n        exe = prefix / bin / 'sample'\r\n        if sys.version_info < (3, 7) and platform.system() == 'Windows':\r\n            exe = str(exe)\r\n>       subprocess.check_call([exe], env=env)\r\n\r\nsetuptools/tests/test_develop.py:224:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\npopenargs = ([PosixPath('/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/prefix/bin/sample')],)\r\nkwargs = {'env': {'AR': '/usr/bin/gcc-ar', 'BASH_FUNC_which%%': '() {  ( alias;\\n eval ${which_declare} ) | /usr/bin/which --tt...es -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none', ...}}\r\nretcode = 1, cmd = [PosixPath('/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/prefix/bin/sample')]\r\n\r\n    def check_call(*popenargs, **kwargs):\r\n        \"\"\"Run command with arguments.  Wait for command to complete.  If\r\n        the exit code was zero then return, otherwise raise\r\n        CalledProcessError.  The CalledProcessError object will have the\r\n        return code in the returncode attribute.\r\n\r\n        The arguments are the same as for the call function.  Example:\r\n\r\n        check_call([\"ls\", \"-l\"])\r\n        \"\"\"\r\n        retcode = call(*popenargs, **kwargs)\r\n        if retcode:\r\n            cmd = kwargs.get(\"args\")\r\n            if cmd is None:\r\n                cmd = popenargs[0]\r\n>           raise CalledProcessError(retcode, cmd)\r\nE           subprocess.CalledProcessError: Command '[PosixPath('/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/prefix/bin/sample')]' returned non-zero exit status 1.\r\n\r\n/usr/lib64/python3.8/subprocess.py:364: CalledProcessError\r\n-------------------------------------------------------------------------- Captured stderr setup ---------------------------------------------------------------------------\r\nCloning into 'sampleproject'...\r\n--------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------\r\nObtaining file:///tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/sampleproject\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'done'\r\nCollecting peppercorn\r\n  Using cached peppercorn-0.6-py3-none-any.whl (4.8 kB)\r\nInstalling collected packages: peppercorn, sampleproject\r\n  Running setup.py develop for sampleproject\r\nSuccessfully installed peppercorn-0.6 sampleproject-2.0.0\r\n--------------------------------------------------------------------------- Captured stderr call ---------------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/prefix/bin/sample\", line 33, in <module>\r\n    sys.exit(load_entry_point('sampleproject', 'console_scripts', 'sample')())\r\n  File \"/tmp/pytest-of-tkloczko/pytest-59/test_editable_prefix0/prefix/bin/sample\", line 22, in importlib_load_entry_point\r\n    for entry_point in distribution(dist_name).entry_points\r\n  File \"/usr/lib64/python3.8/importlib/metadata.py\", line 503, in distribution\r\n    return Distribution.from_name(distribution_name)\r\n  File \"/usr/lib64/python3.8/importlib/metadata.py\", line 177, in from_name\r\n    raise PackageNotFoundError(name)\r\nimportlib.metadata.PackageNotFoundError: sampleproject\r\n__________________________________________________________ TestSetupRequires.test_setup_requires_with_allow_hosts __________________________________________________________\r\n\r\nself = <setuptools.tests.test_easy_install.TestSetupRequires object at 0x7f2130e96580>, mock_index = <MockServer(Thread-4, started daemon 139780391347776)>\r\n\r\n    def test_setup_requires_with_allow_hosts(self, mock_index):\r\n        ''' The `allow-hosts` option in not supported anymore. '''\r\n        with contexts.save_pkg_resources_state():\r\n            with contexts.tempdir() as temp_dir:\r\n                test_pkg = os.path.join(temp_dir, 'test_pkg')\r\n                test_setup_py = os.path.join(test_pkg, 'setup.py')\r\n                test_setup_cfg = os.path.join(test_pkg, 'setup.cfg')\r\n                os.mkdir(test_pkg)\r\n                with open(test_setup_py, 'w') as fp:\r\n                    fp.write(DALS(\r\n                        '''\r\n                        from setuptools import setup\r\n                        setup(setup_requires='python-xlib')\r\n                        '''))\r\n                with open(test_setup_cfg, 'w') as fp:\r\n                    fp.write(DALS(\r\n                        '''\r\n                        [easy_install]\r\n                        allow_hosts = *\r\n                        '''))\r\n                with pytest.raises(distutils.errors.DistutilsError):\r\n>                   run_setup(test_setup_py, [str('--version')])\r\nE                   Failed: DID NOT RAISE <class 'distutils.errors.DistutilsError'>\r\n\r\nsetuptools/tests/test_easy_install.py:691: Failed\r\n--------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------\r\n0.0.0\r\n========================================================================= short test summary info ==========================================================================\r\nSKIPPED [2] setuptools/tests/test_msvc.py:17: could not import 'distutils.msvc9compiler': No module named 'winreg'\r\nSKIPPED [1] pkg_resources/tests/test_pkg_resources.py:382: Testing case-insensitive filesystems.\r\nSKIPPED [3] pkg_resources/tests/test_pkg_resources.py:399: Testing systems using backslashes as path separators.\r\nSKIPPED [1] setuptools/tests/test_develop.py:66: TODO: needs a fixture to cause 'develop' to be invoked without mutating environment.\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:50: Windows only\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:78: Windows only\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:16: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:34: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:52: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:68: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:69: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:110: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:169: Windows only\r\nXFAIL setuptools/tests/test_bdist_egg.py::Test::test_exclude_source_files\r\n  Byte code disabled\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 1.2: Project-Url-attrs5]\r\n  Issue #1578: project_urls not read\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 2.1: Provides Extra-attrs9]\r\n  provides_extras not read\r\nXFAIL setuptools/tests/test_egg_info.py::TestEggInfo::test_requires[extras_require_with_marker_in_setup_cfg]\r\nXFAIL setuptools/tests/test_virtualenv.py::test_pip_upgrade_from_source[pip==19.3.1]\r\n  pypa/pip#6599\r\nXPASS setuptools/tests/test_archive_util.py::test_unicode_files #710 and #712\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaBackend::test_build_with_existing_file_present[wheel] - tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" ...\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaBackend::test_build_with_existing_file_present[sdist] - tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" ...\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaBackend::test_build_sdist_pyproject_toml_exists - tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" (at li...\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaLegacyBackend::test_build_with_existing_file_present[wheel] - tomli._parser.TOMLDecodeError: Illegal character \"...\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaLegacyBackend::test_build_with_existing_file_present[sdist] - tomli._parser.TOMLDecodeError: Illegal character \"...\r\nFAILED setuptools/tests/test_build_meta.py::TestBuildMetaLegacyBackend::test_build_sdist_pyproject_toml_exists - tomli._parser.TOMLDecodeError: Illegal character \"'\\n'\" ...\r\nFAILED setuptools/tests/test_develop.py::TestNamespaces::test_editable_prefix - subprocess.CalledProcessError: Command '[PosixPath('/tmp/pytest-of-tkloczko/pytest-59/tes...\r\nFAILED setuptools/tests/test_easy_install.py::TestSetupRequires::test_setup_requires_with_allow_hosts - Failed: DID NOT RAISE <class 'distutils.errors.DistutilsError'>\r\n======================================== 8 failed, 692 passed, 16 skipped, 1 deselected, 5 xfailed, 1 xpassed in 438.35s (0:07:18) =========================================\r\npytest-xprocess reminder::Be sure to terminate the started process by running 'pytest --xkill' if you have not explicitly done so in your fixture with 'xprocess.getinfo(<process_name>).terminate()'.\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54/test_rmtree_errorhandler_reado0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_rmtree_errorhandler_reado0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54/test_rmtree_errorhandler_rerai0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_rmtree_errorhandler_rerai0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54/test_safe_set_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_set_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54/test_safe_delete_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_delete_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54/test_safe_get_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_get_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54\r\n<class 'OSError'>: [Errno 39] Directory not empty: '/tmp/pytest-of-tkloczko/garbage-f1f3071b-83c8-46de-8bca-692999f05c54'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20/test_rmtree_errorhandler_reado0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_rmtree_errorhandler_reado0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20/test_rmtree_errorhandler_rerai0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_rmtree_errorhandler_rerai0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20/test_safe_get_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_get_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20/test_safe_set_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_set_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20/test_safe_delete_no_perms0\r\n<class 'OSError'>: [Errno 39] Directory not empty: 'test_safe_delete_no_perms0'\r\n  warnings.warn(\r\n/usr/lib/python3.8/site-packages/_pytest/pathlib.py:80: PytestWarning: (rm_rf) error removing /tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20\r\n<class 'OSError'>: [Errno 39] Directory not empty: '/tmp/pytest-of-tkloczko/garbage-cd6ec115-8e81-4461-858b-fb9d8e212f20'\r\n  warnings.warn(\r\n```\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2769", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2769/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2769/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2769/events", "html_url": "https://github.com/pypa/setuptools/issues/2769", "id": 989318522, "node_id": "MDU6SXNzdWU5ODkzMTg1MjI=", "number": 2769, "title": "[BUG] Should fail hard when installing packages that want 2to3", "user": {"login": "plumdog", "id": 2348591, "node_id": "MDQ6VXNlcjIzNDg1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2348591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plumdog", "html_url": "https://github.com/plumdog", "followers_url": "https://api.github.com/users/plumdog/followers", "following_url": "https://api.github.com/users/plumdog/following{/other_user}", "gists_url": "https://api.github.com/users/plumdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/plumdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plumdog/subscriptions", "organizations_url": "https://api.github.com/users/plumdog/orgs", "repos_url": "https://api.github.com/users/plumdog/repos", "events_url": "https://api.github.com/users/plumdog/events{/privacy}", "received_events_url": "https://api.github.com/users/plumdog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-09-06T16:29:08Z", "updated_at": "2021-10-01T18:14:52Z", "closed_at": "2021-09-06T18:14:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools==58.0.0\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nLinux\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nTried to install a package that uses 2to3 (specifically https://pypi.org/project/demjson/), got a message from pip like:\r\n```\r\nSuccessfully installed demjson-2.2.3\r\n```\r\nBut really it wasn't successful, and then get confusing `SyntaxError` exceptions.\r\n\r\n\r\n\r\n### Expected behavior\r\n\r\nI have now worked out that this is because of the change to remove `2to3` from setuptools, which I think is a perfectly reasonable change, and because my setuptools version wasn't pinned. But setuptools is not doing something the package is asking for, and the result is going to be something that does not run (though I guess there are caveats here).\r\n\r\nI would have expected to get an error like \"This module wants to use 2to3, but this is not supported [link to github issue about removing 2to3 support]\". At least, that would certainly have saved me time.\r\n\r\n### How to Reproduce\r\n\r\nInstall `demjson==2.2.3` with `setuptools==58.0.0`. Attempt to import and get a syntax error.\r\n\r\n### Output\r\n\r\n```console\r\n$ pip install -U setuptools==58.0.0 && pip install demjson==2.2.3 && python -c 'import demjson'\r\nCollecting setuptools==58.0.0\r\n  Using cached setuptools-58.0.0-py3-none-any.whl (816 kB)\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 56.0.0\r\n    Uninstalling setuptools-56.0.0:\r\n      Successfully uninstalled setuptools-56.0.0\r\nSuccessfully installed setuptools-58.0.0\r\nCollecting demjson==2.2.3\r\n  Using cached demjson-2.2.3.tar.gz (131 kB)\r\nUsing legacy 'setup.py install' for demjson, since package 'wheel' is not installed.\r\nInstalling collected packages: demjson\r\n    Running setup.py install for demjson ... done\r\nSuccessfully installed demjson-2.2.3\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/user/example/venv/lib/python3.9/site-packages/demjson.py\", line 645\r\n    class json_int( (1L).__class__ ):    # Have to specify base this way to satisfy 2to3\r\n                      ^\r\nSyntaxError: invalid syntax\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2765", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2765/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2765/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2765/events", "html_url": "https://github.com/pypa/setuptools/issues/2765", "id": 988622610, "node_id": "MDU6SXNzdWU5ODg2MjI2MTA=", "number": 2765, "title": "[BUG] 58.0.0: `build` fails with \"AttributeError: type object 'Distribution' has no attribute '_finalize_2to3_doctests'\"", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-09-05T23:26:51Z", "updated_at": "2021-09-07T07:15:35Z", "closed_at": "2021-09-06T16:09:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n58.0.0\r\n\r\n### Python version\r\n\r\n3.8.12\r\n\r\n### OS\r\n\r\nLinux/x86_64\r\n\r\n### Additional environment information\r\n\r\nbuild version 0.6.0\r\n\r\n\r\n### Description\r\n\r\nWith `setuptools` I was able to use build procedure consisting from:\r\n- `python3 -m build --no-isolation --wheel`\r\n- generate `egg_info` by  `python3 setup.py egg_info`\r\n- generate man pages using setuptools<>sphinx integration\r\n\r\nIn new version that procedure fails on first step.\r\n\r\n### Expected behavior\r\n\r\n`build` should produce .whl file.\r\n\r\n### How to Reproduce\r\n\r\n- unpack git tagged tar ball\r\n- execute ` SETUPTOOLS_SCM_PRETEND_VERSION=58.0.0 python3 -m build --no-isolation --wheel`\r\n\r\n### Output\r\n\r\n```console\r\n+ cd setuptools-58.0.0\r\n+ SETUPTOOLS_SCM_PRETEND_VERSION=58.0.0\r\n+ /usr/bin/python3 -m build --no-isolation --wheel\r\n* Getting dependencies for wheel...\r\nTraceback (most recent call last):\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/pkg_resources/__init__.py\", line 2458, in resolve\r\n    return functools.reduce(getattr, self.attrs, module)\r\nAttributeError: type object 'Distribution' has no attribute '_finalize_2to3_doctests'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 349, in <module>\r\n    main()\r\n  File \"/usr/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 331, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/usr/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 117, in get_requires_for_build_wheel\r\n    return hook(config_settings)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 154, in get_requires_for_build_wheel\r\n    return self._get_build_requires(\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 135, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 87, in <module>\r\n    dist = setuptools.setup(**setup_params)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 446, in __init__\r\n    _Distribution.__init__(\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 821, in finalize_options\r\n    for ep in sorted(eps, key=by_order):\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/setuptools/dist.py\", line 820, in <lambda>\r\n    eps = map(lambda e: e.load(), pkg_resources.iter_entry_points(group))\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/pkg_resources/__init__.py\", line 2450, in load\r\n    return self.resolve()\r\n  File \"/home/tkloczko/rpmbuild/BUILD/setuptools-58.0.0/pkg_resources/__init__.py\", line 2460, in resolve\r\n    raise ImportError(str(exc)) from exc\r\nImportError: type object 'Distribution' has no attribute '_finalize_2to3_doctests'\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_wheel\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2765/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2759", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2759/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2759/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2759/events", "html_url": "https://github.com/pypa/setuptools/issues/2759", "id": 980690898, "node_id": "MDU6SXNzdWU5ODA2OTA4OTg=", "number": 2759, "title": "[BUG] \"ValueError: path '/' cannot be absolute\" with data_files in setup.cfg", "user": {"login": "victorbnl", "id": 39555268, "node_id": "MDQ6VXNlcjM5NTU1MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/39555268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/victorbnl", "html_url": "https://github.com/victorbnl", "followers_url": "https://api.github.com/users/victorbnl/followers", "following_url": "https://api.github.com/users/victorbnl/following{/other_user}", "gists_url": "https://api.github.com/users/victorbnl/gists{/gist_id}", "starred_url": "https://api.github.com/users/victorbnl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/victorbnl/subscriptions", "organizations_url": "https://api.github.com/users/victorbnl/orgs", "repos_url": "https://api.github.com/users/victorbnl/repos", "events_url": "https://api.github.com/users/victorbnl/events{/privacy}", "received_events_url": "https://api.github.com/users/victorbnl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-26T22:20:52Z", "updated_at": "2021-08-26T22:26:48Z", "closed_at": "2021-08-26T22:26:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n56.0.0\n\n### Python version\n\n3.9.6\n\n### OS\n\nWindows 10 Family 21H1\n\n### Additional environment information\n\nThis happens only when using `setup.cfg` and not with the same values in `setup.py`.\r\n\r\nAlso the problem seems to occur only on Windows, as I have another error when running it in Ubuntu WSL.\n\n### Description\n\nIf I put in setup.py:\r\n\r\n```python\r\ndata_files=[\r\n    \"hello_world/hello_world.txt\"\r\n]\r\n```\r\n\r\nIt works\r\n\r\nBut if I put in setup.cfg:\r\n\r\n```\r\ndata_files =\r\n    hello_world/hello_world.txt\r\n```\r\n\r\nI have \r\n\r\n```\r\nValueError: path '/' cannot be absolute\r\n```\n\n### Expected behavior\n\nThe package installs successfully.\n\n### How to Reproduce\n\nI made a minimal package with which I have this issue: https://github.com/victorbnl/setuptools-valuerror-example\r\n\r\nSo doing\r\n\r\n```\r\npip install git+https://github.com/victorbnl/setuptools-valuerror-example\r\n```\r\n\r\nShould cause this issue\n\n### Output\n\n```console\r\nCollecting git+https://github.com/victorbnl/setuptools-valuerror-example\r\n  Cloning https://github.com/victorbnl/setuptools-valuerror-example to c:\\users\\victor\\appdata\\local\\temp\\pip-req-build-hqcpvg_0\r\n  Running command git clone -q https://github.com/victorbnl/setuptools-valuerror-example 'C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-req-build-hqcpvg_0'\r\n  Resolved https://github.com/victorbnl/setuptools-valuerror-example to commit bbaa09ad5c94ea46b2b1c9b3e482ec8149535a01\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\python.exe' -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\Victor\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-hqcpvg_0\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\Victor\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-hqcpvg_0\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__'\r\n         cwd: C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-req-build-hqcpvg_0\\\r\n    Complete output (35 lines):\r\n    running egg_info\r\n    creating C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__\\setuptools_valuerror_example.egg-info\r\n    writing C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__\\setuptools_valuerror_example.egg-info\\PKG-INFO\r\n    writing dependency_links to C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__\\setuptools_valuerror_example.egg-info\\dependency_links.txt\r\n    writing top-level names to C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__\\setuptools_valuerror_example.egg-info\\top_level.txt\r\n    writing manifest file 'C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-pip-egg-info-ly95cb__\\setuptools_valuerror_example.egg-info\\SOURCES.txt'\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Temp\\pip-req-build-hqcpvg_0\\setup.py\", line 3, in <module>\r\n        setup()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\__init__.py\", line 153, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 299, in run\r\n        self.find_sources()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 306, in find_sources\r\n        mm.run()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 541, in run\r\n        self.add_defaults()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 577, in add_defaults\r\n        sdist.add_defaults(self)\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\command\\sdist.py\", line 227, in add_defaults\r\n        self._add_defaults_data_files()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\setuptools\\command\\sdist.py\", line 136, in _add_defaults_data_files\r\n        super()._add_defaults_data_files()\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\command\\sdist.py\", line 298, in _add_defaults_data_files\r\n        item = convert_path(item)\r\n      File \"C:\\Users\\Victor\\AppData\\Local\\Programs\\Python\\Python39\\lib\\distutils\\util.py\", line 123, in convert_path\r\n        raise ValueError(\"path '%s' cannot be absolute\" % pathname)\r\n    ValueError: path '/' cannot be absolute\r\n    ----------------------------------------\r\nWARNING: Discarding git+https://github.com/victorbnl/setuptools-valuerror-example. Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2759/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2757", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2757/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2757/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2757/events", "html_url": "https://github.com/pypa/setuptools/issues/2757", "id": 979999055, "node_id": "MDU6SXNzdWU5Nzk5OTkwNTU=", "number": 2757, "title": "[BUG] windows launcher generates x86_64 binary for arm64 platform", "user": {"login": "nsait-linaro", "id": 87434895, "node_id": "MDQ6VXNlcjg3NDM0ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/87434895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nsait-linaro", "html_url": "https://github.com/nsait-linaro", "followers_url": "https://api.github.com/users/nsait-linaro/followers", "following_url": "https://api.github.com/users/nsait-linaro/following{/other_user}", "gists_url": "https://api.github.com/users/nsait-linaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/nsait-linaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nsait-linaro/subscriptions", "organizations_url": "https://api.github.com/users/nsait-linaro/orgs", "repos_url": "https://api.github.com/users/nsait-linaro/repos", "events_url": "https://api.github.com/users/nsait-linaro/events{/privacy}", "received_events_url": "https://api.github.com/users/nsait-linaro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-26T08:53:20Z", "updated_at": "2021-10-02T12:49:39Z", "closed_at": "2021-10-02T12:49:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n57.4.0\n\n### Python version\n\n3.1-\n\n### OS\n\nWindows (ARM)\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nsetuptools uses cli-64.exe and gui-64.exe to generate wrapper script binaries for arm64 platform and creates x86_64 executables and they can't be executed on win/arm64 machines.\n\n### Expected behavior\n\nsetuptools should generate arm64 binaries\n\n### How to Reproduce\n\n1. Use example from https://setuptools.readthedocs.io/en/latest/userguide/entry_point.html\r\n2. python setup.py install\r\n3. run hello_world.exe\n\n### Output\n\n```\r\nProgram 'hello-world.exe' failed to run: The specified executable is not a valid application for this OS platform.At line:1 char:1\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2752", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2752/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2752/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2752/events", "html_url": "https://github.com/pypa/setuptools/issues/2752", "id": 974601452, "node_id": "MDU6SXNzdWU5NzQ2MDE0NTI=", "number": 2752, "title": "[BUG] setup.py install doesnt escape whitespaces", "user": {"login": "moonburnt", "id": 52989889, "node_id": "MDQ6VXNlcjUyOTg5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/52989889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moonburnt", "html_url": "https://github.com/moonburnt", "followers_url": "https://api.github.com/users/moonburnt/followers", "following_url": "https://api.github.com/users/moonburnt/following{/other_user}", "gists_url": "https://api.github.com/users/moonburnt/gists{/gist_id}", "starred_url": "https://api.github.com/users/moonburnt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moonburnt/subscriptions", "organizations_url": "https://api.github.com/users/moonburnt/orgs", "repos_url": "https://api.github.com/users/moonburnt/repos", "events_url": "https://api.github.com/users/moonburnt/events{/privacy}", "received_events_url": "https://api.github.com/users/moonburnt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 617596083, "node_id": "MDU6TGFiZWw2MTc1OTYwODM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/upstream", "name": "upstream", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-19T12:16:15Z", "updated_at": "2021-09-04T14:58:21Z", "closed_at": "2021-09-04T14:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools==57.4.0\n\n### Python version\n\nPython 3.9\n\n### OS\n\nManjaro Linux\n\n### Additional environment information\n\nPath to project/project's venv must contain whitespaces in it\n\n### Description\n\nIm using setuptools + venv on linux. If path to environment contains spaces in it, attempting to run \"python setup.py install\" for project with entry points finish successfully, but then Im unable to run any of these coz doing so cause crash with \"bad interpreter: no such file or directory\" error.\n\n### Expected behavior\n\nCode that generate launch scripts should escape whitespaces and other weird characters, if present. Coz its not user's responsibility to only have paths consisting of english A-Z.\n\n### How to Reproduce\n\n0. Create some project on path that contain spaces. Say, `/path/to/my project/project`\r\n1. Create venv in there, `source .venv/bin/activate`, then install all required dependencies\r\n2. Create valid setup.py with some entry point in it\r\n3. `python setup.py install`\r\n4. No errors will happen during installation, but attempting to run any launcher script generated from entry point will return `bash: path/to/my project/project/.venv/bin/runmyproject /path/to/my: bad interpreter: no such file or directory`.\r\n\r\nE.g what exactly happens - code that generate launcher scripts didnt care if generated paths have whitespaces, which caused exec to only read path to first space.\n\n### Output\n\n```console\r\nrunmyproject\r\n\r\nbash: path/to/my project/project/.venv/bin/runmyproject /path/to/my: bad interpreter: no such file or directory\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2752/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2739", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2739/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2739/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2739/events", "html_url": "https://github.com/pypa/setuptools/issues/2739", "id": 951551660, "node_id": "MDU6SXNzdWU5NTE1NTE2NjA=", "number": 2739, "title": "[BUG] Unusually named license_files not included in dist-info", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-07-23T12:50:35Z", "updated_at": "2023-01-20T10:53:21Z", "closed_at": "2023-01-20T10:53:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nsetuptools===57.4.0\n\n### Python version\n\n3.9.6\n\n### OS\n\nFedora Linux 33, x86_64\n\n### Additional environment information\n\n    wheel===0.36.2\n\n### Description\n\nI've tried to test out https://github.com/pypa/setuptools/pull/2645 but including license files not named according to this pattern:\r\n\r\nhttps://github.com/pypa/setuptools/blob/0c302d232dd1a1f4ec531050532a84274edac2f4/setuptools/dist.py#L596\r\n\r\nAre not included in dist info.\n\n### Expected behavior\n\nI expected that files explicitly listed in `license_files` will always be listed in `METADATA` under `License-File:` and will always be included in the dist-info directory regardless of their filename.\n\n### How to Reproduce\n\n\r\nConsider this `setup.py`:\r\n\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    name='nested_dist',\r\n    version='666',\r\n    license_files=['LICENSE'],\r\n)\r\n```\r\n\r\nAnd an empty `LICENSE` file.\r\n\r\nRun:\r\n\r\n    $ python -c 'import setuptools.build_meta; setuptools.build_meta.__legacy__.prepare_metadata_for_build_wheel(\".\")'\r\n\r\nOr:\r\n\r\n    $ python setup.py bdist_wheel\r\n\r\nOr:\r\n\r\n    $ pip wheel .\r\n\r\nYou'll see something like:\r\n\r\n```\r\nrunning dist_info\r\n...\r\nadding license file 'LICENSE'\r\n...\r\nadding license file \"LICENSE\" (matched pattern \"LICEN[CS]E*\")\r\n...\r\n```\r\n\r\nThe `LICENSE` file will be listed in `METADATA` under `License-File:` and it will be included in the dist-info directory.\r\n\r\nNow rename `LICENSE` to `DIFFERENT` and adapt `license_files` accordingly:\r\n\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n    name='nested_dist',\r\n    version='666',\r\n    license_files=['DIFFERENT'],\r\n)\r\n```\r\n\r\nYou'll get:\r\n\r\n```\r\n...\r\nadding license file 'DIFFERENT'\r\n...\r\n```\r\n\r\nThe `DIFFERENT` file will be listed in `METADATA` under `License-File:` and it will **not** be included in the dist-info directory.\n\n### Output\n\nSee above.\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2739/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2724", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2724/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2724/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2724/events", "html_url": "https://github.com/pypa/setuptools/issues/2724", "id": 941100120, "node_id": "MDU6SXNzdWU5NDExMDAxMjA=", "number": 2724, "title": "[BUG] win-arm64 platform is not detected", "user": {"login": "zooba", "id": 1693688, "node_id": "MDQ6VXNlcjE2OTM2ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1693688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zooba", "html_url": "https://github.com/zooba", "followers_url": "https://api.github.com/users/zooba/followers", "following_url": "https://api.github.com/users/zooba/following{/other_user}", "gists_url": "https://api.github.com/users/zooba/gists{/gist_id}", "starred_url": "https://api.github.com/users/zooba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zooba/subscriptions", "organizations_url": "https://api.github.com/users/zooba/orgs", "repos_url": "https://api.github.com/users/zooba/repos", "events_url": "https://api.github.com/users/zooba/events{/privacy}", "received_events_url": "https://api.github.com/users/zooba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-09T22:28:49Z", "updated_at": "2021-07-15T02:09:18Z", "closed_at": "2021-07-15T02:09:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nlatest\n\n### Python version\n\nany\n\n### OS\n\nWindows\n\n### Additional environment information\n\nOnly relevant when `%VSCMD_ARG_TGT_ARCH%` is set to `arm64` (for example, in a configured build environment).\n\n### Description\n\nFor other values (`x86`, `x64`, `arm`), the `VSCMD_ARG_TGT_ARCH` variable is used to select the platform specifier (see setuptools/_distutils/util.py line 100ish). There is no value for `arm64`, and so it builds for the current platform rather than cross-compiling.\n\n### Expected behavior\n\nWhen the value is `arm64`, it should select platform `win-arm64`. This allows later steps to select the correct build tools and cross-compile.\r\n\r\nNote that you also need to [obtain and] ensure that setuptools will find the ARM64 compatible .lib files for Python. Putting them into a venv's `libs` directory works fine (provided you make sure the build happens in that venv, which is not hard).\n\n### How to Reproduce\n\n1. Open regular command prompt\r\n2. `set VSCMD_ARG_TGT_ARCH=arm64`\r\n3. `pip wheel --no-binary :all: --no-deps --no-cache --no-build-isolation markupsafe` (or any other simple module with native code)\r\n\r\nThe generated wheel will be for the same platform as the Python it was run with, rather than respecting the target architecture.\r\n\r\nIf you `set VSCMD_ARG_TGT_ARCH=arm` without getting the right libs, the compilation fails and it generates a `none-any` wheel because markupsafe knows how to handle this. Other packages will just hard fail.\n\n### Output\n\n```console\r\nCollecting markupsafe                                                                                                   \r\n  Downloading MarkupSafe-2.0.1.tar.gz (18 kB)                                                                           \r\nBuilding wheels for collected packages: markupsafe                                                                      \r\n  Building wheel for markupsafe (setup.py) ... done                                                                     \r\n  Created wheel for markupsafe: filename=MarkupSafe-2.0.1-cp39-cp39-win_amd64.whl size=17214 sha256=cd682d318cfd3a5805c032fa6b1d9e40def490f62be7b4057fcd67cf4f6cc1dc                                                                            \r\n  Stored in directory: C:\\...\\Temp\\pip-ephem-wheel-cache-lgs8awq4\\wheels\\9f\\6d\\c8\\1f59b07cf85ae842908006ec28f4477f7e4578df72c3eb0e46                                                                                     \r\nSuccessfully built markupsafe                                                                                           \r\n```\r\n\r\nNote that the wheel platform is `win32` or `win_amd64`, and not `win_arm64`.\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2724/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2715", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2715/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2715/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2715/events", "html_url": "https://github.com/pypa/setuptools/issues/2715", "id": 936526472, "node_id": "MDU6SXNzdWU5MzY1MjY0NzI=", "number": 2715, "title": "[BUG] ssl.match_hostname is deprecated", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-04T19:41:12Z", "updated_at": "2021-07-04T21:03:48Z", "closed_at": "2021-07-04T21:03:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\nmain\n\n### Python version\n\n3.10b something\n\n### OS\n\nCI\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nAfter merging jaraco/skeleton, which includes running tests on Python 3.10, some deprecation warnings manifest as errors: https://github.com/pypa/setuptools/runs/2984838195\n\n### Expected behavior\n\nSetuptools should be deprecation-free.\n\n### How to Reproduce\n\nFollow the CI steps.\n\n### Output\n\nn/a\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2704", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2704/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2704/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2704/events", "html_url": "https://github.com/pypa/setuptools/issues/2704", "id": 925379349, "node_id": "MDU6SXNzdWU5MjUzNzkzNDk=", "number": 2704, "title": "[BUG] \"Unknown MS Compiler version\" when compiling with mingw32", "user": {"login": "hickford", "id": 105314, "node_id": "MDQ6VXNlcjEwNTMxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/105314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hickford", "html_url": "https://github.com/hickford", "followers_url": "https://api.github.com/users/hickford/followers", "following_url": "https://api.github.com/users/hickford/following{/other_user}", "gists_url": "https://api.github.com/users/hickford/gists{/gist_id}", "starred_url": "https://api.github.com/users/hickford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hickford/subscriptions", "organizations_url": "https://api.github.com/users/hickford/orgs", "repos_url": "https://api.github.com/users/hickford/repos", "events_url": "https://api.github.com/users/hickford/events{/privacy}", "received_events_url": "https://api.github.com/users/hickford/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-19T11:56:25Z", "updated_at": "2022-01-27T11:04:05Z", "closed_at": "2022-01-27T11:04:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "From https://bugs.python.org/issue25251#msg251758\r\n\r\n> Hi distutils. I previously used compiler=mingw32 with success. Today I installed Visual Studio 2015. Now compiler=mingw32 gives me an error\r\n>\r\n> File \"c:\\python35\\lib\\distutils\\cygwinccompiler.py\", line 86, in get_msvcr     raise ValueError(\"Unknown MS Compiler version %s \" % msc_ver) ValueError: Unknown MS Compiler version 1900\r\n>\r\n> Any ideas? I don't understand why what msvc I have installed affects build with mingw32\r\n\r\nThis code still exists in https://github.com/pypa/setuptools/blob/main/setuptools/_distutils/cygwinccompiler.py\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2699", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2699/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2699/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2699/events", "html_url": "https://github.com/pypa/setuptools/issues/2699", "id": 924269757, "node_id": "MDU6SXNzdWU5MjQyNjk3NTc=", "number": 2699, "title": "[FEATURE] Allow paths outiside of the source code for long_description", "user": {"login": "airvzxf", "id": 831380, "node_id": "MDQ6VXNlcjgzMTM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/831380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/airvzxf", "html_url": "https://github.com/airvzxf", "followers_url": "https://api.github.com/users/airvzxf/followers", "following_url": "https://api.github.com/users/airvzxf/following{/other_user}", "gists_url": "https://api.github.com/users/airvzxf/gists{/gist_id}", "starred_url": "https://api.github.com/users/airvzxf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/airvzxf/subscriptions", "organizations_url": "https://api.github.com/users/airvzxf/orgs", "repos_url": "https://api.github.com/users/airvzxf/repos", "events_url": "https://api.github.com/users/airvzxf/events{/privacy}", "received_events_url": "https://api.github.com/users/airvzxf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-17T19:40:52Z", "updated_at": "2021-07-05T01:55:26Z", "closed_at": "2021-07-05T01:55:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\nsetuptools>=57.0.0\r\n\r\n### Python version\r\n\r\nPython 3.9\r\n\r\n### OS\r\n\r\nArch Linux\r\n\r\n### Additional environment information\r\n\r\nIt happens when I try to use a README.md file outside the source folder.\r\n\r\n### Description\r\n\r\nIn the file `setup.cfg`, when I try to use the read me file `../README.md` it is not working.\r\n\r\nError: \r\n```text\r\ndistutils.errors.DistutilsOptionError: `file:` directive can not access /home/wolf/workspace/projects/sniparinject/README.md\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_sdist\r\n```\r\n\r\nThe file exists, looks the parsing of the `setup.cfg` is not recognized in the paths outside the source code, for example `../README.md` is not working but `./other_folder/README.md` works.\r\n\r\nI found this issue https://github.com/pypa/setuptools/issues/1635, which was related to my problem, but I am not agreed. \r\n\r\n### Expected behavior\r\n\r\nSame as the `setup.py`, which recognize the paths outside the source code.\r\n\r\n```python\r\nimport setuptools\r\n\r\nwith open('../README.md', 'r', encoding=\"utf-8\") as fh:\r\n    long_description = fh.read()\r\n\r\nsetuptools.setup(\r\n    long_description=long_description,\r\n)\r\n```\r\n\r\n### How to Reproduce\r\n\r\n```bash\r\ngit clone --no-checkout https://github.com/airvzxf/sniparinject.git\r\ncd sniparinject || exit 123\r\ngit checkout af2215e3661e06c2d2569949d9b19f6f549a90e8\r\n\r\n./script/setup-dev.bash\r\n\r\n# Display read me file.\r\nls -lha README.md\r\n\r\ncd ./src || exit\r\n\r\n# Display read me file.\r\nls -lha ../README.md\r\n\r\n# Check if the setup cfg has the parameter: long_description = file: ../README.md\r\ncat setup.cfg\r\n\r\nrm -fR build dist ./*.egg-info\r\nsource ../venv/bin/activate\r\npython3 -m pip install --upgrade pip build twine\r\npython3 -m build\r\n```\r\n\r\n### Output\r\n\r\n```console\r\n/home/wolf/workspace/projects/sniparinject/script/pypi-build.bash\r\n\r\nCURRENT_PATH=$(dirname \"${0}\")\r\ncd \"${CURRENT_PATH}\" || exit\r\n\r\ncd ../src || exit\r\nrm -fR build dist ./*.egg-info\r\nsource ../venv/bin/activate\r\n# This file must be used with \"source bin/activate\" *from bash*\r\n# you cannot run it directly\r\n\r\ndeactivate () {\r\n    # reset old environment variables\r\n    if [ -n \"${_OLD_VIRTUAL_PATH:-}\" ] ; then\r\n        PATH=\"${_OLD_VIRTUAL_PATH:-}\"\r\n        export PATH\r\n        unset _OLD_VIRTUAL_PATH\r\n    fi\r\n    if [ -n \"${_OLD_VIRTUAL_PYTHONHOME:-}\" ] ; then\r\n        PYTHONHOME=\"${_OLD_VIRTUAL_PYTHONHOME:-}\"\r\n        export PYTHONHOME\r\n        unset _OLD_VIRTUAL_PYTHONHOME\r\n    fi\r\n\r\n    # This should detect bash and zsh, which have a hash command that must\r\n    # be called to get it to forget past commands.  Without forgetting\r\n    # past commands the $PATH changes we made may not be respected\r\n    if [ -n \"${BASH:-}\" -o -n \"${ZSH_VERSION:-}\" ] ; then\r\n        hash -r 2> /dev/null\r\n    fi\r\n\r\n    if [ -n \"${_OLD_VIRTUAL_PS1:-}\" ] ; then\r\n        PS1=\"${_OLD_VIRTUAL_PS1:-}\"\r\n        export PS1\r\n        unset _OLD_VIRTUAL_PS1\r\n    fi\r\n\r\n    unset VIRTUAL_ENV\r\n    if [ ! \"${1:-}\" = \"nondestructive\" ] ; then\r\n    # Self destruct!\r\n        unset -f deactivate\r\n    fi\r\n}\r\n\r\n# unset irrelevant variables\r\ndeactivate nondestructive\r\n\r\nVIRTUAL_ENV=\"/home/wolf/workspace/projects/sniparinject/venv\"\r\nexport VIRTUAL_ENV\r\n\r\n_OLD_VIRTUAL_PATH=\"$PATH\"\r\nPATH=\"$VIRTUAL_ENV/bin:$PATH\"\r\nexport PATH\r\n\r\n# unset PYTHONHOME if set\r\n# this will fail if PYTHONHOME is set to the empty string (which is bad anyway)\r\n# could use `if (set -u; : $PYTHONHOME) ;` in bash\r\nif [ -n \"${PYTHONHOME:-}\" ] ; then\r\n    _OLD_VIRTUAL_PYTHONHOME=\"${PYTHONHOME:-}\"\r\n    unset PYTHONHOME\r\nfi\r\n\r\nif [ -z \"${VIRTUAL_ENV_DISABLE_PROMPT:-}\" ] ; then\r\n    _OLD_VIRTUAL_PS1=\"${PS1:-}\"\r\n    PS1=\"(venv) ${PS1:-}\"\r\n    export PS1\r\nfi\r\n\r\n# This should detect bash and zsh, which have a hash command that must\r\n# be called to get it to forget past commands.  Without forgetting\r\n# past commands the $PATH changes we made may not be respected\r\nif [ -n \"${BASH:-}\" -o -n \"${ZSH_VERSION:-}\" ] ; then\r\n    hash -r 2> /dev/null\r\nfi\r\npython3 -m pip install --upgrade pip build twine\r\nRequirement already satisfied: pip in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (21.1.2)\r\nRequirement already satisfied: build in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (0.4.0)\r\nRequirement already satisfied: twine in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (3.4.1)\r\nRequirement already satisfied: pep517>=0.9.1 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from build) (0.10.0)\r\nRequirement already satisfied: packaging>=19.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from build) (20.9)\r\nRequirement already satisfied: toml>=0.10.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from build) (0.10.2)\r\nRequirement already satisfied: pyparsing>=2.0.2 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from packaging>=19.0->build) (2.4.7)\r\nRequirement already satisfied: colorama>=0.4.3 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (0.4.4)\r\nRequirement already satisfied: requests-toolbelt!=0.9.0,>=0.8.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (0.9.1)\r\nRequirement already satisfied: rfc3986>=1.4.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (1.5.0)\r\nRequirement already satisfied: tqdm>=4.14 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (4.61.1)\r\nRequirement already satisfied: pkginfo>=1.4.2 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (1.7.0)\r\nRequirement already satisfied: readme-renderer>=21.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (29.0)\r\nRequirement already satisfied: requests>=2.20 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (2.25.1)\r\nRequirement already satisfied: keyring>=15.1 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (23.0.1)\r\nRequirement already satisfied: importlib-metadata>=3.6 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from twine) (4.5.0)\r\nRequirement already satisfied: zipp>=0.5 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from importlib-metadata>=3.6->twine) (3.4.1)\r\nRequirement already satisfied: SecretStorage>=3.2 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from keyring>=15.1->twine) (3.3.1)\r\nRequirement already satisfied: jeepney>=0.4.2 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from keyring>=15.1->twine) (0.6.0)\r\nRequirement already satisfied: docutils>=0.13.1 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from readme-renderer>=21.0->twine) (0.17.1)\r\nRequirement already satisfied: bleach>=2.1.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from readme-renderer>=21.0->twine) (3.3.0)\r\nRequirement already satisfied: six in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from readme-renderer>=21.0->twine) (1.16.0)\r\nRequirement already satisfied: Pygments>=2.5.1 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from readme-renderer>=21.0->twine) (2.9.0)\r\nRequirement already satisfied: webencodings in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from bleach>=2.1.0->readme-renderer>=21.0->twine) (0.5.1)\r\nRequirement already satisfied: certifi>=2017.4.17 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from requests>=2.20->twine) (2021.5.30)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from requests>=2.20->twine) (1.26.5)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from requests>=2.20->twine) (4.0.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from requests>=2.20->twine) (2.10)\r\nRequirement already satisfied: cryptography>=2.0 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from SecretStorage>=3.2->keyring>=15.1->twine) (3.4.7)\r\nRequirement already satisfied: cffi>=1.12 in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from cryptography>=2.0->SecretStorage>=3.2->keyring>=15.1->twine) (1.14.5)\r\nRequirement already satisfied: pycparser in /home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages (from cffi>=1.12->cryptography>=2.0->SecretStorage>=3.2->keyring>=15.1->twine) (2.20)\r\npython3 -m build\r\nFound existing installation: setuptools 56.0.0\r\nUninstalling setuptools-56.0.0:\r\n  Successfully uninstalled setuptools-56.0.0\r\nCollecting wheel>=0.36.2\r\n  Using cached wheel-0.36.2-py2.py3-none-any.whl (35 kB)\r\nCollecting pip>=21.1.2\r\n  Using cached pip-21.1.2-py3-none-any.whl (1.5 MB)\r\nCollecting setuptools>=57.0.0\r\n  Using cached setuptools-57.0.0-py3-none-any.whl (821 kB)\r\nInstalling collected packages: wheel, setuptools, pip\r\n  Attempting uninstall: pip\r\n    Found existing installation: pip 21.1.1\r\n    Uninstalling pip-21.1.1:\r\n      Successfully uninstalled pip-21.1.1\r\nSuccessfully installed pip-21.1.2 setuptools-57.0.0 wheel-0.36.2\r\nTraceback (most recent call last):\r\n  File \"/home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 280, in <module>\r\n    main()\r\n  File \"/home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 263, in main\r\n    json_out['return_val'] = hook(**hook_input['kwargs'])\r\n  File \"/home/wolf/workspace/projects/sniparinject/venv/lib/python3.9/site-packages/pep517/in_process/_in_process.py\", line 219, in get_requires_for_build_sdist\r\n    return hook(config_settings)\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/build_meta.py\", line 159, in get_requires_for_build_sdist\r\n    return self._get_build_requires(config_settings, requirements=[])\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/build_meta.py\", line 135, in _get_build_requires\r\n    self.run_setup()\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/build_meta.py\", line 150, in run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 1, in <module>\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib/python3.9/distutils/core.py\", line 121, in setup\r\n    dist.parse_config_files()\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/dist.py\", line 772, in parse_config_files\r\n    parse_configuration(self, self.command_options,\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 157, in parse_configuration\r\n    meta.parse()\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 463, in parse\r\n    section_parser_method(section_options)\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 436, in parse_section\r\n    self[name] = value\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 220, in __setitem__\r\n    value = parser(value)\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 330, in _parse_file\r\n    return '\\n'.join(\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 333, in <genexpr>\r\n    if (cls._assert_local(path) or True)\r\n  File \"/tmp/build-env-kalupbcw/lib/python3.9/site-packages/setuptools/config.py\", line 340, in _assert_local\r\n    raise DistutilsOptionError(\r\ndistutils.errors.DistutilsOptionError: `file:` directive can not access /home/wolf/workspace/projects/sniparinject/README.md\r\n\r\nERROR Backend subproccess exited when trying to invoke get_requires_for_build_sdist\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2691", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2691/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2691/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2691/events", "html_url": "https://github.com/pypa/setuptools/issues/2691", "id": 907464164, "node_id": "MDU6SXNzdWU5MDc0NjQxNjQ=", "number": 2691, "title": "[BUG] Generated PKG-INFO file is not reproducible", "user": {"login": "rpurdie", "id": 1184070, "node_id": "MDQ6VXNlcjExODQwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1184070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpurdie", "html_url": "https://github.com/rpurdie", "followers_url": "https://api.github.com/users/rpurdie/followers", "following_url": "https://api.github.com/users/rpurdie/following{/other_user}", "gists_url": "https://api.github.com/users/rpurdie/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpurdie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpurdie/subscriptions", "organizations_url": "https://api.github.com/users/rpurdie/orgs", "repos_url": "https://api.github.com/users/rpurdie/repos", "events_url": "https://api.github.com/users/rpurdie/events{/privacy}", "received_events_url": "https://api.github.com/users/rpurdie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-31T13:17:15Z", "updated_at": "2022-01-05T20:40:52Z", "closed_at": "2022-01-05T20:40:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\n57.0.0\n\n### Python version\n\n3.9\n\n### OS\n\nLinux\n\n### Additional environment information\n\nWe're seeing this in Yocto Project builds (cross compiling for many different architectures/targets on multiple host distros)\n\n### Description\n\nWe're seeing an issue where the PKG-INFO file generated depends on the order of the files on the disk as returned by os.listdir(). This probably isn't intended. This involves the License-File lines, for example for python-packaging, one build shows:\r\n\r\nLicense-File: LICENSE \r\nLicense-File: LICENSE.APACHE\r\nLicense-File: LICENSE.BSD\r\n\r\nand the other shows:\r\n\r\nLicense-File: LICENSE \r\nLicense-File: LICENSE.BSD\r\nLicense-File: LICENSE.APACHE\r\n\r\nwhere the last two entries are reversed. The output from our CI showing the issue is here:\r\n\r\nhttps://autobuilder.yocto.io/pub/repro-fail/oe-reproducible-20210531-niv755r2/packages/diff-html/\n\n### Expected behavior\n\nThe files would have deterministic output regardless of the order of the files on disk.\n\n### How to Reproduce\n\nChanging _expand_patterns() in setuptools/dist.py:\r\n\r\nIndex: setuptools-57.0.0/setuptools/dist.py\r\n===================================================================\r\n--- setuptools-57.0.0.orig/setuptools/dist.py\r\n+++ setuptools-57.0.0/setuptools/dist.py\r\n@@ -15,7 +15,7 @@ import distutils.command\r\n from distutils.util import strtobool\r\n from distutils.debug import DEBUG\r\n from distutils.fancy_getopt import translate_longopt\r\n-from glob import iglob\r\n+from glob import glob\r\n import itertools\r\n import textwrap\r\n from typing import List, Optional, TYPE_CHECKING\r\n@@ -603,7 +603,7 @@ class Distribution(_Distribution):\r\n         return (\r\n             path\r\n             for pattern in patterns\r\n-            for path in iglob(pattern)\r\n+            for path in sorted(glob(pattern), reverse=True)\r\n             if not path.endswith('~')\r\n             and os.path.isfile(path)\r\n         )\r\n\r\nand looking at PKG-INFO in python-packaging, then removing the reverse=True will show the output depends on the order of the files on disk (from glob which uses listdir).\n\n### Output\n\nSee above, output of the License-File headers changes\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2691/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2691/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2682", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2682/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2682/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2682/events", "html_url": "https://github.com/pypa/setuptools/issues/2682", "id": 899081043, "node_id": "MDU6SXNzdWU4OTkwODEwNDM=", "number": 2682, "title": "[BUG] ValueError when building wheel", "user": {"login": "pkolbus", "id": 16658020, "node_id": "MDQ6VXNlcjE2NjU4MDIw", "avatar_url": "https://avatars.githubusercontent.com/u/16658020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkolbus", "html_url": "https://github.com/pkolbus", "followers_url": "https://api.github.com/users/pkolbus/followers", "following_url": "https://api.github.com/users/pkolbus/following{/other_user}", "gists_url": "https://api.github.com/users/pkolbus/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkolbus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkolbus/subscriptions", "organizations_url": "https://api.github.com/users/pkolbus/orgs", "repos_url": "https://api.github.com/users/pkolbus/repos", "events_url": "https://api.github.com/users/pkolbus/events{/privacy}", "received_events_url": "https://api.github.com/users/pkolbus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-23T18:36:00Z", "updated_at": "2021-05-23T19:19:08Z", "closed_at": "2021-05-23T19:19:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n57.0.0\n\n### Python version\n\n3.6.0\n\n### OS\n\nWindows 10\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nWith setuptools 57, I'm getting an exception ending with the following when testing several (private) packages via tox. This appears to occur while tox is running `get_requires_for_build_wheel` for the package.\r\n\r\nA git bisect indicates this started with #2628. Notably, these packages do not have a long description, as https://packaging.python.org/specifications/core-metadata/ describes it as optional.\r\n```\r\n   ...\r\n    File \"C:\\Users\\kolbus\\AppData\\Local\\Temp\\pip-build-env-9rrfzn1k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 135, in _get_build_requires\r\n      self.run_setup()\r\n    File \"C:\\Users\\kolbus\\AppData\\Local\\Temp\\pip-build-env-9rrfzn1k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 259, in run_setup\r\n      self).run_setup(setup_script=setup_script)\r\n    File \"C:\\Users\\kolbus\\AppData\\Local\\Temp\\pip-build-env-9rrfzn1k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 150, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 170, in <module>\r\n      pkg_info = dict(line.split(\": \", 1) for line in content)\r\n  ValueError: dictionary update sequence element #30 has length 1; 2 is required\r\n  ----------------------------------------\r\n```\n\n### Expected behavior\n\nNo exception\n\n### How to Reproduce\n\n1. TBD\r\n2. TBD\r\n3. TBD\n\n### Output\n\n```console\r\nTBD\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2659", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2659/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2659/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2659/events", "html_url": "https://github.com/pypa/setuptools/pull/2659", "id": 867668793, "node_id": "MDExOlB1bGxSZXF1ZXN0NjIzMzAzOTU2", "number": 2659, "title": "Merge two `intersphinx_mapping` vars in `conf.py`", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 1100115998, "node_id": "MDU6TGFiZWwxMTAwMTE1OTk4", "url": "https://api.github.com/repos/pypa/setuptools/labels/documentation", "name": "documentation", "color": "fc9e6f", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-26T12:50:51Z", "updated_at": "2021-05-04T19:31:15Z", "closed_at": "2021-05-04T19:31:15Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pypa/setuptools/pulls/2659", "html_url": "https://github.com/pypa/setuptools/pull/2659", "diff_url": "https://github.com/pypa/setuptools/pull/2659.diff", "patch_url": "https://github.com/pypa/setuptools/pull/2659.patch", "merged_at": null}, "body": "## Summary of changes\r\n\r\nThis change makes sure to preserve the intersphinx link against\r\n`pypa/build` in the sphinx docs setup.\r\n\r\nRef: https://github.com/pypa/setuptools/pull/2657/files#r620240443\r\n\r\n### Pull Request Checklist\r\n- [ ] Changes have tests\r\n- [ ] News fragment added in [`changelog.d/`].\r\n  _(See [documentation][PR docs] for details)_\r\n\r\n\r\n[`changelog.d/`]: https://github.com/pypa/setuptools/tree/master/changelog.d\r\n[PR docs]:\r\nhttps://setuptools.readthedocs.io/en/latest/development/developer-guide.html#making-a-pull-request\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2659/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2643", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2643/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2643/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2643/events", "html_url": "https://github.com/pypa/setuptools/issues/2643", "id": 860337795, "node_id": "MDU6SXNzdWU4NjAzMzc3OTU=", "number": 2643, "title": "[BUG] threading.Thread.setDaemon has been deprecated in favor of setting daemon attribute directly in Python 3.10", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-17T06:20:28Z", "updated_at": "2021-04-24T16:00:00Z", "closed_at": "2021-04-24T16:00:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\n\nmaster branch\n\n### Python version\n\nPython 3.10\n\n### OS\n\nLinux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nthreading.setDaemon has been deprecated in favor of setting daemon attribute directly in Python 3.10 . Ref : https://github.com/python/cpython/pull/25174\n\n### Expected behavior\n\nSet daemon attribute directly.\n\n### How to Reproduce\n\n1. Run `PYTHONWARNINGS=always python -m pytest setuptools/tests/test_easy_install.py -k test_setup_requires_honors_fetch_params` with python from master branch.\n\n### Output\n\n```\r\nPYTHONWARNINGS=always python -m pytest setuptools/tests/test_easy_install.py -k test_setup_requires_honors_fetch_params\r\n/root/py310-dev-venv/lib/python3.10/site-packages/pytest_virtualenv.py:5: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives\r\n  from distutils import sysconfig\r\n/root/py310-dev-venv/lib/python3.10/site-packages/pytest_shutil/workspace.py:23: PytestDeprecationWarning: @pytest.yield_fixture is deprecated.\r\nUse @pytest.fixture instead; they are the same.\r\n  @pytest.yield_fixture()\r\n/root/py310-dev-venv/lib/python3.10/site-packages/pytest_shutil/run.py:6: DeprecationWarning: the imp module is deprecated in favour of importlib and slated for removal in Python 3.12; see the module's documentation for alternative uses\r\n  import imp\r\n/root/py310-dev-venv/lib/python3.10/site-packages/pytest_virtualenv.py:31: PytestDeprecationWarning: @pytest.yield_fixture is deprecated.\r\nUse @pytest.fixture instead; they are the same.\r\n  @yield_fixture(scope='function')\r\n========================================================================= test session starts ==========================================================================\r\nplatform linux -- Python 3.10.0a7+, pytest-6.3.0.dev369+g9078c3ce2, py-1.10.0, pluggy-0.13.1\r\nrootdir: /root/checked_repos_clone/setuptools, configfile: pytest.ini\r\nplugins: flake8-1.0.7, virtualenv-1.7.0, shutil-1.7.0, cov-2.11.1\r\ncollected 48 items / 47 deselected / 1 selected                                                                                                                        \r\n\r\nsetuptools/tests/test_easy_install.py E                                                                                                                          [100%]\r\n\r\n================================================================================ ERRORS ================================================================================\r\n_____________________________________________ ERROR at setup of TestSetupRequires.test_setup_requires_honors_fetch_params ______________________________________________\r\n\r\n/root/cpython/Lib/sre_parse.py:529: ResourceWarning: unclosed <socket.socket fd=11, family=AF_INET, type=SOCK_STREAM, proto=0, laddr=('0.0.0.0', 33357)>\r\n  subpatternappend((LITERAL, _ord(this)))\r\nResourceWarning: Enable tracemalloc to get the object allocation traceback\r\n    @pytest.fixture\r\n    def mock_index():\r\n        # set up a server which will simulate an alternate package index.\r\n>       p_index = MockServer()\r\n\r\nsetuptools/tests/test_easy_install.py:434: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nsetuptools/tests/server.py:68: in __init__\r\n    self.setDaemon(True)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <MockServer(Thread-1, initial)>, daemonic = True\r\n\r\n    def setDaemon(self, daemonic):\r\n        \"\"\"Set whether this thread is a daemon.\r\n    \r\n        This method is deprecated, use the .daemon property instead.\r\n    \r\n        \"\"\"\r\n        import warnings\r\n>       warnings.warn('setDaemon() is deprecated, set the daemon attribute instead',\r\n                      DeprecationWarning, stacklevel=2)\r\nE       DeprecationWarning: setDaemon() is deprecated, set the daemon attribute instead\r\n\r\n/root/cpython/Lib/threading.py:1184: DeprecationWarning\r\n=================================================================== 47 deselected, 1 error in 0.52s ===================================================================\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2642", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2642/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2642/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2642/events", "html_url": "https://github.com/pypa/setuptools/issues/2642", "id": 860248474, "node_id": "MDU6SXNzdWU4NjAyNDg0NzQ=", "number": 2642, "title": "Resurrect reporting to codecov", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315489, "node_id": "MDU6TGFiZWwzNDkzMTU0ODk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-16T23:12:00Z", "updated_at": "2021-07-11T03:09:16Z", "closed_at": "2021-07-11T03:09:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\n`main`\n\n### Python version\n\nN/A\n\n### OS\n\nN/A\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nI've been doing some security audit after the recent codecov supply chain attack and discovered that there's been no coverage updates on the service since Dec 20.\r\n\r\nI tracked it down to this change: https://github.com/pypa/setuptools/pull/2486.\r\n\r\nFunny enough, I've left a number of comments reviewing that but still missed this issue ;)\r\n\r\nIt used to be integrated in Travis CI and AppVeyor\r\n- https://github.com/pypa/setuptools/pull/2486/files?file-filters%5B%5D=.ini&file-filters%5B%5D=.toml&file-filters%5B%5D=.yml#diff-6ac3f79fc25d95cd1e3d51da53a4b21b939437392578a35ae8cd6d5366ca5485L60\r\n- https://github.com/pypa/setuptools/pull/2486/files?file-filters%5B%5D=.ini&file-filters%5B%5D=.toml&file-filters%5B%5D=.yml#diff-92ab9a36df5d8e9f7076f2fdec59492d1ac2d9cf27ea046767a7fc4d542ef3dcL43\r\n\r\nand the toxenv is still in place but its invocation never survives the migration to GHA and so this needs to be corrected.\r\n\r\nFixing this should be pretty straightforward \u2014 just integrate https://github.com/codecov/codecov-action.\n\n### Expected behavior\n\nCoverage to be actually reported to codecov.\n\n### How to Reproduce\n\nLook at https://app.codecov.io/gh/pypa/setuptools/commits \u2014 the last known report was 4 month ago.\n\n### Output\n\nN/A\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2639", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2639/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2639/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2639/events", "html_url": "https://github.com/pypa/setuptools/issues/2639", "id": 856963925, "node_id": "MDU6SXNzdWU4NTY5NjM5MjU=", "number": 2639, "title": "[BUG] PyQt5.sip module not found, when installing a module that made use of PyQt5 through setup.py script", "user": {"login": "Fcsalvagnini", "id": 52534559, "node_id": "MDQ6VXNlcjUyNTM0NTU5", "avatar_url": "https://avatars.githubusercontent.com/u/52534559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fcsalvagnini", "html_url": "https://github.com/Fcsalvagnini", "followers_url": "https://api.github.com/users/Fcsalvagnini/followers", "following_url": "https://api.github.com/users/Fcsalvagnini/following{/other_user}", "gists_url": "https://api.github.com/users/Fcsalvagnini/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fcsalvagnini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fcsalvagnini/subscriptions", "organizations_url": "https://api.github.com/users/Fcsalvagnini/orgs", "repos_url": "https://api.github.com/users/Fcsalvagnini/repos", "events_url": "https://api.github.com/users/Fcsalvagnini/events{/privacy}", "received_events_url": "https://api.github.com/users/Fcsalvagnini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-04-13T13:29:25Z", "updated_at": "2023-02-21T12:10:48Z", "closed_at": "2023-02-21T12:10:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n52.0.0.post20210125\n\n### Python version\n\nPython 3.6.9\n\n### OS\n\nUbuntu 20.04.2 LTS\n\n### Additional environment information\n\nI'm using a conda environment to try the instalation of my package in a fresh python.\r\n\r\nI have created the conda environment using the following command:\r\n\r\n```\r\nconda create -n git_issu python=3.6.9\r\n```\r\n\r\nAnd then, I activate the environment and execute the setup.py script:\r\n\r\n```\r\npython setup.py install\r\n```\n\n### Description\n\nI have created a python package and implemented a Graphical Interface for it, using PyQt5.\r\n\r\nHowever, when I release it internally, some problems appeared.\r\n\r\nWhen someone installs my package, either using the release `.whl` file or using the `setup.py` script, the `PyQt5` module is not correctly installed, and the following error is returned, when someone tries to start the graphical interface:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/bin/pceb\", line 33, in <module>\r\n    sys.exit(load_entry_point('pceb==3.1.1', 'console_scripts', 'pceb')())\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/bin/pceb\", line 25, in importlib_load_entry_point\r\n    return next(matches).load()\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/importlib_metadata-3.10.0-py3.6.egg/importlib_metadata/__init__.py\", line 167, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/pceb-3.1.1-py3.6.egg/pceb/main.py\", line 13, in <module>\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/pceb-3.1.1-py3.6.egg/pceb/interface/main_gui.py\", line 2, in <module>\r\nModuleNotFoundError: No module named 'PyQt5.sip\r\n```\r\n\r\nAfter that, if you uninstall pyqt5 and pyqt5-sip and reinstall it using pip, all works just fine.\r\n\r\nThe following is the content of my `setup.py` script:\r\n\r\n```\r\nfrom setuptools import setup\r\n\r\nsetup()\r\n```\r\n\r\nAnd this is the content of my `setup.cfg` file:\r\n\r\n```\r\n[metadata]\r\nname = pceb\r\nversion = attr: pceb.__version__\r\ndescription = Image Degradation Module\r\nlong_description = file: README.md\r\nlong_description_content_type = text/markdown\r\nauthor = foo bar\r\nauthor_email = foo.bar@outlook.com.br\r\nclassifiers =\r\n    Operating System :: OS Independent\r\n    Programming Language :: Python :: 3.6\r\n\r\n[options]\r\ninclude_package_data = True\r\npackages = find:\r\ninstall_requires =\r\n    setuptools == 51.0.0\r\n    matplotlib == 3.1.3\r\n    opencv-python == 4.2.0.32\r\n    PyYAML == 5.3.1\r\n    rawpy == 0.15.0\r\n    tqdm == 4.43.0\r\n    numpy == 1.18.5\r\n    pillow == 8.1.2\r\n    PyQt5-sip == 12.8.1\r\n    PyQt5 == 5.14.2\r\n    PyOpenGL == 3.1.5\r\n    qdarkstyle == 2.8.1\r\n\r\n[options.entry_points]\r\nconsole_scripts =\r\n    pceb = pceb.main:main\r\n```\n\n### Expected behavior\n\nThe expected behavior was: Releasing the package and made it available through pip, where it installs all the dependencies altogether with the package itself. However, this is not happening, as one first needs to uninstall PyQt5 and PyQt5-sip and reinstall it using pip.\n\n### How to Reproduce\n\n1. Create a simple python package that made use of `PyQt5`\r\n2. Use the `install_requires` field in a `setup.cfg` file to specify the PyQt5 as a dependency (v5.14.2)\r\n3. Install the simple package in a fresh python installation: `python setup.py install`\r\n4. Start your package Graphical Interface \n\n### Output\n\nYou should get and error like:\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/bin/pceb\", line 33, in <module>\r\n    sys.exit(load_entry_point('pceb==3.1.1', 'console_scripts', 'pceb')())\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/bin/pceb\", line 25, in importlib_load_entry_point\r\n    return next(matches).load()\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/importlib_metadata-3.10.0-py3.6.egg/importlib_metadata/__init__.py\", line 167, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/pceb-3.1.1-py3.6.egg/pceb/main.py\", line 13, in <module>\r\n  File \"/home/foo.bar/anaconda3/envs/git_issu/lib/python3.6/site-packages/pceb-3.1.1-py3.6.egg/pceb/interface/main_gui.py\", line 2, in <module>\r\nModuleNotFoundError: No module named 'PyQt5.sip\r\n```\n\n### Code of Conduct\n\nI agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2638", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2638/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2638/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2638/events", "html_url": "https://github.com/pypa/setuptools/issues/2638", "id": 856886413, "node_id": "MDU6SXNzdWU4NTY4ODY0MTM=", "number": 2638, "title": "[BUG] 56.0.0: test suite is failing", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-13T11:54:15Z", "updated_at": "2021-12-25T06:04:27Z", "closed_at": "2021-12-25T06:04:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n56.0.0\n\n### Python version\n\nPython 3.8.8\n\n### OS\n\nLinux\n\n### Additional environment information\n\nNone.\n\n### Description\n\npytest based test suite i sfailing.\n\n### Expected behavior\n\ntest suite should finish without errors\n\n### How to Reproduce\n\nRun pytest after build.\n\n### Output\n\n```console\r\n+ PYTHONPATH=/home/tkloczko/rpmbuild/BUILDROOT/python-setuptools-56.0.0-2.fc35.x86_64/usr/lib64/python3.8/site-packages:/home/tkloczko/rpmbuild/BUILDROOT/python-setuptools-56.0.0-2.fc35.x86_64/usr/lib/python3.8/site-packages\r\n+ /usr/bin/python3 -Bm pytest -ra --ignore=pavement.py\r\n=========================================================================== test session starts ============================================================================\r\nplatform linux -- Python 3.8.9, pytest-6.2.3, py-1.10.0, pluggy-0.13.1\r\nrootdir: /home/tkloczko/rpmbuild/BUILD/setuptools-56.0.0, configfile: pytest.ini\r\nplugins: forked-1.3.0, shutil-1.7.0, virtualenv-1.7.0, asyncio-0.14.0, expect-1.1.0, cov-2.11.1, mock-3.5.1, httpbin-1.0.0, xdist-2.2.1, flake8-1.0.7, timeout-1.4.2, betamax-0.8.1, pyfakefs-4.4.0, freezegun-0.4.2, flaky-3.7.0, hypothesis-6.9.1\r\ncollected 710 items / 2 skipped / 708 selected\r\n\r\npkg_resources/__init__.py ...                                                                                                                                        [  0%]\r\npkg_resources/api_tests.txt .                                                                                                                                        [  0%]\r\npkg_resources/tests/test_find_distributions.py ....                                                                                                                  [  1%]\r\npkg_resources/tests/test_markers.py .                                                                                                                                [  1%]\r\npkg_resources/tests/test_pkg_resources.py ................ssss                                                                                                       [  4%]\r\npkg_resources/tests/test_resources.py ..................................................................................                                             [ 15%]\r\npkg_resources/tests/test_working_set.py ..................................                                                                                           [ 20%]\r\nsetuptools/namespaces.py .                                                                                                                                           [ 20%]\r\nsetuptools/package_index.py ..                                                                                                                                       [ 20%]\r\nsetuptools/sandbox.py .                                                                                                                                              [ 20%]\r\nsetuptools/command/develop.py .                                                                                                                                      [ 21%]\r\nsetuptools/command/install_lib.py .                                                                                                                                  [ 21%]\r\nsetuptools/tests/test_archive_util.py X                                                                                                                              [ 21%]\r\nsetuptools/tests/test_bdist_egg.py .F                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_clib.py .                                                                                                                                [ 21%]\r\nsetuptools/tests/test_build_ext.py ...                                                                                                                               [ 22%]\r\nsetuptools/tests/test_build_meta.py ................................................................................................................................ [ 40%]\r\n......                                                                                                                                                               [ 41%]\r\nsetuptools/tests/test_build_py.py ...                                                                                                                                [ 41%]\r\nsetuptools/tests/test_config.py ............................................                                                                                         [ 47%]\r\nsetuptools/tests/test_dep_util.py .                                                                                                                                  [ 47%]\r\nsetuptools/tests/test_depends.py .                                                                                                                                   [ 48%]\r\nsetuptools/tests/test_develop.py .s....F                                                                                                                             [ 49%]\r\nsetuptools/tests/test_dist.py ........x.x.....................                                                                                                       [ 53%]\r\nsetuptools/tests/test_dist_info.py ..                                                                                                                                [ 53%]\r\nsetuptools/tests/test_distutils_adoption.py F..                                                                                                                      [ 54%]\r\nsetuptools/tests/test_easy_install.py ..................................F.............                                                                               [ 60%]\r\nsetuptools/tests/test_egg_info.py .........................x.........................................                                                                [ 70%]\r\nsetuptools/tests/test_extern.py ...                                                                                                                                  [ 70%]\r\nsetuptools/tests/test_find_packages.py ............                                                                                                                  [ 72%]\r\nsetuptools/tests/test_glob.py ....                                                                                                                                   [ 73%]\r\nsetuptools/tests/test_install_scripts.py .s.s                                                                                                                        [ 73%]\r\nsetuptools/tests/test_manifest.py ...................................................................                                                                [ 83%]\r\nsetuptools/tests/test_msvc14.py ssss                                                                                                                                 [ 83%]\r\nsetuptools/tests/test_namespaces.py ....                                                                                                                             [ 84%]\r\nsetuptools/tests/test_packageindex.py ....................                                                                                                           [ 87%]\r\nsetuptools/tests/test_register.py .                                                                                                                                  [ 87%]\r\nsetuptools/tests/test_sandbox.py ..........                                                                                                                          [ 88%]\r\nsetuptools/tests/test_sdist.py ...............                                                                                                                       [ 90%]\r\nsetuptools/tests/test_setopt.py .                                                                                                                                    [ 90%]\r\nsetuptools/tests/test_setuptools.py .....................                                                                                                            [ 93%]\r\nsetuptools/tests/test_sphinx_upload_docs.py .                                                                                                                        [ 93%]\r\nsetuptools/tests/test_test.py ....                                                                                                                                   [ 94%]\r\nsetuptools/tests/test_unicode_utils.py .                                                                                                                             [ 94%]\r\nsetuptools/tests/test_upload.py .                                                                                                                                    [ 94%]\r\nsetuptools/tests/test_upload_docs.py ..                                                                                                                              [ 95%]\r\nsetuptools/tests/test_virtualenv.py .....X....                                                                                                                       [ 96%]\r\nsetuptools/tests/test_wheel.py ......................                                                                                                                [ 99%]\r\nsetuptools/tests/test_windows_wrappers.py sss                                                                                                                        [100%]\r\n\r\n================================================================================= FAILURES =================================================================================\r\n______________________________________________________________________ Test.test_exclude_source_files ______________________________________________________________________\r\n\r\nself = <setuptools.tests.test_bdist_egg.Test object at 0x7facb598cf10>, setup_context = local('/tmp/pytest-of-tkloczko/pytest-28/test_exclude_source_files0')\r\nuser_override = None\r\n\r\n    @pytest.mark.xfail(\r\n        os.environ.get('PYTHONDONTWRITEBYTECODE'),\r\n        reason=\"Byte code disabled\",\r\n    )\r\n    def test_exclude_source_files(self, setup_context, user_override):\r\n        dist = Distribution(dict(\r\n            script_name='setup.py',\r\n            script_args=['bdist_egg', '--exclude-source-files'],\r\n            name='foo',\r\n            py_modules=['hi'],\r\n        ))\r\n        with contexts.quiet():\r\n            dist.parse_command_line()\r\n            dist.run_commands()\r\n        [dist_name] = os.listdir('dist')\r\n        dist_filename = os.path.join('dist', dist_name)\r\n        zip = zipfile.ZipFile(dist_filename)\r\n        names = list(zi.filename for zi in zip.filelist)\r\n>       assert 'hi.pyc' in names\r\nE       AssertionError: assert 'hi.pyc' in ['EGG-INFO/PKG-INFO', 'EGG-INFO/SOURCES.txt', 'EGG-INFO/dependency_links.txt', 'EGG-INFO/top_level.txt', 'EGG-INFO/zip-safe']\r\n\r\n/home/tkloczko/rpmbuild/BUILD/setuptools-56.0.0/setuptools/tests/test_bdist_egg.py:65: AssertionError\r\n___________________________________________________________________ TestNamespaces.test_editable_prefix ____________________________________________________________________\r\n\r\nself = <setuptools.tests.test_develop.TestNamespaces object at 0x7facb56f9400>, tmp_path = PosixPath('/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0')\r\nsample_project = PosixPath('/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/sampleproject')\r\n\r\n    @pytest.mark.xfail(\r\n        platform.python_implementation() == 'PyPy',\r\n        reason=\"Workaround fails on PyPy (why?)\",\r\n    )\r\n    def test_editable_prefix(self, tmp_path, sample_project):\r\n        \"\"\"\r\n        Editable install to a prefix should be discoverable.\r\n        \"\"\"\r\n        prefix = tmp_path / 'prefix'\r\n        prefix.mkdir()\r\n\r\n        # figure out where pip will likely install the package\r\n        site_packages = prefix / next(\r\n            pathlib.Path(path).relative_to(sys.prefix)\r\n            for path in sys.path\r\n            if 'site-packages' in path\r\n            and path.startswith(sys.prefix)\r\n        )\r\n\r\n        # install the workaround\r\n        self.install_workaround(site_packages)\r\n\r\n        env = dict(os.environ, PYTHONPATH=str(site_packages))\r\n        cmd = [\r\n            sys.executable,\r\n            '-m', 'pip',\r\n            'install',\r\n            '--editable',\r\n            str(sample_project),\r\n            '--prefix', str(prefix),\r\n            '--no-build-isolation',\r\n        ]\r\n        subprocess.check_call(cmd, env=env)\r\n\r\n        # now run 'sample' with the prefix on the PYTHONPATH\r\n        bin = 'Scripts' if platform.system() == 'Windows' else 'bin'\r\n        exe = prefix / bin / 'sample'\r\n        if sys.version_info < (3, 7) and platform.system() == 'Windows':\r\n            exe = str(exe)\r\n>       subprocess.check_call([exe], env=env)\r\n\r\nsetuptools/tests/test_develop.py:255:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\npopenargs = ([PosixPath('/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/prefix/bin/sample')],)\r\nkwargs = {'env': {'BASH_FUNC_which%%': '() {  ( alias;\\n eval ${_declare} ) | /usr/bin/which --tty-only --read-alias --read-fun...on -fdata-sections -ffunction-sections -flto=auto -flto-partition=none', 'CONFIG_SITE': 'NONE', 'CVS_RSH': 'ssh', ...}}\r\nretcode = 1, cmd = [PosixPath('/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/prefix/bin/sample')]\r\n\r\n    def check_call(*popenargs, **kwargs):\r\n        \"\"\"Run command with arguments.  Wait for command to complete.  If\r\n        the exit code was zero then return, otherwise raise\r\n        CalledProcessError.  The CalledProcessError object will have the\r\n        return code in the returncode attribute.\r\n\r\n        The arguments are the same as for the call function.  Example:\r\n\r\n        check_call([\"ls\", \"-l\"])\r\n        \"\"\"\r\n        retcode = call(*popenargs, **kwargs)\r\n        if retcode:\r\n            cmd = kwargs.get(\"args\")\r\n            if cmd is None:\r\n                cmd = popenargs[0]\r\n>           raise CalledProcessError(retcode, cmd)\r\nE           subprocess.CalledProcessError: Command '[PosixPath('/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/prefix/bin/sample')]' returned non-zero exit status 1.\r\n\r\n/usr/lib64/python3.8/subprocess.py:364: CalledProcessError\r\n-------------------------------------------------------------------------- Captured stderr setup ---------------------------------------------------------------------------\r\nCloning into 'sampleproject'...\r\n--------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------\r\nObtaining file:///tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/sampleproject\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'done'\r\nCollecting peppercorn\r\n  Downloading peppercorn-0.6-py3-none-any.whl (4.8 kB)\r\nInstalling collected packages: peppercorn, sampleproject\r\n  Running setup.py develop for sampleproject\r\nSuccessfully installed peppercorn-0.6 sampleproject\r\n--------------------------------------------------------------------------- Captured stderr call ---------------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmp/pytest-of-tkloczko/pytest-28/test_editable_prefix0/prefix/bin/sample\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 3259, in <module>\r\n    def _initialize_master_working_set():\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 3242, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 3271, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 584, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 901, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/usr/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 787, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npkg_resources.DistributionNotFound: The 'sampleproject' distribution was not found and is required by the application\r\n__________________________________________________________________________ test_distutils_stdlib ___________________________________________________________________________\r\n\r\nvenv = <setuptools.tests.test_distutils_adoption.VirtualEnv object at 0x7facb50b54c0>\r\n\r\n    def test_distutils_stdlib(venv):\r\n        \"\"\"\r\n        Ensure stdlib distutils is used when appropriate.\r\n        \"\"\"\r\n        env = dict(SETUPTOOLS_USE_DISTUTILS='stdlib')\r\n>       assert venv.name not in find_distutils(venv, env=env).split(os.sep)\r\nE       AssertionError: assert '.env' not in ['', 'tmp', 'pytest-of-tkloczko', 'pytest-28', 'test_distutils_stdlib0', 'venv', ...]\r\nE        +  where '.env' = <setuptools.tests.test_distutils_adoption.VirtualEnv object at 0x7facb50b54c0>.name\r\nE        +  and   ['', 'tmp', 'pytest-of-tkloczko', 'pytest-28', 'test_distutils_stdlib0', 'venv', ...] = <built-in method split of str object at 0x7facb5404e90>('/')\r\nE        +    where <built-in method split of str object at 0x7facb5404e90> = '/tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/venv/.env/lib64/python3.8/distutils/__init__.py\\n'.split\r\nE        +      where '/tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/venv/.env/lib64/python3.8/distutils/__init__.py\\n' = find_distutils(<setuptools.tests.test_distutils_adoption.VirtualEnv object at 0x7facb50b54c0>, env={'SETUPTOOLS_USE_DISTUTILS': 'stdlib'})\r\nE        +    and   '/' = os.sep\r\n\r\nsetuptools/tests/test_distutils_adoption.py:52: AssertionError\r\n-------------------------------------------------------------------------- Captured stdout setup ---------------------------------------------------------------------------\r\nUsing base prefix '/usr'\r\n  No LICENSE.txt / LICENSE found in source\r\nNew python executable in /tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/venv/.env/bin/python3\r\nAlso creating executable in /tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/venv/.env/bin/python\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\nProcessing /tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/src\r\nBuilding wheels for collected packages: setuptools\r\n  Building wheel for setuptools (setup.py): started\r\n  Building wheel for setuptools (setup.py): finished with status 'done'\r\n  Created wheel for setuptools: filename=setuptools-56.0.0-py3-none-any.whl size=561538 sha256=5db394cc9a699269f07d51c244175a795ebe95206de35ae98f3b4ecdd2a343e9\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-ify5ksqr/wheels/4d/92/0c/e75923a5dc3ad56ae95a547baea202ff72b53da68f138cd683\r\nSuccessfully built setuptools\r\nInstalling collected packages: setuptools\r\n  Attempting uninstall: setuptools\r\n    Found existing installation: setuptools 56.0.0\r\n    Not uninstalling setuptools at /home/tkloczko/rpmbuild/BUILDROOT/python-setuptools-56.0.0-2.fc35.x86_64/usr/lib/python3.8/site-packages, outside environment /tmp/pytest-of-tkloczko/pytest-28/test_distutils_stdlib0/venv/.env\r\n    Can't uninstall 'setuptools'. No files were found to uninstall.\r\nSuccessfully installed setuptools-56.0.0\r\n__________________________________________________________ TestSetupRequires.test_setup_requires_with_allow_hosts __________________________________________________________\r\n\r\nself = <setuptools.tests.test_easy_install.TestSetupRequires object at 0x7fac923de7c0>, mock_index = <MockServer(Thread-4, started daemon 140373760497216)>\r\n\r\n    def test_setup_requires_with_allow_hosts(self, mock_index):\r\n        ''' The `allow-hosts` option in not supported anymore. '''\r\n        with contexts.save_pkg_resources_state():\r\n            with contexts.tempdir() as temp_dir:\r\n                test_pkg = os.path.join(temp_dir, 'test_pkg')\r\n                test_setup_py = os.path.join(test_pkg, 'setup.py')\r\n                test_setup_cfg = os.path.join(test_pkg, 'setup.cfg')\r\n                os.mkdir(test_pkg)\r\n                with open(test_setup_py, 'w') as fp:\r\n                    fp.write(DALS(\r\n                        '''\r\n                        from setuptools import setup\r\n                        setup(setup_requires='python-xlib')\r\n                        '''))\r\n                with open(test_setup_cfg, 'w') as fp:\r\n                    fp.write(DALS(\r\n                        '''\r\n                        [easy_install]\r\n                        allow_hosts = *\r\n                        '''))\r\n                with pytest.raises(distutils.errors.DistutilsError):\r\n>                   run_setup(test_setup_py, [str('--version')])\r\nE                   Failed: DID NOT RAISE <class 'distutils.errors.DistutilsError'>\r\n\r\nsetuptools/tests/test_easy_install.py:691: Failed\r\n--------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------\r\n0.0.0\r\n========================================================================= short test summary info ==========================================================================\r\nSKIPPED [2] setuptools/tests/test_msvc.py:17: could not import 'distutils.msvc9compiler': No module named 'winreg'\r\nSKIPPED [1] pkg_resources/tests/test_pkg_resources.py:382: Testing case-insensitive filesystems.\r\nSKIPPED [3] pkg_resources/tests/test_pkg_resources.py:399: Testing systems using backslashes as path separators.\r\nSKIPPED [1] setuptools/tests/test_develop.py:107: TODO: needs a fixture to cause 'develop' to be invoked without mutating environment.\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:50: Windows only\r\nSKIPPED [1] setuptools/tests/test_install_scripts.py:78: Windows only\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:16: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:34: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:52: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_msvc14.py:68: These tests are only for win32\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:69: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:110: Windows only\r\nSKIPPED [1] setuptools/tests/test_windows_wrappers.py:169: Windows only\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 1.2: Project-Url-attrs6]\r\n  Issue #1578: project_urls not read\r\nXFAIL setuptools/tests/test_dist.py::test_read_metadata[Metadata Version 2.1: Provides Extra-attrs8]\r\n  provides_extras not read\r\nXFAIL setuptools/tests/test_egg_info.py::TestEggInfo::test_requires[extras_require_with_marker_in_setup_cfg]\r\nXPASS setuptools/tests/test_archive_util.py::test_unicode_files #710 and #712\r\nXPASS setuptools/tests/test_virtualenv.py::test_pip_upgrade_from_source[pip==19.3.1] pypa/pip#6599\r\nFAILED setuptools/tests/test_bdist_egg.py::Test::test_exclude_source_files - AssertionError: assert 'hi.pyc' in ['EGG-INFO/PKG-INFO', 'EGG-INFO/SOURCES.txt', 'EGG-INFO/d...\r\nFAILED setuptools/tests/test_develop.py::TestNamespaces::test_editable_prefix - subprocess.CalledProcessError: Command '[PosixPath('/tmp/pytest-of-tkloczko/pytest-28/tes...\r\nFAILED setuptools/tests/test_distutils_adoption.py::test_distutils_stdlib - AssertionError: assert '.env' not in ['', 'tmp', 'pytest-of-tkloczko', 'pytest-28', 'test_dis...\r\nFAILED setuptools/tests/test_easy_install.py::TestSetupRequires::test_setup_requires_with_allow_hosts - Failed: DID NOT RAISE <class 'distutils.errors.DistutilsError'>\r\n=============================================== 4 failed, 687 passed, 16 skipped, 3 xfailed, 2 xpassed in 312.00s (0:05:12) ================================================\r\n```\r\n\n\n### Code of Conduct\n\nI agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2633", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2633/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2633/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2633/events", "html_url": "https://github.com/pypa/setuptools/pull/2633", "id": 853726649, "node_id": "MDExOlB1bGxSZXF1ZXN0NjExNzcwMTE3", "number": 2633, "title": "Implement `find_spec` in vendored module importers", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-08T18:17:32Z", "updated_at": "2021-04-08T23:32:08Z", "closed_at": "2021-04-08T23:32:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pypa/setuptools/pulls/2633", "html_url": "https://github.com/pypa/setuptools/pull/2633", "diff_url": "https://github.com/pypa/setuptools/pull/2633.diff", "patch_url": "https://github.com/pypa/setuptools/pull/2633.patch", "merged_at": "2021-04-08T23:32:07Z"}, "body": "## Summary of changes\r\n\r\nThis change makes the import warning emitted by Python 3.10 disappear\r\nbut implementing the hook that is supposed to replace the old import\r\nmechanism.\r\n\r\nRefs:\r\n* https://bugs.python.org/issue42134\r\n* https://bugs.python.org/issue43540\r\n* https://github.com/pypa/setuptools/issues/2632#issuecomment-815701078\r\n\r\nFixes #2632\r\n\r\n### Pull Request Checklist\r\n- [ ] Changes have tests\r\n- [x] News fragment added in [`changelog.d/`].\r\n  _(See [documentation][PR docs] for details)_\r\n\r\n\r\n[`changelog.d/`]: https://github.com/pypa/setuptools/tree/master/changelog.d\r\n[PR docs]:\r\nhttps://setuptools.readthedocs.io/en/latest/development/developer-guide.html#making-a-pull-request\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2633/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2632", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2632/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2632/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2632/events", "html_url": "https://github.com/pypa/setuptools/issues/2632", "id": 853230610, "node_id": "MDU6SXNzdWU4NTMyMzA2MTA=", "number": 2632, "title": "[Forward compatibility][BUG] pkg_resources.extern.VendorImporter lacks find_spec() method", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-04-08T08:45:46Z", "updated_at": "2021-04-08T23:32:07Z", "closed_at": "2021-04-08T23:32:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n54.1.2 and main\r\n\r\n### Python version\r\n\r\n3.10.0a7\r\n\r\n### OS\r\n\r\nAll\r\n\r\n### Additional environment information\r\n\r\nWhen running tests for setuptools_scm.\r\n\r\n### Description\r\n\r\nWe get:\r\n\r\n```python-traceback\r\n<frozen importlib._bootstrap>:933: in _find_spec\r\n    ???\r\nE   AttributeError: 'VendorImporter' object has no attribute 'find_spec'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n/usr/lib/python3.10/site-packages/pluggy/hooks.py:286: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/usr/lib/python3.10/site-packages/pluggy/manager.py:93: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/usr/lib/python3.10/site-packages/pluggy/manager.py:84: in <lambda>\r\n    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\n/usr/lib/python3.10/site-packages/_pytest/doctest.py:129: in pytest_collect_file\r\n    elif _is_doctest(config, path, parent):\r\n/usr/lib/python3.10/site-packages/_pytest/doctest.py:147: in _is_doctest\r\n    if path.check(fnmatch=glob):\r\n/usr/lib/python3.10/site-packages/py/_path/local.py:387: in check\r\n    return super(LocalPath, self).check(**kw)\r\n/usr/lib/python3.10/site-packages/py/_path/common.py:241: in check\r\n    return self.Checkers(self)._evaluate(kw)\r\n/usr/lib/python3.10/site-packages/py/_path/common.py:108: in _evaluate\r\n    if py.code.getrawcode(meth).co_argcount > 1:\r\n/usr/lib/python3.10/site-packages/py/_vendored_packages/apipkg/__init__.py:152: in __makeattr\r\n    result = importobj(modpath, attrname)\r\n/usr/lib/python3.10/site-packages/py/_vendored_packages/apipkg/__init__.py:72: in importobj\r\n    module = __import__(modpath, None, None, ['__doc__'])\r\n/usr/lib/python3.10/site-packages/py/_code/code.py:7: in <module>\r\n    reprlib = py.builtin._tryimport('repr', 'reprlib')\r\n/usr/lib/python3.10/site-packages/py/_builtin.py:144: in _tryimport\r\n    __import__(name)\r\n<frozen importlib._bootstrap>:1021: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:996: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:935: in _find_spec\r\n    ???\r\n<frozen importlib._bootstrap>:908: in _find_spec_legacy\r\n    ???\r\nE   ImportWarning: VendorImporter.find_spec() not found; falling back to find_module()\r\n```\r\n\r\nThe traceback is not very helpful, but the VendorImporter is from pkg_resourecs.\r\n\r\nPython added a warning: https://bugs.python.org/issue42134 but other packages treat it as error.\r\n\r\n### Expected behavior\r\n\r\nNo ImportWarning.\r\n\r\n### How to Reproduce\r\n\r\n1. Get Python 3.10.0a7 and tox (e.g. on Fedora via `$ sudo dnf --enablerepo=updates-testing install python3.10 tox`)\r\n2. git clone https://github.com/pypa/setuptools_scm.git and cd in\r\n3. Run `tox -e py310-test`\r\n\r\n### Output\r\n\r\n```console\r\npy310-test develop-inst-nodeps: .../setuptools_scm\r\npy310-test installed: attrs==20.3.0,iniconfig==1.1.1,packaging==20.9,pluggy==0.13.1,py==1.10.0,pyparsing==2.4.7,pytest==6.2.3,-e git+https://github.com/pypa/setuptools_scm.git@abb67b15985f380d8cf4451b9f2ef3dd11cb8a91#egg=setuptools_scm,toml==0.10.2\r\npy310-test run-test-pre: PYTHONHASHSEED='1426720794'\r\npy310-test run-test: commands[0] | pytest\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.10.0a7, pytest-6.2.3, py-1.10.0, pluggy-0.13.1\r\ncachedir: .tox/py310-test/.pytest_cache\r\nsetuptools version 53.0.0 from '.../setuptools_scm/.tox/py310-test/lib/python3.10/site-packages/setuptools/__init__.py'\r\nsetuptools_scm version 6.0.1 from '.../setuptools_scm/src/setuptools_scm/__init__.py'\r\nrootdir: .../setuptools_scm, configfile: tox.ini, testpaths: testing\r\ncollected 0 items / 1 error\r\n\r\n==================================== ERRORS ====================================\r\n________________________ ERROR collecting test session _________________________\r\n<frozen importlib._bootstrap>:933: in _find_spec\r\n    ???\r\nE   AttributeError: 'VendorImporter' object has no attribute 'find_spec'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n.tox/py310-test/lib/python3.10/site-packages/pluggy/hooks.py:286: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n.tox/py310-test/lib/python3.10/site-packages/pluggy/manager.py:93: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n.tox/py310-test/lib/python3.10/site-packages/pluggy/manager.py:84: in <lambda>\r\n    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\n.tox/py310-test/lib/python3.10/site-packages/_pytest/doctest.py:129: in pytest_collect_file\r\n    elif _is_doctest(config, path, parent):\r\n.tox/py310-test/lib/python3.10/site-packages/_pytest/doctest.py:147: in _is_doctest\r\n    if path.check(fnmatch=glob):\r\n.tox/py310-test/lib/python3.10/site-packages/py/_path/local.py:387: in check\r\n    return super(LocalPath, self).check(**kw)\r\n.tox/py310-test/lib/python3.10/site-packages/py/_path/common.py:241: in check\r\n    return self.Checkers(self)._evaluate(kw)\r\n.tox/py310-test/lib/python3.10/site-packages/py/_path/common.py:108: in _evaluate\r\n    if py.code.getrawcode(meth).co_argcount > 1:\r\n.tox/py310-test/lib/python3.10/site-packages/py/_vendored_packages/apipkg/__init__.py:152: in __makeattr\r\n    result = importobj(modpath, attrname)\r\n.tox/py310-test/lib/python3.10/site-packages/py/_vendored_packages/apipkg/__init__.py:72: in importobj\r\n    module = __import__(modpath, None, None, ['__doc__'])\r\n.tox/py310-test/lib/python3.10/site-packages/py/_code/code.py:7: in <module>\r\n    reprlib = py.builtin._tryimport('repr', 'reprlib')\r\n.tox/py310-test/lib/python3.10/site-packages/py/_builtin.py:144: in _tryimport\r\n    __import__(name)\r\n<frozen importlib._bootstrap>:1021: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:996: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:935: in _find_spec\r\n    ???\r\n<frozen importlib._bootstrap>:908: in _find_spec_legacy\r\n    ???\r\nE   ImportWarning: VendorImporter.find_spec() not found; falling back to find_module()\r\n=========================== short test summary info ============================\r\nERROR  - ImportWarning: VendorImporter.find_spec() not found; falling back to...\r\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\r\n=============================== 1 error in 0.16s ===============================\r\nERROR: InvocationError for command .../setuptools_scm/.tox/py310-test/bin/pytest (exited with code 2)\r\n___________________________________ summary ____________________________________\r\nERROR:   py310-test: commands failed\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\nI agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2630", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2630/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2630/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2630/events", "html_url": "https://github.com/pypa/setuptools/issues/2630", "id": 848826517, "node_id": "MDU6SXNzdWU4NDg4MjY1MTc=", "number": 2630, "title": "[BUG] setup.cfg find_namespace: includes build directory", "user": {"login": "omry", "id": 376455, "node_id": "MDQ6VXNlcjM3NjQ1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/376455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omry", "html_url": "https://github.com/omry", "followers_url": "https://api.github.com/users/omry/followers", "following_url": "https://api.github.com/users/omry/following{/other_user}", "gists_url": "https://api.github.com/users/omry/gists{/gist_id}", "starred_url": "https://api.github.com/users/omry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omry/subscriptions", "organizations_url": "https://api.github.com/users/omry/orgs", "repos_url": "https://api.github.com/users/omry/repos", "events_url": "https://api.github.com/users/omry/events{/privacy}", "received_events_url": "https://api.github.com/users/omry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-01T22:23:47Z", "updated_at": "2022-01-28T15:57:48Z", "closed_at": "2022-01-28T15:55:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\r\n\r\n54.2.0\r\n\r\n### Python version\r\n\r\n3.8.2\r\n\r\n### OS\r\n\r\nUbuntu 18.04\r\n\r\n### Additional environment information\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI am not sure if this is a bug or a documentation issue (or both).\r\nMy goal is to port the minimal setup.py based example [here](https://github.com/omry/python-build-tests/tree/main/namespace_package_example/setup_py) to the minimal setup.cfg based example [here](https://github.com/omry/python-build-tests/tree/main/namespace_package_example/setup_cfg).\r\nOutputs for each variant are in READMEs of each of the directories.\r\n\r\nThe output contains the build directory if it exists in the local directory, even though setup.cfg excludes it (or attempt to at least).\r\n\r\nSide note:\r\nThe setup.py based example do not need to explicitly exclude build, and does not end up with a build dir in the wheel even on subsequent runs.\r\nIn terms of usability, it would be great if we can achieve the same behavior without an explicit blacklist of directories.\r\n\r\n### Code of Conduct\r\n\r\nI agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2630/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2624", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2624/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2624/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2624/events", "html_url": "https://github.com/pypa/setuptools/issues/2624", "id": 843272868, "node_id": "MDU6SXNzdWU4NDMyNzI4Njg=", "number": 2624, "title": "[BUG] setuptools build pulls in data of pkg_resources.tests", "user": {"login": "stanislavlevin", "id": 31205609, "node_id": "MDQ6VXNlcjMxMjA1NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/31205609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stanislavlevin", "html_url": "https://github.com/stanislavlevin", "followers_url": "https://api.github.com/users/stanislavlevin/followers", "following_url": "https://api.github.com/users/stanislavlevin/following{/other_user}", "gists_url": "https://api.github.com/users/stanislavlevin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stanislavlevin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stanislavlevin/subscriptions", "organizations_url": "https://api.github.com/users/stanislavlevin/orgs", "repos_url": "https://api.github.com/users/stanislavlevin/repos", "events_url": "https://api.github.com/users/stanislavlevin/events{/privacy}", "received_events_url": "https://api.github.com/users/stanislavlevin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-29T11:22:17Z", "updated_at": "2022-01-28T16:03:07Z", "closed_at": "2022-01-28T16:03:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### setuptools version\n\n54.2.0\n\n### Python version\n\n3.9.2\n\n### OS\n\nALTLinux\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nBuild the setuptools results in the data of `pkg_resources.tests` is packaged into setuptools.\r\n\r\nOS Distributions usually don't include tests in Python distro packages since they pull in extra tests dependencies. But at the same time it is unlikely that end users will run tests in production. In this case the tests data is packaged without tests.\n\n### Expected behavior\n\nThe data of `pkg_resources.tests`(as well as any tests and their data) should not be packaged into setuptools distribution.\n\n### How to Reproduce\n\n```console\r\npython3 setup.py build -v 2>/dev/null | grep 'tests'\r\n```\n\n### Output\n\n```console\r\ncopying pkg_resources/tests/data/my-test-package-source/setup.py -> build/lib/pkg_resources/tests/data/my-test-package-source\r\n\r\n```\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2624/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2614", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2614/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2614/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2614/events", "html_url": "https://github.com/pypa/setuptools/issues/2614", "id": 837736794, "node_id": "MDU6SXNzdWU4Mzc3MzY3OTQ=", "number": 2614, "title": "[Docs] RTD changelog is out of date", "user": {"login": "jwodder", "id": 98207, "node_id": "MDQ6VXNlcjk4MjA3", "avatar_url": "https://avatars.githubusercontent.com/u/98207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwodder", "html_url": "https://github.com/jwodder", "followers_url": "https://api.github.com/users/jwodder/followers", "following_url": "https://api.github.com/users/jwodder/following{/other_user}", "gists_url": "https://api.github.com/users/jwodder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwodder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwodder/subscriptions", "organizations_url": "https://api.github.com/users/jwodder/orgs", "repos_url": "https://api.github.com/users/jwodder/repos", "events_url": "https://api.github.com/users/jwodder/events{/privacy}", "received_events_url": "https://api.github.com/users/jwodder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315489, "node_id": "MDU6TGFiZWwzNDkzMTU0ODk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100115998, "node_id": "MDU6TGFiZWwxMTAwMTE1OTk4", "url": "https://api.github.com/repos/pypa/setuptools/labels/documentation", "name": "documentation", "color": "fc9e6f", "default": true, "description": ""}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-03-22T13:49:57Z", "updated_at": "2021-03-28T14:13:08Z", "closed_at": "2021-03-27T19:24:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\n\n[The changelog on the RTD site](https://setuptools.readthedocs.io/en/latest/history.html) is missing entries for the last four releases (v54.1.1, v54.1.2, v54.1.3, v54.2.0).\n\n### OS / Environment\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct\n\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2614/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2612", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2612/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2612/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2612/events", "html_url": "https://github.com/pypa/setuptools/issues/2612", "id": 836945279, "node_id": "MDU6SXNzdWU4MzY5NDUyNzk=", "number": 2612, "title": "Development environments using nix-shell no longer work", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-20T23:44:49Z", "updated_at": "2021-03-22T06:32:54Z", "closed_at": "2021-03-22T06:32:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The change in #2165 broke development environments using nix-shell, which offers a feature similar to running `setup.py develop`. If I manually copy the `site.py` generated by older versions of setuptools into the new environment I can fix it, but this is clearly a hack.\r\n\r\nI'm not sure how to proceed to properly fix this issue when using nix-shell. @jaraco would you be able to help recommending workarounds to solve this problem?\r\n\r\n_Originally posted by @cript0nauta in https://github.com/pypa/setuptools/issues/2165#issuecomment-789273833_", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2597", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2597/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2597/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2597/events", "html_url": "https://github.com/pypa/setuptools/issues/2597", "id": 823960339, "node_id": "MDU6SXNzdWU4MjM5NjAzMzk=", "number": 2597, "title": "Unable to run tests on Python 3.10", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-07T16:43:58Z", "updated_at": "2021-03-07T17:55:28Z", "closed_at": "2021-03-07T17:55:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### setuptools version\n\nmain\n\n### Python version\n\n3.10.0a6\n\n### OS\n\nmacOS\n\n### Additional environment information\n\n_No response_\n\n### Description\n\nInstalling Python from python.org, I then proceed to run tests with `tox -e py310`, but they fail when tox/pip are unable to install `typed-ast`:\r\n\r\n```\r\nFailed to build typed-ast\r\nInstalling collected packages: pyparsing, toml, six, py, pluggy, path, packaging, iniconfig, filelock, distlib, attrs, appdirs, apipkg, virtualenv, typing-extensions, typed-ast, termcolor, regex, pytest, pyflakes, pycodestyle, pathspec, path.py, mypy-extensions, more-itertools, mock, mccabe, execnet, contextlib2, click, tox, pytest-shutil, pytest-forked, pytest-fixture-config, pep517, mypy, jaraco.functools, jaraco.context, flake8, docutils, coverage, black, setuptools, pytest-xdist, pytest-virtualenv, pytest-mypy, pytest-flake8, pytest-enabler, pytest-cov, pytest-checkdocs, pytest-black, paver, jaraco.envs, flake8-2020\r\n    Running setup.py install for typed-ast: started\r\n    Running setup.py install for typed-ast: finished with status 'error'\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /Users/jaraco/code/public/pypa/setuptools/.tox/py310/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-install-6kz8vj0w/typed-ast_c8f8b66ccb42442ca810b704423e27ea/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-install-6kz8vj0w/typed-ast_c8f8b66ccb42442ca810b704423e27ea/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-record-v4c8hiug/install-record.txt --single-version-externally-managed --compile --install-headers /Users/jaraco/code/public/pypa/setuptools/.tox/py310/include/site/python3.10/typed-ast\r\n         cwd: /private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-install-6kz8vj0w/typed-ast_c8f8b66ccb42442ca810b704423e27ea/\r\n    Complete output (34 lines):\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.9-universal2-3.10\r\n    creating build/lib.macosx-10.9-universal2-3.10/typed_ast\r\n    copying typed_ast/conversions.py -> build/lib.macosx-10.9-universal2-3.10/typed_ast\r\n    copying typed_ast/__init__.py -> build/lib.macosx-10.9-universal2-3.10/typed_ast\r\n    copying typed_ast/ast3.py -> build/lib.macosx-10.9-universal2-3.10/typed_ast\r\n    copying typed_ast/ast27.py -> build/lib.macosx-10.9-universal2-3.10/typed_ast\r\n    package init file 'ast3/tests/__init__.py' not found (or not a regular file)\r\n    creating build/lib.macosx-10.9-universal2-3.10/typed_ast/tests\r\n    copying ast3/tests/test_basics.py -> build/lib.macosx-10.9-universal2-3.10/typed_ast/tests\r\n    running build_ext\r\n    building '_ast27' extension\r\n    creating build/temp.macosx-10.9-universal2-3.10\r\n    creating build/temp.macosx-10.9-universal2-3.10/ast27\r\n    creating build/temp.macosx-10.9-universal2-3.10/ast27/Custom\r\n    creating build/temp.macosx-10.9-universal2-3.10/ast27/Parser\r\n    creating build/temp.macosx-10.9-universal2-3.10/ast27/Python\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Custom/typed_ast.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Custom/typed_ast.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/acceler.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/acceler.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/bitset.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/bitset.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/grammar.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/grammar.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/grammar1.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/grammar1.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/node.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/node.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/parser.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/parser.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/parsetok.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/parsetok.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch arm64 -arch x86_64 -g -Iast27/Include -I/Users/jaraco/code/public/pypa/setuptools/.tox/py310/include -I/Library/Frameworks/Python.framework/Versions/3.10/include/python3.10 -c ast27/Parser/tokenizer.c -o build/temp.macosx-10.9-universal2-3.10/ast27/Parser/tokenizer.o\r\n    ast27/Parser/tokenizer.c:19:10: fatal error: 'pydebug.h' file not found\r\n    #include \"pydebug.h\"\r\n             ^~~~~~~~~~~\r\n    1 error generated.\r\n    error: command '/usr/bin/gcc' failed with exit code 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Users/jaraco/code/public/pypa/setuptools/.tox/py310/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-install-6kz8vj0w/typed-ast_c8f8b66ccb42442ca810b704423e27ea/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-install-6kz8vj0w/typed-ast_c8f8b66ccb42442ca810b704423e27ea/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-record-v4c8hiug/install-record.txt --single-version-externally-managed --compile --install-headers /Users/jaraco/code/public/pypa/setuptools/.tox/py310/include/site/python3.10/typed-ast Check the logs for full command output.\r\n```\n\n### Expected behavior\n\nblah\n\n### How to Reproduce\n\nblah\n\n### Output\n\nblah\n\n### Code of Conduct\n\n- [X] I agree to follow the PSF Code of Conduct", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2597/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2595", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2595/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2595/events", "html_url": "https://github.com/pypa/setuptools/issues/2595", "id": 823816720, "node_id": "MDU6SXNzdWU4MjM4MTY3MjA=", "number": 2595, "title": "Deprecation of dashes affects other project settings", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-07T03:18:47Z", "updated_at": "2021-03-14T15:09:51Z", "closed_at": "2021-03-14T15:07:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hi! I checked https://setuptools.readthedocs.io/en/latest/history.html#v54-1-0 but I wasn't entirely clear: is this meant to warn for all keys using hyphens in `setup.cfg`? For example, I see warnings for these Flake8 options:\r\n\r\n\r\n```console\r\n$ cat setup.cfg\r\n[flake8]\r\nextend-ignore = E203\r\nmax-line-length = 88\r\n\r\n[isort]\r\nprofile = black\r\n\r\n[tool:pytest]\r\naddopts = -ra --color=yes\r\ntestpaths = Tests\r\n$ python setup.py --version\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/setuptools/dist.py:633: UserWarning: Usage of dash-separated 'extend-ignore' will not be supported in future versions. Please use the underscore name 'extend_ignore' instead\r\n  warnings.warn(\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/setuptools/dist.py:633: UserWarning: Usage of dash-separated 'max-line-length' will not be supported in future versions. Please use the underscore name 'max_line_length' instead\r\n  warnings.warn(\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/setuptools/dist.py:633: UserWarning: Usage of dash-separated 'extend-ignore' will not be supported in future versions. Please use the underscore name 'extend_ignore' instead\r\n  warnings.warn(\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/setuptools/dist.py:633: UserWarning: Usage of dash-separated 'max-line-length' will not be supported in future versions. Please use the underscore name 'max_line_length' instead\r\n  warnings.warn(\r\n8.2.0.dev0\r\n```\r\n\r\nFlake8 themselves say both underscores and hyphens are fine in `setup.cfg`:\r\n\r\nhttps://flake8.pycqa.org/en/latest/user/configuration.html#project-configuration\r\n\r\nThanks!\r\n\r\n_Originally posted by @hugovk in https://github.com/pypa/setuptools/issues/2588#issuecomment-792040266_", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2577", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2577/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2577/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2577/events", "html_url": "https://github.com/pypa/setuptools/issues/2577", "id": 812799716, "node_id": "MDU6SXNzdWU4MTI3OTk3MTY=", "number": 2577, "title": "It is needed to make sure the EntryPoint py file generated is written in utf-8 when installing", "user": {"login": "HaujetZhao", "id": 19181833, "node_id": "MDQ6VXNlcjE5MTgxODMz", "avatar_url": "https://avatars.githubusercontent.com/u/19181833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HaujetZhao", "html_url": "https://github.com/HaujetZhao", "followers_url": "https://api.github.com/users/HaujetZhao/followers", "following_url": "https://api.github.com/users/HaujetZhao/following{/other_user}", "gists_url": "https://api.github.com/users/HaujetZhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/HaujetZhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HaujetZhao/subscriptions", "organizations_url": "https://api.github.com/users/HaujetZhao/orgs", "repos_url": "https://api.github.com/users/HaujetZhao/repos", "events_url": "https://api.github.com/users/HaujetZhao/events{/privacy}", "received_events_url": "https://api.github.com/users/HaujetZhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-21T08:05:46Z", "updated_at": "2021-02-26T16:06:20Z", "closed_at": "2021-02-26T16:05:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "setuptools version: 53.0.0\r\npyhton version: Python 3.8.6\r\nsystem: Windows10 64 19041.804 (Chinese Language)\r\n\r\nProblem: If a EntryPoint in setup.py has Unicode characters, after installing the package with `python setup.py install`, the Unicode entry point would fail. \r\n\r\nThe test package is below: \r\n\r\n[UnicodeTestPackage.zip](https://github.com/pypa/setuptools/files/6017355/UnicodeTestPackage.zip)\r\n\r\nIn the setup.py file, there are two entrypoints: \r\n\r\n```python\r\nentry_points={  # Options: console_scripts gui_scripts\r\n            'console_scripts': [\r\n                'UnicodeTestPackage=UnicodeTestPackage.__main__:main', \r\n                'Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305=UnicodeTestPackage.__main__:main', \r\n            ]\r\n    },\r\n```\r\n\r\nAfter running `python setup.py install`, a file  `~\\AppData\\Local\\Programs\\Python\\Python38\\ScriptsUnicode\u5b57\u7b26\u6d4b\u8bd5\u5305-script.py` would be generated, but it's written in `gbk` encoding, not `utf-8` encoding. \r\n\r\nSo, when using the `Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305` entry point to run the moduel, certainly an error popups: \r\n\r\n```\r\nD:\\Users\\Haujet>Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305\r\n  File \"D:\\Users\\Haujet\\AppData\\Local\\Programs\\Python\\Python38\\Scripts\\Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305-script.py\", line 2\r\nSyntaxError: Non-UTF-8 code starting with '\\xd7' in file D:\\Users\\Haujet\\AppData\\Local\\Programs\\Python\\Python38\\Scripts\\Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305-script.py on line 2, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\r\n```\r\n\r\nAfter manually convert the `Unicode\u5b57\u7b26\u6d4b\u8bd5\u5305-script.py` into utf-8 codec, the error solved. \r\n\r\nSo, I assume that this need to be issued: It is needed to make sure the EntryPoint py file generated is written in utf-8 when installing. ", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2558", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2558/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2558/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2558/events", "html_url": "https://github.com/pypa/setuptools/issues/2558", "id": 801372365, "node_id": "MDU6SXNzdWU4MDEzNzIzNjU=", "number": 2558, "title": "Python 3.10: ModuleNotFoundError: No module named 'distutils.command.bdist_wininst'", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-04T15:09:44Z", "updated_at": "2021-03-31T02:01:53Z", "closed_at": "2021-03-31T02:01:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello. With Python 3.10.0a5+ we have this problem when running setuptools tests in Fedora:\r\n\r\n```\r\n==================================== ERRORS ====================================\r\n_____________ ERROR collecting setuptools/command/bdist_wininst.py _____________\r\nsetuptools/command/bdist_wininst.py:1: in <module>\r\n    import distutils.command.bdist_wininst as orig\r\nE   ModuleNotFoundError: No module named 'distutils.command.bdist_wininst'\r\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\r\n========================= 2 skipped, 1 error in 1.41s ==========================\r\n```\r\n\r\n> The bdist_wininst command deprecated in Python 3.8 has been removed. The bdist_wheel command is now recommended to distribute binary packages on Windows. (Contributed by @vstinner in [bpo-42802](https://bugs.python.org/issue42802).)\r\n\r\nhttps://docs.python.org/3.10/whatsnew/3.10.html#distutils\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2501", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2501/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2501/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2501/events", "html_url": "https://github.com/pypa/setuptools/issues/2501", "id": 772392705, "node_id": "MDU6SXNzdWU3NzIzOTI3MDU=", "number": 2501, "title": "[CI Regression?] Re-enable flake8", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-12-21T18:59:13Z", "updated_at": "2021-02-04T13:07:40Z", "closed_at": "2021-02-04T13:07:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@jaraco it looks like after https://github.com/pypa/setuptools/pull/2486 flake8 is always skipped:\r\n```console\r\n$ tox -- --flake8 -vv -k FLAKE8\r\npython develop-inst-noop: ~/src/github/pypa/setuptools\r\npython installed: apipkg==1.5,appdirs==1.4.4,attrs==20.3.0,black==20.8b1,click==7.1.2,contextlib2==0.6.0.post1,coverage==5.3.1,distlib==0.3.1,docutils==0.16,execnet==1.7.1,filelock==3.0.12,flake8==3.8.4,flake8-2020==1.6.0,iniconfig==1.1.1,jaraco.apt==2.0,jaraco.classes==3.1.0,jaraco.collections==3.0.0,jaraco.context==3.0.0,jaraco.envs==2.0.0,jaraco.functools==3.0.1,jaraco.test==4.0.1,jaraco.text==3.2.0,mccabe==0.6.1,mock==4.0.3,more-itertools==8.6.0,mypy==0.790,mypy-extensions==0.4.3,packaging==20.8,path==15.0.1,path.py==12.5.0,pathspec==0.8.1,Paver==1.3.4,pip==20.2.4,pluggy==0.13.1,py==1.10.0,pycodestyle==2.6.0,pyflakes==2.2.0,pyparsing==2.4.7,pytest==6.2.1,pytest-black==0.3.12,pytest-checkdocs==2.1.1,pytest-cov==2.10.1,pytest-fixture-config==1.7.0,pytest-flake8==1.0.7,pytest-mypy==0.8.0,pytest-shutil==1.7.0,pytest-virtualenv==1.7.0,pytz==2020.4,regex==2020.11.13,-e git+ssh://git@github.com/pypa/setuptools.git@ac2311014ab27409f1ca109101131fd7383cdc32#egg=setuptools,six==1.15.0,tempora==4.0.1,termcolor==1.1.0,toml==0.10.2,tox==3.20.1,tox-venv==0.4.0,typed-ast==1.4.1,typing-extensions==3.7.4.3,virtualenv==20.2.2,wheel==0.35.1,yg.lockfile==2.3,zc.lockfile==2.0\r\npython run-test-pre: PYTHONHASHSEED='14316484'\r\npython run-test: commands[0] | pytest --flake8 -vv -k FLAKE8\r\n================================ test session starts ================================\r\nplatform linux -- Python 3.9.0, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 -- ~/src/github/pypa/setuptools/.tox/python/bin/python\r\ncachedir: .tox/python/.pytest_cache\r\nrootdir: ~/src/github/pypa/setuptools, configfile: pytest.ini\r\nplugins: checkdocs-2.1.1, shutil-1.7.0, virtualenv-1.7.0, flake8-1.0.7, black-0.3.12, cov-2.10.1, mypy-0.8.0, jaraco.test-4.0.1\r\ncollected 805 items / 690 deselected / 2 skipped / 113 selected                     \r\n\r\nbootstrap.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 checks)        [  0%]\r\nconftest.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 checks)         [  1%]\r\neasy_install.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 checks)     [  2%]\r\n[...snip...]\r\nsetuptools/installer.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8...) [ 22%]\r\nsetuptools/launch.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 ch...) [ 23%]\r\nsetuptools/lib2to3_ex.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE...) [ 24%]\r\nsetuptools/monkey.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 ch...) [ 25%]\r\nsetuptools/msvc.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 checks)  [ 26%]\r\nsetuptools/namespaces.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE...) [ 26%]\r\nsetuptools/package_index.py::FLAKE8 SKIPPED (file(s) previously passed FL...) [ 27%]\r\nsetuptools/py34compat.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE...) [ 28%]\r\n[...snip...]\r\ntools/ppc64le-patch.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 ...) [ 99%]\r\ntools/tox_pip.py::FLAKE8 SKIPPED (file(s) previously passed FLAKE8 checks)    [100%]\r\n\r\n----------- coverage: platform linux, python 3.9.0-final-0 -----------\r\nName                                              Stmts   Miss  Cover   Missing\r\n-------------------------------------------------------------------------------\r\n_distutils_hack/__init__.py                          66     43    35%   12-18, 28-33, 45-52, 63-64, 69-74, 77-88, 95-98, 105-106, 116, 120-123\r\n_distutils_hack/override.py                           1      0   100%\r\n[...snip...]\r\n-------------------------------------------------------------------------------\r\nTOTAL                                             17820  14002    21%\r\n\r\n\r\n============================== short test summary info ==============================\r\nSKIPPED [2] setuptools/tests/test_msvc.py:17: could not import 'distutils.msvc9compiler': No module named 'winreg'\r\nSKIPPED [115] .tox/python/lib/python3.9/site-packages/pytest_flake8.py:116: file(s) previously passed FLAKE8 checks\r\n======================= 117 skipped, 690 deselected in 2.42s ========================\r\n______________________________________ summary ______________________________________\r\n  python: commands succeeded\r\n  congratulations :)\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2498", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2498/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2498/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2498/events", "html_url": "https://github.com/pypa/setuptools/issues/2498", "id": 772005944, "node_id": "MDU6SXNzdWU3NzIwMDU5NDQ=", "number": 2498, "title": ".tmpl files missing in new release .tar.gz", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-12-21T09:22:28Z", "updated_at": "2020-12-21T17:38:28Z", "closed_at": "2020-12-21T17:35:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`setuptools-51.1.0.post20201221.tar.gz` seems to be missing the `.tmpl` files. As a result, tests fail:\r\n\r\n```\r\n_____________________________________________________ TestEasyInstallTest.test_script_install _____________________________________________________\r\n\r\nself = <setuptools.tests.test_easy_install.TestEasyInstallTest object at 0x000055e0e1c3b088>\r\nsdist_script = '/tmp/portage/dev-python/setuptools-51.1.0_p20201221/temp/pytest-of-portage/pytest-0/test_script_install0/setuptools-test-script-1.0.zip'\r\ntmpdir = local('/tmp/portage/dev-python/setuptools-51.1.0_p20201221/temp/pytest-of-portage/pytest-0/test_script_install0')\r\nmonkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x000055e0e1c3b830>\r\n\r\n    @pytest.mark.skipif(not sys.platform.startswith('linux'),\r\n                        reason=\"Test can only be run on Linux\")\r\n    def test_script_install(self, sdist_script, tmpdir, monkeypatch):\r\n        \"\"\"\r\n        Check scripts are installed.\r\n        \"\"\"\r\n        dist = Distribution({'script_args': ['easy_install']})\r\n        target = (tmpdir / 'target').ensure_dir()\r\n        cmd = ei.easy_install(\r\n            dist,\r\n            install_dir=str(target),\r\n            args=['x'],\r\n        )\r\n        monkeypatch.setitem(os.environ, 'PYTHONPATH', str(target))\r\n        cmd.ensure_finalized()\r\n>       cmd.easy_install(sdist_script)\r\n\r\nsetuptools/tests/test_easy_install.py:267: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nsetuptools/command/easy_install.py:650: in easy_install\r\n    return self.install_item(None, spec, tmpdir, deps, True)\r\nsetuptools/command/easy_install.py:697: in install_item\r\n    self.process_distribution(spec, dist, deps)\r\nsetuptools/command/easy_install.py:722: in process_distribution\r\n    self.install_egg_scripts(dist)\r\nsetuptools/command/easy_install.py:599: in install_egg_scripts\r\n    dist.get_metadata('scripts/' + script_name)\r\nsetuptools/command/easy_install.py:799: in install_script\r\n    body = self._load_template(dev_path) % locals()\r\nsetuptools/command/easy_install.py:815: in _load_template\r\n    raw_bytes = resource_string('setuptools', name)\r\nbuild/test/lib/pkg_resources/__init__.py:1141: in resource_string\r\n    self, resource_name\r\nbuild/test/lib/pkg_resources/__init__.py:1386: in get_resource_string\r\n    return self._get(self._fn(self.module_path, resource_name))\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = <pkg_resources.DefaultProvider object at 0x00007f679b7580c8>\r\npath = '/tmp/portage/dev-python/setuptools-51.1.0_p20201221/work/setuptools-51.1.0.post20201221-pypy3/setuptools/script.tmpl'\r\n\r\n    def _get(self, path):\r\n>       with open(path, 'rb') as stream:\r\nE       FileNotFoundError: [Errno 2] No such file or directory: '/tmp/portage/dev-python/setuptools-51.1.0_p20201221/work/setuptools-51.1.0.post20201221-pypy3/setuptools/script.tmpl'\r\n\r\nbuild/test/lib/pkg_resources/__init__.py:1609: FileNotFoundError\r\n-------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------\r\nProcessing setuptools-test-script-1.0.zip\r\nWriting /tmp/portage/dev-python/setuptools-51.1.0_p20201221/temp/easy_install-zph14rrk/setup.cfg\r\nRunning setup.py -q bdist_egg --dist-dir /tmp/portage/dev-python/setuptools-51.1.0_p20201221/temp/easy_install-zph14rrk/egg-dist-tmp-z3lf1g7i\r\nMoving setuptools_test_script-1.0-py3.7.egg to /tmp/portage/dev-python/setuptools-51.1.0_p20201221/temp/pytest-of-portage/pytest-0/test_script_install0/target\r\nAdding setuptools-test-script 1.0 to easy-install.pth file\r\n-------------------------------------------------------------- Captured stderr call ---------------------------------------------------------------\r\nwarning: install_lib: 'build/lib' does not exist -- no Python modules to install\r\n\r\nzip_safe flag not set; analyzing archive contents...\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2498/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2481", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2481/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2481/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2481/events", "html_url": "https://github.com/pypa/setuptools/issues/2481", "id": 761747959, "node_id": "MDU6SXNzdWU3NjE3NDc5NTk=", "number": 2481, "title": "[Forward compatibility][BUG] `pkg_resources.extern.VendorImporter` lacks `exec_module()` method", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-12-11T00:39:45Z", "updated_at": "2021-04-08T08:46:08Z", "closed_at": "2021-01-16T22:02:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This causes an `ImportWarning` that effectively explodes in envs with a strict warning handling (`filterwarnings = error`) \u2014 like pytest \u2014 under Python 3.10-dev that ships setuptools v47.1.0. But I checked that the importer is still missing that method.\r\nThe simple repro is:\r\n```python-traceback\r\n$ python3.10 -W error -c 'import pkg_resources' \r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"~/.pyenv/versions/3.10-dev/lib/python3.10/site-packages/pkg_resources/__init__.py\", line 57, in <module>\r\n    from pkg_resources.extern import six\r\n  File \"<frozen importlib._bootstrap>\", line 1026, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1005, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 681, in _load_unlocked\r\nImportWarning: VendorImporter.exec_module() not found; falling back to load_module()\r\n```\r\nExample failure: https://github.com/cherrypy/cheroot/runs/1533924692?check_suite_focus=true#step:14:226.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2462", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2462/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2462/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2462/events", "html_url": "https://github.com/pypa/setuptools/issues/2462", "id": 749584502, "node_id": "MDU6SXNzdWU3NDk1ODQ1MDI=", "number": 2462, "title": "Setuptools bootstrap fails in presence of installed setuptools_scm", "user": {"login": "KOLANICH", "id": 240344, "node_id": "MDQ6VXNlcjI0MDM0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/240344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KOLANICH", "html_url": "https://github.com/KOLANICH", "followers_url": "https://api.github.com/users/KOLANICH/followers", "following_url": "https://api.github.com/users/KOLANICH/following{/other_user}", "gists_url": "https://api.github.com/users/KOLANICH/gists{/gist_id}", "starred_url": "https://api.github.com/users/KOLANICH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KOLANICH/subscriptions", "organizations_url": "https://api.github.com/users/KOLANICH/orgs", "repos_url": "https://api.github.com/users/KOLANICH/repos", "events_url": "https://api.github.com/users/KOLANICH/events{/privacy}", "received_events_url": "https://api.github.com/users/KOLANICH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-11-24T10:34:26Z", "updated_at": "2021-03-05T17:46:42Z", "closed_at": "2021-03-05T17:46:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\na@a:~$ sudo pip3 uninstall -y setuptools_scm 2> /dev/null 1> /dev/null\r\na@a:~$ git clone --depth=1 https://github.com/pypa/setuptools 2>/dev/null\r\na@a:~$ cd setuptools/\r\na@a:~/setuptools$ python3 ./bootstrap.py 2> /dev/null 1> /dev/null\r\na@a:~/setuptools$ python3 ./setup.py bdist_wheel 2> /dev/null 1> /dev/null\r\na@a:~/setuptools$ sudo pip3 install --upgrade ./dist/*.whl\r\nProcessing ./dist/setuptools-50.3.2.post20201124-py3-none-any.whl\r\na@a:~/setuptools$ git clone --depth=1 https://github.com/pypa/setuptools_scm 2>/dev/null\r\na@a:~/setuptools$ cd setuptools_scm/\r\na@a:~/setuptools/setuptools_scm$ python3 ./setup.py bdist_wheel 2> /dev/null 1> /dev/null\r\na@a:~/setuptools/setuptools_scm$ sudo pip3 install --upgrade ./dist/*.whl 2> /dev/null 1> /dev/null\r\na@a:~/setuptools/setuptools_scm$ cd ..\r\na@a:~/setuptools$ rm -rf ./setuptools.egg-info/\r\na@a:~/setuptools$ python3 ./bootstrap.py\r\nadding minimal entry_points\r\nRegenerating egg_info\r\nTraceback (most recent call last):\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 2676, in version\r\n    return self._version\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 2810, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: _version\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 196, in <module>\r\n    dist = setuptools.setup(**setup_params)\r\n  File \"/home/a/setuptools/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib/python3.8/distutils/core.py\", line 108, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/home/a/setuptools/setuptools/dist.py\", line 423, in __init__\r\n    _Distribution.__init__(self, {\r\n  File \"/usr/lib/python3.8/distutils/dist.py\", line 292, in __init__\r\n    self.finalize_options()\r\n  File \"/home/a/setuptools/setuptools/dist.py\", line 694, in finalize_options\r\n    for ep in sorted(eps, key=by_order):\r\n  File \"/home/a/setuptools/setuptools/dist.py\", line 693, in <lambda>\r\n    eps = map(lambda e: e.load(), pkg_resources.iter_entry_points(group))\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 2446, in load\r\n    self.require(*args, **kwargs)\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 2469, in require\r\n    items = working_set.resolve(reqs, env, installer, extras=self.extras)\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 753, in resolve\r\n    if dist is None or (dist not in req and replace_conflicting):\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 3120, in __contains__\r\n    item = item.version\r\n  File \"/home/a/setuptools/pkg_resources/__init__.py\", line 2684, in version\r\n    raise ValueError(msg, self) from e\r\nValueError: (\"Missing 'Version:' header and/or PKG-INFO file at path: /home/a/setuptools/setuptools.egg-info/PKG-INFO\", setuptools [unknown version] (/home/a/setuptools))\r\nTraceback (most recent call last):\r\n  File \"./bootstrap.py\", line 57, in <module>\r\n    __name__ == '__main__' and ensure_egg_info()\r\n  File \"./bootstrap.py\", line 38, in ensure_egg_info\r\n    run_egg_info()\r\n  File \"./bootstrap.py\", line 54, in run_egg_info\r\n    subprocess.check_call(cmd)\r\n  File \"/usr/lib/python3.8/subprocess.py\", line 364, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['/usr/bin/python3', 'setup.py', 'egg_info']' returned non-zero exit status 1.\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2352", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2352/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2352/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2352/events", "html_url": "https://github.com/pypa/setuptools/issues/2352", "id": 688886180, "node_id": "MDU6SXNzdWU2ODg4ODYxODA=", "number": 2352, "title": "SystemError: Parent module 'setuptools' not loaded, cannot perform relative import with setuptools 50", "user": {"login": "gavincyi", "id": 10500805, "node_id": "MDQ6VXNlcjEwNTAwODA1", "avatar_url": "https://avatars.githubusercontent.com/u/10500805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gavincyi", "html_url": "https://github.com/gavincyi", "followers_url": "https://api.github.com/users/gavincyi/followers", "following_url": "https://api.github.com/users/gavincyi/following{/other_user}", "gists_url": "https://api.github.com/users/gavincyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/gavincyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gavincyi/subscriptions", "organizations_url": "https://api.github.com/users/gavincyi/orgs", "repos_url": "https://api.github.com/users/gavincyi/repos", "events_url": "https://api.github.com/users/gavincyi/events{/privacy}", "received_events_url": "https://api.github.com/users/gavincyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2020-08-31T04:25:09Z", "updated_at": "2020-09-02T01:19:09Z", "closed_at": "2020-09-01T21:11:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading setuptools to 50.0 today, the environment fails to locate the entry points as it could not import distutils\r\n\r\n```\r\n$ python --version\r\nPython 3.5.1\r\n$ python -c \"import distutils\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 666, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 577, in module_from_spec\r\n  File \"/home/gchan/tmp/setuptools-python-3.5/lib/python3.5/site-packages/_distutils_hack/__init__.py\", line 82, in create_module\r\n    return importlib.import_module('._distutils', 'setuptools')\r\n  File \"/home/gchan/tmp/setuptools-python-3.5/lib64/python3.5/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 981, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 931, in _sanity_check\r\nSystemError: Parent module 'setuptools' not loaded, cannot perform relative import\r\n```\r\n\r\nThe issue could not be found in the python 3.8 environment.  ", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2352/reactions", "total_count": 53, "+1": 53, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2140", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2140/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2140/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2140/events", "html_url": "https://github.com/pypa/setuptools/issues/2140", "id": 624068528, "node_id": "MDU6SXNzdWU2MjQwNjg1Mjg=", "number": 2140, "title": "TypeError: unsupported operand type(s) for ^: 'str' and 'int                >.<", "user": {"login": "safebird", "id": 14068821, "node_id": "MDQ6VXNlcjE0MDY4ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/14068821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/safebird", "html_url": "https://github.com/safebird", "followers_url": "https://api.github.com/users/safebird/followers", "following_url": "https://api.github.com/users/safebird/following{/other_user}", "gists_url": "https://api.github.com/users/safebird/gists{/gist_id}", "starred_url": "https://api.github.com/users/safebird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/safebird/subscriptions", "organizations_url": "https://api.github.com/users/safebird/orgs", "repos_url": "https://api.github.com/users/safebird/repos", "events_url": "https://api.github.com/users/safebird/events{/privacy}", "received_events_url": "https://api.github.com/users/safebird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315100, "node_id": "MDU6TGFiZWwzNDkzMTUxMDA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 1934018076, "node_id": "MDU6TGFiZWwxOTM0MDE4MDc2", "url": "https://api.github.com/repos/pypa/setuptools/labels/Python%202", "name": "Python 2", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-25T06:05:17Z", "updated_at": "2020-09-12T20:17:27Z", "closed_at": "2020-05-26T22:15:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,I meet a ploblem.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/xortool\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('xortool==0.99', 'xortool')\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 666, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 1469, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/usr/local/lib/python2.7/dist-packages/xortool-0.99-py2.7.egg/EGG-INFO/scripts/xortool\", line 401, in <module>\r\n    \r\n  File \"/usr/local/lib/python2.7/dist-packages/xortool-0.99-py2.7.egg/EGG-INFO/scripts/xortool\", line 101, in main\r\n    \r\n  File \"/usr/local/lib/python2.7/dist-packages/xortool-0.99-py2.7.egg/EGG-INFO/scripts/xortool\", line 277, in guess_probable_keys_for_chars\r\n    \r\n  File \"/usr/local/lib/python2.7/dist-packages/xortool-0.99-py2.7.egg/EGG-INFO/scripts/xortool\", line 299, in guess_keys\r\n    \r\nTypeError: unsupported operand type(s) for ^: 'str' and 'int'\r\n```\r\n\r\nhow to deal this problem ?\r\nPlease...", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2129", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2129/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2129/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2129/events", "html_url": "https://github.com/pypa/setuptools/issues/2129", "id": 623160059, "node_id": "MDU6SXNzdWU2MjMxNjAwNTk=", "number": 2129, "title": "Executable python application may fail depending on temp folder", "user": {"login": "AdrianEggenberger", "id": 26227831, "node_id": "MDQ6VXNlcjI2MjI3ODMx", "avatar_url": "https://avatars.githubusercontent.com/u/26227831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrianEggenberger", "html_url": "https://github.com/AdrianEggenberger", "followers_url": "https://api.github.com/users/AdrianEggenberger/followers", "following_url": "https://api.github.com/users/AdrianEggenberger/following{/other_user}", "gists_url": "https://api.github.com/users/AdrianEggenberger/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrianEggenberger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrianEggenberger/subscriptions", "organizations_url": "https://api.github.com/users/AdrianEggenberger/orgs", "repos_url": "https://api.github.com/users/AdrianEggenberger/repos", "events_url": "https://api.github.com/users/AdrianEggenberger/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrianEggenberger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-05-22T12:01:48Z", "updated_at": "2022-07-13T11:09:17Z", "closed_at": "2020-08-14T00:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI've analyzed a strange issue with python based windows executable built with pyinstaller. The executable could be built without an issue, but when the tool was started the following error occurs:\r\n\r\n```\r\nFile \"site-packages\\PyInstaller\\hooks\\rthooks\\pyi_rth_pkgres.py\", line 13, in <module>\r\nFile \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\nFile \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\nFile \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\nFile \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 489, in exec_module\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 3251, in <module>\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 3235, in _call_aside\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 3264, in _initialize_master_working_set\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 574, in _build_master\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 567, in __init__\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 623, in add_entry\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 1983, in find_eggs_in_zip\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 1414, in has_metadata\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 1853, in _has\r\nFile \"site-packages\\pkg_resources\\__init__.py\", line 1716, in _zipinfo_name\r\nAssertionError: C:\\Users\\A9447~1.EGG\\EGG-INFO\\PKG-INFO is not a subpath of C:\\Users\\A9447~1.EGG\\AppData\\Local\\Temp\\_MEI120962\\base_library.zip\\\r\n[10872] Failed to execute script pyi_rth_pkgres\r\n```\r\n\r\nAfter a while I've found out that the same executable works properly on other workstations or even with other user accounts.\r\nI guess I've found the root cause for my problem in the file \"pkg_ressources.py\" of the setuptools. In the function \"_setup_prefix\" is a test if a path ends with \".egg\", what is the case in my situation for my temporairy folder (=> \"C:\\\\Users\\\\A9447\\~1.EGG\"). This causes that a new invalid path was built and afterwards caused the assertion. \"C:\\Users\\A9447~1.EGG\" is the default temp folder for my user \"a.eggenberger\".\r\n\r\nThe quick solution was to set another user temp folder \"C\\\\:Temp\". This solved the behavior and it works as expected.\r\n\r\nTo avoid that other users with a lastname starting with \"egg\" the code in the _setup_prefix function should be improved.\r\n\r\nRegards Adrian", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1920", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1920/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1920/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1920/events", "html_url": "https://github.com/pypa/setuptools/issues/1920", "id": 528726077, "node_id": "MDU6SXNzdWU1Mjg3MjYwNzc=", "number": 1920, "title": "Handling of find_links in setup.cfg in 42.0.0", "user": {"login": "neuroid", "id": 202341, "node_id": "MDQ6VXNlcjIwMjM0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/202341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neuroid", "html_url": "https://github.com/neuroid", "followers_url": "https://api.github.com/users/neuroid/followers", "following_url": "https://api.github.com/users/neuroid/following{/other_user}", "gists_url": "https://api.github.com/users/neuroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/neuroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neuroid/subscriptions", "organizations_url": "https://api.github.com/users/neuroid/orgs", "repos_url": "https://api.github.com/users/neuroid/repos", "events_url": "https://api.github.com/users/neuroid/events{/privacy}", "received_events_url": "https://api.github.com/users/neuroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-26T13:30:53Z", "updated_at": "2019-12-01T14:46:23Z", "closed_at": "2019-12-01T14:46:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have a couple of `setup_requires` dependencies in my setup.py and my setup.cfg looks like this:\r\n\r\n```\r\n[easy_install]\r\nfind_links = https://example.com\r\n```\r\n\r\nLooking at: https://github.com/pypa/setuptools/blob/e84f616a6507ec9115fad68b221cbf5333d9d2d9/setuptools/installer.py#L119\r\n\r\nThe `cmd` ends up being:\r\n\r\n```python\r\n['python', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpWyNzjZ', '--quiet', '--find-links', 'h', '--find-links', 't', '--find-links', 't', '--find-links', 'p', '--find-links', 's', '--find-links', ':', '--find-links', '/', '--find-links', '/', '--find-links', 'e', '--find-links', 'x', '--find-links', 'a', '--find-links', 'm', '--find-links', 'p', '--find-links', 'l', '--find-links', 'e', '--find-links', '.', '--find-links', 'c', '--find-links', 'o', '--find-links', 'm', 'babel; extra == \"i18n\"']\r\n```\r\nIt seems the assumption was that `find_links` is a list but it ends up being a string.\r\n\r\nAdditionally, since pip is unable to build/fetch a wheel, the following line throws an IndexError:\r\nhttps://github.com/pypa/setuptools/blob/e84f616a6507ec9115fad68b221cbf5333d9d2d9/setuptools/installer.py#L122\r\n\r\nPerhaps this could be caught and a more user-friendly error displayed instead.\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1920/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1917", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1917/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1917/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1917/events", "html_url": "https://github.com/pypa/setuptools/issues/1917", "id": 527880550, "node_id": "MDU6SXNzdWU1Mjc4ODA1NTA=", "number": 1917, "title": "setuptools 42.0.0 cannot install \"onnxruntime>=1.0.0,<2\" any more", "user": {"login": "tgpfeiffer", "id": 873082, "node_id": "MDQ6VXNlcjg3MzA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/873082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgpfeiffer", "html_url": "https://github.com/tgpfeiffer", "followers_url": "https://api.github.com/users/tgpfeiffer/followers", "following_url": "https://api.github.com/users/tgpfeiffer/following{/other_user}", "gists_url": "https://api.github.com/users/tgpfeiffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgpfeiffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgpfeiffer/subscriptions", "organizations_url": "https://api.github.com/users/tgpfeiffer/orgs", "repos_url": "https://api.github.com/users/tgpfeiffer/repos", "events_url": "https://api.github.com/users/tgpfeiffer/events{/privacy}", "received_events_url": "https://api.github.com/users/tgpfeiffer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-25T06:38:33Z", "updated_at": "2019-11-25T12:15:45Z", "closed_at": "2019-11-25T11:57:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I created a new virtualenv today, which automatically installs the latest version of setuptools, and my install routines stopped working. I have `\"onnxruntime>=1.0.0,<2\"` in my `setup.py`'s `install_requires` and `python setup.py develop` fails with:\r\n\r\n```\r\nerror: Could not find suitable distribution for Requirement.parse('onnxruntime<2,>=1.0.0')\r\n```\r\n\r\nDowngrading setuptools fixed the problem:\r\n\r\n```\r\n$ python -c \"import setuptools; print(setuptools.__version__)\"\r\n42.0.0\r\n\r\n$ python setup.py develop\r\n...\r\nSearching for onnxruntime<2,>=1.0.0\r\nReading https://pypi.org/simple/onnxruntime/\r\nNo local packages or working download links found for onnxruntime<2,>=1.0.0\r\nerror: Could not find suitable distribution for Requirement.parse('onnxruntime<2,>=1.0.0')\r\n\r\n$ pip install \"setuptools<42.0.0\"\r\n...\r\nSuccessfully installed setuptools-41.6.0\r\n\r\n$ python setup.py develop\r\nSearching for onnxruntime<2,>=1.0.0\r\nReading https://pypi.org/simple/onnxruntime/\r\nDownloading https://files.pythonhosted.org/packages/58/b3/6cf0cf30817b45f795ef6df970496c98ce618ab79357572b3d8d57477fa3/onnxruntime-1.0.0-cp36-cp36m-manylinux1_x86_64.whl#sha256=10b3b8872be483de46137ccecf548d4621872b8b49755aa419a18bcd885aa761\r\nBest match: onnxruntime 1.0.0\r\nProcessing onnxruntime-1.0.0-cp36-cp36m-manylinux1_x86_64.whl\r\nInstalling onnxruntime-1.0.0-cp36-cp36m-manylinux1_x86_64.whl to /build/venv/lib/python3.6/site-packages\r\nwriting requirements to /build/venv/lib/python3.6/site-packages/onnxruntime-1.0.0-py3.6-linux-x86_64.egg/EGG-INFO/requires.txt\r\nAdding onnxruntime 1.0.0 to easy-install.pth file\r\nInstalling onnxruntime_test script to /build/venv/bin\r\nInstalled /build/venv/lib/python3.6/site-packages/onnxruntime-1.0.0-py3.6-linux-x86_64.egg\r\n```\r\n\r\nI see that in terms of semantic versioning, switching from 41.x to 42.x is allowed to break installation, but is this intended...?", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1911", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1911/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1911/events", "html_url": "https://github.com/pypa/setuptools/issues/1911", "id": 527204182, "node_id": "MDU6SXNzdWU1MjcyMDQxODI=", "number": 1911, "title": "error: The 'requests' distribution was not found and is required by koji", "user": {"login": "osoukup", "id": 49968835, "node_id": "MDQ6VXNlcjQ5OTY4ODM1", "avatar_url": "https://avatars.githubusercontent.com/u/49968835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osoukup", "html_url": "https://github.com/osoukup", "followers_url": "https://api.github.com/users/osoukup/followers", "following_url": "https://api.github.com/users/osoukup/following{/other_user}", "gists_url": "https://api.github.com/users/osoukup/gists{/gist_id}", "starred_url": "https://api.github.com/users/osoukup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osoukup/subscriptions", "organizations_url": "https://api.github.com/users/osoukup/orgs", "repos_url": "https://api.github.com/users/osoukup/repos", "events_url": "https://api.github.com/users/osoukup/events{/privacy}", "received_events_url": "https://api.github.com/users/osoukup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-22T13:46:24Z", "updated_at": "2019-11-22T14:22:28Z", "closed_at": "2019-11-22T14:21:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello **setuptools** developers,\r\n\r\nI am facing an issue resolving **requests** dependency by **setuptools** working on latest **Fedora** (31) in **docker**. I have found the following minimal working reproducer\r\n\r\n```\r\nsudo docker run -it fedora:latest\r\ndnf install python3-pip python3-devel krb5-devel gcc -y\r\nprintf \"from setuptools import setup\\nsetup(install_requires=['requests', 'requests-gssapi', 'koji'])\\n\" >setup.py\r\npython3 setup.py install\r\n```\r\n\r\nExecuting this I get the error in the **$subject**. When I change the order of requirements to\r\n\r\n```\r\ninstall_requires=['requests-gssapi', 'requests', 'koji']\r\n```\r\n\r\neverything is setup just fine without any error. I am only intermediate Pythonista but I think the order should not matter here. Using **pip** I have no dependency resolving problem putting dependencies in any order.\r\n\r\nOnd\u0159ej", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1799", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1799/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1799/events", "html_url": "https://github.com/pypa/setuptools/issues/1799", "id": 466590788, "node_id": "MDU6SXNzdWU0NjY1OTA3ODg=", "number": 1799, "title": "Install wheels compiled for manylinux2010?", "user": {"login": "mayli", "id": 822628, "node_id": "MDQ6VXNlcjgyMjYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/822628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayli", "html_url": "https://github.com/mayli", "followers_url": "https://api.github.com/users/mayli/followers", "following_url": "https://api.github.com/users/mayli/following{/other_user}", "gists_url": "https://api.github.com/users/mayli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayli/subscriptions", "organizations_url": "https://api.github.com/users/mayli/orgs", "repos_url": "https://api.github.com/users/mayli/repos", "events_url": "https://api.github.com/users/mayli/events{/privacy}", "received_events_url": "https://api.github.com/users/mayli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-11T00:24:08Z", "updated_at": "2019-11-17T02:30:10Z", "closed_at": "2019-11-17T02:30:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "the `pep425tags.py` file from pip supports `manylinux2010`, but the copy in setuptools only supports up to `manylinux1`. The newer copy from pip _internal seems to work as a drop-in replacement, and it seems working for me. Maybe update this file?\r\n\r\nhttps://github.com/pypa/pip/blob/master/src/pip/_internal/pep425tags.py#L278", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1787", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1787/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1787/events", "html_url": "https://github.com/pypa/setuptools/issues/1787", "id": 456671010, "node_id": "MDU6SXNzdWU0NTY2NzEwMTA=", "number": 1787, "title": "The 'python_requires' field is ignored in setup.cfg (not in setup.py).", "user": {"login": "Steap", "id": 416834, "node_id": "MDQ6VXNlcjQxNjgzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/416834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Steap", "html_url": "https://github.com/Steap", "followers_url": "https://api.github.com/users/Steap/followers", "following_url": "https://api.github.com/users/Steap/following{/other_user}", "gists_url": "https://api.github.com/users/Steap/gists{/gist_id}", "starred_url": "https://api.github.com/users/Steap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Steap/subscriptions", "organizations_url": "https://api.github.com/users/Steap/orgs", "repos_url": "https://api.github.com/users/Steap/repos", "events_url": "https://api.github.com/users/Steap/events{/privacy}", "received_events_url": "https://api.github.com/users/Steap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-16T18:55:24Z", "updated_at": "2019-10-07T01:29:52Z", "closed_at": "2019-10-07T01:29:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using setuptools version '41.0.1.post20190616' (commit 8aeff6b2c9a64e47ad2a22533d7e65c08cd4103f). \r\n\r\n$ cd /tmp/setup/py\r\n$ cat setup.py\r\nfrom setuptools import setup\r\nsetup(python_requires='invalid')\r\n$ python setup.py install\r\nerror in setup command: 'python_requires' must be a string containing valid version specifiers; Invalid specifier: 'invalid'\r\n\r\n\r\n$ cd /tmp/setup/cfg\r\n$ cat setup.cfg \r\n[metadata]\r\npython_requires=invalid\r\n$ python setup.py install\r\nrunning install\r\nrunning bdist_egg\r\nrunning egg_info\r\nwriting UNKNOWN.egg-info/PKG-INFO\r\nwriting dependency_links to UNKNOWN.egg-info/dependency_links.txt\r\nwriting top-level names to UNKNOWN.egg-info/top_level.txt\r\nreading manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\nwriting manifest file 'UNKNOWN.egg-info/SOURCES.txt'\r\ninstalling library code to build/bdist.linux-x86_64/egg\r\nrunning install_lib\r\nwarning: install_lib: 'build/lib' does not exist -- no Python modules to install\r\n\r\ncreating build/bdist.linux-x86_64/egg\r\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\ncopying UNKNOWN.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\r\nzip_safe flag not set; analyzing archive contents...\r\ncreating 'dist/UNKNOWN-0.0.0-py3.7.egg' and adding 'build/bdist.linux-x86_64/egg' to it\r\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\r\nProcessing UNKNOWN-0.0.0-py3.7.egg\r\nCopying UNKNOWN-0.0.0-py3.7.egg to /tmp/setup/cfg/v/lib/python3.7/site-packages\r\nAdding UNKNOWN 0.0.0 to easy-install.pth file\r\n\r\nInstalled /tmp/setup/cfg/v/lib/python3.7/site-packages/UNKNOWN-0.0.0-py3.7.egg\r\nProcessing dependencies for UNKNOWN==0.0.0\r\nFinished processing dependencies for UNKNOWN==0.0.0\r\n$ echo $?\r\n0\r\n\r\n\r\nI thing \"python setup.py install\" should also fail when using setup.cfg.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1749", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1749/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1749/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1749/events", "html_url": "https://github.com/pypa/setuptools/issues/1749", "id": 435867645, "node_id": "MDU6SXNzdWU0MzU4Njc2NDU=", "number": 1749, "title": "`build_meta.build_sdist` should work if the destination directory already contains a tar.gz", "user": {"login": "benoit-pierre", "id": 5104286, "node_id": "MDQ6VXNlcjUxMDQyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5104286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoit-pierre", "html_url": "https://github.com/benoit-pierre", "followers_url": "https://api.github.com/users/benoit-pierre/followers", "following_url": "https://api.github.com/users/benoit-pierre/following{/other_user}", "gists_url": "https://api.github.com/users/benoit-pierre/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoit-pierre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoit-pierre/subscriptions", "organizations_url": "https://api.github.com/users/benoit-pierre/orgs", "repos_url": "https://api.github.com/users/benoit-pierre/repos", "events_url": "https://api.github.com/users/benoit-pierre/events{/privacy}", "received_events_url": "https://api.github.com/users/benoit-pierre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-22T19:59:22Z", "updated_at": "2019-05-04T02:13:28Z", "closed_at": "2019-05-04T02:13:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The issue is similar to #1671, see #1745 for how the issue can be resolved.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1749/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1702", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1702/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1702/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1702/events", "html_url": "https://github.com/pypa/setuptools/issues/1702", "id": 413638984, "node_id": "MDU6SXNzdWU0MTM2Mzg5ODQ=", "number": 1702, "title": "setup.cfg should standardize on UTF-8 for encoding", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-02-23T01:34:42Z", "updated_at": "2019-04-05T17:20:17Z", "closed_at": "2019-04-05T17:20:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In jaraco/configparser#34, I learned that although setuptools v40.7.0 presumably added support for non-ASCII, there are still environments where loading non-ASCII is failing.\r\n\r\n```\r\nconfigparser # easy_install --version\r\nsetuptools 40.8.0 from c:\\python37\\lib\\site-packages (Python 3.7)\r\nconfigparser 3.7.2 # python setup.py egg_info\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 5, in <module>\r\n    package_dir={'': 'src'},  \r\n  File \"C:\\Python37\\lib\\site-packages\\setuptools\\__init__.py\", line 144, in setup\r\n    _install_setup_requires(attrs)  \r\n  File \"C:\\Python37\\lib\\site-packages\\setuptools\\__init__.py\", line 137, in _install_setup_requires\r\n    dist.parse_config_files(ignore_option_errors=True)\r\n  File \"C:\\Python37\\lib\\site-packages\\setuptools\\dist.py\", line 702, in parse_config_files\r\n    self._parse_config_files(filenames=filenames)\r\n  File \"C:\\Python37\\lib\\site-packages\\setuptools\\dist.py\", line 599, in _parse_config_files\r\n    (parser.read_file if six.PY3 else parser.readfp)(reader)\r\n  File \"C:\\Python37\\lib\\configparser.py\", line 717, in read_file\r\n    self._read(f, source)\r\n  File \"C:\\Python37\\lib\\configparser.py\", line 1014, in _read\r\n    for lineno, line in enumerate(fp, start=1):\r\n  File \"C:\\Python37\\lib\\encodings\\cp1252.py\", line 23, in decode\r\n    return codecs.charmap_decode(input,self.errors,decoding_table)[0]\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 103: character maps to <undefined>\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1686", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1686/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1686/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1686/events", "html_url": "https://github.com/pypa/setuptools/issues/1686", "id": 409930729, "node_id": "MDU6SXNzdWU0MDk5MzA3Mjk=", "number": 1686, "title": "Use of pkg_resources.resource_filename() without a resource_name", "user": {"login": "lkollar", "id": 791741, "node_id": "MDQ6VXNlcjc5MTc0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/791741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkollar", "html_url": "https://github.com/lkollar", "followers_url": "https://api.github.com/users/lkollar/followers", "following_url": "https://api.github.com/users/lkollar/following{/other_user}", "gists_url": "https://api.github.com/users/lkollar/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkollar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkollar/subscriptions", "organizations_url": "https://api.github.com/users/lkollar/orgs", "repos_url": "https://api.github.com/users/lkollar/repos", "events_url": "https://api.github.com/users/lkollar/events{/privacy}", "received_events_url": "https://api.github.com/users/lkollar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-13T18:00:48Z", "updated_at": "2019-02-13T20:17:31Z", "closed_at": "2019-02-13T20:17:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "The new validation in #1640 broke some of our applications which relied on setting `resource_name` to `None` to look up the path to the package.\r\n\r\nExample:\r\n\r\n```python\r\nSCHEMA_PATH = pkg_resources.resource_filename('application.schemas', None)\r\n```\r\nReplacing this with `pkg_resources.resource_filename('application.schemas', '')` fixes the issue.\r\n\r\nIs this acceptable `resource_filename` usage? Can we depend on the empty string as resource name? ", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1682", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1682/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1682/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1682/events", "html_url": "https://github.com/pypa/setuptools/issues/1682", "id": 409150978, "node_id": "MDU6SXNzdWU0MDkxNTA5Nzg=", "number": 1682, "title": "setup_requires=\"string\" not handled by PEP 517 backend", "user": {"login": "cjerdonek", "id": 355822, "node_id": "MDQ6VXNlcjM1NTgyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/355822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjerdonek", "html_url": "https://github.com/cjerdonek", "followers_url": "https://api.github.com/users/cjerdonek/followers", "following_url": "https://api.github.com/users/cjerdonek/following{/other_user}", "gists_url": "https://api.github.com/users/cjerdonek/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjerdonek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjerdonek/subscriptions", "organizations_url": "https://api.github.com/users/cjerdonek/orgs", "repos_url": "https://api.github.com/users/cjerdonek/repos", "events_url": "https://api.github.com/users/cjerdonek/events{/privacy}", "received_events_url": "https://api.github.com/users/cjerdonek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-12T07:06:20Z", "updated_at": "2019-03-16T19:23:39Z", "closed_at": "2019-03-16T19:23:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Does this need to be fixed in setuptools rather since the PEP says the return value needs to be a list of strings? https://www.python.org/dev/peps/pep-0517/#get-requires-for-build-wheel\r\n\r\nIt looks like here is the setuptools code: https://github.com/pypa/setuptools/blob/cdb5eeae678d8ccc90bf7d4348013a294f11be75/setuptools/build_meta.py#L138\r\n\r\n_Originally posted by @cjerdonek in https://github.com/pypa/pip/issues/6255#issuecomment-462468517_", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1671", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1671/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1671/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1671/events", "html_url": "https://github.com/pypa/setuptools/issues/1671", "id": 406412822, "node_id": "MDU6SXNzdWU0MDY0MTI4MjI=", "number": 1671, "title": "build_meta doesn't use a fresh dist directory, which causes ValueError unpacking tuple", "user": {"login": "pganssle", "id": 1377457, "node_id": "MDQ6VXNlcjEzNzc0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1377457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pganssle", "html_url": "https://github.com/pganssle", "followers_url": "https://api.github.com/users/pganssle/followers", "following_url": "https://api.github.com/users/pganssle/following{/other_user}", "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}", "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions", "organizations_url": "https://api.github.com/users/pganssle/orgs", "repos_url": "https://api.github.com/users/pganssle/repos", "events_url": "https://api.github.com/users/pganssle/events{/privacy}", "received_events_url": "https://api.github.com/users/pganssle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2019-02-04T16:32:38Z", "updated_at": "2019-04-22T20:00:37Z", "closed_at": "2019-04-22T15:52:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you use `pip install .` on a source directory that already has a `dist`, the existing directory structure is used when preparing the wheel. This causes an exception if an existing wheel with a different name exists, because [build_meta assumes there's only one wheel in `dist`](https://github.com/pypa/setuptools/blob/64e60fc32981a1615c35962a60297d264bf16734/setuptools/build_meta.py#L157).\r\n\r\nHere's a script to create a MWE repo:\r\n\r\n```bash\r\n#!/usr/bin/bash\r\n\r\nmkdir /tmp/demo_dist_517\r\ncd /tmp/demo_dist_517\r\necho \"from setuptools import setup; setup()\" > setup.py\r\necho \"0.0.1\" > VERSION\r\ncat > setup.cfg << EOF\r\n[metadata]\r\nname = foo\r\nversion = file: VERSION\r\nEOF\r\ncat > pyproject.toml << EOF\r\n[build-system]\r\nrequires = [\"setuptools\", \"wheel\"]\r\nbuild-backend = \"setuptools.build_meta\"\r\nEOF\r\n```\r\n\r\nAt this point your repo looks like this:\r\n```\r\n$ tree\r\n\u251c\u2500\u2500 pyproject.toml\r\n\u251c\u2500\u2500 setup.cfg\r\n\u251c\u2500\u2500 setup.py\r\n\u2514\u2500\u2500 VERSION\r\n```\r\n\r\nCreate a wheel in `dist`, then change the version:\r\n\r\n```bash\r\npip wheel . --no-deps -w dist\r\necho \"0.0.2\" > VERSION\r\n```\r\n\r\nNow try to create a wheel from the repo:\r\n\r\n```\r\npip wheel . -w dist\r\n```\r\n\r\n> This will trigger an error in `build_meta`:\r\n>   File \"/tmp/pip-build-env-plomixa1/overlay/.../setuptools/build_meta.py\", line 157, in _file_with_extension\r\n>    file, = matching\r\n> ValueError: too many values to unpack (expected 1)\r\n>  Building wheel for foo (PEP 517) ... error\r\n>   Failed building wheel for foo\r\n\r\nThis is pretty easy to work around, obviously, since the user can just remove `dist` before invoking any `pip` commands, but it might be better to do the wheel build in a clean directory if possible.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1671/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1668", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1668/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1668/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1668/events", "html_url": "https://github.com/pypa/setuptools/issues/1668", "id": 405807774, "node_id": "MDU6SXNzdWU0MDU4MDc3NzQ=", "number": 1668, "title": "Bugfix #1666 break access to index urls that include auth", "user": {"login": "tjarls", "id": 2511889, "node_id": "MDQ6VXNlcjI1MTE4ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/2511889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjarls", "html_url": "https://github.com/tjarls", "followers_url": "https://api.github.com/users/tjarls/followers", "following_url": "https://api.github.com/users/tjarls/following{/other_user}", "gists_url": "https://api.github.com/users/tjarls/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjarls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjarls/subscriptions", "organizations_url": "https://api.github.com/users/tjarls/orgs", "repos_url": "https://api.github.com/users/tjarls/repos", "events_url": "https://api.github.com/users/tjarls/events{/privacy}", "received_events_url": "https://api.github.com/users/tjarls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-02-01T17:52:28Z", "updated_at": "2019-02-03T15:26:47Z", "closed_at": "2019-02-03T15:26:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "The fix for issue #1666 breaks with urls that include a username and password. Here's an illustration of how it breaks:\r\n```\r\n$ easy_install -i https://user:password@pypi.example.org/simple/install example\r\nSearching for example\r\nReading https://user:password@pypi.example.org/simple/install/example/\r\nDownload error on https://user:password@pypi.example.org/simple/install/example/: nonnumeric port: 'password@pypi.example.org' -- Some packages may not be found!\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1644", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1644/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1644/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1644/events", "html_url": "https://github.com/pypa/setuptools/issues/1644", "id": 403339345, "node_id": "MDU6SXNzdWU0MDMzMzkzNDU=", "number": 1644, "title": "Tests failing to run with BackendUnavailable since pip 19", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 31, "created_at": "2019-01-25T21:27:34Z", "updated_at": "2021-02-28T21:41:06Z", "closed_at": "2021-02-28T21:41:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems that since the release of pip 19, Setuptools' own tests fail to run thus:\r\n\r\n```\r\nsetuptools fix_889_and_non-ascii_in_setup.cfg_take_2 $ tox -e py27                                                                                                                       \r\npy27 create: /Users/jaraco/code/main/setuptools/.tox/py27\r\npy27 installdeps: -rtests/requirements.txt\r\npy27 develop-inst: /Users/jaraco/code/main/setuptools\r\nERROR: invocation failed (exit code 2), logfile: /Users/jaraco/code/main/setuptools/.tox/py27/log/py27-2.log\r\nERROR: actionid: py27\r\nmsg: developpkg\r\ncmdargs: '/Users/jaraco/code/main/setuptools/.tox/py27/bin/pip install --exists-action w -e /Users/jaraco/code/main/setuptools'\r\n\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\r\nObtaining file:///Users/jaraco/code/main/setuptools\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/cli/base_command.py\", line 176, in main\r\n    status = self.run(options, args)\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/commands/install.py\", line 315, in run\r\n    resolver.resolve(requirement_set)\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/resolve.py\", line 131, in resolve\r\n    self._resolve_one(requirement_set, req)\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/resolve.py\", line 294, in _resolve_one\r\n    abstract_dist = self._get_abstract_dist_for(req_to_install)\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/resolve.py\", line 226, in _get_abstract_dist_for\r\n    req, self.require_hashes, self.use_user_site, self.finder,\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/operations/prepare.py\", line 382, in prepare_editable_requirement\r\n    abstract_dist.prep_for_dist(finder, self.build_isolation)\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_internal/operations/prepare.py\", line 149, in prep_for_dist\r\n    reqs = self.req.pep517_backend.get_requires_for_build_wheel()\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_vendor/pep517/wrappers.py\", line 71, in get_requires_for_build_wheel\r\n    'config_settings': config_settings\r\n  File \"/Users/jaraco/code/main/setuptools/.tox/py27/lib/python2.7/site-packages/pip/_vendor/pep517/wrappers.py\", line 162, in _call_hook\r\n    raise BackendUnavailable\r\nBackendUnavailable\r\n\r\npy27 installed: DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.,apipkg==1.5,atomicwrites==1.2.1,attrs==18.2.0,configparser==3.7.1,contextlib2==0.5.5,coverage==4.5.2,enum34==1.1.6,execnet==1.5.0,flake8==3.6.0,funcsigs==1.0.2,futures==3.2.0,importlib-metadata==0.8,mccabe==0.6.1,mock==2.0.0,more-itertools==5.0.0,path.py==11.5.0,pathlib2==2.3.3,pbr==5.1.1,pluggy==0.8.1,py==1.7.0,pycodestyle==2.4.0,pyflakes==2.0.0,pytest==3.10.1,pytest-cov==2.6.1,pytest-fixture-config==1.4.0,pytest-flake8==1.0.3,pytest-shutil==1.4.0,pytest-virtualenv==1.4.0,scandir==1.9.0,six==1.12.0,termcolor==1.1.0,virtualenv==16.3.0,zipp==0.3.3\r\n________________________________________________________________________________________ summary ________________________________________________________________________________________\r\nERROR:   py27: InvocationError for command /Users/jaraco/code/main/setuptools/.tox/py27/bin/pip install --exists-action w -e /Users/jaraco/code/main/setuptools (see /Users/jaraco/code/main/setuptools/.tox/py27/log/py27-2.log) (exited with code 2)\r\n```\r\n\r\nI suspect this is related to #1642 if not just another manifestation of the same issue.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1644/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1628", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1628/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1628/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1628/events", "html_url": "https://github.com/pypa/setuptools/issues/1628", "id": 396176702, "node_id": "MDU6SXNzdWUzOTYxNzY3MDI=", "number": 1628, "title": "build_meta breaks some setup.py scripts (e.g. numpy and pygame)", "user": {"login": "aimileus", "id": 13463911, "node_id": "MDQ6VXNlcjEzNDYzOTEx", "avatar_url": "https://avatars.githubusercontent.com/u/13463911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aimileus", "html_url": "https://github.com/aimileus", "followers_url": "https://api.github.com/users/aimileus/followers", "following_url": "https://api.github.com/users/aimileus/following{/other_user}", "gists_url": "https://api.github.com/users/aimileus/gists{/gist_id}", "starred_url": "https://api.github.com/users/aimileus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aimileus/subscriptions", "organizations_url": "https://api.github.com/users/aimileus/orgs", "repos_url": "https://api.github.com/users/aimileus/repos", "events_url": "https://api.github.com/users/aimileus/events{/privacy}", "received_events_url": "https://api.github.com/users/aimileus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-05T16:00:47Z", "updated_at": "2020-01-14T23:46:00Z", "closed_at": "2020-01-14T23:46:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Setup:\r\n* Setuptools 40.6.2\r\n* Python 3.7.2\r\n\r\nSome build scripts use `sys.argv[0]` to change the working directory to the parent directory of setup.py. For example, the setup.py script of numpy-1.15.4 contains the following code: \r\n\r\n```\r\nsrc_path = os.path.dirname(os.path.abspath(sys.argv[0]))\r\nold_path = os.getcwd()\r\nos.chdir(src_path)\r\n```\r\n\r\nHowever,`sys.argv[0]` is an empty string, setup.py is called from setuptools.build_meta. Then `os.path.abspath()`, is the working directory and `os.path.dirname()`  its parent directory. This changes the current directory to the parent directory of the current path and breaks relative paths in the setup.py script.\r\n\r\nWhile manually running `python3 setup.py bdist_wheel` succedes, calling `setuptools.build_meta.build_wheel()` in the Python REPL then gives the following error:\r\n```\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.7/site-packages/setuptools/build_meta.py\", line 158, in build_wheel\r\n    _run_setup()\r\n  File \"/usr/local/lib/python3.7/site-packages/setuptools/build_meta.py\", line 85, in _run_setup\r\n    exec(compile(code, __file__, 'exec'), locals())\r\n  File \"setup.py\", line 403, in <module>\r\n  File \"setup.py\", line 349, in setup_package\r\n  File \"setup.py\", line 147, in write_version_py\r\nFileNotFoundError: [Errno 2] No such file or directory: 'numpy/version.py'\r\n``` \r\n\r\nA similar error occurs for pygame-1.9.4. Maybe I overlooked something, but it seems that the problem originates from the way setuptools.build_meta calls setup.py. ", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1607", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1607/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1607/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1607/events", "html_url": "https://github.com/pypa/setuptools/pull/1607", "id": 390531363, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM4Mjc0Nzgy", "number": 1607, "title": "Don't keep file modes for package data.", "user": {"login": "jorikdima", "id": 25405691, "node_id": "MDQ6VXNlcjI1NDA1Njkx", "avatar_url": "https://avatars.githubusercontent.com/u/25405691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorikdima", "html_url": "https://github.com/jorikdima", "followers_url": "https://api.github.com/users/jorikdima/followers", "following_url": "https://api.github.com/users/jorikdima/following{/other_user}", "gists_url": "https://api.github.com/users/jorikdima/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorikdima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorikdima/subscriptions", "organizations_url": "https://api.github.com/users/jorikdima/orgs", "repos_url": "https://api.github.com/users/jorikdima/repos", "events_url": "https://api.github.com/users/jorikdima/events{/privacy}", "received_events_url": "https://api.github.com/users/jorikdima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 461720003, "node_id": "MDU6TGFiZWw0NjE3MjAwMDM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/draft", "name": "draft", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2018-12-13T06:06:41Z", "updated_at": "2020-03-24T16:32:47Z", "closed_at": "2020-03-21T16:53:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pypa/setuptools/pulls/1607", "html_url": "https://github.com/pypa/setuptools/pull/1607", "diff_url": "https://github.com/pypa/setuptools/pull/1607.diff", "patch_url": "https://github.com/pypa/setuptools/pull/1607.patch", "merged_at": "2020-03-21T16:53:13Z"}, "body": "## Summary of changes\r\n\r\nPrevent keeping files mode for package_data build. It may break a build if user's package data has read only flag. It will be copied to build folder and set RO flag again. Then at the clean up stage a script will not be able to remove this files, asserting Access denied.\r\n\r\nCloses #1424 \r\n\r\n### Pull Request Checklist\r\n- [ ] Changes have tests\r\n- [x] News fragment added in changelog.d. See [documentation](http://setuptools.readthedocs.io/en/latest/developer-guide.html#making-a-pull-request) for details\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1607/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1551", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1551/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1551/events", "html_url": "https://github.com/pypa/setuptools/issues/1551", "id": 374761513, "node_id": "MDU6SXNzdWUzNzQ3NjE1MTM=", "number": 1551, "title": "license field in setup.cfg should not accept file:", "user": {"login": "pganssle", "id": 1377457, "node_id": "MDQ6VXNlcjEzNzc0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1377457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pganssle", "html_url": "https://github.com/pganssle", "followers_url": "https://api.github.com/users/pganssle/followers", "following_url": "https://api.github.com/users/pganssle/following{/other_user}", "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}", "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions", "organizations_url": "https://api.github.com/users/pganssle/orgs", "repos_url": "https://api.github.com/users/pganssle/repos", "events_url": "https://api.github.com/users/pganssle/events{/privacy}", "received_events_url": "https://api.github.com/users/pganssle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-28T14:46:51Z", "updated_at": "2018-12-31T22:27:40Z", "closed_at": "2018-12-31T22:27:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As brought to my attention by [this comment](https://github.com/pypa/setuptools/pull/1536#issuecomment-433707087), it seems that in `setup.cfg`, `license` accepts a `file:`, and the docstring of `_parse_file` even mentions `file: LICENSE`. I think this was based on a misunderstanding of what the `license` file does, and I think will lead to problems with #1390 if actually used this way.\r\n\r\nWe should remove support for `file:` in the license field.\r\n\r\nTo do on this:\r\n\r\n- [x] Remove `file:` support [from the code](https://github.com/pypa/setuptools/blob/d6d9da82f6437d549ddc3d4ece0e2011abc5425a/setuptools/config.py#L440). I'd start with just removing it and seeing what error is raised if you have `file:` in there, but if the error message is confusing, we need to add a \"throw error if it's `file:`\" parser.\r\n- [x] Remove `file:` from the [setup.cfg](https://setuptools.readthedocs.io/en/latest/setuptools.html#metadata) documentation.\r\n- [x] Make sure there's a test using something like `license: Apache 2.0`\r\n- [x] Add a test that `license: file:` throws an exception (Maybe?)", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1527", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1527/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1527/events", "html_url": "https://github.com/pypa/setuptools/issues/1527", "id": 374452790, "node_id": "MDU6SXNzdWUzNzQ0NTI3OTA=", "number": 1527, "title": "Unable to install setuptools from GitHub main", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097202178, "node_id": "MDU6TGFiZWwxMDk3MjAyMTc4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Discussion", "name": "Needs Discussion", "color": "c4178a", "default": false, "description": "Issues where the implementation still needs to be discussed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-26T16:14:51Z", "updated_at": "2021-02-01T15:11:24Z", "closed_at": "2021-02-01T15:11:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be nice if pip were able to install setuptools from GitHub main branch. Instead, if one attempts to pip install, an error about the bootstrap script is emitted:\r\n\r\n```\r\n~ $ pip install git+https://github.com/pypa/setuptools\r\nCollecting git+https://github.com/pypa/setuptools\r\n  Cloning https://github.com/pypa/setuptools to /private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-req-build-j6hkzir0\r\n  Installing build dependencies ... done\r\n  Missing build requirements in pyproject.toml for git+https://github.com/pypa/setuptools.\r\n  The project does not specify a build backend, and pip cannot fall back to setuptools without 'setuptools>=38.2.5'.\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-req-build-j6hkzir0/setup.py\", line 193, in <module>\r\n        require_metadata()\r\n      File \"/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-req-build-j6hkzir0/setup.py\", line 24, in require_metadata\r\n        raise RuntimeError(msg)\r\n    RuntimeError: Cannot build setuptools without metadata. Run `bootstrap.py`.\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/pip-req-build-j6hkzir0/\r\n```\r\n\r\nI'm wondering if there's a solution to this limitation. I can imagine a few:\r\n\r\n- setuptools could wait for and rely on PEP 517 support and provide its own \"installer\" (itself) that does the bootstrapping.\r\n- pip could special-case the installation of anything that looks like setuptools and run bootstrap.py before installing.\r\n- setuptools could materialize the metadata (egg-info) to the repo, avoiding the need to bootstrap (but requiring special handling of that metadata which is derived from other files in the repo).\r\n- setuptools could inject a hack to bootstrap and relaunch (this hack might interfere or interact badly with pip's injection of setuptools).\r\n\r\nThere are probably others. Only the first option seems (somewhat) clean.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1527/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1519", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1519/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1519/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1519/events", "html_url": "https://github.com/pypa/setuptools/issues/1519", "id": 373109821, "node_id": "MDU6SXNzdWUzNzMxMDk4MjE=", "number": 1519, "title": "False positive when checking for inconsistent setup script path on Windows", "user": {"login": "uranusjr", "id": 605277, "node_id": "MDQ6VXNlcjYwNTI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/605277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uranusjr", "html_url": "https://github.com/uranusjr", "followers_url": "https://api.github.com/users/uranusjr/followers", "following_url": "https://api.github.com/users/uranusjr/following{/other_user}", "gists_url": "https://api.github.com/users/uranusjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/uranusjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uranusjr/subscriptions", "organizations_url": "https://api.github.com/users/uranusjr/orgs", "repos_url": "https://api.github.com/users/uranusjr/repos", "events_url": "https://api.github.com/users/uranusjr/events{/privacy}", "received_events_url": "https://api.github.com/users/uranusjr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-10-23T17:21:30Z", "updated_at": "2018-11-10T15:35:53Z", "closed_at": "2018-11-10T15:35:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n> python setup.py develop\r\nrunning develop\r\nChecking .pth file support in C:\\project\\venv\\Lib\\site-packages\\\r\nC:\\project\\venv\\Scripts\\pythonw.exe -E -c pass\r\nTEST PASSED: C:\\project\\venv\\Lib\\site-packages\\ appears to support .pth files\r\nerror: (\"Can't get a consistent path to setup script from installation directory\", 'c:\\\\project\\\\', 'c:\\\\project')\r\n```\r\n\r\nI am not sure what exactly is the cause (I did not have this problem previously, but suddenly sees it when coming back to work on an old project), but it seems to come from a quirk of `realpath()`:\r\n\r\n```pycon\r\n>>> import os\r\n>>> os.path.realpath('.')\r\n'C:\\\\Users\\\\uranusjr\\\\'\r\n>>> os.path.realpath('../')\r\n'C:\\\\Users\\\\'\r\n>>> os.path.realpath('..')\r\n'C:\\\\Users'\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1519/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1511", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1511/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1511/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1511/events", "html_url": "https://github.com/pypa/setuptools/issues/1511", "id": 371999988, "node_id": "MDU6SXNzdWUzNzE5OTk5ODg=", "number": 1511, "title": "PEP 517 backend: get_requires_for_build_wheel shouldn't include setuptools", "user": {"login": "pfmoore", "id": 1110419, "node_id": "MDQ6VXNlcjExMTA0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1110419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfmoore", "html_url": "https://github.com/pfmoore", "followers_url": "https://api.github.com/users/pfmoore/followers", "following_url": "https://api.github.com/users/pfmoore/following{/other_user}", "gists_url": "https://api.github.com/users/pfmoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfmoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfmoore/subscriptions", "organizations_url": "https://api.github.com/users/pfmoore/orgs", "repos_url": "https://api.github.com/users/pfmoore/repos", "events_url": "https://api.github.com/users/pfmoore/events{/privacy}", "received_events_url": "https://api.github.com/users/pfmoore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-19T15:10:02Z", "updated_at": "2018-12-11T19:46:25Z", "closed_at": "2018-12-11T19:46:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/pypa/pip/pull/5743#issuecomment-431394680.\r\n\r\nAs the backend is part of setuptools, it doesn't need to request that setuptools is installed in `get_requires_for_build_wheel`. (And it certainly shouldn't be allowing any version - at a minimum it needs a version that supports the PEP 517 backend, but that's not important as it shouldn't be there in the first place :wink: )", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1506", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1506/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1506/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1506/events", "html_url": "https://github.com/pypa/setuptools/issues/1506", "id": 367825655, "node_id": "MDU6SXNzdWUzNjc4MjU2NTU=", "number": 1506, "title": "build_meta does not include setup.py", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-08T14:47:35Z", "updated_at": "2018-11-04T17:37:41Z", "closed_at": "2018-11-04T17:37:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When someone invokes the build operation via the ``build_meta`` (via https://github.com/pypa/setuptools/blob/master/setuptools/build_meta.py#L170 - https://www.python.org/dev/peps/pep-0517/#build-sdist) the ``setup.py`` is no longer automatically packaged.\r\n\r\nIn case of ``python setup.py sdist`` what ensured that this will happen is https://github.com/python/cpython/blob/master/Lib/distutils/command/sdist.py#L250. Here ``distribution.script_name`` is set to ``setup.py`` when called via ``python setup.py sdist``. This is not set though when calling it directly via ``build_meta`` so packaging ``setup.py`` is safely ignored. \r\n\r\nNote the files to package is determined while running ``egg_info``, and this is re-used across runs (by reading ``SOURCES.txt``). Therefore this bug is hidden when:\r\n- anyone beforehand calls ``python setup.py sdist``,\r\n- when there's a distutils extension that automatically pulls in setup.py (such as setuptools-scm), \r\n- when some config value pulls in (one in ``MANIFEST.in``, ``setup.cfg``, ``setup.py``).", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1506/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1499", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1499/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1499/events", "html_url": "https://github.com/pypa/setuptools/issues/1499", "id": 362502798, "node_id": "MDU6SXNzdWUzNjI1MDI3OTg=", "number": 1499, "title": "Python 3.8 urllib.parse.splituser DeprecationWarning", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-21T08:13:07Z", "updated_at": "2018-12-16T01:49:23Z", "closed_at": "2018-12-16T01:49:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using setuptools on CPython master (Python 3.8) generates below warning. Just wanted to give a heads up on this.\r\n\r\nRelevant commit : https://github.com/python/cpython/commit/0250de481\r\n\r\n```\r\n/home/karthi/requests-html-env/lib/python3.8/site-packages/setuptools/package_index.py:1049: DeprecationWarning: urllib.parse.splituser() is deprecated as of 3.8, use urllib.parse.urlparse() instead\r\n  auth, host = urllib.parse.splituser(netloc)\r\n```\r\n\r\nRelevant code : \r\n\r\nhttps://github.com/pypa/setuptools/blob/e0433cf32dfdf39c0c14a3740c3920c496f09486/setuptools/package_index.py#L1057\r\n\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1494", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1494/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1494/events", "html_url": "https://github.com/pypa/setuptools/issues/1494", "id": 360898993, "node_id": "MDU6SXNzdWUzNjA4OTg5OTM=", "number": 1494, "title": "With declarative config, error \"Distribution contains no modules or packages for namespace package\"", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-09-17T14:34:58Z", "updated_at": "2021-01-23T21:36:15Z", "closed_at": "2018-10-28T19:23:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Attempting to use declarative config for jaraco.itertools, I [ran the tests here](https://travis-ci.org/jaraco/jaraco.itertools/builds/429602843), and everything looks good except if you inspect the environment, a crucial file is missing, the `site-packages/jaraco.itertools-nspkg.pth` file.\r\n\r\nI tried restoring the namespace package functionality in jaraco/jaraco.itertools@c436dff, but that resulted in this error during the build:\r\n\r\n```\r\ncmdargs: ['/Users/jaraco/code/main/jaraco.itertools/.tox/python/bin/python', '-m', 'pip', 'install', '-e', '/Users/jaraco/code/main/jaraco.itertools[testing]']\r\n\r\nObtaining file:///Users/jaraco/code/main/jaraco.itertools\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n    Complete output from command python setup.py egg_info:\r\n    error in setup command: Distribution contains no modules or packages for namespace package 'jaraco'\r\n```\r\n\r\nI suspect a race condition where the packages discovered by `packages= find:` aren't found until after `namespace_packages` is processed. I suspect the solution is to add support for `namespace_packages` in declarative config.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1473", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1473/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1473/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1473/events", "html_url": "https://github.com/pypa/setuptools/issues/1473", "id": 355544167, "node_id": "MDU6SXNzdWUzNTU1NDQxNjc=", "number": 1473, "title": "build_sdist expects only .tar.gz", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-30T11:32:05Z", "updated_at": "2019-10-26T19:14:07Z", "closed_at": "2019-10-26T19:14:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "PEP 517 requires that build_sdist always generate a .tar.gz file. However, the tool allows the user to pass parameters to the builder, such as with ``{ \"--global-option\": [\"--formats=zip\"]}``, causing the emitted file to have a ``.zip`` extension, violating the protocol. https://github.com/pypa/setuptools/blob/d39791489ce78d16e0238f60c429f0be08f4a994/setuptools/build_meta.py#L181\r\n\r\nSetuptools' PEP 517 builder should disallow this behavior.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1472", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1472/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1472/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1472/events", "html_url": "https://github.com/pypa/setuptools/issues/1472", "id": 354933129, "node_id": "MDU6SXNzdWUzNTQ5MzMxMjk=", "number": 1472, "title": "pkg_resources/safe_listdir exceptions if a filename is too long.", "user": {"login": "bryder", "id": 361660, "node_id": "MDQ6VXNlcjM2MTY2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/361660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryder", "html_url": "https://github.com/bryder", "followers_url": "https://api.github.com/users/bryder/followers", "following_url": "https://api.github.com/users/bryder/following{/other_user}", "gists_url": "https://api.github.com/users/bryder/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryder/subscriptions", "organizations_url": "https://api.github.com/users/bryder/orgs", "repos_url": "https://api.github.com/users/bryder/repos", "events_url": "https://api.github.com/users/bryder/events{/privacy}", "received_events_url": "https://api.github.com/users/bryder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-28T22:52:35Z", "updated_at": "2021-04-04T05:34:02Z", "closed_at": "2021-04-04T05:34:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "We had a bug in some code where the entire python path was added to sys.path\r\ninstead of components of the path.\r\n\r\nInstead of setuptools ignoring it becuase the directory didn't exist - it exceptioned with:\r\n\r\n```\r\nOSError: [Errno 36] File name too long:\r\n```\r\n\r\n\r\nHere is a santised stack trace (I've replaced our install location and cut out the caller\r\ninformation).\r\n\r\n\r\n```\r\nfrom pkg_resources import resource_stream\r\nFile \"/some/path/pkg_resources/__init__.py\", line 3095, in\r\n@_call_aside\r\nFile \"/some/path/pkg_resources/__init__.py\", line 3079, in callaside\r\nf(*args, **kwargs)\r\nFile \"/some/path/pkg_resources/__init__.py\", line 3108, in initializemaster_working_set\r\nworking_set = WorkingSet.buildmaster()\r\nFile \"/some/path/pkg_resources/__init__.py\", line 561, in buildmaster\r\nws = cls()\r\nFile \"/some/path/pkg_resources/__init__.py\", line 554, in init\r\nself.add_entry(entry)\r\nFile \"/some/path/pkg_resources/__init__.py\", line 610, in add_entry\r\nfor dist in find_distributions(entry, True):\r\nFile \"/some/path/pkg_resources/__init__.py\", line 1942, in find_on_path\r\nentries = safe_listdir(path_item)\r\nFile \"/some/path/pkg_resources/__init__.py\", line 2001, in safe_listdir\r\nreturn os.listdir(path)\r\nOSError: [Errno 36] File name too long:\r\n```\r\n\r\nI think safe_listdir should include ```errno.ENAMETOOLONG``` here:\r\n\r\nhttps://github.com/pypa/setuptools/blob/01fd232d95ad51f784de53c0993a7b91868d269d/pkg_resources/__init__.py#L2015\r\n\r\nShould I make a pull request for this?\r\n\r\nIs it possible to get a 39.2.x release to include it?\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1459", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1459/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1459/events", "html_url": "https://github.com/pypa/setuptools/issues/1459", "id": 351599483, "node_id": "MDU6SXNzdWUzNTE1OTk0ODM=", "number": 1459, "title": "Accidentally passing package_data a str value triggers error on Windows but not Linux", "user": {"login": "dhimmel", "id": 1117703, "node_id": "MDQ6VXNlcjExMTc3MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1117703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhimmel", "html_url": "https://github.com/dhimmel", "followers_url": "https://api.github.com/users/dhimmel/followers", "following_url": "https://api.github.com/users/dhimmel/following{/other_user}", "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions", "organizations_url": "https://api.github.com/users/dhimmel/orgs", "repos_url": "https://api.github.com/users/dhimmel/repos", "events_url": "https://api.github.com/users/dhimmel/events{/privacy}", "received_events_url": "https://api.github.com/users/dhimmel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1100313212, "node_id": "MDU6TGFiZWwxMTAwMzEzMjEy", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "96e886", "default": false, "description": "Issues which are likely in scope but need investigation to figure out the cause"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-17T13:41:47Z", "updated_at": "2019-07-23T09:18:47Z", "closed_at": "2019-07-23T09:18:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As part of https://github.com/greenelab/manubot/pull/51, I specified the `package_data` argument of `setuptools.setup()` in our [`setup.py`](https://github.com/greenelab/manubot/blob/bfac0e10b452a2556487de250e1acd47fe94d1da/setup.py#L73-L76):\r\n\r\n```py\r\n    # Specify additional patterns to match files\r\n    package_data={\r\n        'manubot': 'cite/*.lua',\r\n    },\r\n```\r\n\r\nThe Linux Travis CI build passes, but the Windows [AppVeyer builds](https://ci.appveyor.com/project/greenelab/manubot/build/1.0.99) error when attempting `pip install .`. Here is the error:\r\n\r\n<details>\r\n\r\n```\r\n%CMD_IN_ENV% pip install .\r\nProcessing c:\\projects\\manubot\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info\\manubot.egg-info\r\n    writing pip-egg-info\\manubot.egg-info\\PKG-INFO\r\n    writing dependency_links to pip-egg-info\\manubot.egg-info\\dependency_links.txt\r\n    writing entry points to pip-egg-info\\manubot.egg-info\\entry_points.txt\r\n    writing requirements to pip-egg-info\\manubot.egg-info\\requires.txt\r\n    writing top-level names to pip-egg-info\\manubot.egg-info\\top_level.txt\r\n    writing manifest file 'pip-egg-info\\manubot.egg-info\\SOURCES.txt'\r\n    c:\\python36\\lib\\distutils\\dist.py:261: UserWarning: Unknown distribution option: 'long_description_content_type'\r\n      warnings.warn(msg)\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\appveyor\\AppData\\Local\\Temp\\1\\pip-req-build-akczu3gv\\setup.py\", line 75, in <module>\r\n        'manubot': 'cite/*.lua',\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\__init__.py\", line 129, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"c:\\python36\\lib\\distutils\\core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"c:\\python36\\lib\\distutils\\dist.py\", line 955, in run_commands\r\n        self.run_command(cmd)\r\n      File \"c:\\python36\\lib\\distutils\\dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 278, in run\r\n        self.find_sources()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 293, in find_sources\r\n        mm.run()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 524, in run\r\n        self.add_defaults()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\egg_info.py\", line 560, in add_defaults\r\n        sdist.add_defaults(self)\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\py36compat.py\", line 34, in add_defaults\r\n        self._add_defaults_python()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\sdist.py\", line 134, in _add_defaults_python\r\n        for _, src_dir, _, filenames in build_py.data_files:\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 66, in __getattr__\r\n        self.data_files = self._get_data_files()\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 83, in _get_data_files\r\n        return list(map(self._get_pkg_data_files, self.packages or ()))\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 95, in _get_pkg_data_files\r\n        for file in self.find_data_files(package, src_dir)\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 114, in find_data_files\r\n        return self.exclude_data_files(package, src_dir, files)\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 198, in exclude_data_files\r\n        files = list(files)\r\n      File \"c:\\python36\\lib\\site-packages\\setuptools\\command\\build_py.py\", line 234, in <genexpr>\r\n        for pattern in raw_patterns\r\n      File \"c:\\python36\\lib\\distutils\\util.py\", line 125, in convert_path\r\n        raise ValueError(\"path '%s' cannot be absolute\" % pathname)\r\n    ValueError: path '/' cannot be absolute\r\n```\r\n\r\n</details>\r\n\r\nIn summary, [this line in `distutils.util.convert_path`](https://github.com/python/cpython/blob/02c4d4b6dcd772ec3a7fdca517118f3fa53b0b88/Lib/distutils/util.py#L124-L125) is throwing the following error:\r\n\r\n```\r\nValueError: path '/' cannot be absolute\r\n```\r\n\r\nSo at some point, it seems that the package_data relative path is converted to absolute triggering this error. Any advice on how to resolve this issue would be greatly appreciated! This is occurring with pip-18.0 in Python 3.6 & 3.7.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1422", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1422/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1422/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1422/events", "html_url": "https://github.com/pypa/setuptools/issues/1422", "id": 340513951, "node_id": "MDU6SXNzdWUzNDA1MTM5NTE=", "number": 1422, "title": "When I upload a new package,get an error \u201cTypeError: a bytes-like object is required, not 'str'\u201d", "user": {"login": "flythinker", "id": 539690, "node_id": "MDQ6VXNlcjUzOTY5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/539690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flythinker", "html_url": "https://github.com/flythinker", "followers_url": "https://api.github.com/users/flythinker/followers", "following_url": "https://api.github.com/users/flythinker/following{/other_user}", "gists_url": "https://api.github.com/users/flythinker/gists{/gist_id}", "starred_url": "https://api.github.com/users/flythinker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flythinker/subscriptions", "organizations_url": "https://api.github.com/users/flythinker/orgs", "repos_url": "https://api.github.com/users/flythinker/repos", "events_url": "https://api.github.com/users/flythinker/events{/privacy}", "received_events_url": "https://api.github.com/users/flythinker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 617596083, "node_id": "MDU6TGFiZWw2MTc1OTYwODM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/upstream", "name": "upstream", "color": "bfd4f2", "default": false, "description": null}, {"id": 1097202178, "node_id": "MDU6TGFiZWwxMDk3MjAyMTc4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Discussion", "name": "Needs Discussion", "color": "c4178a", "default": false, "description": "Issues where the implementation still needs to be discussed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-12T07:06:50Z", "updated_at": "2018-11-05T21:50:57Z", "closed_at": "2018-11-05T21:50:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "detail commands list: \r\n```\r\nroot@hyplinux51#python3.6 setup.py sdist upload\r\nrunning sdist\r\nrunning egg_info\r\nwriting ftk_email.egg-info/PKG-INFO\r\nwriting dependency_links to ftk_email.egg-info/dependency_links.txt\r\nwriting top-level names to ftk_email.egg-info/top_level.txt\r\npackage init file 'ftk_email/__init__.py' not found (or not a regular file)\r\nreading manifest file 'ftk_email.egg-info/SOURCES.txt'\r\nwriting manifest file 'ftk_email.egg-info/SOURCES.txt'\r\nwarning: sdist: standard file not found: should have one of README, README.rst, README.txt, README.md\r\n\r\nrunning check\r\ncreating ftk_email-0.0.2\r\ncreating ftk_email-0.0.2/ftk_email\r\ncreating ftk_email-0.0.2/ftk_email.egg-info\r\ncopying files to ftk_email-0.0.2...\r\ncopying setup.py -> ftk_email-0.0.2\r\ncopying ftk_email/ftk_email.py -> ftk_email-0.0.2/ftk_email\r\ncopying ftk_email.egg-info/PKG-INFO -> ftk_email-0.0.2/ftk_email.egg-info\r\ncopying ftk_email.egg-info/SOURCES.txt -> ftk_email-0.0.2/ftk_email.egg-info\r\ncopying ftk_email.egg-info/dependency_links.txt -> ftk_email-0.0.2/ftk_email.egg-info\r\ncopying ftk_email.egg-info/top_level.txt -> ftk_email-0.0.2/ftk_email.egg-info\r\nWriting ftk_email-0.0.2/setup.cfg\r\nCreating tar archive\r\nremoving 'ftk_email-0.0.2' (and everything under it)\r\nrunning upload\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 15, in <module>\r\n    packages = ['ftk_email']\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 131, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.6/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib64/python3.6/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib64/python3.6/distutils/dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"/usr/lib64/python3.6/distutils/command/upload.py\", line 64, in run\r\n    self.upload_file(command, pyversion, filename)\r\n  File \"/usr/lib64/python3.6/distutils/command/upload.py\", line 162, in upload_file\r\n    body.write(value)\r\nTypeError: a bytes-like object is required, not 'str'\r\nroot@hyplinux51#python3.6 -m pop list distutils\r\n/usr/bin/python3.6: No module named pop\r\nroot@hyplinux51#python3.6 -m pip list distutils\r\nPackage    Version\r\n---------- -------\r\nftk-email  0.0.2\r\npip        10.0.1\r\nsetuptools 40.0.0\r\nwheel      0.31.1\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1414", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1414/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1414/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1414/events", "html_url": "https://github.com/pypa/setuptools/issues/1414", "id": 339644536, "node_id": "MDU6SXNzdWUzMzk2NDQ1MzY=", "number": 1414, "title": "setup.py sdist produces a tarball containing .pyc files, breaking stdeb", "user": {"login": "sjlongland", "id": 1710526, "node_id": "MDQ6VXNlcjE3MTA1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1710526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjlongland", "html_url": "https://github.com/sjlongland", "followers_url": "https://api.github.com/users/sjlongland/followers", "following_url": "https://api.github.com/users/sjlongland/following{/other_user}", "gists_url": "https://api.github.com/users/sjlongland/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjlongland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjlongland/subscriptions", "organizations_url": "https://api.github.com/users/sjlongland/orgs", "repos_url": "https://api.github.com/users/sjlongland/repos", "events_url": "https://api.github.com/users/sjlongland/events{/privacy}", "received_events_url": "https://api.github.com/users/sjlongland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-09T23:44:07Z", "updated_at": "2018-10-27T21:11:02Z", "closed_at": "2018-10-27T21:11:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "`.pyc` files are compiled Python bytecode binaries, are specific to the particular version of Python being installed, and really do not belong in a source package as there's no guarantee that the package will be compiled on the *same* version of Python.\r\n\r\nThe following steps reliably results in a source tarball containing `.pyc` files.\r\n\r\n<details>\r\n\r\n```\r\n$ git clone --depth=1 https://github.com/pypa/setuptools.git\r\nCloning into 'setuptools'...\r\nremote: Counting objects: 202, done.\r\nremote: Compressing objects: 100% (185/185), done.\r\nremote: Total 202 (delta 11), reused 57 (delta 3), pack-reused 0\r\nReceiving objects: 100% (202/202), 586.02 KiB | 1.33 MiB/s, done.\r\nResolving deltas: 100% (11/11), done.\r\n$ cd setuptools\r\n$ git log\r\ncommit 54ce65990c26ff68750ae682b6bacd5eed7d56ba\r\nAuthor: Paul Ganssle <pganssle@users.noreply.github.com>\r\nDate:   Mon Jul 9 09:24:10 2018 -0400\r\n\r\n    Merge pull request #1410 from di/deprecate-upload-and-register\r\n    \r\n    Deprecate upload and register commands\r\n$ python2 bootstrap.py \r\nadding minimal entry_points\r\nRegenerating egg_info\r\n/usr/lib64/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'zip_safe'\r\n  warnings.warn(msg)\r\n/usr/lib64/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'python_requires'\r\n  warnings.warn(msg)\r\nrunning egg_info\r\nwriting requirements to setuptools.egg-info/requires.txt\r\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\r\nwriting entry points to setuptools.egg-info/entry_points.txt\r\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\r\n...and again.\r\nrunning egg_info\r\nwriting requirements to setuptools.egg-info/requires.txt\r\nwriting setuptools.egg-info/PKG-INFO\r\nwriting top-level names to setuptools.egg-info/top_level.txt\r\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\r\nwriting entry points to setuptools.egg-info/entry_points.txt\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\r\n$ python2 setup.py sdist --formats=gztar\r\nrunning sdist\r\nrunning egg_info\r\nwriting requirements to setuptools.egg-info/requires.txt\r\nwriting setuptools.egg-info/PKG-INFO\r\nwriting top-level names to setuptools.egg-info/top_level.txt\r\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\r\nwriting entry points to setuptools.egg-info/entry_points.txt\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\r\nrunning check\r\ncreating setuptools-40.0.0.post20180710\r\ncreating setuptools-40.0.0.post20180710/.github\r\ncreating setuptools-40.0.0.post20180710/changelog.d\r\ncreating setuptools-40.0.0.post20180710/docs\r\ncreating setuptools-40.0.0.post20180710/docs/_templates\r\ncreating setuptools-40.0.0.post20180710/docs/_theme\r\ncreating setuptools-40.0.0.post20180710/docs/_theme/nature\r\ncreating setuptools-40.0.0.post20180710/docs/_theme/nature/static\r\ncreating setuptools-40.0.0.post20180710/pkg_resources\r\ncreating setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncreating setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncreating setuptools-40.0.0.post20180710/pkg_resources/extern\r\ncreating setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncreating setuptools-40.0.0.post20180710/setuptools\r\ncreating setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncreating setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncreating setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncreating setuptools-40.0.0.post20180710/setuptools/command\r\ncreating setuptools-40.0.0.post20180710/setuptools/extern\r\ncreating setuptools-40.0.0.post20180710/setuptools/tests\r\ncreating setuptools-40.0.0.post20180710/setuptools/tests/indexes\r\ncreating setuptools-40.0.0.post20180710/setuptools/tests/indexes/test_links_priority\r\ncreating setuptools-40.0.0.post20180710/setuptools/tests/indexes/test_links_priority/simple\r\ncreating setuptools-40.0.0.post20180710/setuptools/tests/indexes/test_links_priority/simple/foobar\r\ncreating setuptools-40.0.0.post20180710/tests\r\ncopying files to setuptools-40.0.0.post20180710...\r\ncopying .codecov.yml -> setuptools-40.0.0.post20180710\r\ncopying .gitignore -> setuptools-40.0.0.post20180710\r\ncopying .travis.yml -> setuptools-40.0.0.post20180710\r\ncopying CHANGES.rst -> setuptools-40.0.0.post20180710\r\ncopying LICENSE -> setuptools-40.0.0.post20180710\r\ncopying MANIFEST.in -> setuptools-40.0.0.post20180710\r\ncopying README.rst -> setuptools-40.0.0.post20180710\r\ncopying appveyor.yml -> setuptools-40.0.0.post20180710\r\ncopying bootstrap.py -> setuptools-40.0.0.post20180710\r\ncopying conftest.py -> setuptools-40.0.0.post20180710\r\ncopying easy_install.py -> setuptools-40.0.0.post20180710\r\ncopying launcher.c -> setuptools-40.0.0.post20180710\r\ncopying msvc-build-launcher.cmd -> setuptools-40.0.0.post20180710\r\ncopying netlify.toml -> setuptools-40.0.0.post20180710\r\ncopying pavement.py -> setuptools-40.0.0.post20180710\r\ncopying pyproject.toml -> setuptools-40.0.0.post20180710\r\ncopying pytest.ini -> setuptools-40.0.0.post20180710\r\ncopying setup.cfg -> setuptools-40.0.0.post20180710\r\ncopying setup.py -> setuptools-40.0.0.post20180710\r\ncopying towncrier_template.rst -> setuptools-40.0.0.post20180710\r\ncopying tox.ini -> setuptools-40.0.0.post20180710\r\ncopying .github/pull_request_template.md -> setuptools-40.0.0.post20180710/.github\r\ncopying changelog.d/1410.change.rst -> setuptools-40.0.0.post20180710/changelog.d\r\ncopying docs/Makefile -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/conf.py -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/developer-guide.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/development.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/easy_install.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/formats.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/history.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/index.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/pkg_resources.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/python3.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/releases.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/requirements.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/roadmap.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/setuptools.txt -> setuptools-40.0.0.post20180710/docs\r\ncopying docs/_templates/indexsidebar.html -> setuptools-40.0.0.post20180710/docs/_templates\r\ncopying docs/_theme/nature/theme.conf -> setuptools-40.0.0.post20180710/docs/_theme/nature\r\ncopying docs/_theme/nature/static/nature.css_t -> setuptools-40.0.0.post20180710/docs/_theme/nature/static\r\ncopying docs/_theme/nature/static/pygments.css -> setuptools-40.0.0.post20180710/docs/_theme/nature/static\r\ncopying pkg_resources/__init__.py -> setuptools-40.0.0.post20180710/pkg_resources\r\ncopying pkg_resources/api_tests.txt -> setuptools-40.0.0.post20180710/pkg_resources\r\ncopying pkg_resources/py31compat.py -> setuptools-40.0.0.post20180710/pkg_resources\r\ncopying pkg_resources/_vendor/__init__.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncopying pkg_resources/_vendor/appdirs.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncopying pkg_resources/_vendor/pyparsing.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncopying pkg_resources/_vendor/six.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncopying pkg_resources/_vendor/vendored.txt -> setuptools-40.0.0.post20180710/pkg_resources/_vendor\r\ncopying pkg_resources/_vendor/packaging/__about__.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/__init__.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/_compat.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/_structures.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/markers.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/requirements.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/specifiers.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/utils.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/_vendor/packaging/version.py -> setuptools-40.0.0.post20180710/pkg_resources/_vendor/packaging\r\ncopying pkg_resources/extern/__init__.py -> setuptools-40.0.0.post20180710/pkg_resources/extern\r\ncopying pkg_resources/tests/__init__.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying pkg_resources/tests/test_find_distributions.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying pkg_resources/tests/test_markers.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying pkg_resources/tests/test_pkg_resources.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying pkg_resources/tests/test_resources.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying pkg_resources/tests/test_working_set.py -> setuptools-40.0.0.post20180710/pkg_resources/tests\r\ncopying setuptools/__init__.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/archive_util.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/build_meta.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/cli-32.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/cli-64.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/cli.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/config.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/dep_util.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/depends.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/dist.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/extension.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/glibc.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/glob.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/gui-32.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/gui-64.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/gui.exe -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/launch.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/lib2to3_ex.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/monkey.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/msvc.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/namespaces.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/package_index.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/pep425tags.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/py27compat.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/py31compat.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/py33compat.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/py36compat.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/sandbox.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/script (dev).tmpl -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/script.tmpl -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/site-patch.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/ssl_support.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/unicode_utils.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/version.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/wheel.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools/windows_support.py -> setuptools-40.0.0.post20180710/setuptools\r\ncopying setuptools.egg-info/PKG-INFO -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/SOURCES.txt -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/dependency_links.txt -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/entry_points.txt -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/requires.txt -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/top_level.txt -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools.egg-info/zip-safe -> setuptools-40.0.0.post20180710/setuptools.egg-info\r\ncopying setuptools/_vendor/__init__.py -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/__init__.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/pyparsing.py -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/six.py -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/six.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/vendored.txt -> setuptools-40.0.0.post20180710/setuptools/_vendor\r\ncopying setuptools/_vendor/packaging/__about__.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/__about__.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/__init__.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/__init__.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/_compat.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/_compat.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/_structures.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/_structures.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/markers.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/requirements.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/specifiers.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/specifiers.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/utils.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/version.py -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/_vendor/packaging/version.pyc -> setuptools-40.0.0.post20180710/setuptools/_vendor/packaging\r\ncopying setuptools/command/__init__.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/alias.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/bdist_egg.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/bdist_rpm.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/bdist_wininst.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/build_clib.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/build_ext.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/build_py.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/develop.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/dist_info.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/easy_install.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/egg_info.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/install.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/install_egg_info.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/install_lib.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/install_scripts.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/launcher manifest.xml -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/py36compat.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/register.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/rotate.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/saveopts.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/sdist.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/setopt.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/test.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/upload.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/command/upload_docs.py -> setuptools-40.0.0.post20180710/setuptools/command\r\ncopying setuptools/extern/__init__.py -> setuptools-40.0.0.post20180710/setuptools/extern\r\ncopying setuptools/tests/__init__.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/contexts.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/environment.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/files.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/fixtures.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/mod_with_constant.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/namespaces.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/script-with-bom.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/server.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_archive_util.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_bdist_egg.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_build_clib.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_build_ext.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_build_meta.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_build_py.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_config.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_dep_util.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_depends.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_develop.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_dist.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_dist_info.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_easy_install.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_egg_info.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_find_packages.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_glibc.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_install_scripts.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_integration.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_manifest.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_msvc.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_namespaces.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_packageindex.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_pep425tags.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_register.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_sandbox.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_sdist.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_setuptools.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_test.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_unicode_utils.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_upload.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_upload_docs.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_virtualenv.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_wheel.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/test_windows_wrappers.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/text.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/textwrap.py -> setuptools-40.0.0.post20180710/setuptools/tests\r\ncopying setuptools/tests/indexes/test_links_priority/external.html -> setuptools-40.0.0.post20180710/setuptools/tests/indexes/test_links_priority\r\ncopying setuptools/tests/indexes/test_links_priority/simple/foobar/index.html -> setuptools-40.0.0.post20180710/setuptools/tests/indexes/test_links_priority/simple/foobar\r\ncopying tests/manual_test.py -> setuptools-40.0.0.post20180710/tests\r\ncopying tests/requirements.txt -> setuptools-40.0.0.post20180710/tests\r\nWriting setuptools-40.0.0.post20180710/setup.cfg\r\ncreating dist\r\nCreating tar archive\r\nremoving 'setuptools-40.0.0.post20180710' (and everything under it)\r\n$ tar -tzf dist/setuptools-40.0.0.post20180710.tar.gz | grep pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/__about__.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/__init__.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/_compat.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/_structures.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/specifiers.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/packaging/version.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/__init__.pyc\r\nsetuptools-40.0.0.post20180710/setuptools/_vendor/six.pyc\r\n```\r\n</details>\r\n\r\n**Edit from @pganssle**: Moved the details into a `<details>` tag so the ticket wouldn't be quite so long.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1405", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1405/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1405/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1405/events", "html_url": "https://github.com/pypa/setuptools/issues/1405", "id": 336599461, "node_id": "MDU6SXNzdWUzMzY1OTk0NjE=", "number": 1405, "title": "some pip editable installs don't work with PEP 518 build isolation", "user": {"login": "benoit-pierre", "id": 5104286, "node_id": "MDQ6VXNlcjUxMDQyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5104286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoit-pierre", "html_url": "https://github.com/benoit-pierre", "followers_url": "https://api.github.com/users/benoit-pierre/followers", "following_url": "https://api.github.com/users/benoit-pierre/following{/other_user}", "gists_url": "https://api.github.com/users/benoit-pierre/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoit-pierre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoit-pierre/subscriptions", "organizations_url": "https://api.github.com/users/benoit-pierre/orgs", "repos_url": "https://api.github.com/users/benoit-pierre/repos", "events_url": "https://api.github.com/users/benoit-pierre/events{/privacy}", "received_events_url": "https://api.github.com/users/benoit-pierre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-06-28T12:26:13Z", "updated_at": "2020-02-06T02:30:36Z", "closed_at": "2020-02-06T02:30:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```shell\r\n> mkdir /tmp/simple_pep518_project-1.0\r\n> printf 'from setuptools import setup; setup(name=\"simple_pep518_project\", version=\"1.0\")\\n' >/tmp/simple_pep518_project-1.0/setup.py\r\n> printf '[build-system]\\nrequires = [\"setuptools\", \"wheel\"]\\n' >/tmp/simple_pep518_project-1.0/pyproject.toml\r\n> pip install --prefix /tmp/pyprefix -e /tmp/simple_pep518_project-1.0\r\nObtaining file:///tmp/simple_pep518_project-1.0\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\nInstalling collected packages: simple-pep518-project\r\n  Running setup.py develop for simple-pep518-project\r\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/simple_pep518_project-1.0/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" develop --no-deps --prefix=/tmp/pyprefix:\r\n    running develop\r\n    Checking .pth file support in /tmp/pyprefix/lib/python3.6/site-packages\r\n    /usr/bin/python -E -c pass\r\n    TEST FAILED: /tmp/pyprefix/lib/python3.6/site-packages does NOT support .pth files\r\n    error: bad install directory or PYTHONPATH\r\n    \r\n    You are attempting to install a package to a directory that is not\r\n    on PYTHONPATH and which Python does not read \".pth\" files from.  The\r\n    installation directory you specified (via --install-dir, --prefix, or\r\n    the distutils default setting) was:\r\n    \r\n        /tmp/pyprefix/lib/python3.6/site-packages\r\n    \r\n    and your PYTHONPATH environment variable currently contains:\r\n    \r\n        '/tmp/pip-build-env-q4e8bpkm/lib/python3.6/site-packages'\r\n    \r\n    Here are some of your options for correcting the problem:\r\n    \r\n    * You can choose a different installation directory, i.e., one that is\r\n      on PYTHONPATH or supports .pth files\r\n    \r\n    * You can add the installation directory to the PYTHONPATH environment\r\n      variable.  (It must then also be on PYTHONPATH whenever you run\r\n      Python and want to use the package(s) you are installing.)\r\n    \r\n    * You can set up the installation directory to support \".pth\" files by\r\n      using one of the approaches described here:\r\n    \r\n      https://setuptools.readthedocs.io/en/latest/easy_install.html#custom-installation-locations\r\n    \r\n    \r\n    Please make the appropriate changes for your system and try again.\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/simple_pep518_project-1.0/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" develop --no-deps --prefix=/tmp/pyprefix\" failed with error code 1 in /tmp/simple_pep518_project-1.0/\r\n> pip install --user -e /tmp/simple_pep518_project-1.0\r\nObtaining file:///tmp/simple_pep518_project-1.0\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\nInstalling collected packages: simple-pep518-project\r\n  Running setup.py develop for simple-pep518-project\r\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/simple_pep518_project-1.0/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" develop --no-deps --user --prefix=:\r\n    usage: -c [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n       or: -c --help [cmd1 cmd2 ...]\r\n       or: -c --help-commands\r\n       or: -c cmd --help\r\n    \r\n    error: option --user not recognized\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/simple_pep518_project-1.0/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" develop --no-deps --user --prefix=\" failed with error code 1 in /tmp/simple_pep518_project-1.0/\r\n```\r\n\r\nThis is because of pip's build isolation when PEP 518 support is enabled and easy_install's behavior of:\r\n* conflating the python environment used during installation with the target environment, erroneously assuming that the package target directory must be in `PYTHONPATH`.\r\n* disabling support for the `--user` option if the user site is disabled:\r\n\r\n```shell\r\n> python easy_install.py -h | grep -- --user                                                                  \r\n  --user                     install in user site-package\r\n> python -s easy_install.py -h | grep -- --user                                                               \r\n> python -s easy_install.py --user setuptools                                                                 \r\nusage: easy_install.py [options] requirement_or_url ...\r\n   or: easy_install.py --help\r\n\r\nerror: option --user not recognized\r\n```\r\n\r\nWith easy_install being deprecated, and pip being perfectly happy to install to a target directory not in `PYTHONPATH`, I think:\r\n* the `--user` option should always be available (with maybe a warning if the user site is disabled)\r\n* the error above when installing to a directory not in `PYTHONPATH` should be turned to a warning\r\n\r\nFor reference, related pip issue: https://github.com/pypa/pip/issues/5317", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1405/reactions", "total_count": 10, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1401", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1401/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1401/events", "html_url": "https://github.com/pypa/setuptools/issues/1401", "id": 336222264, "node_id": "MDU6SXNzdWUzMzYyMjIyNjQ=", "number": 1401, "title": "DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working", "user": {"login": "The-Compiler", "id": 625793, "node_id": "MDQ6VXNlcjYyNTc5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/625793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The-Compiler", "html_url": "https://github.com/The-Compiler", "followers_url": "https://api.github.com/users/The-Compiler/followers", "following_url": "https://api.github.com/users/The-Compiler/following{/other_user}", "gists_url": "https://api.github.com/users/The-Compiler/gists{/gist_id}", "starred_url": "https://api.github.com/users/The-Compiler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The-Compiler/subscriptions", "organizations_url": "https://api.github.com/users/The-Compiler/orgs", "repos_url": "https://api.github.com/users/The-Compiler/repos", "events_url": "https://api.github.com/users/The-Compiler/events{/privacy}", "received_events_url": "https://api.github.com/users/The-Compiler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-06-27T13:08:09Z", "updated_at": "2020-06-16T21:01:13Z", "closed_at": "2018-10-23T14:33:27Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "In Python 3.7, importing ABCs directly from the `collections` module shows a\r\nwarning (and in Python 3.8 it will stop working) - see\r\nhttps://github.com/python/cpython/commit/c66f9f8d3909f588c251957d499599a1680e2320\r\n\r\n```\r\n.../site-packages/pkg_resources/_vendor/pyparsing.py:943: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  collections.MutableMapping.register(ParseResults)\r\n\r\n.../site-packages/pkg_resources/_vendor/pyparsing.py:3226: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  elif isinstance( exprs, collections.Iterable ):\r\n```\r\n\r\nI'd be happy to help with fixing this, but it looks like `pyparsing.py` is vendored from upstream - I'll open an issue there as well, but that project looks quite inactive...", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1401/reactions", "total_count": 18, "+1": 18, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1400", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1400/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1400/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1400/events", "html_url": "https://github.com/pypa/setuptools/issues/1400", "id": 336111492, "node_id": "MDU6SXNzdWUzMzYxMTE0OTI=", "number": 1400, "title": "Setuptools creates non-UTF8 Python files with no encoding specified", "user": {"login": "me21", "id": 807120, "node_id": "MDQ6VXNlcjgwNzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/807120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/me21", "html_url": "https://github.com/me21", "followers_url": "https://api.github.com/users/me21/followers", "following_url": "https://api.github.com/users/me21/following{/other_user}", "gists_url": "https://api.github.com/users/me21/gists{/gist_id}", "starred_url": "https://api.github.com/users/me21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/me21/subscriptions", "organizations_url": "https://api.github.com/users/me21/orgs", "repos_url": "https://api.github.com/users/me21/repos", "events_url": "https://api.github.com/users/me21/events{/privacy}", "received_events_url": "https://api.github.com/users/me21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-27T07:39:05Z", "updated_at": "2018-10-23T13:31:57Z", "closed_at": "2018-10-23T13:31:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "My environment is: Windows 10 x64 LTSB Russian, Python x64 3.6.5, Pip 10.0.1, Setuptools 39.2.0.\r\n\r\nI install PyInstaller with `pip install pyinstaller`. It installs, but doesn't work: `pyinstaller myscript.py` fails due to `pyinstaller-script.py` in the `Scripts` subfolder containing non-UTF-8 codes. In fact, its encoding is CP1251 on my machine but no encoding is specified inside the file.\r\nThe offending line contains the path to the Python interpreter executable. This is because I run all commands in the virtual environment located in path with non-latin characters. If I run commands in virtual environment placed in latin-only path, no errors are thrown.\r\n\r\nThe output is:\r\n```\r\nFile \"C:\\Users\\\u0417\u0430\u0440\u0443\u0431\u043a\u0438\u043d\\Documents\\Python Projects\\uno-db\\venv\\Scripts\\pyinstaller-script.py\", line 1\r\nSyntaxError: Non-UTF-8 code starting with '\\xc7' in file C:\\Users\\\u0417\u0430\u0440\u0443\u0431\u043a\u0438\u043d\\Documents\\Python Projects\\uno-db\\venv\\Scripts\\pyinstaller-script.py on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\r\n```\r\n\r\nI think Setuptools should either create files in UTF8 encoding or specify the encoding inside the Python file.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1400/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1392", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1392/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1392/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1392/events", "html_url": "https://github.com/pypa/setuptools/issues/1392", "id": 334078228, "node_id": "MDU6SXNzdWUzMzQwNzgyMjg=", "number": 1392, "title": "UnicodeDecodeError when running python setup.py egg_info", "user": {"login": "david-caro", "id": 587148, "node_id": "MDQ6VXNlcjU4NzE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/587148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-caro", "html_url": "https://github.com/david-caro", "followers_url": "https://api.github.com/users/david-caro/followers", "following_url": "https://api.github.com/users/david-caro/following{/other_user}", "gists_url": "https://api.github.com/users/david-caro/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-caro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-caro/subscriptions", "organizations_url": "https://api.github.com/users/david-caro/orgs", "repos_url": "https://api.github.com/users/david-caro/repos", "events_url": "https://api.github.com/users/david-caro/events{/privacy}", "received_events_url": "https://api.github.com/users/david-caro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-20T13:31:44Z", "updated_at": "2018-10-23T14:17:00Z", "closed_at": "2018-10-23T14:16:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI'm getting the above error when trying to install a package though tox. So, with tox, I'm trying to install a package that has `dulwich` as `setup_requires` in the `setup.py` file. That ends up with the following stack trace:\r\n```python\r\n Downloading https://files.pythonhosted.org/packages/f4/43/efec01f4eb07d51a7967688a7c52bc7a90619110f836d466e28718676a6c/dulwich-0.19.3.tar.gz (345kB)\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-_oyvn4sp/dulwich/setup.py\", line 96, in <module>\r\n        **setup_kwargs\r\n      File \"/code/.tox/py36/lib/python3.6/site-packages/setuptools/__init__.py\", line 128, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/code/.tox/py36/lib/python3.6/site-packages/setuptools/__init__.py\", line 121, in _install_setup_requires\r\n        dist.parse_config_files(ignore_option_errors=True)\r\n      File \"/code/.tox/py36/lib/python3.6/site-packages/setuptools/dist.py\", line 492, in parse_config_files\r\n        _Distribution.parse_config_files(self, filenames=filenames)\r\n      File \"/usr/local/lib/python3.6/distutils/dist.py\", line 395, in parse_config_files\r\n        parser.read(filename)\r\n      File \"/usr/local/lib/python3.6/configparser.py\", line 697, in read\r\n        self._read(fp, filename)\r\n      File \"/usr/local/lib/python3.6/configparser.py\", line 1015, in _read\r\n        for lineno, line in enumerate(fp, start=1):\r\n      File \"/code/.tox/py36/lib/python3.6/encodings/ascii.py\", line 26, in decode\r\n        return codecs.ascii_decode(input, self.errors)[0]\r\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xc4 in position 48: ordinal not in range(128)\r\n```\r\n\r\nIf I manually add the package or try to install it through tox using a requires.txt file before that, it works well. It seems to be failing because the package has some non-ascii chars in the setup.cfg file.\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1392/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1390", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1390/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1390/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1390/events", "html_url": "https://github.com/pypa/setuptools/issues/1390", "id": 333241298, "node_id": "MDU6SXNzdWUzMzMyNDEyOTg=", "number": 1390, "title": "Newlines in the `description` field produce a malformed PKG-INFO", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 42, "created_at": "2018-06-18T12:04:37Z", "updated_at": "2021-11-17T14:17:26Z", "closed_at": "2021-01-17T18:35:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We discovered this accidentally by way of https://github.com/zopefoundation/zc.relation/issues/4#issuecomment-397532224: if you pass a string containing newlines to the `description` argument of `setup()`, setuptools will generate a malformed PKG-INFO.\r\n\r\nTo reproduce:\r\n\r\n```\r\n# setup.py\r\nfrom setuptools import setup\r\nsetup(\r\n    name='test-package',\r\n    version='0.1',\r\n    author='Blah Blah',\r\n    author_email='blah@example.com',\r\n    description='description\\n\\n',\r\n    py_modules=['blah'],\r\n)\r\n```\r\n(The contents of `blah.py` do not matter, but the file should exist.)\r\n\r\nRun `python setup.py sdist` and the inspect `test_package.egg-info/PKG-INFO`.  For me, with setuptools 39.1.0, it looks like this:\r\n\r\n```\r\nMetadata-Version: 1.0\r\nName: test-package\r\nVersion: 0.1\r\nSummary: description\r\n\r\n\r\nHome-page: UNKNOWN\r\nAuthor: Blah Blah\r\nAuthor-email: blah@example.com\r\nLicense: UNKNOWN\r\nDescription: UNKNOWN\r\nPlatform: UNKNOWN\r\n```\r\n\r\nThe extra newlines lead tools to treat the rest of the PKG-INFO as a long_description.\r\n\r\nI would expect `setuptools` to complain about the newlines in the `description` field, or at least escape them properly (i.e. prepend whitespace, like it does for the `long_description` field).", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1390/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1381", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1381/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1381/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1381/events", "html_url": "https://github.com/pypa/setuptools/issues/1381", "id": 325513701, "node_id": "MDU6SXNzdWUzMjU1MTM3MDE=", "number": 1381, "title": "Include most recent upload metadata when uploading to PyPI", "user": {"login": "pganssle", "id": 1377457, "node_id": "MDQ6VXNlcjEzNzc0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1377457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pganssle", "html_url": "https://github.com/pganssle", "followers_url": "https://api.github.com/users/pganssle/followers", "following_url": "https://api.github.com/users/pganssle/following{/other_user}", "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}", "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions", "organizations_url": "https://api.github.com/users/pganssle/orgs", "repos_url": "https://api.github.com/users/pganssle/repos", "events_url": "https://api.github.com/users/pganssle/events{/privacy}", "received_events_url": "https://api.github.com/users/pganssle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-05-23T01:05:31Z", "updated_at": "2018-11-12T16:46:53Z", "closed_at": "2018-11-12T16:46:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems that for the `upload` command, we're delegating entirely to `distutils`, which has `metadata_version` hard-coded as \"1.0\", and only uploads the 1.0 metadata. I think this is one reason that Requires-Python data isn't showing up on PyPI.\r\n\r\nAlthough `setup.py upload` is basically deprecated, I think we should probably still make these improvements, even if as part of this we also add `DeprecationWarning` telling people to start using `twine`.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1381/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1320", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1320/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1320/events", "html_url": "https://github.com/pypa/setuptools/issues/1320", "id": 312737537, "node_id": "MDU6SXNzdWUzMTI3Mzc1Mzc=", "number": 1320, "title": "setup.py install doesn't work for packages with setup_requires on older macOS", "user": {"login": "benjaminjkraft", "id": 111238, "node_id": "MDQ6VXNlcjExMTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/111238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjaminjkraft", "html_url": "https://github.com/benjaminjkraft", "followers_url": "https://api.github.com/users/benjaminjkraft/followers", "following_url": "https://api.github.com/users/benjaminjkraft/following{/other_user}", "gists_url": "https://api.github.com/users/benjaminjkraft/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjaminjkraft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjaminjkraft/subscriptions", "organizations_url": "https://api.github.com/users/benjaminjkraft/orgs", "repos_url": "https://api.github.com/users/benjaminjkraft/repos", "events_url": "https://api.github.com/users/benjaminjkraft/events{/privacy}", "received_events_url": "https://api.github.com/users/benjaminjkraft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-04-10T01:00:04Z", "updated_at": "2021-10-22T19:08:42Z", "closed_at": "2021-10-22T19:08:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "SInce the TLS 1.0/1.1 turndown, `easy_install` doesn't work on older macOS, because the builtin libraries don't support SSL.  For the most part, we just use latest pip instead, and things work fine.  But when installing a package with `setup_requires` from source (e.g. `pip install git+git://github.com/pycqa/flake8.git@master`), we run into trouble even on latest pip/setuptools, because pip runs `setup.py install`, which in turn runs `easy_install`, which fails.  If `easy_install` is completely deprecated, `setuptools` should call out to `pip` instead; or `easy_install` do what pip does to make TLS 1.2 work.\r\n\r\nSee also pypa/packaging-problems#134.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1277", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1277/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1277/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1277/events", "html_url": "https://github.com/pypa/setuptools/issues/1277", "id": 298119476, "node_id": "MDU6SXNzdWUyOTgxMTk0NzY=", "number": 1277, "title": "bdist_rpm fails when installing man pages", "user": {"login": "rst0git", "id": 9142901, "node_id": "MDQ6VXNlcjkxNDI5MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/9142901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rst0git", "html_url": "https://github.com/rst0git", "followers_url": "https://api.github.com/users/rst0git/followers", "following_url": "https://api.github.com/users/rst0git/following{/other_user}", "gists_url": "https://api.github.com/users/rst0git/gists{/gist_id}", "starred_url": "https://api.github.com/users/rst0git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rst0git/subscriptions", "organizations_url": "https://api.github.com/users/rst0git/orgs", "repos_url": "https://api.github.com/users/rst0git/repos", "events_url": "https://api.github.com/users/rst0git/events{/privacy}", "received_events_url": "https://api.github.com/users/rst0git/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097196749, "node_id": "MDU6TGFiZWwxMDk3MTk2NzQ5", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Triage", "name": "Needs Triage", "color": "dd3333", "default": false, "description": "Issues that need to be evaluated for severity and status."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-02-18T21:23:02Z", "updated_at": "2021-01-13T01:18:51Z", "closed_at": "2021-01-13T01:18:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello I noticed that [this](https://bugs.python.org/issue644744) issue has not been fixed yet?\r\nThe reason for this failure is \r\n\r\n> 1) bdist_rpm generates a .spec file with the following\r\n> install command:\r\n> python setup.py install --root=$RPM_BUILD_ROOT\r\n> --record=INSTALLED_FILES\r\n> .. and the following files section\r\n> %files -f INSTALLED_FILES\r\n> \r\n> 2) if the setup.py installed any man pages, then after\r\n> %install and before %files rpm runs brp-compress (usually\r\n> found in /usr/lib/rpm/brp-compress) which compresses all man\r\n> pages with gzip.\r\n> \r\n> 3) Now the man pages have a '.gz' suffix, but the\r\n> INSTALLED_FILES file lists them still without the suffix.\r\n> The %files section of the rpm .spec file will fail.\r\n> \r\n\r\nThe proposed solution seems to work.\r\n```\r\ndiff --git a/setuptools/command/bdist_rpm.py b/setuptools/command/bdist_rpm.py\r\nindex 70730927..eee85795 100755\r\n--- a/setuptools/command/bdist_rpm.py\r\n+++ b/setuptools/command/bdist_rpm.py\r\n@@ -31,6 +31,9 @@ class bdist_rpm(orig.bdist_rpm):\r\n             ).replace(\r\n                 \"setup.py install \",\r\n                 \"setup.py install --single-version-externally-managed \"\r\n+            ).replace(\r\n+                \"--record=INSTALLED_FILES\",\r\n+                \"--record=INSTALLED_FILES;sed -i -e 's:\\\\.gz$:\\\\.gz:;t;s:\\\\(/man/man.*/.*\\):\\\\1.gz:' INSTALLED_FILES\"\r\n             ).replace(\r\n                 \"%setup\",\r\n                 \"%setup -n %{name}-%{unmangled_version}\"\r\n\r\n```\r\nAny thoughts?", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1255", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1255/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1255/events", "html_url": "https://github.com/pypa/setuptools/issues/1255", "id": 290583557, "node_id": "MDU6SXNzdWUyOTA1ODM1NTc=", "number": 1255, "title": "resource_stream does not work correctly for lib2to3 + pip install -e .", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-22T19:19:23Z", "updated_at": "2021-09-13T20:02:31Z", "closed_at": "2021-09-13T20:02:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following module:\r\n\r\n```\r\nfrom pkg_resources import resource_stream\r\n\r\nresource_stream(__name__, 'test_data')\r\n```\r\n\r\nWith the following `setup.py`:\r\n\r\n```\r\nsetup(\r\n\r\nuse_2to3=True,\r\n)\r\n```\r\n\r\nWhen `pip install -e .` is run, modules are copied into `build\\libXXX`, but `test_data` is not. `pkg_resources` will then attempt to load the resource relative to the module path, but will fail.", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1060", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1060/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1060/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1060/events", "html_url": "https://github.com/pypa/setuptools/issues/1060", "id": 235343706, "node_id": "MDU6SXNzdWUyMzUzNDM3MDY=", "number": 1060, "title": "upload_docs raises AttributeError with Sphinx 1.6", "user": {"login": "mitya57", "id": 1381584, "node_id": "MDQ6VXNlcjEzODE1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1381584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitya57", "html_url": "https://github.com/mitya57", "followers_url": "https://api.github.com/users/mitya57/followers", "following_url": "https://api.github.com/users/mitya57/following{/other_user}", "gists_url": "https://api.github.com/users/mitya57/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitya57/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitya57/subscriptions", "organizations_url": "https://api.github.com/users/mitya57/orgs", "repos_url": "https://api.github.com/users/mitya57/repos", "events_url": "https://api.github.com/users/mitya57/events{/privacy}", "received_events_url": "https://api.github.com/users/mitya57/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315489, "node_id": "MDU6TGFiZWwzNDkzMTU0ODk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}, {"id": 932623528, "node_id": "MDU6TGFiZWw5MzI2MjM1Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/good%20first%20issue", "name": "good first issue", "color": "9030ff", "default": true, "description": ""}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-12T19:41:31Z", "updated_at": "2021-02-20T17:37:47Z", "closed_at": "2021-02-20T17:37:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Sphinx 1.6, `builder_target_dir` was replaced with `builder_target_dirs`, see sphinx-doc/sphinx@2afa0b6627f7e5afb188d5a60c8c4767f6250774 and sphinx-doc/sphinx#3476.\r\n\r\nThis causes an AttributeError in setuptools:\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 67, in <module>\r\n    setup(**setup_args)\r\n  File \"/usr/lib/python3.5/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib/python3.5/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib/python3.5/distutils/dist.py\", line 973, in run_command\r\n    cmd_obj.ensure_finalized()\r\n  File \"/usr/lib/python3.5/distutils/cmd.py\", line 107, in ensure_finalized\r\n    self.finalize_options()\r\n  File \"/home/dmitry/.local/lib/python3.5/site-packages/setuptools/command/upload_docs.py\", line 65, in finalize_options\r\n    self.target_dir = build_sphinx.builder_target_dir\r\n  File \"/usr/lib/python3.5/distutils/cmd.py\", line 103, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: builder_target_dir\r\n```", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/568", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/568/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/568/events", "html_url": "https://github.com/pypa/setuptools/issues/568", "id": 152566474, "node_id": "MDU6SXNzdWUxNTI1NjY0NzQ=", "number": 568, "title": "ez_setup.py corrupt zip file (URL not found)", "user": {"login": "jtreminio", "id": 589398, "node_id": "MDQ6VXNlcjU4OTM5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/589398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtreminio", "html_url": "https://github.com/jtreminio", "followers_url": "https://api.github.com/users/jtreminio/followers", "following_url": "https://api.github.com/users/jtreminio/following{/other_user}", "gists_url": "https://api.github.com/users/jtreminio/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtreminio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtreminio/subscriptions", "organizations_url": "https://api.github.com/users/jtreminio/orgs", "repos_url": "https://api.github.com/users/jtreminio/repos", "events_url": "https://api.github.com/users/jtreminio/events{/privacy}", "received_events_url": "https://api.github.com/users/jtreminio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2016-05-02T14:36:36Z", "updated_at": "2016-05-09T20:58:51Z", "closed_at": "2016-05-09T20:58:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n# wget https://bootstrap.pypa.io/ez_setup.py -O - | python\n--2016-05-02 14:34:47--  https://bootstrap.pypa.io/ez_setup.py\nResolving bootstrap.pypa.io (bootstrap.pypa.io)... 23.235.44.175\nConnecting to bootstrap.pypa.io (bootstrap.pypa.io)|23.235.44.175|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 12292 (12K) [text/x-python]\nSaving to: \u2018STDOUT\u2019\n\n100%[===============================================================================================================>] 12,292      --.-K/s   in 0s\n\n2016-05-02 14:34:47 (231 MB/s) - written to stdout [12292/12292]\n\nExtracting in /tmp/tmpdj_hrZ\nTraceback (most recent call last):\n  File \"<stdin>\", line 422, in <module>\n  File \"<stdin>\", line 419, in main\n  File \"<stdin>\", line 54, in _install\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"<stdin>\", line 105, in archive_context\n  File \"<stdin>\", line 89, in __new__\n  File \"/usr/lib/python2.7/zipfile.py\", line 770, in __init__\n    self._RealGetContents()\n  File \"/usr/lib/python2.7/zipfile.py\", line 811, in _RealGetContents\n    raise BadZipfile, \"File is not a zip file\"\nzipfile.BadZipfile: File is not a zip file\n```\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/550", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/550/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/550/events", "html_url": "https://github.com/pypa/setuptools/issues/550", "id": 148864144, "node_id": "MDU6SXNzdWUxNDg4NjQxNDQ=", "number": 550, "title": "Cannot install latest version (20.9.0) with ez_setup.py", "user": {"login": "aleury", "id": 1060558, "node_id": "MDQ6VXNlcjEwNjA1NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1060558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aleury", "html_url": "https://github.com/aleury", "followers_url": "https://api.github.com/users/aleury/followers", "following_url": "https://api.github.com/users/aleury/following{/other_user}", "gists_url": "https://api.github.com/users/aleury/gists{/gist_id}", "starred_url": "https://api.github.com/users/aleury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aleury/subscriptions", "organizations_url": "https://api.github.com/users/aleury/orgs", "repos_url": "https://api.github.com/users/aleury/repos", "events_url": "https://api.github.com/users/aleury/events{/privacy}", "received_events_url": "https://api.github.com/users/aleury/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-16T15:43:56Z", "updated_at": "2016-04-16T16:04:23Z", "closed_at": "2016-04-16T16:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use the recommended method of installing setuptools described [here](https://pypi.python.org/pypi/setuptools#unix-wget) but am getting the following error\n\n```\nExtracting in /tmp/tmp7lPgUQ\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/ubuntu/ez_setup.py\", line 415, in <module>\n    sys.exit(main())\n  File \"/home/ubuntu/ez_setup.py\", line 412, in main\n    return _install(archive, _build_install_args(options))\n  File \"/home/ubuntu/ez_setup.py\", line 52, in _install\n    with archive_context(archive_filename):\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"/home/ubuntu/ez_setup.py\", line 103, in archive_context\n    with ContextualZipFile(filename) as archive:\n  File \"/home/ubuntu/ez_setup.py\", line 87, in __new__\n    return zipfile.ZipFile(*args, **kwargs)\n  File \"/usr/lib/python2.7/zipfile.py\", line 770, in __init__\n    self._RealGetContents()\n  File \"/usr/lib/python2.7/zipfile.py\", line 811, in _RealGetContents\n    raise BadZipfile, \"File is not a zip file\"\nzipfile.BadZipfile: File is not a zip file\n```\n\nwhen running `sudo python ez_setup.py --version 20.9.0`.\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/523", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/523/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/523/events", "html_url": "https://github.com/pypa/setuptools/issues/523", "id": 144361882, "node_id": "MDU6SXNzdWUxNDQzNjE4ODI=", "number": 523, "title": "20.5.0+ breaks existing setup.py files - UndefinedEnvironmentName", "user": {"login": "lnielsen", "id": 1698163, "node_id": "MDQ6VXNlcjE2OTgxNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1698163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnielsen", "html_url": "https://github.com/lnielsen", "followers_url": "https://api.github.com/users/lnielsen/followers", "following_url": "https://api.github.com/users/lnielsen/following{/other_user}", "gists_url": "https://api.github.com/users/lnielsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnielsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnielsen/subscriptions", "organizations_url": "https://api.github.com/users/lnielsen/orgs", "repos_url": "https://api.github.com/users/lnielsen/repos", "events_url": "https://api.github.com/users/lnielsen/events{/privacy}", "received_events_url": "https://api.github.com/users/lnielsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 50, "created_at": "2016-03-29T19:21:26Z", "updated_at": "2018-10-18T09:25:47Z", "closed_at": "2016-04-05T10:42:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest 20.6.4 PyPI is breaking our [setup.py](https://github.com/inveniosoftware/invenio-records-rest/blob/master/setup.py) files with the following exception:\n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 163, in <module>\n    cmdclass={'test': PyTest},\n  File \"/opt/python/2.7.9/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/opt/python/2.7.9/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/opt/python/2.7.9/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/setuptools/command/test.py\", line 152, in run\n    self.distribution.fetch_build_eggs(self.distribution.tests_require)\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 814, in resolve\n    if req.marker and not req.marker.evaluate():\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/pkg_resources/_vendor/packaging/markers.py\", line 273, in evaluate\n    return _evaluate_markers(self._markers, current_environment)\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/pkg_resources/_vendor/packaging/markers.py\", line 198, in _evaluate_markers\n    lhs_value = _get_env(environment, lhs.value)\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/pkg_resources/_vendor/packaging/markers.py\", line 180, in _get_env\n    \"{0!r} does not exist in evaluation environment.\".format(name)\npkg_resources._vendor.packaging.markers.UndefinedEnvironmentName: 'extra' does not exist in evaluation environment.\n```\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/523/reactions", "total_count": 5, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/521", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/521/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/521/events", "html_url": "https://github.com/pypa/setuptools/issues/521", "id": 144283588, "node_id": "MDU6SXNzdWUxNDQyODM1ODg=", "number": 521, "title": "Setuptools' sdist doesn't use data_files while distutils does", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-23T20:32:41Z", "updated_at": "2016-10-30T02:32:37Z", "closed_at": "2016-10-30T02:32:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nDistutils has this: https://github.com/python/cpython/blob/master/Lib/distutils/command/sdist.py#L270-L282\n\nHowever that code is not copies in the sdist provided by setuptools. \n\nThis can be problematic if you don't inlcude a file in MANIFEST.in but you have it in data_files - python's docs will most certainly mislead you as they say that sdist uses data_files: https://docs.python.org/3/distutils/sourcedist.html?highlight=data_files#specifying-the-files-to-distribute (last bullet)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/521\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/520", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/520/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/520/events", "html_url": "https://github.com/pypa/setuptools/issues/520", "id": 144283550, "node_id": "MDU6SXNzdWUxNDQyODM1NTA=", "number": 520, "title": "`fixup_namespace_packages` may trigger `ValueError` in setuptools 19.4 and newer", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-03-19T13:57:39Z", "updated_at": "2017-04-20T06:22:10Z", "closed_at": "2016-09-14T17:58:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **kehoste (Bitbucket: [kehoste](http://bitbucket.org/kehoste), GitHub: Unknown)**\n\n---\n\nWe are hitting a problem with setuptools 19.4 and newer, while things are working fine with setuptools 19.3 and earlier. The problem was introduced with the changes in Pull Request #167 .\n\nThe problem is that a call to `fixup_namespace_packages` is triggering a `ValueError`, due to the way in which we 'flatten' our easybuild.easyblocks namespace (see [here](https://github.com/hpcugent/easybuild-easyblocks/blob/58741107bae181faee9670c59b3c935ab42df51d/easybuild/easyblocks/__init__.py#L75)).\n\nMore details about the issue we're hitting are available [here](https://github.com/hpcugent/easybuild-framework/issues/1678).\n\nA test case is attached, the problem can be triggered with:\n\n```\nexport PYTHONPATH=/tmp/testcase/one:$PYTHONPATH\npython test.py\n```\n\nCorrect output (which we obtain with setuptools 19.3 and earlier) would be:\n\n```\natlas\nboost\nblacs\n```\n\nWith setuptools 19.4 and later we get:\n\n```\natlas\nTraceback (most recent call last):\n  File \"test.py\", line 9, in <module>\n    fixup_namespace_packages(os.path.join(testdir, 'two'))\n  File \"build/bdist.macosx-10.10-intel/egg/pkg_resources/__init__.py\", line 2237, in fixup_namespace_packages\n  File \"build/bdist.macosx-10.10-intel/egg/pkg_resources/__init__.py\", line 2235, in fixup_namespace_packages\n  File \"build/bdist.macosx-10.10-intel/egg/pkg_resources/__init__.py\", line 2194, in _handle_ns\n  File \"build/bdist.macosx-10.10-intel/egg/pkg_resources/__init__.py\", line 2192, in sort_key\nValueError: '/private/tmp/testcase/one/easybuild' is not in list\n```\n\nThe problem is that the way in which the parent location of the package is determined in the `sort_key` inner function is broken, basically because we 'rewrite' a package name like `easybuild.easyblocks.a.atlas` to `easybuild.easyblocks.atlas`.\nSo the 'depth' of the location at which the module is actually available (`easybuild/easyblocks/a/atlas.py`) doesn't match the depth of the package name it is imported with (`easybuild.easyblocks.atlas`).\n\nSince this works fine with setuptools 19.3 and earlier, I consider this a bug introduced in setuptools 19.4.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/520\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/519", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/519/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/519/events", "html_url": "https://github.com/pypa/setuptools/issues/519", "id": 144283536, "node_id": "MDU6SXNzdWUxNDQyODM1MzY=", "number": 519, "title": "ez_setup.use_setuptools() fails if it needs to download a newer setuptools", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-17T00:40:20Z", "updated_at": "2016-03-29T14:35:17Z", "closed_at": "2016-03-29T14:35:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agronholm (Bitbucket: [agronholm](http://bitbucket.org/agronholm), GitHub: [agronholm](http://github.com/agronholm))**\n\n---\n\nIn setup.py:\n\n```\n#!python\n\nimport ez_setup\nez_setup.use_setuptools('20.3')\n\n```\n\nThen, with setuptools 20.1.1 installed:\n\n```\n$ python setup.py\nTraceback (most recent call last):\n  File \"setup.py\", line 38, in <module>\n    ez_setup.use_setuptools('20.3')\n  File \"/home/alex/checkout/crossbar/ez_setup.py\", line 173, in use_setuptools\n    return _do_download(version, download_base, to_dir, download_delay)\n  File \"/home/alex/checkout/crossbar/ez_setup.py\", line 132, in _do_download\n    import setuptools\n  File \"build/bdist.linux-x86_64/egg/setuptools/__init__.py\", line 11, in <module>\n  File \"build/bdist.linux-x86_64/egg/setuptools/extern/__init__.py\", line 1, in <module>\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 48, in <module>\n  File \"/home/alex/virtualenv/crossbar/local/lib/python2.7/site-packages/pkg_resources/extern/__init__.py\", line 43, in load_module\n    mod = sys.modules[extant]\nAttributeError: 'NoneType' object has no attribute 'modules'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/519\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/518", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/518/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/518/events", "html_url": "https://github.com/pypa/setuptools/issues/518", "id": 144283524, "node_id": "MDU6SXNzdWUxNDQyODM1MjQ=", "number": 518, "title": "Regression parsing dist require with setuptools 0.23", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-16T19:00:19Z", "updated_at": "2016-03-29T14:35:15Z", "closed_at": "2016-03-29T14:35:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rodcloutier (Bitbucket: [rodcloutier](http://bitbucket.org/rodcloutier), GitHub: [rodcloutier](http://github.com/rodcloutier))**\n\n---\n\nHi,\n\nUsing the following test code, it seems that there is a regression when loading entry points. (Files are included in the attached archive)\n\n**setup.py**\n\n```\n#!python\n\nfrom setuptools import setup\n\nsetup(\n    name='setuptools_bug',\n    version='1.0',\n    py_modules=['setuptools_bug'],\n    extras_require={\n        ':python_version == \"2.7\"': ['futures==2.2']\n    },\n    entry_points={\n        'setuptools_bug.plugin': [\n            'date = setuptools_bug:Date'\n        ]\n    }\n)\n```\n\n**setuptools_bug.py**\n\n```\n#!python\n\nclass Date(object):\n    pass\n\nif __name__ == \"__main__\":\n    from pkg_resources import iter_entry_points\n    for ep in iter_entry_points('setuptools_bug.plugin'):\n        ep.load()\n```\n\nUsing the package\n\n```\n#!dos\n\n$ pip install -e .\n$ python setuptools_bug.py\nTraceback (most recent call last):\n  File \"setuptools_bug.py\", line 8, in <module>\n    ep.load()\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2202, in load\n    self.require(*args, **kwargs)\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2219, in require\n    items = working_set.resolve(reqs, env, installer)\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 839, in resolve\n    new_requirements = dist.requires(req.extras)[::-1]\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2464, in requires\n    dm = self._dep_map\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2688, in _dep_map\n    self.__dep_map = self._compute_dependencies()\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2700, in _compute_dependencies\n    reqs.extend(parse_requirements(req))\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2758, in parse_requirements\n    yield Requirement(line)\n  File \"F:\\venv\\tmp-4963481071bf6\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2768, in __init__\n    raise RequirementParseError(str(e))\npkg_resources.RequirementParseError: Invalid requirement, parse error at \"'and plat'\"\n```\n\nThe package futures 2.2 has these lines in its setup.cfg (see https://github.com/agronholm/pythonfutures/commit/1a5bd793e4aca15098a8437243f4054026d237de)\n\n```\n#!python\n\n[metadata]\n requires-dist =\n     multiprocessing; python_version == '2.5' and platform.python_implementation != 'Jython'\n\n```\n\nUsing futures version 3.x does not expose the problem, most likely because the requires-dist has been removed.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/518\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/518/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/516", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/516/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/516/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/516/events", "html_url": "https://github.com/pypa/setuptools/issues/516", "id": 144283465, "node_id": "MDU6SXNzdWUxNDQyODM0NjU=", "number": 516, "title": "Operation not permitted while trying hard linking", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-14T12:30:58Z", "updated_at": "2016-07-21T16:15:33Z", "closed_at": "2016-07-21T16:15:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sorin (Bitbucket: [sorin](http://bitbucket.org/sorin), GitHub: [sorin](http://github.com/sorin))**\n\n---\n\nIt seems that even current versions of setuptools to fail ugly when os.link cannot be performed, and this seems to be something more and more common, especially due to the virtualisation. \n\nHard links are not supported in many network mounts and virtual environments. In my case I am using Parallels to share my home directory which also contains the python modules which I am developing, allowing me to run the same code on OS X, Ubuntu and Windows.\n\nIt seems that doing `python setup.py sdist` fails with the (in)famous error:\n\n```\nhard linking README.txt -> foo-0.1\nerror: Operation not permitted\n```\n\nBased on the thread from http://www.itsprite.com/pythonpython-setup-py-sdist-error-operation-not-permitted/ I tried to add `del os.link` to my setup.py and it started to work.\n\nWhile this workaround seems ugly, it seems that's the only one that covers all failure cases.\n\nProblem reproduces with both 5.5.x and 20.x versions of setuptools.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/516\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/516/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/513", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/513/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/513/events", "html_url": "https://github.com/pypa/setuptools/issues/513", "id": 144283407, "node_id": "MDU6SXNzdWUxNDQyODM0MDc=", "number": 513, "title": "setup_requires fails with ValueError when namespace package installed by pip", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-07T18:25:02Z", "updated_at": "2016-09-14T17:58:06Z", "closed_at": "2016-09-14T17:58:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nI discovered this today. I have a project whose dependencies rely on `jaraco.apt` and `jaraco.timing`. In my environment, I have installed another project in the same namespace, `jaraco.clipboard` using pip. When running the tests for that project, which loads the `install_requires` and `test_requires` dependencies via `pytest-runner`, the loading of the dependencies fails with this traceback:\n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 50, in <module>\n    setuptools.setup(**setup_params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"/Users/jaraco/Dropbox/code/yg/gryphon.cases/.eggs/pytest_runner-2.6.2-py3.5.egg/ptr.py\", line 65, in run\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 827, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1072, in best_match\n    return self.obtain(req, installer)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1084, in obtain\n    return installer(requirement)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/dist.py\", line 380, in fetch_build_egg\n    return cmd.easy_install(req)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 640, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 670, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 853, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 1081, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 1067, in run_setup\n    run_setup(setup_script, args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 246, in run_setup\n    raise\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 195, in setup_context\n    yield\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 166, in save_modules\n    saved_exc.resume()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 141, in resume\n    six.reraise(type, exc, self._tb)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/_vendor/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 154, in save_modules\n    yield saved\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 195, in setup_context\n    yield\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 243, in run_setup\n    DirectorySandbox(setup_dir).run(runner)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 273, in run\n    return func()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 242, in runner\n    _execfile(setup_script, ns)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 46, in _execfile\n    exec(code, globals, locals)\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/easy_install-ponrpmyj/jaraco.apt-1.0/setup.py\", line 28, in <module>\n    'requests',\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/core.py\", line 108, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/dist.py\", line 269, in __init__\n    self.fetch_build_eggs(attrs['setup_requires'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 827, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1072, in best_match\n    return self.obtain(req, installer)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1084, in obtain\n    return installer(requirement)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/dist.py\", line 380, in fetch_build_egg\n    return cmd.easy_install(req)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 640, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 670, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 853, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 1081, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 1067, in run_setup\n    run_setup(setup_script, args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 233, in run_setup\n    with setup_context(setup_dir):\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/contextlib.py\", line 59, in __enter__\n    return next(self.gen)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 195, in setup_context\n    yield\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 166, in save_modules\n    saved_exc.resume()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 141, in resume\n    six.reraise(type, exc, self._tb)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/_vendor/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 154, in save_modules\n    yield saved\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/sandbox.py\", line 194, in setup_context\n    __import__('setuptools')\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/__init__.py\", line 11, in <module>\n    from setuptools.extern.six.moves import filterfalse, map\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/setuptools/extern/__init__.py\", line 1, in <module>\n    from pkg_resources.extern import VendorImporter\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2912, in <module>\n    @_call_aside\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2898, in _call_aside\n    f(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2937, in _initialize_master_working_set\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 956, in subscribe\n    callback(dist)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2937, in <lambda>\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2488, in activate\n    declare_namespace(pkg)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2070, in declare_namespace\n    _handle_ns(packageName, path_item)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2021, in _handle_ns\n    _rebuild_mod_path(path, packageName, module)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2039, in _rebuild_mod_path\n    orig_path.sort(key=position_in_sys_path)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2037, in position_in_sys_path\n    return sys_path.index(_normalize_cached(os.sep.join(parts)))\nValueError: '/private/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/easy_install-fqumduuk/jaraco.timing-1.2.2' is not in list\n```\n\nIn another run, it failed with a similar traceback, but complained about `jaraco.apt` not being in the list. Re-running the tests subsequently will succeed, so it seems the issue is affected by the sandbox installer but also by the order in which dependencies are added.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/513\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/512", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/512/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/512/events", "html_url": "https://github.com/pypa/setuptools/issues/512", "id": 144283381, "node_id": "MDU6SXNzdWUxNDQyODMzODE=", "number": 512, "title": "installing openstack components throws parsing errors with setuptools version 20.2.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-03T14:11:48Z", "updated_at": "2016-03-29T14:34:53Z", "closed_at": "2016-03-29T14:34:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pr8721 (Bitbucket: [pr8721](http://bitbucket.org/pr8721), GitHub: [pr8721](http://github.com/pr8721))**\n\n---\n\nopenstack components throws parsing errors with setuptools version 20.2.2.\n\nBelow is the log snashot captured during keystone installation (openstack component) -\n\n2016-03-03 15:15:29.944 | + local db=keystone\n\n2016-03-03 15:15:29.944 | + mysql -uroot -pdevstack -h127.0.0.1 -e 'DROP DATABASE IF EXISTS keystone;'\n\n2016-03-03 15:15:29.953 | + mysql -uroot -pdevstack -h127.0.0.1 -e 'CREATE DATABASE keystone CHARACTER SET utf8;'\n\n2016-03-03 15:15:29.961 | + /usr/local/bin/keystone-manage db_sync\n\n2016-03-03 15:15:30.399 | Traceback (most recent call last):\n\n2016-03-03 15:15:30.399 |   File \"/usr/local/bin/keystone-manage\", line 4, in <module>\n\n2016-03-03 15:15:30.399 |     **import**('pkg_resources').require('keystone==2015.1.4.dev3')\n\n2016-03-03 15:15:30.399 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2912, in <module>\n\n2016-03-03 15:15:30.399 |     @_call_aside\n\n2016-03-03 15:15:30.399 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2898, in _call_aside\n\n2016-03-03 15:15:30.399 |     f(_args, *_kwargs)\n\n2016-03-03 15:15:30.399 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2925, in _initialize_master_working_set\n\n2016-03-03 15:15:30.400 |     working_set = WorkingSet._build_master()\n\n2016-03-03 15:15:30.400 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 642, in _build_master\n\n2016-03-03 15:15:30.400 |     ws.require(**requires**)\n\n2016-03-03 15:15:30.400 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 943, in require\n\n2016-03-03 15:15:30.400 |     needed = self.resolve(parse_requirements(requirements))\n\n2016-03-03 15:15:30.400 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 838, in resolve\n\n2016-03-03 15:15:30.400 |     new_requirements = dist.requires(req.extras)[::-1]\n\n2016-03-03 15:15:30.400 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2462, in requires\n\n2016-03-03 15:15:30.401 |     dm = self._dep_map\n\n2016-03-03 15:15:30.401 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2686, in _dep_map\n\n2016-03-03 15:15:30.401 |     self.__dep_map = self._compute_dependencies()\n\n2016-03-03 15:15:30.401 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/**init**.py\", line 2696, in _compute_dependencies\n\n2016-03-03 15:15:30.401 |     current_req = packaging.requirements.Requirement(req)\n\n2016-03-03 15:15:30.401 |   File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/_vendor/packaging/requirements.py\", line 94, in __init__\n\n2016-03-03 15:15:30.401 |     requirement_string[e.loc:e.loc + 8]))\n\n2016-03-03 15:15:30.402 | pkg_resources._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'and plat'\"\n\n2016-03-03 15:15:30.411 | Error on exit\n\n2016-03-03 15:15:30.821 | + exit 1\n\nAbove issue was not seen when I downgrade setuptools to 20.1.1 version and installation completed successfully.\n\nThere is a parsing related issue with setuptools 20.2.2. \n\nPlease fix it. Thanks.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/512\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/509", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/509/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/509/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/509/events", "html_url": "https://github.com/pypa/setuptools/issues/509", "id": 144283282, "node_id": "MDU6SXNzdWUxNDQyODMyODI=", "number": 509, "title": "Invalid environment marker - trouble parsing expression", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-29T18:46:49Z", "updated_at": "2016-03-29T14:34:38Z", "closed_at": "2016-03-29T14:34:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jordmantheman (Bitbucket: [jordmantheman](http://bitbucket.org/jordmantheman), GitHub: [jordmantheman](http://github.com/jordmantheman))**\n\n---\n\nHi all -\nIt looks like [a bug](https://github.com/ipython/ipython/issues/9281) was reported on ipython that may actually be stemming from changes in setuptools.\n\nI've run some experiments, and the package installs with setuptools==20.1.1, but not 20.2.2.\nIt fails at line 207 of setup.py\n\n```\n#!python\nextras_require.update({\n    ':sys_platform != \"win32\"': ['pexpect'],\n    ':sys_platform == \"darwin\"': ['appnope'],\n    ':sys_platform == \"darwin\" and platform_python_implementation == \"CPython\"': ['gnureadline'],\n    'terminal:sys_platform == \"win32\"': ['pyreadline>=2'],\n    'test:python_version == \"2.7\"': ['mock'],\n})\n```\n\nSpecifically: \nProcessing ./ipython-4.1.1.tar.gz\n    Complete output from command python setup.py egg_info:\n    error in ipython setup command: Invalid environment marker: sys_platform == \"darwin\" and python_implementation == \"CPython\"\n\nI'm not sure what else you guys would need to debug and reproduce, but let me know if I can help.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/509\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/509/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/508", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/508/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/508/events", "html_url": "https://github.com/pypa/setuptools/issues/508", "id": 144283245, "node_id": "MDU6SXNzdWUxNDQyODMyNDU=", "number": 508, "title": "Problem with setuptools using zc.buildout", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-02-29T16:15:45Z", "updated_at": "2022-01-06T19:09:24Z", "closed_at": "2022-01-06T19:09:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tiagofrepereira (Bitbucket: [tiagofrepereira](http://bitbucket.org/tiagofrepereira), GitHub: [tiagofrepereira](http://github.com/tiagofrepereira))**\n\n---\n\nWhen I try to run the boostrap-buildout script I got the following error from  setuptools (with the setuptools at least one version behind the current)\n\n```\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-20.2.2.zip\nExtracting in /tmp/tmpCG9_5t\nNow working in /tmp/tmpCG9_5t/setuptools-20.2.2\nBuilding a Setuptools egg in /tmp/bootstrap-b6t61T\nwarning: no files found matching '*.py' under directory '_markerlib'\nwarning: no files found matching '*' under directory 'setuptools/_vendor'\n/tmp/bootstrap-b6t61T/setuptools-20.2.2-py2.7.egg\nTraceback (most recent call last):\n  File \"bootstrap-buildout.py\", line 117, in <module>\n    ez['use_setuptools'](**setup_args)\n  File \"<string>\", line 173, in use_setuptools\n  File \"<string>\", line 132, in _do_download\n  File \"build/bdist.linux-x86_64/egg/setuptools/__init__.py\", line 11, in <module>\n  File \"build/bdist.linux-x86_64/egg/setuptools/extern/__init__.py\", line 1, in <module>\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 48, in <module>\n  File \"/local/scratch/tpereira/virtual_envs/py27/local/lib/python2.7/site-packages/pkg_resources/extern/__init__.py\", line 43, in load_module\n    mod = sys.modules[extant]\nAttributeError: 'NoneType' object has no attribute 'modules'\n```\n\nFollow below the steps to reproduce the problem.\n\n```\nvirtualenv -p /usr/bin/python2.7 py27\n./bin/pip install --upgrade setuptools==20.0\nwget https://bootstrap.pypa.io/bootstrap-buildout.py\n/<VIRTUAL_ENV>/bin python bootstrap-buildout.py\n```\n\nIf you pin the setuptools with the same version that you have in your virtualenv (20.0 in our example), I have no error, but obviously this is not a clean solution.\n\nDebugging a bit I found that when the setuptools try to load the module `six` (pkg_resources.extern.six) the `sys` module is None for some reason.\nThe module is imported in the beginning of the script (https://bitbucket.org/pypa/setuptools/src/6a15a32d0dabd7408556fe39bc5d9027f24b552e/pkg_resources/extern/__init__.py?at=default&fileviewer=file-view-default).\n\nThanks for looking at it.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/508\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/508/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/507", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/507/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/507/events", "html_url": "https://github.com/pypa/setuptools/issues/507", "id": 144283205, "node_id": "MDU6SXNzdWUxNDQyODMyMDU=", "number": 507, "title": "Installing pip for python 2.7 overwrites pip3 script (Mac OSX)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-02-28T08:59:07Z", "updated_at": "2022-01-04T18:55:26Z", "closed_at": "2022-01-04T18:55:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **neildhar (Bitbucket: [neildhar](http://bitbucket.org/neildhar), GitHub: [neildhar](http://github.com/neildhar))**\n\n---\n\n![Screen Shot 2016-02-28 at 2.01.19 PM.png](https://bitbucket.org/repo/AXpAxn/images/108057640-Screen%20Shot%202016-02-28%20at%202.01.19%20PM.png)\n\nOn attempting to install pip for my python 2.7 (installed via homebrew), easy_install creates executables at /usr/local/bin/pip3 and /usr/local/bin/pip3.5 overwriting the pip3 script installed by my actual python 3 install. See screenshot for details. This is easily corrected by using homebrew to unlink and relink python 3 (brew link --overwrite python3).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/507\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/506", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/506/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/506/events", "html_url": "https://github.com/pypa/setuptools/issues/506", "id": 144283164, "node_id": "MDU6SXNzdWUxNDQyODMxNjQ=", "number": 506, "title": "Errors while building documentation", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-02-28T00:44:02Z", "updated_at": "2016-03-29T14:34:20Z", "closed_at": "2016-03-29T14:34:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **peterph (Bitbucket: [peterph](http://bitbucket.org/peterph), GitHub: [peterph](http://github.com/peterph))**\n\n---\n\nI'm trying to build documentation in the `docs/` subdirectory of 20.2.2 and\n\n1) `docs/conf.py` references `CHANGES.txt` instead of something else (maybe `../CHANGES.txt`) - for me this is fixed by pull request [#178](https://bitbucket.org/pypa/setuptools/pull-requests/178).\n\n2) after performing the above replacement, for some reason Sphinx ends up looping over versions from 20.2.2 down to 0.6, trying to run `git log -1 --format=%ai <version>` which (obviously) fails with:\n\n```\n...\nfatal: Not a git repository (or any parent up to mount point ...)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\n...\n```\n\nThis may well be a Sphinx bug, but I can't really tell.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/506\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/505", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/505/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/505/events", "html_url": "https://github.com/pypa/setuptools/issues/505", "id": 144283147, "node_id": "MDU6SXNzdWUxNDQyODMxNDc=", "number": 505, "title": "Makefile is not portable", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-27T13:42:43Z", "updated_at": "2016-03-29T14:34:17Z", "closed_at": "2016-03-29T14:34:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nThe makefile, which is used for updating vendored packages, is not portable. Not only doesn't it work on Windows, where `rm -rf` will likely not work, but it also uses `sed -i`, which has different usage OS X than Linux.\n\nIt should be possible to updated vendored packages on any supported platform, so let's identify a better solution.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/505\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/503", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/503/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/503/events", "html_url": "https://github.com/pypa/setuptools/issues/503", "id": 144283092, "node_id": "MDU6SXNzdWUxNDQyODMwOTI=", "number": 503, "title": "pkg_resources._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'and plat'\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-02-25T10:40:07Z", "updated_at": "2016-03-30T13:38:36Z", "closed_at": "2016-03-30T13:38:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\n../ve/bin/python setup.py --quiet develop\nTraceback (most recent call last):\n  File \"setup.py\", line 92, in <module>\n    setup(**config)\n  File \"/usr/lib64/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/develop.py\", line 34, in run\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/develop.py\", line 133, in install_for_development\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 720, in process_distribution\n\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/**init**.py\", line 838, in resolve\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/**init**.py\", line 2462, in requires\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/**init**.py\", line 2686, in _dep_map\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2696, in _compute_dependencies\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/_vendor/packaging/requirements.py\", line 94, in __init__\npkg_resources._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'and plat'\"\n\nVersion 20.1 works fine, 20.2 breaks.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/503\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/502", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/502/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/502/events", "html_url": "https://github.com/pypa/setuptools/issues/502", "id": 144283021, "node_id": "MDU6SXNzdWUxNDQyODMwMjE=", "number": 502, "title": "packaging 16.4 does not allow whitepace between requirement version conditions", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2016-02-25T09:07:57Z", "updated_at": "2016-03-29T14:34:03Z", "closed_at": "2016-03-29T14:33:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **drcraig72 (Bitbucket: [drcraig72](http://bitbucket.org/drcraig72), GitHub: Unknown)**\n\n---\n\nFound in the release of setuptools 20.2.1, which vendors in packaging 16.4. It appears that packaging.requirements.Requirement does not comply with PEP-440's \"Whitespace between a conditional operator and the following version identifier is optional, as is the whitespace around the commas.\", per https://www.python.org/dev/peps/pep-0440/#version-specifiers. Instead, it fails when there is whitespace.\n\n```\n>>> from pkg_resources.extern.packaging.requirements import Requirement\n>>> Requirement('Jinja2 >=2.7, <3')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/tmp/v/local/lib/python2.7/site-packages/pkg_resources/_vendor/packaging/requirements.py\", line 94, in __init__\n    requirement_string[e.loc:e.loc + 8]))\npkg_resources._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'<3'\"\n```\n\nBut it succeeds when the whitespace is removed\n\n```\n>>> Requirement('Jinja2 >=2.7,<3')\n<Requirement('Jinja2<3,>=2.7')>\n```\n\nOpened the same ticket on packaging at https://github.com/pypa/packaging/issues/65\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/502\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/501", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/501/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/501/events", "html_url": "https://github.com/pypa/setuptools/issues/501", "id": 144282995, "node_id": "MDU6SXNzdWUxNDQyODI5OTU=", "number": 501, "title": "Error installing zope.app.publication with setuptools 20.2.1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-02-25T04:31:47Z", "updated_at": "2016-03-29T14:33:55Z", "closed_at": "2016-03-29T14:33:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **papachoco (Bitbucket: [papachoco](http://bitbucket.org/papachoco), GitHub: [papachoco](http://github.com/papachoco))**\n\n---\n\nI am getting the following error trying to install zope.app.publication\n\nGetting distribution for 'zope.app.publication==4.0.0a1.dev0'.\nerror: Setup script exited with error in zope.app.publication setup command: 'extras_require' must be a dictionary whose values are strings or lists of strings containing valid project/version requirement specifiers.\nAn error occurred when trying to install zope.app.publication 4.0.0a1.dev0. Look above this message for any errors that were output by easy_install.\n\nIt seems it has a problem trying to resolve the requirement \n\n 'zope.app.wsgi[testbrowser] <3.11, >= 3.12',\n\nThe egg installed correctly with 20.1.1\n\nI am attaching the setup.py from  zope.app.publication \n\nThanks \n\nCarlos\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/501\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/499", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/499/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/499/events", "html_url": "https://github.com/pypa/setuptools/issues/499", "id": 144282943, "node_id": "MDU6SXNzdWUxNDQyODI5NDM=", "number": 499, "title": "version 20.2 doesn't like non numeric requirements", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-02-19T17:22:42Z", "updated_at": "2016-03-29T14:33:47Z", "closed_at": "2016-03-29T14:33:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mathiasbc (Bitbucket: [mathiasbc](http://bitbucket.org/mathiasbc), GitHub: [mathiasbc](http://github.com/mathiasbc))**\n\n---\n\nLatest version 20.2 fails when trying to install requirements in the form:\n'mypackage==0.1.2.xy1'\n\n$ python setup.py egg_info\nerror in mypackage setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Invalid requirement, parse error at \"'.xy1'\"\n\nI was able to confirm that setuptools 20.1 does not present this issue.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/499\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/492", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/492/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/492/events", "html_url": "https://github.com/pypa/setuptools/issues/492", "id": 144282792, "node_id": "MDU6SXNzdWUxNDQyODI3OTI=", "number": 492, "title": "a few absolute paths registered in RECORD", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-01T22:33:53Z", "updated_at": "2016-03-29T14:33:24Z", "closed_at": "2016-03-29T14:33:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **stonebig (Bitbucket: [stonebig](http://bitbucket.org/stonebig), GitHub: [stonebig](http://github.com/stonebig))**\n\n---\n\nhi,\n\nI'm not sure how to formulate this, I hope I'm clear enough:\n- some path are not registered in relative on \"setuptools-19.6.2.dist-info\\RECORD\" (for example), creating some indirect side-effects when pip tries to upgrade a package\n- see https://github.com/pypa/pip/issues/3433#issuecomment-178144549 as an example, where the 2 windows launchers are registered in absolute path\n\nWould it be possible that setuptools write in relative all path in RECORD ? (at list when it's not a virtualenv installation)\n\nnota:\n- this problem has a side-effect on pip itself, which is the real issue\n- I'm not expert in pip/wheel/setuptools functionality distinction, maybe the issue is for pip ?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/492\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/491", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/491/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/491/events", "html_url": "https://github.com/pypa/setuptools/issues/491", "id": 144282760, "node_id": "MDU6SXNzdWUxNDQyODI3NjA=", "number": 491, "title": "setuptools >=19.4 breaks pip install builds for two-level namespace packages", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-01-25T12:18:00Z", "updated_at": "2016-03-29T14:33:22Z", "closed_at": "2016-03-29T14:33:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **darren_birkett (Bitbucket: [darren_birkett](http://bitbucket.org/darren_birkett), GitHub: Unknown)**\n\n---\n\nRunning a pip install on a local directory is now breaking with setuptools >=19.4\n\n```\n# pip install plugins/holland.backup.random/\nProcessing ./plugins/holland.backup.random\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 3, in <module>\n      File \"/usr/local/lib/python2.7/dist-packages/setuptools/__init__.py\", line 11, in <module>\n        from setuptools.extern.six.moves import filterfalse, map\n      File \"/usr/local/lib/python2.7/dist-packages/setuptools/extern/__init__.py\", line 1, in <module>\n        from pkg_resources.extern import VendorImporter\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 3130, in <module>\n        @_call_aside\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 3116, in _call_aside\n        f(*args, **kwargs)\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 3155, in _initialize_master_working_set\n        add_activation_listener(lambda dist: dist.activate())\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 956, in subscribe\n        callback(dist)\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 3155, in <lambda>\n        add_activation_listener(lambda dist: dist.activate())\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2655, in activate\n        declare_namespace(pkg)\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2225, in declare_namespace\n        _handle_ns(packageName, path_item)\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2194, in _handle_ns\n        path.sort(key=sort_key)\n      File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2192, in sort_key\n        return sys_path.index(_normalize_cached(os.sep.join(parts)))\n    ValueError: '/tmp/pip-l8H5uM-build' is not in list\n```\n\ndowngrading setuptools to 19.3 fixes the issue:\n\n```\n# pip install setuptools==19.3\nCollecting setuptools==19.3\n/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:90: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n  Using cached setuptools-19.3-py2.py3-none-any.whl\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 19.4\n    Uninstalling setuptools-19.4:\n      Successfully uninstalled setuptools-19.4\nSuccessfully installed setuptools-19.3\n\n# pip install plugins/holland.backup.random/\nProcessing ./plugins/holland.backup.random\nInstalling collected packages: holland.backup.random\n  Running setup.py install for holland.backup.random\nSuccessfully installed holland.backup.random-1.0.10\n\n```\n\nWe traced it back to this commit that was included in the 19.4 release:\n\nhttps://bitbucket.org/pypa/setuptools/commits/1d2431a479f1737b95a96e62446a7b726d1d603e\n\nI don't know enough about this to know if this is an actual problem with setuptools (pkg_resources) or the way the package I'm trying to install is put together (https://github.com/holland-backup/holland)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/491\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/489", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/489/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/489/events", "html_url": "https://github.com/pypa/setuptools/issues/489", "id": 144282716, "node_id": "MDU6SXNzdWUxNDQyODI3MTY=", "number": 489, "title": "Indentation mixes tabs and spaces", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-25T01:11:53Z", "updated_at": "2016-05-02T14:24:52Z", "closed_at": "2016-05-02T14:19:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jayvdb (Bitbucket: [jayvdb](http://bitbucket.org/jayvdb), GitHub: [jayvdb](http://github.com/jayvdb))**\n\n---\n\nMost files in this repo use spaces for indentation, however there are a few files which use only tabs, and a few that contain both tabs and spaces for indentation, which causes error to be raised by linting tools.\n\nThis is particularly problematic for `ez_setup.py`, as it is often copied into other projects.  That means other projects need to either (1) remove the tabs and not have a strictly identical file as upstream, (2) ignore the file from each linting tool, or (3) use an older version of `ez_setup.py` which doesnt have tabs.\n\n```\n$ pep8 . --select=W191\n./ez_setup.py:389:5: W191 indentation contains tabs\n./ez_setup.py:390:5: W191 indentation contains tabs\n./ez_setup.py:391:5: W191 indentation contains tabs\n./ez_setup.py:399:1: W191 indentation contains tabs\n./ez_setup.py:400:1: W191 indentation contains tabs\n./ez_setup.py:401:1: W191 indentation contains tabs\n./ez_setup.py:402:1: W191 indentation contains tabs\n./ez_setup.py:403:1: W191 indentation contains tabs\n./ez_setup.py:404:1: W191 indentation contains tabs\n./ez_setup.py:405:1: W191 indentation contains tabs\n./setuptools/launch.py:15:1: W191 indentation contains tabs\n./setuptools/launch.py:16:1: W191 indentation contains tabs\n./setuptools/launch.py:17:1: W191 indentation contains tabs\n./setuptools/launch.py:18:1: W191 indentation contains tabs\n./setuptools/launch.py:19:1: W191 indentation contains tabs\n./setuptools/launch.py:21:1: W191 indentation contains tabs\n./setuptools/launch.py:22:1: W191 indentation contains tabs\n./setuptools/launch.py:23:1: W191 indentation contains tabs\n./setuptools/launch.py:24:1: W191 indentation contains tabs\n./setuptools/launch.py:28:1: W191 indentation contains tabs\n./setuptools/py26compat.py:8:1: W191 indentation contains tabs\n./setuptools/py26compat.py:10:1: W191 indentation contains tabs\n./setuptools/py26compat.py:14:1: W191 indentation contains tabs\n./setuptools/py26compat.py:15:1: W191 indentation contains tabs\n./setuptools/py26compat.py:16:1: W191 indentation contains tabs\n./setuptools/py26compat.py:17:1: W191 indentation contains tabs\n./setuptools/py26compat.py:18:1: W191 indentation contains tabs\n./setuptools/py26compat.py:19:1: W191 indentation contains tabs\n./setuptools/py26compat.py:22:1: W191 indentation contains tabs\n./setuptools/py27compat.py:9:1: W191 indentation contains tabs\n./setuptools/py27compat.py:10:1: W191 indentation contains tabs\n./setuptools/py27compat.py:11:1: W191 indentation contains tabs\n./setuptools/py27compat.py:14:1: W191 indentation contains tabs\n./setuptools/py27compat.py:15:1: W191 indentation contains tabs\n./setuptools/tests/py26compat.py:7:1: W191 indentation contains tabs\n./setuptools/tests/py26compat.py:8:1: W191 indentation contains tabs\n./setuptools/tests/py26compat.py:9:1: W191 indentation contains tabs\n./docs/conf.py:203:1: W191 indentation contains tabs\n./docs/conf.py:204:1: W191 indentation contains tabs\n./docs/conf.py:205:1: W191 indentation contains tabs\n./docs/conf.py:206:1: W191 indentation contains tabs\n./docs/conf.py:207:1: W191 indentation contains tabs\n./docs/conf.py:208:1: W191 indentation contains tabs\n./docs/conf.py:209:1: W191 indentation contains tabs\n./docs/conf.py:210:1: W191 indentation contains tabs\n./docs/conf.py:211:1: W191 indentation contains tabs\n./docs/conf.py:212:1: W191 indentation contains tabs\n./docs/conf.py:213:1: W191 indentation contains tabs\n./docs/conf.py:214:1: W191 indentation contains tabs\n./docs/conf.py:215:1: W191 indentation contains tabs\n./docs/conf.py:216:1: W191 indentation contains tabs\n./docs/conf.py:217:1: W191 indentation contains tabs\n./docs/conf.py:218:1: W191 indentation contains tabs\n./docs/conf.py:219:1: W191 indentation contains tabs\n./docs/conf.py:220:1: W191 indentation contains tabs\n./docs/conf.py:221:1: W191 indentation contains tabs\n./docs/conf.py:222:1: W191 indentation contains tabs\n./docs/conf.py:223:1: W191 indentation contains tabs\n./docs/conf.py:224:1: W191 indentation contains tabs\n./docs/conf.py:225:1: W191 indentation contains tabs\n./docs/conf.py:226:1: W191 indentation contains tabs\n./docs/conf.py:227:1: W191 indentation contains tabs\n./docs/conf.py:228:1: W191 indentation contains tabs\n./docs/conf.py:229:1: W191 indentation contains tabs\n./docs/conf.py:230:1: W191 indentation contains tabs\n./docs/conf.py:231:1: W191 indentation contains tabs\n./docs/conf.py:232:1: W191 indentation contains tabs\n./docs/conf.py:233:1: W191 indentation contains tabs\n./docs/conf.py:234:1: W191 indentation contains tabs\n./docs/conf.py:235:1: W191 indentation contains tabs\n./docs/conf.py:236:1: W191 indentation contains tabs\n./docs/conf.py:237:1: W191 indentation contains tabs\n./docs/conf.py:238:1: W191 indentation contains tabs\n./docs/conf.py:239:1: W191 indentation contains tabs\n./docs/conf.py:240:1: W191 indentation contains tabs\n./docs/conf.py:241:1: W191 indentation contains tabs\n./docs/conf.py:242:1: W191 indentation contains tabs\n./docs/conf.py:243:1: W191 indentation contains tabs\n./docs/conf.py:244:1: W191 indentation contains tabs\n./docs/conf.py:245:1: W191 indentation contains tabs\n./docs/conf.py:246:1: W191 indentation contains tabs\n./docs/conf.py:247:1: W191 indentation contains tabs\n./docs/conf.py:248:1: W191 indentation contains tabs\n./docs/conf.py:249:1: W191 indentation contains tabs\n./docs/conf.py:250:1: W191 indentation contains tabs\n./docs/conf.py:251:1: W191 indentation contains tabs\n./docs/conf.py:252:1: W191 indentation contains tabs\n./docs/conf.py:253:1: W191 indentation contains tabs\n./docs/conf.py:254:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:2:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:4:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:10:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:13:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:14:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:15:1: W191 indentation contains tabs\n./pkg_resources/tests/test_markers.py:16:1: W191 indentation contains tabs\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/489\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/488", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/488/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/488/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/488/events", "html_url": "https://github.com/pypa/setuptools/issues/488", "id": 144282690, "node_id": "MDU6SXNzdWUxNDQyODI2OTA=", "number": 488, "title": "Extension instance gets multiple manifestations when cython is present", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-01-24T16:36:12Z", "updated_at": "2016-03-29T14:33:11Z", "closed_at": "2016-03-29T14:33:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [this comment](https://bitbucket.org/pypa/setuptools/issues/309/error-each-element-of-ext_modules-option#comment-24518997), @johnyf details an issue where the presence of Cython in the Python environment triggers a failure due to multiple manifestations of distutils.Extension or setuptools.Extension.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/488\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/488/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/487", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/487/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/487/events", "html_url": "https://github.com/pypa/setuptools/issues/487", "id": 144282669, "node_id": "MDU6SXNzdWUxNDQyODI2Njk=", "number": 487, "title": "special casing importlib.machinery breaks PyPy", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-22T21:54:57Z", "updated_at": "2016-03-29T14:33:05Z", "closed_at": "2016-03-29T14:33:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **s3anj (Bitbucket: [s3anj](http://bitbucket.org/s3anj), GitHub: Unknown)**\n\n---\n\nIn pkg_resources/**init**.py  the import of importlib only succeeds on cpython breaking pip on PyPy.\n\n```\n# Avoid try/except due to potential problems with delayed import mechanisms.\nif sys.version_info >= (3, 3) and sys.implementation.name == \"cpython\":\n    import importlib.machinery as importlib_machinery\nelse:\n    importlib_machinery = None\n```\n\nPyPy3 has a working `importlib.machinery` package\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/487\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/486", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/486/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/486/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/486/events", "html_url": "https://github.com/pypa/setuptools/issues/486", "id": 144282657, "node_id": "MDU6SXNzdWUxNDQyODI2NTc=", "number": 486, "title": "Unhandled exception in unicode_utils", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-21T09:37:37Z", "updated_at": "2016-03-29T14:33:02Z", "closed_at": "2016-03-29T14:33:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **bra (Bitbucket: [bra](http://bitbucket.org/bra), GitHub: [bra](http://github.com/bra))**\n\n---\n\nHi,\n\nAccording to the python docs, sys.getfilesystemencoding() can return None.\nBut the code here:\nhttps://bitbucket.org/pypa/setuptools/src/cf547c694dc5a4f51623e4c5f944322ef9093e16/setuptools/unicode_utils.py?at=default&fileviewer=file-view-default#unicode_utils.py-31\ngets TypeError instead of UnicodeDecodeError if None is supplied:\n\n```\nPython 2.7.11 (default, Dec 20 2015, 01:15:21) \n[GCC 4.2.1 Compatible FreeBSD Clang 3.4.1 (tags/RELEASE_34/dot1-final 208032)] on freebsd10\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> 'test'.decode(None)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: decode() argument 1 must be string, not None\n```\n\nWhich doesn't handled, so the code fails on it when sys.getfilesystemencoding() is None.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/486\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/486/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/485", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/485/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/485/events", "html_url": "https://github.com/pypa/setuptools/issues/485", "id": 144282635, "node_id": "MDU6SXNzdWUxNDQyODI2MzU=", "number": 485, "title": "differences setuptools 19.3 and 19.4 loading develop pkgs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-01-17T19:25:19Z", "updated_at": "2016-03-29T14:32:58Z", "closed_at": "2016-03-29T14:32:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **papachoco (Bitbucket: [papachoco](http://bitbucket.org/papachoco), GitHub: [papachoco](http://github.com/papachoco))**\n\n---\n\nI have pyramid / zope  application that uses buildout tand in one of my zcml configuration I include a [developing] package (e.g. <include package=\"nti.app.pyramid_zope\" />). In 19.3 the package loads correctly. However, in 19.4 the package fails to resolve even though the source of the package has been set sys.path (python executable script that buildout creates)\n\nsys.path[0:0] = [\n ...\n  '/Users/csanchez/buildout/sources/nti.app.pyramid_zope/src',\n ...\n\nNot sure if anyone has see this issue before\n\nThanks a lot\n\nCarlos\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/485\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/483", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/483/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/483/events", "html_url": "https://github.com/pypa/setuptools/issues/483", "id": 144282582, "node_id": "MDU6SXNzdWUxNDQyODI1ODI=", "number": 483, "title": "error: can't copy '<dirname>': doesn't exist or not a regular file", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-01-16T07:10:20Z", "updated_at": "2017-08-11T03:23:50Z", "closed_at": "2016-11-07T21:08:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **stoneleaf (Bitbucket: [stoneleaf](http://bitbucket.org/stoneleaf), GitHub: [stoneleaf](http://github.com/stoneleaf))**\n\n---\n\nThis appears to be a regression of the problem discussed and fixed in http://bugs.python.org/issue19286.\n\nThis is possibly the same bug as Issue452 and Issue341.\n\nMy directory structure:\n\n```\n./\n`-- xaml/\n   |-- CHANGES\n   |-- LICENSE\n   |-- __init__.py\n   |-- __main__.py\n   |-- test.py\n   |-- doc/\n   |  `-- examples.txt\n   `-- vim/\n      |-- synmenu.vim\n      |-- colors/\n      |  `-- desertleaf.vim\n      |-- ftplugin/\n      |  `-- xaml.vim\n      |-- indent/\n      |  `-- xaml.vim\n      `-- syntax/\n         `-- xaml.vim\n```\n\nMy setup.py (relevent section):\n\n```\npackage_data={\n    'xaml': [\n        'CHANGES', 'LICENSE',\n        'doc/*',\n        'vim/*', 'vim/colors/*', 'vim/syntax/*',\n        'vim/indent/*', 'vim/ftplugin/*',\n        ],\n    },\n```\n\nWhen I change the `'vim/*'` to `'vim/*.vim'` the problem goes away.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/483\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/483/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/480", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/480/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/480/events", "html_url": "https://github.com/pypa/setuptools/issues/480", "id": 144282549, "node_id": "MDU6SXNzdWUxNDQyODI1NDk=", "number": 480, "title": "command.develop doesn't call build_scripts", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-09T21:25:26Z", "updated_at": "2016-03-29T14:32:37Z", "closed_at": "2016-03-29T14:32:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **techtonik (Bitbucket: [techtonik](http://bitbucket.org/techtonik), GitHub: [techtonik](http://github.com/techtonik))**\n\n---\n\nIn Roundup we use build_scripts for generating scripts, and `pip install -e .` fails, because it tries to install scripts that are not build yet.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/480\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/480/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/478", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/478/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/478/events", "html_url": "https://github.com/pypa/setuptools/issues/478", "id": 144282502, "node_id": "MDU6SXNzdWUxNDQyODI1MDI=", "number": 478, "title": "'install --record' outputs the directory into the list of installed files", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-12-25T18:18:01Z", "updated_at": "2016-03-29T14:32:30Z", "closed_at": "2016-03-29T14:32:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **yurivict (Bitbucket: [yurivict](http://bitbucket.org/yurivict), GitHub: [yurivict](http://github.com/yurivict))**\n\n---\n\nsetuputils outputs one directory into the list of files on this project: https://pypi.python.org/pypi/mayavi :\n\n```\n/usr/local/lib/python2.7/site-packages/tvtk/pyface/images/\n/usr/local/lib/python2.7/site-packages/tvtk/pyface/images/16x16/configure.png\n/usr/local/lib/python2.7/site-packages/tvtk/pyface/images/16x16/fullscreen.png\n...\n```\n\n/usr/local/lib/python2.7/site-packages/tvtk/pyface/images/ is the only directory in the list, and it breaks our scripts processing the list and expecting only files there.\n\nSpotted on FreeBSD-10.2 with setuptools-19.2\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/478\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/477", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/477/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/477/events", "html_url": "https://github.com/pypa/setuptools/issues/477", "id": 144282493, "node_id": "MDU6SXNzdWUxNDQyODI0OTM=", "number": 477, "title": "Recent changes broke ez_setup.py on Windows", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-12-16T17:10:32Z", "updated_at": "2016-03-29T14:32:28Z", "closed_at": "2016-03-29T14:32:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **niik (Bitbucket: [niik](http://bitbucket.org/niik), GitHub: [niik](http://github.com/niik))**\n\n---\n\nThis [diff](https://bitbucket.org/pypa/setuptools/diff/ez_setup.py?diff1=fbf06fa35f93&diff2=1adbb939968eee8091210f9270275c7cbe23fa52&at=default) or commits [16007a2acbc5662238695f42d3d2ec1db09f0208](https://bitbucket.org/pypa/setuptools/commits/16007a2acbc5662238695f42d3d2ec1db09f0208?at=default) and [1e3d99eb4258dc5e7eb506509221c9d350acb9c3](https://bitbucket.org/pypa/setuptools/commits/1e3d99eb4258dc5e7eb506509221c9d350acb9c3?at=default) broke downloading the setup zip on WIndows systems with powershell.\n\nThe return value from `_resolve_version` ends up being a unicode string which in turn makes the string interpolation in [download_file_powershell](https://bitbucket.org/pypa/setuptools/src/1adbb939968eee8091210f9270275c7cbe23fa52/ez_setup.py?at=default&fileviewer=file-view-default#ez_setup.py-225:230) produce a string similar to `(new-object System.Net.WebClient).DownloadFile(u'https://pypi.python.org/packages/source/s/setuptools/setuptools-19.1.zip', u'setuptools-19.1.zip')` which obviously powershell doesn't like:\n\n```\nAt line:1 char:48\n+ (new-object System.Net.WebClient).DownloadFile(u'https://pypi.python.org/package ...\n+                                                ~\nMissing ')' in method call.\nAt line:1 char:48\n+ (new-object System.Net.WebClient).DownloadFile(u'https://pypi.python.org/package ...\n+                                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nUnexpected token 'u'https://pypi.python.org/packages/source/s/setuptools/setuptools-19.1.zip'' in expression or stateme\nnt.\nAt line:1 char:123\n+ ... tools-19.1.zip', u'e:\\tmp\\setuptools-19.1.zip')\n+                    ~\nMissing argument in parameter list.\nAt line:1 char:154\n+ ... tools-19.1.zip')\n+                    ~\nUnexpected token ')' in expression or statement.\n    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException\n    + FullyQualifiedErrorId : MissingEndParenthesisInMethodCall\n```\n\nThe quick and dirty fix is to change the return line in `_resolve_version` to `return doc['info']['version'].encode('ascii')` but I'm guessing switching to the something like `str.format` which does implicit conversion is preferable. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/477\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/477/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/476", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/476/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/476/events", "html_url": "https://github.com/pypa/setuptools/issues/476", "id": 144282473, "node_id": "MDU6SXNzdWUxNDQyODI0NzM=", "number": 476, "title": "Unicode in DEFAULT_VERSION causes TypeErrors on Python 2.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2015-12-16T14:40:10Z", "updated_at": "2016-03-29T14:32:24Z", "closed_at": "2016-03-29T14:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agurney (Bitbucket: [agurney](http://bitbucket.org/agurney), GitHub: [agurney](http://github.com/agurney))**\n\n---\n\nHere's the stack trace I get when running buildout with setuptools 19.1\n\n```\nWhile:\n  Installing.\n\nAn internal error occurred due to a bug in either zc.buildout or in a\nrecipe being used:\nTraceback (most recent call last):\n  File \"/home/afayolle/.eggs-cache/zc.buildout-2.5.0-py2.7.egg/zc/buildout/buildout.py\", line 1992, in main\n    getattr(buildout, command)(args)\n  File \"/home/afayolle/.eggs-cache/zc.buildout-2.5.0-py2.7.egg/zc/buildout/buildout.py\", line 565, in install\n    self._compute_part_signatures(install_parts)\n  File \"/home/afayolle/.eggs-cache/zc.buildout-2.5.0-py2.7.egg/zc/buildout/buildout.py\", line 811, in _compute_part_signatures\n    options['__buildout_signature__'] = ' '.join(sig)\n  File \"/home/afayolle/.eggs-cache/zc.buildout-2.5.0-py2.7.egg/zc/buildout/buildout.py\", line 1370, in __setitem__\n    raise TypeError('Option values must be strings', value)\nTypeError: ('Option values must be strings', u'zc.recipe.egg-2.0.1-py2.7.egg setuptools-19.1-py2.7.egg zc.buildout-2.4.7-py2.7.egg')\n```\n\nUsing 19.0 works fine. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/476\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/475", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/475/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/475/events", "html_url": "https://github.com/pypa/setuptools/issues/475", "id": 144282457, "node_id": "MDU6SXNzdWUxNDQyODI0NTc=", "number": 475, "title": "Typo in metadata translation blocks jython installation", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-16T11:01:37Z", "updated_at": "2016-03-29T14:32:19Z", "closed_at": "2016-03-29T14:32:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **lsenta (Bitbucket: [lsenta](http://bitbucket.org/lsenta), GitHub: [lsenta](http://github.com/lsenta))**\n\n---\n\nWhen I try to intall setuptool by hand using jython I get the following exception:\n\n```\n#!python\nvagrant@myproject:/opt/myproject/setuptools-19.0$ /opt/myproject/bin/jythonhs-test setup.py\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/lib/zookeeper/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/vagrant/hbase-libs/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nTraceback (most recent call last):\n  File \"setup.py\", line 169, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/vagrant/server/target/dependency/jython-standalone-2.7.0.jar/Lib/distutils/core.py\", line 112, in setup\n  File \"/vagrant/server/target/dependency/jython-standalone-2.7.0.jar/Lib/distutils/core.py\", line 112, in setup\n  File \"/vagrant/setuptools-19.0/setuptools/dist.py\", line 271, in __init__\n    _Distribution.__init__(self,attrs)\n  File \"/vagrant/server/target/dependency/jython-standalone-2.7.0.jar/Lib/distutils/dist.py\", line 287, in __init__\n  File \"/vagrant/setuptools-19.0/setuptools/dist.py\", line 325, in finalize_options\n    ep.require(installer=self.fetch_build_egg)\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 2396, in require\n    reqs = self.dist.requires(self.extras)\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 2642, in requires\n    dm = self._dep_map\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 2631, in _dep_map\n    if invalid_marker(marker):\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 1427, in is_invalid_marker\n    cls.evaluate_marker(text)\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 1427, in is_invalid_marker\n    cls.evaluate_marker(text)\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 1553, in _markerlib_evaluate\n    env = cls._translate_metadata2(_markerlib.default_environment())\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 1540, in _translate_metadata2\n    (key.replace('.', '_'), value)\n  File \"/vagrant/setuptools-19.0/pkg_resources/__init__.py\", line 1541, in <genexpr>\n    for key, value in env\nValueError: too many values to unpack\n```\n\nI fixed the issue by replacing `env` with `env.items()` at:\n[pkg_resources/**init**.py@1540](https://bitbucket.org/pypa/setuptools/src/a6326d7ed46fe3272c4df69cb2c5408199a4be9e/pkg_resources/__init__.py?at=default&fileviewer=file-view-default#__init__.py-1540)\n\nI couldn't find other code paths that may call this function with a different input (list of tuples), so this looks like a typo.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/475\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/472", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/472/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/472/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/472/events", "html_url": "https://github.com/pypa/setuptools/issues/472", "id": 144282419, "node_id": "MDU6SXNzdWUxNDQyODI0MTk=", "number": 472, "title": "DeprecationWarning: 'U' mode is deprecated", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-09T01:08:13Z", "updated_at": "2016-03-29T14:32:11Z", "closed_at": "2016-03-29T14:32:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **yitezhan (Bitbucket: [yitezhan](http://bitbucket.org/yitezhan), GitHub: Unknown)**\n\n---\n\n``` python\nFile \"/usr/lib/python3.4/vendor-packages/pkg_resources/__init__.py\", line 2024, in get_metadata\n    with io.open(self.path, 'rU', encoding='utf-8') as f:\nDeprecationWarning: 'U' mode is deprecated\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/472\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/471", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/471/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/471/events", "html_url": "https://github.com/pypa/setuptools/issues/471", "id": 144282382, "node_id": "MDU6SXNzdWUxNDQyODIzODI=", "number": 471, "title": "file:// urls broken", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-08T00:24:46Z", "updated_at": "2016-03-29T14:32:05Z", "closed_at": "2016-03-29T14:32:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rbtcollins (Bitbucket: [rbtcollins](http://bitbucket.org/rbtcollins), GitHub: [rbtcollins](http://github.com/rbtcollins))**\n\n---\n\nIn setuptools/package_index.py\n\nline 1040 in local_open()\nfiles.append(\"<a href=%r>%s</a>\" % (f,f))\n\nIf f is a unicode string the resulting text is:\n[u\"<a href=u'testbuilder-1.0.tar.gz'>testbuilder-1.0.tar.gz</a>\"]\n\nnote the href=u in the HTML, which is not valid - this leads to output like the following:\n    Reading file:///tmp/tmpBGlO4q/testbuilder/\n    Reading file:///tmp/tmpBGlO4q/testbuilder/u\n    No local packages or download links found for testbuilder\n\nUsing ...\"%s\"... in the format string should fix this - I'm not 100% sure why filename is ending up unicode for me, but there it is\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/471\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/470", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/470/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/470/events", "html_url": "https://github.com/pypa/setuptools/issues/470", "id": 144282337, "node_id": "MDU6SXNzdWUxNDQyODIzMzc=", "number": 470, "title": "parse_requirements fails with environment markers", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-12-04T15:14:52Z", "updated_at": "2017-01-01T11:48:28Z", "closed_at": "2016-05-29T16:18:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **dims (Bitbucket: [dims](http://bitbucket.org/dims), GitHub: [dims](http://github.com/dims))**\n\n---\n\nJust a simple call like the following fails:\n\n```\n#!bash\n\npkg_resources.parse_requirements('Twis-Ted>=1.2-1;python_version==\\'2.7\\'')\n\n```\n\nFound this when trying to run tox -e py27 on https://github.com/openstack/oslo.privsep in a mac environment with latest setuptools.\n\n```\n#!bash\n\ntox -e py27\nGLOB sdist-make: /Users/dims/openstack/oslo/oslo.privsep/setup.py\nERROR: invocation failed (exit code 1), logfile: /Users/dims/openstack/oslo/oslo.privsep/.tox/log/tox-0.log\nERROR: actionid: tox\nmsg: packaging\ncmdargs: ['/usr/local/opt/python/bin/python2.7', local('/Users/dims/openstack/oslo/oslo.privsep/setup.py'), 'sdist', '--formats=zip', '--dist-dir', local('/Users/dims/openstack/oslo/oslo.privsep/.tox/dist')]\nenv: None\n\nerror in setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Expected version spec in enum34;python_version=='2.7' or python_version=='2.6' at ;python_version=='2.7' or python_version=='2.6'\n\nERROR: FAIL could not package project - v = InvocationError('/usr/local/opt/python/bin/python2.7 /Users/dims/openstack/oslo/oslo.privsep/setup.py sdist --formats=zip --dist-dir /Users/dims/openstack/oslo/oslo.privsep/.tox/dist (see /Users/dims/openstack/oslo/oslo.privsep/.tox/log/tox-0.log)', 1)\n```\n\nIf i edit the line, i can get past the error:\nhttps://github.com/openstack/oslo.privsep/blob/master/requirements.txt#L10\n\nHowever since OpenStack uses this syntax a lot, it would be great to add support for this syntax:\nhttps://github.com/openstack/requirements/blob/master/global-requirements.txt\n\nHere are some tracebacks to pin point the problem (line numbers may vary!)\n\n```\n#!bash\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 125, in check_requirements\n    list(pkg_resources.parse_requirements(value))\n  File \"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2930, in parse_requirements\n    \"version spec\")\n  File \"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2895, in scan_list\n    raise RequirementParseError(msg, line, \"at\", line[p:])\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/470\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/469", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/469/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/469/events", "html_url": "https://github.com/pypa/setuptools/issues/469", "id": 144282322, "node_id": "MDU6SXNzdWUxNDQyODIzMjI=", "number": 469, "title": "UnicodeDecodeError since 18.7 when determining version from file with LC_ALL=C", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-11-30T22:24:06Z", "updated_at": "2016-03-29T14:31:53Z", "closed_at": "2016-03-29T14:31:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **The-Compiler (Bitbucket: [The-Compiler](http://bitbucket.org/The-Compiler), GitHub: [The-Compiler](http://github.com/The-Compiler))**\n\n---\n\nWhen an user has `LC_ALL=C` set (which unfortunately happens more often than I'd like), starting a setuptools script seems to fail:\n\n```\n$ LC_ALL=C /usr/bin/qutebrowser\nTraceback (most recent call last):\n  File \"/usr/bin/qutebrowser\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 3143, in <module>\n    @_call_aside\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 3129, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 3156, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 649, in _build_master\n    ws = cls()\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 642, in __init__\n    self.add_entry(entry)\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 698, in add_entry\n    for dist in find_distributions(entry, True):\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2136, in find_on_path\n    path_item, entry, metadata, precedence=DEVELOP_DIST\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2518, in from_location\n    version = cls._version_from_metadata(dist_path) or version\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2841, in _version_from_metadata\n    return _version_from_file(strm)\n  File \"/usr/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 2483, in _version_from_file\n    line = next(iter(version_lines), '')\n  File \"/usr/lib/python3.5/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 159: ordinal not in range(128)\n```\n\nThis seems due to some other packages using non-ASCII chars in their `long_description`s, and `pkg_resources` trying to read `PKG_INFO` with the system encoding to find out the version.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/469\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/468", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/468/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/468/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/468/events", "html_url": "https://github.com/pypa/setuptools/issues/468", "id": 144282311, "node_id": "MDU6SXNzdWUxNDQyODIzMTE=", "number": 468, "title": "\"scripts\" installed using develop are not editable", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-29T16:28:49Z", "updated_at": "2016-03-29T14:31:49Z", "closed_at": "2016-03-29T14:31:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **cjerdonek (Bitbucket: [cjerdonek](http://bitbucket.org/cjerdonek), GitHub: [cjerdonek](http://github.com/cjerdonek))**\n\n---\n\nIf I use the `scripts` argument with a shell script and install it using `python setup.py develop`, then changes to the shell script aren't reflected immediately (i.e. without rerunning `python setup.py develop`).  Here is my `setup.py`:\n\n```\n#!python\nfrom setuptools import setup\n\nsetup(\n    name='temp',\n    scripts = [\n        'foo.sh',\n    ],\n)\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/468\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/467", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/467/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/467/events", "html_url": "https://github.com/pypa/setuptools/issues/467", "id": 144282295, "node_id": "MDU6SXNzdWUxNDQyODIyOTU=", "number": 467, "title": "Architecture should be determined from compiler not kernel", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-29T11:47:47Z", "updated_at": "2016-03-29T14:31:47Z", "closed_at": "2016-03-29T14:31:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **bmerry (Bitbucket: [bmerry](http://bitbucket.org/bmerry), GitHub: [bmerry](http://github.com/bmerry))**\n\n---\n\nIt's possible for a system to run a 64-bit kernel but a 32-bit userland e.g:\n\n```\n$ uname -m\naarch64\n$ gcc -v |& grep Target\nTarget: arm-linux-gnueabihf\n```\n\nWhen compiling packages with extensions, the build directories are named things like lib.linux-aarch64-2.7, and the wheel that pip caches is named PKG-VER-cp27-none-linux_aarch64.whl, even though the binaries in the wheel are not aarch64 and probably won't work with an aarch64 Python.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/467\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/466", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/466/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/466/events", "html_url": "https://github.com/pypa/setuptools/issues/466", "id": 144282274, "node_id": "MDU6SXNzdWUxNDQyODIyNzQ=", "number": 466, "title": "\"Basic Use\" section is incomplete", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-27T16:34:27Z", "updated_at": "2016-03-29T14:31:43Z", "closed_at": "2016-03-29T14:31:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **krichter1 (Bitbucket: [krichter1](http://bitbucket.org/krichter1), GitHub: Unknown)**\n\n---\n\nThe [Basic Use](https://pythonhosted.org/setuptools/setuptools.html#basic-use) is incomplete since it doesn't explain what the user can expect after running the script.\n\nFurthermore it would be helpful to include a project file with a dummy function printing a string and show how to import it in a `python` console and use the function - I'm trying to achieve that with `find_packages()` for hours now, but can't really say where the problem lies since I don't know what's supposed to happen.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/466\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/464", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/464/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/464/events", "html_url": "https://github.com/pypa/setuptools/issues/464", "id": 144282248, "node_id": "MDU6SXNzdWUxNDQyODIyNDg=", "number": 464, "title": "TypeError in install_wrapper_scripts", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2015-11-24T17:24:39Z", "updated_at": "2016-03-29T14:31:37Z", "closed_at": "2016-03-29T14:31:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jcugat (Bitbucket: [jcugat](http://bitbucket.org/jcugat), GitHub: [jcugat](http://github.com/jcugat))**\n\n---\n\nJust updated to setuptools 18.6 from 18.5 and installing from an editable git repo seems to fail.\n\nSteps to reproduce:\n\n```\n#!shell\n\n$ pip list | grep setuptools\nsetuptools (18.5)\n$ pip install -e git+https://github.com/jcugat/django-crispy-forms.git@1.4.0-django1.9#egg=django_crispy_forms\nObtaining django-crispy-forms from git+https://github.com/jcugat/django-crispy-forms.git@1.4.0-django1.9#egg=django_crispy_forms\n  Updating /usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms clone (to 1.4.0-django1.9)\nInstalling collected packages: django-crispy-forms\n  Running setup.py develop for django-crispy-forms\nSuccessfully installed django-crispy-forms\n$ pip uninstall django-crispy-forms\nUninstalling django-crispy-forms-1.4.0:\n  /usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/django-crispy-forms.egg-link\nProceed (y/n)? y\n  Successfully uninstalled django-crispy-forms-1.4.0\n$ pip install setuptools==18.6\nCollecting setuptools==18.6\n  Using cached setuptools-18.6-py2.py3-none-any.whl\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 18.5\n    Uninstalling setuptools-18.5:\n      Successfully uninstalled setuptools-18.5\nSuccessfully installed setuptools-18.6\n$ pip list | grep setuptools\nsetuptools (18.6)\n$ pip install -e git+https://github.com/jcugat/django-crispy-forms.git@1.4.0-django1.9#egg=django_crispy_forms\nObtaining django-crispy-forms from git+https://github.com/jcugat/django-crispy-forms.git@1.4.0-django1.9#egg=django_crispy_forms\n  Updating /usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms clone (to 1.4.0-django1.9)\nInstalling collected packages: django-crispy-forms\n  Running setup.py develop for django-crispy-forms\n    Complete output from command /usr/local/opt/pyenv/versions/virtualtest/bin/python2.7 -c \"import setuptools, tokenize; __file__='/usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms/setup.py'; exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" develop --no-deps:\n    running develop\n    running egg_info\n    writing requirements to django_crispy_forms.egg-info/requires.txt\n    writing django_crispy_forms.egg-info/PKG-INFO\n    writing top-level names to django_crispy_forms.egg-info/top_level.txt\n    writing dependency_links to django_crispy_forms.egg-info/dependency_links.txt\n    warning: manifest_maker: standard file '-c' not found\n\n    reading manifest file 'django_crispy_forms.egg-info/SOURCES.txt'\n    reading manifest template 'MANIFEST.in'\n    warning: no files found matching '*' under directory 'crispy_forms/static'\n    writing manifest file 'django_crispy_forms.egg-info/SOURCES.txt'\n    running build_ext\n    Creating /usr/local/var/lib/pyenv/versions/virtualtest/lib/python2.7/site-packages/django-crispy-forms.egg-link (link to .)\n    Adding django-crispy-forms 1.4.0 to easy-install.pth file\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms/setup.py\", line 39, in <module>\n        zip_safe=False,\n      File \"/usr/local/opt/pyenv/versions/2.7.10/lib/python2.7/distutils/core.py\", line 151, in setup\n        dist.run_commands()\n      File \"/usr/local/opt/pyenv/versions/2.7.10/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n        self.run_command(cmd)\n      File \"/usr/local/opt/pyenv/versions/2.7.10/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"/usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/setuptools/command/develop.py\", line 32, in run\n        self.install_for_development()\n      File \"/usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/setuptools/command/develop.py\", line 132, in install_for_development\n        self.process_distribution(None, self.dist, not self.no_deps)\n      File \"/usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 695, in process_distribution\n        self.install_egg_scripts(dist)\n      File \"/usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/setuptools/command/develop.py\", line 160, in install_egg_scripts\n        self.install_wrapper_scripts(dist)\n      File \"/usr/local/opt/pyenv/versions/virtualtest/lib/python2.7/site-packages/setuptools/command/develop.py\", line 173, in install_wrapper_scripts\n        return super(develop, self).install_wrapper_scripts(dist)\n    TypeError: must be type, not classobj\n\n    ----------------------------------------\nCommand \"/usr/local/opt/pyenv/versions/virtualtest/bin/python2.7 -c \"import setuptools, tokenize; __file__='/usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms/setup.py'; exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" develop --no-deps\" failed with error code 1 in /usr/local/opt/pyenv/versions/virtualtest/src/django-crispy-forms\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/464\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/463", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/463/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/463/events", "html_url": "https://github.com/pypa/setuptools/issues/463", "id": 144282237, "node_id": "MDU6SXNzdWUxNDQyODIyMzc=", "number": 463, "title": "pip install with and without \"-e\" option changes package import behavior", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-20T05:17:42Z", "updated_at": "2016-03-29T14:31:32Z", "closed_at": "2016-03-29T14:31:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **roopeshvaddepally (Bitbucket: [roopeshvaddepally](http://bitbucket.org/roopeshvaddepally), GitHub: [roopeshvaddepally](http://github.com/roopeshvaddepally))**\n\n---\n\nWhen multiple modules imported from different directories to form a package, import behavior changes with \"-e\" option when installed with  \"pip install\" command.\n\nIgnore the way it's organized (I'm packaging an existing library).\n\npip install -e does not recognize the `package_dir` package names when installed, but pip install does.\n### Setup the Python Package and add setup.py\n\n```\n(testpackages)19:55:01 [rvaddepally@system-tc8 ~]\n> which python\n~/.pyenv/versions/testpackages/bin/python\n(testpackages)19:55:07 [rvaddepally@system-tc8 ~]\n> python --version\nPython 3.4.3\n> mkdir !$\nmkdir testpack\n\n(testpackages)19:57:56 [rvaddepally@system-tc8 ~/src/testpack]\n> mkdir -p src/pack_a/mod_a src/pack_a/mod_b src/dir_x/pack_b/mod_x src/dir_x/pack_b/mod_y\n(testpackages)20:00:27 [rvaddepally@system-tc8 ~/src/testpack]\n> tree .\n.\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 dir_x\n    \u2502   \u2514\u2500\u2500 pack_b\n    \u2502       \u251c\u2500\u2500 mod_x\n    \u2502       \u2514\u2500\u2500 mod_y\n    \u2514\u2500\u2500 pack_a\n        \u251c\u2500\u2500 mod_a\n        \u2514\u2500\u2500 mod_b\n\n8 directories, 0 files\n\n(testpackages)20:00:30 [rvaddepally@system-tc8 ~/src/testpack]\n> touch src/dir_x/pack_b/__init__.py src/dir_x/pack_b/mod_x/__init__.py src/dir_x/pack_b/mod_y/__init__.py src/pack_a/__init__.py src/pack_a/mod_a/__init__.py src/pack_a/mod_b/__init__.py\n(testpackages)20:16:28 [rvaddepally@system-tc8 ~/src/testpack]\n> tree .\n.\n\u251c\u2500\u2500 setup.py\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 dir_x\n    \u2502   \u2514\u2500\u2500 pack_b\n    \u2502       \u251c\u2500\u2500 __init__.py\n    \u2502       \u251c\u2500\u2500 mod_x\n    \u2502       \u2502   \u2514\u2500\u2500 __init__.py\n    \u2502       \u2514\u2500\u2500 mod_y\n    \u2502           \u2514\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 pack_a\n        \u251c\u2500\u2500 __init__.py\n        \u251c\u2500\u2500 mod_a\n        \u2502   \u2514\u2500\u2500 __init__.py\n        \u2514\u2500\u2500 mod_b\n            \u2514\u2500\u2500 __init__.py\n\n8 directories, 7 files\n\n\n# add this to setup.py\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nfrom setuptools import setup, find_packages\n\n\nmy_packages = (find_packages('src', include=['pack_a*']) +\n               find_packages('src/dir_x', include=['pack_b*']))\n\nsetup(\n    name='testpack',\n    version='0.0.1',\n    packages=my_packages,\n    package_dir={\n        'pack_a': 'src/pack_a',\n        'pack_b': 'src/dir_x/pack_b',\n    },\n    install_requires=[],\n    author='my name',\n    description='',\n    license='XYZ',\n)\n<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n```\n### Verify package is not installed\n\n```\n(testpackages)20:23:08 [rvaddepally@system-tc8 ~/src/testpack]\n> pip freeze\ndecorator==4.0.4\nipython==4.0.0\nipython-genutils==0.1.0\npath.py==8.1.2\npexpect==4.0.1\npickleshare==0.5\nptyprocess==0.5\nsimplegeneric==0.8.1\ntraitlets==4.0.0\nwheel==0.24.0\n(testpackages)20:23:13 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c \"import testpack\"\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named 'testpack'\n```\n### `pip install` the package and verify modules are available\n\n```\n(testpackages)20:24:02 [rvaddepally@system-tc8 ~/src/testpack]\n> pip install .\nProcessing /auto/home.nas01a/rvaddepally/src/testpack\nInstalling collected packages: testpack\n  Running setup.py install for testpack\nSuccessfully installed testpack-0.0.1\n\n(testpackages)20:25:01 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from pack_a import mod_a, mod_b'\n(testpackages)20:25:43 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from pack_b import mod_x, mod_y'\n(testpackages)20:26:00 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from pack_b import mod_z'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: cannot import name 'mod_z'\n```\n### Uninstall\n\n```\n> pip uninstall testpack\nUninstalling testpack-0.0.1:\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/mod_a/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/mod_a/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/mod_b/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_a/mod_b/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/mod_x/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/mod_x/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/mod_y/__init__.py\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/pack_b/mod_y/__pycache__/__init__.cpython-34.pyc\n  /auto/home.nas01a/rvaddepally/.pyenv/versions/testpackages/lib/python3.4/site-packages/testpack-0.0.1-py3.4.egg-info\nProceed (y/n)? y\n  Successfully uninstalled testpack-0.0.1\n```\n### `pip install -e` the package and verify modules are available, but not with pack_a and pack_b package names\n\n```\n(testpackages)20:27:04 [rvaddepally@system-tc8 ~/src/testpack]\n> pip install -e .\nObtaining file:///auto/home.nas01a/rvaddepally/src/testpack\nInstalling collected packages: testpack\n  Running setup.py develop for testpack\nSuccessfully installed testpack\n\n\n(testpackages)20:28:26 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from pack_a import mod_a, mod_b'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named 'pack_a'\n\n(testpackages)20:28:33 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from src.pack_a import mod_a, mod_b'\n\n(testpackages)20:28:43 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from pack_b import mod_x, mod_y'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named 'pack_b'\n\n(testpackages)20:28:55 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from src.dir_x.pack_b import mod_x, mod_y'\n\n(testpackages)20:29:18 [rvaddepally@system-tc8 ~/src/testpack]\n> python -c 'from src.dir_x.pack_b import mod_z'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: cannot import name 'mod_z'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/463\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/462", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/462/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/462/events", "html_url": "https://github.com/pypa/setuptools/issues/462", "id": 144282213, "node_id": "MDU6SXNzdWUxNDQyODIyMTM=", "number": 462, "title": "pkg_resources.find_on_path() thinks the zc.recipe.egg wheel is an egg", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-11-18T10:17:30Z", "updated_at": "2017-08-01T00:09:42Z", "closed_at": "2017-07-31T23:17:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mgedmin (Bitbucket: [mgedmin](http://bitbucket.org/mgedmin), GitHub: [mgedmin](http://github.com/mgedmin))**\n\n---\n\nSteps to reproduce: try to `pip install zc.recipe.egg`.  You'll get an error:\n\n```\nzc.recipe.egg is in an unsupported or invalid wheel\n```\n\nIf you hack pip's sources to expose the real traceback, you'll see [this](https://github.com/pypa/pip/issues/3028#issuecomment-148614984):\n\n```\nTraceback (most recent call last):                                                                                                                                                                                                           \n  File \"/home/qwcode/p/pypa/pip/pip/basecommand.py\", line 200, in main                                                                                                                                                                       \n    status = self.run(options, args)                                                                                                                                                                                                         \n  File \"/home/qwcode/p/pypa/pip/pip/commands/install.py\", line 302, in run                                                                                                                                                                   \n    root=options.root_path,                                                                                                                                                                                                                  \n  File \"/home/qwcode/p/pypa/pip/pip/req/req_set.py\", line 657, in install                                                                                                                                                                    \n    **kwargs\n  File \"/home/qwcode/p/pypa/pip/pip/req/req_install.py\", line 805, in install\n    version = pip.wheel.wheel_version(self.source_dir)\n  File \"/home/qwcode/p/pypa/pip/pip/wheel.py\", line 559, in wheel_version\n    wheel_data = dist.get_metadata('WHEEL')\n  File \"/home/qwcode/p/pypa/pip/pip/_vendor/pkg_resources/__init__.py\", line 1611, in get_metadata\n    return self._get(self._fn(self.egg_info, name))\n  File \"/home/qwcode/p/pypa/pip/pip/_vendor/pkg_resources/__init__.py\", line 1722, in _get\n    with open(path, 'rb') as stream:\nIOError: [Errno 2] No such file or directory: '/tmp/pip-build-ucnzjI/zc.recipe.egg/EGG-INFO/WHEEL'\n```\n\nAFAIU the problem is the following check in pkg_resources.find_on_path():\n\n``` python\n    if os.path.isdir(path_item) and os.access(path_item, os.R_OK):\n        if path_item.lower().endswith('.egg'):\n            # unpacked egg\n```\n\nThis is wrong: the unpacked zc.recipe.egg _wheel_ has a top-level directory called `zc.recipe.egg`.\n\nSee https://github.com/pypa/pip/issues/3028 for more background.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/462\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/460", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/460/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/460/events", "html_url": "https://github.com/pypa/setuptools/issues/460", "id": 144282191, "node_id": "MDU6SXNzdWUxNDQyODIxOTE=", "number": 460, "title": "setuptools doesn't install data_files correctly", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-11-10T15:57:16Z", "updated_at": "2016-09-30T13:34:13Z", "closed_at": "2016-03-29T14:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jdemeyer (Bitbucket: [jdemeyer](http://bitbucket.org/jdemeyer), GitHub: [jdemeyer](http://github.com/jdemeyer))**\n\n---\n\nNOTE 1: I have read the docs and know this is documented as a feature, but I think it's a bug anyway.\n\nNOTE2: This might be related to #130, but I didn't quite understand what that bug is about.\n\nWhen using\n\n```\n#!python\n\nsetup(...\n    data_files=(\"some/relative/path\", [\"file1\", ...])\n)\n```\n\nand running `./setup.py install`, these `data_files` are installed in the egg, which makes them inaccessible to other programs. I think that `setuptools` should just do what `distutils` does here, which is to install the files in `sys.prefix/some/relative/path`. The egg might still be the correct location for `package_data`, I'm not arguing with that.\n\nWheel also installs data files in `sys.prefix`. It's annoying to have a package which works correctly when installed as a wheel, but which doesn't install correctly when using `./setup.py install` with setuptools.\n\nThe documentation http://pythonhosted.org/setuptools/setuptools.html#including-data-files starts with \"the most common use case for data files distributed with a package is for use by the package, usually by including the data files in the package directory\". This may be right, but it's not the only use case and the use case where `data_files` are needed by something else (which might not even be Python) isn't covered.\n\nMy particular use case is installing `kernel.json` files for Jupyter.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/460\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/459", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/459/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/459/events", "html_url": "https://github.com/pypa/setuptools/issues/459", "id": 144282183, "node_id": "MDU6SXNzdWUxNDQyODIxODM=", "number": 459, "title": "Incorrect sys.argv[0] for generated console scripts on Windows", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-07T16:11:19Z", "updated_at": "2020-06-14T16:14:00Z", "closed_at": "2020-06-14T16:14:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pombredanne (Bitbucket: [pombredanne](http://bitbucket.org/pombredanne), GitHub: [pombredanne](http://github.com/pombredanne))**\n\n---\n\nThe code that generates entry point console script return an incorrect value for sys.argv[0] on windows:\nhttps://bitbucket.org/pypa/setuptools/src/4ce518784af886e6977fa2dbe58359d0fe161d0d/setuptools/command/easy_install.py?at=default&fileviewer=file-view-default#easy_install.py-2008\n\nEven if the script was called from the CLI as XXXX, sys.argv[0] will be XXXX-script.py\nIt should instead by XXXX.\n\npip handles this by fixing sys.argv[0] in the generated launcher script for wheels here https://github.com/pypa/pip/blob/1da0ea13f3f0ab789edd62012d09bf69be045f68/pip/wheel.py#L416\n\ndistlib fixes sys.argv[0] here in a similar way in the launcher script :\nhttps://bitbucket.org/pypa/distlib/src/6ada86eea2700f10edcd81f831139c6ae20edb74/distlib/scripts.py?at=default&fileviewer=file-view-default#scripts.py-55\n\nSetuptools does not and it should IMHO.\n\nSee also this issue: https://github.com/pypa/pip/issues/3233\n\nAnd where this was discovered: https://github.com/mitsuhiko/click/issues/365\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/459\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/456", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/456/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/456/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/456/events", "html_url": "https://github.com/pypa/setuptools/issues/456", "id": 144282133, "node_id": "MDU6SXNzdWUxNDQyODIxMzM=", "number": 456, "title": "install_requires is not executed with custom install command", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-11-05T15:27:33Z", "updated_at": "2021-10-23T01:04:16Z", "closed_at": "2021-10-22T20:09:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **andi0661 (Bitbucket: [andi0661](http://bitbucket.org/andi0661), GitHub: Unknown)**\n\n---\n\nWhen using install_requires in the input arguments to setup(), it is only executed when installing the package via \"pip install\", but it is ignored when installing via \"python setup.py install\".\n\nIt would be nice if \"python setup.py install\" could be made to do the same thing as \"pip install .\" (i.e. install from package unpack directory containing setup.py), as far as \"install_requires\" is concerned.\n\nThis is with setuptools v17.0, which is the latest setuptools I get with virtualenv for python 2.6 on RHEL 6.7.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/456\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/456/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/455", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/455/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/455/events", "html_url": "https://github.com/pypa/setuptools/issues/455", "id": 144282118, "node_id": "MDU6SXNzdWUxNDQyODIxMTg=", "number": 455, "title": "Unable to build extension in python 3.5", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-11-02T14:20:54Z", "updated_at": "2016-03-29T14:31:03Z", "closed_at": "2016-03-29T14:31:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **kracekumar (Bitbucket: [kracekumar](http://bitbucket.org/kracekumar), GitHub: [kracekumar](http://github.com/kracekumar))**\n\n---\n\nI am using OSX 10.10.5 (14F27) and Python 3.5. Python 3.5 was installed via brew.\nWhen greenlet is installed inside virtualenv using py3.5 header files are\nmissing inside /path/to/venv/include/python3.5m. As a result uwsgi is unable to build with asyncio support\n\n```\n~  brew info python3\npython3: stable 3.5.0 (bottled), HEAD\nInterpreted, interactive, object-oriented programming language\nhttps://www.python.org/\n/usr/local/Cellar/python3/3.4.3 (4721 files, 82M)\nPoured from bottle\n/usr/local/Cellar/python3/3.4.3_2 (5948 files, 98M)\nBuilt from source\n/usr/local/Cellar/python3/3.5.0 (3573 files, 61M) *\nPoured from bottle\nFrom: https://github.com/Homebrew/homebrew/blob/master/Library/Formula/python3.rb\n==> Dependencies\nBuild: xz , pkg-config \nRequired: openssl \nRecommended: readline , sqlite , gdbm , xz \nOptional: homebrew/dupes/tcl-tk\n```\n## Steps to reproduce\n- Create a venv\n\n```\n$/tmp  python3.5 -m virtualenv venv_bug\n```\n- Install greenlet\n\n```\n$/tmp  . venv_bug/bin/activate\n(venv_bug)$/tmp  pip install greenlet\nCollecting greenlet\n  Using cached greenlet-0.4.9.tar.gz\nBuilding wheels for collected packages: greenlet\n  Running setup.py bdist_wheel for greenlet\n  Complete output from command /private/tmp/venv_bug/bin/python3.5 -c \"import setuptools;__file__='/private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-sxtdlufe/greenlet/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/tmpf6g8rwt_pip-wheel-:\n  running bdist_wheel\n  running build\n  running build_ext\n  building 'greenlet' extension\n  creating build\n  creating build/temp.macosx-10.10-x86_64-3.5\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/include/python3.5m -c greenlet.c -o build/temp.macosx-10.10-x86_64-3.5/greenlet.o\n  creating build/lib.macosx-10.10-x86_64-3.5\n  clang -bundle -undefined dynamic_lookup build/temp.macosx-10.10-x86_64-3.5/greenlet.o -o build/lib.macosx-10.10-x86_64-3.5/greenlet.cpython-35m-darwin.so\n  installing to build/bdist.macosx-10.10-x86_64/wheel\n  running install\n  running install_lib\n  creating build/bdist.macosx-10.10-x86_64\n  creating build/bdist.macosx-10.10-x86_64/wheel\n  copying build/lib.macosx-10.10-x86_64-3.5/greenlet.cpython-35m-darwin.so -> build/bdist.macosx-10.10-x86_64/wheel\n  running install_headers\n  creating build/bdist.macosx-10.10-x86_64/wheel/greenlet-0.4.9.data\n  creating build/bdist.macosx-10.10-x86_64/wheel/greenlet-0.4.9.data/headers\n  copying greenlet.h -> build/bdist.macosx-10.10-x86_64/wheel/greenlet-0.4.9.data/headers\n  running install_egg_info\n  running egg_info\n  creating greenlet.egg-info\n  writing top-level names to greenlet.egg-info/top_level.txt\n  writing greenlet.egg-info/PKG-INFO\n  writing dependency_links to greenlet.egg-info/dependency_links.txt\n  writing manifest file 'greenlet.egg-info/SOURCES.txt'\n  warning: manifest_maker: standard file '-c' not found\n\n  reading manifest file 'greenlet.egg-info/SOURCES.txt'\n  reading manifest template 'MANIFEST.in'\n  writing manifest file 'greenlet.egg-info/SOURCES.txt'\n  Copying greenlet.egg-info to build/bdist.macosx-10.10-x86_64/wheel/greenlet-0.4.9-py3.5.egg-info\n  running install_scripts\n  Traceback (most recent call last):\n    File \"<string>\", line 1, in <module>\n    File \"/private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-sxtdlufe/greenlet/setup.py\", line 101, in <module>\n      **setuptools_args)\n    File \"/usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/core.py\", line 148, in setup\n      dist.run_commands()\n    File \"/usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/dist.py\", line 955, in run_commands\n      self.run_command(cmd)\n    File \"/usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/distutils/dist.py\", line 974, in run_command\n      cmd_obj.run()\n    File \"/private/tmp/venv_bug/lib/python3.5/site-packages/wheel/bdist_wheel.py\", line 213, in run\n      archive_basename = self.get_archive_basename()\n    File \"/private/tmp/venv_bug/lib/python3.5/site-packages/wheel/bdist_wheel.py\", line 161, in get_archive_basename\n      impl_tag, abi_tag, plat_tag = self.get_tag()\n    File \"/private/tmp/venv_bug/lib/python3.5/site-packages/wheel/bdist_wheel.py\", line 155, in get_tag\n      assert tag == supported_tags[0]\n  AssertionError\n\n  ----------------------------------------\n  Failed building wheel for greenlet\nFailed to build greenlet\nInstalling collected packages: greenlet\n  Running setup.py install for greenlet\nSuccessfully installed greenlet-0.4.9\n```\n- Install uWSGI\n\n```\n(venv_bug)$  /tmp  CFLAGS=\"-I/tmp/venv_bug/include/python3.5m\" UWSGI_PROFILE=\"asyncio\" pip install uwsgi\nCollecting uwsgi\n  Using cached uwsgi-2.0.11.2.tar.gz\nBuilding wheels for collected packages: uwsgi\n  Running setup.py bdist_wheel for uwsgi\n  Complete output from command /private/tmp/venv_bug/bin/python3.5 -c \"import setuptools;__file__='/private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-bru7wwac/uwsgi/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/tmpwoq08qywpip-wheel-:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib\n  copying uwsgidecorators.py -> build/lib\n  installing to build/bdist.macosx-10.10-x86_64/wheel\n  running install\n  plugins/greenlet/greenlet.c:2:10: fatal error: 'greenlet/greenlet.h' file not found\n  #include <greenlet/greenlet.h>\n           ^\n  1 error generated.\n\n  ----------------------------------------\n  Failed building wheel for uwsgi\nFailed to build uwsgi\nInstalling collected packages: uwsgi\n  Running setup.py install for uwsgi\n    Complete output from command /private/tmp/venv_bug/bin/python3.5 -c \"import setuptools, tokenize;__file__='/private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-bru7wwac/uwsgi/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-69gibzr6-record/install-record.txt --single-version-externally-managed --compile --install-headers /private/tmp/venv_bug/bin/../include/site/python3.5/uwsgi:\n    running install\n    plugins/greenlet/greenlet.c:2:10: fatal error: 'greenlet/greenlet.h' file not found\n    #include <greenlet/greenlet.h>\n             ^\n    1 error generated.\n\n    ----------------------------------------\nCommand \"/private/tmp/venv_bug/bin/python3.5 -c \"import setuptools, tokenize;__file__='/private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-bru7wwac/uwsgi/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-69gibzr6-record/install-record.txt --single-version-externally-managed --compile --install-headers /private/tmp/venv_bug/bin/../include/site/python3.5/uwsgi\" failed with error code 1 in /private/var/folders/xk/8lhz2_j91_3758cc65stj5z40000gn/T/pip-build-bru7wwac/uwsgi\n```\n\nAlso setuptools is at latest version 18.2.\n\nInstalling uwsgi site wide succeeds. greenlet directory is present inside `python3.5m`.\n\n```\n(venv_bug)$  /tmp  ls -la /usr/local/include/python3.5m | grep greenlet\ndrwxr-xr-x   3 root   admin   102 Nov  1 20:40 greenlet\n```\n## Links:\n- uWSGI asyncio: https://uwsgi-docs.readthedocs.org/en/latest/asyncio.html#building-uwsgi-with-asyncio-support\n- Greenlet issue thread: https://github.com/python-greenlet/greenlet/issues/96\n- CPython bug tracker: https://bugs.python.org/issue25531\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/455\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/453", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/453/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/453/events", "html_url": "https://github.com/pypa/setuptools/issues/453", "id": 144282086, "node_id": "MDU6SXNzdWUxNDQyODIwODY=", "number": 453, "title": "Installation issues when previously-imported pkg_resources are present", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-26T19:55:23Z", "updated_at": "2016-03-29T14:30:55Z", "closed_at": "2016-03-29T14:30:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **dweepcan (Bitbucket: [dweepcan](http://bitbucket.org/dweepcan), GitHub: [dweepcan](http://github.com/dweepcan))**\n\n---\n\nUsing a custom implementation of `bootstrap-buildout.py`, which is very similar, installing setuptools gives the following error:\n\n```\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-18.4.zip\nExtracting in /var/folders/4w/837bbxsj6ls8jkczsp029jx40000gp/T/tmp4ha6th\nNow working in /var/folders/4w/837bbxsj6ls8jkczsp029jx40000gp/T/tmp4ha6th/setuptools-18.4\nBuilding a Setuptools egg in /var/folders/4w/837bbxsj6ls8jkczsp029jx40000gp/T/tmpyf5BFP\n/var/folders/4w/837bbxsj6ls8jkczsp029jx40000gp/T/tmpyf5BFP/setuptools-18.4-py2.7.egg\nTraceback (most recent call last):\n  File \"bootstrap.py\", line 82, in <module>\n    ez['use_setuptools'](**setup_args)\n  File \"<string>\", line 176, in use_setuptools\n  File \"<string>\", line 131, in _do_download\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/__init__.py\", line 12, in <module>\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/extension.py\", line 8, in <module>\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/dist.py\", line 19, in <module>\n  File \"build/bdist.macosx-10.10-x86_64/egg/pkg_resources/__init__.py\", line 90, in <module>\nAttributeError: 'module' object has no attribute '_vendor'\n```\n\nThis issue seems very similar to https://bitbucket.org/pypa/setuptools/issues/345, which seems to have been fixed in version 12.2, but seems to have been reintroduced in a later version.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/453\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/452", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/452/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/452/events", "html_url": "https://github.com/pypa/setuptools/issues/452", "id": 144282072, "node_id": "MDU6SXNzdWUxNDQyODIwNzI=", "number": 452, "title": "MANIFEST.in graft command fails for directories: \"doesn't exist or not a regular file\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-25T03:44:53Z", "updated_at": "2016-03-29T14:30:51Z", "closed_at": "2016-03-29T14:30:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nUsing the graft command in MANIFEST.in plus include_package_data=True to copy an entire directory fails during \"setup.py install\" with the following message:\n\nerror: can't copy 'misoc/software': doesn't exist or not a regular file\n\nMy project is affected by this bug:\nhttps://github.com/m-labs/misoc/tree/new\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/452\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/451", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/451/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/451/events", "html_url": "https://github.com/pypa/setuptools/issues/451", "id": 144282059, "node_id": "MDU6SXNzdWUxNDQyODIwNTk=", "number": 451, "title": "Sanitizing the .egg_info file destroys dev version numbering", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-22T23:11:20Z", "updated_at": "2021-10-22T19:38:11Z", "closed_at": "2021-10-22T19:38:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **michael_droettboom (Bitbucket: [michael_droettboom](http://bitbucket.org/michael_droettboom), GitHub: Unknown)**\n\n---\n\nI don't know if this is a bug in setuptools or how we're using it.\n\nIn matplotlib, we depend on numpy, so we pass `setup_requires=['numpy>=1.6']`.  If numpy was installed from a dev version (from a git checkout), the egg-info file that gets installed alongside it has the `+` converted to `_`, so the version number isn't PEP440 compliant.  For example, `1.11.0.dev0+deadbeef` -> `1.11.0.dev0_deadbeef`.\n\nThe problem is that matplotlib's setup script thinks it needs a newer version of numpy and download/install it from pypi, when it doesn't need to.\n\nFWIW, `pip install` ing from a git checkout does not have this issue.  It keeps the version number intact.\n\nReference: https://github.com/numpy/numpy/issues/6551\n\nAny advice you can give is much appreciated.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/451\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/448", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/448/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/448/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/448/events", "html_url": "https://github.com/pypa/setuptools/issues/448", "id": 144282007, "node_id": "MDU6SXNzdWUxNDQyODIwMDc=", "number": 448, "title": "Develop-mode in Anaconda environment crashes with MemoryError", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-10-14T12:35:43Z", "updated_at": "2016-03-29T14:30:38Z", "closed_at": "2016-03-29T14:30:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marscher (Bitbucket: [marscher](http://bitbucket.org/marscher), GitHub: [marscher](http://github.com/marscher))**\n\n---\n\nsteps to reproduce:\n\n```\n#!bash\n\n# setup-script which produces the error:\necho \"from setuptools import setup  \nsetup(name='test', version=0, install_requires=['psutil'])\" > setup.py\n\n# install a miniconda environment in /tmp/mc and use it to reproduce the bug\nwget http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh\nbash Miniconda-latest-Linux-x86_64.sh -p /tmp/mc -b\nexport PATH=/tmp/mc/bin:$PATH\nconda install cython -qy\npython setup.py develop\n```\n\nNow this process will eat up all your memory and does not terminate at all. The stacktrace obtained from an attached pdb looks like this:\n\n```\n#!python\n(Pdb) where\n  /storage/mi/marscher/jenkins_ws/pyemma-doc-devel/setup.py(290)<module>()\n-> setup(**metadata)\n  /home/mi/marscher/miniconda/envs/build_doc/lib/python2.7/distutils/core.py(151)setup()\n-> dist.run_commands()\n  /home/mi/marscher/miniconda/envs/build_doc/lib/python2.7/distutils/dist.py(953)run_commands()\n-> self.run_command(cmd)\n  /home/mi/marscher/miniconda/envs/build_doc/lib/python2.7/distutils/dist.py(972)run_command()\n-> cmd_obj.run()\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/develop.py(32)run()\n-> self.install_for_development()\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/develop.py(132)install_for_development()\n-> self.process_distribution(None, self.dist, not self.no_deps)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(718)process_distribution()\n-> [requirement], self.local_index, self.easy_install\n  /home/mi/marscher/.local/lib/python2.7/site-packages/pkg_resources/__init__.py(836)resolve()\n-> dist = best[req.key] = env.best_match(req, ws, installer)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/pkg_resources/__init__.py(1081)best_match()\n-> return self.obtain(req, installer)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/pkg_resources/__init__.py(1093)obtain()\n-> return installer(requirement)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(638)easy_install()\n-> return self.install_item(spec, dist.location, tmpdir, deps)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(668)install_item()\n-> dists = self.install_eggs(spec, download, tmpdir)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(851)install_eggs()\n-> return self.build_and_install(setup_script, setup_base)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(1079)build_and_install()\n-> self.run_setup(setup_script, setup_base, args)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/command/easy_install.py(1065)run_setup()\n-> run_setup(setup_script, args)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(240)run_setup()\n-> raise\n  /home/mi/marscher/miniconda/envs/build_doc/lib/python2.7/contextlib.py(35)__exit__()\n-> self.gen.throw(type, value, traceback)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(193)setup_context()\n-> yield\n  /home/mi/marscher/miniconda/envs/build_doc/lib/python2.7/contextlib.py(35)__exit__()\n-> self.gen.throw(type, value, traceback)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(152)save_modules()\n-> yield saved\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(126)__exit__()\n-> self._saved = UnpickleableException.dump(type, exc)\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n-> return cls.dump(cls, cls(repr(exc)))\n  /home/mi/marscher/.local/lib/python2.7/site-packages/setuptools/sandbox.py(110)dump()\n\n```\n\nNote that this only happens, if cython is installed. I know that this is a very strange behaviour. If cython is uninstalled again, it works like expected. It seems like this is a regression introduced in 18.0.1, since 17.1.1 works.\n\nI've posted this issue first at the install requirement package 'psutil', but I'm sure this has something to do with setuptools, too:\n\nhttps://github.com/giampaolo/psutil/issues/699\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/448\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/446", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/446/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/446/events", "html_url": "https://github.com/pypa/setuptools/issues/446", "id": 144281974, "node_id": "MDU6SXNzdWUxNDQyODE5NzQ=", "number": 446, "title": "`setup.py test` says it runs tests, but it doesn't", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-10-09T19:54:37Z", "updated_at": "2016-03-29T14:30:31Z", "closed_at": "2016-03-29T14:30:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **thomas-guettler (Bitbucket: [thomas-guettler](http://bitbucket.org/thomas-guettler), GitHub: Unknown)**\n\n---\n\nthe pypa sampleproject contains a test, but if you run `setup.py test` it does not get executed.\n\nI opened an issue for the sampleproject, but I was told that this is an issue of setuptools.\n\nSee:\n\nhttps://github.com/pypa/sampleproject/issues/33\n\nAt the moment the string \"running test\" gets printed although no test was found. That is very confusing since no test was found.\n\nWhat should happen if you run `setup.py test` and setuptools doesn't find any test?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/446\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/445", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/445/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/445/events", "html_url": "https://github.com/pypa/setuptools/issues/445", "id": 144281953, "node_id": "MDU6SXNzdWUxNDQyODE5NTM=", "number": 445, "title": "\"Resource Management API\" links broken in docs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-01T00:57:50Z", "updated_at": "2018-08-26T23:57:41Z", "closed_at": "2018-08-26T23:57:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **lukeyeager (Bitbucket: [lukeyeager](http://bitbucket.org/lukeyeager), GitHub: [lukeyeager](http://github.com/lukeyeager))**\n\n---\n\nThese sections each contain a link to \"Resource Management API\".\n\nhttp://pythonhosted.org/setuptools/setuptools.html#accessing-data-files-at-runtime\nhttp://pythonhosted.org/setuptools/setuptools.html#non-package-data-files\n\nThat links to:\n\nhttps://bitbucket.org/pypa/setuptools/src/11264de04d44e4cb82e1e797e91549a6a71fb99b/docs/setuptools.txt?at=default&fileviewer=file-view-default#setuptools.txt-919\n\nBut the link no longer exists.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/445\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/443", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/443/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/443/events", "html_url": "https://github.com/pypa/setuptools/issues/443", "id": 144281936, "node_id": "MDU6SXNzdWUxNDQyODE5MzY=", "number": 443, "title": "Generated entry points should have `if __name__ == '__main__'` guard", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-30T18:46:56Z", "updated_at": "2016-03-29T14:30:22Z", "closed_at": "2016-03-29T14:30:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **nikratio (Bitbucket: [nikratio](http://bitbucket.org/nikratio), GitHub: [nikratio](http://github.com/nikratio))**\n\n---\n\nCurrently, the entry point scripts generated by setuptools do not have a `if __name__ == '__main__'` guard. For example:\n\n```\n$ cat /usr/bin/py.test-3\n#! /usr/bin/python3\n\nimport sys\nfrom pkg_resources import load_entry_point\nsys.exit(load_entry_point('pytest==2.6.3', 'console_scripts', 'py.test')())\n```\n\nThis makes it difficult to use the `multiprocessing` module with a start method other than `fork`. For example, when running py.test, the subprocess tries to re-run the test suite (see https://github.com/pytest-dev/pytest/issues/958).\n\nIt would be great if `setuptools` could write the entry point scripts with a guard, e.g.:\n\n```\n$ cat /usr/bin/py.test-3\n#! /usr/bin/python3\n\nimport sys\nif __name__ == '__main__':\n    from pkg_resources import load_entry_point\n    sys.exit(load_entry_point('pytest==2.6.3', 'console_scripts', 'py.test')())\n```\n\nFurther reading: https://docs.python.org/3/library/multiprocessing.html#the-spawn-and-forkserver-start-methods\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/443\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/442", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/442/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/442/events", "html_url": "https://github.com/pypa/setuptools/issues/442", "id": 144281924, "node_id": "MDU6SXNzdWUxNDQyODE5MjQ=", "number": 442, "title": "setuptools 18.3.2 cannot access PyPI if PyPI password has an embedded %", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-09-29T15:11:43Z", "updated_at": "2016-03-29T14:30:19Z", "closed_at": "2016-03-29T14:30:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **malemburg (Bitbucket: [malemburg](http://bitbucket.org/malemburg), GitHub: [malemburg](http://github.com/malemburg))**\n\n---\n\nIf you have a repository entry in .pypirc with a password using % in the password string, setuptools causes a traceback when trying to install packages with Python 3.4:\n\n```\n#!python\n\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 427, in find_packages\n        self.scan_url(self.index_url + requirement.unsafe_name+'/')\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 761, in scan_url\n        self.process_url(url, True)\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 304, in process_url\n        f = self.open_url(url, \"Download error on %s: %%s -- Some packages may not be found!\" % url)\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 700, in open_url\n        return open_with_auth(url, self.opener)\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 894, in _socket_timeout\n        return func(*args, **kwargs)\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 992, in open_with_auth\n        cred = PyPIConfig().find_credential(url)\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 971, in find_credential\n        for repository, cred in self.creds_by_repository.items():\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 957, in creds_by_repository\n        return dict(map(self._get_repo_cred, sections_with_repositories))\n      File \"./py3/lib/python3.4/site-packages/setuptools/package_index.py\", line 963, in _get_repo_cred\n        self.get(section, 'password').strip(),\n      File \"<pyrun>/configparser.py\", line 773, in get\n      File \"<pyrun>/configparser.py\", line 374, in before_get\n      File \"<pyrun>/configparser.py\", line 423, in _interpolate_some\n    configparser.InterpolationSyntaxError: '%' must be followed by '%' or '(', found: '%12345'\n```\n\nI tested this with setuptools 15.2 and this does not have the problem.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/442\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/441", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/441/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/441/events", "html_url": "https://github.com/pypa/setuptools/issues/441", "id": 144281908, "node_id": "MDU6SXNzdWUxNDQyODE5MDg=", "number": 441, "title": "Error installing scipy 0.16.0 with easy-install 2.7 setuptools==18.3.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-23T22:37:27Z", "updated_at": "2022-01-04T18:56:52Z", "closed_at": "2022-01-04T18:56:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **papachoco (Bitbucket: [papachoco](http://bitbucket.org/papachoco), GitHub: [papachoco](http://github.com/papachoco))**\n\n---\n\nHi..\n\nI am trying to install scipy (latest version 0.16.0) and I get the attached file.\n\nNot sure if this belong to scipy . \n\nI am running a MacOS 10.10.5 Python/MacPorts 2.7.10\n\nThanks\n\nCarlos\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/441\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/440", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/440/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/440/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/440/events", "html_url": "https://github.com/pypa/setuptools/issues/440", "id": 144281886, "node_id": "MDU6SXNzdWUxNDQyODE4ODY=", "number": 440, "title": "UnpickleableException.dump blows up when exception comes from setuptools", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-09-22T17:48:03Z", "updated_at": "2016-03-29T14:30:11Z", "closed_at": "2016-03-29T14:30:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **embray (Bitbucket: [embray](http://bitbucket.org/embray), GitHub: [embray](http://github.com/embray))**\n\n---\n\nAnother odd one, but pretty bad.\n\nI've found that sometimes when running `setuptools.sandbox.run_setup`, if an exception occurs in the setup like `SandboxViolation`, when the `ExceptionSaver` tries to pickle it it will fail because of:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 108, in dump\n    return pickle.dumps(type), pickle.dumps(exc)\n_pickle.PicklingError: Can't pickle <class 'setuptools.sandbox.SandboxViolation'>: it's not the same object as setuptools.sandbox.SandboxViolation\n```\n\nThe code, as written, then just tries to repr the exception and wrap in the an `UnpickleableException` and then pickle that.  But that fails too for the same reason:\n\n```\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 242, in run_setup\n    raise\n  File \"/usr/local/lib/python3.4/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 195, in setup_context\n    yield\n  File \"/usr/local/lib/python3.4/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 154, in save_modules\n    yield saved\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 128, in __exit__\n    self._saved = UnpickleableException.dump(type, exc)\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 112, in dump\n    return cls.dump(cls, cls(repr(exc)))\n  File \"/usr/local/lib/python3.4/site-packages/setuptools/sandbox.py\", line 108, in dump\n    return pickle.dumps(type), pickle.dumps(exc)\n_pickle.PicklingError: Can't pickle <class 'setuptools.sandbox.UnpickleableException'>: it's not the same object as setuptools.sandbox.UnpickleableException\n```\n\nThis occurs because by the time `ExceptionSaver.__exit__` is entered, the `hide_setuptools` has occurred and there are two copies of the `setuptools.sandbox` module in play, basically.\n\nThis actually tends to lead to a `MemoryError` before a recursion `RuntimeError` is reached due to the resulting exponential growth in the size of `repr(exc)` :(\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/440\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/439", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/439/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/439/events", "html_url": "https://github.com/pypa/setuptools/issues/439", "id": 144281867, "node_id": "MDU6SXNzdWUxNDQyODE4Njc=", "number": 439, "title": "develop command should not pin the distribution version precisely", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-09-17T11:33:58Z", "updated_at": "2016-03-29T14:30:06Z", "closed_at": "2016-03-29T14:30:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **RonnyPfannschmidt (Bitbucket: [RonnyPfannschmidt](http://bitbucket.org/RonnyPfannschmidt), GitHub: [RonnyPfannschmidt](http://github.com/RonnyPfannschmidt))**\n\n---\n\nWhen easy_install or pip installs console entry points (scripts), it does so by referencing the installed version of the package. The `develop` command uses the same logic to create executable scripts for a package under development.\n\nHowever, it is common when developing a package that the version number will change, thereafter making the script references invalid (and causing errors when attempting to invoke those scripts).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/439\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/438", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/438/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/438/events", "html_url": "https://github.com/pypa/setuptools/issues/438", "id": 144281858, "node_id": "MDU6SXNzdWUxNDQyODE4NTg=", "number": 438, "title": "pip install https://github.com/mongodb/mongo-python-driver/archive/3.0.3.tar.gz failed", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-15T05:06:34Z", "updated_at": "2016-03-29T14:30:03Z", "closed_at": "2016-03-29T14:30:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nDear experts,\n\npip installation is failing on my system and showing an error message. Please help me in this regard.\n\n```\n#!python\n\n[root@localhost ~]# pip install https://github.com/mongodb/mongo-python-driver/archive/3.0.3.tar.gz\nCollecting https://github.com/mongodb/mongo-python-driver/archive/3.0.3.tar.gz\nException:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/basecommand.py\", line 211, in main\n    status = self.run(options, args)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/commands/install.py\", line 294, in run\n    requirement_set.prepare_files(finder)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/req/req_set.py\", line 334, in prepare_files\n    functools.partial(self._prepare_file, finder))\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/req/req_set.py\", line 321, in _walk_req_to_install\n    more_reqs = handler(req_to_install)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/req/req_set.py\", line 491, in _prepare_file\n    session=self.session)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/download.py\", line 825, in unpack_url\n    session,\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/download.py\", line 673, in unpack_http_url\n    from_path, content_type = _download_http_url(link, session, temp_dir)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/download.py\", line 857, in _download_http_url\n    stream=True,\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/_vendor/requests/sessions.py\", line 477, in get\n    return self.request('GET', url, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/download.py\", line 373, in request\n    return super(PipSession, self).request(method, url, *args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/_vendor/requests/sessions.py\", line 465, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/_vendor/requests/sessions.py\", line 573, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/_vendor/cachecontrol/adapter.py\", line 46, in send\n    resp = super(CacheControlAdapter, self).send(request, **kw)\n  File \"/usr/local/lib/python2.7/site-packages/pip-7.1.2-py2.7.egg/pip/_vendor/requests/adapters.py\", line 431, in send\n    raise SSLError(e, request=request)\nSSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590)\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/438\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/432", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/432/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/432/events", "html_url": "https://github.com/pypa/setuptools/issues/432", "id": 144281754, "node_id": "MDU6SXNzdWUxNDQyODE3NTQ=", "number": 432, "title": "Upload releases for setuptools 0.7-2.x in zip format", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2015-09-08T20:02:51Z", "updated_at": "2016-03-29T14:29:46Z", "closed_at": "2016-03-29T14:29:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [this comment](https://bitbucket.org/pypa/setuptools/issues/7/ez_setuppy-should-validate-tar-file#comment-21620381), a request was made to cut releases of older setuptools such that the latest bootstrap script can be used to get old versions of setuptools.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/432\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/431", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/431/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/431/events", "html_url": "https://github.com/pypa/setuptools/issues/431", "id": 144281744, "node_id": "MDU6SXNzdWUxNDQyODE3NDQ=", "number": 431, "title": "find_packages() not compatible with PEP420 namespaces", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315097, "node_id": "MDU6TGFiZWwzNDkzMTUwOTc=", "url": "https://api.github.com/repos/pypa/setuptools/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-07T20:10:26Z", "updated_at": "2016-10-19T15:43:34Z", "closed_at": "2016-10-19T15:43:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **wichert (Bitbucket: [wichert](http://bitbucket.org/wichert), GitHub: [wichert](http://github.com/wichert))**\n\n---\n\nI ran into a problem with a package always generating empty wheels. This turned out to be caused by setuptools.find_packages not finding any packages when using PEP 420 namespaces. This is easy to test:\n\n```\n$ mkdir -p src/foo/bar\n$ : > src/foo/bar/__init__.py\n$ python  -c 'from setuptools import find_packages ; print(find_packages(\"src\"))'\n[]\n```\n\nAdding an empty **init**.py to quickly simulate old-style namespace packages makes find_packages do the right thing:\n\n```\n$ : > src/foo/__init__.py\n$ ../bin/python  -c 'from setuptools import find_packages ; print(find_packages(\"src\"))'\n['foo', 'foo.bar']\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/431\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/430", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/430/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/430/events", "html_url": "https://github.com/pypa/setuptools/issues/430", "id": 144281730, "node_id": "MDU6SXNzdWUxNDQyODE3MzA=", "number": 430, "title": "18.3.1  ez_setup.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-09-07T08:41:41Z", "updated_at": "2016-03-29T14:29:38Z", "closed_at": "2016-03-29T14:29:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nVersion 18.3.1 of the ez_setup.py script fails with BadZipFile error\n\nwget --no-check-certificate https://bootstrap.pypa.io/ez_setup.py -O - | python\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/430\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/429", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/429/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/429/events", "html_url": "https://github.com/pypa/setuptools/issues/429", "id": 144281713, "node_id": "MDU6SXNzdWUxNDQyODE3MTM=", "number": 429, "title": "python 2.7 & setuptools 18.3.1 are not compatible", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-07T08:39:44Z", "updated_at": "2016-03-29T14:29:35Z", "closed_at": "2016-03-29T14:29:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **zsoldosp (Bitbucket: [zsoldosp](http://bitbucket.org/zsoldosp), GitHub: [zsoldosp](http://github.com/zsoldosp))**\n\n---\n\non ubuntu LTS the following script reproduces the problem. Setuptools 18.3 fails, 18.2 works. \n# Highlights:\n- Python 2.7.6\n- virtualenv 12.0.7\n- `zipfile.BadZipfile: File is not a zip file`\n# Repro script:\n\n```\n#!/bin/bash\npython=$(which python)\nvenv=repro-venv\n$python --version\nvirtualenv --version\nvirtualenv $venv --no-site-packages --no-setuptools --no-pip --python=$python\nwget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O ez_setup.py\nsource $venv/bin/activate\npython ez_setup.py  # --version=18.2 would make it work\n```\n# Script output\n\n```\nPython 2.7.6\n12.0.7\nAlready using interpreter /usr/bin/python\nNew python executable in repro-venv/bin/python\n--2015-09-07 10:38:38--  https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\nResolving bitbucket.org (bitbucket.org)... 131.103.20.167, 131.103.20.168, 131.103.20.167, ...\nConnecting to bitbucket.org (bitbucket.org)|131.103.20.167|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 11434 (11K) [text/plain]\nSaving to: \u2018ez_setup.py\u2019\n\n     0K .......... .                                          100% 59.2M=0s\n\n2015-09-07 10:38:40 (59.2 MB/s) - \u2018ez_setup.py\u2019 saved [11434/11434]\n\nExtracting in /tmp/tmpY3J40w\nTraceback (most recent call last):\n  File \"ez_setup.py\", line 391, in <module>\n    sys.exit(main())\n  File \"ez_setup.py\", line 388, in main\n    return _install(archive, _build_install_args(options))\n  File \"ez_setup.py\", line 50, in _install\n    with archive_context(archive_filename):\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"ez_setup.py\", line 101, in archive_context\n    with ContextualZipFile(filename) as archive:\n  File \"ez_setup.py\", line 85, in __new__\n    return zipfile.ZipFile(*args, **kwargs)\n  File \"/usr/lib/python2.7/zipfile.py\", line 770, in __init__\n    self._RealGetContents()\n  File \"/usr/lib/python2.7/zipfile.py\", line 811, in _RealGetContents\n    raise BadZipfile, \"File is not a zip file\"\nzipfile.BadZipfile: File is not a zip file\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/429\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/429/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/428", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/428/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/428/events", "html_url": "https://github.com/pypa/setuptools/issues/428", "id": 144281706, "node_id": "MDU6SXNzdWUxNDQyODE3MDY=", "number": 428, "title": "Missing .zip source package in 18.3.1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-07T08:39:27Z", "updated_at": "2016-03-29T14:29:33Z", "closed_at": "2016-03-29T14:29:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **khanhicetea (Bitbucket: [khanhicetea](http://bitbucket.org/khanhicetea), GitHub: [khanhicetea](http://github.com/khanhicetea))**\n\n---\n\nI got error in my CI build, it cause because new version miss ZIP package\n\n`https://bootstrap.pypa.io/ez_setup.py` downloads `https://pypi.python.org/packages/source/s/setuptools/setuptools-18.3.1.zip` but it's not found\n\nThis is build log\n\n```\n$ wget --no-check-certificate https://bootstrap.pypa.io/ez_setup.py -O - | python\n--2015-09-07 08:27:11--  https://bootstrap.pypa.io/ez_setup.py\nResolving bootstrap.pypa.io (bootstrap.pypa.io)... 103.245.222.175\nConnecting to bootstrap.pypa.io (bootstrap.pypa.io)|103.245.222.175|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 11434 (11K) [text/x-python]\nSaving to: `STDOUT'\n\n     0K .......... .                                          100% 29.6M=0s\n\n2015-09-07 08:27:11 (29.6 MB/s) - written to stdout [11434/11434]\n\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-18.3.1.zip\nExtracting in /tmp/tmpyqza_1\nTraceback (most recent call last):\n  File \"<stdin>\", line 391, in <module>\n  File \"<stdin>\", line 388, in main\n  File \"<stdin>\", line 50, in _install\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"<stdin>\", line 101, in archive_context\n  File \"/usr/lib/python2.7/zipfile.py\", line 714, in __init__\n    self._GetContents()\n  File \"/usr/lib/python2.7/zipfile.py\", line 748, in _GetContents\n    self._RealGetContents()\n  File \"/usr/lib/python2.7/zipfile.py\", line 763, in _RealGetContents\n    raise BadZipfile, \"File is not a zip file\"\nzipfile.BadZipfile: File is not a zip file\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/428\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/427", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/427/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/427/events", "html_url": "https://github.com/pypa/setuptools/issues/427", "id": 144281680, "node_id": "MDU6SXNzdWUxNDQyODE2ODA=", "number": 427, "title": "The 18.3.1 release misses the .zip version, so ez_setup.py (and all buildout bootstraps) are broken", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-09-07T08:38:23Z", "updated_at": "2016-03-29T14:29:28Z", "closed_at": "2016-03-29T14:29:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nIf I look at https://pypi.python.org/simple/setuptools/, 18.3.1 is the only release that only has a .tar.gz instead of both a .tar.gz and a .zip file.\n\nThe ez_setup.py from https://bootstrap.pypa.io/ez_setup.py is hardcoded to look for the .zip version, so it errors with a \"this is not a zipfile\". It gets a 404, which isn't a zipfile :-)\n\nBuildout's bootstrap downloads a fresh ez_setup.py, so all buildouts are now effectively broken. Assigning priority \"blocker\" for this, ok? See https://github.com/buildout/buildout/issues/262\n\nSo: can someone upload the .zip version, too?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/427\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/426", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/426/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/426/events", "html_url": "https://github.com/pypa/setuptools/issues/426", "id": 144281665, "node_id": "MDU6SXNzdWUxNDQyODE2NjU=", "number": 426, "title": "Many new test failures with 18.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-07T03:03:38Z", "updated_at": "2016-03-29T14:29:23Z", "closed_at": "2016-03-29T14:29:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nI am getting the following new test errors for setuptoos 18.3. I have tried to run 18.2 tests with exactly the same environment, and none of them failed. Any hints?\n\nPlatform: linux -- Python 3.4.3 -- py-1.4.30 -- pytest-2.7.2\n\n```\n==================================== ERRORS ====================================\n____________________ ERROR at setup of Test.test_bdist_egg _____________________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_bdist_egg.py, line 29\n      def test_bdist_egg(self, setup_context, user_override):\n        fixture 'user_override' not found\n        available fixtures: tmpdir, setup_context, capfd, recwarn, pytestconfig, monkeypatch, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_bdist_egg.py:29\n ERROR at setup of TestUserInstallTest.test_user_install_not_implied_user_site_enabled\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py, line 166\n          @wraps(func)\n          def patched(*args, **keywargs):\n        fixture 'user_override' not found\n        available fixtures: tmpdir, setup_context, capfd, recwarn, pytestconfig, foo_package, install_target, monkeypatch, distutils_package, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py:166\n ERROR at setup of TestUserInstallTest.test_user_install_not_implied_user_site_disabled\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py, line 172\n          @wraps(func)\n          def patched(*args, **keywargs):\n        fixture 'user_override' not found\n        available fixtures: tmpdir, setup_context, capfd, recwarn, pytestconfig, foo_package, install_target, monkeypatch, distutils_package, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py:172\n_________ ERROR at setup of TestUserInstallTest.test_multiproc_atexit __________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py, line 187\n      def test_multiproc_atexit(self):\n        fixture 'user_override' not found\n        available fixtures: tmpdir, setup_context, capfd, recwarn, pytestconfig, foo_package, install_target, monkeypatch, distutils_package, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py:187\n____________ ERROR at setup of TestUserInstallTest.test_local_index ____________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py, line 209\n      def test_local_index(self, foo_package, install_target):\n        fixture 'user_override' not found\n        available fixtures: tmpdir, setup_context, capfd, recwarn, pytestconfig, foo_package, install_target, monkeypatch, distutils_package, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_easy_install.py:209\n________ ERROR at setup of TestEggInfo.test_egg_base_installed_egg_info ________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_egg_info.py, line 56\n      def test_egg_base_installed_egg_info(self, tmpdir_cwd, env):\n        fixture 'tmpdir_cwd' not found\n        available fixtures: tmpdir, capfd, recwarn, env, pytestconfig, monkeypatch, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_egg_info.py:56\n___________________ ERROR at setup of TestTestTest.test_test ___________________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_test.py, line 73\n      def test_test(self):\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_test.py, line 47\n  @pytest.fixture\n  def sample_test(tmpdir_cwd):\n        fixture 'tmpdir_cwd' not found\n        available fixtures: tmpdir, capfd, recwarn, pytestconfig, sample_test, monkeypatch, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_test.py:47\n___________ ERROR at setup of TestUploadDocsTest.test_create_zipfile ___________\nfile /build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_upload_docs.py, line 42\n      def test_create_zipfile(self):\n        fixture 'user_override' not found\n        available fixtures: sample_project, tmpdir, capfd, recwarn, pytestconfig, monkeypatch, capsys\n        use 'py.test --fixtures [testpath]' for help on them.\n\n/build/python-setuptools/src/setuptools-18.3/setuptools/tests/test_upload_docs.py:42\n=================================== FAILURES ===================================\n_______________________________ test_virtualenv ________________________________\n\nargs = (), kwargs = {}, test_dir = '/tmp/tmpf_7_ovnn'\nold_dir = '/build/python-setuptools/src/setuptools-18.3'\n\n    def _tempdir(*args, **kwargs):\n        test_dir = tempfile.mkdtemp()\n        old_dir = os.getcwd()\n        os.chdir(test_dir)\n        try:\n>           return func(*args, **kwargs)\n\ntests/manual_test.py:21:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/manual_test.py:56: in test_virtualenv\n    _system_call('bin/easy_install', 'setuptools==dev')\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nargs = ('bin/easy_install', 'setuptools==dev')\n@py_assert1 = <function call at 0x7fd10799c400>, @py_assert4 = 1\n@py_assert7 = 0\n\n    def _system_call(*args):\n>       assert subprocess.call(args) == 0\nE       assert 1 == 0\nE        +  where 1 = <function call at 0x7fd10799c400>(('bin/easy_install', 'setuptools==dev'))\nE        +    where <function call at 0x7fd10799c400> = subprocess.call\n\ntests/manual_test.py:13: AssertionError\n----------------------------- Captured stdout call -----------------------------\nUsing base prefix '/usr'\nNew python executable in ./bin/python3\nAlso creating executable in ./bin/python\nInstalling setuptools, pip, wheel...done.\nSearching for setuptools==dev\nReading https://pypi.python.org/simple/setuptools/\n----------------------------- Captured stderr call -----------------------------\nNo local packages or download links found for setuptools==dev\nerror: Could not find suitable distribution for Requirement.parse('setuptools==dev')\n__________________________________ test_full ___________________________________\n\nargs = (), kwargs = {}, test_dir = '/tmp/tmp4wgbev6r'\nold_dir = '/build/python-setuptools/src/setuptools-18.3'\n\n    def _tempdir(*args, **kwargs):\n        test_dir = tempfile.mkdtemp()\n        old_dir = os.getcwd()\n        os.chdir(test_dir)\n        try:\n>           return func(*args, **kwargs)\n\ntests/manual_test.py:21:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/manual_test.py:70: in test_full\n    _system_call('bin/easy_install', '-q', 'setuptools==dev')\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nargs = ('bin/easy_install', '-q', 'setuptools==dev')\n@py_assert1 = <function call at 0x7fd10799c400>, @py_assert4 = 1\n@py_assert7 = 0\n\n    def _system_call(*args):\n>       assert subprocess.call(args) == 0\nE       assert 1 == 0\nE        +  where 1 = <function call at 0x7fd10799c400>(('bin/easy_install', '-q', 'setuptools==dev'))\nE        +    where <function call at 0x7fd10799c400> = subprocess.call\n\ntests/manual_test.py:13: AssertionError\n----------------------------- Captured stdout call -----------------------------\nUsing base prefix '/usr'\nNew python executable in ./bin/python3\nAlso creating executable in ./bin/python\nInstalling setuptools, pip, wheel...done.\n----------------------------- Captured stderr call -----------------------------\nNo local packages or download links found for setuptools==dev\nerror: Could not find suitable distribution for Requirement.parse('setuptools==dev')\n===== 2 failed, 110 passed, 5 skipped, 2 xfailed, 8 error in 28.04 seconds =====\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/426\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/425", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/425/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/425/events", "html_url": "https://github.com/pypa/setuptools/issues/425", "id": 144281641, "node_id": "MDU6SXNzdWUxNDQyODE2NDE=", "number": 425, "title": "Odd failure on 18.3 (missing files, but they are there)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-06T21:31:21Z", "updated_at": "2016-03-29T14:29:19Z", "closed_at": "2016-03-29T14:29:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nI got this minboggling failure on travis: https://travis-ci.org/ionelmc/pytest-benchmark/jobs/79025407\n\nIf I force 18.2 it works fine: https://travis-ci.org/ionelmc/pytest-benchmark/jobs/79030569\n\nDoesn't looks like setuptools might cause that but the downgrade solves it. Any idea about what's going on?\n\nAFAIK pip will use the correct working directory and that file should be there. Is there any sandbox code in setuptools that might affect this? \n\nThe setup.py is here:  https://github.com/ionelmc/pytest-benchmark/blob/fb397cb5866eaa76d918e5741724a6b504a73eb3/setup.py\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/425\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/421", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/421/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/421/events", "html_url": "https://github.com/pypa/setuptools/issues/421", "id": 144281570, "node_id": "MDU6SXNzdWUxNDQyODE1NzA=", "number": 421, "title": "Import errors masking creating of _vendor lib", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-27T12:12:11Z", "updated_at": "2016-03-29T14:29:01Z", "closed_at": "2016-03-29T14:29:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **iElectric (Bitbucket: [iElectric](http://bitbucket.org/iElectric), GitHub: Unknown)**\n\n---\n\nMinimal example:\n\n```\n#!python\n__requires__ = ['Sphinx >= 1.0']\n\ntry:\n    import pkg_resources\nexcept:\n    del __requires__\n\nimport setuptools\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/nix/store/fpjrbn8jr6nvfijz32vy147mpar7qc72-python2.7-setuptools-18.0.1/lib/python2.7/site-packages/setuptools-18.0.1-py2.7.egg/setuptools/__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"/nix/store/fpjrbn8jr6nvfijz32vy147mpar7qc72-python2.7-setuptools-18.0.1/lib/python2.7/site-packages/setuptools-18.0.1-py2.7.egg/setuptools/extension.py\", line 8, in <module>\n    from .dist import _get_unpatched\n  File \"/nix/store/fpjrbn8jr6nvfijz32vy147mpar7qc72-python2.7-setuptools-18.0.1/lib/python2.7/site-packages/setuptools-18.0.1-py2.7.egg/setuptools/dist.py\", line 19, in <module>\n    import pkg_resources\n  File \"/nix/store/fpjrbn8jr6nvfijz32vy147mpar7qc72-python2.7-setuptools-18.0.1/lib/python2.7/site-packages/setuptools-18.0.1-py2.7.egg/pkg_resources/__init__.py\", line 90, in <module>\n    packaging = pkg_resources._vendor.packaging\nAttributeError: 'module' object has no attribute '_vendor'\n```\n\nExample usage in:\n\nhttps://github.com/fedora-infra/python-fedora/blob/develop/setup.py\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/421\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/419", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/419/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/419/events", "html_url": "https://github.com/pypa/setuptools/issues/419", "id": 144281507, "node_id": "MDU6SXNzdWUxNDQyODE1MDc=", "number": 419, "title": "setuptools pkg_resources fails to detect version properly", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 41, "created_at": "2015-08-26T20:26:05Z", "updated_at": "2016-03-29T14:28:56Z", "closed_at": "2016-03-29T14:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Eric89GXL (Bitbucket: [Eric89GXL](http://bitbucket.org/Eric89GXL), GitHub: [Eric89GXL](http://github.com/Eric89GXL))**\n\n---\n\nWhen installing a package:\n\n```\n  File \"/home/larsoner/.local/lib/python2.7/site-packages/setuptools/dist.py\", line 268, in __init__\n    self.fetch_build_eggs(attrs['setup_requires'])\n  File \"/home/larsoner/.local/lib/python2.7/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/home/larsoner/.local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 836, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/home/larsoner/.local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1074, in best_match\n    dist = working_set.find(req)\n  File \"/home/larsoner/.local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 711, in find\n    raise VersionConflict(dist, req)\npkg_resources.VersionConflict: (numpy 1.11.0.dev0-2329eae (/home/larsoner/.local/lib/python2.7/site-packages), Requirement.parse('numpy>=1.6.1'))\n```\n\nIn other words, my numpy 1.11.0.dev0 is not seen as satisfying a >= 1.6.1 version requirement. It seems like using `disutils.version.LooseVersion` or so should solve this. I'm happy to look into making a PR if this seems like the right solution.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/419\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/412", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/412/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/412/events", "html_url": "https://github.com/pypa/setuptools/issues/412", "id": 144281368, "node_id": "MDU6SXNzdWUxNDQyODEzNjg=", "number": 412, "title": "setuptools.find_packages() is much slower than it needs to be.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-20T15:10:24Z", "updated_at": "2016-03-29T14:28:19Z", "closed_at": "2016-03-29T14:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **spookylukey (Bitbucket: [spookylukey](http://bitbucket.org/spookylukey), GitHub: [spookylukey](http://github.com/spookylukey))**\n\n---\n\n`find_packages` effectively does `ls -Ra` on the directory, and then filters the result. If you happen to have a lot of files in the directory (e.g. for a checkout directory of a Python package under development) this can take a really long time.\n\nIf you need convincing that this might be important, read on, otherwise just wait for my pull request :-)\n\nIn particular, it badly affects [tox](http://tox.readthedocs.org/en/latest/) - a common Python testing tool used in development that runs tests against various versions of dependencies. tox creates virtual environments for each environment to test, and typically uses a local `setup.py sdist` (or similar) to install the package into the virtualenv, which can can run `find_packages` if the `setup.py` uses that.\n\nThese virtualenvs (of which there can easily be dozens) are stored in a  `.tox` folder in the local package checkout folder, meaning that you end up with many thousands of files in the package directory, and these are iterated over (multiple times) when tox is run. From a cold startup, I'm often waiting minutes for tox to run, and even with a warmed file system it takes often 10 seconds.\n\ntox is not the only reason why the local dir could contain lots of files - other things like git/hg mean there can be many files in the local directory.\n\nIssue #326 might be to do with this, but the original reporter seemed to think otherwise.\n\nThankfully, the issue is easily fixed - these hidden dirs are filtered away by the code, and all we need to do is filter them away earlier so that the recursive walk short-circuits. Pull request to follow.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/412\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/408", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/408/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/408/events", "html_url": "https://github.com/pypa/setuptools/issues/408", "id": 144281316, "node_id": "MDU6SXNzdWUxNDQyODEzMTY=", "number": 408, "title": "'setup.py develop' does not respect Extension(optional=True)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-08T13:42:58Z", "updated_at": "2022-08-16T12:01:04Z", "closed_at": "2022-08-16T12:01:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nthe following snibbet has a c-extension that fails to build.\n\nwhen executed with 'python setup.py install' the error is shown, but the install continues and finishes.\n\nwhen executed with 'python setup.py develop' the script exits with\n\n```\n#!text\nerror: can't copy 'build/lib.linux-x86_64-3.4/name.cpython-34m.so': doesn't exist or not a regular file\n```\n\n```\n#!python\n\"\"\"\"\nworks fine with\n% python setup.py install\nbut not with\n% python setup.py develop\n\"\"\"\n\nfrom setuptools import setup\nfrom distutils.core import Extension\n\nsetup(\n    name=\"debug\",\n    version=\"0.0\",\n    ext_modules=[\n        Extension(\n            \"name\",\n            sources=[\"doesnotexist.c\"],\n            optional=True,\n        )\n    ]\n)\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/408\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/405", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/405/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/405/events", "html_url": "https://github.com/pypa/setuptools/issues/405", "id": 144281260, "node_id": "MDU6SXNzdWUxNDQyODEyNjA=", "number": 405, "title": "zip-safe analysis isn't quiet", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-05T14:59:23Z", "updated_at": "2022-01-04T19:03:33Z", "closed_at": "2022-01-04T19:03:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nConsider this example installation run:\n\n```\n> python2.7 -m easy_install -q importlib2\nzip_safe flag not set; analyzing archive contents...\nimportlib2.__init__: module references __path__\nimportlib2._bootstrap: module references __file__\nimportlib2._bootstrap: module references __path__\nimportlib2.util: module references __path__\nimportlib2._fixers._modules: module references __file__\nimportlib2._fixers._modules: module references __path__\nimportlib2._version.__init__: module references __file__\n```\n\nThe `-q` option suppressed most of the output, but not the zip-safe analysis. That should be made quiet also.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/405\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/401", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/401/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/401/events", "html_url": "https://github.com/pypa/setuptools/issues/401", "id": 144281177, "node_id": "MDU6SXNzdWUxNDQyODExNzc=", "number": 401, "title": "Failed test w/18.0", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-24T11:41:40Z", "updated_at": "2016-03-29T14:27:40Z", "closed_at": "2016-03-29T14:27:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nI am getting the following failure when running the shipped tests in 18.0 tarball:\n\n```\n=================================== FAILURES ===================================\n_______ TestCommandSpec.test_from_environment_with_spaces_in_executable ________\n\nargs = (<setuptools.tests.test_easy_install.TestCommandSpec object at 0x7f2f98f5e5f8>,)\nkeywargs = {}, extra_args = []\nentered_patchers = [<unittest.mock._patch object at 0x7f2f99226978>]\nexc_info = (<class 'KeyError'>, KeyError('__PYVENV_LAUNCHER__',), <traceback object at 0x7f2f98065108>)\npatching = <unittest.mock._patch object at 0x7f2f99226978>\narg = 'C:\\\\Program Files\\\\Python33\\\\python.exe'\n\n    @wraps(func)\n    def patched(*args, **keywargs):\n        extra_args = []\n        entered_patchers = []\n\n        exc_info = tuple()\n        try:\n            for patching in patched.patchings:\n                arg = patching.__enter__()\n                entered_patchers.append(patching)\n                if patching.attribute_name is not None:\n                    keywargs.update(arg)\n                elif patching.new is DEFAULT:\n                    extra_args.append(arg)\n\n            args += tuple(extra_args)\n>           return func(*args, **keywargs)\n\n/usr/lib/python3.4/unittest/mock.py:1136:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n/usr/lib/python3.4/unittest/mock.py:1549: in _inner\n    return f(*args, **kw)\nsetuptools/tests/test_easy_install.py:494: in test_from_environment_with_spaces_in_executable\n    del os.environ['__PYVENV_LAUNCHER__']\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = environ({'USERNAME': 'builduser', 'SUDO_COMMAND': '/usr/bin/makepkg -s --noconfirm -L --holdver -i', 'SUDO_GID': '0', ... 'root', 'PATH': '/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl'})\nkey = '__PYVENV_LAUNCHER__'\n\n    def __delitem__(self, key):\n        encodedkey = self.encodekey(key)\n        self.unsetenv(encodedkey)\n        try:\n            del self._data[encodedkey]\n        except KeyError:\n            # raise KeyError with the original key value\n>           raise KeyError(key) from None\nE           KeyError: '__PYVENV_LAUNCHER__'\n\n/usr/lib/python3.4/os.py:649: KeyError\n========= 1 failed, 121 passed, 6 skipped, 2 xfailed in 27.53 seconds ==========\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/401\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/399", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/399/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/399/events", "html_url": "https://github.com/pypa/setuptools/issues/399", "id": 144281137, "node_id": "MDU6SXNzdWUxNDQyODExMzc=", "number": 399, "title": "__del__ seems to have weird (wrong) environment in unittests performed w/ setuptools", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-21T23:43:36Z", "updated_at": "2022-01-04T23:46:22Z", "closed_at": "2022-01-04T23:46:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **CrazyCasta (Bitbucket: [CrazyCasta](http://bitbucket.org/CrazyCasta), GitHub: [CrazyCasta](http://github.com/CrazyCasta))**\n\n---\n\nI'm writing a Lua wrapper and the top layer of abstraction needs to call lua_close on the underlying lua_State. Nothing pecular, but when I run python setup.py test, it fails, saying that essentially lib is a NoneType. lib is something that's imported from a cffi package and is never assigned to, so I'm unclear how it's becoming None. If I test the unittest outside of setuptools it seems to work fine.\n\nI've reduced this to a sample that is very simple using sin imported from math instead of a cffi module. I've attached said example. setuptools_test.txt is the output of python setup.py test. unittest_test.txt is the output of python test2.py.\n\nPython is CPython 2.7.9.\n\nExpected result, something along the lines of:\n\ntestCallStuff (test.lua.RealCodeTestCase) ... ok\n\n---\n\nRan 1 test in 0.002s\n\nOK\n0.841470984808\n\nActual result:\n\nrunning test\nrunning egg_info\nwriting PyLua.egg-info/PKG-INFO\nwriting top-level names to PyLua.egg-info/top_level.txt\nwriting dependency_links to PyLua.egg-info/dependency_links.txt\nreading manifest file 'PyLua.egg-info/SOURCES.txt'\nwriting manifest file 'PyLua.egg-info/SOURCES.txt'\nrunning build_ext\ntestCallStuff (test.lua.RealCodeTestCase) ... ok\n\n---\n\nRan 1 test in 0.001s\n\nOK\nException TypeError: \"'NoneType' object is not callable\" in <bound method Test.__del__ of <lua.lua.Test object at 0x7fcbc85bd390>> ignored\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/399\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/398", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/398/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/398/events", "html_url": "https://github.com/pypa/setuptools/issues/398", "id": 144281096, "node_id": "MDU6SXNzdWUxNDQyODEwOTY=", "number": 398, "title": "Removal of escaping in shebang in pip install causes \"failed to create process\" on Windows", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-06-19T18:38:13Z", "updated_at": "2016-06-12T18:35:41Z", "closed_at": "2016-03-29T14:27:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **joeyespo (Bitbucket: [joeyespo](http://bitbucket.org/joeyespo), GitHub: [joeyespo](http://github.com/joeyespo))**\n\n---\n\nI have Python installed in `C:\\Program Files (x86)\\Python` (for legacy reasons--it's kind of late to move it now), and any `console_script` I install from PyPI breaks now. Running the script causes a \"failed to create process\" error.\n\nI noticed that older console_scripts were working, and turns out it's because they were quoted. Ex: `#!\"C:\\Program Files (x86)\\Python\\python.exe\"`\n\nManually adding quotes around the newly installed `projectname-script.py` fixes it.\n\nIt looks like the culprit may have been the fix in #188. From that issue:\n\n> If it is possible to detect being on a posix platform (probably not that easy?), we could just skip the escaping, as it is never beneficial. If this is not possible, maybe just skip the escaping all together? The benefit seems very platform specific.\n\nTurns out skipping escaping all together just threw the problem back over the fence to Windows. Perhaps it'd be best to detect the platform? Escaping is indeed a platform-specific thing.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/398\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/396", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/396/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/396/events", "html_url": "https://github.com/pypa/setuptools/issues/396", "id": 144281050, "node_id": "MDU6SXNzdWUxNDQyODEwNTA=", "number": 396, "title": "Test failure on OS X framework build", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-13T15:00:02Z", "updated_at": "2016-03-29T14:27:22Z", "closed_at": "2016-03-29T14:27:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nCurrently, a test fails on OS X under Python 3.4 framework build due to the setting of `__PYVENV_LAUNCHER__`:\n\n```\n$ python setup.py test --addopts='-k environment_with_spaces'\n...\n====================================== test session starts =======================================\nplatform darwin -- Python 3.4.3 -- py-1.4.28 -- pytest-2.6.4\ncollected 128 items / 2 skipped \n\nsetuptools/tests/test_easy_install.py F\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> traceback >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n\nself = <setuptools.tests.test_easy_install.TestCommandSpec object at 0x1048f3e80>\n\n    def test_from_environment_with_spaces_in_executable(self):\n        with mock.patch('sys.executable', TestScriptHeader.exe_with_spaces):\n            cmd = ei.CommandSpec.from_environment()\n        assert len(cmd) == 1\n>       assert cmd.as_header().startswith('#!\"')\nE       assert <built-in method startswith of str object at 0x1048f74e0>('#!\"')\nE        +  where <built-in method startswith of str object at 0x1048f74e0> = '#!/Library/Frameworks/Python.framework/Versions/3.4/bin/python3\\n'.startswith\nE        +    where '#!/Library/Frameworks/Python.framework/Versions/3.4/bin/python3\\n' = <bound method CommandSpec.as_header of ['/Library/Frameworks/Python.framework/Versions/3.4/bin/python3']>()\nE        +      where <bound method CommandSpec.as_header of ['/Library/Frameworks/Python.framework/Versions/3.4/bin/python3']> = ['/Library/Frameworks/Python.framework/Versions/3.4/bin/python3'].as_header\n\nsetuptools/tests/test_easy_install.py:495: AssertionError\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/396\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/395", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/395/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/395/events", "html_url": "https://github.com/pypa/setuptools/issues/395", "id": 144281033, "node_id": "MDU6SXNzdWUxNDQyODEwMzM=", "number": 395, "title": "Scripts are re-installed when packages are listed as dependencies", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-06-09T15:03:48Z", "updated_at": "2016-03-29T14:27:20Z", "closed_at": "2016-03-29T14:27:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **astrofrog (Bitbucket: [astrofrog](http://bitbucket.org/astrofrog), GitHub: [astrofrog](http://github.com/astrofrog))**\n\n---\n\nIf I specify dependencies using install_requires and require a package like coveralls or astropy, which both have entry points for command-line scripts, when I install this package it looks like setuptools claims to be re-installing the scripts for the dependencies:\n\n```\nBest match: coveralls 1.0a2\nProcessing coveralls-1.0a2-py3.4.egg\ncoveralls 1.0a2 is already the active version in easy-install.pth\nInstalling coveralls script to /Users/tom/miniconda3/envs/production/bin\n```\n\nor\n\n```\nSearching for astropy==1.0.2\nBest match: astropy 1.0.2\nAdding astropy 1.0.2 to easy-install.pth file\nInstalling fits2bitmap script to /Users/tom/miniconda3/envs/production/bin\nInstalling fitsdiff script to /Users/tom/miniconda3/envs/production/bin\nInstalling fitscheck script to /Users/tom/miniconda3/envs/production/bin\nInstalling samp_hub script to /Users/tom/miniconda3/envs/production/bin\nInstalling wcslint script to /Users/tom/miniconda3/envs/production/bin\nInstalling volint script to /Users/tom/miniconda3/envs/production/bin\nInstalling fitsheader script to /Users/tom/miniconda3/envs/production/bin\n```\n\nIs this expected/normal?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/395\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/392", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/392/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/392/events", "html_url": "https://github.com/pypa/setuptools/issues/392", "id": 144280981, "node_id": "MDU6SXNzdWUxNDQyODA5ODE=", "number": 392, "title": "'develop' command does not support --home option", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-05-30T16:00:04Z", "updated_at": "2022-01-04T18:43:43Z", "closed_at": "2022-01-04T18:43:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nThe 'develop' command doesn't support the '--home' option. This gets used by pip when installing editable packages with '-t', yielding the following error:\n\n```\n$ pip2 install -e . -t www/lib/\nObtaining file:///Users/pgriess/src/pgriess-dallas-foodscores\nCollecting tweepy>=3 (from foodscores==0.1)\n  Using cached tweepy-3.3.0-py2.py3-none-any.whl\nCollecting feedgen>=0.3 (from foodscores==0.1)\n...\n  Running setup.py develop for foodscores\n    Complete output from command /opt/local/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c \"import setuptools, tokenize; __file__='/Users/pgriess/src/pgriess-dallas-foodscores/setup.py'; exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" develop --no-deps --home=/var/folders/lh/bdrw67kn04s7c7rdtsk50pg8f1dq3h/T/tmpyinatN:\n    usage: -c [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n       or: -c --help [cmd1 cmd2 ...]\n       or: -c --help-commands\n       or: -c cmd --help\n\n    error: option --home not recognized\n```\n\nNot sure if this should be considered a bug in `setuptools` or `pip`; apologies in advance if this is expected behavior and `pip` should just be doing something different.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/392\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/392/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/392/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/391", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/391/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/391/events", "html_url": "https://github.com/pypa/setuptools/issues/391", "id": 144280973, "node_id": "MDU6SXNzdWUxNDQyODA5NzM=", "number": 391, "title": "dependencies listed in both setup_requires and install_requires install to temporary .egg dir", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-05-28T15:02:26Z", "updated_at": "2021-10-22T18:58:32Z", "closed_at": "2021-10-22T18:58:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **james_salter (Bitbucket: [james_salter](http://bitbucket.org/james_salter), GitHub: Unknown)**\n\n---\n\nFound on setuptools 16.0, python 2.7.9, windows 8.\n\nTest script:\n\n```\nfrom setuptools import setup\n\npackage = \"football-data\"\n\nsetup(\n    setup_requires=[package],\n    install_requires=[package],\n    name=\"test_setup_requires\"\n)\n```\n\nAfter running this script from c:\\dev, my c:\\python27\\lib\\site-packages\\easy-install.pth contains:\n\nc:/dev/.eggs/football_data-0.1.2-py2.7.egg\n\ni.e. the package has been installed with its location in the temporary .eggs directory used to fulfil the `install_requires` directive. \n\nThis doesn't happen if the `setup_requires` key is omitted - the package is then installed to site-packages as expected. And it isn't installed at all if `install_requires` is omitted, as expected.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/391\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/389", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/389/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/389/events", "html_url": "https://github.com/pypa/setuptools/issues/389", "id": 144280945, "node_id": "MDU6SXNzdWUxNDQyODA5NDU=", "number": 389, "title": "./setup.py test does not support --find-links or --index-url", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-27T10:43:04Z", "updated_at": "2022-01-04T23:47:13Z", "closed_at": "2022-01-04T23:47:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **miracle2k (Bitbucket: [miracle2k](http://bitbucket.org/miracle2k), GitHub: [miracle2k](http://github.com/miracle2k))**\n\n---\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/389\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/384", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/384/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/384/events", "html_url": "https://github.com/pypa/setuptools/issues/384", "id": 144280854, "node_id": "MDU6SXNzdWUxNDQyODA4NTQ=", "number": 384, "title": "Unhelpful error message \"You must be identified to edit package information\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-17T18:53:45Z", "updated_at": "2016-03-29T14:26:43Z", "closed_at": "2016-03-29T14:26:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **hickford (Bitbucket: [hickford](http://bitbucket.org/hickford), GitHub: [hickford](http://github.com/hickford))**\n\n---\n\n```\n$ python setup.py sdist bdist_wheel upload\nerror: HTTP Error 401: You must be identified to edit package information\n```\n\nHow do I do that? I've done it before and can't even remember.\n\nA more helpful user friendly message would encourage the user to run the command `pip register` or `pip login` or whatever it is\n\n[Reproduced from https://github.com/pypa/packaging-problems/issues/62 ]\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/384\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/383", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/383/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/383/events", "html_url": "https://github.com/pypa/setuptools/issues/383", "id": 144280832, "node_id": "MDU6SXNzdWUxNDQyODA4MzI=", "number": 383, "title": "unquoted executable string in generated startup utility [windows]", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-15T11:36:04Z", "updated_at": "2016-03-29T14:26:39Z", "closed_at": "2016-03-29T14:26:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **anthon_van_der_neut (Bitbucket: [anthon_van_der_neut](http://bitbucket.org/anthon_van_der_neut), GitHub: Unknown)**\n\n---\n\nIf you have installed python in a path which contains a space, which is common for\nthe correct path to install python on windows (%ProgramFiles% -> \"C:|Program Files\")\ninstalled utilities build from source fail to start.\n\nTo reproduce (on windows 7)\n- install python2.7.9-64 bit on windows with `msiexec /i python-2.7.9.amd64.msi /passive TARGETDIR=\"%ProgramFiles%\\Python\\2.7\"`\n- add \"%ProgramFiles%\\Python\\2.7\" and \"%ProgramFiles%\\Python\\2.7\\Scripts\" to PATH env. var.\n-  `python get_pip.py`\n- `pip install setuptools`\n- `pip install tox` \n- `tox`  <- works because this is from a whl file\n- `pip install pytest`\n- `py.test` <- fails \"Failed to create process.\", installs from tar.gz and doesn't work \n\nthe header of the Scripts\\py.test-2.7-script.py file:\n\n```\n`#!C:\\Program Files\\Python\\2.7\\python.exe`\n```\n\nif changed into \n\n   `#!\"C:\\Program Files\\Python\\2.7\\python.exe\"`\n\nand `py.test` works fine. Executables with spaces in them must be quoted.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/383\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/382", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/382/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/382/events", "html_url": "https://github.com/pypa/setuptools/issues/382", "id": 144280821, "node_id": "MDU6SXNzdWUxNDQyODA4MjE=", "number": 382, "title": "setup.py --version : wrong output at first run if setup_requires is passed", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-14T08:40:14Z", "updated_at": "2021-10-22T19:09:58Z", "closed_at": "2021-10-22T19:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Alan (Bitbucket: [Alan](http://bitbucket.org/Alan), GitHub: [Alan](http://github.com/Alan))**\n\n---\n\nTested with setuptools 15.2 on Python 2.7.6 (Ubuntu 14.04)\n\nConsider the following example setup.py:\n\n```\nfrom setuptools import setup, find_packages\n\nsetup(\n    name='dummy',\n    description=\"dummy\",\n    long_description=\"dummy\",\n    author=\"Alan Franzoni\",\n    author_email=\"username@franzoni.eu\",\n    url=\"https://example.com\",\n    version=\"1.2.3\",\n    setup_requires = [\"setuptools_git == 1.1\" ],\n    license=\"Apache-2.0\",\n    include_package_data=True,\n    zip_safe=False\n\n)\n```\n\nThe first time I execute a --version command, even with the --quiet switch and redirecting  stderr, I get this output:\n\n```\n(stenv)alan@workstation:/tmp/stbug$ python setup.py --quiet --version 2>/dev/null\n\nInstalled /tmp/stbug/.eggs/setuptools_git-1.1-py2.7.egg\n1.2.3\n```\n\nSo, the version number I was expecting as the command's output gets intermingled with a logging message.\n\nI think the log is useful, but should either be removed (at least when passing --quiet) when using the --version command, or should be sent to stderr. \n\nOf course, further invokations work as expected, since the setup_requires egg is already there.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/382\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/382/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/380", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/380/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/380/events", "html_url": "https://github.com/pypa/setuptools/issues/380", "id": 144280774, "node_id": "MDU6SXNzdWUxNDQyODA3NzQ=", "number": 380, "title": "Environment markers don't support <, <= etc", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-05-13T00:05:20Z", "updated_at": "2016-03-29T14:26:29Z", "closed_at": "2016-03-29T14:26:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rbtcollins (Bitbucket: [rbtcollins](http://bitbucket.org/rbtcollins), GitHub: [rbtcollins](http://github.com/rbtcollins))**\n\n---\n\nPEP 427 specifies a range of comparison operators:\nCMPOP: (==|!=|<|>|<=|>=|in|not in)\n\nBut when I tried to use <= while testing environment markers, I get an error about an invalid marker. The same exact expression with s/</=/ works.\n\nIf this is the wrong place to file marker bugs - please point me at the right place :)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/380\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/378", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/378/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/378/events", "html_url": "https://github.com/pypa/setuptools/issues/378", "id": 144280726, "node_id": "MDU6SXNzdWUxNDQyODA3MjY=", "number": 378, "title": "pkg_resources relies on an internal implementation detail of CPython", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-02T21:23:44Z", "updated_at": "2017-02-16T09:20:17Z", "closed_at": "2016-03-29T14:26:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ericsnowcurrently (Bitbucket: [ericsnowcurrently](http://bitbucket.org/ericsnowcurrently), GitHub: [ericsnowcurrently](http://github.com/ericsnowcurrently))**\n\n---\n\nSee https://bitbucket.org/pypa/setuptools/src/da9a12631950997e178e9bea1f2e6bb5859b214e/pkg_resources/__init__.py?at=default#cl-78.\n\nApparently pkg_resources is importing importlib._bootstrap, which is not meant to be directly imported.  It is used later to get SourceFileLoader and FileFinder.  I noticed this due to a failing test (test_venv) in the CPython suite when I moved both those classes to a different file (no longer in _bootstrap.py).  See http://bugs.python.org/issue23911.\n\nStarting in Python 3.3 the two classes are exposed in importlib.machinery.  I'd recommend updating the code to look something like this:\n\n```\nif sys.version_info >= (3, 3) and sys.implementation.name == \"cpython\":\n    from importlib.machinery import SourceFileLoader, FileFinder\nelse:\n    SourceFileLoader = FileFinder = None\n```\n\nand update the rest of the file (3 spots) accordingly.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/378\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/376", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/376/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/376/events", "html_url": "https://github.com/pypa/setuptools/issues/376", "id": 144280706, "node_id": "MDU6SXNzdWUxNDQyODA3MDY=", "number": 376, "title": "support wheels by considering them zip-unsafe eggs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315098, "node_id": "MDU6TGFiZWwzNDkzMTUwOTg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 617596083, "node_id": "MDU6TGFiZWw2MTc1OTYwODM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/upstream", "name": "upstream", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-04-26T19:21:37Z", "updated_at": "2021-03-05T21:01:21Z", "closed_at": "2021-03-05T21:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **RonnyPfannschmidt (Bitbucket: [RonnyPfannschmidt](http://bitbucket.org/RonnyPfannschmidt), GitHub: [RonnyPfannschmidt](http://github.com/RonnyPfannschmidt))**\n\n---\n\nif they where just unpacked into a folder named like the wheel archive,\nthen adding them to sys.path seems like a completely normal and possible thing\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/376\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/376/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/372", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/372/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/372/events", "html_url": "https://github.com/pypa/setuptools/issues/372", "id": 144280599, "node_id": "MDU6SXNzdWUxNDQyODA1OTk=", "number": 372, "title": "setuptools.setup() should print warning / error for invalid value of version parametre", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-18T05:47:20Z", "updated_at": "2018-03-17T17:19:19Z", "closed_at": "2018-03-17T17:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **arfrever (Bitbucket: [arfrever](http://bitbucket.org/arfrever), GitHub: [arfrever](http://github.com/arfrever))**\n\n---\n\nsetuptools.setup() should print warning / error for invalid value of version parametre.\n\nE.g. setup.py of python-hglib-1.6 passes version=\"unknown\", which results in installation (without any warnings / errors) of /usr/lib/pythonX.Y/site-packages/python_hglib-unknown-pyX.Y.egg-info. Then using of pip fails:\n\n```\n$ pip install --user ${something}\nException:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/pip/basecommand.py\", line 246, in main\n    status = self.run(options, args)\n  File \"/usr/lib64/python2.7/site-packages/pip/commands/install.py\", line 342, in run\n    requirement_set.prepare_files(finder)\n  File \"/usr/lib64/python2.7/site-packages/pip/req/req_set.py\", line 345, in prepare_files\n    functools.partial(self._prepare_file, finder))\n  File \"/usr/lib64/python2.7/site-packages/pip/req/req_set.py\", line 290, in _walk_req_to_install\n    more_reqs = handler(req_to_install)\n  File \"/usr/lib64/python2.7/site-packages/pip/req/req_set.py\", line 415, in _prepare_file\n    req_to_install, finder)\n  File \"/usr/lib64/python2.7/site-packages/pip/req/req_set.py\", line 366, in _check_skip_installed\n    req_to_install.check_if_exists()\n  File \"/usr/lib64/python2.7/site-packages/pip/req/req_install.py\", line 986, in check_if_exists\n    self.satisfied_by = pkg_resources.get_distribution(self.req)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 539, in get_distribution\n    dist = get_provider(dist)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 419, in get_provider\n    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 940, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 817, in resolve\n    env = Environment(self.entries)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 997, in __init__\n    self.scan(search_path)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 1027, in scan\n    self.add(dist)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 1047, in add\n    dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 2474, in hashcmp\n    self.parsed_version,\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 2521, in parsed_version\n    self._parsed_version = parse_version(self.version)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources/__init__.py\", line 209, in parse_version\n    return SetuptoolsVersion(v)\n  File \"/usr/lib64/python2.7/site-packages/packaging/version.py\", line 212, in __init__\n    raise InvalidVersion(\"Invalid version: '{0}'\".format(version))\nInvalidVersion: Invalid version: 'unknown'\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/372\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/370", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/370/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/370/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/370/events", "html_url": "https://github.com/pypa/setuptools/issues/370", "id": 144280554, "node_id": "MDU6SXNzdWUxNDQyODA1NTQ=", "number": 370, "title": "Unable to install pytest", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-04-09T15:02:02Z", "updated_at": "2016-03-29T14:25:52Z", "closed_at": "2016-03-29T14:25:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Kilte (Bitbucket: [Kilte](http://bitbucket.org/Kilte), GitHub: [Kilte](http://github.com/Kilte))**\n\n---\n\npastebin.com/PFsc044K\n\n> Searching for pytest\n> Best match: pytest cov-1.8.1\n\nWhy?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/370\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/368", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/368/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/368/events", "html_url": "https://github.com/pypa/setuptools/issues/368", "id": 144280532, "node_id": "MDU6SXNzdWUxNDQyODA1MzI=", "number": 368, "title": "'module' object has no attribute 'packaging' in setuptools/dist.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-01T07:59:33Z", "updated_at": "2016-03-29T14:25:46Z", "closed_at": "2016-03-29T14:25:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **charles_hsu (Bitbucket: [charles_hsu](http://bitbucket.org/charles_hsu), GitHub: Unknown)**\n\n---\n### Error\n\n```\n/vagrant$ python setup.py install\nTraceback (most recent call last):\n  File \"setup.py\", line 2, in <module>\n    from setuptools import setup, find_packages\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools/__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools/extension.py\", line 8, in <module>\n    from .dist import _get_unpatched\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools/dist.py\", line 21, in <module>\n    packaging = pkg_resources.packaging\nAttributeError: 'module' object has no attribute 'packaging'\n```\n### python version\n\n```\n/vagrant$ python -V\nPython 2.7.3\n```\n### pkg_resources\n\n```\n/vagrant$ tree /usr/local/lib/python2.7/dist-packages/pkg_resources/\n/usr/local/lib/python2.7/dist-packages/pkg_resources/\n|-- __init__.py\n|-- __init__.pyc\n|-- tests\n|   |-- __init__.py\n|   |-- __init__.pyc\n|   |-- test_pkg_resources.py\n|   |-- test_pkg_resources.pyc\n|   |-- test_resources.py\n|   `-- test_resources.pyc\n`-- _vendor\n    |-- __init__.py\n    |-- __init__.pyc\n    `-- packaging\n        |-- __about__.py\n        |-- __about__.pyc\n        |-- _compat.py\n        |-- _compat.pyc\n        |-- __init__.py\n        |-- __init__.pyc\n        |-- specifiers.py\n        |-- specifiers.pyc\n        |-- _structures.py\n        |-- _structures.pyc\n        |-- version.py\n        `-- version.pyc\n\n3 directories, 22 files\n```\n## setuptools version\n\n```\n/vagrant$ ls /usr/local/lib/python2.7/dist-packages/setuptools*                \n/usr/local/lib/python2.7/dist-packages/setuptools:\narchive_util.py   command      dist.pyc        gui.exe           msvc9_support.pyc  py27compat.pyc     script.tmpl      unicode_utils.py   windows_support.py\narchive_util.pyc  compat.py    extension.py    __init__.py       package_index.py   py31compat.py      site-patch.py    unicode_utils.pyc  windows_support.pyc\ncli-32.exe        compat.pyc   extension.pyc   __init__.pyc      package_index.pyc  py31compat.pyc     site-patch.pyc   utils.py\ncli-64.exe        depends.py   gui-32.exe      lib2to3_ex.py     py26compat.py      sandbox.py         ssl_support.py   utils.pyc\ncli-arm-32.exe    depends.pyc  gui-64.exe      lib2to3_ex.pyc    py26compat.pyc     sandbox.pyc        ssl_support.pyc  version.py\ncli.exe           dist.py      gui-arm-32.exe  msvc9_support.py  py27compat.py      script (dev).tmpl  tests            version.pyc\n\n/usr/local/lib/python2.7/dist-packages/setuptools-14.3.1.dist-info:\ndependency_links.txt  DESCRIPTION.rst  entry_points.txt  METADATA  metadata.json  RECORD  top_level.txt  WHEEL  zip-safe\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/368\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/367", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/367/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/367/events", "html_url": "https://github.com/pypa/setuptools/issues/367", "id": 144280515, "node_id": "MDU6SXNzdWUxNDQyODA1MTU=", "number": 367, "title": "setuptools creates invalid versions with tag_svn_revision", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-01T05:58:58Z", "updated_at": "2016-06-24T14:04:40Z", "closed_at": "2016-06-24T14:04:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **psuter (Bitbucket: [psuter](http://bitbucket.org/psuter), GitHub: [psuter](http://github.com/psuter))**\n\n---\n\nVersion numbers are now standardised under PEP 440 since setuptools 8.0.\nVersions like 2.0.dev-r123 are not valid anymore.\n\nThe setuptools documentation hasn't been updated. \nIt presents such (actually invalid) versions as valid examples:\nhttps://pythonhosted.org/setuptools/setuptools.html#managing-continuous-releases-using-subversion\n\nsetup.cfg options are recommended:\n\n```\n[egg_info]\ntag_build = .dev\ntag_svn_revision = 1\n```\n\nBut setuptools creates invalid versions when `tag_svn_revision` is used by adding `-r`.\n\nThere appears to be no way to make setuptools generate valid versions. At least the documentation does not mention any.\n\nOn the mailing list it was explained:\n\n> 2.0.dev123 is the correct version number to use, setuptools might need additional updates to it to properly generate those though.\n\nhttps://mail.python.org/pipermail/distutils-sig/2015-March/025967.html\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/367\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/366", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/366/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/366/events", "html_url": "https://github.com/pypa/setuptools/issues/366", "id": 144280503, "node_id": "MDU6SXNzdWUxNDQyODA1MDM=", "number": 366, "title": "upload_docs fails", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-25T21:10:32Z", "updated_at": "2016-03-29T14:25:41Z", "closed_at": "2016-03-29T14:25:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jcrmatos (Bitbucket: [jcrmatos](http://bitbucket.org/jcrmatos), GitHub: [jcrmatos](http://github.com/jcrmatos))**\n\n---\n\nHello,\n\nI was trying to upload docs for my package (daysgrounded) to PyPI with the command\npython setup.py upload_docs --upload-dir=daysgrounded/doc\nbut it always returns thie following error\nUpload failed (401): You must be identified to edit package information\n\nI have no problem in uploading my package to PyPI using these commands\npython setup.py register -r pypi\npython setup.py sdist bdist_wheel upload -r pypi\nor these\npython setup.py register -r pypi\ntwine upload dist/*\nand the .pypirc file has the authentication information.\n\nAm I doing something wrong or is this a bug?\n\nThanks,\nJM\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/366\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/364", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/364/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/364/events", "html_url": "https://github.com/pypa/setuptools/issues/364", "id": 144280481, "node_id": "MDU6SXNzdWUxNDQyODA0ODE=", "number": 364, "title": "DeprecationWarning: Parameters to load are deprecated.  Call .resolve and .require separately.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-03-17T23:52:46Z", "updated_at": "2016-03-29T14:25:36Z", "closed_at": "2016-03-29T14:25:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tseaver (Bitbucket: [tseaver](http://bitbucket.org/tseaver), GitHub: [tseaver](http://github.com/tseaver))**\n\n---\n\n```\n#!python\n\n.tox/py26/lib/python2.6/site-packages/setuptools/command/egg_info.py:171: DeprecationWarning: Parameters to load are deprecated.  Call .resolve and .require separately.\n  writer = ep.load(installer=installer)\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/364\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/360", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/360/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/360/events", "html_url": "https://github.com/pypa/setuptools/issues/360", "id": 144280423, "node_id": "MDU6SXNzdWUxNDQyODA0MjM=", "number": 360, "title": "Test suite fails for the 14.0 release", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-03-07T15:19:29Z", "updated_at": "2016-03-29T14:25:23Z", "closed_at": "2016-03-29T14:25:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ralphbean (Bitbucket: [ralphbean](http://bitbucket.org/ralphbean), GitHub: [ralphbean](http://github.com/ralphbean))**\n\n---\n\nAs mentioned at the bottom of #359, the 14.0 release is exhibiting test suite failures https://kojipkgs.fedoraproject.org//work/tasks/2236/9162236/build.log\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/360\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/359", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/359/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/359/events", "html_url": "https://github.com/pypa/setuptools/issues/359", "id": 144280416, "node_id": "MDU6SXNzdWUxNDQyODA0MTY=", "number": 359, "title": "Test suite fails for the 13.0.1 release", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-03-06T14:08:13Z", "updated_at": "2016-03-29T14:25:20Z", "closed_at": "2016-03-29T14:25:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ralphbean (Bitbucket: [ralphbean](http://bitbucket.org/ralphbean), GitHub: [ralphbean](http://github.com/ralphbean))**\n\n---\n\nGreetings!\n\nThe test suite doesn't seem to complete for the 13.0.1 release.\n\nFor reference:\n\nLogs:  https://kojipkgs.fedoraproject.org//work/tasks/5842/9155842/build.log\nDownstream bug:  https://bugzilla.redhat.com/show_bug.cgi?id=1199336\n\nIf I can provide any other info, or help investigate, don't hesitate to ask.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/359\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/358", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/358/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/358/events", "html_url": "https://github.com/pypa/setuptools/issues/358", "id": 144280405, "node_id": "MDU6SXNzdWUxNDQyODA0MDU=", "number": 358, "title": "setup_requires 'setuptools_svn' does not work without installing", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-03-05T15:38:11Z", "updated_at": "2016-03-29T14:25:17Z", "closed_at": "2016-03-29T14:25:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **kEbbQCHIzoCrLpJx (Bitbucket: [kEbbQCHIzoCrLpJx](http://bitbucket.org/kEbbQCHIzoCrLpJx), GitHub: Unknown)**\n\n---\n\nUsing setuptools-12.4, Python 2.7.6 in a virtualenv.\n\nA sample project's setup.py contains\n\n```\nsetup_requires       = ['setuptools_svn'],\n```\n\nsetup.cfg contains\n\n```\n[egg_info]\ntag_svn_revision = 1\n```\n\nMy project is identified as 'project_template-0.1.post0' when running `python setup.py sdist`.  If i install setuptools_svn with `easy_install setuptools_svn` my project is correctly identified as 'project_template-0.1.post1971'.\n\n./.eggs/ does contain setuptools_svn-1.0-py2.7.egg but I don't think this is in sys.path, unless some other mechanism allows commands/egg_info.py to find eggs there?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/358\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/356", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/356/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/356/events", "html_url": "https://github.com/pypa/setuptools/issues/356", "id": 144280373, "node_id": "MDU6SXNzdWUxNDQyODAzNzM=", "number": 356, "title": "ImportError: <module 'setuptools.command.egg_info' from '/usr/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/setuptools/command/egg_info.pyc'> has no 'write_setup_requirements' attribute", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-03-04T18:39:31Z", "updated_at": "2022-09-14T11:17:12Z", "closed_at": "2016-03-29T14:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **bbbco (Bitbucket: [bbbco](http://bitbucket.org/bbbco), GitHub: [bbbco](http://github.com/bbbco))**\n\n---\n\nWe are using setuptools on several Jenkins jobs in our environment. Yesterday, jobs ran fine. Today, some of them are failing while installing setuptools on a Python 2.7 environment. It now throws this error:\n\n```\n#!python\n\n[root@jenkins workspace]# virtualenv .\nNew python executable in ./bin/python2.7\nNot overwriting existing python script ./bin/python (you must use ./bin/python2.7)\nInstalling setuptools...............................................\n  Complete output from command /var/lib/jenkins/jobs/FFS-Scal...on2.7 -c \"#!python\n\\\"\\\"\\\"Bootstrap setuptoo...\n\n\n\n\n\" --always-copy -U setuptools:\n  Searching for setuptools\nReading http://pypi.python.org/simple/setuptools/\nBest match: setuptools 12.4\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-12.4.zip#md5=b088ed7a43a93a1fd1fcabdf73bfa0bf\nProcessing setuptools-12.4.zip\nRunning setuptools-12.4/setup.py -q bdist_egg --dist-dir /tmp/easy_install-jZFvKz/setuptools-12.4/egg-dist-tmp-jyRZ8E\n/usr/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'src_root'\n  warnings.warn(msg)\nTraceback (most recent call last):\n  File \"<string>\", line 278, in <module>\n  File \"<string>\", line 239, in main\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1712, in main\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1700, in with_ei_usage\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1716, in <lambda>\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 211, in run\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 446, in easy_install\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 476, in install_item\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 655, in install_eggs\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 930, in build_and_install\n  File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 919, in run_setup\n  File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 62, in run_setup\n  File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 105, in run\n  File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 64, in <lambda>\n  File \"setup.py\", line 186, in <module>\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-i686/egg/setuptools/command/bdist_egg.py\", line 167, in run\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-i686/egg/setuptools/command/egg_info.py\", line 169, in run\n  File \"build/bdist.linux-i686/egg/pkg_resources.py\", line 1959, in load\nImportError: <module 'setuptools.command.egg_info' from '/usr/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/setuptools/command/egg_info.pyc'> has no 'write_setup_requirements' attribute\n----------------------------------------\n...Installing setuptools...done.\nTraceback (most recent call last):\n  File \"/usr/bin/virtualenv\", line 8, in <module>\n    load_entry_point('virtualenv==1.5.1', 'console_scripts', 'virtualenv')()\n  File \"/usr/lib/python2.7/site-packages/virtualenv-1.5.1-py2.7.egg/virtualenv.py\", line 558, in main\n    prompt=options.prompt)\n  File \"/usr/lib/python2.7/site-packages/virtualenv-1.5.1-py2.7.egg/virtualenv.py\", line 654, in create_environment\n    install_setuptools(py_executable, unzip=unzip_setuptools)\n  File \"/usr/lib/python2.7/site-packages/virtualenv-1.5.1-py2.7.egg/virtualenv.py\", line 384, in install_setuptools\n    _install_req(py_executable, unzip)\n  File \"/usr/lib/python2.7/site-packages/virtualenv-1.5.1-py2.7.egg/virtualenv.py\", line 360, in _install_req\n    cwd=cwd)\n  File \"/usr/lib/python2.7/site-packages/virtualenv-1.5.1-py2.7.egg/virtualenv.py\", line 624, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /var/lib/jenkins/jobs/FFS-Scal...on2.7 -c \"#!python\n\\\"\\\"\\\"Bootstrap setuptoo...\n\n\n\n\n\" --always-copy -U setuptools failed with error code 1\n\n```\n\nI have tracked it down to this recent commit. https://bitbucket.org/pypa/setuptools/commits/8bff4399a7af3d4d41d437248691f99818d1babd\n\nThis is an issue because we require the use of setuptools, but are not yet ready to upgrade python to python 3.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/356\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/354", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/354/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/354/events", "html_url": "https://github.com/pypa/setuptools/issues/354", "id": 144280342, "node_id": "MDU6SXNzdWUxNDQyODAzNDI=", "number": 354, "title": "fail to build the documentation in 12.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-26T17:56:12Z", "updated_at": "2016-03-29T14:25:03Z", "closed_at": "2016-03-29T14:25:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nPYTHONPATH=/home/packages/setuptools/python-setuptools-12.2 \\\n        sh -c 'cd docs && sphinx-build -b html -d build/doctrees . build/html'\nMaking output directory...\nRunning Sphinx v1.2.3\n\nException occurred:\n  File \"/home/packages/setuptools/python-setuptools-12.2/linkify.py\", line 37, in _linkify\n    with open(source) as source:\nIOError: [Errno 2] No such file or directory: 'CHANGES.txt'\nThe full traceback has been saved in /tmp/sphinx-err-UxnBLM.log, if you want to report the issue to the developers.\nPlease also report this if it was a user error, so that a better error message can be provided next time.\nA bug report can be filed in the tracker at https://bitbucket.org/birkenfeld/sphinx/issues/. Thanks!\n\nnot sure if this really is a sphinx issue ...\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/354\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/351", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/351/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/351/events", "html_url": "https://github.com/pypa/setuptools/issues/351", "id": 144280291, "node_id": "MDU6SXNzdWUxNDQyODAyOTE=", "number": 351, "title": "PEP440 warnings emitted for valid versions", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-02-22T20:21:03Z", "updated_at": "2016-03-29T14:24:56Z", "closed_at": "2016-03-29T14:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **astrofrog (Bitbucket: [astrofrog](http://bitbucket.org/astrofrog), GitHub: [astrofrog](http://github.com/astrofrog))**\n\n---\n\nThe following warning is being raised for the package astropy-helpers:\n\n```\npy2.7.egg/pkg_resources/__init__.py:2512: PEP440Warning: 'astropy (helpers-0.4.5)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n```\n\nThe full package name is astropy-helpers and the version is 0.4.5, which are perfectly valid.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/351\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/350", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/350/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/350/events", "html_url": "https://github.com/pypa/setuptools/issues/350", "id": 144280281, "node_id": "MDU6SXNzdWUxNDQyODAyODE=", "number": 350, "title": "Install failed Setuptools 12.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-22T15:07:59Z", "updated_at": "2016-03-29T14:24:52Z", "closed_at": "2016-03-29T14:24:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **trungduynguyen (Bitbucket: [trungduynguyen](http://bitbucket.org/trungduynguyen), GitHub: Unknown)**\n\n---\n\nHi,\nI tried to install but failed. Here is the log:\n\n```\n#!python\n\nC:\\Anaconda3X\\Scripts>pip install -U setuptools\nCollecting setuptools from https://pypi.python.org/packages/3.4/s/setuptools/setuptools-12.2-py2.py3\n-none-any.whl#md5=726d569f5a93846d27d1d13c2bd06f01\n  Using cached setuptools-12.2-py2.py3-none-any.whl\nInstalling collected packages: setuptools\n  Exception:\n  Traceback (most recent call last):\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\basecommand.py\", line 232, in main\n      status = self.run(options, args)\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\commands\\install.py\", line 347, in run\n      root=options.root_path,\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\req\\req_set.py\", line 530, in install\n      pkg_resources.get_distribution(\"distribute\")\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 461, in get_d\nistribution\n      dist = get_provider(dist)\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 341, in get_p\nrovider\n      return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 870, in requi\nre\n      needed = self.resolve(parse_requirements(requirements))\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 740, in resol\nve\n      env = Environment(self.entries)\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 927, in __ini\nt__\n      self.scan(search_path)\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 957, in scan\n      self.add(dist)\n    File \"C:\\Anaconda3X\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 977, in add\n      dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)\n  TypeError: unorderable types: str() < NoneType()\n\nC:\\Anaconda3X\\Scripts>easy_install setuptools\nTraceback (most recent call last):\n  File \"C:\\Anaconda3X\\Scripts\\easy_install-script.py\", line 5, in <module>\n    sys.exit(main())\n  File \"C:\\Anaconda3X\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 2244, in main\n    distclass=DistributionWithoutHelpCommands, **kw\n  File \"C:\\Anaconda3X\\lib\\distutils\\core.py\", line 148, in setup\n    dist.run_commands()\n  File \"C:\\Anaconda3X\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Anaconda3X\\lib\\distutils\\dist.py\", line 973, in run_command\n    cmd_obj.ensure_finalized()\n  File \"C:\\Anaconda3X\\lib\\distutils\\cmd.py\", line 107, in ensure_finalized\n    self.finalize_options()\n  File \"C:\\Anaconda3X\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 317, in finalize_o\nptions\n    self.index_url, search_path=self.shadow_path, hosts=hosts,\n  File \"C:\\Anaconda3X\\lib\\site-packages\\setuptools\\package_index.py\", line 269, in __init__\n    Environment.__init__(self,*args,**kw)\n  File \"C:\\Anaconda3X\\lib\\site-packages\\pkg_resources\\__init__.py\", line 975, in __init__\n    self.scan(search_path)\n  File \"C:\\Anaconda3X\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1005, in scan\n    self.add(dist)\n  File \"C:\\Anaconda3X\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1025, in add\n    dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)\nTypeError: unorderable types: str() < NoneType()\n\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/350\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/349", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/349/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/349/events", "html_url": "https://github.com/pypa/setuptools/issues/349", "id": 144280265, "node_id": "MDU6SXNzdWUxNDQyODAyNjU=", "number": 349, "title": "Dependencies from git aren't being installed?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-18T11:09:52Z", "updated_at": "2016-03-29T14:24:50Z", "closed_at": "2016-03-29T14:24:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **SamuelMarks (Bitbucket: [SamuelMarks](http://bitbucket.org/SamuelMarks), GitHub: [SamuelMarks](http://github.com/SamuelMarks))**\n\n---\n\nI'm sure I've just misconfigured my setup.py and requirements.txt, but I've tried:\n- `install_requires`\n- requirements.txt\n- `install_requires` + `dependency_links`\n\nWith (for `install_requires`):\n- bettertutors_sql_models==dev\n- bettertutors_sql_models\n\nFor requirements.txt, `dependency_links`:\n- git+https://github.com/bettertutors/sql-models#egg=bettertutors_sql_models\n- git+https://github.com/bettertutors/sql-models#egg=bettertutors_sql_models\n- https://github.com/bettertutors/sql-models/archive/master.zip#egg=bettertutors_sql_models\n- https://github.com/bettertutors/sql-models/archive/master.zip\n- https://github.com/bettertutors/sql-models\n- https://github.com/bettertutors/sql-models/tarball/master#egg=sql-models\n\nAlso asked here: http://stackoverflow.com/q/28540839\n\nAt one point I even tried writing my own `install_deps function()` to be run before `setup()`:\nhttps://gist.github.com/SamuelMarks/45a998a83dd60ddbadbc\n\nBut nothing\u2014apart from `cd`ing to my sql-models dir and running `pip install .`\u2014is working for me. I'm using Python 2.7.*, and have experienced identical issues on Windows and Linux (with/without virtualenv).\n\n**How am I meant to write in this dependency?**\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/349\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/348", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/348/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/348/events", "html_url": "https://github.com/pypa/setuptools/issues/348", "id": 144280252, "node_id": "MDU6SXNzdWUxNDQyODAyNTI=", "number": 348, "title": "TypeError: ('Not a package:', 'cgi')", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-17T09:28:20Z", "updated_at": "2016-03-29T14:24:47Z", "closed_at": "2016-03-29T14:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **quodt (Bitbucket: [quodt](http://bitbucket.org/quodt), GitHub: [quodt](http://github.com/quodt))**\n\n---\n\nWhile installing the pypi package 'cgi.unescape' i get the following error:\n\n```\n\n[...]\n  File \"build/bdist.macosx-10.9-x86_64/egg/setuptools/dist.py\", line 19, in <module>\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 3032, in <module>\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 933, in subscribe\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 3032, in <lambda>\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 2578, in activate\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 2183, in declare_namespace\n  File \"build/bdist.macosx-10.9-x86_64/egg/pkg_resources/__init__.py\", line 2144, in _handle_ns\nTypeError: ('Not a package:', 'cgi')\nAn error occurred when trying to install cgi.unescape 0.0.2. Look above this message for any errors that were output by easy_install.\nWhile:\n  Installing test.\n  Getting distribution for 'cgi.unescape==0.0.2'.\nError: Couldn't install: cgi.unescape 0.0.2\n```\n\nI guess the problem is caused by the namespace 'cgi' of this package because there is one builtin package called 'cgi' as well.\n\nThe function `pkg_resource._handle_ns` is looking for a module called 'cgi' which get found from the builtins but this module does not have a `__path__` member which causes the TypeError.\n\n```\n#!python\n\n>>> import sys\n>>> module = sys.modules.get('cgi')\n>>> hasattr(module,'__path__')\nFalse\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/348\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/346", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/346/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/346/events", "html_url": "https://github.com/pypa/setuptools/issues/346", "id": 144280226, "node_id": "MDU6SXNzdWUxNDQyODAyMjY=", "number": 346, "title": "develop installed scripts break whenever egg_info changes the version", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-13T12:04:29Z", "updated_at": "2016-03-29T14:24:41Z", "closed_at": "2016-03-29T14:24:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **RonnyPfannschmidt (Bitbucket: [RonnyPfannschmidt](http://bitbucket.org/RonnyPfannschmidt), GitHub: [RonnyPfannschmidt](http://github.com/RonnyPfannschmidt))**\n\n---\n\nscripts installed in editable/develop mode should not hardcode the version\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/346\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/345", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/345/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/345/events", "html_url": "https://github.com/pypa/setuptools/issues/345", "id": 144280192, "node_id": "MDU6SXNzdWUxNDQyODAxOTI=", "number": 345, "title": "Installation issues on Travis CI", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-02-12T13:21:26Z", "updated_at": "2016-03-29T14:24:38Z", "closed_at": "2016-03-29T14:24:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nSince the upload of version setuptools version 12.1 yesterday, our builds on Travis start to fail:\nhttps://travis-ci.org/bioidiap/bob.core/jobs/50389380\n\nUsing the latest bootstrap-buildout.py, we get the following error message:\n\n```\n$ python bootstrap-buildout.py\n<string>:144: DeprecationWarning: `use_setuptools` is deprecated. To enforce a specific version of setuptools, use `pkg_resources.require`.\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-12.1.zip\nExtracting in /tmp/tmpRCrQju\nNow working in /tmp/tmpRCrQju/setuptools-12.1\nBuilding a Setuptools egg in /tmp/tmp7CIXgd\n/tmp/tmpRCrQju/setuptools-12.1/setuptools/command/egg_info.py:171: DeprecationWarning: Parameters to load are deprecated. Call .resolve and .require separately.\nwriter = ep.load(installer=installer)\n/tmp/tmp7CIXgd/setuptools-12.1-py2.6.egg\nTraceback (most recent call last):\nFile \"bootstrap-buildout.py\", line 98, in <module>\nez['use_setuptools'](**setup_args)\nFile \"<string>\", line 174, in use_setuptools\nFile \"<string>\", line 129, in _do_download\nFile \"build/bdist.linux-x86_64/egg/setuptools/__init__.py\", line 11, in <module>\nFile \"build/bdist.linux-x86_64/egg/setuptools/extension.py\", line 8, in <module>\nFile \"build/bdist.linux-x86_64/egg/setuptools/dist.py\", line 19, in <module>\nFile \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 83, in <module>\nAttributeError: 'module' object has no attribute '_vendor'\n```\n\nInterestingly, lines 81 and 82 of `pkg_resources/__init__.py` (the imports of the _vendor module) pass, but not the actual use of it.\nSorry for not being able to supply more information...\n\nCould you please double-check, what might be going on?\n\nThank you\nManuel\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/345\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/344", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/344/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/344/events", "html_url": "https://github.com/pypa/setuptools/issues/344", "id": 144280178, "node_id": "MDU6SXNzdWUxNDQyODAxNzg=", "number": 344, "title": "Typo in setup.py for setup_requires entry point", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-06T17:01:18Z", "updated_at": "2016-03-29T14:24:31Z", "closed_at": "2016-03-29T14:24:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **embray (Bitbucket: [embray](http://bitbucket.org/embray), GitHub: [embray](http://github.com/embray))**\n\n---\n\nIn [this change](https://bitbucket.org/pypa/setuptools/commits/c95d2e0b6e415c2268e2984c8ddf00184fb53a85#Lsetup.pyT147) setup_requires was misspelled.  This means setup_requires entries were not being passed through check_requirements, and also that the Distribution object was not getting a setup_requires attribute, resulting in warnings like:\n\n```\n/internal/1/root/usr/local/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'setup_requires'\n  warnings.warn(msg)\n```\n\nwhen running `setup.py` on a package with a `setup_requires`.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/344\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/343", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/343/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/343/events", "html_url": "https://github.com/pypa/setuptools/issues/343", "id": 144280134, "node_id": "MDU6SXNzdWUxNDQyODAxMzQ=", "number": 343, "title": "Unloading of setuptools and distutils in run_setup leads to broken types in modules that reference setuptools directly", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-02-06T14:13:33Z", "updated_at": "2019-10-29T21:04:14Z", "closed_at": "2019-10-29T20:38:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #315, I added a function `hide_setuptools` to the `setup_context` in which dependency installation is run (f29ad5f78ef7).\n\nAs reported in that ticket, this monkeying of the `sys.modules` context has some serious consequences for packages that keep reference to setuptools or distutils objects.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/343\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/342", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/342/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/342/events", "html_url": "https://github.com/pypa/setuptools/issues/342", "id": 144280099, "node_id": "MDU6SXNzdWUxNDQyODAwOTk=", "number": 342, "title": "setuptools build of keyring fails with \"error: invalid command 'bdist_egg'\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-02-03T22:38:51Z", "updated_at": "2016-03-29T14:24:21Z", "closed_at": "2016-03-29T14:24:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **afoglia (Bitbucket: [afoglia](http://bitbucket.org/afoglia), GitHub: [afoglia](http://github.com/afoglia))**\n\n---\n\nI'm trying to install python-keyring version 1 using setuptools version 11.3.1 and getting an error about bdist_egg not a valid command.  The full traceback is:\n\n```\nTraceback (most recent call last):\n  File \"/working-copy/clientcode/third_party/py/python-keyring/setup.py\", line 92, in <module>\n    setup_mod.setup(**setup_params)\n  File \"/development-build-dir/lib/python2.7/distutils/core.py\", line 112, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 265, in __init__\n    self.fetch_build_eggs(attrs['setup_requires'])\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 311, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 797, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1047, in best_match\n    return self.obtain(req, installer)\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1059, in obtain\n    return installer(requirement)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 378, in fetch_build_egg\n    return cmd.easy_install(req)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 619, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 649, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 834, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1055, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1041, in run_setup\n    run_setup(setup_script, args)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 204, in run_setup\n    raise\n  File \"/development-build-dir/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 157, in setup_context\n    yield\n  File \"/development-build-dir/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 128, in save_modules\n    compat.reraise(new_cls, new_exc, tb)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 106, in save_modules\n    yield saved\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 157, in setup_context\n    yield\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 201, in run_setup\n    DirectorySandbox(setup_dir).run(runner)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 231, in run\n    return func()\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 200, in runner\n    _execfile(setup_script, ns)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/sandbox.py\", line 46, in _execfile\n    exec(code, globals, locals)\n  File \"/tmp/easy_install-nH_YoY/pytest-runner-2.2.1/setup.py\", line 34, in <module>\n    def encodes_as_ascii(string):\n  File \"/development-build-dir/lib/python2.7/distutils/core.py\", line 112, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 265, in __init__\n    self.fetch_build_eggs(attrs['setup_requires'])\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 311, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 797, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1047, in best_match\n    return self.obtain(req, installer)\n  File \"/development-build-dir/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1059, in obtain\n    return installer(requirement)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/dist.py\", line 378, in fetch_build_egg\n    return cmd.easy_install(req)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 619, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 649, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 834, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1055, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/development-build-dir/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1043, in run_setup\n    raise DistutilsError(\"Setup script exited with %s\" % (v.args[0],))\ndistutils.errors.DistutilsError: Setup script exited with usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n   or: setup.py --help [cmd1 cmd2 ...]\n   or: setup.py --help-commands\n   or: setup.py cmd --help\n\nerror: invalid command 'bdist_egg'\n```\n\n---\n\nThe command I'm running is \"python setup.py build\", and it's python version 2.7.\n\nThis is on my continuous integration systems, so it's hard to debug, but it is reproducible.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/342\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/341", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/341/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/341/events", "html_url": "https://github.com/pypa/setuptools/issues/341", "id": 144280070, "node_id": "MDU6SXNzdWUxNDQyODAwNzA=", "number": 341, "title": "bdist gives cant copy error for package_data file which exists", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-30T18:48:22Z", "updated_at": "2016-03-29T14:24:16Z", "closed_at": "2016-03-29T14:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rogermarsh (Bitbucket: [rogermarsh](http://bitbucket.org/rogermarsh), GitHub: Unknown)**\n\n---\n\npython setup.py bdist gives:\n\nerror: can't copy 'icence.txt': doesn't exist or not a regular file\n\nwhere current directory is swiggedapi and licence.txt exists in this directory.\n\nThe package related arguments to setup() are:\n\n```\n    package_dir={'swiggedapi':''},\n    packages=['swiggedapi'],\n    package_data={'': ['licence.txt', '_swigged.pyd']},\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/341\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/339", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/339/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/339/events", "html_url": "https://github.com/pypa/setuptools/issues/339", "id": 144279979, "node_id": "MDU6SXNzdWUxNDQyNzk5Nzk=", "number": 339, "title": "'AttributeError: _cant_write_msg'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-01-26T13:09:46Z", "updated_at": "2016-03-29T14:24:05Z", "closed_at": "2016-03-29T14:24:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **gpjt (Bitbucket: [gpjt](http://bitbucket.org/gpjt), GitHub: [gpjt](http://github.com/gpjt))**\n\n---\n\nAs of 12.0.2, installing to a non-writeable directory (eg. `easy_install foo` without sudo or the --user flag) gives the following error:\n\n```\n#!python\n\nFile \"/usr/local/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 486, in cant_write_to_target\nmsg = self._cant_write_msg % (sys.exc_info()[1], self.install_dir,)\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 105, in __getattr__\nraise AttributeError, attr\nAttributeError: _cant_write_msg\n```\n\nThe problem appears to be commit 3e99647 (\"Extract messages as class attributes for nicer indentation\") where the error message was extracted to the class variable \n`__cant_write_msg` (two underscores) but the function `cant_write_to_target` looks it up using `self._cant_write_msg` (one underscore).\n\nThe other error messages (`__not_exists_id`, `__not_exists_id`) are OK so this is a single-character fix :-)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/339\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/338", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/338/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/338/events", "html_url": "https://github.com/pypa/setuptools/issues/338", "id": 144279961, "node_id": "MDU6SXNzdWUxNDQyNzk5NjE=", "number": 338, "title": "__future__ imports are not effective in requirements' setup.py scripts", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-01-23T15:47:20Z", "updated_at": "2016-03-29T14:24:02Z", "closed_at": "2016-03-29T14:24:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\npython-daemon recently released a new version with more Python 3 compatibility.  Version 2.0.3 of the package installs just fine with Python 2.7.  However, other Python 2 packages that require it run into trouble.  Here's the minimal setup.py to trigger the issue:\n\n```\n#!python\nfrom setuptools import setup\nsetup(name='pdtest', version='1.0', install_requires=['python-daemon==2.0.3'])\n```\n\nRun `python2 setup.py install` on this file, and it will eventually give you this traceback:\n\n```\n/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/pkg_resources/__init__.py:2510: PEP440Warning: 'python (daemon-2.0)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\nBest match: python-daemon 2.0.3\nDownloading https://pypi.python.org/packages/source/p/python-daemon/python-daemon-2.0.3.tar.gz#md5=eb159623521f68757c6d3c384fcedd86\nProcessing python-daemon-2.0.3.tar.gz\nWriting /tmp/easy_install-5hVgjV/python-daemon-2.0.3/setup.cfg\nRunning python-daemon-2.0.3/setup.py -q bdist_egg --dist-dir /tmp/easy_install-5hVgjV/python-daemon-2.0.3/egg-dist-tmp-per4i9\nTraceback (most recent call last):\n  File \"setup.py\", line 2, in <module>\n    setup(name='pdtest', version='1.0', install_requires=['python-daemon==2.0.3'])\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 67, in run\n    self.do_egg_install()\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 117, in do_egg_install\n    cmd.run()\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 374, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 604, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 655, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 703, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 797, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1047, in best_match\n    return self.obtain(req, installer)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1059, in obtain\n    return installer(requirement)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 623, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 653, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 838, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1066, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1052, in run_setup\n    run_setup(setup_script, args)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 238, in run_setup\n    raise\n  File \"/usr/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 191, in setup_context\n    yield\n  File \"/usr/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 162, in save_modules\n    saved_exc.resume()\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 137, in resume\n    compat.reraise(type, exc, self._tb)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 150, in save_modules\n    yield saved\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 191, in setup_context\n    yield\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 235, in run_setup\n    DirectorySandbox(setup_dir).run(runner)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 265, in run\n    return func()\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 234, in runner\n    _execfile(setup_script, ns)\n  File \"/home/brett/temp/pdvenv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 46, in _execfile\n    exec(code, globals, locals)\n  File \"/tmp/easy_install-5hVgjV/python-daemon-2.0.3/setup.py\", line 44, in <module>\n\nKeyError: u'version'\n```\n\nI think this is happening because python-daemon's setup.py relies on unicode_literals.  It looks like when setuptools resolves requirements, it dynamically builds and executes setup.py files, preventing the `__future__` import from having the desired effect.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/338\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/336", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/336/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/336/events", "html_url": "https://github.com/pypa/setuptools/issues/336", "id": 144279922, "node_id": "MDU6SXNzdWUxNDQyNzk5MjI=", "number": 336, "title": "Bootstrap is deprecated, remove from docs?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-22T11:15:51Z", "updated_at": "2016-03-29T14:23:56Z", "closed_at": "2016-03-29T14:23:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nAccording to pypa, the ez_setup.py is deprecated:\n\nhttps://github.com/pypa/sampleproject/issues/27\n\nmaybe then:\n\nhttp://pythonhosted.org//setuptools/using.html\n\nshould be updated to reflect that?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/336\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/335", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/335/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/335/events", "html_url": "https://github.com/pypa/setuptools/issues/335", "id": 144279907, "node_id": "MDU6SXNzdWUxNDQyNzk5MDc=", "number": 335, "title": "pip 6.0.6 and setuptools 12.0.3 dont work on windows & python 2.7.9", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-20T13:01:21Z", "updated_at": "2016-03-29T14:23:53Z", "closed_at": "2016-03-29T14:23:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nI just installed:\n- setuptools-12.0.3.tar.gz\n- pip-6.0.6.tar.gz\n\nmanually by extracting the tar's and running \"setup.py install\"\n\nIf I type now \"pip\" in the commandline like\nC:>pip\n\nI get an error \"process could not be started\"\n\nIf I install the previous setuptools version: setuptools-11.3.1.tar.gz\nall work fine.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/335\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/334", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/334/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/334/events", "html_url": "https://github.com/pypa/setuptools/issues/334", "id": 144279892, "node_id": "MDU6SXNzdWUxNDQyNzk4OTI=", "number": 334, "title": "\"ImportError: No module named version\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-19T03:40:58Z", "updated_at": "2016-03-29T14:23:51Z", "closed_at": "2016-03-29T14:23:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nI am getting this error on my local machine when trying to install **any** python module. \n\nI would like some help to investigate this further, and this affects more than just me:\n- https://bbs.archlinux.org/viewtopic.php?id=192382\n- http://stackoverflow.com/questions/27972349/installing-latest-python-daemon-2-0-3-breaks-subsequent-pip-installs\n- http://superuser.com/questions/866265/pip-install-keeps-throwing-odd-importerror\n\nAlso as suggested by [this](http://stackoverflow.com/a/27996309/646735) answer, uninstalling \"daemon\" could fix the problem.\n\n```\nrunning install_egg_info\nrunning egg_info\nTraceback (most recent call last):\n  File \"setup.py\", line 192, in <module>\n    run_setup(with_extensions=True)\n  File \"setup.py\", line 161, in run_setup\n    _run_setup()\n  File \"setup.py\", line 147, in _run_setup\n    setup(**kwargs_tmp)\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/lib/python2.7/site-packages/setuptools/command/install.py\", line 61, in run\n    return orig.install.run(self)\n  File \"/usr/lib/python2.7/distutils/command/install.py\", line 575, in run\n    self.run_command(cmd_name)\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/lib/python2.7/site-packages/setuptools/command/install_egg_info.py\", line 33, in run\n    self.run_command('egg_info')\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 171, in run\n    writer = ep.load(installer=installer)\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2310, in load\n    return self.resolve()\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2316, in resolve\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\nImportError: No module named version\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/334\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/333", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/333/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/333/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/333/events", "html_url": "https://github.com/pypa/setuptools/issues/333", "id": 144279883, "node_id": "MDU6SXNzdWUxNDQyNzk4ODM=", "number": 333, "title": "12.0.1: Probably unintended shebang in setuptools/tests/test_easy_install.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-18T17:31:54Z", "updated_at": "2016-03-29T14:23:48Z", "closed_at": "2016-03-29T14:23:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **_wiz_ (Bitbucket: [_wiz_](http://bitbucket.org/_wiz_), GitHub: Unknown)**\n\n---\n\nIn setuptools-12.0.1,  setuptools/tests/test_easy_install.py starts with:\n\n #! -_\\- coding: utf-8 -_-\n\nI guess a plain \"#' was intended instead\n\n # -_\\- coding: utf-8 -_-\n\nsince \"-*-\" is usually not a valid interpreter.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/333\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/331", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/331/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/331/events", "html_url": "https://github.com/pypa/setuptools/issues/331", "id": 144279846, "node_id": "MDU6SXNzdWUxNDQyNzk4NDY=", "number": 331, "title": "Windows script launchers missing backslashes in shebang", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-01-18T05:15:57Z", "updated_at": "2016-03-29T14:23:40Z", "closed_at": "2016-03-29T14:23:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nUsing Setuptools 12.0, slashes are missing in the shebang for the installed script:\n\n```\nC:\\Users\\ionel_000\\Projects\\sandbox>pip uninstall setuptools\nCannot uninstall requirement setuptools, not installed\n\nC:\\Users\\ionel_000\\Projects\\sandbox>pip install setuptools==12.0\nCollecting setuptools==12.0\n  Using cached setuptools-12.0-py2.py3-none-any.whl\nInstalling collected packages: setuptools\n\nSuccessfully installed setuptools-12.0\n\nC:\\Users\\ionel_000\\Projects\\sandbox>pip install --no-use-wheel nameless\nCollecting nameless\n  Downloading nameless-0.1.2.tar.gz\n    warning: no directories found matching 'examples'\nInstalling collected packages: nameless\n  Running setup.py install for nameless\n    warning: no directories found matching 'examples'\n    Installing nameless-script.py script to c:\\Python27\\Scripts\n    Installing nameless.exe script to c:\\Python27\\Scripts\nSuccessfully installed nameless-0.1.2\n\nC:\\Users\\ionel_000\\Projects\\sandbox>type c:\\Python27\\Scripts\\nameless-script.py\n#!c:Python27python.exe\n# EASY-INSTALL-ENTRY-SCRIPT: 'nameless==0.1.2','console_scripts','nameless'\n__requires__ = 'nameless==0.1.2'\nimport sys\nfrom pkg_resources import load_entry_point\n\nif __name__ == '__main__':\n    sys.exit(\n        load_entry_point('nameless==0.1.2', 'console_scripts', 'nameless')()\n    )\n\n```\n\nRolling back to setuptools 11.3.1 demonstrates the behavior previously worked:\n\n```\nC:\\Users\\ionel_000\\Projects\\sandbox>pip install setuptools==13.3.1\nCollecting setuptools==13.3.1\n  Could not find a version that satisfies the requirement setuptools==13.3.1 (from versions: 0.6b1, 0.6b2, 0.6b3, 0.6b4, 0.6rc1, 0.6rc2, 0.6rc3, 0.6rc4, 0.6rc5, 0.6rc6, 0.6rc7, 0.6rc8, 0.6rc9, 0.6rc10, 0.6rc11, 0.7.2, 0.\n7.3, 0.7.4, 0.7.5, 0.7.6, 0.7.7, 0.7.8, 0.8, 0.9, 0.9.1, 0.9.2, 0.9.3, 0.9.4, 0.9.5, 0.9.6, 0.9.7, 0.9.8, 1.0, 1.1, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.2, 1.3, 1.3.1, 1.3.2, 1.4, 1.4.1, 1.4.2, 2.0, 2.0.1,\n2.0.2, 2.1, 2.1.1, 2.1.2, 2.2, 3.0, 3.0.1, 3.0.2, 3.1, 3.2, 3.3, 3.4, 3.4.1, 3.4.2, 3.4.3, 3.4.4, 3.5, 3.5.1, 3.5.2, 3.6, 3.7, 3.7.1, 3.8, 3.8.1, 4.0, 4.0.1, 5.0, 5.0.1, 5.0.2, 5.1, 5.2, 5.3, 5.4, 5.4.1, 5.4.2, 5.5, 5.5.\n1, 5.6, 5.7, 5.8, 6.0.1, 6.0.2, 6.1, 7.0, 8.0, 8.0.1, 8.0.2, 8.0.3, 8.0.4, 8.1, 8.2, 8.2.1, 8.3, 9.0, 9.0.1, 9.1, 10.0, 10.0.1, 10.1, 10.2, 10.2.1, 11.0, 11.1, 11.2, 11.3, 11.3.1, 12.0, 12.0.1)\n  No distributions matching the version for setuptools==13.3.1\n\nC:\\Users\\ionel_000\\Projects\\sandbox>pip install setuptools==11.3.1\nCollecting setuptools==11.3.1\n  Downloading setuptools-11.3.1-py2.py3-none-any.whl (500kB)\n    100% |################################| 503kB 5.1MB/s eta 0:00:01\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 12.0\n    Uninstalling setuptools-12.0:\n      Successfully uninstalled setuptools-12.0\n\nSuccessfully installed setuptools-11.3.1\n\nC:\\Users\\ionel_000\\Projects\\sandbox>pip install --no-use-wheel -I nameless\nCollecting nameless\n  Using cached nameless-0.1.2.tar.gz\n    warning: no directories found matching 'examples'\nInstalling collected packages: nameless\n  Running setup.py install for nameless\n    warning: no directories found matching 'examples'\n    Installing nameless-script.py script to c:\\Python27\\Scripts\n    Installing nameless.exe script to c:\\Python27\\Scripts\nSuccessfully installed nameless-0.1.2\n\nC:\\Users\\ionel_000\\Projects\\sandbox>type c:\\Python27\\Scripts\\nameless-script.py\n#!c:\\Python27\\python.exe\n# EASY-INSTALL-ENTRY-SCRIPT: 'nameless==0.1.2','console_scripts','nameless'\n__requires__ = 'nameless==0.1.2'\nimport sys\nfrom pkg_resources import load_entry_point\n\nif __name__ == '__main__':\n    sys.exit(\n        load_entry_point('nameless==0.1.2', 'console_scripts', 'nameless')()\n    )\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/331\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/329", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/329/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/329/events", "html_url": "https://github.com/pypa/setuptools/issues/329", "id": 144279819, "node_id": "MDU6SXNzdWUxNDQyNzk4MTk=", "number": 329, "title": "UnboundLocalError: local variable 'saved_cls' referenced before assignment", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-14T17:53:52Z", "updated_at": "2016-03-29T14:23:34Z", "closed_at": "2016-03-29T14:23:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **maxpmaxp (Bitbucket: [maxpmaxp](http://bitbucket.org/maxpmaxp), GitHub: [maxpmaxp](http://github.com/maxpmaxp))**\n\n---\n\nHere is the traceback\n\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 2135, in main\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 376, in run\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 600, in easy_install\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 649, in install_item\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 834, in install_eggs\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 1055, in build_and_install\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/command/easy_install.py\", line 1041, in run_setup\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/sandbox.py\", line 204, in run_setup\n  File \"/usr/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/sandbox.py\", line 157, in setup_context\n  File \"/usr/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/lib/python2.7/dist-packages/setuptools-11.3.1-py2.7.egg/setuptools/sandbox.py\", line 126, in save_modules\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/329\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/327", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/327/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/327/events", "html_url": "https://github.com/pypa/setuptools/issues/327", "id": 144279792, "node_id": "MDU6SXNzdWUxNDQyNzk3OTI=", "number": 327, "title": "EntryPoint.parse is too narrow minded?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-06T12:16:35Z", "updated_at": "2016-03-29T14:23:27Z", "closed_at": "2016-03-29T14:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nAfter having updated from 11.1 to 11.3 I experienced problems with the Bitten plugin for Trac. The error message was:\n\n> Error\n> \n> TracError: ValueError: (\"EntryPoint must be in 'name=module:attrs [extras]' format\", 'http://bitten.cmlenz.net/tools/c#autoreconf = bitten.build.ctools:autoreconf')\n\nThe EntryPoint definition is not understood by the parser.\n\nI have identified [this change](/pypa/setuptools/diff/pkg_resources/__init__.py?diff2=7c0e84396b52) as the culprit. \n\nThe previous parser basically accepted everything that was not a = on the left hand side of the =. The regex based version started out with only accepting `\\w`. Later `+ .` were added but there might still be projects out there that use entry point definitions with other characters. For full compatibility with the old format the Regex should probably contain `[^=]`.\n\nWhile researching this problem I found a lack of clear definition how the entry point definition should be formatted (apart from `name = module:attribute [extra1, extra2]`) which explains the inconsistency in usage and parsing. Maybe this should be made more clear?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/327\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/325", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/325/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/325/events", "html_url": "https://github.com/pypa/setuptools/issues/325", "id": 144279753, "node_id": "MDU6SXNzdWUxNDQyNzk3NTM=", "number": 325, "title": "unnecessary PEP440 warnings in easy_install", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-01-05T09:14:53Z", "updated_at": "2016-03-29T14:23:21Z", "closed_at": "2016-03-29T14:23:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\nwhen parsing the index, easy_install shows the warning on every legacy version that exists on the index. this is annoying, but also unnecessary if did find a better match (for example, if easy_install found version 0.6, then it is unnecessary to print the warning about version 0.4.something).\n\nIn case you're easy-installing a tree of packages that each of them has legacy versions, easy_install will print A LOT of warnings, and that's really annoying. I doubt the end-user will go and notify all of the package maintainers.\n\nHere's one example, I'm sure that there are many many more:\n\n```\neasy_install -i https://pypi.python.org/simple  suds-jurko\nSearching for suds-jurko\nReading https://pypi.python.org/simple/suds-jurko/\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.4.1.jurko.1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds-jurko (0.4.1.jurko.1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.4.1.jurko.2)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds-jurko (0.4.1.jurko.2)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.4.1.jurko.3)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds-jurko (0.4.1.jurko.3)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.4.1.jurko.4)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds-jurko (0.4.1.jurko.4)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.4.1.jurko.5)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds-jurko (0.4.1.jurko.5)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.5)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/setuptools-11.1-py2.7.egg/pkg_resources/__init__.py:2503: PEP440Warning: 'suds (jurko-0.6)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\nBest match: suds-jurko 0.6\nDownloading https://pypi.python.org/packages/source/s/suds-jurko/suds-jurko-0.6.zip#md5=eddc4fa468d86244310c12a56f663e65\nProcessing suds-jurko-0.6.zip\nWriting /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-tisMBV/suds-jurko-0.6/setup.cfg\nRunning suds-jurko-0.6/setup.py -q bdist_egg --dist-dir /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-tisMBV/suds-jurko-0.6/egg-dist-tmp-X8Z5U4\nzip_safe flag not set; analyzing archive contents...\ncreating /Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/suds_jurko-0.6-py2.7.egg\nExtracting suds_jurko-0.6-py2.7.egg to /Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages\nAdding suds-jurko 0.6 to easy-install.pth file\n\nInstalled /Users/guy/.virtualenvs/pep-440/lib/python2.7/site-packages/suds_jurko-0.6-py2.7.egg\nProcessing dependencies for suds-jurko\nFinished processing dependencies for suds-jurko\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/325\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/324", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/324/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/324/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/324/events", "html_url": "https://github.com/pypa/setuptools/issues/324", "id": 144279743, "node_id": "MDU6SXNzdWUxNDQyNzk3NDM=", "number": 324, "title": "TypeError: not enough arguments for format string", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-04T12:35:50Z", "updated_at": "2016-03-29T14:23:16Z", "closed_at": "2016-03-29T14:23:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\n```\nTraceback (most recent call last):\n  File \"/root/python/bin/easy_install\", line 9, in <module>\n    load_entry_point('setuptools==11.0', 'console_scripts', 'easy_install')()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 2142, in main\n  File \"/root/python/lib64/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/root/python/lib64/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/root/python/lib64/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 376, in run\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 619, in easy_install\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 651, in install_item\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 710, in process_distribution\nTypeError: not enough arguments for format string\nscript failed!\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/324\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/324/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/323", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/323/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/323/events", "html_url": "https://github.com/pypa/setuptools/issues/323", "id": 144279727, "node_id": "MDU6SXNzdWUxNDQyNzk3Mjc=", "number": 323, "title": "Install issues with 10.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-02T19:34:09Z", "updated_at": "2016-03-29T14:23:14Z", "closed_at": "2016-03-29T14:23:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **spulec (Bitbucket: [spulec](http://bitbucket.org/spulec), GitHub: [spulec](http://github.com/spulec))**\n\n---\n\nI started getting this error as of 10.2\n\n```\n  Running setup.py egg_info for package setuptools\n    Traceback (most recent call last):\n      File \"<string>\", line 14, in <module>\n      File \"../venv/build/setuptools/setup.py\", line 180, in <module>\n        dist = setuptools.setup(**setup_params)\n      File \"/usr/lib/python2.7/distutils/core.py\", line 112, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"setuptools/dist.py\", line 267, in __init__\n        for ep in pkg_resources.iter_entry_points('distutils.setup_keywords'):\n      File \"pkg_resources/__init__.py\", line 639, in iter_entry_points\n        entries = dist.get_entry_map(group)\n      File \"pkg_resources/__init__.py\", line 2590, in get_entry_map\n        self._get_metadata('entry_points.txt'), self\n      File \"pkg_resources/__init__.py\", line 2348, in parse_map\n        maps[group] = cls.parse_group(group, lines, dist)\n      File \"pkg_resources/__init__.py\", line 2326, in parse_group\n        ep = cls.parse(line, dist)\n      File \"pkg_resources/__init__.py\", line 2304, in parse\n        raise ValueError(msg, src)\n    ValueError: (\"EntryPoint must be in 'name=module:attrs [extras]' format\", 'html+mako = mako.ext.pygmentplugin:MakoHtmlLexer')\n```\n\nIt is not clear to me if this is an issue with setuptools or Mako, but since it worked with the older setuptools I figured I would open the issue here first. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/323\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/322", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/322/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/322/events", "html_url": "https://github.com/pypa/setuptools/issues/322", "id": 144279715, "node_id": "MDU6SXNzdWUxNDQyNzk3MTU=", "number": 322, "title": "Failure installing nltk 3.0.0 using setuptools-10.1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-02T01:01:26Z", "updated_at": "2016-03-29T14:23:11Z", "closed_at": "2016-03-29T14:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **papachoco (Bitbucket: [papachoco](http://bitbucket.org/papachoco), GitHub: [papachoco](http://github.com/papachoco))**\n\n---\n\nI get the following error while installing nltk 3.0.0 using setuptools-10.1 (python 2./8\n\n```\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 205, in run_setup\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 157, in setup_context\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/contextlib.py\", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 128, in save_modules\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 106, in save_modules\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 157, in setup_context\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 201, in run_setup\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 232, in run\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 200, in runner\n  File \"build/bdist.macosx-10.10-x86_64/egg/setuptools/sandbox.py\", line 46, in _execfile\n  File \"/var/folders/r5/2ftstrwn70s8h7c0s634fmw40000gn/T/easy_install-qPQPP1/nltk-3.0.0/setup.py\", line 37, in <module>\nAttributeError: 'module' object has no attribute 'finders'\nAn error occurred when trying to install nltk 3.0.0. Look above this message for any errors that were output by easy_install.\nWhile:\n  Installing eggs.\n  Getting distribution for 'nltk==3.0.0'.\nError: Couldn't install: nltk 3.0.0\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/322\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/321", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/321/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/321/events", "html_url": "https://github.com/pypa/setuptools/issues/321", "id": 144279699, "node_id": "MDU6SXNzdWUxNDQyNzk2OTk=", "number": 321, "title": "easy_installing Flask-Compress fails", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-01-01T13:03:39Z", "updated_at": "2022-01-04T18:34:25Z", "closed_at": "2022-01-04T18:34:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\nThe scenario is this.\nWhen you install a package like Flask-Compress, which requires Flask, and Flask is not installed yet, easy_install will fail finding Flask.\n\nHere's an example:\n\n```\neasy_install Flask-Compress\nSearching for Flask-Compress\nReading https://pypi.python.org/simple/Flask-Compress/\nBest match: Flask-Compress 1.0.2\nDownloading https://pypi.python.org/packages/source/F/Flask-Compress/Flask-Compress-1.0.2.tar.gz#md5=47a5321b06ac2e722e29b7260f28b0fc\nProcessing Flask-Compress-1.0.2.tar.gz\nWriting /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-VQnIf6/Flask-Compress-1.0.2/setup.cfg\nRunning Flask-Compress-1.0.2/setup.py -q bdist_egg --dist-dir /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-VQnIf6/Flask-Compress-1.0.2/egg-dist-tmp-79D30T\nAdding Flask-Compress 1.0.2 to easy-install.pth file\n\nInstalled /Users/guy/.virtualenvs/flask/lib/python2.7/site-packages/Flask_Compress-1.0.2-py2.7.egg\nProcessing dependencies for Flask-Compress\nSearching for Flask\nBest match: Flask Compress-1.0.2\nDownloading https://pypi.python.org/packages/source/F/Flask-Compress/Flask-Compress-1.0.2.tar.gz#md5=47a5321b06ac2e722e29b7260f28b0fc\nProcessing Flask-Compress-1.0.2.tar.gz\nWriting /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-3VWPk4/Flask-Compress-1.0.2/setup.cfg\nRunning Flask-Compress-1.0.2/setup.py -q bdist_egg --dist-dir /var/folders/q9/qmx7vrjn2j551r90kvdyw_cr0000gn/T/easy_install-3VWPk4/Flask-Compress-1.0.2/egg-dist-tmp-idbvxI\nFlask-Compress 1.0.2 is already the active version in easy-install.pth\n\nInstalled /Users/guy/.virtualenvs/flask/lib/python2.7/site-packages/Flask_Compress-1.0.2-py2.7.egg\nerror: Could not find required distribution Flask\n```\n\nThis is not specific to Flask, it will happen for in any case where installing package <X>-<Y> requires <X> and <X> is not installed.\n\nThis bug exists in all versions of setuptools AFAIK\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/321\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/320", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/320/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/320/events", "html_url": "https://github.com/pypa/setuptools/issues/320", "id": 144279687, "node_id": "MDU6SXNzdWUxNDQyNzk2ODc=", "number": 320, "title": "Error when upgrading to 10.0.1 via pip", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-12-30T20:47:09Z", "updated_at": "2016-03-29T14:23:03Z", "closed_at": "2016-03-29T14:23:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **spulec (Bitbucket: [spulec](http://bitbucket.org/spulec), GitHub: [spulec](http://github.com/spulec))**\n\n---\n\nI'm having trouble upgrading to the newest version.\n\n```\nDownloading/unpacking setuptools==10.0.1\n  Downloading setuptools-10.0.1.tar.gz (626kB): 626kB downloaded\n  Running setup.py egg_info for package setuptools\n\n    Traceback (most recent call last):\n      File \"<string>\", line 16, in <module>\n      File \"../venv/build/setuptools/setup.py\", line 210, in <module>\n        dist = setuptools.setup(**setup_params)\n      File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n        dist.run_commands()\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n        self.run_command(cmd)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"<string>\", line 14, in replacement_run\n      File \"setuptools/command/egg_info.py\", line 206, in find_sources\n        mm.run()\n      File \"setuptools/command/egg_info.py\", line 290, in run\n        self.add_defaults()\n      File \"setuptools/command/egg_info.py\", line 322, in add_defaults\n        rcfiles = list(walk_revctrl())\n      File \"setuptools/command/sdist.py\", line 18, in walk_revctrl\n        for item in ep.load()(dirname):\n      File \"pkg_resources/__init__.py\", line 2265, in load\n        raise ImportError(\"%r has no %r attribute\" % (entry, attr))\n    ImportError: <module 'setuptools.command.sdist' from 'setuptools/command/sdist.py'> has no '_default_revctrl' attribute\n    Complete output from command python setup.py egg_info:\n    running egg_info\n```\n\nUbuntu 12.04\npip 1.4\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/320\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/319", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/319/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/319/events", "html_url": "https://github.com/pypa/setuptools/issues/319", "id": 144279676, "node_id": "MDU6SXNzdWUxNDQyNzk2NzY=", "number": 319, "title": "Error installing pycrypto in setuptools 10.0", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-12-30T16:36:53Z", "updated_at": "2016-03-29T14:23:00Z", "closed_at": "2016-03-29T14:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nWhile installing pycrypto using buildout I got the following error\n\nGetting distribution for 'pycrypto==2.6.1'.\nerror: Setup script exited with usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n   or: setup.py --help [cmd1 cmd2 ...]\n   or: setup.py --help-commands\n   or: setup.py cmd --help\n\nerror: invalid command 'bdist_egg'\nAn error occurred when trying to install pycrypto 2.6.1. Look above this message for any errors that were output by easy_install.\nWhile:\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/319\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/316", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/316/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/316/events", "html_url": "https://github.com/pypa/setuptools/issues/316", "id": 144279642, "node_id": "MDU6SXNzdWUxNDQyNzk2NDI=", "number": 316, "title": "Create usage instructions and rearrange docs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 1097203555, "node_id": "MDU6TGFiZWwxMDk3MjAzNTU1", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Implementation", "name": "Needs Implementation", "color": "00ee00", "default": false, "description": "Issues that are ready to be implemented."}, {"id": 1100115998, "node_id": "MDU6TGFiZWwxMTAwMTE1OTk4", "url": "https://api.github.com/repos/pypa/setuptools/labels/documentation", "name": "documentation", "color": "fc9e6f", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-29T07:18:45Z", "updated_at": "2022-06-22T09:24:24Z", "closed_at": "2022-06-22T09:24:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **krichter1 (Bitbucket: [krichter1](http://bitbucket.org/krichter1), GitHub: Unknown)**\n\n---\n\nThe documentation section on `Extending and reusing setuptools` (http://pythonhosted.org//setuptools/setuptools.html#extending-and-reusing-setuptools) contains a lot of usage instructions which should be moved to the usage instructions section which is currently not worth mentioning (http://pythonhosted.org//setuptools/using.html). I didn't yet manage to get a project running (because of the annoying search of documentation here and there), but I'd guess that from the subsection http://pythonhosted.org//setuptools/setuptools.html#extensible-applications-and-frameworks on the `Extending and resuing` section actually contains instructions for developping, i.e. extending and reusing.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/316\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/315", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/315/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/315/events", "html_url": "https://github.com/pypa/setuptools/issues/315", "id": 144279614, "node_id": "MDU6SXNzdWUxNDQyNzk2MTQ=", "number": 315, "title": "Setuptools should always use its own implementation when upgrading", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 28, "created_at": "2014-12-28T20:27:14Z", "updated_at": "2016-03-29T14:22:49Z", "closed_at": "2016-03-29T14:22:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #314, Tres reported that Setuptools cannot upgrade itself if new metadata is present which references functionality not available in the version being upgraded. It should be possible and straightforward to always use the code from the version being installed to install that version.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/315\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/314", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/314/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/314/events", "html_url": "https://github.com/pypa/setuptools/issues/314", "id": 144279592, "node_id": "MDU6SXNzdWUxNDQyNzk1OTI=", "number": 314, "title": "setuptools 8.4 breaks non-pip upgrades", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2014-12-27T00:31:45Z", "updated_at": "2016-03-29T14:22:42Z", "closed_at": "2016-03-29T14:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tseaver (Bitbucket: [tseaver](http://bitbucket.org/tseaver), GitHub: [tseaver](http://github.com/tseaver))**\n\n---\n\nBoth zc.buildout and easy_install fail to update to setuptools 8.4 with tracebacks like so:\n\n```\n$ sudo /opt/Python-3.3.3/bin/easy_install -U setuptools\nSearching for setuptools\nReading https://pypi.python.org/simple/setuptools/\nBest match: setuptools 8.4\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-8.4.zip#md5=41154296b306110e56ebe8dbd35a0d31\nProcessing setuptools-8.4.zip\nWriting /tmp/easy_install-wth6t5/setuptools-8.4/setup.cfg\nRunning setuptools-8.4/setup.py -q bdist_egg --dist-dir /tmp/easy_install-wth6t5/setuptools-8.4/egg-dist-tmp-nl1f7k\nTraceback (most recent call last):\nFile \"/opt/Python-3.3.3/lib/python3.3/site-packages/setuptools-8.3-py3.3.egg/pkg_resources/__init__.py\", line 2262, in load\nAttributeError: 'module' object has no attribute 'write_setup_requirements'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/314\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/312", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/312/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/312/events", "html_url": "https://github.com/pypa/setuptools/issues/312", "id": 144279549, "node_id": "MDU6SXNzdWUxNDQyNzk1NDk=", "number": 312, "title": "Tests failed to run with 8.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-25T03:07:48Z", "updated_at": "2016-03-29T14:22:32Z", "closed_at": "2016-03-29T14:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nRunning `python setup.py test` fails with the following error with 8.3:\n\n```\nerror: [Errno 2] No such file or directory: '/build/python-setuptools/src/setuptools-8.3/pkg_resources/tests/api_tests.txt'\n```\n\n8.2.1 works fine.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/312\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/311", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/311/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/311/events", "html_url": "https://github.com/pypa/setuptools/issues/311", "id": 144279533, "node_id": "MDU6SXNzdWUxNDQyNzk1MzM=", "number": 311, "title": "pkg_resources should not depend on setuptools", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-24T21:17:11Z", "updated_at": "2016-03-29T14:22:29Z", "closed_at": "2016-03-29T14:22:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nWith the 8.0 release, and the vendoring of packaging, pkg_resources now imports setuptools, invoking the side effects of importing setuptools. This change violates the implicit expectation that pkg_resources should run independent of setuptools. I missed this violation during my review, but it should be relatively straightforward to correct.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/311\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/307", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/307/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/307/events", "html_url": "https://github.com/pypa/setuptools/issues/307", "id": 144279476, "node_id": "MDU6SXNzdWUxNDQyNzk0NzY=", "number": 307, "title": "PEP440 code in setuptools 8.2.1 is parsing version number incorrectly for package with hyphen in name", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-12-19T06:21:18Z", "updated_at": "2016-03-29T14:22:15Z", "closed_at": "2016-03-29T14:22:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **msabramo (Bitbucket: [msabramo](http://bitbucket.org/msabramo), GitHub: [msabramo](http://github.com/msabramo))**\n\n---\n\nI created a package called [`setuptools-markdown`](https://pypi.python.org/pypi/setuptools-markdown) (note hyphen in name).\n\n`pkg_resources` is struggling to parse the version, thinking that `markdown` is part of the version.\n\n```\n\u276f python setup.py egg_info\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.1.dev2)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.1.dev1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.1dev1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.1dev)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n/Users/marca/python/virtualenvs/setuptools-markdown/lib/python2.7/site-packages/pkg_resources.py:2443: PEP440Warning: 'setuptools (markdown-0.0dev)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\n  PEP440Warning,\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/307\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/306", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/306/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/306/events", "html_url": "https://github.com/pypa/setuptools/issues/306", "id": 144279466, "node_id": "MDU6SXNzdWUxNDQyNzk0NjY=", "number": 306, "title": "setuptools 8.2 spews end user error messages for package version issues", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-18T16:03:39Z", "updated_at": "2016-03-29T14:22:11Z", "closed_at": "2016-03-29T14:22:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sdague (Bitbucket: [sdague](http://bitbucket.org/sdague), GitHub: [sdague](http://github.com/sdague))**\n\n---\n\nOn Ubuntu 14.04 python-debian is version 0.1.21-nmu2ubuntu2.\n\nThat means if you have setuptools 8.2 installed on the system _all_ executions of python programs, for any reason, create the following error:\n\nhttp://logs.openstack.org/22/142322/1/check/check-tempest-dsvm-full/395143d/logs/devstacklog.txt.gz#_2014-12-18_12_34_46_433\n\n(happens 222 times during a devstack run).\n\nThis is incredibly user hostile when they are doing nothing related to package installation, and probably encourages them to upgrade this system dependency to something which then breaks their system.\n\nThese kinds of warnings should only be emitted when actual opperations involving the package version are done. For instance, installation or removal.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/306\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/305", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/305/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/305/events", "html_url": "https://github.com/pypa/setuptools/issues/305", "id": 144279447, "node_id": "MDU6SXNzdWUxNDQyNzk0NDc=", "number": 305, "title": "error during import of mercurial extension", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-18T14:20:05Z", "updated_at": "2016-03-29T14:22:06Z", "closed_at": "2016-03-29T14:22:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **alejandrogiacometti (Bitbucket: [alejandrogiacometti](http://bitbucket.org/alejandrogiacometti), GitHub: Unknown)**\n\n---\n\nI'm not sure this is a mercurial bug. \n\nHere is the traceback:\n\n```\n  File \"/usr/local/lib/python2.7/site-packages/mercurial/demandimport.py\", line 47, in _hgextimport\n    return importfunc(name, globals, *args)\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/extension.py\", line 13, in <module>\n    msvc9_support.patch_for_specialized_compiler()\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/msvc9_support.py\", line 24, in patch_for_sp\necialized_compiler\n    unpatched.update(vars(distutils.msvc9compiler))\nTypeError: vars() argument must have __dict__ attribute\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/305\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/304", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/304/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/304/events", "html_url": "https://github.com/pypa/setuptools/issues/304", "id": 144279412, "node_id": "MDU6SXNzdWUxNDQyNzk0MTI=", "number": 304, "title": "PowerShell Install Command No Long Works", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-17T21:11:16Z", "updated_at": "2016-03-29T14:22:00Z", "closed_at": "2016-03-29T14:21:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nThis command:\n\n```\n#!powershell\n\n(Invoke-WebRequest https://bootstrap.pypa.io/ez_setup.py).Content | python -\n```\n\nIt's wonderful, but it's broken now. PowerShell interprets the file content as a set of bytes, instead of as UTF-8. Manually converting to UTF-8 fixes it:\n\n```\n#!powershell\n\n[System.Text.Encoding]::UTF8.GetString((Invoke-WebRequest https://bootstrap.pypa.io/ez_setup.py).Content) | python -\n```\n\nBut I don't know if that's a good long term solution. I'm pretty sure this used to work. I noticed that the Content-Type header on the response when downloading the file is `application/octet-stream`; I wonder if that could be related.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/304\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/303", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/303/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/303/events", "html_url": "https://github.com/pypa/setuptools/issues/303", "id": 144279402, "node_id": "MDU6SXNzdWUxNDQyNzk0MDI=", "number": 303, "title": "Setuptools dependencies issuing spurious RuntimeWarning about legacy versions in dependencies", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-17T17:32:56Z", "updated_at": "2016-03-29T14:21:57Z", "closed_at": "2016-03-29T14:21:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nInstalling Setuptools 8.0.4 over itself using easy_install results in this output:\n\n```\n> easy_install setuptools\n\ufeffSearching for setuptools\nBest match: setuptools 8.0.4\nProcessing setuptools-8.0.4-py3.4.egg\nsetuptools 8.0.4 is already the active version in easy-install.pth\nInstalling easy_install-3.4.pya script to C:\\Program Files\\Python34\\Scripts\nInstalling easy_install.pya script to C:\\Program Files\\Python34\\Scripts\n\nUsing c:\\program files\\python34\\lib\\site-packages\\setuptools-8.0.4-py3.4.egg\n\ufeffC:\\Program Files\\Python34\\lib\\site-packages\\setuptools-8.0.4-py3.4.egg\\pkg_resources.py:2425: RuntimeWarning: 'certifi-1.0.1 ()' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\nC:\\Program Files\\Python34\\lib\\site-packages\\setuptools-8.0.4-py3.4.egg\\pkg_resources.py:2425: RuntimeWarning: 'wincertstore-0.2 ()' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.\nProcessing dependencies for setuptools\nFinished processing dependencies for setuptools\n```\n\nIt appears as if the dependencies of setuptools, specifically those from extras, are getting a pair of parentheses in the requirement string, causing the version to parse with a warning.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/303\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/302", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/302/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/302/events", "html_url": "https://github.com/pypa/setuptools/issues/302", "id": 144279382, "node_id": "MDU6SXNzdWUxNDQyNzkzODI=", "number": 302, "title": "Setuptools 8 strips leading zeros in packaging for date based releases", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-12-17T01:56:06Z", "updated_at": "2019-10-04T18:46:51Z", "closed_at": "2016-03-29T14:21:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mklein0 (Bitbucket: [mklein0](http://bitbucket.org/mklein0), GitHub: [mklein0](http://github.com/mklein0))**\n\n---\n\nI am currently date based release version numbers to manage releases.  After upgrading to setuptools 8, release segments with leading zeros in them are being striped.\n\nThe following setup.py example would generate a package name of:\n\n```\ndated_release-20140510.003458-cp27-none-macosx_10_9_intel.whl\n```\n\nAfter setuptools 8:\n\n```\ndated_release-20140510.3458-cp27-none-macosx_10_9_intel.whl\n```\n\nAlong with the following warning:\n\n```\n/VirtualEnv/stools/lib/python2.7/site-packages/setuptools/dist.py:289: UserWarning: The version specified requires normalization, consider using '20140510.3458' instead of '20140510.003458'.\nself.metadata.version,\n```\n\nI believe PEP440 allows for date based version identifiers, so this is unexpected.\n\nCode to generate packages:\n\n```\nfrom setuptools import setup, find_packages\n\nsetup(\n    name='dated_release',\n    version='20140510.003458',\n    description='Example of a dated release  %Y%m%d.%H%M%S',\n    packages=find_packages(),\n    )\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/302\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/302/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/301", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/301/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/301/events", "html_url": "https://github.com/pypa/setuptools/issues/301", "id": 144279376, "node_id": "MDU6SXNzdWUxNDQyNzkzNzY=", "number": 301, "title": "'1.0.1' in Requirement.parse('foo>1.0') results False", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-16T06:19:32Z", "updated_at": "2016-03-29T14:21:51Z", "closed_at": "2016-03-29T14:21:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **datakurre (Bitbucket: [datakurre](http://bitbucket.org/datakurre), GitHub: [datakurre](http://github.com/datakurre))**\n\n---\n\nWith setuptools 8.0.4\n\n```\n'1.0.1' in Requirement.parse('foo>1.0')\nFalse\n'1.0.1' in Requirement.parse('foo>1.0.0')\nTrue\n```\n\nPEP440 says: \"--X.Y and X.Y.0 are not considered distinct release numbers, as the release segment  comparison rules implicit expand the two component form to X.Y.0 when comparing it to any release segment that includes three components.--\"\n\nAm I missing something?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/301\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/300", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/300/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/300/events", "html_url": "https://github.com/pypa/setuptools/issues/300", "id": 144279364, "node_id": "MDU6SXNzdWUxNDQyNzkzNjQ=", "number": 300, "title": "python setup.py sdist upload doesn't return proper exit code on error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-15T15:45:41Z", "updated_at": "2016-03-29T14:21:47Z", "closed_at": "2016-03-29T14:21:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **flyte (Bitbucket: [flyte](http://bitbucket.org/flyte), GitHub: [flyte](http://github.com/flyte))**\n\n---\n\nThe upload to cheeseshop fails because there's already a pkg with the same version on there. This is fine, but the expected behaviour is that since the upload failed, it should return an exit code >0.\n\n```\n$ python setup.py sdist upload -r cheeseshop\nrunning upload\nSubmitting dist/sensor-api-0.0.1dev.tar.gz to http://cheeseshop.mydomain.tld/pypi/\nUpload failed (400): Bad Request\n$ echo $?\n0\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/300\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/299", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/299/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/299/events", "html_url": "https://github.com/pypa/setuptools/issues/299", "id": 144279351, "node_id": "MDU6SXNzdWUxNDQyNzkzNTE=", "number": 299, "title": "ImportError (ContextualZipFile) on setuptools 8.0.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-15T14:39:33Z", "updated_at": "2021-07-20T07:58:54Z", "closed_at": "2016-03-29T14:21:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **flyte (Bitbucket: [flyte](http://bitbucket.org/flyte), GitHub: [flyte](http://github.com/flyte))**\n\n---\n\nI'm sorry in advance for a vague bug report, but I'm not able to reproduce this on a blank VM. I have a server which had setuptools 7.0 on, which got upgraded using the ez_setup.py script to setuptools 8.0.2. After this, the following happens:\n\n```\n$ easy_install --version\nTraceback (most recent call last):\n  File \"/usr/local/bin/easy_install\", line 9, in <module>\n    load_entry_point('setuptools==8.0.2', 'console_scripts', 'easy_install')()\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 351, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2363, in load_entry_point\n    return ep.load()\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2088, in load\n    entry = __import__(self.module_name, globals(),globals(), ['__name__'])\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 42, in <module>\n\n  File \"build/bdist.linux-x86_64/egg/setuptools/archive_util.py\", line 15, in <module>\nImportError: cannot import name ContextualZipFile\n```\n\nIf I `pip uninstall setuptools` and `pip install setuptools==7.0` then `easy_install --version` works correctly.\n\nI also have another issue running `egg_info` on this box but I can't recreate this problem on a blank VM either, so I'm inclined to think that it's caused by the same issue:\n\n```\n$ python setup.py egg_info\nrunning egg_info\nerror: Invalid distribution name or version syntax: my-pkg-0.0.1dev\n```\n\nThis command works with the same project on a blank VM running `setuptools 8.0.2`.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/299\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/298", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/298/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/298/events", "html_url": "https://github.com/pypa/setuptools/issues/298", "id": 144279333, "node_id": "MDU6SXNzdWUxNDQyNzkzMzM=", "number": 298, "title": "setuptools 8 breaks python-dateutil specifier", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-15T11:50:55Z", "updated_at": "2016-03-29T14:21:43Z", "closed_at": "2016-03-29T14:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **EvaSDK (Bitbucket: [EvaSDK](http://bitbucket.org/EvaSDK), GitHub: [EvaSDK](http://github.com/EvaSDK))**\n\n---\n\nHello,\n\nafter upgrading to setuptools 8.0, the project using the following specifier:\n\n```\npython-dateutil>=1.0, <2.0, >=2.1\n```\n\ndo not install anymore.\n\nFrom a quick read of PEP440, I could not determine if this notation is wrong or not but I know for sure it is used by a couple of projects out there to workaround the few releases that did not support both python2 and 3.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/298\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/297", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/297/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/297/events", "html_url": "https://github.com/pypa/setuptools/issues/297", "id": 144279311, "node_id": "MDU6SXNzdWUxNDQyNzkzMTE=", "number": 297, "title": "Importing setuptools.dist executes a subprocess (8.0.x)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-15T00:10:05Z", "updated_at": "2018-08-26T23:52:47Z", "closed_at": "2018-08-26T23:52:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tonyandrewmeyer (Bitbucket: [tonyandrewmeyer](http://bitbucket.org/tonyandrewmeyer), GitHub: [tonyandrewmeyer](http://github.com/tonyandrewmeyer))**\n\n---\n\nI'm not sure if you'll consider this a bug or not (your call, of course).\n\nIn 8.0 and 8.0.1 (and I assume 8.0.2, although I haven't checked) importing setuptools.dist imports setuptools.windows_support.  windows_support has a method hide_file, which is wrapped by a decorator windows_only, which calls platform.system().  platform.system() (at least in 2.7.8) calls platform.uname(), which (on some platforms) uses _syscmd_uname to get the processor information, which calls os.popen (for uname).\n\nSo what this means is that just importing setuptools.dist will result in a subprocess running uname (on various platforms, including Debian 7).\n\nPhilosophically, I don't really like an import executing a subprocess.  However, this caused issues for me, because I have processes that do not have permission to create child processes.  So this means that importing setuptools.dist results in an IOError ([Errno 10] No child processes).\n\nIt would be great if the pre 8.0 behaviour was restored where this didn't happen.  For example, the hide_file method could determine if it was running on Windows when called rather than when imported.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/297\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/296", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/296/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/296/events", "html_url": "https://github.com/pypa/setuptools/issues/296", "id": 144279268, "node_id": "MDU6SXNzdWUxNDQyNzkyNjg=", "number": 296, "title": "setuptools 8.0 fails with zc.buildout 2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2014-12-13T21:06:27Z", "updated_at": "2016-03-29T14:21:36Z", "closed_at": "2016-03-29T14:21:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tomgross (Bitbucket: [tomgross](http://bitbucket.org/tomgross), GitHub: [tomgross](http://github.com/tomgross))**\n\n---\n\nWith the release of setuptools 8.0 all buildouts fail with the following error:\n\n```\n#!python\n\ntom@localhost:~/demobuildout> python2.7 bootstrap.py\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-8.0.zip\nExtracting in /tmp/tmp_34LbA\nNow working in /tmp/tmp_34LbA/setuptools-8.0\nBuilding a Setuptools egg in /tmp/tmpeA5PHB\n/tmp/tmpeA5PHB/setuptools-8.0-py2.7.egg\nTraceback (most recent call last):\n  File \"bootstrap.py\", line 145, in <module>\n    if _final_version(distv):\n  File \"bootstrap.py\", line 131, in _final_version\n    for part in parsed_version:\nTypeError: 'Version' object is not iterable\n```\n\nThis error did not occur with setuptools 7.0 and earlier. A workaround can be found here:\nhttp://blog.toms-projekte.de/workaround-setuptools-buildout-bug.html\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/296\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/296/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/295", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/295/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/295/events", "html_url": "https://github.com/pypa/setuptools/issues/295", "id": 144279244, "node_id": "MDU6SXNzdWUxNDQyNzkyNDQ=", "number": 295, "title": "Install _init__.py for namespace packages for Python versions before 3.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-12T22:22:27Z", "updated_at": "2016-03-29T14:21:29Z", "closed_at": "2016-03-29T14:21:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **clawmct (Bitbucket: [clawmct](http://bitbucket.org/clawmct), GitHub: Unknown)**\n\n---\n\nPEP-420: https://www.python.org/dev/peps/pep-0420/\n\nAfter 3.3 namespace packages should not include an **init**.py in a namespace package. Prior to 3.3, the **init**.py is needed to specify things like those mentioned here:\n\nhttps://www.python.org/dev/peps/pep-0420/#namespace-packages-today\n\nIt would be helpful if the **init**.py files were only excluded for Python versions >= 3.3.\n\nI am happy to make the change assuming it sounds like a good idea.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/295\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/292", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/292/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/292/events", "html_url": "https://github.com/pypa/setuptools/issues/292", "id": 144279192, "node_id": "MDU6SXNzdWUxNDQyNzkxOTI=", "number": 292, "title": "Running \"test\" followed by \"install\" on a with_2to3 package causes duplicate egg-info to be installed", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-01T11:25:52Z", "updated_at": "2021-09-13T20:03:49Z", "closed_at": "2021-09-13T20:03:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marienz (Bitbucket: [marienz](http://bitbucket.org/marienz), GitHub: [marienz](http://github.com/marienz))**\n\n---\n\nTested using setuptools-7.0 and current hg (48a23a037ea2), and urwid-1.2.2 as package to be installed. The problem probably occurs on any package using `setup.py test` provided by setuptools and `use_2to3=True`.\n\nFirst run `python3.3 setup.py test`. Then run `python3.3 setup.py install --root=/tmp/urwid` (other install invocations probably also affected). This installs:\n\n```\n/tmp/urwid/usr/lib64/python3.3/site-packages/urwid-1.2.2-py3.3.egg-info\n/tmp/urwid/usr/lib64/python3.3/site-packages/urwid.egg-info\n```\n\nThat urwid.egg-info directory is unexpected. This is a problem because it triggers the following:\n\n```\n#!python\n>>> pkg_resources.require('bdist_mpkg>=0.4.2')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/tmp/setuptools/pkg_resources.py\", line 741, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/tmp/setuptools/pkg_resources.py\", line 611, in resolve\n    env = Environment(self.entries)\n  File \"/tmp/setuptools/pkg_resources.py\", line 798, in __init__\n    self.scan(search_path)\n  File \"/tmp/setuptools/pkg_resources.py\", line 828, in scan\n    self.add(dist)\n  File \"/tmp/setuptools/pkg_resources.py\", line 848, in add\n    dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)\nTypeError: unorderable types: str() < NoneType()\n```\n\nand that happens because it's comparing two `pkg_resources.Distribution` instances where one has a `py_version` while on the other it's `None`. This may need its own bug report, let me know if you want me to file that.\n\nAs for where that stray egg-info comes from: if 2to3 is used, the \"test\" command does this:\n\n```\n#!python\n            # Build extensions\n            self.reinitialize_command('egg_info', egg_base=build_path)\n            self.run_command('egg_info')\n```\n\nwhich creates build/lib.linux-x86_64-3.3/urwid.egg-info. This egg-info directory then gets copied across by install_lib, in addition to the one created by install_egg_info. Unfortunately I have no idea what the correct fix for that is (use a directory other than build_lib? try to clean it up afterwards?).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/292\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/291", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/291/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/291/events", "html_url": "https://github.com/pypa/setuptools/issues/291", "id": 144279181, "node_id": "MDU6SXNzdWUxNDQyNzkxODE=", "number": 291, "title": "options build_scripts executable creates invalid shebang lines", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-01T08:09:50Z", "updated_at": "2016-03-29T14:21:16Z", "closed_at": "2016-03-29T14:21:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **yarbelk (Bitbucket: [yarbelk](http://bitbucket.org/yarbelk), GitHub: [yarbelk](http://github.com/yarbelk))**\n\n---\n\nwhen trying to force a console_script entrypoint to use \n\n```\n#!bash\n\n#!/usr/bin/env python\n```\n\nas its shebang line, i set\n\n```\n#!python\n\nsetup(\n  entry_points={\n    'console_scripts': [\n       ... etc...\n    ]\n  },\n  options={\n      'build_scripts': {\n          'executable': '/bin/custom_python',\n      },\n  }\n)\n```\n\na. la [this question from SO](http://stackoverflow.com/questions/17237878/changing-console-script-entry-point-interpreter-for-packaging)\n\nHowever, this creates a malformed shebang  line:\n\n```\n#!bash\n\n#!\"/usr/bin/env python\"\n```\n\nNote the extra quotes.  this is not a valid shebang.  I need to force the use of this as I am making a zip of the virtual environment, which will run on a few different servers that have different python2.7 (`/usr/bin/python`, `/usr/local/bin/python`, `/usr/bin/python2.7`).\n### My computer:\n\nosx 10.9.4\n\nsetuptools version 7.0  (`import setuptools; setuptools.__version__`)\n\nzsh (tried with bash as well)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/291\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/291/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/290", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/290/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/290/events", "html_url": "https://github.com/pypa/setuptools/issues/290", "id": 144279152, "node_id": "MDU6SXNzdWUxNDQyNzkxNTI=", "number": 290, "title": "ez_setup.py shouldn't leave any files in the current directory", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-24T17:57:21Z", "updated_at": "2016-03-29T14:21:12Z", "closed_at": "2016-03-29T14:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nez_setup.py currently leaves a setuptool tarball in the current directory. Not cool at all. People don't expect an installation script to leave shit around that they'll have to clean manually later. What do you think about downloading it to a temporary directory and deleting it after installation?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/290\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/289", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/289/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/289/events", "html_url": "https://github.com/pypa/setuptools/issues/289", "id": 144279137, "node_id": "MDU6SXNzdWUxNDQyNzkxMzc=", "number": 289, "title": "Broken links to EasyInstall docs on overview page", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-18T13:36:17Z", "updated_at": "2018-08-26T23:54:32Z", "closed_at": "2018-08-26T23:54:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Piotr_Dobrogost (Bitbucket: [Piotr_Dobrogost](http://bitbucket.org/Piotr_Dobrogost), GitHub: Unknown)**\n\n---\n\nOn overview page in section \"Unix (wget)\" (https://pypi.python.org/pypi/setuptools#unix-wget) there are links to \"EasyInstall manual\" (https://pythonhosted.org/setuptools/EasyInstall) and \" the section on custom installation locations.\" (https://pythonhosted.org/setuptools/EasyInstall#custom-installation-locations). Both are broken (I get 404 Not Found).\n\nI guess proper link is https://pythonhosted.org/setuptools/easy_install.html which is used later on the same page (\"The EasyInstall user's guide and reference manual\").\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/289\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/288", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/288/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/288/events", "html_url": "https://github.com/pypa/setuptools/issues/288", "id": 144279111, "node_id": "MDU6SXNzdWUxNDQyNzkxMTE=", "number": 288, "title": "Cannot specify Cython under setup_requires", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-11-18T13:24:39Z", "updated_at": "2016-03-29T14:21:05Z", "closed_at": "2016-03-29T14:21:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nFrom [Distribute 275](https://bitbucket.org/tarek/distribute/issue/275/cannot-specify-cython-under-setup_requires):\n\nDistribute appears to try to support Cython-based extension modules natively. Specifically, in setuptools.extension and setuptools.command.build_ext, there are specific references to support building Cython modules.\n\nHowever, this support does not work when Cython is made available via setup_requires (because the tests for the existence of Cython happen before setup_requires-specified packages are loaded).\n\nIt would be nice if the package enabled installation of Cython-based packages with a simple setup_requires directive, rather than requiring it to have been installed on the build host before the target package was installed or built.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/288\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/285", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/285/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/285/events", "html_url": "https://github.com/pypa/setuptools/issues/285", "id": 144279044, "node_id": "MDU6SXNzdWUxNDQyNzkwNDQ=", "number": 285, "title": "user install of setuptools: `easy_install -d` option ignored", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-11-14T13:49:49Z", "updated_at": "2016-03-29T14:20:54Z", "closed_at": "2016-03-29T14:20:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **bubla (Bitbucket: [bubla](http://bitbucket.org/bubla), GitHub: [bubla](http://github.com/bubla))**\n\n---\n\nI have encountered the following case with setuptools installed using `easy_install` with the `--user` option (reason for the user installation: The system version was outdated).\nThe new setuptools provide their `easy_install` command and I have tried to install an egg to a given directory like this:\n\n```\neasy_install -d ~/test ../imreg_dft-0.6.0-py2.7.egg\n```\n\nHowever, instead of complaining that the target directory is not in `PYTHONPATH`, it didn't even try to install it there and went directly to the user's Python directory, i.e. `~/Library/Python/2.7/lib/python/site-packages` (that's on OSX).\n\nAfter investigation, we have discovered that the `initialize_options` function in [easy_install.py:150](https://bitbucket.org/pypa/setuptools/src/4338ea33572cc755e8132b5f9dc54a7a3a7acd30/setuptools/command/easy_install.py?at=default#cl-150) sets the `self.user` property, although `--user` hasn't been passed on command-line.\nThen, it most likely results in `self.install_dir` being silently overwritten on  [easy_install.py:276](https://bitbucket.org/pypa/setuptools/src/4338ea33572cc755e8132b5f9dc54a7a3a7acd30/setuptools/command/easy_install.py?at=default#cl-276) (but we aren't sure since we are not familiar with the purelib and stuff).\nAnyway, the `--user` and `--install-dir` arguments to `easy_install` are contradictory, so setting user internally especially if install-dir has been set by the user looks like bug.\n\nI propose not doing this if potentially conflicting arguments have been supplied. If this is too much, then this behavior should be documented and  user should be clearly warned that his request is going to be ignored.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/285\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/284", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/284/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/284/events", "html_url": "https://github.com/pypa/setuptools/issues/284", "id": 144279029, "node_id": "MDU6SXNzdWUxNDQyNzkwMjk=", "number": 284, "title": "easy_install --quiet --dry-run -U package is not really quiet", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-11T16:46:27Z", "updated_at": "2022-01-04T18:32:26Z", "closed_at": "2022-01-04T18:32:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sorin (Bitbucket: [sorin](http://bitbucket.org/sorin), GitHub: [sorin](http://github.com/sorin))**\n\n---\n\neasy_install --quiet --dry-run -U packname\nwould still output at least the:\ninstall_dir /usr/local/lib/python2.6/dist-packages/\n\nThis prevents us from properly running a quite update from crontab, where we are supposed to have output only if there are errors.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/284\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/283", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/283/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/283/events", "html_url": "https://github.com/pypa/setuptools/issues/283", "id": 144279004, "node_id": "MDU6SXNzdWUxNDQyNzkwMDQ=", "number": 283, "title": "Version numbers exchanged during dependency installation", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-11-11T16:03:41Z", "updated_at": "2016-03-29T14:20:46Z", "closed_at": "2016-03-29T14:20:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marscher (Bitbucket: [marscher](http://bitbucket.org/marscher), GitHub: [marscher](http://github.com/marscher))**\n\n---\n\nVery strange behaviour: \n\na package hierarchy is being installed, which drags in 3 packages. The version number of the last dependency being installed gets overwritten by the actual installed package. This leads to broken dependency resolution!\n\n```\n#!\n\nInstalled /home/travis/miniconda/envs/ci/lib/python2.7/site-packages/pyEMMA-1.0a2_1_gac83f81-py2.7-linux-x86_64.egg\n\nProcessing dependencies for pyEMMA==1.0a2-1-gac83f81\n\nSearching for pystallone>=1.0.0b3\n\nReading https://pypi.python.org/simple/pystallone/\n\nBest match: pystallone 1.0.0b4\n\nDownloading https://pypi.python.org/packages/source/p/pystallone/pystallone-1.0.0b4.tar.gz#md5=e87ed77499df5299a057d7f94fa83dad\n\nProcessing pystallone-1.0.0b4.tar.gz\n\nWriting /tmp/easy_install-9hG9Ca/pystallone-1.0.0b4/setup.cfg\n\nRunning pystallone-1.0.0b4/setup.py -q bdist_egg --dist-dir /tmp/easy_install-9hG9Ca/pystallone-1.0.0b4/egg-dist-tmp-R2javo\n\nAdding pystallone 1.0a2-1-gac83f81 to easy-install.pth file\n```\n\nAs you can see, the version of pystallone gets replaced by the version of pyEMMA.\n\nI've observed this the first time and unfortunately I can not provide a minimal example. The output is given by a travis build: https://travis-ci.org/markovmodel/PyEMMA/builds/40651107\n\nUsing anacondas python distro and setuptools 7.0 and versioneer (github) to handle version numbers.\n\nIt works locally and on other different test systems.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/283\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/282", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/282/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/282/events", "html_url": "https://github.com/pypa/setuptools/issues/282", "id": 144278985, "node_id": "MDU6SXNzdWUxNDQyNzg5ODU=", "number": 282, "title": "Setuptools installation problems: wget refuses to download files over https due to certificate errors", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-11-01T14:09:32Z", "updated_at": "2016-03-29T14:20:43Z", "closed_at": "2016-03-29T14:20:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **konstantint (Bitbucket: [konstantint](http://bitbucket.org/konstantint), GitHub: [konstantint](http://github.com/konstantint))**\n\n---\n\nI encountered this issue in two versions:\n\n1) Trying to install setuptools by following the line suggested in documentation::\n\n```\n$ wget https://bootstrap.pypa.io/ez_setup.py -O - | python\n--2014-11-01 15:55:19--  https://bootstrap.pypa.io/ez_setup.py\nResolving bootstrap.pypa.io... 185.31.17.175\nConnecting to bootstrap.pypa.io|185.31.17.175|:443... connected.\nERROR: certificate common name `*.c.ssl.fastly.net' doesn't match requested host name `bootstrap.pypa.io'.\n```\n\n2) A more annoying situation is when setuptools is being installed automatically via pyenv::\n\n```\nuser@server1 $ wget https://pypi.python.org/packages/source/s/setuptools/setuptools-7.0.zip\n--2014-11-01 11:42:19-- https://pypi.python.org/packages/source/s/setuptools/setuptools-7.0.zip\nResolving pypi.python.org... 23.235.43.223\nConnecting to pypi.python.org|23.235.43.223|:443... connected.\nERROR: certificate common name www.python.org' doesn't match requested host namepypi.python.org'.\nTo connect to pypi.python.org insecurely, use `--no-check-certificate'.\nUnable to establish SSL connection.\n```\n\nNote that in the first case the wget is invoked by the user and the problem is with the certificate of bootstrap.pypa.io, and in the second wget is invoked from within ez_setup.py and the problem is with the certificate of pypi.python.org.\n\nMoreover, this problem seems to occur on CentOS hosts, whereas on some other Linux flavors wget is not as fussy. In any case, perhaps something could be done, by either fixing the server certificates, updating documentation, adding --no-check-certificate to the wget invocation in the docs or ez_setup, or via another option.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/282\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/281", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/281/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/281/events", "html_url": "https://github.com/pypa/setuptools/issues/281", "id": 144278973, "node_id": "MDU6SXNzdWUxNDQyNzg5NzM=", "number": 281, "title": "VersionConflict in easy_install now causes TypeError", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-30T11:40:02Z", "updated_at": "2016-03-29T14:20:40Z", "closed_at": "2016-03-29T14:20:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nProbably implicated in the fix for #268, a VersionConflict during an install now raises an exception:\n\n```\nTraceback (most recent call last):\n  File \"c:\\python\\scripts\\easy_install.pya\", line 9, in <module>\n    load_entry_point('setuptools==7.0', 'console_scripts', 'easy_install')()\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 2147, in main\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 2133, in with_ei_usage\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 2150, in <lambda>\n  File \"C:\\Program Files\\Python34\\lib\\distutils\\core.py\", line 148, in setup\n    dist.run_commands()\n  File \"C:\\Program Files\\Python34\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Program Files\\Python34\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 370, in run\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 613, in easy_install\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 645, in install_item\n  File \"C:\\Program Files\\Python34\\lib\\site-packages\\setuptools-7.0-py3.4.egg\\setuptools\\command\\easy_install.py\", line 704, in process_distribution\nTypeError: not enough arguments for format string\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/281\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/279", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/279/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/279/events", "html_url": "https://github.com/pypa/setuptools/issues/279", "id": 144278940, "node_id": "MDU6SXNzdWUxNDQyNzg5NDA=", "number": 279, "title": "--script-dir being ignored", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-27T12:21:54Z", "updated_at": "2022-01-04T18:33:10Z", "closed_at": "2022-01-04T18:33:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **charlie_x (Bitbucket: [charlie_x](http://bitbucket.org/charlie_x), GitHub: Unknown)**\n\n---\n\nHi,\n\nI'm trying to set up easy_install on a Haiku system and have to use different paths. I've managed to install libraries using the `--user` option but I'm having trouble with installing the scripts into the desired directory. It seems that whatever I do `--script-dir` is being ignored but I'm not getting any errors. Any pointers?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/279\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/277", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/277/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/277/events", "html_url": "https://github.com/pypa/setuptools/issues/277", "id": 144278929, "node_id": "MDU6SXNzdWUxNDQyNzg5Mjk=", "number": 277, "title": "Files in a symbol link dir is processed in MANIFEST.in", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-10-23T22:04:09Z", "updated_at": "2016-03-29T14:20:30Z", "closed_at": "2016-03-29T14:20:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **victorlin (Bitbucket: [victorlin](http://bitbucket.org/victorlin), GitHub: [victorlin](http://github.com/victorlin))**\n\n---\n\nSay you have a project, and you have some data that's in symbol linked directory\n- foobar/data/ --> ../vendors/data/\n- vendors/data/foo.json\n\nAnd if you write something like this in your MANIFEST.in\n- recursive-include foo *.json\n\nAs the result, the JSON file will not be included, since the [findall function](https://bitbucket.org/pypa/setuptools/src/b8451f8b0e81c1cadf13d15670567ea03700be09/setuptools/__init__.py?at=default#cl-137) here, `followlinks=True` is not passed to `os.walk`, so file in symbol linked folder will never be processed.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/277\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/276", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/276/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/276/events", "html_url": "https://github.com/pypa/setuptools/issues/276", "id": 144278915, "node_id": "MDU6SXNzdWUxNDQyNzg5MTU=", "number": 276, "title": "develop command doesn't care about package_dir?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-20T08:39:38Z", "updated_at": "2016-03-29T14:20:27Z", "closed_at": "2016-03-29T14:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **joelmob (Bitbucket: [joelmob](http://bitbucket.org/joelmob), GitHub: Unknown)**\n\n---\n\nUsing setuptools 7.0 I have this setupfile:\n\n```\nfrom setuptools import setup\nsetup(\n    name = \"karljohan\",\n    version = \"0.1\",\n    package_dir = {\"karljohan\": \"lib\"},\n    packages = [\"karljohan\"],\n)\n```\n\nAfter doing `python3 setup.py develop --user` 'karljohan' is only available as 'import lib'. I expected beeing able to do 'import karljohan'. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/276\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/275", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/275/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/275/events", "html_url": "https://github.com/pypa/setuptools/issues/275", "id": 144278897, "node_id": "MDU6SXNzdWUxNDQyNzg4OTc=", "number": 275, "title": "Remove hg head b01dd795c870?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-10-19T16:34:44Z", "updated_at": "2016-03-29T14:20:24Z", "closed_at": "2016-03-29T14:20:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **msabramo (Bitbucket: [msabramo](http://bitbucket.org/msabramo), GitHub: [msabramo](http://github.com/msabramo))**\n\n---\n\nEvery time I edit my pull requests - Bitbucket seems to automatically change the target branch to `default (b01dd795c870)`. This in incorrect and causes my PR to have a bazillion merge conflicts. I have to keep changing the branch back to the correct one -- `default (f35c107404b4)`.\n\n```\n$ hg heads default\nchangeset:   3188:f35c107404b4\nbookmark:    master@default\nuser:        Jason R. Coombs <jaraco@jaraco.com>\ndate:        Sun Oct 19 13:35:22 2014 +0100\nfiles:       ez_setup.py setuptools/version.py\ndescription:\nBumped to 7.1 in preparation for next release.\n\n\nchangeset:   3133:b01dd795c870\nuser:        Jason R. Coombs <jaraco@jaraco.com>\ndate:        Sat Sep 27 16:25:13 2014 -0400\nfiles:       .hgtags\ndescription:\nAdded tag 7.0b1 for changeset 8b8a52665803\n```\n\nCould we remove that `b01dd795c870` head? Or otherwise make it so that Bitbucket doesn't treat it as the default destination for pull requests?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/275\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/273", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/273/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/273/events", "html_url": "https://github.com/pypa/setuptools/issues/273", "id": 144278863, "node_id": "MDU6SXNzdWUxNDQyNzg4NjM=", "number": 273, "title": "How to include pickles in a package?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-16T01:39:55Z", "updated_at": "2016-03-29T14:20:16Z", "closed_at": "2016-03-29T14:20:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ajaxhammer (Bitbucket: [ajaxhammer](http://bitbucket.org/ajaxhammer), GitHub: Unknown)**\n\n---\n\nApologies if this is the wrong place to post my question.\n\nI need to include several pickles into my packaged software. ([Example here](https://github.com/kylepjohnson/cltk/tree/master/cltk/tokenize/sentence/latin).)\n\nYet when I build my package (`python setup.py sdist install`) the pickles are not included in the `.tar.gz`.\n\nHow can I do this with setuptools?\n\nThank you in advance!\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/273\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/270", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/270/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/270/events", "html_url": "https://github.com/pypa/setuptools/issues/270", "id": 144278821, "node_id": "MDU6SXNzdWUxNDQyNzg4MjE=", "number": 270, "title": "New VersionConflict reporting breaks tests", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-11T17:24:20Z", "updated_at": "2016-03-29T14:20:07Z", "closed_at": "2016-03-29T14:20:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nhttps://travis-ci.org/jaraco/setuptools/jobs/37692346\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/270\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/268", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/268/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/268/events", "html_url": "https://github.com/pypa/setuptools/issues/268", "id": 144278791, "node_id": "MDU6SXNzdWUxNDQyNzg3OTE=", "number": 268, "title": "VersionConflict error should report information about who is requiring the package in question", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-10-10T18:07:44Z", "updated_at": "2016-03-29T14:20:01Z", "closed_at": "2016-03-29T14:20:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **msabramo (Bitbucket: [msabramo](http://bitbucket.org/msabramo), GitHub: [msabramo](http://github.com/msabramo))**\n\n---\n\nCurrent `VersionConflict` error looks like this:\n\n```\n$ pserve development.ini\nTraceback (most recent call last):\n...\n  File \"/Users/marca/dev/surveymonkey/profilesvc/lib/python2.6/site-packages/paste/deploy/loadwsgi.py\", line 573, in find_egg_entry_point\n    pkg_resources.require(self.spec)\n  File \"/Users/marca/dev/hg-repos/setuptools/pkg_resources.py\", line 728, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/Users/marca/dev/hg-repos/setuptools/pkg_resources.py\", line 627, in resolve\n    raise VersionConflict(dist, req)\npkg_resources.VersionConflict: \n(PasteDeploy 1.3.4 (/Users/marca/dev/surveymonkey/profilesvc/lib/python2.6/site-packages),\nRequirement.parse('PasteDeploy>=1.5.0'))\n```\n\nWhat I'd like is to know is which package is requiring a different version of the package from what I have currently installed -- e.g.:\n\n```\npkg_resources.VersionConflict: PasteDeploy 1.3.4 is installed but PasteDeploy>=1.5.0 is required by ['pyramid']\n```\n\nPR: https://bitbucket.org/pypa/setuptools/pull-request/89/make-versionconflict-report-who-is/diff\n\nCc: @sontek, @aconrad, @sudarkoff \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/268\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/265", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/265/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/265/events", "html_url": "https://github.com/pypa/setuptools/issues/265", "id": 144278734, "node_id": "MDU6SXNzdWUxNDQyNzg3MzQ=", "number": 265, "title": "PyPI page (and simple index) for setuptools is cluttered with useless data", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-10-06T12:15:18Z", "updated_at": "2016-03-29T14:19:51Z", "closed_at": "2016-03-29T14:19:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pmoore (Bitbucket: [pmoore](http://bitbucket.org/pmoore), GitHub: [pmoore](http://github.com/pmoore))**\n\n---\n\nPlease can setuptools remove some of the ancient history from the long_description (and PyPI page)? Possibly even replace the huge changelog with a link to the changelog file, rather than having it all inline? That would make the PyPI page more readable and usable, and as a fortuitous side-effect, remove all the useless links from the pypi simple page which currently impose a serious performance impact on \"pip install setuptools\".\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/265\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/263", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/263/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/263/events", "html_url": "https://github.com/pypa/setuptools/issues/263", "id": 144278704, "node_id": "MDU6SXNzdWUxNDQyNzg3MDQ=", "number": 263, "title": "InvalidSpecifier raised with installation upgraded with Setuptools 7", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-29T21:46:49Z", "updated_at": "2019-11-22T23:21:41Z", "closed_at": "2019-01-27T14:49:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nI've installed Setuptools 7.0b1 into my working environment. After doing so, invoking a command from my environment fails with an exception:\n\n```\n> vr.cli build Anything 16.8.1\n\ufeffTraceback (most recent call last):\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2315, in _dep_map\n\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2390, in __getattr__\n    for attr in (\nAttributeError: _Distribution__dep_map\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"c:\\python\\scripts\\vr.cli.pya\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1191, in _load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1161, in _load_backward_compatible\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2795, in <module>\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 444, in _build_master\n    for dist in find_distributions(entry, True):\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 740, in require\n    \"\"\"Remove `dist` from the environment\"\"\"\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 640, in resolve\n    except ResolutionError:\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2334, in requires\n    elif item==bdir and self.precedence==EGG_DIST:\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2329, in _dep_map\n    npath= [(p and _normalize_cached(p) or p) for p in path]\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2660, in parse_requirements\n    content = []\n  File \"c:\\python\\lib\\site-packages\\setuptools-7.0b1-py3.4.egg\\pkg_resources.py\", line 2669, in __init__\n    def _mkstemp(*args,**kw):\n  File \"c:\\python\\lib\\site-packages\\packaging-14.2-py3.4.egg\\packaging\\version.py\", line 506, in __init__\npackaging.version.InvalidSpecifier: Invalid specifier: '>=1.1.5.jaraco.20140924'\n```\n\nThe vr.cli command comes from the [vr.cli package](https://pypi.python.org/pypi/vr.cli). Prior to [three days ago](https://bitbucket.org/yougov/vr.cli/commits/83a9027c9b613fb62eb97908fd8e48b51bcd36bd?at=default), that project depended on a private release of datadiff to support Python 3. That private release uses setuptools-sanction post release syntax.\n\nWith Setuptools 7, that installation of vr.cli 2.1 no longer runs. The setup.py for vr.cli 2.1 also doesn't run. The introduction of this kind of broad incompatibility will probably not be acceptable. I was hoping that the use of PEP440 version specifiers would change very little except sorting. Breaking installed packages can't be acceptable.\n\nIf Setuptools is to deprecate these version specifiers, it's going to have to do it incrementally, first by warning of invalid specifiers, then disallowing creation of new projects with those specifiers, then eventually disallowing use of them.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/263\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/262", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/262/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/262/events", "html_url": "https://github.com/pypa/setuptools/issues/262", "id": 144278689, "node_id": "MDU6SXNzdWUxNDQyNzg2ODk=", "number": 262, "title": "Setuptools 6.0.1 causing pip installs to fail on Windows", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-09-29T11:36:22Z", "updated_at": "2016-03-29T14:19:42Z", "closed_at": "2016-03-29T14:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **freaky_dug (Bitbucket: [freaky_dug](http://bitbucket.org/freaky_dug), GitHub: Unknown)**\n\n---\n\nSince the 6.0.1 release of setuptools I have consistently been getting the following error installing packages on Windows:\n\n```\nI:\\>pip install Fabric\nDownloading/unpacking Fabric\n  Running setup.py (path:c:\\users\\username\\appdata\\local\\temp\\pip_build_username\\Fabric\\setup.py) egg_info for package Fabric\n\n    warning: no previously-included files matching '*' found under directory 'sites\\docs\\_build'\n    warning: no previously-included files matching '*' found under directory 'sites\\www\\_build'\n    warning: no previously-included files matching '*.pyc' found under directory 'tests'\n    warning: no previously-included files matching '*.pyo' found under directory 'tests'\nRequirement already satisfied (use --upgrade to upgrade): paramiko>=1.10 in c:\\python27\\lib\\site-packages (from Fabric)\nInstalling collected packages: Fabric\n  Running setup.py install for Fabric\n\n    warning: no previously-included files matching '*' found under directory 'sites\\docs\\_build'\n    warning: no previously-included files matching '*' found under directory 'sites\\www\\_build'\n    warning: no previously-included files matching '*.pyc' found under directory 'tests'\n    warning: no previously-included files matching '*.pyo' found under directory 'tests'\n    Installing fab-script.py script to C:\\Python27\\Scripts\n    Installing fab.exe script to C:\\Python27\\Scripts\n    Installing fab.exe.manifest script to C:\\Python27\\Scripts\n  Could not find .egg-info directory in install record for Fabric\nCleaning up...\nException:\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\pip\\basecommand.py\", line 122, in main\n    status = self.run(options, args)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\commands\\install.py\", line 283, in run\n    requirement_set.install(install_options, global_options, root=options.root_path)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\req.py\", line 1435, in install\n    requirement.install(install_options, global_options, *args, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\req.py\", line 749, in install\n    os.remove(record_filename)\nWindowsError: [Error 32] The process cannot access the file because it is being\nused by another process: 'c:\\\\users\\\\username\\\\appdata\\\\local\\\\temp\\\\pip-syd0tc-record\\\\install-record.txt'\n\nStoring debug log for failure in C:\\Users\\username\\pip\\pip.log\n```\n\nIf I downgrade to setuptools 5.8 the problem goes away.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/262\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/261", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/261/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/261/events", "html_url": "https://github.com/pypa/setuptools/issues/261", "id": 144278681, "node_id": "MDU6SXNzdWUxNDQyNzg2ODE=", "number": 261, "title": "build_py does not handle package_data properly", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-29T05:29:37Z", "updated_at": "2016-05-22T20:07:50Z", "closed_at": "2016-05-22T20:04:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sa2ajj (Bitbucket: [sa2ajj](http://bitbucket.org/sa2ajj), GitHub: [sa2ajj](http://github.com/sa2ajj))**\n\n---\n\nIn my project I use a pattern that would match directories as well:\n\n```\n#!python\n\npackage_data={\n    '': ['path/*']\n}\n```\n\nAs a result, setuptools fails as it can't copy directories.\n\nAfter a bit of investigation, I found that the problematic code is in [build_py](https://bitbucket.org/pypa/setuptools/src/b01dd795c870fab89ca1afda74dc8520d6cfeb75/setuptools/command/build_py.py?at=default#cl-98).  While checking the content of distutils (which is part of CPython), the corresponding [code looks different](https://hg.python.org/cpython/file/5313b4c0bb6c/Lib/distutils/command/build_py.py#l130) and it does not fail.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/261\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/259", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/259/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/259/events", "html_url": "https://github.com/pypa/setuptools/issues/259", "id": 144278662, "node_id": "MDU6SXNzdWUxNDQyNzg2NjI=", "number": 259, "title": "setuptools 6.0 causes giant memory leaks in python often crashing the interpretter", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-09-27T12:50:56Z", "updated_at": "2016-03-29T14:19:34Z", "closed_at": "2016-03-29T14:19:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sdague (Bitbucket: [sdague](http://bitbucket.org/sdague), GitHub: [sdague](http://github.com/sdague))**\n\n---\n\nAbout 20% of the build environments in OpenStack are seeing MemoryError trying to pip install  requirements / test-requirements. An example fail is here - http://logs.openstack.org/90/124590/2/check/gate-elastic-recheck-python27/b8c7724/console.html#_2014-09-27_12_19_36_039\n\nWhen running locally I found that python process was rapidly growing to north of 5GB of used memory. Putting a setuptools<6 pin in requirements.txt made the issue go away.\n\nThe issue only cropped up after the setuptools 6.0 release, so I think there is a high correlation that it is related to that version. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/259\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/254", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/254/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/254/events", "html_url": "https://github.com/pypa/setuptools/issues/254", "id": 144278595, "node_id": "MDU6SXNzdWUxNDQyNzg1OTU=", "number": 254, "title": "The default .python-eggs mode doesn't satisfy pkg_resources's security check", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-09-08T20:42:36Z", "updated_at": "2016-03-29T14:19:19Z", "closed_at": "2016-03-29T14:19:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **amluto (Bitbucket: [amluto](http://bitbucket.org/amluto), GitHub: [amluto](http://github.com/amluto))**\n\n---\n\n```\n$ rm ~/.python-eggs/ -rf\n$ [anything that uses resource_filename on a zipped egg]\n/usr/lib/python3.3/site-packages/pkg_resources.py:979: UserWarning: /home/username/.python-eggs is writable by group/others and vulnerable to attack when used with get_resource_filename. Consider a more secure location (set with .set_extraction_path or the PYTHON_EGG_CACHE environment variable).\n  warnings.warn(msg, UserWarning)\n```\n\nThe directory creation code appears to be:\n\n```\n#!python\n\n            _bypass_ensure_directory(target_path)\n```\n\nin get_cache_path.  _bypass_ensure_directory had a default mode of 0777 (!).\n\nThe check in _warn_unsafe_extraction_path is:\n\n```\n#!python\n\nif mode & stat.S_IWOTH or mode & stat.S_IWGRP:\n    [warn about it]\n```\n\nIn other words, get_cache_path is, indeed, unsafe, and _warn_unsafe_extraction_path correctly warns about it.\n\nPresumably get_cache_path should be fixed.\n\n(This is a real security problem depending on a user's group and umask.)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/254\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/250", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/250/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/250/events", "html_url": "https://github.com/pypa/setuptools/issues/250", "id": 144278528, "node_id": "MDU6SXNzdWUxNDQyNzg1Mjg=", "number": 250, "title": "`develop` and `install --single-version-externally-managed` are not compatible with each other for namespace packages", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 28, "created_at": "2014-08-29T04:36:54Z", "updated_at": "2016-12-11T23:31:49Z", "closed_at": "2016-12-11T23:31:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **hongqn (Bitbucket: [hongqn](http://bitbucket.org/hongqn), GitHub: [hongqn](http://github.com/hongqn))**\n\n---\n\nTo reproduce this issue, do the following in a virtualenv:\n1. prepare source code of two packages with same namespace package `ns`:\n   \n   ```\n   mkdir -p pkg1/ns/pkg1 pkg2/ns/pkg2\n   echo \"from setuptools import setup, find_packages; setup(name='pkg1', packages=find_packages(), namespace_packages=['ns'])\" > pkg1/setup.py\n   echo \"__import__('pkg_resources').declare_namespace(__name__)\" > pkg1/ns/__init__.py\n   touch pkg1/ns/pkg1/__init__.py\n   echo \"from setuptools import setup, find_packages; setup(name='pkg2', packages=find_packages(), namespace_packages=['ns'])\" > pkg2/setup.py\n   echo \"__import__('pkg_resources').declare_namespace(__name__)\" > pkg2/ns/__init__.py\n   touch pkg2/ns/pkg2/__init__.py\n   ```\n2. install pkg1 using --single-version-externally-managed\n   \n   ```\n   cd pkg1\n   python setup.py install --single-version-externally-managed --record record.txt\n   cd ..\n   ```\n3. install pkg2 using develop\n   \n   ```\n   cd pkg2\n   python setup.py develop\n   cd ..\n   ```\n4. pkg1 is accessible\n   \n   ```\n   python -c 'import ns.pkg1'\n   ```\n5. pkg2 is unexpectedly inaccessible\n   \n   ```\n   python -c 'import ns.pkg2'\n   Traceback (most recent call last):\n     File \"<string>\", line 1, in <module>\n   ImportError: No module named pkg2\n   ```\n\nThis was discussed in pip's issue tracker https://github.com/pypa/pip/issues/3 years ago (because pip uses `install --single-version-externally-managed` for `pip install` and use `develop` for `pip install --editable`), but they still have not gotten a resolution.\n\nI think this issue should be resolved in setuptools instead of pip.  `install --single-version-externally-managed` creates a `{pkg}-nspkg.pth` in site-packages directory.  It will create a ns module and assign its `__path__` to the ns directory in site-packages.  So `pkg_resources.declare_namespace()` in pkg2's ns/__init__.py has no chance to run.\n\n I have two proposals to fix it:\n1. Fix `install --single-version-exteranlly-managed`.  Modify the `{pkg}-nspkg.pth` file to append a line\n   \n   ```\n   import pkg_resources; pkg_resources.declare_namespace('ns')\n   ```\n   \n   at the end of it.  So it will scan `sys.path` to gather other directories into `ns.__path__`.\n   \n   A tricky point is that we must ensure the `{pkg}-nspkg.pth` filename is alphabetically larger than `easy-install.pth`, so that we have source code directory installed by `develop` command in `sys.path` when running `declare_namespace`.  Is to rename to `zzz-{pkg}-nspkg.pth` a good idea?\n2. Fix `develop` command.  Create a `{pkg}-nspkg.pth` in site-packages directory when a namespace package is installed using `develop` command, like what `install --single-version-externally-managed` does.  The content of the pth file could be:\n   \n   ```\n   /path/to/sourcecode\n   import pkg_resources; pkg_resources.declare_namespace('ns')\n   ```\n   \n   The `/path/to/sourcecode` line is duplicated with what is inserted in easy-install.pth.  It is here to make sure `sys.path` contains it before `declare_namespace` runs.  It could be omitted if we have a `zzz-` prefix for the pth filename.\n\nWhat's the dev team's opinion?  I prefer to the second proposal because it only affects `develop` command which is mostly used in develop environment so it will not affect production systems.\n\nI'd like to contribute code fix if you agree with either one of the proposals.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/250\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/249", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/249/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/249/events", "html_url": "https://github.com/pypa/setuptools/issues/249", "id": 144278507, "node_id": "MDU6SXNzdWUxNDQyNzg1MDc=", "number": 249, "title": "Have a way to ingore specific dirs when building list of files in egg_info", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-08-26T14:44:35Z", "updated_at": "2016-10-15T02:32:56Z", "closed_at": "2016-10-15T02:32:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nI have a very large `.tox` dir, i'd like to have a way so that setuptools ignores it completely. Now it recurses inside it and takes few minutes to run egg_info and other commands that rely on distutils.filelist.listall\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/249\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/248", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/248/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/248/events", "html_url": "https://github.com/pypa/setuptools/issues/248", "id": 144278482, "node_id": "MDU6SXNzdWUxNDQyNzg0ODI=", "number": 248, "title": "exit code is zero when upload fails", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-20T21:32:18Z", "updated_at": "2016-03-29T14:18:52Z", "closed_at": "2016-03-29T14:18:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **andresriancho (Bitbucket: [andresriancho](http://bitbucket.org/andresriancho), GitHub: [andresriancho](http://github.com/andresriancho))**\n\n---\n\n``` console\n(tagcube-cli)pablo@eulogias:~/pch/tagcube-cli$ python setup.py sdist upload\n...\nUpload failed (401): You must be identified to edit package information\n(tagcube-cli)pablo@eulogias:~/pch/tagcube-cli$ echo $?\n0\n(tagcube-cli)pablo@eulogias:~/pch/tagcube-cli$ \n```\n\nThis makes it difficult to use setuptools in a script.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/248\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/246", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/246/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/246/events", "html_url": "https://github.com/pypa/setuptools/issues/246", "id": 144278444, "node_id": "MDU6SXNzdWUxNDQyNzg0NDQ=", "number": 246, "title": "easy_install installs a package from egg and then looks for the package it had just installed...", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-08-20T19:03:13Z", "updated_at": "2020-01-09T10:07:53Z", "closed_at": "2016-03-29T14:18:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Piotr_Dobrogost (Bitbucket: [Piotr_Dobrogost](http://bitbucket.org/Piotr_Dobrogost), GitHub: Unknown)**\n\n---\n\n```\n#!bash\n\n(pip_test)pdobrogost@igo-www-dev:~/tmp/pip_test$ python --version && easy_install --version && easy_install https://pypi.python.org/packages/2.4/P/PyCAPTCHA/PyCAPTCHA-0.4-py2.4.egg\nPython 2.7.6\nsetuptools 3.6\nDownloading https://pypi.python.org/packages/2.4/P/PyCAPTCHA/PyCAPTCHA-0.4-py2.4.egg\nProcessing PyCAPTCHA-0.4-py2.4.egg\ncreating /home/users/pdobrogost/tmp/pip_test/lib/python2.7/site-packages/PyCAPTCHA-0.4-py2.4.egg\nExtracting PyCAPTCHA-0.4-py2.4.egg to /home/users/pdobrogost/tmp/pip_test/lib/python2.7/site-packages\nAdding PyCAPTCHA 0.4 to easy-install.pth file\n\nInstalled /home/users/pdobrogost/tmp/pip_test/lib/python2.7/site-packages/PyCAPTCHA-0.4-py2.4.egg\nProcessing dependencies for PyCAPTCHA==0.4\nSearching for PyCAPTCHA==0.4\nReading https://pypi.python.org/simple/PyCAPTCHA/\nNo local packages or download links found for PyCAPTCHA==0.4\nerror: Could not find suitable distribution for Requirement.parse('PyCAPTCHA==0.4')\n\n```\n\nCould you please enlighten me why does easy_install look for PyCAPTCHA==0.4 which it had just installed?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/246\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/245", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/245/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/245/events", "html_url": "https://github.com/pypa/setuptools/issues/245", "id": 144278428, "node_id": "MDU6SXNzdWUxNDQyNzg0Mjg=", "number": 245, "title": "Use of :sys_platform in extras_require fails when installed via source", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-08-18T07:27:52Z", "updated_at": "2018-08-26T23:57:00Z", "closed_at": "2018-08-26T23:57:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **freakboy3742 (Bitbucket: [freakboy3742](http://bitbucket.org/freakboy3742), GitHub: [freakboy3742](http://github.com/freakboy3742))**\n\n---\n\nI have a setup.py file with the following declaration in it:\n\n```\n#!python\nsetup(\n    name='mypackage'\n    ...\n    extras_require={\n        ':sys_platform==\"darwin\"': ['mydependency']\n    }\n)\n```\n\nThis is then packaged as a universal wheel, and as a source distribution, and uploaded to PyPI.\n\nIf I run `pip install mypackage` under OS X (which identifies as sys.platform == 'darwin'), the wheel distribution is used, both `mypackage` and `mydependency` are installed. \n\nHowever, if I run `pip install mypackage --no-use-wheel`, `mypackage` is installed, but `mydependency` is not.\n\nFor reference - the real package here is toga-demo 0.1.1; this has a dependency of `toga[cocoa]` under OS X. I've also been able to reproduce the problem with a dependency of just `toga`.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/245\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/244", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/244/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/244/events", "html_url": "https://github.com/pypa/setuptools/issues/244", "id": 144278413, "node_id": "MDU6SXNzdWUxNDQyNzg0MTM=", "number": 244, "title": "def write_toplevel_names missing a )", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-18T07:01:23Z", "updated_at": "2016-03-29T14:18:36Z", "closed_at": "2016-03-29T14:18:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agroszer (Bitbucket: [agroszer](http://bitbucket.org/agroszer), GitHub: [agroszer](http://github.com/agroszer))**\n\n---\n\nand more problems around that...\n\nsee http://winbot.zope.org/builders/setuptools_master%20py_265_win32/builds/399/steps/test/logs/stdio\n\nbut after adding the missing ) tests still burp\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/244\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/243", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/243/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/243/events", "html_url": "https://github.com/pypa/setuptools/issues/243", "id": 144278405, "node_id": "MDU6SXNzdWUxNDQyNzg0MDU=", "number": 243, "title": "Unable to run 'setup.py bdist_rpm' target on CentOS 6.5 with setuptools-5.6", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-14T23:05:17Z", "updated_at": "2022-01-04T23:09:55Z", "closed_at": "2022-01-04T23:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nWhen trying to run the 'python setup.py bdist_rpm' command on a CentOS 6.5 host with an unpacked setuptools-5.6 tarball results in the following error:\n\n<lots of output elided...>\n\nrunning install_scripts\nInstalling easy_install script to /home/agooch/work/agooch-auspxdev01n00/3rdParty/setuptools/setuptools-5.6/build/bdist.linux-x86_64/rpm/BUILDROOT/setuptools-5.6-1.x86_64/usr/python-2.7.5/bin\nInstalling easy_install-2.7 script to /home/agooch/work/agooch-auspxdev01n00/3rdParty/setuptools/setuptools-5.6/build/bdist.linux-x86_64/rpm/BUILDROOT/setuptools-5.6-1.x86_64/usr/python-2.7.5/bin\nwriting list of installed files to 'INSTALLED_FILES'\n- /usr/lib/rpm/brp-compress\n- /usr/lib/rpm/brp-strip\n- /usr/lib/rpm/brp-strip-static-archive\n- /usr/lib/rpm/brp-strip-comment-note\n  Processing files: setuptools-5.6-1.noarch\n  error: Two files on one line: /usr/python-2.7.5/lib/python2.7/site-packages/setuptools/script\n  error: File must begin with \"/\": (dev).tmpl\n\nRPM build errors:\n    Two files on one line: /usr/python-2.7.5/lib/python2.7/site-packages/setuptools/script\n    File must begin with \"/\": (dev).tmpl\nerror: command 'rpmbuild' failed with exit status 1\n\nHas anyone else encountered this?  Am I doing something wrong?  I tried it on several older versions with similar results.\n\nMany thanks in advance.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/243\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/242", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/242/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/242/events", "html_url": "https://github.com/pypa/setuptools/issues/242", "id": 144278392, "node_id": "MDU6SXNzdWUxNDQyNzgzOTI=", "number": 242, "title": "itools ImportError: cannot import name XMLError", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-08-14T16:29:28Z", "updated_at": "2016-03-29T14:18:31Z", "closed_at": "2016-03-29T14:18:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nHi people,\n\nTrying to install itools-0.75.1 spits out the following error\n\n```\n#!python\n\nrunning install_egg_info\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"setup.py\", line 91, in <module>\n    setup(ext_modules=ext_modules)\n  File \"pkg/utils.py\", line 186, in setup\n    ext_modules=ext_modules)\n  File \"/usr/local/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/local/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/local/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 61, in run\n    return orig.install.run(self)\n  File \"/usr/local/lib/python2.7/distutils/command/install.py\", line 575, in run\n    self.run_command(cmd_name)\n  File \"/usr/local/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/local/lib/python2.7/distutils/dist.py\", line 971, in run_command\n    cmd_obj.ensure_finalized()\n  File \"/usr/local/lib/python2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/command/install_egg_info.py\", line 24, in finalize_options\n    ei_cmd = self.get_finalized_command(\"egg_info\")\n  File \"/usr/local/lib/python2.7/distutils/cmd.py\", line 311, in get_finalized_command\n    cmd_obj = self.distribution.get_command_obj(command, create)\n  File \"/usr/local/lib/python2.7/distutils/dist.py\", line 845, in get_command_obj\n    klass = self.get_command_class(command)\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 388, in get_command_class\n    self.cmdclass[c==================================================================ommand] = cmdclass = ep.load()\n  File \"/usr/local/lib/python2.7/site-packages/pkg_resources.py\", line 2190, in load\n    ['__name__'])\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 14, in <module>\n    from setuptools.command.sdist import sdist\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/command/sdist.py\", line 9, in <module>\n    from setuptools import svn_utils\n  File \"/usr/local/lib/python2.7/site-packages/setuptools/svn_utils.py\", line 5, in <module>\n    import xml.dom.pulldom\n  File \"xml/__init__.py\", line 20, in <module>\n    import dublin_core\n  File \"xml/dublin_core.py\", line 21, in <module>\n    from namespaces import XMLNamespace, register_namespace, ElementSchema\n  File \"xml/namespaces.py\", line 24, in <module>\n    from parser import XMLError\nImportError: cannot import name XMLError\n*** Error code 1\n```\n\nThe problem is that when installing itools with setuptools. It seems that setuptools does an \"import xml\" from itools directory and wrongly gets the xml itools.\n\nAccording of the itools maintainer, the ideal fix would be that the module \"svn_utils.py\" from setuptools had an \"import from **future** absolute_import\".\n\nSomeone could take a look into this?\n\nRegards,\n--CJPM\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/242\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/240", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/240/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/240/events", "html_url": "https://github.com/pypa/setuptools/issues/240", "id": 144278347, "node_id": "MDU6SXNzdWUxNDQyNzgzNDc=", "number": 240, "title": "\"build zipmanifest\" should be called only once for each ZipProvider", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-08-11T17:38:28Z", "updated_at": "2016-03-29T14:18:23Z", "closed_at": "2016-03-29T14:18:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jun66j5 (Bitbucket: [jun66j5](http://bitbucket.org/jun66j5), GitHub: [jun66j5](http://github.com/jun66j5))**\n\n---\n\nWhen Trac 1.0-stable (r13065) with message catalogs on setuptools 5.4 is installed as a egg file, \"build zipmanifest\" is called more than 4 times on setuptools 5.3. Especally, that's too slow on Windows because zipfile.py on Windows is slow more than 10 times on Unix.\n\nAfter 5.4, `ZipProvider.zipinfo` property reads egg file each time. Before 5.3, `ZipProvider.__init__` method reads egg file and the result wil be stored in its instance variable.\n\nI think the changes lead the issue. The following patch would be the same behavior of 5.3. Thoughts?\n\n(Originally reported at https://groups.google.com/d/topic/trac-users/gX5kYTUFXM4)\n\n```\n#!diff\n--- pkg_resources.py.orig     2014-08-09 22:06:34.877375000 +0900\n+++ pkg_resources.py  2014-08-09 22:06:37.533625000 +0900\n@@ -1636,7 +1636,11 @@\n\n     @property\n     def zipinfo(self):\n-        return self._zip_manifests.load(self.loader.archive)\n+        try:\n+            return self._zipinfo\n+        except AttributeError:\n+            self._zipinfo = self._zip_manifests.load(self.loader.archive)\n+            return self._zipinfo\n\n     def get_resource_filename(self, manager, resource_name):\n         if not self.egg_name:\n```\n\nHow to reproduce:\n\n```\n#!shell\n$ easy_install Babel==0.9.6\n$ easy_install Genshi==0.6\n$ easy_install http://svn.edgewall.org/repos/trac/branches/1.0-stable\n$ python -m cProfile -s time $VENV/bin/trac-admin --version 2>/dev/null | head -15\n```\n\nsetuptools 5.4 on Windows:\n\n```\ntrac-admin-script.py 1.0.2dev-r13065\n         2475815 function calls (2471154 primitive calls) in 13.135 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n      187    3.756    0.020    7.826    0.042 zipfile.py:799(_RealGetContents)\n   119597    1.124    0.000    1.640    0.000 zipfile.py:287(__init__)\n   478400    1.027    0.000    1.027    0.000 {method 'read' of 'cStringIO.StringI' objects}\n   119784    0.805    0.000    1.826    0.000 pkg_resources.py:1553(<genexpr>)\n   266592    0.531    0.000    0.531    0.000 {method 'append' of 'list' objects}\n   119597    0.511    0.000    0.749    0.000 zipfile.py:900(getinfo)\n   122860    0.321    0.000    0.321    0.000 {_struct.unpack}\n   119597    0.301    0.000    0.301    0.000 zipfile.py:383(_decodeExtra)\n149422/148669    0.299    0.000    0.303    0.000 {len}\n```\n\nsetuptools 5.3 on Windows:\n\n```\ntrac-admin-script.py 1.0.2dev-r13065\n         864149 function calls (859551 primitive calls) in 4.985 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n       42    0.828    0.020    1.723    0.041 zipfile.py:799(_RealGetContents)\n      944    0.275    0.000    0.536    0.001 api.py:316(<genexpr>)\n     1218    0.273    0.000    0.534    0.000 api.py:317(<genexpr>)\n   133269    0.270    0.000    0.270    0.000 {unichr}\n    26466    0.247    0.000    0.361    0.000 zipfile.py:287(__init__)\n   105875    0.226    0.000    0.226    0.000 {method 'read' of 'cStringIO.StringI' objects}\n      132    0.171    0.001    0.171    0.001 {nt.rename}\n    79708    0.157    0.000    0.157    0.000 {method 'append' of 'list' objects}\n       42    0.138    0.003    2.206    0.053 pkg_resources.py:1533(build_zipmanifest)\n```\n\nsetuptools 5.3 on Ubuntu 12.04:\n\n```\ntrac-admin 1.0.2dev-r13065\n         845470 function calls (840887 primitive calls) in 0.474 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n       44    0.108    0.002    0.184    0.004 zipfile.py:755(_RealGetContents)\n    27178    0.033    0.000    0.041    0.000 zipfile.py:277(__init__)\n       69    0.028    0.000    0.028    0.000 {method 'get_data' of 'zipimport.zipimporter' objects}\n       44    0.015    0.000    0.218    0.005 pkg_resources.py:1533(build_zipmanifest)\n   108712    0.014    0.000    0.014    0.000 {method 'read' of 'cStringIO.StringI' objects}\n       16    0.013    0.001    0.020    0.001 sre_compile.py:301(_optimize_unicode)\n      944    0.012    0.000    0.020    0.000 api.py:316(<genexpr>)\n     1218    0.012    0.000    0.019    0.000 api.py:317(<genexpr>)\n  706/166    0.010    0.000    0.025    0.000 sre_parse.py:379(_parse)\n```\n\nsetuptools 5.3 on Ubuntu 12.04:\n\n```\ntrac-admin 1.0.2dev-r13065\n         2367413 function calls (2362830 primitive calls) in 1.292 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n      189    0.503    0.003    0.859    0.005 zipfile.py:755(_RealGetContents)\n   120309    0.151    0.000    0.190    0.000 zipfile.py:277(__init__)\n   481236    0.065    0.000    0.065    0.000 {method 'read' of 'cStringIO.StringI' objects}\n   120498    0.058    0.000    0.117    0.000 pkg_resources.py:1550(<genexpr>)\n   123576    0.035    0.000    0.035    0.000 {_struct.unpack}\n   120309    0.031    0.000    0.031    0.000 zipfile.py:368(_decodeExtra)\n   120309    0.028    0.000    0.037    0.000 zipfile.py:854(getinfo)\n       69    0.028    0.000    0.028    0.000 {method 'get_data' of 'zipimport.zipimporter' objects}\n   120381    0.025    0.000    0.025    0.000 {method 'find' of 'str' objects}\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/240\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/237", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/237/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/237/events", "html_url": "https://github.com/pypa/setuptools/issues/237", "id": 144278308, "node_id": "MDU6SXNzdWUxNDQyNzgzMDg=", "number": 237, "title": "pkg_resources' detection of Python2 vs Python3 is brittle", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-08-04T07:35:49Z", "updated_at": "2016-03-29T14:18:14Z", "closed_at": "2016-03-29T14:18:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **anntzer (Bitbucket: [anntzer](http://bitbucket.org/anntzer), GitHub: [anntzer](http://github.com/anntzer))**\n\n---\n\nThe following part of pkg_resources\n\n```\n#!python\ntry:\n    basestring\n    next = lambda o: o.next()\n    from cStringIO import StringIO as BytesIO\nexcept NameError:\n    basestring = str\n    from io import BytesIO\n    def execfile(fn, globs=None, locs=None):\n        if globs is None:\n            globs = globals()\n        if locs is None:\n            locs = globs\n        exec(compile(open(fn).read(), fn, 'exec'), globs, locs)\n```\n\ntries to provide some standard Python2 functions when run with Python3, but is broken if other packages already do the same, but for a different subset.  Specifically, if another package already defined (in Python3) `builtins.basestring = str`, the import of cStringIO will fail with an ImportError, and later calls to `next` will fail too.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/237\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/236", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/236/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/236/events", "html_url": "https://github.com/pypa/setuptools/issues/236", "id": 144278299, "node_id": "MDU6SXNzdWUxNDQyNzgyOTk=", "number": 236, "title": "CRLFs in setup.py lead failure of installation with setuptools 5.4.1 on Python 2.6", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-07-28T06:12:46Z", "updated_at": "2016-03-29T14:18:11Z", "closed_at": "2016-03-29T14:18:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jun66j5 (Bitbucket: [jun66j5](http://bitbucket.org/jun66j5), GitHub: [jun66j5](http://github.com/jun66j5))**\n\n---\n\nCRLFs in setup.py lead failure of installation with setuptools 5.4.1 and Python 2.6 on Ubuntu.\n\nThe issue doesn't occur on the following:\n- setuptools 5.4.1 and Python 2.7\n- setuptools 5.x and Python 2.[67]\n- setuptools 4.x and Python 2.[67]\n\nOriginally reported in https://groups.google.com/d/topic/trac-users/BPrq-14lFCE.\n\nBTW, I cannot create a new issue with \"5.4.1\" as version. It seems that the versions don't have \"5.4.1\" entry.\n\n```\n$ /usr/bin/virtualenv -p /usr/bin/python2.6 /dev/shm/setuptools-5.4.1-2.6\nRunning virtualenv with interpreter /usr/bin/python2.6\nNew python executable in /dev/shm/setuptools-5.4.1-2.6/bin/python2.6\nAlso creating executable in /dev/shm/setuptools-5.4.1-2.6/bin/python\nInstalling distribute.............................................................................................................................................................................................done.\nInstalling pip...............done.\n$ /dev/shm/setuptools-5.4.1-2.6/bin/pip install --upgrade ~/arc/setuptools/setuptools-5.4.1.tar.gz\nUnpacking /home/jun66j5/arc/setuptools/setuptools-5.4.1.tar.gz\n  Running setup.py egg_info for package from file:///home/jun66j5/arc/setuptools/setuptools-5.4.1.tar.gz\nInstalling collected packages: distribute\n  Found existing installation: distribute 0.6.24\n    Uninstalling distribute:\n      Successfully uninstalled distribute\n  Running setup.py install for distribute\n    Installing easy_install script to /dev/shm/setuptools-5.4.1-2.6/bin\n    Installing easy_install-2.6 script to /dev/shm/setuptools-5.4.1-2.6/bin\nSuccessfully installed distribute\nCleaning up...\n$ /dev/shm/setuptools-5.4.1-2.6/bin/easy_install ~/arc/Genshi-0.6.tar.gz\nProcessing Genshi-0.6.tar.gz\nWriting /tmp/easy_install-T1GFEs/Genshi-0.6/setup.cfg\nRunning Genshi-0.6/setup.py -q bdist_egg --dist-dir /tmp/easy_install-T1GFEs/Genshi-0.6/egg-dist-tmp-p1mnku\n/tmp/easy_install-T1GFEs/Genshi-0.6/setup.py:69: DeprecationWarning: Features are deprecated and will be removed in a future version. See http://bitbucket.org/pypa/setuptools/65.\n  Extension('genshi._speedups', ['genshi/_speedups.c']),\n/usr/lib/python2.6/distutils/core.py:113: DeprecationWarning: Features are deprecated and will be removed in a future version. See http://bitbucket.org/pypa/setuptools/65.\n  _setup_distribution = dist = klass(attrs)\nwarning: no previously-included files found matching 'doc/2000ft.graffle'\nwarning: no previously-included files matching '*' found under directory 'doc/logo.lineform'\nzip_safe flag not set; analyzing archive contents...\nAdding Genshi 0.6 to easy-install.pth file\n\nInstalled /run/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/Genshi-0.6-py2.6.egg\nProcessing dependencies for Genshi==0.6\nFinished processing dependencies for Genshi==0.6\n$ /dev/shm/setuptools-5.4.1-2.6/bin/easy_install ~/arc/Trac-1.0.1.zip\nProcessing Trac-1.0.1.zip\nWriting /tmp/easy_install-zqmaNl/Trac-1.0.1/setup.cfg\nRunning Trac-1.0.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-zqmaNl/Trac-1.0.1/egg-dist-tmp-YC0oOp\nTraceback (most recent call last):\n  File \"/dev/shm/setuptools-5.4.1-2.6/bin/easy_install\", line 9, in <module>\n    load_entry_point('setuptools==5.4.1', 'console_scripts', 'easy_install')()\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 2147, in main\n    lambda: setup(\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 2133, in with_ei_usage\n    return f()\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 2150, in <lambda>\n    distclass=DistributionWithoutHelpCommands, **kw\n  File \"/usr/lib/python2.6/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.6/distutils/dist.py\", line 975, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.6/distutils/dist.py\", line 995, in run_command\n    cmd_obj.run()\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 370, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 594, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 643, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 833, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 1055, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/command/easy_install.py\", line 1040, in run_setup\n    run_setup(setup_script, args)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/sandbox.py\", line 63, in run_setup\n    DirectorySandbox(setup_dir).run(runner)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/sandbox.py\", line 109, in run\n    return func()\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/sandbox.py\", line 62, in runner\n    _execfile(setup_script, ns)\n  File \"/dev/shm/setuptools-5.4.1-2.6/lib/python2.6/site-packages/setuptools/sandbox.py\", line 37, in _execfile\n    code = compile(script, filename, 'exec')\n  File \"/tmp/easy_install-zqmaNl/Trac-1.0.1/setup.py\", line 14\n\n    ^\nSyntaxError: invalid syntax\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/236\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/234", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/234/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/234/events", "html_url": "https://github.com/pypa/setuptools/issues/234", "id": 144278264, "node_id": "MDU6SXNzdWUxNDQyNzgyNjQ=", "number": 234, "title": "Setuptools import error of class ContextualZipFile installing markdown (Python implementation of Markdown)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-07-15T22:25:51Z", "updated_at": "2016-03-29T14:18:01Z", "closed_at": "2016-03-29T14:18:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **dragoicaru (Bitbucket: [dragoicaru](http://bitbucket.org/dragoicaru), GitHub: [dragoicaru](http://github.com/dragoicaru))**\n\n---\n\nFix setuptools 5.4.1 for let the installation of markdown library (Python implementation of Markdown), this library doesn't install itself due an import error of the pkg_resource's ContextualZipFile class. \n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/234\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/232", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/232/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/232/events", "html_url": "https://github.com/pypa/setuptools/issues/232", "id": 144278238, "node_id": "MDU6SXNzdWUxNDQyNzgyMzg=", "number": 232, "title": "Overriding commands is inconsistent and partially broken", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-10T09:19:54Z", "updated_at": "2022-01-07T22:28:36Z", "closed_at": "2022-01-07T22:28:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **schlamar (Bitbucket: [schlamar](http://bitbucket.org/schlamar), GitHub: [schlamar](http://github.com/schlamar))**\n\n---\n\nI want to override the install_scripts command to ship a customized\n*.manifest on Windows because my script needs elevated rights. \nI noticed various inconsistencies and issues.\n\nBasic script `cli.py`:\n\n```\n# coding: utf-8\n\nimport click\n\n\n@click.command()\ndef cli():\n    click.echo('OK')\n\n\nif __name__ == '__main__':\n    cli()\n```\n\nBasic setup:\n\n```\nfrom setuptools import setup\n\nsetup(\n    name='test',\n    version='0.1',\n    py_modules=['cli'],\n    install_requires=[\n        'Click',\n    ],\n    entry_points='''\n        [console_scripts]\n        test=cli:cli\n    ''',\n)\n```\n\nIssue 1: custom install does not process `install_requires`.\n\nSetup:\n\n```\nfrom setuptools.command.install import install\n\nclass custom_install(install):\n    def run(self):\n        install.run(self)\n\nsetup(\n    cmdclass={'install': custom_install},\n    ...\n```\n\nRunning this as `python setup.py install` does not install Click.\n\nIssue 2: custom install_scripts is ignored\n\nSetup:\n\n```\nfrom setuptools.command.install_scripts import install_scripts\n\nclass custom_install_scripts(install_scripts):\n\n    def run(self):\n        print 'run'\n\nsetup(\n    cmdclass={'install_scripts': custom_install_scripts},\n```\n\nRunning this does not print 'run' to console.\n\nAdditional observation: overriding install + install_scripts does work,\nbut suffers from the first issue (install_requires does not get processed).\n\nSetup:\n\n```\nfrom setuptools.command.install_scripts import install_scripts\nfrom setuptools.command.install import install\n\n\nclass custom_install(install):\n    def run(self):\n        install.run(self)\n\n\nclass custom_install_scripts(install_scripts):\n\n    def run(self):\n        print 'run'\n        install_scripts.run(self)\n\nsetup(\n    cmdclass={'install': custom_install,\n              'install_scripts': custom_install_scripts},\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/232\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/231", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/231/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/231/events", "html_url": "https://github.com/pypa/setuptools/issues/231", "id": 144278224, "node_id": "MDU6SXNzdWUxNDQyNzgyMjQ=", "number": 231, "title": "Test: test_two_levels_deep fails when /tmp is symlink", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-09T03:20:17Z", "updated_at": "2016-03-29T14:17:53Z", "closed_at": "2016-03-29T14:17:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **koobs (Bitbucket: [koobs](http://bitbucket.org/koobs), GitHub: [koobs](http://github.com/koobs))**\n\n---\n\nThe following test fails when /tmp is a symlink:\n\nlrwxr-xr-x    1 root  wheel            8 Apr 14  2013 tmp@ -> /var/tmp\n\nTesting setuptools 5.4.1, could not set issue Version correctly (\"5.4.1\" option doesn't exist)\n\n```\n#!\n======================================================================\nFAIL: test_two_levels_deep (setuptools.tests.test_resources.NamespaceTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/home/user/repos/freebsd/ports/devel/py-setuptools/work/setuptools-5.4.1/setuptools/tests/test_resources.py\", line 619, in test_two_levels_deep\n    os.path.join(self._tmpdir, \"site-pkgs2\", \"pkg1\", \"pkg2\")])\nAssertionError: Lists differ: ['/var/tmp/tests-setuptools-xF... != ['/tmp/tests-setuptools-xFtkbJ...\n\nFirst differing element 0:\n/var/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2\n/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2\n\nFirst list contains 1 additional elements.\nFirst extra element 2:\n/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2\n\n- ['/var/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2',\n?   ----\n\n+ ['/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2',\n-  '/var/tmp/tests-setuptools-xFtkbJ/site-pkgs2/pkg1/pkg2',\n-  '/tmp/tests-setuptools-xFtkbJ/site-pkgs/pkg1/pkg2']\n+  '/tmp/tests-setuptools-xFtkbJ/site-pkgs2/pkg1/pkg2']\n?                                         +\n----------------------------------------------------------------------\nRan 135 tests in 1.947s\n\nFAILED (failures=1, skipped=1)\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/231\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/230", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/230/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/230/events", "html_url": "https://github.com/pypa/setuptools/issues/230", "id": 144278211, "node_id": "MDU6SXNzdWUxNDQyNzgyMTE=", "number": 230, "title": "develop mode does not respect src structure", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2014-07-08T16:29:12Z", "updated_at": "2023-04-07T11:47:35Z", "closed_at": "2022-08-13T18:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marscher (Bitbucket: [marscher](http://bitbucket.org/marscher), GitHub: [marscher](http://github.com/marscher))**\n\n---\n\nAssume you have project with a src folder:\n\n```\n#!python\n\nroot/\nroot/setup.py\nroot/src/my_pkg/__init__.py\n....\n```\n\nin setup.py one have mapped the src folder, so it can be found during installation.\n\n```\n#!python\n\nsetup( ....\n   package_dir = { 'my_pkg' : 'src' } \n)\n```\n\nIf one tries to install an egg link to the pkg via setup.py develop, this mapping is happily ignored. I'am not sure, if this is an issue either with setuptools or distutils. Symlinking my_pkg to the root fixes the problem.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/230\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/230/reactions", "total_count": 37, "+1": 37, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/228", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/228/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/228/events", "html_url": "https://github.com/pypa/setuptools/issues/228", "id": 144278163, "node_id": "MDU6SXNzdWUxNDQyNzgxNjM=", "number": 228, "title": "setuptools 5.2 release status", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-06-25T18:17:38Z", "updated_at": "2016-03-29T14:17:40Z", "closed_at": "2016-03-29T14:17:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **phd (Bitbucket: [phd](http://bitbucket.org/phd), GitHub: [phd](http://github.com/phd))**\n\n---\n\nHello! Version 5.2 has been tagged. [Documentation](http://pythonhosted.org//setuptools/) says \"Current version: 5.2\". But [PyPI](https://pypi.python.org/pypi/setuptools) still says \"setuptools 4.0.1\", though archives [are](https://pypi.python.org/packages/source/s/setuptools/) uploaded. Shouldn't PyPI be updated? Or 5.2 (or even 5.1) hasn't been released yet?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/228\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/226", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/226/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/226/events", "html_url": "https://github.com/pypa/setuptools/issues/226", "id": 144278138, "node_id": "MDU6SXNzdWUxNDQyNzgxMzg=", "number": 226, "title": "5.1 sdist on PyPi contains spurious entry_points.txt.orig file in setuptools.egg-info dir", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-22T08:19:13Z", "updated_at": "2016-03-29T14:17:34Z", "closed_at": "2016-03-29T14:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **koobs (Bitbucket: [koobs](http://bitbucket.org/koobs), GitHub: [koobs](http://github.com/koobs))**\n\n---\n\nThe 5.1 sdist tarball on PyPi contains a spurious entry_points.txt.orig file in the setuptools.egg-info directory, with the following diff:\n\n```\n--- entry_points.txt.orig       2014-06-16 02:45:36.000000000 +1000\n+++ entry_points.txt    2014-06-16 02:48:11.000000000 +1000\n@@ -1,6 +1,6 @@\n [console_scripts]\n easy_install = setuptools.command.easy_install:main\n-easy_install-2.7 = setuptools.command.easy_install:main\n+easy_install-3.4 = setuptools.command.easy_install:main\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/226\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/225", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/225/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/225/events", "html_url": "https://github.com/pypa/setuptools/issues/225", "id": 144278127, "node_id": "MDU6SXNzdWUxNDQyNzgxMjc=", "number": 225, "title": "setuptools 5.1 installation on AIX 7 with python 64bit does not work", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-06-19T15:36:14Z", "updated_at": "2016-03-29T14:17:33Z", "closed_at": "2016-03-29T14:17:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nHello, \n\nI have no luck installing setuptools with python 2.7.7 64bit, however on the same machine with the 32bit version python it worked ok.\nHere is my output:\n\nThis box has no internet access so usually I just use the setup.py facility to build and install!\n\n```\n#python setup.py build\nrunning build\nrunning build_py\n\n#python setup.py install\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting requirements to setuptools.egg-info/requires.txt\nwriting setuptools.egg-info/PKG-INFO\nwriting top-level names to setuptools.egg-info/top_level.txt\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\nwriting entry points to setuptools.egg-info/entry_points.txt\nTraceback (most recent call last):\n  File \"setup.py\", line 218, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/install.py\", line 65, in run\n    self.do_egg_install()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/install.py\", line 107, in do_egg_install\n    self.run_command('bdist_egg')\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/bdist_egg.py\", line 148, in run\n    self.run_command(\"egg_info\")\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/local/Python-2.7.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/egg_info.py\", line 164, in run\n    self.find_sources()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/egg_info.py\", line 187, in find_sources\n    mm.run()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/egg_info.py\", line 271, in run\n    self.add_defaults()\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/egg_info.py\", line 303, in add_defaults\n    rcfiles = list(walk_revctrl())\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/sdist.py\", line 19, in walk_revctrl\n    for item in ep.load()(dirname):\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/command/sdist.py\", line 66, in _default_revctrl\n    for item in finder(dirname):\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/svn_utils.py\", line 468, in svn_finder\n    info = SvnInfo.load(dirname)\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/svn_utils.py\", line 264, in load\n    with TemporaryDirectory() as tempdir:\n  File \"/tmp/python_modules/setuptools-5.1/setuptools/py31compat.py\", line 30, in __init__\n    self.name = tempfile.mkdtemp()\n  File \"/usr/local/Python-2.7.7/lib/python2.7/tempfile.py\", line 325, in mkdtemp\n    dir = gettempdir()\n  File \"/usr/local/Python-2.7.7/lib/python2.7/tempfile.py\", line 269, in gettempdir\n    tempdir = _get_default_tempdir()\n  File \"/usr/local/Python-2.7.7/lib/python2.7/tempfile.py\", line 197, in _get_default_tempdir\n    fd = _os.open(filename, flags, 0o600)\nOverflowError: signed integer is greater than maximum\n#\n```\n\nThanks!\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/225\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/224", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/224/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/224/events", "html_url": "https://github.com/pypa/setuptools/issues/224", "id": 144278121, "node_id": "MDU6SXNzdWUxNDQyNzgxMjE=", "number": 224, "title": "Where is ez_setup.py?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-06-18T18:00:02Z", "updated_at": "2016-03-29T14:17:30Z", "closed_at": "2016-03-29T14:17:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **chris-martin (Bitbucket: [chris-martin](http://bitbucket.org/chris-martin), GitHub: [chris-martin](http://github.com/chris-martin))**\n\n---\n\nThis page of documentation http://pythonhosted.org/setuptools/using.html refers to `ez_setup.py`, but rather frustratingly doesn't mention what that file is or where one might find it.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/224\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/221", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/221/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/221/events", "html_url": "https://github.com/pypa/setuptools/issues/221", "id": 144278065, "node_id": "MDU6SXNzdWUxNDQyNzgwNjU=", "number": 221, "title": "Wrong content type on bootstrap.pypa.io downloads", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-06-15T12:25:10Z", "updated_at": "2016-03-29T14:17:21Z", "closed_at": "2016-03-29T14:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nWrong content-type (application/octet-stream) causes the output to be an array of bytes - the output will effectively be a number on each line.\n\nI suppose changing to text/plain will fix this.\n\nEg:\n\n```\nPS C:\\Windows\\System32\\WindowsPowerShell\\v1.0> (Invoke-WebRequest \"http://example.com\")\n\n\nStatusCode        : 200\nStatusDescription : OK\nContent           : <!doctype html>\n                    <html>\n                    <head>\n                        <title>Example Domain</title>\n\n                        <meta charset=\"utf-8\" />\n                        <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n                        <meta name=\"viewport\" conten...\nRawContent        : HTTP/1.1 200 OK\n                    X-Cache: HIT\n                    x-ec-custom-error: 1\n                    Accept-Ranges: bytes\n                    Content-Length: 1270\n                    Cache-Control: max-age=604800\n                    Content-Type: text/html\n                    Date: Sun, 15 Jun 2014 12:17:31 GMT\n                    Expires: S...\nForms             : {}\nHeaders           : {[X-Cache, HIT], [x-ec-custom-error, 1], [Accept-Ranges, bytes], [Content-Length, 1270]...}\nImages            : {}\nInputFields       : {}\nLinks             : {@{innerHTML=More information...; innerText=More information...; outerHTML=<A href=\"http://www.iana.org/domains/example\">More information...</A>; out\n                    erText=More information...; tagName=A; href=http://www.iana.org/domains/example}}\nParsedHtml        : System.__ComObject\nRawContentLength  : 1270\n\n\n\n\nPS C:\\Windows\\System32\\WindowsPowerShell\\v1.0> (Invoke-WebRequest \"https://bootstrap.pypa.io/ez_setup.py\")\n\n\nStatusCode        : 200\nStatusDescription : OK\nContent           : {35, 33, 47, 117...}\nRawContent        : HTTP/1.1 200 OK\n                    Accept-Ranges: bytes\n                    Content-Length: 10476\n                    Content-Type: application/octet-stream\n                    Date: Sun, 15 Jun 2014 12:17:36 GMT\n                    ETag: \"538db262-28ec\"\n                    Last-Modified: Tue, 03 Jun 2014 11:32:...\nHeaders           : {[Accept-Ranges, bytes], [Content-Length, 10476], [Content-Type, application/octet-stream], [Date, Sun, 15 Jun 2014 12:17:36 GMT]...}\nRawContentLength  : 10476\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/221\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/220", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/220/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/220/events", "html_url": "https://github.com/pypa/setuptools/issues/220", "id": 144278041, "node_id": "MDU6SXNzdWUxNDQyNzgwNDE=", "number": 220, "title": "Script .tmpl files missing in 5.0.1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-06-15T00:07:29Z", "updated_at": "2016-03-29T14:17:16Z", "closed_at": "2016-03-29T14:17:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mordred (Bitbucket: [mordred](http://bitbucket.org/mordred), GitHub: [mordred](http://github.com/mordred))**\n\n---\n\nInstalling setuptools 5.0.1 into a fresh virtualenv leaves one without setuptools/script (dev).tmpl, leading to errors such as:\n\nerror: [Errno 2] No such file or directory: '/home/mordred/src/openstack/python-swiftclient/.tox/py27/local/lib/python2.7/site-packages/setuptools/script (dev).tmpl'\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/220\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/218", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/218/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/218/events", "html_url": "https://github.com/pypa/setuptools/issues/218", "id": 144277964, "node_id": "MDU6SXNzdWUxNDQyNzc5NjQ=", "number": 218, "title": "setup.py develop fails with some packages on Python3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-06-05T22:47:46Z", "updated_at": "2016-03-29T14:17:01Z", "closed_at": "2016-03-29T14:17:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **alex_gaynor (Bitbucket: [alex_gaynor](http://bitbucket.org/alex_gaynor), GitHub: Unknown)**\n\n---\n\nInstructions for reproduction:\n\n``` console\n$ git clone git://git.openstack.org/openstack/python-swiftclient.git\n$ cd python-swiftclient\n$ virtualenv -p python3.3 foo\n$ ./foo/bin/pip install -U -r requirements.txt setuptools==4.0.1\n$ . foo/bin/activate\n$ python setup.py develop\n```\n\nThis appears to have been introduced with the 4.0.0 release. Upstream ticket that noticed this issue: https://bugs.launchpad.net/python-swiftclient/+bug/1326972\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/218\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/216", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/216/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/216/events", "html_url": "https://github.com/pypa/setuptools/issues/216", "id": 144277936, "node_id": "MDU6SXNzdWUxNDQyNzc5MzY=", "number": 216, "title": "Generated launchers won't launch if there is a space in the path", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-06-03T22:46:18Z", "updated_at": "2021-07-05T01:04:19Z", "closed_at": "2021-07-05T01:03:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **stevedower (Bitbucket: [stevedower](http://bitbucket.org/stevedower), GitHub: Unknown)**\n\n---\n\n(This is related to https://bitbucket.org/pypa/setuptools/issue/188/nt-escaping-in-shebang-in-easy_install, but that one is now being treated as a feature request and I believe the two changes would be unrelated anyway.)\n\nThe latest setuptools generates .exe launchers that include a shebang line pointing to the python.exe. If there is a space in this path, the path is quoted.\n\nHowever, when the launcher runs, it will add a second set of quotes to the path leading to an error like this:\n\n``` text\nFatal error in launcher: Unable to create process using '\"\"D:\\...\\Test VEnv\\Scripts\\python.exe\"\" \"D:\\...\\Test VEnv\\Scripts\\easy_install.exe\" '\n```\n\nI believe the issue is in the launcher rather than the shebang line, since quoting that path is the only way you could support arguments as well as spaces on Windows. IMO, the launcher should not add more quotes to the shebang line when launching.\n\nMy repro steps (run at the command prompt):\n\n``` text\nC:\\Python27\\python.exe -m virtualenv \"Test VEnv\"\ncd Test VEnv\nScripts\\python.exe -m pip install -U setuptools==4.0.1\n\nrem The current easy_install.exe was generated with setuptools 3.something and it works fine\n\nrem The next line generates a new easy_install.exe with setuptools 4.0.1 and it doesn't work\nScripts\\python.exe -m pip install -U setuptools==4.0.0\nScripts\\easy_install.exe\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/216\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/214", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/214/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/214/events", "html_url": "https://github.com/pypa/setuptools/issues/214", "id": 144277887, "node_id": "MDU6SXNzdWUxNDQyNzc4ODc=", "number": 214, "title": "bootstrap script not updating on bootstrap.pypa.io", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-06-03T10:33:51Z", "updated_at": "2016-03-29T14:16:47Z", "closed_at": "2016-03-29T14:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIt seems the bootstrap script is once again not reflecting the updated code in the bitbucket repo. Accessing https://bootstrap.pypa.io/ez_setup.py currently returns the bootstrap script for 3.5.1.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/214\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/213", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/213/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/213/events", "html_url": "https://github.com/pypa/setuptools/issues/213", "id": 144277857, "node_id": "MDU6SXNzdWUxNDQyNzc4NTc=", "number": 213, "title": "Regression: Setuptools 3.7 installation fails with TypeError under pbr", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2014-06-01T21:26:24Z", "updated_at": "2016-03-29T14:16:44Z", "closed_at": "2016-03-29T14:16:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **alex_gaynor (Bitbucket: [alex_gaynor](http://bitbucket.org/alex_gaynor), GitHub: Unknown)**\n\n---\n\nComplete reproducer:\n\n```\n$ mktmpenv\nNew python executable in /Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/bin/python\nInstalling setuptools, pip...pip install -Udone.\n[14:24:47] (tempenv-4b7d34306d0a) ~/p/openstack-requirements (master)\n$ pip install -U setuptools\nUnpacking /Users/alex_gaynor/.pip/wheels/setuptools-4.0-py2.py3-none-any.whl\nInstalling collected packages: setuptools\n  Found existing installation: setuptools 3.6\n    Uninstalling setuptools:\n      Successfully uninstalled setuptools\nSuccessfully installed setuptools\nCleaning up...\n[14:24:52] (tempenv-4b7d34306d0a) ~/p/openstack-requirements (master)\n$ pip install --no-use-wheel python-daemon\nDownloading/unpacking python-daemon\n  Using download cache from /Users/alex_gaynor/.pip/cache/https%3A%2F%2Fpypi.python.org%2Fpackages%2Fsource%2Fp%2Fpython-daemon%2Fpython-daemon-1.6.tar.gz\n  Running setup.py (path:/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/build/python-daemon/setup.py) egg_info for package python-daemon\n    Traceback (most recent call last):\n      File \"<string>\", line 17, in <module>\n      File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/build/python-daemon/setup.py\", line 62, in <module>\n        u\"Topic :: Software Development :: Libraries :: Python Modules\",\n      File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 152, in setup\n        dist.run_commands()\n      File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n        self.run_command(cmd)\n      File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"<string>\", line 14, in replacement_run\n      File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 368, in write_requirements\n        _write_requirements(data, dist.install_requires)\n      File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 363, in _write_requirements\n        stream.writelines(lines)\n    TypeError: 'unicode' does not have the buffer interface\n    Complete output from command python setup.py egg_info:\n    running egg_info\n\ncreating pip-egg-info/python_daemon.egg-info\n\nTraceback (most recent call last):\n\n  File \"<string>\", line 17, in <module>\n\n  File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/build/python-daemon/setup.py\", line 62, in <module>\n\n    u\"Topic :: Software Development :: Libraries :: Python Modules\",\n\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 152, in setup\n\n    dist.run_commands()\n\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n\n    self.run_command(cmd)\n\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n\n    cmd_obj.run()\n\n  File \"<string>\", line 14, in replacement_run\n\n  File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 368, in write_requirements\n\n    _write_requirements(data, dist.install_requires)\n\n  File \"/Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 363, in _write_requirements\n\n    stream.writelines(lines)\n\nTypeError: 'unicode' does not have the buffer interface\n\n----------------------------------------\nCleaning up...\nCommand python setup.py egg_info failed with error code 1 in /Users/alex_gaynor/.virtualenvs/tempenv-4b7d34306d0a/build/python-daemon\nStoring debug log for failure in /Users/alex_gaynor/.pip/pip.log\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/213\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/210", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/210/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/210/events", "html_url": "https://github.com/pypa/setuptools/issues/210", "id": 144277807, "node_id": "MDU6SXNzdWUxNDQyNzc4MDc=", "number": 210, "title": "Passing binary files as 'scripts' causes errors at develop and install.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315100, "node_id": "MDU6TGFiZWwzNDkzMTUxMDA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2014-05-28T19:49:38Z", "updated_at": "2020-03-15T13:23:46Z", "closed_at": "2016-05-03T20:44:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **davidoff (Bitbucket: [davidoff](http://bitbucket.org/davidoff), GitHub: [davidoff](http://github.com/davidoff))**\n\n---\n\nIf you specify a binary file to the scripts= parameter of setup, the setup.py develop command copies the script with bytes 0D converted to 0A, garbling the binary data.\n\nI have traced this to the text mode file opening in [setuptools/command/develop.py:165](https://bitbucket.org/pypa/setuptools/src/49bd27eebf212c067392796bb2d0fa6d8e583586/setuptools/command/develop.py?at=default#cl-165) (introduced in c9e11fdff773). \n\nIf I change from open(script_path, 'rU') to open(script_path, 'rb') the binary files are copied correctly.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/210\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/210/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/209", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/209/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/209/events", "html_url": "https://github.com/pypa/setuptools/issues/209", "id": 144277767, "node_id": "MDU6SXNzdWUxNDQyNzc3Njc=", "number": 209, "title": "setup_requires and install_requires don't play nicely together", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2014-05-23T16:07:47Z", "updated_at": "2016-03-29T14:16:25Z", "closed_at": "2016-03-29T14:16:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **msabramo (Bitbucket: [msabramo](http://bitbucket.org/msabramo), GitHub: [msabramo](http://github.com/msabramo))**\n\n---\n\nWhat's the latest thinking on how to deal with a package that has `setup_requires=['foo']` and `install_requires=['foo']`? \n\nMy observation is that this causes setuptools to download a foo.egg file to the current directory, install_requires then decides it doesn't need to install the package, and then the software craps out when it tries to import it because it can't import from the egg :-(\n\nFor example, I work on a project that uses pbr. The `setup.py` looks like this:\n\n``` python\nimport setuptools\n\nsetuptools.setup(\n    setup_requires=['pbr'],\n    install_requires=['pbr'],\n    pbr=True)\n```\n\nNow starting with a clean virtualenv and no .egg files in the current directory, here's what I see (with pip 1.5.5 and setuptools 3.4.4):\n\n```\n$ python setup.py install\n\nInstalled /Users/marca/dev/git-repos/jenkins-job-builder/pbr-0.8.0-py2.7.egg\nrunning install\n...\nRequirement already satisfied (use --upgrade to upgrade): pbr>=0.5.21,<1.0 in ./pbr-0.8.0-py2.7.egg\n...\n\n$ ls -ld *.egg\ndrwxr-xr-x  4 marca  staff  136 May 23 08:56 pbr-0.8.0-py2.7.egg/\n```\n\nOK, fine. pbr wasn't available in the virtualenv so setuptools downloaded a .egg so that it could use it to do setupy things.\n\nNot so fine is that because the .egg file was already present because it was downloaded in the `setup_requires` phase, the setuptools `install_requires` logic decided that it didn't have to install pbr in the virtualenv (I guess at this point the .egg file is on the PYTHONPATH so it can be imported?). This is not good because code outside of setuptools doesn't know how to do anything with that .egg:\n\n```\n$ python -c 'import jenkins_jobs.version'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"jenkins_jobs/version.py\", line 18, in <module>\n    from pbr.version import VersionInfo\nImportError: No module named pbr.version\n```\n\nSo this is not good.\n\nIdeas:\n1. Maybe setuptools puts the .egg file on the PYTHONPATH so that it can use it while creating metadata and such. Maybe when it's done, it can remove the .egg from the PYTHONPATH so that the install_requires code doesn't see the package as importable and then it would install the package in the virtualenv? A variation on the idea is to leave the PYTHONPATH but delete the .egg file (or download the egg into a temp directory that gets cleaned up as soon as it's not needed). Drawback here is that we download the package twice -- once for setup_requires and once for install_requires.\n2. Have a special case in the setup_requires logic so that if install_requires of the same dependency is present, instead of downloading the .egg, it simply installs the package in a more \"permanent\" place on the PYTHONPATH (site-packages)?\n\n@jaraco: What do you think?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/209\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/209/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/207", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/207/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/207/events", "html_url": "https://github.com/pypa/setuptools/issues/207", "id": 144277753, "node_id": "MDU6SXNzdWUxNDQyNzc3NTM=", "number": 207, "title": "#141 introduces regression in importing namespace packages", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-05-14T19:06:45Z", "updated_at": "2019-02-14T18:19:51Z", "closed_at": "2019-02-14T18:19:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **embray (Bitbucket: [embray](http://bitbucket.org/embray), GitHub: [embray](http://github.com/embray))**\n\n---\n\nUnfortunately the fix to #141 was basically my code :(\n\nThe regression is caused by the changes to `pkg_resources._handle_ns`.  That change was added to support the scenario reported in #141 where the `setup_requires` package in question has a _namespace_ package.  For example:\n\n```\n#!python\nsetup_requires = ['foo.bar > 1.1']\n```\n\nwhere `foo` is a namespace package.  The fix ensures that the path to the newer version of `foo.bar` is added earlier on `foo.__path__` while still maintaining the original `foo.__path__` entries in their original relative order.\n\nUnfortunately this fix breaks the (likely more common case) where there are two copies of `foo.bar` on `sys.path` to begin with.  For example, if upon starting the interpreter it has the entries:\n\n```\n#!python\nsys.path = [\n    ...\n    'path/to/virtualenv/site-packages/foo.bar-1.1.egg/'\n    ...\n    'system/site-packages/foo.bar-1.0.egg/'\n]\n```\n\nwhen one performs `import foo`, the first entry _is_ found first resulting in \n\n```\n#!python\nfoo.__path__ == [ 'path/to/virtualenv/site-packages/foo.bar-1.1.egg/']\n```\n\nwhich is fine.  But then as `declare_namespace` continues its march it gets to the later path entry which ends up reordering `foo.__path__` so that\n\n```\n#!python\nfoo.__path__ == ['system/site-packages/foo.bar-1.0.egg/', 'path/to/virtualenv/site-packages/foo.bar-1.1.egg/']\n```\n\nThus a call to `import foo.bar` ends up importing the old `foo.bar` later on the path.\n\nIf that's all confusing, I will attach a regression test in a bit.  I think the solution is to handle the `__path__` reordering in `fixup_namespace_packages` which is where it is actually necessary, and not in `_handle_ns` generally.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/207\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/207/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/201", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/201/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/201/events", "html_url": "https://github.com/pypa/setuptools/issues/201", "id": 144277672, "node_id": "MDU6SXNzdWUxNDQyNzc2NzI=", "number": 201, "title": "test_setup_requires failing on Python 3.4", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-05-05T19:33:24Z", "updated_at": "2020-12-05T17:38:31Z", "closed_at": "2016-03-29T14:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn d597181958a3, I disabled a test for Python 3.3 and earlier. Today, thanks to Travis' new Python 3.4 support, I added Python 3.4 to the Python versions tested, but now the test is failing on Python 3.4 also:\n\n```\nERROR: test_setup_requires (setuptools.tests.test_easy_install.TestUserInstallTest)\nRegression test for Distribute issue #318\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/travis/build/jaraco/setuptools/setuptools/tests/test_easy_install.py\", line 246, in test_setup_requires\n  run_setup(test_setup_py, ['install'])\nFile \"/home/travis/build/jaraco/setuptools/setuptools/sandbox.py\", line 50, in run_setup\n  lambda: execfile(\nFile \"/home/travis/build/jaraco/setuptools/setuptools/sandbox.py\", line 100, in run\n  return func()\nFile \"/home/travis/build/jaraco/setuptools/setuptools/sandbox.py\", line 52, in <lambda>\n  {'__file__':setup_script, '__name__':'__main__'}\nFile \"/home/travis/build/jaraco/setuptools/setuptools/compat.py\", line 78, in execfile\n  exec(compile(source, fn, 'exec'), globs, locs)\nFile \"setup.py\", line 2, in <module>\n  \"\"\"Distutils setup file, used to install or test 'setuptools'\"\"\"\nFile \"/opt/python/3.4.0/lib/python3.4/distutils/core.py\", line 149, in setup\n  dist.run_commands()\nFile \"/opt/python/3.4.0/lib/python3.4/distutils/dist.py\", line 955, in run_commands\n  self.run_command(cmd)\nFile \"/opt/python/3.4.0/lib/python3.4/distutils/dist.py\", line 974, in run_command\n  cmd_obj.run()\nFile \"/home/travis/build/jaraco/setuptools/setuptools/command/install.py\", line 61, in run\n  if not self._called_from_setup(inspect.currentframe()):\nFile \"/home/travis/build/jaraco/setuptools/setuptools/command/install.py\", line 85, in _called_from_setup\n  res = inspect.getouterframes(run_frame)[2]\nFile \"/opt/python/3.4.0/lib/python3.4/inspect.py\", line 1321, in getouterframes\n  framelist.append((frame,) + getframeinfo(frame, context))\nFile \"/opt/python/3.4.0/lib/python3.4/inspect.py\", line 1296, in getframeinfo\n  lines, lnum = findsource(frame)\nFile \"/opt/python/3.4.0/lib/python3.4/inspect.py\", line 709, in findsource\n  if pat.match(lines[lnum]): break\nIndexError: list index out of range\n```\n\nCuriously, this test doesn't fail on my Windows box against Python 3.4.0.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/201\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/200", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/200/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/200/events", "html_url": "https://github.com/pypa/setuptools/issues/200", "id": 144277658, "node_id": "MDU6SXNzdWUxNDQyNzc2NTg=", "number": 200, "title": "jython 2.71 b1 install issues", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-05-04T21:03:38Z", "updated_at": "2022-01-04T18:50:26Z", "closed_at": "2022-01-04T18:50:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **strannik19 (Bitbucket: [strannik19](http://bitbucket.org/strannik19), GitHub: [strannik19](http://github.com/strannik19))**\n\n---\n\nFresh install of jython 2.71b1 on Oracle Java7u55 on Mac OS X 10.9.2\n\n```\n$ jython ez_setup.py \nDownloading http://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11-py2.7.egg\nTraceback (most recent call last):\n  File \"ez_setup.py\", line 278, in <module>\n    main(sys.argv[1:])\n  File \"ez_setup.py\", line 212, in main\n    from setuptools.command.easy_install import main\nImportError: No module named setuptools\n```\n\nIf i download the mentioned egg file, the installation finishes, but then easy_install fails on every installation of anything.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/200\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/199", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/199/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/199/events", "html_url": "https://github.com/pypa/setuptools/issues/199", "id": 144277650, "node_id": "MDU6SXNzdWUxNDQyNzc2NTA=", "number": 199, "title": "setuptools 3.5 breaks numpy/scipy install with Python 2.7 on Mac OS X", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-05-04T03:35:15Z", "updated_at": "2016-03-29T14:15:50Z", "closed_at": "2016-03-29T14:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nAfter update to setup tools 3.5 numpy and scipy fail to install on Mac OS X 10.9.2 with system Python 2.7. This is a regression from 3.4.4. (Rolling back to this version successfully installs numpy and scipy). \n\nHere is the output with setuptools 3.5 when installing scipy:\n\n```\n Running from scipy source directory.\n    Splitting linalg.interpolative Fortran source files\n    non-existing path in 'scipy/sparse': 'sparsetools/sparsetools_impl.h'\n    non-existing path in 'scipy/sparse': 'sparsetools/bsr_impl.h'\n    non-existing path in 'scipy/sparse': 'sparsetools/csc_impl.h'\n    non-existing path in 'scipy/sparse': 'sparsetools/csr_impl.h'\n    non-existing path in 'scipy/sparse': 'sparsetools/other_impl.h'\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/private/tmp/pip_build_root/scipy/setup.py\", line 237, in <module>\n        setup_package()\n      File \"/private/tmp/pip_build_root/scipy/setup.py\", line 234, in setup_package\n        setup(**metadata)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/core.py\", line 135, in setup\n        config = configuration()\n      File \"/private/tmp/pip_build_root/scipy/setup.py\", line 173, in configuration\n        config.add_subpackage('scipy')\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 966, in add_subpackage\n        caller_level = 2)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 935, in get_subpackage\n        caller_level = caller_level + 1)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 872, in _get_configuration_from_setup_py\n        config = setup_module.configuration(*args)\n      File \"scipy/setup.py\", line 23, in configuration\n        config.add_subpackage('special')\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 966, in add_subpackage\n        caller_level = 2)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 935, in get_subpackage\n        caller_level = caller_level + 1)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 872, in _get_configuration_from_setup_py\n        config = setup_module.configuration(*args)\n      File \"scipy/special/setup.py\", line 83, in configuration\n        extra_info=get_info(\"npymath\"))\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 2138, in get_info\n        pkg_info = get_pkg_info(pkgname, dirs)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/misc_util.py\", line 2090, in get_pkg_info\n        return read_config(pkgname, dirs)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/npy_pkg_config.py\", line 393, in read_config\n        v = _read_config_imp(pkg_to_filename(pkgname), dirs)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/npy_pkg_config.py\", line 329, in _read_config_imp\n        meta, vars, sections, reqs = _read_config(filenames)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/npy_pkg_config.py\", line 312, in _read_config\n        meta, vars, sections, reqs = parse_config(f, dirs)\n      File \"/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/distutils/npy_pkg_config.py\", line 284, in parse_config\n        raise PkgNotFound(\"Could not find file(s) %s\" % str(filenames))\n    numpy.distutils.npy_pkg_config.PkgNotFound: Could not find file(s) ['/Library/Python/2.7/site-packages/numpy-1.8.1-py2.7-macosx-10.9-intel.egg/numpy/core/lib/npy-pkg-config/npymath.ini']\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/private/tmp/pip_build_root/scipy/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-TyVdHj-record/install-record.txt --single-version-externally-managed --compile:\n    blas_opt_info:\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/199\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/198", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/198/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/198/events", "html_url": "https://github.com/pypa/setuptools/issues/198", "id": 144277636, "node_id": "MDU6SXNzdWUxNDQyNzc2MzY=", "number": 198, "title": "Version 3.4.5 seems to be packaged wrong and cannot be installed with the suggested command", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-05-03T17:48:23Z", "updated_at": "2016-03-29T14:15:48Z", "closed_at": "2016-03-29T14:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **hhansen (Bitbucket: [hhansen](http://bitbucket.org/hhansen), GitHub: [hhansen](http://github.com/hhansen))**\n\n---\n\nTrying to install version 3.4.5 using: \n\n```\n#!bash\n\ncurl https://bootstrap.pypa.io/ez_setup.py -o - | python\n```\n\nraises the following exception:\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"<stdin>\", line 332, in <module>\n  File \"<stdin>\", line 329, in main\n  File \"<stdin>\", line 46, in _install\n  File \"/usr/local/Cellar/python3/3.4.0/Frameworks/Python.framework/Versions/3.4/lib/python3.4/contextlib.py\", line 59, in __enter__\n    return next(self.gen)\n  File \"<stdin>\", line 88, in archive_context\n  File \"/usr/local/Cellar/python3/3.4.0/Frameworks/Python.framework/Versions/3.4/lib/python3.4/zipfile.py\", line 937, in __init__\n    self._RealGetContents()\n  File \"/usr/local/Cellar/python3/3.4.0/Frameworks/Python.framework/Versions/3.4/lib/python3.4/zipfile.py\", line 978, in _RealGetContents\n    raise BadZipFile(\"File is not a zip file\")\nzipfile.BadZipFile: File is not a zip file\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/198\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/197", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/197/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/197/events", "html_url": "https://github.com/pypa/setuptools/issues/197", "id": 144277611, "node_id": "MDU6SXNzdWUxNDQyNzc2MTE=", "number": 197, "title": "Distutils produces metadata in unknown encoding", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-05-03T15:09:54Z", "updated_at": "2016-03-29T14:15:44Z", "closed_at": "2016-03-29T14:15:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [Pull Request 45](/pypa/setuptools/pull-request/45), Jurko observed that on Python 3.1, Python will generate the metadata files in an encoding relative to the build user's environment. Furthermore, starting with Python 3.2 but also on Python 2.6 and 2.7, the content is encoded using UTF-8.\n\n`pkg_resources` currently assumes the metadata is UTF-8, so if non-ASCII characters are present and egg_info is run on Python 3.1 or earlier, the resulting metadata will fail to load on Python 3.2+.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/197\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/196", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/196/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/196/events", "html_url": "https://github.com/pypa/setuptools/issues/196", "id": 144277602, "node_id": "MDU6SXNzdWUxNDQyNzc2MDI=", "number": 196, "title": "tests_require=['pytest', 'pytest-cov'] breaks setuptools.setup", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2014-05-03T08:44:38Z", "updated_at": "2019-04-11T09:02:53Z", "closed_at": "2017-04-21T00:50:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **slashfoo (Bitbucket: [slashfoo](http://bitbucket.org/slashfoo), GitHub: [slashfoo](http://github.com/slashfoo))**\n\n---\n\n```\n(test)[20:24:14] [jamiel@moeka:masterskel/] $ python setup.py coverage\nThis command (coverage) requires the installation of pytest-cov\nrunning coverage\nSearching for pytest-cov\nReading https://pypi.python.org/simple/pytest-cov/\nBest match: pytest-cov 1.6\nDownloading https://pypi.python.org/packages/source/p/pytest-cov/pytest-cov-1.6.tar.gz#md5=6da54d74bde9d200de45068ba2ea637a\nProcessing pytest-cov-1.6.tar.gz\nWriting /tmp/easy_install-xvMxzZ/pytest-cov-1.6/setup.cfg\nRunning pytest-cov-1.6/setup.py -q bdist_egg --dist-dir /tmp/easy_install-xvMxzZ/pytest-cov-1.6/egg-dist-tmp-BGJIES\n\nInstalled /home/jamiel/dev/masterskel/pytest_cov-1.6-py2.7.egg\nSearching for pytest\nBest match: pytest cov-1.6\nDownloading https://pypi.python.org/packages/source/p/pytest-cov/pytest-cov-1.6.tar.gz#md5=6da54d74bde9d200de45068ba2ea637a\nProcessing pytest-cov-1.6.tar.gz\nWriting /tmp/easy_install-EweVbo/pytest-cov-1.6/setup.cfg\nRunning pytest-cov-1.6/setup.py -q bdist_egg --dist-dir /tmp/easy_install-EweVbo/pytest-cov-1.6/egg-dist-tmp-zxCrHa\n\nInstalled /home/jamiel/dev/masterskel/pytest_cov-1.6-py2.7.egg\nTraceback (most recent call last):\n  File \"setup.py\", line 203, in <module>\n    zip_safe=False,\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/home/jamiel/.virtualenvs/test/local/lib/python2.7/site-packages/setuptools/command/test.py\", line 130, in run\n    self.distribution.fetch_build_eggs(self.distribution.tests_require)\n  File \"/home/jamiel/.virtualenvs/test/local/lib/python2.7/site-packages/setuptools/dist.py\", line 264, in fetch_build_eggs\n    replace_conflicting=True\n  File \"/home/jamiel/.virtualenvs/test/local/lib/python2.7/site-packages/pkg_resources.py\", line 588, in resolve\n    raise DistributionNotFound(req)\npkg_resources.DistributionNotFound: pytest\n```\n\nsince 'pytest-cov' depends on 'pytest', making `tests_require=['pytest-cov']` fixes the issue, same if it is `tests_require=['pytest-cov', 'pytest']`.\n\nSetting a breakpoint on `${HOME}/.virtualenvs/slashpyenv/lib/python3.4/site-packages/pkg_resources.py:620` (replace for your path to pkg_sources.py) shows:\n\n```\ndist = best[req.key] = env.best_match(req, ws, installer)\n```\n\nafter running on for `req = Requirement.parse('pytest-cov')`, when I run `!env.best_match(Requirement.parse('pytest'), ws, installer)` it returns the best match to be 'pytest-cov 1.6' and exits.\n\n_note_: In the report you see 3.4 in the outputs ect... but this is also present in 2.7.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/196\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/196/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/195", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/195/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/195/events", "html_url": "https://github.com/pypa/setuptools/issues/195", "id": 144277597, "node_id": "MDU6SXNzdWUxNDQyNzc1OTc=", "number": 195, "title": "find_packages no longer follows symbolic links", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-05-02T14:21:29Z", "updated_at": "2016-03-29T14:15:38Z", "closed_at": "2016-03-29T14:15:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #184, it was reported that find_packages no longer follows symlinks, though it did in earlier versions. This should be corrected promptly.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/195\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/192", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/192/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/192/events", "html_url": "https://github.com/pypa/setuptools/issues/192", "id": 144277538, "node_id": "MDU6SXNzdWUxNDQyNzc1Mzg=", "number": 192, "title": "Intermittent failures downloading ez_setup.py (bootstrap)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-04-18T17:54:21Z", "updated_at": "2016-03-29T14:15:27Z", "closed_at": "2016-03-29T14:15:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nThe server gives \"Rate limit for this resource has been exceeded\"\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/192\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/191", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/191/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/191/events", "html_url": "https://github.com/pypa/setuptools/issues/191", "id": 144277526, "node_id": "MDU6SXNzdWUxNDQyNzc1MjY=", "number": 191, "title": "setup.py encoding", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-04-16T18:35:03Z", "updated_at": "2016-03-29T14:15:24Z", "closed_at": "2016-03-29T14:15:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **philip_thiem (Bitbucket: [philip_thiem](http://bitbucket.org/philip_thiem), GitHub: Unknown)**\n\n---\n\nIn compat.py:55 may choke if the setup.py is not compatible with the expected console (filesystem?) encoding when compile tries to read from the file object with unspecified encoding.  \n\nFor example:  wincertstore appears to have a BOM at the beginning of its setup.py\nbut on windows something is defaulting to cp932.  Yielding:\n\nUnicodeDecodeError: 'cp932' codec can't decode byte 0xef in position 0: illegal multibyte sequence\n\nexec(compile(source, fn, 'exec'), globs, locs)\n\nProduced doing: setup.py test\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/191\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/189", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/189/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/189/events", "html_url": "https://github.com/pypa/setuptools/issues/189", "id": 144277510, "node_id": "MDU6SXNzdWUxNDQyNzc1MTA=", "number": 189, "title": "python setup.py sdist upload uses HTTP instead of HTTPS", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-04-15T09:17:05Z", "updated_at": "2016-03-29T14:15:19Z", "closed_at": "2016-03-29T14:15:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rbuchholz (Bitbucket: [rbuchholz](http://bitbucket.org/rbuchholz), GitHub: [rbuchholz](http://github.com/rbuchholz))**\n\n---\n\n```\n#!shell\n$ python setup.py sdist upload\nrunning sdist\n...\nrunning upload\nSubmitting my_package to http://pypi.python.org/pypi\n```\n\nSince this transmits the pypi password via HTTP instead of HTTPS, an attacker with the capability to tap into the transmission can recover the password and impersonate me in future interactions (possibly replacing my package). Note, when using HTTPS, SSL certificates need to be verified.\n\nI had expected this to be a duplicate of an open bug, but found none.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/189\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/187", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/187/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/187/events", "html_url": "https://github.com/pypa/setuptools/issues/187", "id": 144277472, "node_id": "MDU6SXNzdWUxNDQyNzc0NzI=", "number": 187, "title": "Setuptools/distutils don't enforce target module vs installation environment separation", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-12T17:28:12Z", "updated_at": "2022-01-04T18:02:04Z", "closed_at": "2022-01-04T18:02:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pfalcon (Bitbucket: [pfalcon](http://bitbucket.org/pfalcon), GitHub: [pfalcon](http://github.com/pfalcon))**\n\n---\n\nBackground: I'm working on alternative Python implementation which doesn't have monolithic standard library, instead everything but native modules is available as installable packages.\n\nThat means need to package modules like copy, re, etc. Such modules are of course used by setuptools itself (and by distutils to which setuptools dispatch). Setuptools doesn't appear to taking any steps to preserve integrity of its execution environment, and target module can easily bleed to meta-level.\n\nBesides not allowing to package alternative implementation of standard modules, this would be a security issues, but with executable set up metadata that's a moot point.\n\nHere's example backtrace from trying to install \"re\" module using pypi:\n\n```\n#!shell\n\n  Running setup.py egg_info for package micropython-re-pcre\n    Traceback (most recent call last):\n      File \"<string>\", line 3, in <module>\n      File \"/tmp/pip-micropy-venv/local/lib/python2.7/site-packages/distribute-0.6.24-py2.7.egg/setuptools/__init__.py\", line 2, in <module>\n        from setuptools.extension import Extension, Library\n      File \"/tmp/pip-micropy-venv/local/lib/python2.7/site-packages/distribute-0.6.24-py2.7.egg/setuptools/extension.py\", line 1, in <module>\n        from distutils.core import Extension as _Extension\n      File \"/tmp/pip-micropy-venv/lib/python2.7/distutils/__init__.py\", line 22, in <module>\n        from distutils import dist, sysconfig\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 9, in <module>\n        import sys, os, re\n      File \"re.py\", line 1, in <module>\n        import ffi\n    ImportError: No module named ffi\n```\n\nThis is not first I face this issue, for example, \"copy\" module had problems with running \"setup.py sdist\". Fortunately, that case could be easily worked around on my setup.py side (sys.path.pop(0)). Unfortunately this doesn't help with this latest case - it seems that pip doesn't bother to import setup.py and calls to setuptools directly. It can be also seen that actual failure happens in distutils. So, we have three tools to blame:\n1. pip, but that's just a client of setuptools.\n2. setuptools.\n3. distutils, which is part of stdlib, and as such is not much a dynamic code.\n\nI hope it's clear why I came with this bugreport to setuptools - fixing it on client side won't help other clients, and I guess it will take longer to fix it on distutils side (plus I'm sure setuptools may have similar issue in its own code).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/187\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/186", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/186/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/186/events", "html_url": "https://github.com/pypa/setuptools/issues/186", "id": 144277460, "node_id": "MDU6SXNzdWUxNDQyNzc0NjA=", "number": 186, "title": "recent windows tests fail (winbot)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-04-11T07:01:45Z", "updated_at": "2016-03-29T14:15:06Z", "closed_at": "2016-03-29T14:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nsee\n\nhttp://winbot.zope.org/builders/setuptools_master%20py_265_win32/builds/271/steps/test/logs/stdio\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/186\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/185", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/185/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/185/events", "html_url": "https://github.com/pypa/setuptools/issues/185", "id": 144277449, "node_id": "MDU6SXNzdWUxNDQyNzc0NDk=", "number": 185, "title": "subversion revision tagging fails in setuptools 3.4.3 with subversion 1.8.x (patch)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-04-10T19:17:04Z", "updated_at": "2016-03-29T14:15:03Z", "closed_at": "2016-03-29T14:15:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **cazabon (Bitbucket: [cazabon](http://bitbucket.org/cazabon), GitHub: Unknown)**\n\n---\n\nhttps://mail.python.org/pipermail/distutils-sig/2014-April/024135.html\n\nIn a Python 2.7.6 virtualenv with setuptools 3.4.3 installed, setuptools fails to extract the svn revision from a package in an svn working copy checkout under these conditions:\n- subversion 1.8.x\n- python package is in a _subdirectory_ of the working copy checkout, so there is no .svn dir in the package's dir due to subversion keeping it all in a single place in the root of the working copy\n\nThis appears to be due to this test failing, in egg_info.py's tags():\n\n```\n    if self.tag_svn_revision and (\n        os.path.exists('.svn') or os.path.exists('PKG-INFO')\n    ):\n```\n\nI'll attach a patch which fixes the problem for me -- basically calling get_svn_revision() whenever tag_svn_revision is set, and using the result if it's not 0.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/185\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/184", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/184/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/184/events", "html_url": "https://github.com/pypa/setuptools/issues/184", "id": 144277429, "node_id": "MDU6SXNzdWUxNDQyNzc0Mjk=", "number": 184, "title": "setuptools installs into nested directories with a second build, and then installs the build directory", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-04-07T13:22:02Z", "updated_at": "2016-03-29T14:14:59Z", "closed_at": "2016-03-29T14:14:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\n```\npython3.3 setup.py build\nrunning build\nrunning build_py\ncreating build/lib\ncopying pkg_resources.py -> build/lib\ncopying easy_install.py -> build/lib\ncreating build/lib/setuptools\ncopying setuptools/__init__.py -> build/lib/setuptools\ncopying setuptools/dist.py -> build/lib/setuptools\n[...]\n\npython3.4 setup.py build\nrunning build\nrunning build_py\ncreating build/lib/build\ncreating build/lib/build/lib\ncreating build/lib/build/lib/setuptools\ncopying build/lib/setuptools/__init__.py -> build/lib/build/lib/setuptools\ncopying build/lib/setuptools/dist.py -> build/lib/build/lib/setuptools\n[...]\n```\n\nthen installing the package installs the build directory as well.  this is a regression, I think introduced with 3.x.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/184\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/183", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/183/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/183/events", "html_url": "https://github.com/pypa/setuptools/issues/183", "id": 144277414, "node_id": "MDU6SXNzdWUxNDQyNzc0MTQ=", "number": 183, "title": "AttributeError: test command fails with NoneType object has no attribute 'run'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-04-06T22:14:50Z", "updated_at": "2016-03-29T14:14:54Z", "closed_at": "2016-03-29T14:14:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\n@arfrever reports that the recent change to support custom test loaders (d9932598b86f) now causes AttributeErrors when no testLoader is supplied on Python 2.6 and 3.1.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/183\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/182", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/182/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/182/events", "html_url": "https://github.com/pypa/setuptools/issues/182", "id": 144277402, "node_id": "MDU6SXNzdWUxNDQyNzc0MDI=", "number": 182, "title": "Unzipped egg support - setuptools fails to install from a local folder it itself prepared", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-02T13:10:50Z", "updated_at": "2022-01-04T18:06:59Z", "closed_at": "2022-01-04T18:06:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nWhen setuptools is asked to 'download a package into a local folder', e.g. using\n\n```\n#!cmd\npython -m easy_install --zip-ok --multi-version --always-copy --exclude-scripts --install-dir local_folder\n```\n\nit does the following:\n1. If the package is not already installed, it downloads the package distribution, prepares a zipped egg distribution from it and stores that in the download folder.\n2. If the package is already installed, it simply copies the installed egg into the download folder, which may result in the download folder containing an unzipped egg folder.\n\nIn the first case, you can run `easy_install` using the `-f` command-line option to make setuptools install the downloaded package from the download folder without additional downloads from the net. (N.B. The folder must be specified as a local file URL similar to `file:///local_folder/`, including the trailing slash character.)\n\nHowever, in the second case, setuptools will not recognize the downloaded unzipped egg folder and will complain that the requested package can not be found there.\n\nThis can be worked around by manually zipping the unzipped egg folder (under the same name), but it seems wrong that setuptools would construct a download folder it can not later use as an installation source.\n\nHope this helps.\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/182\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/181", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/181/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/181/events", "html_url": "https://github.com/pypa/setuptools/issues/181", "id": 144277384, "node_id": "MDU6SXNzdWUxNDQyNzczODQ=", "number": 181, "title": "py.test doesn't run all tests", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-30T16:13:23Z", "updated_at": "2016-03-29T14:14:48Z", "closed_at": "2016-03-29T14:14:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nThe setuptools test suite will be using py.test as a runner, but currently, it appears as if pytest doesn't run all of the tests.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/181\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/180", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/180/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/180/events", "html_url": "https://github.com/pypa/setuptools/issues/180", "id": 144277373, "node_id": "MDU6SXNzdWUxNDQyNzczNzM=", "number": 180, "title": "3.4 release fails tests", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-03-30T13:34:35Z", "updated_at": "2016-03-29T14:14:46Z", "closed_at": "2016-03-29T14:14:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nThe first problem I encountered is:\n\n`python setup.py test` just fails before running any tests. Commit related: https://bitbucket.org/pypa/setuptools/commits/affa32a2d30a1b1c0c29983aa21f4f48312b7edc\n\nTraceback:\n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 217, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/usr/lib/python3.4/distutils/core.py\", line 149, in setup\n    dist.run_commands()\n  File \"/usr/lib/python3.4/distutils/dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python3.4/distutils/dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 68, in run\n    _test.run(self)\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 139, in run\n    self.with_project_on_sys_path(self.run_tests)\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 120, in with_project_on_sys_path\n    func()\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 161, in run_tests\n    runner_ep = EntryPoint.parse(\"x=\" + self.test_runner)\nTypeError: Can't convert 'NoneType' object to str implicitly\n```\n\nAfter digging up a little bit, I tried out `-r \"unittest:TextTestRunner\"` as a workaround. (So I suggest this becomes a default value)\n\nA second problem is: 2 tests fail:\n\n```\n======================================================================\nERROR: test_setup_requires (setuptools.tests.test_easy_install.TestUserInstallTest)\nRegression test for Distribute issue #318\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/tests/test_easy_install.py\", line 242, in test_setup_requires\n    run_setup(test_setup_py, ['install'])\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/sandbox.py\", line 50, in run_setup\n    lambda: execfile(\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/sandbox.py\", line 100, in run\n    return func()\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/sandbox.py\", line 52, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"setup.py\", line 2, in <module>\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/install.py\", line 57, in run\n    if not self._called_from_setup(inspect.currentframe()):\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/install.py\", line 81, in _called_from_setup\n    res = inspect.getouterframes(run_frame)[2]\n  File \"/usr/lib/python2.7/inspect.py\", line 1033, in getouterframes\n    framelist.append((frame,) + getframeinfo(frame, context))\n  File \"/usr/lib/python2.7/inspect.py\", line 1008, in getframeinfo\n    lines, lnum = findsource(frame)\n  File \"/usr/lib/python2.7/inspect.py\", line 580, in findsource\n    if pat.match(lines[lnum]): break\nIndexError: list index out of range\n\n======================================================================\nERROR: test_test (setuptools.tests.test_test.TestTestTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/tests/test_test.py\", line 121, in test_test\n    cmd.run()\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 139, in run\n    self.with_project_on_sys_path(self.run_tests)\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 120, in with_project_on_sys_path\n    func()\n  File \"/build/python-setuptools/src/setuptools-3.4/setuptools/command/test.py\", line 161, in run_tests\n    runner_ep = EntryPoint.parse(\"x=\" + self.test_runner)\nTypeError: cannot concatenate 'str' and 'NoneType' objects\n\n----------------------------------------------------------------------\nRan 131 tests in 1.090s\n\nFAILED (errors=2, skipped=7)\n```\n\nPython 2.7 and 3.4 fail on the same tests with same traceback. The second test (for test itself) indicates the first problem I mentioned above, and I've no idea about the other...\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/180\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/179", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/179/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/179/events", "html_url": "https://github.com/pypa/setuptools/issues/179", "id": 144277362, "node_id": "MDU6SXNzdWUxNDQyNzczNjI=", "number": 179, "title": "python2.7 easy-install.pth contains lib_pypy", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 3141193324, "node_id": "MDU6TGFiZWwzMTQxMTkzMzI0", "url": "https://api.github.com/repos/pypa/setuptools/labels/obsolete", "name": "obsolete", "color": "16272F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-29T21:00:43Z", "updated_at": "2022-01-04T17:49:13Z", "closed_at": "2022-01-04T17:48:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **keturn (Bitbucket: [keturn](http://bitbucket.org/keturn), GitHub: [keturn](http://github.com/keturn))**\n\n---\n\nI installed PIP with pypy, and the file $HOME/.local/lib/python2.7/site-packages/easy-install.pth ended up with \"/usr/lib/pypy/lib_pypy\" in it.\n\nThat pretty well broke cpython 2.7 when it tried to load things from lib_pypy instead of cpython paths.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/179\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/177", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/177/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/177/events", "html_url": "https://github.com/pypa/setuptools/issues/177", "id": 144277346, "node_id": "MDU6SXNzdWUxNDQyNzczNDY=", "number": 177, "title": "IronPython fails with obsure error message.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-26T18:51:38Z", "updated_at": "2016-03-29T14:14:38Z", "closed_at": "2016-03-29T14:14:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **vernondcole (Bitbucket: [vernondcole](http://bitbucket.org/vernondcole), GitHub: [vernondcole](http://github.com/vernondcole))**\n\n---\n\nI have been under the false impression that setuptools could not be used with IronPython -- which caused me no small problem when trying to configure more complex systems.\nToday, I learned that by simply appending a command line switch, IronPython will play happily with the current version.\n\nI suggest trapping the error with a friendly exception message making that fact known to affected users.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/177\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/172", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/172/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/172/events", "html_url": "https://github.com/pypa/setuptools/issues/172", "id": 144277262, "node_id": "MDU6SXNzdWUxNDQyNzcyNjI=", "number": 172, "title": "ez_setup.py using raw 'except:' clauses", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-23T16:13:28Z", "updated_at": "2016-03-29T14:14:21Z", "closed_at": "2016-03-29T14:14:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nsetuptools project's ez_setup.py script uses raw `except:` clauses in three locations when detecting available download methods. They should be changed to `except Exception:`.\n\nThis fixes a slight problem with that exception handling silently gobbling up raised KeyboardInterrupt exceptions due to user pressing `Ctrl` + `C`. In such cases it would simply move on to testing the next download method instead of exiting the whole script.\n\nHope this helps.\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/172\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/171", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/171/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/171/events", "html_url": "https://github.com/pypa/setuptools/issues/171", "id": 144277246, "node_id": "MDU6SXNzdWUxNDQyNzcyNDY=", "number": 171, "title": "setuptools documentation referencing 'Distribute' instead of 'setuptools'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-23T10:50:20Z", "updated_at": "2016-03-29T14:14:18Z", "closed_at": "2016-03-29T14:14:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nIn [the current setuptools docs](https://pythonhosted.org/setuptools/setuptools.html#extending-and-reusing-distribute) you refer to the project name as `Distribute` in one of the section titles.\n\nShould that be changed to `setuptools` instead?\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/171\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/170", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/170/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/170/events", "html_url": "https://github.com/pypa/setuptools/issues/170", "id": 144277223, "node_id": "MDU6SXNzdWUxNDQyNzcyMjM=", "number": 170, "title": "with dependency link to an hg repo, install fails to switch to correct revision (windows)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-03-22T04:25:36Z", "updated_at": "2017-09-13T19:41:41Z", "closed_at": "2017-09-13T19:41:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ccanepa (Bitbucket: [ccanepa](http://bitbucket.org/ccanepa), GitHub: [ccanepa](http://github.com/ccanepa))**\n\n---\n\nWhile testing the build for a new release of library cocos, http://code.google.com/p/los-cocos/ , I found a problem with a dependency, the pyglet library , http://code.google.com/p/pyglet/ .\n\nWith dependency link to hg repo, install fails to switch to correct revision.\n\nIt clones the repo, the dependency gets installed, but it is at the tip revision, not the one specified.\n\nI think the relevant part of 'setup.py install' output is\n\n```\n#!\n\n        Doing hg clone from https://code.google.com/p/pyglet to c:\\docume~1\\jugar\\config\n        ~1\\temp\\easy_install-icuiyz\\pyglet@82693a20ece0\n        Updating to 82693a20ece0\n        No se esperaba >& en este momento.\n        Processing pyglet@82693a20ece0  \n\n```\n\n'Updating to 82693a20ece0' seems to be emitted by setuptools before calling hg to do an hg update, ( yes, in setuptools.package_index.PackageIndex._download_hg , line 855 )\n\nThe line 'No se esperaba >& en este momento.' is comming from the OS, the meaning being 'unexpected >&'\n\nIn line 856 theres\n\n```\n#!python\n\n os.system(\"(cd %s && hg up -C -r %s >&-)\" % (\n```\n\nTesting in a console standing in a pyglet's checkout I see\n\n```\n#!shell\n\nhg up -C -r 82693a20ece0\n```\n\nworks fine\nwhereas\n\n```\n#!shell\n\n    D:\\hg_externals\\pyglet_dev>hg up -C -r 82693a20ece0 >&-\n    No se esperaba >& en este momento.\n\n```\n\nSo, the redirection in that os.system call is not working in Windows.\n\nWhat is that ? >dev/null ?  That would be >nul in classic Window, and $null in Windows's Powershell.\n\nWould it be acceptable to replace the redirect with a '-q' (quiet) ?\nThat is, the line \n\n```\n#!python\n\n           os.system(\"(cd %s && hg up -C -r %s >&-)\" % (\n\n```\n\nchanges to\n\n```\n#!python\n\n            os.system(\"(cd %s && hg up -C -r %s -q)\" % (\n\n```\n\nDetails:\nRunning on windows xp\ncocos package distribution built (from an export of revision r1357) both with py 2.6 and 3.3, both with setuptools 3.3; looks good.\n\nThe failure was observed when installed into a python 2.7 + setuptools 3.3\n\nhg version is 2.9.1\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/170\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/169", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/169/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/169/events", "html_url": "https://github.com/pypa/setuptools/issues/169", "id": 144277209, "node_id": "MDU6SXNzdWUxNDQyNzcyMDk=", "number": 169, "title": "easy_install does not handle -f option correctly with paths containing spaces", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-21T20:22:15Z", "updated_at": "2022-01-04T17:46:13Z", "closed_at": "2022-01-04T17:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nRunning `easy_install` using its `-f` option and passing it a folder path containing spaces as in:\n\n```\n#!text\neasy_install -f \"C:\\I am a\\path containing\\spaces\" pip\n```\n\ndoes not seem to work. `easy_install` seems to interpret the given string as a space separated sequence of paths.\n\nUsing such paths in other locations, e.g. in `--install-dir` or `--download-cache` arguments works fine.\n\nThis has been tested using:\n- Windows 7 SP1 x64\n- CPython `2.4.3`, `2.4.4`, `2.5.4`, `2.6.6`, `2.7.6`, `3.1.3`, `3.2.5`, `3.3.3`, `3.3.5` & `3.4.0` (both 32 & 64-bit versions).\n- setuptools `1.4`, `1.4.2`, `3.1`, `3.3`\n\nHope this helps.\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/169\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/168", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/168/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/168/events", "html_url": "https://github.com/pypa/setuptools/issues/168", "id": 144277157, "node_id": "MDU6SXNzdWUxNDQyNzcxNTc=", "number": 168, "title": "ez_setup.py failing sporadically when setuptools is already installed", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 41, "created_at": "2014-03-21T17:55:45Z", "updated_at": "2016-03-29T14:14:07Z", "closed_at": "2016-03-29T14:13:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nWhen you run `ez_setup.py` to install setuptools into a Python environment where setuptools are not already installed - everything works great. But if you do that, and then rerun `ez_setup.py`, you sometimes (ranging from occasionally to almost always, depending on the exact Python & setuptools version used) get an ugly `ZipImportError` about the setuptools zipped egg file having a bad local header.\n\nI encountered & tested this on Windows 7 SP1 x64 with different clean CPython installations and different setuptools versions.\n\nHere are some of the collected test results:\n\n```\n#!text\nCPython 2.6 (x86)\n  - setuptools 3.0, 3.1, 3.2, 3.3\n      - fails sporadically - sometimes often, sometimes rarely\n  - setuptools 2.2 - works every time\n\nCPython 3.3 (both x86 & x64)\n  - setuptools 3.0, 3.1, 3.2, 3.3, 2.2, 2.1, 2.0, 1.4.2\n      - very rarely works\n```\n\nHere's a Windows batch script I used to test this behaviour:\n\n```\n#!cmd\n@setlocal\n\n@set LIMIT=%~1\n@if not defined LIMIT goto :param_processing_done\n@set /A LIMIT=%LIMIT%\n@if %LIMIT% LEQ 0 set LIMIT=\n:param_processing_done\n\n@set TOTAL=0\n@set SUCCESS=0\n:here_we_go_again\n@set /A TOTAL=%TOTAL% + 1\n@call :install && set /A SUCCESS=%SUCCESS% + 1\n@set ERROR=%ERRORLEVEL%\n@echo Success rate: %SUCCESS%/%TOTAL%\n@if not defined LIMIT goto :here_we_go_again\n@if %TOTAL% LSS %LIMIT% goto :here_we_go_again\n@exit /b %ERROR%\n\n:install\n    ::call py266 ez_setup.py\n    ::call py266_x86 ez_setup.py\n    call py340 ez_setup.py\n    ::call py340_x86 ez_setup_2.2.py\n    @exit /b\n```\n\nHere are some captured console outputs containing the actual displayed exception tracebacks.\n\n**CPython 2.6.6 x86 / setuptools 3.3**\n\n```\n#!text\nCopying setuptools-3.3-py2.6.egg to c:\\program files (x86)\\python\\python266\\lib\\site-packages\nsetuptools 3.3 is already the active version in easy-install.pth\nInstalling easy_install-script.py script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\nInstalling easy_install.exe script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\nInstalling easy_install.exe.manifest script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\nInstalling easy_install-2.6-script.py script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\nInstalling easy_install-2.6.exe script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\nInstalling easy_install-2.6.exe.manifest script to C:\\Program Files (x86)\\Python\\Python266\\Scripts\n\nInstalled c:\\program files (x86)\\python\\python266\\lib\\site-packages\\setuptools-3.3-py2.6.egg\nProcessing dependencies for setuptools==3.3\nTraceback (most recent call last):\n  File \"setup.py\", line 203, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"C:\\Program Files (x86)\\Python\\Python266\\lib\\distutils\\core.py\", line 152, in setup\n    dist.run_commands()\n  File \"C:\\Program Files (x86)\\Python\\Python266\\lib\\distutils\\dist.py\", line 975, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Program Files (x86)\\Python\\Python266\\lib\\distutils\\dist.py\", line 995, in run_command\n    cmd_obj.run()\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\install.py\", line 73, in run\n    self.do_egg_install()\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\install.py\", line 96, in do_egg_install\n    cmd.run()\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 358, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 574, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 625, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 671, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 633, in resolve\n    requirements.extend(dist.requires(req.extras)[::-1])\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 2291, in requires\n    dm = self._dep_map\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 2277, in _dep_map\n    for extra,reqs in split_sections(self._get_metadata(name)):\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 2715, in split_sections\n    for line in yield_lines(s):\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 1989, in yield_lines\n    for ss in strs:\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 2305, in _get_metadata\n    for line in self.get_metadata_lines(name):\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 1369, in get_metadata_lines\n    return yield_lines(self.get_metadata(name))\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 1361, in get_metadata\n    return self._get(self._fn(self.egg_info,name))\n  File \"c:\\users\\jurko\\appdata\\local\\temp\\tmp_xhasz\\setuptools-3.3\\pkg_resources.py\", line 1425, in _get\n    return self.loader.get_data(path)\nzipimport.ZipImportError: bad local file header in c:\\program files (x86)\\python\\python266\\lib\\site-packages\\setuptools-3.3-py2.6.egg\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n**CPython 3.4 x86 / setuptools 2.0**\n\n```\n#!text\nCopying setuptools-2.0-py3.4.egg to c:\\program files (x86)\\python\\python340\\lib\\site-packages\nsetuptools 2.0 is already the active version in easy-install.pth\nInstalling easy_install-script.py script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\nInstalling easy_install.exe script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\nInstalling easy_install.exe.manifest script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\nInstalling easy_install-3.4-script.py script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\nInstalling easy_install-3.4.exe script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\nInstalling easy_install-3.4.exe.manifest script to C:\\Program Files (x86)\\Python\\Python340\\Scripts\n\nInstalled c:\\program files (x86)\\python\\python340\\lib\\site-packages\\setuptools-2.0-py3.4.egg\nProcessing dependencies for setuptools==2.0\nTraceback (most recent call last):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2221, in _dep_map\n    return self.__dep_map\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2291, in __getattr__\n    raise AttributeError(attr)\nAttributeError: _Distribution__dep_map\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"setup.py\", line 200, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"C:\\Program Files (x86)\\Python\\Python340\\lib\\distutils\\core.py\", line 149, in setup\n    dist.run_commands()\n  File \"C:\\Program Files (x86)\\Python\\Python340\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Program Files (x86)\\Python\\Python340\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\install.py\", line 73, in run\n    self.do_egg_install()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\install.py\", line 101, in do_egg_install\n    cmd.run()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\easy_install.py\", line 358, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\easy_install.py\", line 574, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\easy_install.py\", line 625, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\setuptools\\command\\easy_install.py\", line 671, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 572, in resolve\n    requirements.extend(dist.requires(req.extras)[::-1])\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2240, in requires\n    dm = self._dep_map\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2225, in _dep_map\n    for extra,reqs in split_sections(self._get_metadata(name)):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2666, in split_sections\n    for line in yield_lines(s):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 1926, in yield_lines\n    for ss in strs:\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 2254, in _get_metadata\n    for line in self.get_metadata_lines(name):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 1316, in get_metadata_lines\n    return yield_lines(self.get_metadata(name))\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 1313, in get_metadata\n    return self._get(self._fn(self.egg_info,name)).decode(\"utf-8\")\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmp77hrjll5\\setuptools-2.0\\pkg_resources.py\", line 1372, in _get\n    return self.loader.get_data(path)\nzipimport.ZipImportError: bad local file header in c:\\program files (x86)\\python\\python340\\lib\\site-packages\\setuptools-2.0-py3.4.egg\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n**CPython 3.4 x64 / setuptools 3.3**\n\n```\n#!text\nCopying setuptools-3.3-py3.4.egg to c:\\program files\\python\\python340\\lib\\site-packages\nsetuptools 3.3 is already the active version in easy-install.pth\nInstalling easy_install-3.4-script.py script to C:\\Program Files\\Python\\Python340\\Scripts\nInstalling easy_install-3.4.exe script to C:\\Program Files\\Python\\Python340\\Scripts\nInstalling easy_install-script.py script to C:\\Program Files\\Python\\Python340\\Scripts\nInstalling easy_install.exe script to C:\\Program Files\\Python\\Python340\\Scripts\n\nInstalled c:\\program files\\python\\python340\\lib\\site-packages\\setuptools-3.3-py3.4.egg\nProcessing dependencies for setuptools==3.3\nTraceback (most recent call last):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2273, in _dep_map\n    return self.__dep_map\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2344, in __getattr__\n    raise AttributeError(attr)\nAttributeError: _Distribution__dep_map\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"setup.py\", line 203, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"C:\\Program Files\\Python\\Python340\\lib\\distutils\\core.py\", line 149, in setup\n    dist.run_commands()\n  File \"C:\\Program Files\\Python\\Python340\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Program Files\\Python\\Python340\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\install.py\", line 73, in run\n    self.do_egg_install()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\install.py\", line 96, in do_egg_install\n    cmd.run()\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 358, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 574, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 625, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\setuptools\\command\\easy_install.py\", line 671, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 633, in resolve\n    requirements.extend(dist.requires(req.extras)[::-1])\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2291, in requires\n    dm = self._dep_map\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2277, in _dep_map\n    for extra,reqs in split_sections(self._get_metadata(name)):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2715, in split_sections\n    for line in yield_lines(s):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 1989, in yield_lines\n    for ss in strs:\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 2305, in _get_metadata\n    for line in self.get_metadata_lines(name):\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 1369, in get_metadata_lines\n    return yield_lines(self.get_metadata(name))\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 1366, in get_metadata\n    return self._get(self._fn(self.egg_info,name)).decode(\"utf-8\")\n  File \"C:\\Users\\Jurko\\AppData\\Local\\Temp\\tmphxzo4q_i\\setuptools-3.3\\pkg_resources.py\", line 1425, in _get\n    return self.loader.get_data(path)\nzipimport.ZipImportError: bad local file header in c:\\program files\\python\\python340\\lib\\site-packages\\setuptools-3.3-py3.4.egg\nSomething went wrong during the installation.\nSee the error message above.\n```\n\nHope this helps.\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/168\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/167", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/167/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/167/events", "html_url": "https://github.com/pypa/setuptools/issues/167", "id": 144277141, "node_id": "MDU6SXNzdWUxNDQyNzcxNDE=", "number": 167, "title": "Package Compatibility Notes link leads to 404", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-03-21T15:27:05Z", "updated_at": "2016-03-29T14:13:56Z", "closed_at": "2016-03-29T14:13:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jerdfelt (Bitbucket: [jerdfelt](http://bitbucket.org/jerdfelt), GitHub: [jerdfelt](http://github.com/jerdfelt))**\n\n---\n\nThe README.txt has a link to 'Package Compatibility Notes':\n\nhttps://pythonhosted.org/setuptools/PackageNotes\n\nFetching this URL results in a 404 response.\n\nIt's not clear if there is a problem with that link on pythonhosted.org or if it should just be dropped from the README.txt\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/167\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/166", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/166/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/166/events", "html_url": "https://github.com/pypa/setuptools/issues/166", "id": 144277126, "node_id": "MDU6SXNzdWUxNDQyNzcxMjY=", "number": 166, "title": "can't use ez_setup.py in Windows7 and python27", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-14T06:03:27Z", "updated_at": "2016-03-29T14:13:53Z", "closed_at": "2016-03-29T14:13:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n## below is error:\n\n```\nD:\\Python27>ez_setup.py\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-3.1.\nzip\nExtracting in c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\nNow working in c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\\setuptools-3.1\nInstalling Setuptools\nTraceback (most recent call last):\n  File \"setup.py\", line 18, in <module>\n    exec(init_file.read(), command_ns)\n  File \"<string>\", line 8, in <module>\n  File \"c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\\setuptools-3.1\\setuptools\n\\__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\\setuptools-3.1\\setuptools\n\\extension.py\", line 5, in <module>\n    from setuptools.dist import _get_unpatched\n  File \"c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\\setuptools-3.1\\setuptools\n\\dist.py\", line 15, in <module>\n    from setuptools.compat import numeric_types, basestring\n  File \"c:\\users\\admini~1\\appdata\\local\\temp\\tmprxof4n\\setuptools-3.1\\setuptools\n\\compat.py\", line 19, in <module>\n    from SimpleHTTPServer import SimpleHTTPRequestHandler\n  File \"D:\\Python27\\lib\\SimpleHTTPServer.py\", line 27, in <module>\n    class SimpleHTTPRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):\n  File \"D:\\Python27\\lib\\SimpleHTTPServer.py\", line 208, in SimpleHTTPRequestHand\nler\n    mimetypes.init() # try to read system mime.types\n  File \"D:\\Python27\\lib\\mimetypes.py\", line 358, in init\n    db.read_windows_registry()\n  File \"D:\\Python27\\lib\\mimetypes.py\", line 258, in read_windows_registry\n    for subkeyname in enum_types(hkcr):\n  File \"D:\\Python27\\lib\\mimetypes.py\", line 249, in enum_types\n    ctype = ctype.encode(default_encoding) # omit in 3.x!\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb0 in position 1: ordinal\nnot in range(128)\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n---\n\nmaybe use python 3.x  function...\npls fix it..\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/166\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/164", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/164/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/164/events", "html_url": "https://github.com/pypa/setuptools/issues/164", "id": 144277089, "node_id": "MDU6SXNzdWUxNDQyNzcwODk=", "number": 164, "title": "Update dependency on wincertstore", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-11T02:02:34Z", "updated_at": "2016-03-29T14:13:46Z", "closed_at": "2016-03-29T14:13:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **arfrever (Bitbucket: [arfrever](http://bitbucket.org/arfrever), GitHub: [arfrever](http://github.com/arfrever))**\n\n---\n\nSetuptools[ssl:sys_platform=='win32'] currently depends on wincertstore 0.1.\nwincertstore 0.2 is available and contains a security fix.\nDependency in Setuptools probably should be updated.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/164\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/158", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/158/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/158/events", "html_url": "https://github.com/pypa/setuptools/issues/158", "id": 144276998, "node_id": "MDU6SXNzdWUxNDQyNzY5OTg=", "number": 158, "title": "ez_setup: 'module' object has no attribute 'Zipfile'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-03-06T12:43:14Z", "updated_at": "2016-03-29T14:13:30Z", "closed_at": "2016-03-29T14:13:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **kraiz (Bitbucket: [kraiz](http://bitbucket.org/kraiz), GitHub: [kraiz](http://github.com/kraiz))**\n\n---\n\n```\n#!bash\ncurl https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py | python\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n100 10152  100 10152    0     0  20045      0 --:--:-- --:--:-- --:--:-- 25380\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-3.0.1.zip\nExtracting in /tmp/tmpMTh9yh\nTraceback (most recent call last):\n  File \"<pyrun>/pyrun2.7.py\", line 758, in <module>\n  File \"<pyrun>/pyrun2.7.py\", line 658, in pyrun_execute_script\n  File \"<stdin>\", line 325, in <module>\n  File \"<stdin>\", line 322, in main\n  File \"<stdin>\", line 46, in _install\n  File \"<pyrun>/contextlib.py\", line 17, in __enter__\n  File \"<stdin>\", line 88, in archive_context\n  File \"<stdin>\", line 76, in get_zip_class\nAttributeError: 'module' object has no attribute 'Zipfile'\n```\n\nThere seems to be a typo in line 76 of ez_setup.py where \"return zipfile.Zipfile\" should be \"return zipfile.ZipFile\".\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/158\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/157", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/157/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/157/events", "html_url": "https://github.com/pypa/setuptools/issues/157", "id": 144276977, "node_id": "MDU6SXNzdWUxNDQyNzY5Nzc=", "number": 157, "title": "An error appears if you run ez_setup.py from command line", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-03-06T10:55:50Z", "updated_at": "2016-03-29T14:13:26Z", "closed_at": "2016-03-29T14:13:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **talantr (Bitbucket: [talantr](http://bitbucket.org/talantr), GitHub: [talantr](http://github.com/talantr))**\n\n---\n\nOS: CentOS 6.5/Debian 6.0.7;\nPython: 2.6.6;\nSetuptools 3.x;\n\n**Steps to reproduce:**\n\n Run the command from command line: \n\n```\n    curl -s https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py | sudo python\n```\n\n**Actual result:**\n\nThe console output:\n\n```\n    Downloading https://pypi.python.org/packages/source/s/setuptools/setuptools-3.0.zip\n    Extracting in /tmp/tmpAKOE46\n\n    Traceback (most recent call last):\n      File \"<stdin>\", line 312, in <module>\n      File \"<stdin>\", line 309, in main\n      File \"<stdin>\", line 46, in _install\n      File \"/usr/lib64/python2.6/contextlib.py\", line 16, in __enter__\n        return self.gen.next()\n      File \"<stdin>\", line 75, in archive_context\n    AttributeError: ZipFile instance has no attribute '__exit__'\n```\n\nThe package has not been installed.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/157\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/156", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/156/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/156/events", "html_url": "https://github.com/pypa/setuptools/issues/156", "id": 144276968, "node_id": "MDU6SXNzdWUxNDQyNzY5Njg=", "number": 156, "title": "Spelling of __VENV_LAUNCHER__", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-04T13:12:09Z", "updated_at": "2016-03-29T14:13:23Z", "closed_at": "2016-03-29T14:13:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **vinay.sajip (Bitbucket: [vinay.sajip](http://bitbucket.org/vinay.sajip), GitHub: Unknown)**\n\n---\n\nI just fixed an issue in `distlib` where the environment variable `__PYVENV_LAUNCHER__` was misspelt as `__VENV_LAUNCHER__`. I believe this might need changing here, too - otherwise the stub launcher won't be correctly identified on OS X Framework builds.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/156\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/153", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/153/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/153/events", "html_url": "https://github.com/pypa/setuptools/issues/153", "id": 144276907, "node_id": "MDU6SXNzdWUxNDQyNzY5MDc=", "number": 153, "title": "AttributeError: 'set' object has no attribute 'get' when passing package_dir argument to setup()", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-02-19T15:32:20Z", "updated_at": "2016-03-29T14:13:11Z", "closed_at": "2016-03-29T14:13:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Piotr_Dobrogost (Bitbucket: [Piotr_Dobrogost](http://bitbucket.org/Piotr_Dobrogost), GitHub: Unknown)**\n\n---\n\n```\npdobrogost@igo-www-dev:~/tmp/x$ which python && python --version && which easy_install && easy_install --version\n/opt/python/2.7/bin/python\nPython 2.7.6\n/opt/python/2.7/bin/easy_install\nsetuptools 2.1\npdobrogost@igo-www-dev:~/tmp/x$ ls\npackageX  setup.py\npdobrogost@igo-www-dev:~/tmp/x$ ls packageX/\n__init__.py  test.txt\npdobrogost@igo-www-dev:~/tmp/x$ cat setup.py\nfrom setuptools import setup\n\nsetup(\n    name=\"packageX\",\n    version='1.0',\n    package_dir = {'', 'packageX'},\n    package_data = {\n        '': ['*.txt'],\n    },\n    zip_safe=False,\n)\npdobrogost@igo-www-dev:~/tmp/x$ python setup.py bdist_egg\nrunning bdist_egg\nTraceback (most recent call last):\n  File \"setup.py\", line 10, in <module>\n    zip_safe=False,\n  File \"/opt/python/2.7/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/opt/python/2.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/opt/python/2.7/lib/python2.7/distutils/dist.py\", line 971, in run_command\n    cmd_obj.ensure_finalized()\n  File \"/opt/python/2.7/lib/python2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 104, in finalize_options\n  File \"/opt/python/2.7/lib/python2.7/distutils/cmd.py\", line 312, in get_finalized_command\n    cmd_obj.ensure_finalized()\n  File \"/opt/python/2.7/lib/python2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/egg_info.py\", line 80, in finalize_options\nAttributeError: 'set' object has no attribute 'get'\npdobrogost@igo-www-dev:~/tmp/x$\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/153\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/152", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/152/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/152/events", "html_url": "https://github.com/pypa/setuptools/issues/152", "id": 144276890, "node_id": "MDU6SXNzdWUxNDQyNzY4OTA=", "number": 152, "title": "SetupTools looks at the wrong URL for version 3.0/3.0b1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-17T17:05:00Z", "updated_at": "2016-03-29T14:13:06Z", "closed_at": "2016-03-29T14:13:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **SubConcussive (Bitbucket: [SubConcussive](http://bitbucket.org/SubConcussive), GitHub: [SubConcussive](http://github.com/SubConcussive))**\n\n---\n\nThe ez_setup.py for 3.0b1 looks at _https://pypi.python.org/packages/source/s/setuptools/_\n for its install packages. \nThat url doesn't include 3.0 or 3.0b1 and doesn't have anything over 0.6c1 in .zip format, which is what ez_setup.py is currently configured to use and look for.\n\nI got it to work by changing the URL to point at a local file and by swapping out the tarfile library in place of the zipfile library.\n\nOther than the above two issues, which were easily resolved, there's a third issue. On Windows and some Linux distributions wget doesn't natively support SSL/TLS (aka HTTPS) which is what both pypi and bitbucket use when downloading files.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/152\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/148", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/148/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/148/events", "html_url": "https://github.com/pypa/setuptools/issues/148", "id": 144276832, "node_id": "MDU6SXNzdWUxNDQyNzY4MzI=", "number": 148, "title": "easy_install (via bdist_egg) adds __init__.py to PEP 420 namespace packages", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-02-10T00:16:48Z", "updated_at": "2016-03-29T14:12:56Z", "closed_at": "2016-03-29T14:12:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **wyatt (Bitbucket: [wyatt](http://bitbucket.org/wyatt), GitHub: [wyatt](http://github.com/wyatt))**\n\n---\n\nhttps://bitbucket.org/pypa/setuptools/src/13a839bd8ad27a17543878068b996991357264d2/setuptools/command/bdist_egg.py?at=default#cl-273\n\nThis makes other packages in the namespace unimportable.\n\nProposed solutions:\n- Don't add a missing `__init__.py` under any circumstances\n- Or, if that's not feasible, don't add an `__init__.py` on Python 3.3+\n\nIt seems to me that the installer shouldn't be adding files to an installed package in any case. Is there a reason it does this?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/148\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/147", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/147/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/147/events", "html_url": "https://github.com/pypa/setuptools/issues/147", "id": 144276819, "node_id": "MDU6SXNzdWUxNDQyNzY4MTk=", "number": 147, "title": "ez_setup.py error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-08T02:55:37Z", "updated_at": "2016-03-29T14:12:53Z", "closed_at": "2016-03-29T14:12:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **captals (Bitbucket: [captals](http://bitbucket.org/captals), GitHub: [captals](http://github.com/captals))**\n\n---\n\n```\nC:\\Python27>ez_setup.py\nExtracting in c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\nNow working in c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\nInstalling Setuptools\nTraceback (most recent call last):\n  File \"setup.py\", line 18, in <module>\n    exec(init_file.read(), command_ns)\n  File \"<string>\", line 8, in <module>\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\n__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\nextension.py\", line 5, in <module>\n    from setuptools.dist import _get_unpatched\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\ndist.py\", line 15, in <module>\n    from setuptools.compat import numeric_types, basestring\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\ncompat.py\", line 19, in <module>\n    from SimpleHTTPServer import SimpleHTTPRequestHandler\n  File \"C:\\Python27\\lib\\SimpleHTTPServer.py\", line 27, in <module>\n    class SimpleHTTPRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):\n  File \"C:\\Python27\\lib\\SimpleHTTPServer.py\", line 208, in SimpleHTTPRequestHand\nler\n    mimetypes.init() # try to read system mime.types\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 358, in init\n    db.read_windows_registry()\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 258, in read_windows_registry\n    for subkeyname in enum_types(hkcr):\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 249, in enum_types\n    ctype = ctype.encode(default_encoding) # omit in 3.x!\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb0 in position 1: ordinal\nnot in range(128)\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/147\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/147/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/146", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/146/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/146/events", "html_url": "https://github.com/pypa/setuptools/issues/146", "id": 144276802, "node_id": "MDU6SXNzdWUxNDQyNzY4MDI=", "number": 146, "title": "ez_setup.py error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-08T02:51:06Z", "updated_at": "2016-03-29T14:12:50Z", "closed_at": "2016-03-29T14:12:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\n```\nC:\\Python27>ez_setup.py\nExtracting in c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\nNow working in c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\nInstalling Setuptools\nTraceback (most recent call last):\n  File \"setup.py\", line 18, in <module>\n    exec(init_file.read(), command_ns)\n  File \"<string>\", line 8, in <module>\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\n__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\nextension.py\", line 5, in <module>\n    from setuptools.dist import _get_unpatched\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\ndist.py\", line 15, in <module>\n    from setuptools.compat import numeric_types, basestring\n  File \"c:\\users\\captals\\appdata\\local\\temp\\tmp82pvks\\setuptools-2.2\\setuptools\\\ncompat.py\", line 19, in <module>\n    from SimpleHTTPServer import SimpleHTTPRequestHandler\n  File \"C:\\Python27\\lib\\SimpleHTTPServer.py\", line 27, in <module>\n    class SimpleHTTPRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):\n  File \"C:\\Python27\\lib\\SimpleHTTPServer.py\", line 208, in SimpleHTTPRequestHand\nler\n    mimetypes.init() # try to read system mime.types\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 358, in init\n    db.read_windows_registry()\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 258, in read_windows_registry\n    for subkeyname in enum_types(hkcr):\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 249, in enum_types\n    ctype = ctype.encode(default_encoding) # omit in 3.x!\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb0 in position 1: ordinal\nnot in range(128)\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/146\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/145", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/145/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/145/events", "html_url": "https://github.com/pypa/setuptools/issues/145", "id": 144276787, "node_id": "MDU6SXNzdWUxNDQyNzY3ODc=", "number": 145, "title": "no wheels for last 2 releases?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-02-06T06:39:17Z", "updated_at": "2016-03-29T14:12:48Z", "closed_at": "2016-03-29T14:12:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **qwcode (Bitbucket: [qwcode](http://bitbucket.org/qwcode), GitHub: [qwcode](http://github.com/qwcode))**\n\n---\n\nthe last 2 micro releases don't have wheels.\nget-pip.py is now assuming setuptools wheels are available, and fails otherwise.\nmaybe it shouldn't be that fragile, but is there a reason no wheels for the last 2 releases?\n\nthe pip issue: https://github.com/pypa/pip/issues/1533\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/145\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/144", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/144/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/144/events", "html_url": "https://github.com/pypa/setuptools/issues/144", "id": 144276767, "node_id": "MDU6SXNzdWUxNDQyNzY3Njc=", "number": 144, "title": "Installation failed to run on python 3.x when command line encoding is not utf8 and readme_file contains non-ASCII characters", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-06T02:32:57Z", "updated_at": "2016-03-29T14:12:46Z", "closed_at": "2016-03-29T14:12:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **felixonmars (Bitbucket: [felixonmars](http://bitbucket.org/felixonmars), GitHub: [felixonmars](http://github.com/felixonmars))**\n\n---\n\nreadme_file.read() will try to use 'ascii' to decode, and thus failed. For example, set LANG=C and get this:\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"setup.py\", line 93, in <module>\n    long_description = readme_file.read() + '\\n' + changes_file.read()\n  File \"/usr/lib/python3.3/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 7330: ordinal not in range(128)\n```\n\nI filed a patch for the same problem to python-Levenshtein, hope it helps:\nhttps://github.com/ztane/python-Levenshtein/pull/2\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/144\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/143", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/143/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/143/events", "html_url": "https://github.com/pypa/setuptools/issues/143", "id": 144276738, "node_id": "MDU6SXNzdWUxNDQyNzY3Mzg=", "number": 143, "title": "Release fails when there are non-ASCII characters in the README", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-06T00:25:27Z", "updated_at": "2016-03-29T14:12:42Z", "closed_at": "2016-03-29T14:12:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nI recently added a non-ASCII character to the readme. Now when the release script runs, it outputs this traceback in the bdist_wheel step:\n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 200, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"c:\\python\\lib\\distutils\\core.py\", line 149, in setup\n    dist.run_commands()\n  File \"c:\\python\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"c:\\python\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"c:\\python\\lib\\site-packages\\wheel-0.22.0-py3.4.egg\\wheel\\bdist_wheel.py\", line 222, in run\n    self.distinfo_dir)\n  File \"c:\\python\\lib\\site-packages\\wheel-0.22.0-py3.4.egg\\wheel\\bdist_wheel.py\", line 387, in egg2dist\n    distribution=self.distribution)\n  File \"c:\\python\\lib\\site-packages\\wheel-0.22.0-py3.4.egg\\wheel\\metadata.py\", line 101, in pkginfo_to_dict\n    pkg_info = email.parser.Parser().parsestr(open(path, 'rb').read().decode('utf-8'))\n  File \"c:\\python\\lib\\email\\parser.py\", line 70, in parsestr\n    return self.parse(StringIO(text), headersonly=headersonly)\n  File \"c:\\python\\lib\\email\\parser.py\", line 60, in parse\n    return feedparser.close()\n  File \"c:\\python\\lib\\email\\feedparser.py\", line 170, in close\n    self._call_parse()\n  File \"c:\\python\\lib\\email\\feedparser.py\", line 163, in _call_parse\n    self._parse()\n  File \"c:\\python\\lib\\email\\feedparser.py\", line 449, in _parsegen\n    self._cur.set_payload(EMPTYSTRING.join(lines))\n  File \"c:\\python\\lib\\email\\message.py\", line 311, in set_payload\n    \" payload\") from None\nTypeError: charset argument must be specified when non-ASCII characters are used in the payload\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/143\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/142", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/142/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/142/events", "html_url": "https://github.com/pypa/setuptools/issues/142", "id": 144276722, "node_id": "MDU6SXNzdWUxNDQyNzY3MjI=", "number": 142, "title": "Can't install setuptools on python3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-28T12:31:43Z", "updated_at": "2016-03-29T14:12:39Z", "closed_at": "2016-03-29T14:12:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guillaumevincent (Bitbucket: [guillaumevincent](http://bitbucket.org/guillaumevincent), GitHub: [guillaumevincent](http://github.com/guillaumevincent))**\n\n---\n\nI've spend more than two hours trying to install setuptools without any success.\n- I'm on fresh debian server 7.0\n- I've installed from source Python 3.3.3\n- I downloaded from source ez_setup.py (`wget --no-check-certificate https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py`)\n- I try to install setuptools with  --insecure option (`python3 ez_setup.py  --insecure`)\n\nI got :\n\n```\n#!console\n\nroot@sven:/tmp# python3 ez_setup.py  --insecure\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-2.1.tar.gz\nTraceback (most recent call last):\n  File \"ez_setup.py\", line 361, in <module>\n    sys.exit(main())\n  File \"ez_setup.py\", line 357, in main\n    downloader_factory=options.downloader_factory)\n  File \"ez_setup.py\", line 282, in download_setuptools\n    downloader(url, saveto)\n  File \"ez_setup.py\", line 234, in download_file_insecure\n    src = urlopen(url)\n  File \"/usr/local/lib/python3.3/urllib/request.py\", line 156, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/usr/local/lib/python3.3/urllib/request.py\", line 469, in open\n    response = self._open(req, data)\n  File \"/usr/local/lib/python3.3/urllib/request.py\", line 492, in _open\n    'unknown_open', req)\n  File \"/usr/local/lib/python3.3/urllib/request.py\", line 447, in _call_chain\n    result = func(*args)\n  File \"/usr/local/lib/python3.3/urllib/request.py\", line 1310, in unknown_open\n    raise URLError('unknown url type: %s' % type)\nurllib.error.URLError: <urlopen error unknown url type: https>\n```\n\nOk so I try to install setuptools from source:\n- `wget --no-check-certificate https://pypi.python.org/packages/source/s/setuptools/setuptools-1.1.6.tar.gz`\n- `tar xzf setuptools-1.1.6.tar.gz`\n- `cd setuptools-1.1.6`\n- `python3 setup.py install`\n\n```\n#!console\n\nroot@sven:/tmp/setuptools-1.1.6# python3 setup.py install\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting top-level names to setuptools.egg-info/top_level.txt\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\nwriting requirements to setuptools.egg-info/requires.txt\nwriting entry points to setuptools.egg-info/entry_points.txt\nwriting setuptools.egg-info/PKG-INFO\nreading manifest file 'setuptools.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'setuptools.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.linux-x86_64/egg\nrunning install_lib\nrunning build_py\ncopying setuptools.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying setuptools.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying setuptools.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying setuptools.egg-info/entry_points.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying setuptools.egg-info/requires.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying setuptools.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncreating 'dist/setuptools-1.1.6-py3.3.egg' and adding 'build/bdist.linux-x86_64/egg' to it\nTraceback (most recent call last):\n  File \"setup.py\", line 204, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/usr/local/lib/python3.3/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/usr/local/lib/python3.3/distutils/dist.py\", line 929, in run_commands\n    self.run_command(cmd)\n  File \"/usr/local/lib/python3.3/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/tmp/setuptools-1.1.6/setuptools/command/install.py\", line 73, in run\n    self.do_egg_install()\n  File \"/tmp/setuptools-1.1.6/setuptools/command/install.py\", line 93, in do_egg_install\n    self.run_command('bdist_egg')\n  File \"/usr/local/lib/python3.3/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/local/lib/python3.3/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/tmp/setuptools-1.1.6/setuptools/command/bdist_egg.py\", line 246, in run\n    dry_run=self.dry_run, mode=self.gen_header())\n  File \"/tmp/setuptools-1.1.6/setuptools/command/bdist_egg.py\", line 545, in make_zipfile\n    z = zipfile.ZipFile(zip_filename, mode, compression=compression)\n  File \"/usr/local/lib/python3.3/zipfile.py\", line 900, in __init__\n    _check_compression(compression)\n  File \"/usr/local/lib/python3.3/zipfile.py\", line 583, in _check_compression\n    \"Compression requires the (missing) zlib module\")\nRuntimeError: Compression requires the (missing) zlib module\n```\n\nAm I missing something ?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/142\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/141", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/141/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/141/events", "html_url": "https://github.com/pypa/setuptools/issues/141", "id": 144276699, "node_id": "MDU6SXNzdWUxNDQyNzY2OTk=", "number": 141, "title": "setup_requires feature does not handle multiple versions", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2014-01-24T12:35:13Z", "updated_at": "2016-11-23T16:20:48Z", "closed_at": "2016-11-23T16:20:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marscher (Bitbucket: [marscher](http://bitbucket.org/marscher), GitHub: [marscher](http://github.com/marscher))**\n\n---\n\nThis seems somehow related to [issue323 in distribute](https://bitbucket.org/tarek/distribute/issue/323/versionconflict-on-setup_requires).\n\nWhy is a not met requirement not simply installed local as an egg and then inserted to path, if it is required via setup_requires?\n\nScenario:\nsystem wide installation of package A, version 1.0 (which can not be upgraded as non administrative user)\nsetup_requires=[('A > 1.0')]\n\nInstead of building A > 1.0 before the build process starts, pkg_resources throws a VersionConflict:\n\n```\n#!python\n\n File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 576, in resolve\n    dist = best[req.key] = env.best_match(req, self, installer)\npkg_resources.VersionConflict: (numpy 1.6.2 (/usr/lib/pymodules/python2.7), Requirement.parse('numpy>=1.8'))\n\n```\n\nIs this behaviour intended? And if that is the case it should be somehow documented, because it is not intuitive.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/141\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/140", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/140/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/140/events", "html_url": "https://github.com/pypa/setuptools/issues/140", "id": 144276673, "node_id": "MDU6SXNzdWUxNDQyNzY2NzM=", "number": 140, "title": "solved: Installation failed due to reversed boolean", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-23T15:12:47Z", "updated_at": "2016-03-29T14:12:31Z", "closed_at": "2016-03-29T14:12:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nOn Sunday, 2014-01-19, I downloaded and ran the script posted at https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py yielded these messages:\n\n'''\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-2.1.tar.gz\nExtracting in d:\\users\\xxxxxxx\\appdata\\local\\temp\\tmpvw3rn3\nNow working in d:\\users\\xxxxxxx\\appdata\\local\\temp\\tmpvw3rn3\\setuptools-2.1\nInstalling Setuptools\nSomething went wrong during the installation.\nSee the error message above.\n'''\n\nThe last two messages are from the try block in _install(tarball, install_args=()):\n\n```\n    if not _python_cmd('setup.py', 'install', *install_args):\n        log.warn('Something went wrong during the installation.')\n        log.warn('See the error message above -- exit code is 2.')\n```\n\nThe last line of _python_cmd(*args) is:\n\n```\n    return subprocess.call(args) == 0\n```\n\nwhich means that (pseudo code):\n\n```\nif subprocess.call(args) succeeds:\n    _python_cmd returns False to _install\n    _install issues the messages given above\n    _install calls sys.exit()\n```\n\nWhen I changed the _python_cmd boolean to:\n\n```\n    return subprocess.call(args) == 1\n```\n\nsetuptools v. 0.6c11 was installed without error and I was able to install ipython and some other packages with no problems.\n\nI'm running Python 2.7.6 on Windows 7.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/140\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/139", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/139/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/139/events", "html_url": "https://github.com/pypa/setuptools/issues/139", "id": 144276665, "node_id": "MDU6SXNzdWUxNDQyNzY2NjU=", "number": 139, "title": "AttributeError: 're_finder' object has no attribute 'find'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-01-21T20:59:22Z", "updated_at": "2016-03-29T14:12:29Z", "closed_at": "2016-03-29T14:12:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **josegonzalez (Bitbucket: [josegonzalez](http://bitbucket.org/josegonzalez), GitHub: [josegonzalez](http://github.com/josegonzalez))**\n\n---\n\nThe method `find` does not exist in `re_finder`. I find this bug whenever installing a package from github.\n\nhttps://bitbucket.org/pypa/setuptools/src/master/setuptools/command/sdist.py?at=default#cl-51\n\nLogs:\n\n```\n[54.224.15.246] out: Downloading/unpacking pycurl from git+git://github.com/seatgeek/PyCurl.git#egg=pycurl (from -r /apps/production/api/current/requirements.txt (line 5))\n[54.224.15.246] out:   Cloning git://github.com/seatgeek/PyCurl.git to /mnt/apps/production/api/virtualenvs/api/build/pycurl\n[54.224.15.246] out:   Running setup.py (path:/mnt/apps/production/api/virtualenvs/api/build/pycurl/setup.py) egg_info for package pycurl\n[54.224.15.246] out:     Using curl-config (libcurl 7.22.0)\n[54.224.15.246] out:\n[54.224.15.246] out:     Traceback (most recent call last):\n[54.224.15.246] out:       File \"<string>\", line 17, in <module>\n[54.224.15.246] out:       File \"/mnt/apps/production/api/virtualenvs/api/build/pycurl/setup.py\", line 225, in <module>\n[54.224.15.246] out:         apply(setup, (), setup_args)\n[54.224.15.246] out:       File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n[54.224.15.246] out:         dist.run_commands()\n[54.224.15.246] out:       File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n[54.224.15.246] out:         self.run_command(cmd)\n[54.224.15.246] out:       File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n[54.224.15.246] out:         cmd_obj.run()\n[54.224.15.246] out:       File \"<string>\", line 15, in replacement_run\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 186, in find_sources\n[54.224.15.246] out:         mm.run()\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 246, in run\n[54.224.15.246] out:         self.add_defaults()\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 285, in add_defaults\n[54.224.15.246] out:         rcfiles = list(walk_revctrl())\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/sdist.py\", line 18, in walk_revctrl\n[54.224.15.246] out:         for item in ep.load()(dirname):\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/sdist.py\", line 58, in _default_revctrl\n[54.224.15.246] out:         for item in finder(dirname):\n[54.224.15.246] out:       File \"/apps/production/api/virtualenvs/api/local/lib/python2.7/site-packages/setuptools/command/sdist.py\", line 51, in __call__\n[54.224.15.246] out:         for item in self.find(path):\n[54.224.15.246] out:     AttributeError: 're_finder' object has no attribute 'find'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/139\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/137", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/137/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/137/events", "html_url": "https://github.com/pypa/setuptools/issues/137", "id": 144276629, "node_id": "MDU6SXNzdWUxNDQyNzY2Mjk=", "number": 137, "title": "TypeError: unorderable types: str() < NoneType()", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-01-11T12:53:07Z", "updated_at": "2016-03-29T14:12:23Z", "closed_at": "2016-03-29T14:12:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\n```\nsudo easy_install-3.3 -U setuptools pip wheel\n\nSearching for setuptools\nReading https://pypi.python.org/simple/setuptools/\nReading http://peak.telecommunity.com/snapshots/\nReading https://pypi.python.org/pypi/setuptools\nTraceback (most recent call last):\n  File \"/usr/local/bin/easy_install-3.3\", line 9, in <module>\n    load_entry_point('setuptools==2.1', 'console_scripts', 'easy_install-3.3')()\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/command/easy_install.py\", line 1909, in main\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/command/easy_install.py\", line 1896, in with_ei_usage\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/command/easy_install.py\", line 1913, in <lambda>\n  File \"/usr/lib/python3.3/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/usr/lib/python3.3/distutils/dist.py\", line 929, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python3.3/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/command/easy_install.py\", line 358, in run\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/command/easy_install.py\", line 581, in easy_install\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/package_index.py\", line 580, in fetch_distribution\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/setuptools/package_index.py\", line 566, in find\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/pkg_resources.py\", line 770, in __getitem__\n    _sort_dists(dists)\n  File \"/usr/local/lib/python3.3/dist-packages/setuptools-2.1-py3.3.egg/pkg_resources.py\", line 2551, in _sort_dists\n    tmp.sort()\nTypeError: unorderable types: str() < NoneType()\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/137\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/136", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/136/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/136/events", "html_url": "https://github.com/pypa/setuptools/issues/136", "id": 144276616, "node_id": "MDU6SXNzdWUxNDQyNzY2MTY=", "number": 136, "title": "Missing 'install' in command line under \"Advanced installation\" in docs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-10T19:59:17Z", "updated_at": "2016-03-29T14:12:18Z", "closed_at": "2016-03-29T14:12:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **karltk (Bitbucket: [karltk](http://bitbucket.org/karltk), GitHub: [karltk](http://github.com/karltk))**\n\n---\n\nThe page \"Installing and Using Setuptools\" (https://bitbucket.org/pypa/setuptools) contains a minor typo under \"Advanced Installation\"\n\nIt currently reads:\n\n```\nsetuptools-x.x$ python setup.py --prefix=/opt/setuptools\n```\n\nIt probably should read\n\n```\nsetuptools-x.x$ python setup.py install --prefix=/opt/setuptools\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/136\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/135", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/135/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/135/events", "html_url": "https://github.com/pypa/setuptools/issues/135", "id": 144276598, "node_id": "MDU6SXNzdWUxNDQyNzY1OTg=", "number": 135, "title": "bdist_egg doesn't run 2to3 after bdist_egg with python-2.x", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-10T03:13:25Z", "updated_at": "2021-09-13T20:01:16Z", "closed_at": "2021-09-13T20:01:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **shimizukawa (Bitbucket: [shimizukawa](http://bitbucket.org/shimizukawa), GitHub: [shimizukawa](http://github.com/shimizukawa))**\n\n---\n\nIf the source directory have `build/lib` that was created by `python-2.x setup.py bdist_egg`, bdist_egg (and bdist_wheel) with python3 does not invoke 2to3 process.\n\nA similar issue #102 's workaround doesn't work for me.\n\nbdist_egg with python3 generate egg successfully:\n\n```\n#!bash\n\n$ cd sphinx-1.2  #or some kind of source that have 2to3\n$ rm -Rf build\n$ python-3.3 setup.py bdist_egg\n...(with 2to3 and generate 2to3ed egg in successfully)...\n\n```\n\nbdist_egg with python2 and python3 generate broken py3-egg:\n\n```\n#!bash\n\n$ rm -Rf build\n$ python-2.7 setup.py bdist_egg\n...(success)...\n$ python-3.3 setup.py bdist_egg\n...(without 2to3 and generate non-2to3ed egg)...\n\n```\n\nbdist_egg with python3 and python2 generate broken py2-egg:\n\n```\n#!bash\n\n$ rm -Rf build\n$ python-3.3 setup.py bdist_egg\n...(with 2to3 and generate 2to3ed egg in successfully)...\n$ python-2.7 setup.py bdist_egg\n...(use 2to3ed source to generate egg)...\n\n```\n\nIMO, setuptools should separate `build/lib` directory for 2to3 and non-2to3.\n\nAnd there are my current workarounds:\n1. use different build directory like `setup.py build -b build.py33 bdist_egg`\n2. remove build directory before packaging with another python version\n3. don't use 2to3\n4. don't use bdist_\\* (egg, wheel, ...)\n\nFYI: this issue's behavior is confirmed with distribute-0.6.49, setuptools-0.9.8, 1.4.2, 2.1.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/135\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/134", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/134/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/134/events", "html_url": "https://github.com/pypa/setuptools/issues/134", "id": 144276572, "node_id": "MDU6SXNzdWUxNDQyNzY1NzI=", "number": 134, "title": "Spaces in file names make it impossible to package for Solaris 9 and 10", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-01-08T12:03:12Z", "updated_at": "2017-10-25T15:50:10Z", "closed_at": "2016-03-29T14:12:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **automatthias (Bitbucket: [automatthias](http://bitbucket.org/automatthias), GitHub: [automatthias](http://github.com/automatthias))**\n\n---\n\nThe `script template.py` file name causes packaging of setuptools to fail, because the Solaris 8, 9, and 10 package manager does not support file names with spaces: spaces are the column delimiter in its internal data files.\n### References\n1. http://docs.oracle.com/cd/E23824_01/html/821-1473/pkgmap-4.html\n2. https://mail.python.org/pipermail/distutils-sig/2013-October/022803.html\n3. https://gar.svn.sourceforge.net/svnroot/gar/csw/mgar/pkg/lang-python/pysetuptools/trunk/Makefile\n4. https://gar.svn.sourceforge.net/svnroot/gar/csw/mgar/pkg/lang-python/pysetuptools/trunk/files/0001-Solaris-package-mge-does-not-handle-spaces.patch\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/134\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/132", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/132/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/132/events", "html_url": "https://github.com/pypa/setuptools/issues/132", "id": 144276516, "node_id": "MDU6SXNzdWUxNDQyNzY1MTY=", "number": 132, "title": "Missing license", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-05T23:47:50Z", "updated_at": "2016-03-29T14:11:56Z", "closed_at": "2016-03-29T14:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **stefanor (Bitbucket: [stefanor](http://bitbucket.org/stefanor), GitHub: [stefanor](http://github.com/stefanor))**\n\n---\n\nThe only mention of the license that this is distributed under, is in setup.py:\n\n```\n#!python\n\nlicense=\"PSF or ZPL\",\n```\n\nThe body of the license doesn't appear to be present in any source or binary distributions. This makes it hard to know exactly what the terms of distribution are.\n\nThere are multiple versions of the Zope license in existance, but the version isn't specified. And the PSF license most commonly appears in the long essay about python's licensing history, it isn't well known as a stand-alone license. There'd be no guessing, if the license bodies were included.\n\nPlease bundle the licenses that this is distributed under, in the source. And ensure that they appear in any source and binary distributions.\n\nThanks\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/132\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/132/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/131", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/131/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/131/events", "html_url": "https://github.com/pypa/setuptools/issues/131", "id": 144276498, "node_id": "MDU6SXNzdWUxNDQyNzY0OTg=", "number": 131, "title": "Test failures with python3.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-05T16:06:06Z", "updated_at": "2017-10-28T17:10:44Z", "closed_at": "2016-03-29T14:11:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **iElectric (Bitbucket: [iElectric](http://bitbucket.org/iElectric), GitHub: Unknown)**\n\n---\n\n```\n#!python\n\n======================================================================\nERROR: test_setup_requires (setuptools.tests.test_easy_install.TestUserInstallTest)\nRegression test for Distribute issue #318\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/dist.py\", line 287, in fetch_build_egg\n    cmd = self._egg_fetcher\nAttributeError: 'Distribution' object has no attribute '_egg_fetcher'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/tests/test_easy_install.py\", line 268, in test_setup_requires\n    run_setup(test_setup_py, ['install'])\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/sandbox.py\", line 50, in run_setup\n    lambda: execfile(\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/sandbox.py\", line 100, in run\n    return func()\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/sandbox.py\", line 52, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/compat.py\", line 78, in execfile\n    exec(compile(source, fn, 'exec'), globs, locs)\n  File \"setup.py\", line 2, in <module>\n    \"\"\"Distutils setup file, used to install or test 'setuptools'\"\"\"\n  File \"/nix/store/9yg4a0k52g1k2xy3iyim9s30nfs8zbcn-distutils.cfg-python3.3.3/lib/python3.3/site-packages/distutils/core.py\", line 109, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/dist.py\", line 239, in __init__\n    self.fetch_build_eggs(attrs.pop('setup_requires'))\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/dist.py\", line 263, in fetch_build_eggs\n    parse_requirements(requires), installer=self.fetch_build_egg\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/pkg_resources.py\", line 563, in resolve\n    dist = best[req.key] = env.best_match(req, self, installer)\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/pkg_resources.py\", line 801, in best_match\n    return self.obtain(req, installer) # try and download/install\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/pkg_resources.py\", line 813, in obtain\n    return installer(requirement)\n  File \"/tmp/nix-build-python3.3m-setuptools-2.0.2.drv-0/setuptools-2.0.2/setuptools/dist.py\", line 298, in fetch_build_egg\n    for key in opts.keys():\nRuntimeError: dictionary changed size during iteration\n\n----------------------------------------------------------------------\nRan 124 tests in 3.453s\n\nFAILED (errors=2, skipped=8)\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/131\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/130", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/130/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/130/events", "html_url": "https://github.com/pypa/setuptools/issues/130", "id": 144276468, "node_id": "MDU6SXNzdWUxNDQyNzY0Njg=", "number": 130, "title": "install_data doesn't respect \"--prefix\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315102, "node_id": "MDU6TGFiZWwzNDkzMTUxMDI=", "url": "https://api.github.com/repos/pypa/setuptools/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 36, "created_at": "2014-01-05T13:38:59Z", "updated_at": "2018-06-24T00:16:59Z", "closed_at": "2017-11-19T14:56:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **iElectric (Bitbucket: [iElectric](http://bitbucket.org/iElectric), GitHub: Unknown)**\n\n---\n\nChanging following line in https://bitbucket.org/pypa/setuptools/src/735202ca6848d58bc59022f85cde10af64a61a7e/setuptools/command/bdist_egg.py?at=default#cl-155:\n\n```\nself.call_command('install_data', force=0, root=None)\n```\n\nto \n\n```\nself.call_command('install_data', force=0, root=self.bdist_dir)\n```\n\nMakes data installation respect prefix directory\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/130\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/130/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/129", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/129/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/129/events", "html_url": "https://github.com/pypa/setuptools/issues/129", "id": 144276444, "node_id": "MDU6SXNzdWUxNDQyNzY0NDQ=", "number": 129, "title": "AssertionError: EGG-INFO/PKG-INFO is not a subpath ...", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2014-01-04T15:51:25Z", "updated_at": "2016-03-29T14:11:42Z", "closed_at": "2016-03-29T14:11:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ionelmc (Bitbucket: [ionelmc](http://bitbucket.org/ionelmc), GitHub: [ionelmc](http://github.com/ionelmc))**\n\n---\n\nWith the latest virtualenv I get this: \n\n```\nvirtualenv .ve --python=/usr/bin/python2.7 --system-site-packages\nRunning virtualenv with interpreter /usr/bin/python2.7\nNew python executable in .ve/bin/python2.7\nAlso creating executable in .ve/bin/python\nInstalling setuptools, pip...\n  Complete output from command /home/nestea/deploye...f6/.ve/bin/python2.7 -c \"import sys, pip; pip...ll\\\"] + sys.argv[1:])\" setuptools pip:\n  Traceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/pip-1.5-py2.py3-none-any.whl/pip/__init__.py\", line 9, in <module>\n    # See the README file for information on usage and redistribution.\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/pip-1.5-py2.py3-none-any.whl/pip/log.py\", line 8, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 2696, in <module>\n    # Prepare the master working set and make the ``require()`` API available\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 429, in __init__\n    self.callbacks = []\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 443, in add_entry\n    always appended to ``.entries``, even if it is already present.\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 1722, in find_in_zip\n    \"\"\"Yield distributions accessible on a sys.path directory\"\"\"\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 1298, in has_metadata\n\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 1614, in _has\n\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/pkg_resources.py\", line 1488, in _zipinfo_name\n\nAssertionError: /usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/EGG-INFO/PKG-INFO is not a subpath of /usr/local/lib/python2.7/dist-packages/virtualenv-1.11-py2.7.egg/virtualenv_support/setuptools-2.0.2-py2.py3-none-any.whl/\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/129\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/128", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/128/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/128/events", "html_url": "https://github.com/pypa/setuptools/issues/128", "id": 144276431, "node_id": "MDU6SXNzdWUxNDQyNzY0MzE=", "number": 128, "title": "install required package not from dependency_links", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-30T06:40:57Z", "updated_at": "2016-03-29T14:11:37Z", "closed_at": "2016-03-29T14:11:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **menghan (Bitbucket: [menghan](http://bitbucket.org/menghan), GitHub: [menghan](http://github.com/menghan))**\n\n---\n\nclone https://github.com/menghan/setuptools-test-prj and run python setup.py install in a virtualenv, setuptools didnot install all required packages using link from dependency_links.\n\nhttps://gist.github.com/menghan/8178588 is my local output. Setuptools install sh by dependency_links' link, but pep8 not.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/128\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/127", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/127/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/127/events", "html_url": "https://github.com/pypa/setuptools/issues/127", "id": 144276413, "node_id": "MDU6SXNzdWUxNDQyNzY0MTM=", "number": 127, "title": "UnicodeDecodeError when install in Windows 7", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2013-12-29T08:00:54Z", "updated_at": "2016-03-29T14:11:33Z", "closed_at": "2016-03-29T14:11:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tkdchen (Bitbucket: [tkdchen](http://bitbucket.org/tkdchen), GitHub: [tkdchen](http://github.com/tkdchen))**\n\n---\n\nInstall version 2.0.1 in Windows 7, Python 2.7.6 64bit. This error happened again when installing by running ez_setup.py downloaded from this repo.\n\n```\n#!python\n\nExtracting in c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\nNow working in c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\\setuptools-2.0.1\nInstalling Setuptools\nTraceback (most recent call last):\n  File \"setup.py\", line 17, in <module>\n    exec(init_file.read(), command_ns)\n  File \"<string>\", line 8, in <module>\n  File \"c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\\setuptools-2.0.1\\setuptools\\__init__.py\", line 11, in <module>\n    from setuptools.extension import Extension\n  File \"c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\\setuptools-2.0.1\\setuptools\\extension.py\", line 5, in <module>\n    from setuptools.dist import _get_unpatched\n  File \"c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\\setuptools-2.0.1\\setuptools\\dist.py\", line 15, in <module>\n    from setuptools.compat import numeric_types, basestring\n  File \"c:\\users\\chen\\appdata\\local\\temp\\tmprpne9d\\setuptools-2.0.1\\setuptools\\compat.py\", line 19, in <module>\n    from SimpleHTTPServer import SimpleHTTPRequestHandler\n  File \"c:\\Python27\\lib\\SimpleHTTPServer.py\", line 27, in <module>\n    class SimpleHTTPRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):\n  File \"c:\\Python27\\lib\\SimpleHTTPServer.py\", line 208, in SimpleHTTPRequestHandler\n    mimetypes.init() # try to read system mime.types\n  File \"c:\\Python27\\lib\\mimetypes.py\", line 358, in init\n    db.read_windows_registry()\n  File \"c:\\Python27\\lib\\mimetypes.py\", line 258, in read_windows_registry\n    for subkeyname in enum_types(hkcr):\n  File \"c:\\Python27\\lib\\mimetypes.py\", line 249, in enum_types\n    ctype = ctype.encode(default_encoding) # omit in 3.x!\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb0 in position 1: ordinal not in range(128)\nSomething went wrong during the installation.\nSee the error message above.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/127\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/126", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/126/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/126/events", "html_url": "https://github.com/pypa/setuptools/issues/126", "id": 144276402, "node_id": "MDU6SXNzdWUxNDQyNzY0MDI=", "number": 126, "title": "CRC Check Failed when running ez_setup.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-12-22T10:36:10Z", "updated_at": "2016-03-29T14:11:29Z", "closed_at": "2016-03-29T14:11:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **eallik (Bitbucket: [eallik](http://bitbucket.org/eallik), GitHub: [eallik](http://github.com/eallik))**\n\n---\n\nI'm on OS X 10.9 with Python 2.7.6 installed from Homebrew, and getting this:\n\n```\n#!bash\n\n~$ wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | python\n--2013-12-22 12:35:07--  https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\nResolving bitbucket.org... 131.103.20.167, 131.103.20.168\nConnecting to bitbucket.org|131.103.20.167|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 11358 (11K) [text/plain]\nSaving to: \u2018STDOUT\u2019\n\n100%[=============================================================================================>] 11,358      --.-K/s   in 0s      \n\n2013-12-22 12:35:08 (137 MB/s) - written to stdout [11358/11358]\n\nExtracting in /var/folders/6t/1w8bgc395xz4k1n_85r2wjz00000gn/T/tmp9LADtI\nTraceback (most recent call last):\n  File \"<stdin>\", line 361, in <module>\n  File \"<stdin>\", line 358, in main\n  File \"<stdin>\", line 48, in _install\n  File \"<stdin>\", line 307, in _extractall\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2084, in extract\n    self._extract_member(tarinfo, os.path.join(path, tarinfo.name))\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2160, in _extract_member\n    self.makefile(tarinfo, targetpath)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2201, in makefile\n    copyfileobj(source, target)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 266, in copyfileobj\n    shutil.copyfileobj(src, dst)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 49, in copyfileobj\n    buf = fsrc.read(length)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 819, in read\n    buf += self.fileobj.read(size - len(buf))\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 737, in read\n    return self.readnormal(size)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 746, in readnormal\n    return self.fileobj.read(size)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 261, in read\n    self._read(readsize)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 308, in _read\n    self._read_eof()\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 347, in _read_eof\n    hex(self.crc)))\nIOError: CRC check failed 0x7c5e907e != 0x17af41dcL\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/126\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/125", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/125/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/125/events", "html_url": "https://github.com/pypa/setuptools/issues/125", "id": 144276394, "node_id": "MDU6SXNzdWUxNDQyNzYzOTQ=", "number": 125, "title": "setuptools leaves a ~/.subversion dir laying around after it completes", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2013-12-15T17:52:38Z", "updated_at": "2016-03-29T14:11:27Z", "closed_at": "2016-03-29T14:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nWhen I do \n\n```\neasy_install -Z --upgrade setup tools\n```\n\nA directory, ~/.subversion, is created and then not cleaned up afterwards.  I don't use subversion, and I don't want its parts cluttering up my $HOME.  If this dir is necessary for completing the easy_install operation, shouldn't it be put into a tmpdir that later gets cleaned up?\n\nI see this behavior on at least MacOSX 10.9 and 10.8.5.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/125\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/124", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/124/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/124/events", "html_url": "https://github.com/pypa/setuptools/issues/124", "id": 144276384, "node_id": "MDU6SXNzdWUxNDQyNzYzODQ=", "number": 124, "title": "upload_docs fails with \"Form data is not correctly encoded in UTF-8\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-12-15T17:44:29Z", "updated_at": "2016-03-29T14:11:23Z", "closed_at": "2016-03-29T14:11:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **chrisw (Bitbucket: [chrisw](http://bitbucket.org/chrisw), GitHub: [chrisw](http://github.com/chrisw))**\n\n---\n\nI'm attempting to upload docs for a new release of my package to pythonhosted.org but I get:\n\n```\n$ bin/docpy setup.py upload_docs --upload-dir=docs/_build/html\nrunning upload_docs\nSubmitting documentation to http://pypi.python.org/pypi\nUpload failed (400): Form data is not correctly encoded in UTF-8\n```\n\nMy docs are all ascii as far as I know.\n\nI'm using setuptools 2.0 on Python 2.7.3.\n\nDowngrading to setuptools 1.4.2 fixed the problem.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/124\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/123", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/123/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/123/events", "html_url": "https://github.com/pypa/setuptools/issues/123", "id": 144276378, "node_id": "MDU6SXNzdWUxNDQyNzYzNzg=", "number": 123, "title": ".pypirc location should also accept PIP_CONFIG_FILE env variable", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-12-13T10:11:14Z", "updated_at": "2016-03-29T14:11:21Z", "closed_at": "2016-03-29T14:11:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **deejay1 (Bitbucket: [deejay1](http://bitbucket.org/deejay1), GitHub: [deejay1](http://github.com/deejay1))**\n\n---\n\nAccording to http://www.pip-installer.org/en/latest/configuration.html#config-file the .pypirc location can also be specified by setting the enviroment variable PIP_CONFIG_FILE\nCurrently class PyPirc only looks in $HOME\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/123\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/122", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/122/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/122/events", "html_url": "https://github.com/pypa/setuptools/issues/122", "id": 144276374, "node_id": "MDU6SXNzdWUxNDQyNzYzNzQ=", "number": 122, "title": "Unify environment marker support", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-12-08T23:16:36Z", "updated_at": "2016-03-29T14:11:18Z", "closed_at": "2016-03-29T14:11:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #14, we determined that setuptools currently has two suboptimal implementations of environment marker support. Let's unify that support and put together a single, official implementation that works on all supported platforms.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/122\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/121", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/121/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/121/events", "html_url": "https://github.com/pypa/setuptools/issues/121", "id": 144276369, "node_id": "MDU6SXNzdWUxNDQyNzYzNjk=", "number": 121, "title": "SandboxViolation on Python 3 building setup_requires deps when lib2to3 grammar is not writable", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-07T16:20:37Z", "updated_at": "2016-03-29T14:11:15Z", "closed_at": "2016-03-29T14:11:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nConsider an environment such as this one on Windows where the system site-packages is not writable (due to UAC restrictions) and the lib2to3 grammar pickles aren't yet generated:\n\n```\nC:\\Users\\jaraco>easy_install --user irc\nSearching for irc\nReading https://pypi.python.org/simple/irc/\nBest match: irc 8.5.4\nDownloading https://pypi.python.org/packages/source/i/irc/irc-8.5.4.zip#md5=5d94\n56d8861ef409252a6184adba2617\nProcessing irc-8.5.4.zip\nWriting C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\setup\n.cfg\nRunning irc-8.5.4\\setup.py -q bdist_egg --dist-dir C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\egg-dist-tmp-uo7m2_qf\nSearching for pytest-runner\nReading https://pypi.python.org/simple/pytest-runner/\nBest match: pytest-runner 2.0\nDownloading https://pypi.python.org/packages/source/p/pytest-runner/pytest-runner-2.0.zip#md5=399a91934c797695e294a5a341db715f\nProcessing pytest-runner-2.0.zip\nWriting C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\temp\\easy_install-wwlag15y\\pytest-runner-2.0\\setup.cfg\nRunning pytest-runner-2.0\\setup.py -q bdist_egg --dist-dir C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\temp\\easy_install-wwlag15y\\pytest-runner-2.0\\egg-dist-tmp-oycl4frc\nSearching for hgtools\nReading https://pypi.python.org/simple/hgtools/\nBest match: hgtools 4.0\nDownloading https://pypi.python.org/packages/source/h/hgtools/hgtools-4.0.zip#md5=a1b58801ec06de50ce4247f66c28e9cd\nProcessing hgtools-4.0.zip\nWriting C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\temp\\easy_install-wwlag15y\\pytest-runner-2.0\\temp\\easy_install-ozih9t6e\\hgtools-4.0\\setup.cfg\nRunning hgtools-4.0\\setup.py -q bdist_egg --dist-dir C:\\Users\\jaraco\\AppData\\Local\\Temp\\easy_install-_g5bf6xb\\irc-8.5.4\\temp\\easy_install-wwlag15y\\pytest-runner-2.0\\temp\\easy_install-ozih9t6e\\hgtools-4.0\\egg-dist-tmp-rrwg3yo6\nerror: Setup script exited with error: SandboxViolation: open('c:\\\\python\\\\lib\\\\lib2to3\\\\Grammar3.4.0.beta.1.pickle', 'wb') {}\n\nThe package setup script has attempted to modify files on your system\nthat are not within the EasyInstall build area, and has been aborted.\n\nThis package cannot be safely installed by EasyInstall, and may not\nsupport alternate installation locations even if you run its setup\nscript by hand.  Please inform the package's author and the EasyInstall\nmaintainers to find out if a fix or workaround is available.\n```\n\nEasy_install can install simple packages that have no setup_requires dependencies, but when setuptools encounters a package with setup_requires dependencies, those dependencies are built in a sandbox which will trigger a violation when lib2to3 attempts to cache the grammar in a pickle.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/121\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/119", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/119/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/119/events", "html_url": "https://github.com/pypa/setuptools/issues/119", "id": 144276346, "node_id": "MDU6SXNzdWUxNDQyNzYzNDY=", "number": 119, "title": "windows manifests", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 3700344013, "node_id": "LA_kwDOA0bv8c7cjsTN", "url": "https://api.github.com/repos/pypa/setuptools/labels/Waiting%20User%20Feedback", "name": "Waiting User Feedback", "color": "FBAB14", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-12-02T18:58:51Z", "updated_at": "2022-03-23T15:49:45Z", "closed_at": "2022-03-23T15:49:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\nfrom http://msdn.microsoft.com/en-us/library/windows/desktop/ms724451(v=vs.85).aspx:\n\n> Applications not manifested for Windows 8.1 will return the Windows 8 OS version value (6.2). Once an application is manifested for a given operating system version, GetVersionEx will always return the version that the application is manifested for in future releases. To manifest your applications for Windows 8.1 please refer to Targeting your application for Windows 8.1.\n\nWith this change in Widows 8.1, it is imperative for setuptools to generate manifests for the executables it writes for the console/gui scripts.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/119\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/118", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/118/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/118/events", "html_url": "https://github.com/pypa/setuptools/issues/118", "id": 144276332, "node_id": "MDU6SXNzdWUxNDQyNzYzMzI=", "number": 118, "title": "install_egg_info command causes the --record argument  to 'install' to create a wrong entry", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2013-11-27T21:42:37Z", "updated_at": "2016-03-29T14:11:08Z", "closed_at": "2016-03-29T14:11:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **marcusva (Bitbucket: [marcusva](http://bitbucket.org/marcusva), GitHub: [marcusva](http://github.com/marcusva))**\n\n---\n\n`python setup.py install --record=<somefile>`\n\nwill create a file, which keeps a list of all files being installed by the distutils command.\nThe `install_egg_info` class of setuptools also puts a directory into the list, which by definition of the --record argument is not allowed.\n\nPackage management tools, which rely on --record and assume only files to be installed, will break.\n\nThe offending line:\n\nhttps://bitbucket.org/pypa/setuptools/src/b480829f68381870bf3a7fef1964b413d7dc3c32/setuptools/command/install_egg_info.py?at=default#cl-26\n\nThe same line is also available in distutils' `install_egg_info` class, the .egg-info in that class however is a plain file.\n\nThe fix should be easy enough by simply changing it to something like\n\n`self.outputs = []`\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/118\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/117", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/117/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/117/events", "html_url": "https://github.com/pypa/setuptools/issues/117", "id": 144276320, "node_id": "MDU6SXNzdWUxNDQyNzYzMjA=", "number": 117, "title": "Test failures on Windows with SVN utils", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-11-27T19:21:46Z", "updated_at": "2016-03-29T14:11:03Z", "closed_at": "2016-03-29T14:11:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nRunning the tests, I see six errors similar to:\n\n```\n======================================================================\nERROR: test_revision (setuptools.tests.test_svn.TestSvn)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"C:\\Users\\jaraco\\projects\\setuptools\\setuptools\\tests\\test_svn.py\", line 172, in setUp\n    self.base_version = tuple([int(x) for x in version.split('.')[:2]])\n  File \"C:\\Users\\jaraco\\projects\\setuptools\\setuptools\\tests\\test_svn.py\", line 172, in <listcomp>\n    self.base_version = tuple([int(x) for x in version.split('.')[:2]])\nValueError: invalid literal for int() with base 10: ''\n\n```\n\nand one  (likely related) failure:\n\n```\n======================================================================\nFAIL: test_svn_should_exist (setuptools.tests.test_svn.TestSvnVersion)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"C:\\Users\\jaraco\\projects\\setuptools\\setuptools\\tests\\test_svn.py\", line 35, in test_svn_should_exist\n    self.assertNotEqual(version, '')\nAssertionError: '' == ''\n\n----------------------------------------------------------------------\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/117\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/116", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/116/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/116/events", "html_url": "https://github.com/pypa/setuptools/issues/116", "id": 144276297, "node_id": "MDU6SXNzdWUxNDQyNzYyOTc=", "number": 116, "title": "easy_install -i with local index does not work on python 3.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-11-27T13:38:58Z", "updated_at": "2016-03-29T14:10:59Z", "closed_at": "2016-03-29T14:10:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **antti_haapala (Bitbucket: [antti_haapala](http://bitbucket.org/antti_haapala), GitHub: Unknown)**\n\n---\n\n```\n#!python\n\n% easy_install -i `pwd`/eggs \n...\nSearching for Babel\nReading file:/.../eggs/index/Babel/\n...\nvenv33/lib/python3.3/site-packages/setuptools/package_index.py\", line 1057, in local_open\n    {'content-type':'text/html'}, StringIO(body))\nTypeError: initial_value must be str or None, not bytes\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/116\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/115", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/115/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/115/events", "html_url": "https://github.com/pypa/setuptools/issues/115", "id": 144276288, "node_id": "MDU6SXNzdWUxNDQyNzYyODg=", "number": 115, "title": "py 2.4 and 2.5 support ditched?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-11-25T07:32:36Z", "updated_at": "2016-03-29T14:10:55Z", "closed_at": "2016-03-29T14:10:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agroszer (Bitbucket: [agroszer](http://bitbucket.org/agroszer), GitHub: [agroszer](http://github.com/agroszer))**\n\n---\n\n```\nc:\\buildslave\\setuptools_master_py_254_win32\\build>c:\\Python25_32_clean\\python.exe setup.py test\" \nsetup.py:16: Warning: 'with' will become a reserved keyword in Python 2.6\n  File \"setup.py\", line 16\n    with open(init_path) as init_file:\n            ^\nSyntaxError: invalid syntax\n```\n\nbut classifiers state 2.4 and 2.5 support\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/115\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/114", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/114/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/114/events", "html_url": "https://github.com/pypa/setuptools/issues/114", "id": 144276278, "node_id": "MDU6SXNzdWUxNDQyNzYyNzg=", "number": 114, "title": "Error decoding config in extract_wininst_cfg", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-11-23T21:32:53Z", "updated_at": "2016-03-29T14:10:53Z", "closed_at": "2016-03-29T14:10:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [pull request 20](/pypa/setuptools/pull-request/20), Sascha suggests there are cases where easy_install will fail to install a bdist_wininst if the config for that build has non-ascii characters. Investigating [the bdist_wininst command](http://hg.python.org/cpython/file/3.3/Lib/distutils/command/bdist_wininst.py#l260), I found that the command uses 'mbcs' for file encoding.\n\nI believe easy_install should use getfilesystemencoding for good compatibility on Windows a best-effort fallback on other operating systems.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/114\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/113", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/113/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/113/events", "html_url": "https://github.com/pypa/setuptools/issues/113", "id": 144276264, "node_id": "MDU6SXNzdWUxNDQyNzYyNjQ=", "number": 113, "title": "LookupError: unknown encoding on install under OsX 10.8.5", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-11-21T07:01:55Z", "updated_at": "2016-03-29T14:10:51Z", "closed_at": "2016-03-29T14:10:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **coolnodje (Bitbucket: [coolnodje](http://bitbucket.org/coolnodje), GitHub: Unknown)**\n\n---\n\nI'm attempting a first time install according to according to the doc:\n\n```\n#!bash\n\nsudo wget --no-check-certificate https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | sudo python\n```\n\nbut the following error occurs:\n\n```\n#!bash\n\nExtracting in /tmp/tmpMfVhxV\nNow working in /tmp/tmpMfVhxV/setuptools-1.4\nInstalling Setuptools\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting dependency_links to setuptools.egg-info/dependency_links.txt\nwriting requirements to setuptools.egg-info/requires.txt\nwriting setuptools.egg-info/PKG-INFO\nwriting top-level names to setuptools.egg-info/top_level.txt\nwriting entry points to setuptools.egg-info/entry_points.txt\nTraceback (most recent call last):\n  File \"setup.py\", line 204, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/install.py\", line 73, in run\n    self.do_egg_install()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/install.py\", line 93, in do_egg_install\n    self.run_command('bdist_egg')\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/bdist_egg.py\", line 177, in run\n    self.run_command(\"egg_info\")\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/egg_info.py\", line 187, in run\n    self.find_sources()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/egg_info.py\", line 230, in find_sources\n    mm.run()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/egg_info.py\", line 296, in run\n    self.add_defaults()\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/egg_info.py\", line 335, in add_defaults\n    rcfiles = list(walk_revctrl())\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/sdist.py\", line 18, in walk_revctrl\n    for item in ep.load()(dirname):\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/command/sdist.py\", line 58, in _default_revctrl\n    for item in finder(dirname):\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/svn_utils.py\", line 419, in svn_finder\n    info = SvnInfo.load(dirname)\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/svn_utils.py\", line 221, in load\n    code, data = _run_command(['svn', 'info', normdir])\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/svn_utils.py\", line 41, in _run_command\n    data = decode_as_string(data, encoding)\n  File \"/private/tmp/tmpMfVhxV/setuptools-1.4/setuptools/svn_utils.py\", line 93, in decode_as_string\n    text = text.decode(encoding)\nLookupError: unknown encoding: \nSomething went wrong during the installation.\nSee the error message above.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/113\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/112", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/112/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/112/events", "html_url": "https://github.com/pypa/setuptools/issues/112", "id": 144276260, "node_id": "MDU6SXNzdWUxNDQyNzYyNjA=", "number": 112, "title": "clean --all should delete autogenerated <package>.egg-info directory", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-11-20T23:47:16Z", "updated_at": "2022-01-31T00:53:03Z", "closed_at": "2022-01-31T00:53:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **infinity0 (Bitbucket: [infinity0](http://bitbucket.org/infinity0), GitHub: [infinity0](http://github.com/infinity0))**\n\n---\n\n```\n$ python setup.py clean --help\n[..]\n  --all (-a)         remove all build output, not just temporary by-products\n```\n\nI do not see any other way of deleting it via setup.py, so I have to do it manually on top of `python setup.py clean --all`. This is inconsistent with other build systems, and what Debian packaging expects.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/112\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/112/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/110", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/110/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/110/events", "html_url": "https://github.com/pypa/setuptools/issues/110", "id": 144276221, "node_id": "MDU6SXNzdWUxNDQyNzYyMjE=", "number": 110, "title": "include_package_data=False reads MANIFEST.in in sdist command", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-11-18T20:25:24Z", "updated_at": "2021-11-03T21:36:38Z", "closed_at": "2021-11-03T21:36:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ostcar (Bitbucket: [ostcar](http://bitbucket.org/ostcar), GitHub: [ostcar](http://github.com/ostcar))**\n\n---\n\nYour documentation defines, that the MANIFEST.in is only parsed, if include_package_data is set to True. So I suppose it is not read if include_package_data is set to False. That works fine for the 'build' or 'bdist' command. But the sdist commands includes parses the MANIFEST.in even if include_package_data is set to False.\n\nThis could probably be fixed in the method `commands.egg_info.manifest_maker.run`\nby changing the line `if os.path.exists(self.template)` to `if os.path.exists(self.template) and self.distribution.include_package_data:`\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/110\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/108", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/108/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/108/events", "html_url": "https://github.com/pypa/setuptools/issues/108", "id": 144276198, "node_id": "MDU6SXNzdWUxNDQyNzYxOTg=", "number": 108, "title": "incorrect wheel on PyPI", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-11-16T21:15:20Z", "updated_at": "2016-03-29T14:10:35Z", "closed_at": "2016-03-29T14:10:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **minrk (Bitbucket: [minrk](http://bitbucket.org/minrk), GitHub: [minrk](http://github.com/minrk))**\n\n---\n\nThe current wheel on PyPI unconditionally installs an `easy_install-3.3` entry point,\nregardless of the installing Python version.  It also strangely installs all entry points only with a `.pya` suffix, and does not make the entry points executable.  The result of `pip install --upgrade --use-wheel setuptools` is that no setuptools entry points are actually available.\n\nMy guess is that the setuptools wheel will not work properly on any Python other than Python 3.3 on Windows, but the wheel's file spec suggests it is appropriate for all Python versions on all platforms.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/108\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/107", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/107/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/107/events", "html_url": "https://github.com/pypa/setuptools/issues/107", "id": 144276194, "node_id": "MDU6SXNzdWUxNDQyNzYxOTQ=", "number": 107, "title": "Uninstalled setuptools doesn't see its own entry points", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-11-16T12:00:55Z", "updated_at": "2016-03-29T14:10:32Z", "closed_at": "2016-03-29T14:10:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pmoore (Bitbucket: [pmoore](http://bitbucket.org/pmoore), GitHub: [pmoore](http://github.com/pmoore))**\n\n---\n\nIf I set PYTHONPATH to include a wheel of setuptools (so that setuptools is on sys.path, but is not \"installed\" in site-packages) then when I try to run a setup.py which uses setuptools, the bdist_egg command is not recognised.\n\nPresumably this is because setuptools cannot locate the entry point for bdist_egg - even though it is an entry point provided by setuptools itself.\n\nEven if the general mechanism requires packages to be installed, special-casing setuptools' own entry points would be useful, as it would allow the combination of pip+setuptools to install sdists when run from uninstalled wheels.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/107\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/106", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/106/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/106/events", "html_url": "https://github.com/pypa/setuptools/issues/106", "id": 144276182, "node_id": "MDU6SXNzdWUxNDQyNzYxODI=", "number": 106, "title": "ez_setup.py fails because of insecure SSL connection", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-11-14T15:43:36Z", "updated_at": "2016-03-29T14:10:30Z", "closed_at": "2016-03-29T14:10:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **chris_zen (Bitbucket: [chris_zen](http://bitbucket.org/chris_zen), GitHub: Unknown)**\n\n---\n\nWhen running \n\n```\n#!bash\n$ python ez_setup.py \n```\n\nI get the following error:\n\n```\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-1.3.2.tar.gz\nTraceback (most recent call last):\n  File \"ez_setup.py\", line 382, in <module>\n    sys.exit(main())\n  File \"ez_setup.py\", line 378, in main\n    downloader_factory=options.downloader_factory)\n  File \"ez_setup.py\", line 290, in download_setuptools\n    downloader(url, saveto)\n  File \"ez_setup.py\", line 215, in download_file_wget\n    _clean_check(cmd, target)\n  File \"ez_setup.py\", line 160, in _clean_check\n    subprocess.check_call(cmd)\n  File \"/usr/local/python/lib/python2.7/subprocess.py\", line 540, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['wget', 'https://pypi.python.org/packages/source/s/setuptools/setuptools-1.3.2.tar.gz', '--quiet', '--output-document', '/home/bgadmin/setuptools-1.3.2.tar.gz']' returned non-zero exit status 1\n```\n\nIf I try the wget command by myself:\n\n```\n#!bash\n$ wget https://pypi.python.org/packages/source/s/setuptools/setuptools-1.3.2.tar.gz\n```\n\n```\n--2013-11-14 16:33:18--  https://pypi.python.org/packages/source/s/setuptools/setuptools-1.3.2.tar.gz\nResolving pypi.python.org... 185.31.16.185, 185.31.16.184\nConnecting to pypi.python.org|185.31.16.185|:443... connected.\nERROR: certificate common name `*.a.ssl.fastly.net' doesn't match requested host name `pypi.python.org'.\nTo connect to pypi.python.org insecurely, use `--no-check-certificate'.\nUnable to establish SSL connection.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/106\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/105", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/105/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/105/events", "html_url": "https://github.com/pypa/setuptools/issues/105", "id": 144276159, "node_id": "MDU6SXNzdWUxNDQyNzYxNTk=", "number": 105, "title": "TypeError in svn_utils.py:decode_as_string to crash", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-11-13T20:48:54Z", "updated_at": "2016-03-29T14:10:25Z", "closed_at": "2016-03-29T14:10:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 204, in <module>\n    dist = setuptools.setup(**setup_params)\n  File \"/Users/jenkins/python/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/Users/jenkins/python/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/Users/jenkins/python/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/bdist_egg.py\", line 177, in run\n    self.run_command(\"egg_info\")\n  File \"/Users/jenkins/python/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/Users/jenkins/python/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/egg_info.py\", line 187, in run\n    self.find_sources()\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/egg_info.py\", line 230, in find_sources\n    mm.run()\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/egg_info.py\", line 296, in run\n    self.add_defaults()\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/egg_info.py\", line 335, in add_defaults\n    rcfiles = list(walk_revctrl())\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/sdist.py\", line 18, in walk_revctrl\n    for item in ep.load()(dirname):\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/command/sdist.py\", line 58, in _default_revctrl\n    for item in finder(dirname):\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/svn_utils.py\", line 414, in svn_finder\n    info = SvnInfo.load(dirname)\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/svn_utils.py\", line 221, in load\n    code, data = _run_command(['svn', 'info', normdir])\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/svn_utils.py\", line 41, in _run_command\n    data = decode_as_string(data, encoding)\n  File \"/private/var/folders/39/kgfk3gv137n9slxvv4_mdvcr0000gs/T/tmpLLUGaS/setuptools-1.3.2/setuptools/svn_utils.py\", line 93, in decode_as_string\n    text = text.decode(encoding)\nTypeError: decode() argument 1 must be string, not None\n```\n\nlocale.getpreferredencoding may return None (if LC_ALL= on Mac), causes svn_utils.py:decode_as_string to crash\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/105\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/104", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/104/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/104/events", "html_url": "https://github.com/pypa/setuptools/issues/104", "id": 144276140, "node_id": "MDU6SXNzdWUxNDQyNzYxNDA=", "number": 104, "title": "Invalid issue link in release notes for version 1.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-11-12T13:29:24Z", "updated_at": "2016-03-29T14:10:21Z", "closed_at": "2016-03-29T14:10:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nRelease notes for version 1.2 list the following:\n\n```\nIssue #94: Wheels are now distributed with every release.\n```\n\nbut this was actually issue #93.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/104\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/103", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/103/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/103/events", "html_url": "https://github.com/pypa/setuptools/issues/103", "id": 144276131, "node_id": "MDU6SXNzdWUxNDQyNzYxMzE=", "number": 103, "title": "There appears to be no way to tell use_2to3 to *not* convert docstrings", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-11-12T07:58:07Z", "updated_at": "2021-09-13T20:02:53Z", "closed_at": "2021-09-13T20:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nWhen you specify use_2to3=True in setup.py, setuptools will convert code and docstrings (assuming they are doctests).\n\nThere appears to be no way to tell it _not_ to convert doctests, which is a problem if the code contains docstrings not intended to be doctests which, for example, contains text that looks like a doctest but will not convert cleanly (for example, it contains syntax errors).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/103\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/102", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/102/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/102/events", "html_url": "https://github.com/pypa/setuptools/issues/102", "id": 144276124, "node_id": "MDU6SXNzdWUxNDQyNzYxMjQ=", "number": 102, "title": "bdist_egg doesn't run 2to3 if use_2to3=True", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-11-11T22:35:35Z", "updated_at": "2021-09-13T20:01:00Z", "closed_at": "2021-09-13T20:01:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nWhen setup.py has use_2to3=True, if you run python setup.py bdist_egg, 2to3 is not run, even though it is if you run setup.py build.\n\nIt's easy enough to work around, just by calling setup.py build befiore setup.py bdist_egg.\n\nAs an example, use the attached setup.py as a replacement for the one supplied with docutils 0.11 and run bdist_egg.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/102\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/101", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/101/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/101/events", "html_url": "https://github.com/pypa/setuptools/issues/101", "id": 144276107, "node_id": "MDU6SXNzdWUxNDQyNzYxMDc=", "number": 101, "title": "winbot tests fail since nov 9", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-11-11T07:14:01Z", "updated_at": "2016-03-29T14:10:14Z", "closed_at": "2016-03-29T14:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agroszer (Bitbucket: [agroszer](http://bitbucket.org/agroszer), GitHub: [agroszer](http://github.com/agroszer))**\n\n---\n\nsince rev df4db882199e5d45ced6aff1da53d4c70fd6e6ef\n\ne.g.\nhttp://winbot.zope.org/builders/setuptools_master%20py_270_win32\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/101\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/100", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/100/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/100/events", "html_url": "https://github.com/pypa/setuptools/issues/100", "id": 144276097, "node_id": "MDU6SXNzdWUxNDQyNzYwOTc=", "number": 100, "title": "sdist renames readme.txt to README.txt", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-11-10T13:44:17Z", "updated_at": "2016-03-29T14:10:12Z", "closed_at": "2016-03-29T14:10:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [svg.charts](/jaraco/svg.charts), an issue was reported that the package fails to install [on Unix systems] because it tries to open 'readme.txt', but the file is named 'README.txt'. However, you can see from the [source repo](/jaraco/svg.charts/src/2.1) that the file is clearly named 'readme.txt'.\n\nLooking at the setuptools sdist source, it seems that it's matching the name by existence, but not actually reflecting the name of the file as it appears in the file system. This has the effect of essentially causing the file to be renamed as it is added to the sdist.\n\nSetuptools should match the case of the filename as it is found in the system.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/100\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/99", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/99/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/99/events", "html_url": "https://github.com/pypa/setuptools/issues/99", "id": 144276076, "node_id": "MDU6SXNzdWUxNDQyNzYwNzY=", "number": 99, "title": "egg_info comand fails parsing manifest template with Python 3 and SVN working dir", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-11-06T22:38:53Z", "updated_at": "2016-03-29T14:10:09Z", "closed_at": "2016-03-29T14:10:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **SpotlightKid (Bitbucket: [SpotlightKid](http://bitbucket.org/SpotlightKid), GitHub: [SpotlightKid](http://github.com/SpotlightKid))**\n\n---\n\nI have a project (python-rtmidi), which uses setuptools in the `setup.py` file and I build in a SVN checkout. I have a `MANIFEST.in` template to include examples and gererated files in the source distribution. `python setup.py sdist` fails at the `egg_info` command step with this exception:\n\n```\nreading manifest template 'MANIFEST.in'\nTraceback (most recent call last):\n  File \"setup.py\", line 151, in <module>\n    **setup_opts\n  File \"/usr/lib64/python3.3/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/usr/lib64/python3.3/distutils/dist.py\", line 929, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib64/python3.3/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/home/chris/lib/virtualenvs/rtmidi33/lib/python3.3/site-packages/setuptools/command/sdist.py\", line 86, in run\n    self.run_command('egg_info')\n  File \"/usr/lib64/python3.3/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/lib64/python3.3/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/home/chris/lib/virtualenvs/rtmidi33/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 188, in run\n    self.find_sources()\n  File \"/home/chris/lib/virtualenvs/rtmidi33/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 231, in find_sources\n    mm.run()\n  File \"/home/chris/lib/virtualenvs/rtmidi33/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 301, in run\n    self.read_template() \n  File \"/usr/lib64/python3.3/distutils/command/sdist.py\", line 308, in read_template\n    self.filelist.process_template_line(line)\n  File \"/usr/lib64/python3.3/distutils/filelist.py\", line 124, in process_template_line\n    if not self.exclude_pattern(pattern, anchor=1):\n  File \"/usr/lib64/python3.3/distutils/filelist.py\", line 236, in exclude_pattern\n    if pattern_re.search(self.files[i]):\nTypeError: can't use a string pattern on a bytes-like object\n```\n\nAfter quite some time spent tracking this down, I noticed that the file list generated by `setuptools.commands.egg_info.find_sources()` contains paths as `bytes` objects, which makes the `exclude_pattern` method (see traceback) choke. These entries in the filelist are produced by the `setuptools.svn_utils.svn_finder` function, which calls `fsencode` on every path it yields. `fsencode` encodes the unicode (Python 2) ressp. str (Python 3) path entries with the default encoding, turning them into str (Python 2) resp. bytes (Python 3) objects. I'm not exactly sure why it does that, but the result is clearly wrong for Python 3 and cuases the above error.\n\nChanging:\n\n```\n    yield fsencode(path)\n```\n\nto\n\n```\n    yield path\n```\n\non line 426 (and `yield fsencode(sub_path)` to `yield sub_path` a few lines below in `setuptools.svn_utils.svn_finder` fixed the issue for me. Probably breaks things on other systems though, so probably `fsencode/fsdecode` should be fixed somehow.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/99\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/99/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/99/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/97", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/97/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/97/events", "html_url": "https://github.com/pypa/setuptools/issues/97", "id": 144276046, "node_id": "MDU6SXNzdWUxNDQyNzYwNDY=", "number": 97, "title": "find_packages() doesn't find PEP 420 packages", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315099, "node_id": "MDU6TGFiZWwzNDkzMTUwOTk=", "url": "https://api.github.com/repos/pypa/setuptools/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 95, "created_at": "2013-11-05T08:34:34Z", "updated_at": "2018-07-11T14:53:54Z", "closed_at": "2018-07-11T13:16:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **gwideman (Bitbucket: [gwideman](http://bitbucket.org/gwideman), GitHub: [gwideman](http://github.com/gwideman))**\n\n---\n\n```\n#!python\n\nsetup(...\n    packages=find_packages(..)\n    )\n```\n\non the developer machine will fail to find packages that lack a `__init__.py` file, as is allowed in Python 3.3. However, such packages listed explicitly: packages=['mypkg'] do appear to get included and later installed.\n\nNote: When testing this, before each test be sure to delete all generated metadata, including that which setup may previously have placed in the original source directory, as it seems that setup may use metadata created on a previous run in order to include files.\n\nThis is part of a general problem reported in issue #83, but I've logged it separately as it's specifically about setuptools.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/97\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/97/reactions", "total_count": 12, "+1": 12, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/96", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/96/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/96/events", "html_url": "https://github.com/pypa/setuptools/issues/96", "id": 144276031, "node_id": "MDU6SXNzdWUxNDQyNzYwMzE=", "number": 96, "title": "Fix for upstream match_hostname security issue", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-11-02T23:25:52Z", "updated_at": "2016-03-29T14:09:54Z", "closed_at": "2016-03-29T14:09:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **toshio (Bitbucket: [toshio](http://bitbucket.org/toshio), GitHub: [toshio](http://github.com/toshio))**\n\n---\n\nhttp://bugs.python.org/issue17997#msg194950\n\nI've made a pull request to fix this on github.  I hope that's still an acceptable method:\nhttps://github.com/jaraco/setuptools/pull/2\n\nAt the same time as I was working on that, I noticed that there was a bug in the exception handling of the python-2.4 compat.  Pull request for that: https://github.com/jaraco/setuptools/pull/3\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/96\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/96/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/95", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/95/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/95/events", "html_url": "https://github.com/pypa/setuptools/issues/95", "id": 144276023, "node_id": "MDU6SXNzdWUxNDQyNzYwMjM=", "number": 95, "title": "svn 1.7 + setuptools == broken", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-10-30T11:35:35Z", "updated_at": "2016-03-29T14:09:51Z", "closed_at": "2016-03-29T14:09:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **dstufft (Bitbucket: [dstufft](http://bitbucket.org/dstufft), GitHub: [dstufft](http://github.com/dstufft))**\n\n---\n\nRunning setup.py egg_info in a svn checkout made with wvn 1.7+ seems to result in a traceback. The error stems back to this line https://bitbucket.org/pypa/setuptools/src/70ab0e8ef8fe6e16e590299e3dd359fd91eea3c8/setuptools/command/egg_info.py?at=default#cl-242\n\nFrom looking at it, it appears that the problem is the fact that setuptools parses the .svn/entries file manually which the format was changed to only contain the number 12.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/95\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/95/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/94", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/94/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/94/events", "html_url": "https://github.com/pypa/setuptools/issues/94", "id": 144276015, "node_id": "MDU6SXNzdWUxNDQyNzYwMTU=", "number": 94, "title": "CRC check failed on setuptools 1.1.7?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-10-30T07:57:05Z", "updated_at": "2016-03-29T14:09:48Z", "closed_at": "2016-03-29T14:09:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **philiptzou (Bitbucket: [philiptzou](http://bitbucket.org/philiptzou), GitHub: [philiptzou](http://github.com/philiptzou))**\n\n---\n\n```\n#!bash\n\n[guokr@10.0.80.48] run: curl --silent -O https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\n[guokr@10.0.80.48] sudo: python ez_setup.py\n[guokr@10.0.80.48] out: Extracting in /tmp/tmpV3I05A\n[guokr@10.0.80.48] out: Traceback (most recent call last):\n[guokr@10.0.80.48] out:   File \"ez_setup.py\", line 382, in <module>\n[guokr@10.0.80.48] out:     sys.exit(main())\n[guokr@10.0.80.48] out:   File \"ez_setup.py\", line 379, in main\n[guokr@10.0.80.48] out:     return _install(tarball, _build_install_args(options))\n[guokr@10.0.80.48] out:   File \"ez_setup.py\", line 56, in _install\n[guokr@10.0.80.48] out:     _extractall(tar)\n[guokr@10.0.80.48] out:   File \"ez_setup.py\", line 315, in _extractall\n[guokr@10.0.80.48] out:     self.extract(tarinfo, path)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 2085, in extract\n[guokr@10.0.80.48] out:     self._extract_member(tarinfo, os.path.join(path, tarinfo.name))\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 2161, in _extract_member\n[guokr@10.0.80.48] out:     self.makefile(tarinfo, targetpath)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 2201, in makefile\n[guokr@10.0.80.48] out:     copyfileobj(source, target)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 266, in copyfileobj\n[guokr@10.0.80.48] out:     shutil.copyfileobj(src, dst)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/shutil.py\", line 49, in copyfileobj\n[guokr@10.0.80.48] out:     buf = fsrc.read(length)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 819, in read\n[guokr@10.0.80.48] out:     buf += self.fileobj.read(size - len(buf))\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 737, in read\n[guokr@10.0.80.48] out:     return self.readnormal(size)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/tarfile.py\", line 746, in readnormal\n[guokr@10.0.80.48] out:     return self.fileobj.read(size)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/gzip.py\", line 256, in read\n[guokr@10.0.80.48] out:     self._read(readsize)\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/gzip.py\", line 303, in _read\n[guokr@10.0.80.48] out:     self._read_eof()\n[guokr@10.0.80.48] out:   File \"/usr/lib/python2.7/gzip.py\", line 342, in _read_eof\n[guokr@10.0.80.48] out:     hex(self.crc)))\n[guokr@10.0.80.48] out: IOError: CRC check failed 0xaab85061 != 0x57cc29b7L\n\n```\n\nAfter I switch to 1.1.6 branch, it goes okay.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/94\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/94/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/94/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/92", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/92/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/92/events", "html_url": "https://github.com/pypa/setuptools/issues/92", "id": 144275994, "node_id": "MDU6SXNzdWUxNDQyNzU5OTQ=", "number": 92, "title": "docs: post install hook", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-10-18T14:12:43Z", "updated_at": "2016-03-29T14:09:43Z", "closed_at": "2016-03-29T14:09:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **thomas-guettler (Bitbucket: [thomas-guettler](http://bitbucket.org/thomas-guettler), GitHub: Unknown)**\n\n---\n\nthe current documentation does not contain \"post install\":\n\nhttp://pythonhosted.org/setuptools/search.html?q=post+install\n\nPlease explain in the docs how to create a post install hook.\n\nIs it still necessary to subclass the cmdclass like in this example?\n\nhttp://stackoverflow.com/a/1321345/633961\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/92\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/92/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/92/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/91", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/91/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/91/events", "html_url": "https://github.com/pypa/setuptools/issues/91", "id": 144275984, "node_id": "MDU6SXNzdWUxNDQyNzU5ODQ=", "number": 91, "title": "Install setuptools for python on mac", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-10-18T12:56:10Z", "updated_at": "2016-03-29T14:09:40Z", "closed_at": "2016-03-29T14:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nHi, \nI need easy_install to install a package on python2.7. I'm using mac10.6, my version of python is the framework 2.7 \nthis is what I get when I try : \n\npython ez_setup.py \n\n```\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-1.1.6.tar.gz\nTraceback (most recent call last):\n  File \"ez_setup.py\", line 370, in <module>\n    sys.exit(main())\n  File \"ez_setup.py\", line 366, in main\n    downloader_factory=options.downloader_factory)\n  File \"ez_setup.py\", line 278, in download_setuptools\n    downloader(url, saveto)\n  File \"ez_setup.py\", line 185, in download_file_curl\n    subprocess.check_call(cmd)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 542, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['curl', 'https://pypi.python.org/packages/source/s/setuptools/setuptools-1.1.6.tar.gz', '--silent', '--output', '/Users/cblin/Downloads/setuptools-1.1.6.tar.gz']' returned non-zero exit status 7\n```\n\nThank you for your help\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/91\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/91/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/89", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/89/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/89/events", "html_url": "https://github.com/pypa/setuptools/issues/89", "id": 144275954, "node_id": "MDU6SXNzdWUxNDQyNzU5NTQ=", "number": 89, "title": "easy_install quits with \"error: None\" in setuptools 1.1.6", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-10-15T07:44:07Z", "updated_at": "2016-03-29T14:09:34Z", "closed_at": "2016-03-29T14:09:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mgedmin (Bitbucket: [mgedmin](http://bitbucket.org/mgedmin), GitHub: [mgedmin](http://github.com/mgedmin))**\n\n---\n\n```\n$ virtualenv env\n$ env/bin/pip install -U setuptools\n$ env/bin/easy_install --version\nsetuptools 1.1.6\n\n$ env/bin/easy_install zc.buildout==1.7.1\nerror: None\n```\n\nI wouldn't mind too much (env/bin/pip exists after all), but zc.buildout uses easy_install to bootstrap itself, so this error means I cannot bootstrap any buildouts on this box.\n\nOther interesting commands that fail:\n\n```\n$ env/bin/easy_install zc.buildout\nerror: None\n\n$ env/bin/easy_install\nerror: None\n```\n\nMeanwhile `easy_install --help` works.\n\nThe OS here is Ubuntu 11.10 \"Natty\", which is no longer supported by Canonical and should be upgraded ASAP.  I cannot reproduce this bug on Ubuntu 12.04 LTS or Ubuntu 10.04 LTS servers.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/89\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/89/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/87", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/87/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/87/events", "html_url": "https://github.com/pypa/setuptools/issues/87", "id": 144275925, "node_id": "MDU6SXNzdWUxNDQyNzU5MjU=", "number": 87, "title": "python bytecode not included in egg for capitalised extensions \"*.Py\"", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}, {"id": 1097197838, "node_id": "MDU6TGFiZWwxMDk3MTk3ODM4", "url": "https://api.github.com/repos/pypa/setuptools/labels/Needs%20Repro", "name": "Needs Repro", "color": "179fc1", "default": false, "description": "Issues that need a reproducible example."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-09-30T14:49:10Z", "updated_at": "2022-01-07T19:44:06Z", "closed_at": "2022-01-07T19:44:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **bryancole (Bitbucket: [bryancole](http://bitbucket.org/bryancole), GitHub: [bryancole](http://github.com/bryancole))**\n\n---\n\nI have a package which I distribute as a zipped egg. One of the python modules within the egg happens to have the extension \".Py\" (capitalised, rather than lowercase \".py\"). This doesn't not cause python any problems in importing the module. Nor does it prevent setuptools from creating an egg. The setuptools output for bdist_egg indicates that it find the module and even compiles it to a .pyc file. However, while the source code gets included in the egg, the bytecode file is omitted. This causes the module import to fail when the packages is installed in zipped egg form (because there is no bytecode and python can't add bytecode to a zip archive).\n\nI think this is a bug in setuptools. It doesn't seem like there's any reason why the .pyc file shouldn't be included in the egg. If there is some reason, then setuptools should fail with an exception during the egg build process.\n\nBTW. This is occuring on Windows. I haven't tested on linux or other platforms.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/87\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/87/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/87/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/86", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/86/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/86/events", "html_url": "https://github.com/pypa/setuptools/issues/86", "id": 144275916, "node_id": "MDU6SXNzdWUxNDQyNzU5MTY=", "number": 86, "title": "ssl_support issue", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-27T13:57:25Z", "updated_at": "2022-01-04T16:56:14Z", "closed_at": "2022-01-04T16:56:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\nHey,\n\nWe've seen {{easy_install} failing with weird SSL errors on Ubuntu-13.04.\nFor some reason that we don't know yet, the only SSL certificates file on our machines, \n/etc/ssl/certs/ca-certificates.crt, was empty. and then this happens:\n\n```\n#!python\n\nvagrant@raring64:/vagrant$ python/bin/easy_install infi.pyutils\nSearching for infi.pyutils\nReading https://pypi.python.org/simple/infi.pyutils/\nDownload error on https://pypi.python.org/simple/infi.pyutils/: [Errno 0] _ssl.c:340: error:00000000:lib(0):func(0):reason(0) -- Some packages may not be found!\nCouldn't find index page for 'infi.pyutils' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: [Errno 0] _ssl.c:340: error:00000000:lib(0):func(0):reason(0) -- Some packages may not be found!\nNo local packages or download links found for infi.pyutils\nerror: Could not find suitable distribution for Requirement.parse('infi.pyutils')\n\n```\n\nTo fix this, I suggest to have setuptools.ssl_support.is_available to return True if os.name != 'nt' and at least one of the cert_paths exists and non-empty\n\nI know its a corner case, but it happened on quite a few hosts of ours, and the error message yields no clues about what the problem is.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/86\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/86/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/86/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/85", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/85/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/85/events", "html_url": "https://github.com/pypa/setuptools/issues/85", "id": 144275902, "node_id": "MDU6SXNzdWUxNDQyNzU5MDI=", "number": 85, "title": "TypeError: dist must be a Distribution instance", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-25T19:53:58Z", "updated_at": "2016-03-29T14:09:22Z", "closed_at": "2016-03-29T14:09:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **michaeltripoli (Bitbucket: [michaeltripoli](http://bitbucket.org/michaeltripoli), GitHub: Unknown)**\n\n---\n\nPlease forgive if this is misdirected but I'd really like for a setuptools developer to comment on [github.com/Netflix/aminator/issues/147](https://github.com/Netflix/aminator/issues/147#issuecomment-25062382).\n\nquick summary:\naminator depends on stevedore plus other libraries\nlibrary stevedore==0.12 converted setup to use pbr\naminator setup.py fails with TypeError following successful installation of stevedore\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/85\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/85/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/85/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/84", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/84/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/84/events", "html_url": "https://github.com/pypa/setuptools/issues/84", "id": 144275885, "node_id": "MDU6SXNzdWUxNDQyNzU4ODU=", "number": 84, "title": "ez_setup should not fail if current directory is not writable", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-09-19T14:32:16Z", "updated_at": "2022-01-04T16:49:50Z", "closed_at": "2022-01-04T16:49:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **plemarre (Bitbucket: [plemarre](http://bitbucket.org/plemarre), GitHub: [plemarre](http://github.com/plemarre))**\n\n---\n\nHi, running ez_setup.py script will download the installation file in the same location than the script by default. It can be a problem if the script is located in a directory that is not writable, e.g. a DVD for example.\n\nI propose to use tempfile.mkdtemp to use a more reliable temporary location.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/84\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/84/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/81", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/81/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/81/events", "html_url": "https://github.com/pypa/setuptools/issues/81", "id": 144275826, "node_id": "MDU6SXNzdWUxNDQyNzU4MjY=", "number": 81, "title": "ez_setup should remove bad downloaded tar file if there was a failure", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-17T05:42:16Z", "updated_at": "2022-01-04T16:16:13Z", "closed_at": "2022-01-04T16:16:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **sureshvv (Bitbucket: [sureshvv](http://bitbucket.org/sureshvv), GitHub: [sureshvv](http://github.com/sureshvv))**\n\n---\n\nIt leaves behind a zero length file. Subsequent runs assume the file is good and fail at a different point.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/81\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/81/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/81/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/80", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/80/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/80/events", "html_url": "https://github.com/pypa/setuptools/issues/80", "id": 144275815, "node_id": "MDU6SXNzdWUxNDQyNzU4MTU=", "number": 80, "title": "Packages listed in setup_requires are downloaded into the directory that contains setup.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-09-16T16:18:37Z", "updated_at": "2016-03-29T14:09:06Z", "closed_at": "2016-03-29T14:09:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ngrilly (Bitbucket: [ngrilly](http://bitbucket.org/ngrilly), GitHub: [ngrilly](http://github.com/ngrilly))**\n\n---\n\nI use setup_requires in one of my projects, and was a bit surprised to find the eggs listed in setup_requires added to my working directory after having run `python setup.py sdist`.\n\nThis behavior is clearly documented [here](http://pythonhosted.org/setuptools/setuptools.html#new-and-changed-setup-keywords) but is still quite unexpected.\n\nIs there a reason for this or is it something that can changed?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/80\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/80/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/80/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/77", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/77/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/77/events", "html_url": "https://github.com/pypa/setuptools/issues/77", "id": 144275758, "node_id": "MDU6SXNzdWUxNDQyNzU3NTg=", "number": 77, "title": "Form encoding error with upload in Python 2.4", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-09-06T22:20:18Z", "updated_at": "2016-03-29T14:08:54Z", "closed_at": "2016-03-29T14:08:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **behackett (Bitbucket: [behackett](http://bitbucket.org/behackett), GitHub: [behackett](http://github.com/behackett))**\n\n---\n\n```\n#!python\n\n...\nremoving 'build\\bdist.win32\\egg' (and everything under it)\nrunning upload\nSubmitting dist\\pymongo-2.6.2-py2.4-win32.egg to https://pypi.python.org/pypi\nUpload failed (400): Form data is not correctly encoded in UTF-8\n```\n\nThis is with setuptools 1.1.1\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/77\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/77/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/76", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/76/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/76/events", "html_url": "https://github.com/pypa/setuptools/issues/76", "id": 144275744, "node_id": "MDU6SXNzdWUxNDQyNzU3NDQ=", "number": 76, "title": "upload.py failure in python 2.4", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-09-04T00:48:56Z", "updated_at": "2016-03-29T14:08:51Z", "closed_at": "2016-03-29T14:08:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **behackett (Bitbucket: [behackett](http://bitbucket.org/behackett), GitHub: [behackett](http://github.com/behackett))**\n\n---\n\nThis is on Windows if that matters at all.\n\n```\n#!python\n\nremoving 'build\\bdist.win32\\wininst' (and everything under it)\nrunning upload\nTraceback (most recent call last):\n  File \"setup.py\", line 312, in ?\n    cmdclass={\"build_ext\": custom_build_ext,\n  File \"C:\\Python24\\lib\\distutils\\core.py\", line 149, in setup\n    dist.run_commands()\n  File \"C:\\Python24\\lib\\distutils\\dist.py\", line 946, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Python24\\lib\\distutils\\dist.py\", line 966, in run_command\n    cmd_obj.run()\n  File \"c:\\python24\\lib\\site-packages\\setuptools-1.1-py2.4.egg\\setuptools\\command\\upload.\n    self.upload_file(command, pyversion, filename)\n  File \"c:\\python24\\lib\\site-packages\\setuptools-1.1-py2.4.egg\\setuptools\\command\\upload.\n    body = StringIO.StringIO()\nAttributeError: class StringIO has no attribute 'StringIO'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/76\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/73", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/73/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/73/events", "html_url": "https://github.com/pypa/setuptools/issues/73", "id": 144275674, "node_id": "MDU6SXNzdWUxNDQyNzU2NzQ=", "number": 73, "title": "TypeError: dist must be a Distribution instance", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2013-08-29T17:22:10Z", "updated_at": "2016-09-18T06:57:17Z", "closed_at": "2016-03-29T14:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nThis works on a fresh clean precise vm:\n\n```\nwget https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.8.tar.gz\ntar zxvf setuptools-0.9.8.tar.gz\ncd setuptools-0.9.8/\nsudo python setup.py install\ncd\nsudo easy_install pip\nsudo aptitude install libffi-dev\ngit clone git@github.com:openstack/swift.git\ncd swift/\nsudo python setup.py install\n```\n\nIf I s/setuptools-0.9.8/setuptools-1.1/g those commands, the swift install fails with the Distribution TypeError\n\n```\nProcessing dependencies for swift==1.9.2.39.g261142d\nSearching for python-swiftclient\nReading https://pypi.python.org/simple/python-swiftclient/\nBest match: python-swiftclient 1.5.0\nDownloading https://pypi.python.org/packages/source/p/python-swiftclient/python-swiftclient-1.5.0.tar.gz#md5=717ade4e91c0f5372f6fa6d545e7bab7\nProcessing python-swiftclient-1.5.0.tar.gz\nWriting /tmp/easy_install-5ywEpr/python-swiftclient-1.5.0/setup.cfg\nRunning python-swiftclient-1.5.0/setup.py -q bdist_egg --dist-dir /tmp/easy_install-5ywEpr/python-swiftclient-1.5.0/egg-dist-tmp-wk8goo\n/usr/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'd2to1'\n  warnings.warn(msg)\n/usr/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'setup_requires'\n  warnings.warn(msg)\nTraceback (most recent call last):\n  File \"setup.py\", line 22, in <module>\n    pbr=True)\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/home/clayg/setuptools-1.1/setuptools/command/develop.py\", line 27, in run\n    self.install_for_development()\n  File \"/home/clayg/setuptools-1.1/setuptools/command/develop.py\", line 129, in install_for_development\n    self.process_distribution(None, self.dist, not self.no_deps)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 684, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"/home/clayg/setuptools-1.1/pkg_resources.py\", line 568, in resolve\n    dist = best[req.key] = env.best_match(req, self, installer)\n  File \"/home/clayg/setuptools-1.1/pkg_resources.py\", line 806, in best_match\n    return self.obtain(req, installer) # try and download/install\n  File \"/home/clayg/setuptools-1.1/pkg_resources.py\", line 818, in obtain\n    return installer(requirement)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 606, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 636, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 822, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 1084, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/home/clayg/setuptools-1.1/setuptools/command/easy_install.py\", line 1069, in run_setup\n    run_setup(setup_script, args)\n  File \"/home/clayg/setuptools-1.1/setuptools/sandbox.py\", line 69, in run_setup\n    lambda: execfile(\n  File \"/home/clayg/setuptools-1.1/setuptools/sandbox.py\", line 120, in run\n    return func()\n  File \"/home/clayg/setuptools-1.1/setuptools/sandbox.py\", line 71, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"setup.py\", line 21, in <module>\n    setup_requires=['pbr>=0.5.21,<1.0'],\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 970, in run_command\n    cmd_obj = self.get_command_obj(command)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 846, in get_command_obj\n    cmd_obj = self.command_obj[command] = klass(self)\n  File \"/home/clayg/setuptools-1.1/setuptools/__init__.py\", line 60, in __init__\n    _Command.__init__(self,dist)\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 59, in __init__\n    raise TypeError, \"dist must be a Distribution instance\"\nTypeError: dist must be a Distribution instance\n```\n\nIt has something to do with distutils/core.py's Distribution class not being patched to setuptools.dist.Distribution in time during the dependency installation, because the \"TypeError: dist must be a Distribution instance\" that's being raised is from the distutils code is lazy importing distutils.dist.Distribution and gets setuptools.dist.Distribution, but the \"dist\" instance is checking is_subclass on is really a distutils.dist.Distribution - because it was instantiated as such back in the dependencies call to setuptools.setup (which I guess is _really_ distutils.core.setup).\n\nWhat's curious is that when I drop a pdb.set_trace() in distutils.core around line # 102 to catch the case where `Distribution.__module__.startswith('distutils')` - I find it's _only_ distutils.core.Distribution that's un-patched. sys.modules['distutils'].dist.Distribution verifies that there it is in fact setuptools.dist.Distribution, but that must have happened after this module imported it. If I reload(sys.modules['setuptools.dist']) the side-effect monkey patching fixes everything and the install completes just fine.\n\nIf I patch the setuptools source before I install it like so:\n\ncurl http://paste.openstack.org/raw/45403/ | patch -p1\n\nIt seems to work.\n\nI think this bug effects any project who's dependencies have a setup_requires line - maybe.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/73\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/73/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/72", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/72/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/72/events", "html_url": "https://github.com/pypa/setuptools/issues/72", "id": 144275657, "node_id": "MDU6SXNzdWUxNDQyNzU2NTc=", "number": 72, "title": "ez_setup.py invalid syntax - python 2.4", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-26T23:12:53Z", "updated_at": "2016-03-29T14:08:24Z", "closed_at": "2016-03-29T14:08:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **behackett (Bitbucket: [behackett](http://bitbucket.org/behackett), GitHub: [behackett](http://github.com/behackett))**\n\n---\n\n```\n#!python\n\n$ sudo python2.4 ez_setup.py \n  File \"ez_setup.py\", line 176\n    finally:\n          ^\nSyntaxError: invalid syntax\n```\n\nProbably just a recent oversight, but you can't combine except and finally in 2.4.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/72\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/72/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/69", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/69/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/69/events", "html_url": "https://github.com/pypa/setuptools/issues/69", "id": 144275610, "node_id": "MDU6SXNzdWUxNDQyNzU2MTA=", "number": 69, "title": "Python 2.6: URLs should be stripped of #egg= fragments", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-08-21T11:12:51Z", "updated_at": "2016-03-29T14:08:13Z", "closed_at": "2016-03-29T14:08:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rassie (Bitbucket: [rassie](http://bitbucket.org/rassie), GitHub: [rassie](http://github.com/rassie))**\n\n---\n\nMerged setuptools is missing a crucial [conditional](https://bitbucket.org/tarek/distribute/annotate/3bf82d0cbc6e0a6d383f177c4def1222f3c3ba46/setuptools/package_index.py?at=default#cl-570) from distribute in the `package_index._download_to` function: \n\n```\nif '#' in url:\n    url, info = url.split('#', 1)\n```\n\nBecause of this, the `#egg=` is sent to the server and probably URL-encoded. At least for Bitbucket URLs this leads to 404 errors, but it wrong in general, since `#egg=` is metadata for setuptools only.\n\nThis error is probably not visible in Python 2.7+, since `urllib2` has been [patched](http://bugs.python.org/issue8280) to ignore the URL fragment on request.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/69\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/69/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/68", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/68/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/68/events", "html_url": "https://github.com/pypa/setuptools/issues/68", "id": 144275559, "node_id": "MDU6SXNzdWUxNDQyNzU1NTk=", "number": 68, "title": "trouble running setuptools during the Barnybug-cli53 install", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-20T17:51:46Z", "updated_at": "2016-03-29T14:08:03Z", "closed_at": "2016-03-29T14:08:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nI am attempting to stand up an instance that is running AWS Route 53\n\nWhile running the barnybug-cli53, I am getting an error  that I am unable to understand. I looked the command being run individually and they execute with no problem. however when run through this setuptools i am getting an error.\n\nI runn this same script a week ago successfully and since then I have not made any changes to the same script. Any help will be appreciated.\nthank you\n\n```\n17:04:00: ez['use_setuptools'](**setup_args)\n17:04:00: File \"<string>\", line 132, in use_setuptools\n17:04:00: File \"<string>\", line 110, in _do_download\n17:04:00: File \"<string>\", line 271, in download_setuptools\n17:04:00: File \"<string>\", line 201, in download_file_wget\n17:04:00: File \"/usr/lib64/python2.6/subprocess.py\", line 488, in check_call\n17:04:00: raise CalledProcessError(retcode, cmd)\n17:04:00: subprocess\n```\n\n```\n17:03:59: + '[' '' == true ']'\n17:03:59: + set +ex\n17:03:59: rm:\n17:03:59: cannot remove `/usr/local/barnybug-cli53-*'\n17:03:59: : No such file or directory\n17:03:59: rm:\n17:03:59: cannot remove `/usr/local/barnybug-cli53'\n17:03:59: : No such file or directory\n17:03:59: + unzip -d /usr/local /var/cache/rightscale/right_scripts_content/rs_attach23949306923580/barnybug-cli53-3b468b7.zip\n17:03:59: Archive:  /var/cache/rightscale/right_scripts_content/rs_attach23949306923580/barnybug-cli53-3b468b7.zip\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/.gitignore\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/bootstrap.py\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/bootstrap_old.py\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/buildout.cfg\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/buildout_old.cfg\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/README.markdown\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/setup.py\n17:03:59: creating: /usr/local/barnybug-cli53-3b468b7/src/\n17:03:59: creating: /usr/local/barnybug-cli53-3b468b7/src/cli53/\n17:03:59: extracting: /usr/local/barnybug-cli53-3b468b7/src/cli53/__init__.py\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/src/cli53/argparse.py\n17:03:59: inflating: /usr/local/barnybug-cli53-3b468b7/src/cli53/cli53.py\n17:03:59: + chmod -R 775 /usr/local/barnybug-cli53-3b468b7\n17:03:59: + ln -sf /usr/local/barnybug-cli53-3b468b7 /usr/local/barnybug-cli53\n17:03:59: + cd /usr/local/barnybug-cli53\n17:03:59: + python26 bootstrap.py\n17:03:59: Downloading https://pypi.python.org/packages/source/s/setuptools/setuptools-1.0.tar.gz\n17:03:59: Traceback (most recent call last):\n17:04:00: File \"bootstrap.py\", line 82, in <module>\n17:04:00: ez['use_setuptools'](**setup_args)\n17:04:00: File \"<string>\", line 132, in use_setuptools\n17:04:00: File \"<string>\", line 110, in _do_download\n17:04:00: File \"<string>\", line 271, in download_setuptools\n17:04:00: File \"<string>\", line 201, in download_file_wget\n17:04:00: File \"/usr/lib64/python2.6/subprocess.py\", line 488, in check_call\n17:04:00: raise CalledProcessError(retcode, cmd)\n17:04:00: subprocess\n17:04:00: .\n17:04:00: CalledProcessError\n17:04:00: :\n17:04:00: Command '['wget', 'https://pypi.python.org/packages/source/s/setuptools/setuptools-1.0.tar.gz', '--quiet', '--output-document', '/tmp/tmp79K42R/setuptools-1.0.tar.gz']' returned non-zero exit status 1\n17:04:00: Script exit status: 1\n17:04:00: Script duration: 1.421632\n*ERROR> Execution failed\n*ERROR> External command error: RightScript < Route53_barnybug-cli53_Install > exited with 1\n*ERROR> Subprocess exited with 1\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/68\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/68/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/67", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/67/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/67/events", "html_url": "https://github.com/pypa/setuptools/issues/67", "id": 144275548, "node_id": "MDU6SXNzdWUxNDQyNzU1NDg=", "number": 67, "title": "ez_setup.py fails on some Windows, PowerShell is not available on ALL Windows6 platforms", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-19T08:58:16Z", "updated_at": "2016-03-29T14:07:59Z", "closed_at": "2016-03-29T14:07:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **guyroz (Bitbucket: [guyroz](http://bitbucket.org/guyroz), GitHub: Unknown)**\n\n---\n\n```\n#!python\n\ndownload_file_powershell.viable = (\n    lambda: platform.system() == 'Windows' and platform.win32_ver()[1] >= '6'\n)\n```\n\ntaken from ez_setup.py. this is not good; you should check if PowerShell exists instead of assuming it is there\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/67\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/67/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/67/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/65", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/65/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/65/events", "html_url": "https://github.com/pypa/setuptools/issues/65", "id": 144275509, "node_id": "MDU6SXNzdWUxNDQyNzU1MDk=", "number": 65, "title": "Deprecate and remove 'Features'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2013-08-11T12:15:49Z", "updated_at": "2020-03-08T19:51:11Z", "closed_at": "2020-03-08T19:51:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #58, it comes to my attention that the Features implementation is incomplete and should be removed.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/65\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/65/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/65/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/64", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/64/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/64/events", "html_url": "https://github.com/pypa/setuptools/issues/64", "id": 144275502, "node_id": "MDU6SXNzdWUxNDQyNzU1MDI=", "number": 64, "title": "Web site's home page lists version 0.9.5 as current i.s.o. 0.9.8", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-08T01:32:33Z", "updated_at": "2016-03-29T14:07:49Z", "closed_at": "2016-03-29T14:07:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **rogererens (Bitbucket: [rogererens](http://bitbucket.org/rogererens), GitHub: [rogererens](http://github.com/rogererens))**\n\n---\n\nhttp://pythonhosted.org/setuptools/ shows in the left pane \"Current version: 0.9.5\" althought pypi is already at 0.9.8\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/64\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/64/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/63", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/63/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/63/events", "html_url": "https://github.com/pypa/setuptools/issues/63", "id": 144275489, "node_id": "MDU6SXNzdWUxNDQyNzU0ODk=", "number": 63, "title": "Secure bootstrap technique", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-08-07T12:04:28Z", "updated_at": "2016-03-29T14:07:47Z", "closed_at": "2016-03-29T14:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\n@dstufft has pointed out that the bootstrap technique for setuptools uses Python's urllib for downloading tarballs, and this technique, even though it uses SSL, does not do proper certificate validation, so is still subject to a man-in-the-middle attack.\n\nOne proposed suggestion is to simply deprecate the use of ez_setup and change the bootstrap instructions to direct users to download, extract, and install the tarball directly (presumably using a secure HTTP client).\n\nAnother possible approach is to secure the bootstrap script itself, such as is being discussed in #11.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/63\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/63/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/63/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/62", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/62/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/62/events", "html_url": "https://github.com/pypa/setuptools/issues/62", "id": 144275474, "node_id": "MDU6SXNzdWUxNDQyNzU0NzQ=", "number": 62, "title": "Syntax Error in documentations", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-07T08:26:44Z", "updated_at": "2016-03-29T14:07:42Z", "closed_at": "2016-03-29T14:07:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nHi,\n\nI found a small error on [Documentation: declaring-extras-optional-features-with-their-own-dependencies](http://pythonhosted.org/setuptools/setuptools.html#declaring-extras-optional-features-with-their-own-dependencies).\n\nThe code should be looking like this:\n\n```\n#!python\n\nsetup(\n    name=\"Project-A\",\n    ...\n    entry_points = {\n        'console_scripts':[\n            ['rst2pdf = project_a.tools.pdfgen [PDF]'],\n            ['rst2html = project_a.tools.htmlgen'],\n            # more script entry points ...\n            ],\n    }\n)\n```\n\nNote the [ ] I added. ;)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/62\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/62/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/61", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/61/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/61/events", "html_url": "https://github.com/pypa/setuptools/issues/61", "id": 144275443, "node_id": "MDU6SXNzdWUxNDQyNzU0NDM=", "number": 61, "title": "customized URL openers are bypassed", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-08-06T13:26:24Z", "updated_at": "2016-03-29T14:07:36Z", "closed_at": "2016-03-29T14:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **wichert (Bitbucket: [wichert](http://bitbucket.org/wichert), GitHub: [wichert](http://github.com/wichert))**\n\n---\n\nWhen using setuptools 0.8 and later [lovely.buildouthttp](https://pypi.python.org/pypi/lovely.buildouthttp) no longer works.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/61\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/61/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/59", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/59/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/59/events", "html_url": "https://github.com/pypa/setuptools/issues/59", "id": 144275417, "node_id": "MDU6SXNzdWUxNDQyNzU0MTc=", "number": 59, "title": "setuptools installation instructions fail on OS X: no wget", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-08-05T18:53:25Z", "updated_at": "2016-03-29T14:07:31Z", "closed_at": "2016-03-29T14:07:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ned_deily (Bitbucket: [ned_deily](http://bitbucket.org/ned_deily), GitHub: Unknown)**\n\n---\n\nThe current installation instructions for [Unix-based Systems including Mac OS X](https://pypi.python.org/pypi/setuptools/0.9.8#unix-based-systems-including-mac-os-x) do not work on vanilla OS X systems because OS X does not ship with `wget`.  It does, however, ship with `curl`.  (The Distribute web page had been updated a long time ago to use `curl`.)\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/59\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/59/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/59/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/58", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/58/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/58/events", "html_url": "https://github.com/pypa/setuptools/issues/58", "id": 144275384, "node_id": "MDU6SXNzdWUxNDQyNzUzODQ=", "number": 58, "title": "`Feature(..., require_features=[...])` with `Require` instances doesn't install additional dependencies", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-08-01T19:48:49Z", "updated_at": "2016-03-29T14:07:23Z", "closed_at": "2016-03-29T14:07:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **paluh (Bitbucket: [paluh](http://bitbucket.org/paluh), GitHub: [paluh](http://github.com/paluh))**\n\n---\n\nHi,\n\nAs far as I understand `Feature` documentation I should be able to use `require_features` to force installation of additional requirements when given feature is enabled.\n\nHere is my example `setup.py` file:\n\n```\n:::python\nfrom setuptools import setup, Distribution, Feature, Require\n\nsetup(name='spam', author='Spammer',\n      author_email='spammer@example.com', distclass=Distribution,\n      features={'eggs': Feature('Spam with eggs', standard=True,\n                                require_features=[Require('Eggs', None, 'eggggs')])})\n```\n\nPackage based on above `setup.py` should fail during installation as `eggggs` package doesn't exists. If I change this package to some existing one it dosn't get installed either.\n\nAm I missing something? If so - should I extend Distribution to handle `require_features` in any specific manner? Any examples?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/58\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/58/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/58/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/56", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/56/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/56/events", "html_url": "https://github.com/pypa/setuptools/issues/56", "id": 144275369, "node_id": "MDU6SXNzdWUxNDQyNzUzNjk=", "number": 56, "title": "UnicodeDecodeError error when building packages with python 3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-29T15:15:02Z", "updated_at": "2016-03-29T14:07:17Z", "closed_at": "2016-03-29T14:07:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **iElectric (Bitbucket: [iElectric](http://bitbucket.org/iElectric), GitHub: Unknown)**\n\n---\n\n```\n#!python\n\nRunning setup.py -q bdist_egg --dist-dir /tmp/nix-build-python3.3-dateutil-2.1.drv-0/python-dateutil-2.1/egg-dist-tmp-wc9aoj\nTraceback (most recent call last):\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/bin/.easy_install-wrapped\", line 9, in <module>\n    load_entry_point('setuptools==0.9.8', 'console_scripts', 'easy_install')()\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 1992, in main\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 1979, in with_ei_usage\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 1996, in <lambda>\n  File \"/nix/store/wsdh5dkcvfsl79q9v25kngcb0dpqja5w-python-offline-distutils-3.3.2/lib/python3.3/site-packages/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/nix/store/wsdh5dkcvfsl79q9v25kngcb0dpqja5w-python-offline-distutils-3.3.2/lib/python3.3/site-packages/distutils/dist.py\", line 929, in run_commands\n    self.run_command(cmd)\n  File \"/nix/store/wsdh5dkcvfsl79q9v25kngcb0dpqja5w-python-offline-distutils-3.3.2/lib/python3.3/site-packages/distutils/dist.py\", line 948, in run_command\n    cmd_obj.run()\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 380, in run\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 604, in easy_install\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 653, in install_item\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 849, in install_eggs\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 1130, in build_and_install\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/command/easy_install.py\", line 1115, in run_setup\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/sandbox.py\", line 69, in run_setup\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/sandbox.py\", line 120, in run\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/sandbox.py\", line 71, in <lambda>\n  File \"/nix/store/y6np826y0n0jkkqh3z27l1dang78jm34-python3.3m-setuptools-0.9.8/lib/python3.3/site-packages/setuptools-0.9.8-py3.3.egg/setuptools/compat.py\", line 92, in execfile\n  File \"setup.py\", line 16, in <module>\n    open(TOPDIR + \"/dateutil/__init__.py\").read()).group(1)\n  File \"/nix/store/fbrjq023g4r3pm91irqb915xnwdzj1wv-python3-3.3.2/lib/python3.3/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 193: ordinal not in range(128)\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/56\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/56/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/56/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/55", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/55/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/55/events", "html_url": "https://github.com/pypa/setuptools/issues/55", "id": 144275342, "node_id": "MDU6SXNzdWUxNDQyNzUzNDI=", "number": 55, "title": "1 failure: LC_ALL=\"C\" python3.3m setup.py test", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-07-27T16:37:42Z", "updated_at": "2016-03-29T14:07:11Z", "closed_at": "2016-03-29T14:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **iElectric (Bitbucket: [iElectric](http://bitbucket.org/iElectric), GitHub: Unknown)**\n\n---\n\nFails: \n\n```\n#!python\n\n======================================================================\nFAIL: test_sdist_with_utf8_encoded_filename (setuptools.tests.test_sdist.TestSdistTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/tmp/nix-build-python3.3m-setuptools-0.9.8.drv-0/setuptools-0.9.8/setuptools/tests/test_sdist.py\", line 354, in test_sdist_with_utf8_encoded_filename\n    self.assertTrue(filename in cmd.filelist.files)\nAssertionError: False is not true\n\n----------------------------------------------------------------------\nRan 96 tests in 1.395s\n\nFAILED (failures=1)\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/55\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/55/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/54", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/54/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/54/events", "html_url": "https://github.com/pypa/setuptools/issues/54", "id": 144275324, "node_id": "MDU6SXNzdWUxNDQyNzUzMjQ=", "number": 54, "title": "Setuptools 0.9.8 download link is broken", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-25T13:38:52Z", "updated_at": "2016-03-29T14:07:05Z", "closed_at": "2016-03-29T14:07:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **vmalloc (Bitbucket: [vmalloc](http://bitbucket.org/vmalloc), GitHub: [vmalloc](http://github.com/vmalloc))**\n\n---\n\nSee https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.8.tar.gz\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/54\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/54/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/53", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/53/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/53/events", "html_url": "https://github.com/pypa/setuptools/issues/53", "id": 144275304, "node_id": "MDU6SXNzdWUxNDQyNzUzMDQ=", "number": 53, "title": "Un-imported reference to urlsplit and urlunsplit causes breakage of dependency_links", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-07-24T18:28:50Z", "updated_at": "2016-03-29T14:07:01Z", "closed_at": "2016-03-29T14:07:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nIn commit 6015632, the package_index.py file's imports were changed.  A direct import of urllib was replaced with a \"from setuptools.compat import ( ...\" statement.  This was all fine and good for most of the file, but a few things got missed.\n\nSpecifically, the _vcs_split_rev_from_url method of PackageIndex contains a reference to urlsplit and urlunsplit.  These references were formerly qualified with \"urllib.\" prior to the commit, but after the commit were left unqualified ... and without imports from setuptools.compat.\n\nThe end-user affect of this is that if you include a URL in the dependency_links section of your setup call (a git URL with a revision and egg name, in my instance), setuptools is likely to puke on it.\n\nShould be a simple fix: Just import those functions.  But given the nature of this bug, someone might want to go back over that entire commit carefully to make sure no other similar bugs were introduced.  (And if someone added a test case for the dependency_links feature with a complex VCS url, I certainly wouldn't complain. ;-) )\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/53\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/53/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/52", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/52/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/52/events", "html_url": "https://github.com/pypa/setuptools/issues/52", "id": 144275280, "node_id": "MDU6SXNzdWUxNDQyNzUyODA=", "number": 52, "title": "SSL errors with https proxy", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-07-23T08:15:59Z", "updated_at": "2016-03-29T14:06:57Z", "closed_at": "2016-03-29T14:06:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **cmsj (Bitbucket: [cmsj](http://bitbucket.org/cmsj), GitHub: [cmsj](http://github.com/cmsj))**\n\n---\n\nFrom an image building script from diskimage-builder (part of OpenStack):\n\n```\n#!\n\n+ echo 'http_proxy: http://10.0.88.68:3128/'\nhttp_proxy: http://10.0.88.68:3128/\n+ echo 'https_proxy: http://10.0.88.68:3128/'\nhttps_proxy: http://10.0.88.68:3128/\n+ bash\nroot@stonker:/# easy_install os-apply-config\nSearching for os-apply-config\nReading https://pypi.python.org/simple/os-apply-config/\nDownload error on https://pypi.python.org/simple/os-apply-config/: [Errno 1] _ssl.c:504: error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol -- Some packages may not be found!\nCouldn't find index page for 'os-apply-config' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: [Errno 1] _ssl.c:504: error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol -- Some packages may not be found!\nNo local packages or download links found for os-apply-config\nerror: Could not find suitable distribution for Requirement.parse('os-apply-config')\nroot@stonker:/#\n\n```\n\n(the proxy URL is a very close to stock squid3 configuration on another machine on my LAN, which is used elsewhere in the building script to download OS images, etc, so is not believed to be the issue).\n\nReading through the setuptools code, I wondered if this is because the VerifyingHTTPSHandler inserted into the urllib2 opener chain, is trying to do direct socket connections. At the point it does that, I inserted a call to has_proxy() on the Request object and it returned False, which confused me as I would expect ProxyHandler to still be in the opener chain.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/52\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/52/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/51", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/51/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/51/events", "html_url": "https://github.com/pypa/setuptools/issues/51", "id": 144275269, "node_id": "MDU6SXNzdWUxNDQyNzUyNjk=", "number": 51, "title": "Downloading setuptools 0.9.7 raised 404 on PyPI", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-07-22T21:59:14Z", "updated_at": "2016-03-29T14:06:53Z", "closed_at": "2016-03-29T14:06:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **pbiggar (Bitbucket: [pbiggar](http://bitbucket.org/pbiggar), GitHub: [pbiggar](http://github.com/pbiggar))**\n\n---\n\nBut only from certain hosts. This looks like the same CDN issues behind #45 and #39.\n\nWe can download https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.7.tar.gz from our local machines, but not from https://circleci.com's build servers. It looks like a CDN issue: it works to download from 199.27.77.185 but not 199.27.72.184.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/51\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/51/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/50", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/50/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/50/events", "html_url": "https://github.com/pypa/setuptools/issues/50", "id": 144275245, "node_id": "MDU6SXNzdWUxNDQyNzUyNDU=", "number": 50, "title": "Environment marker support fails API tests on PyPy", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-07-22T21:08:57Z", "updated_at": "2016-03-29T14:06:50Z", "closed_at": "2016-03-29T14:06:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn [this Travis-CI run](https://travis-ci.org/jaraco/setuptools/jobs/9367916), we see setuptools fails two publish API tests in the environment marker support:\n\n```\nFile \"/home/travis/build/jaraco/setuptools/tests/api_tests.txt\", line 344, in api_tests.txt\nFailed example:\n    print(im(\"sys_platform==\")) # doctest: +ELLIPSIS\nExpected:\n    unexpected EOF while parsing (...line 1)\nGot:\n    invalid syntax (<string>, line 1)\n```\n\nand\n\n```\nFile \"/home/travis/build/jaraco/setuptools/tests/api_tests.txt\", line 356, in api_tests.txt\nFailed example:\n    print(im(\"(extra\")) # doctest: +ELLIPSIS\nExpected:\n    unexpected EOF while parsing (...line 1)\nGot:\n    parenthesis is never closed (<string>, lines 1-2)\n```\n\nIt seems the differences in the parser yield different error messages.\n\nEither the API expectations need to be relaxed or setuptools needs to wrap this call to translate the error messages when invoked on PyPy.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/50\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/50/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/49", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/49/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/49/events", "html_url": "https://github.com/pypa/setuptools/issues/49", "id": 144275228, "node_id": "MDU6SXNzdWUxNDQyNzUyMjg=", "number": 49, "title": "easy_install broke for pypy 1.9 ( 'HASH' object has no attribute 'name')", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-22T17:31:01Z", "updated_at": "2016-03-29T14:06:45Z", "closed_at": "2016-03-29T14:06:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **qwcode (Bitbucket: [qwcode](http://bitbucket.org/qwcode), GitHub: [qwcode](http://github.com/qwcode))**\n\n---\n\nsee pip travis build errors.\n\nhttps://travis-ci.org/pypa/pip/jobs/9358736\n\n```\n#!python\n\n    \"Validating %%s checksum for %s\" % filename)\n  File \"/home/travis/build/pypa/pip/tests/tests_cache/test_ws/.virtualenv/site-packages/setuptools/package_index.py\", line 261, in report\n    msg = template % self._get_hash_name()\n  File \"/home/travis/build/pypa/pip/tests/tests_cache/test_ws/.virtualenv/site-packages/setuptools/package_index.py\", line 254, in _get_hash_name\n    return self.hash.name\nAttributeError: 'HASH' object has no attribute 'name'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/49\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/49/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/48", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/48/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/48/events", "html_url": "https://github.com/pypa/setuptools/issues/48", "id": 144275218, "node_id": "MDU6SXNzdWUxNDQyNzUyMTg=", "number": 48, "title": "AttributeError: _dep_map", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-20T08:37:40Z", "updated_at": "2016-03-29T14:06:42Z", "closed_at": "2016-03-29T14:06:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **madhusudancs (Bitbucket: [madhusudancs](http://bitbucket.org/madhusudancs), GitHub: [madhusudancs](http://github.com/madhusudancs))**\n\n---\n\nWhat does this https://bitbucket.org/pypa/setuptools/src/7d2d455b0cd32e95262e5baffcb96bd822340473/pkg_resources.py?at=default#cl-2489 and\n\nhttps://bitbucket.org/pypa/setuptools/src/7d2d455b0cd32e95262e5baffcb96bd822340473/pkg_resources.py?at=default#cl-2543\n\nmean? If the code enters require() method, it is always supposed to raise an exception?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/48\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/48/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/48/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/47", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/47/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/47/events", "html_url": "https://github.com/pypa/setuptools/issues/47", "id": 144275208, "node_id": "MDU6SXNzdWUxNDQyNzUyMDg=", "number": 47, "title": "Remove dependency links from metadata", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-07-19T13:16:20Z", "updated_at": "2022-01-06T19:13:39Z", "closed_at": "2022-01-06T19:13:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nSetuptools currently defines dependency links to resolve its dependencies. From setup.py:\n\n```\n    dependency_links = [\n        'https://pypi.python.org/packages/source/c/certifi/certifi-0.0.8.tar.gz#md5=dc5f5e7f0b5fc08d27654b17daa6ecec',\n        'https://pypi.python.org/packages/source/s/ssl/ssl-1.16.tar.gz#md5=fb12d335d56f3c8c7c1fefc1c06c4bfb',\n        'https://pypi.python.org/packages/source/w/wincertstore/wincertstore-0.1.zip#md5=2f9accbebe8f7b4c06ac7aa83879b81c',\n        'https://bitbucket.org/pypa/setuptools/downloads/ctypes-1.0.2.win32-py2.4.exe#md5=9092a0ad5a3d79fa2d980f1ddc5e9dbc',\n        'https://bitbucket.org/pypa/setuptools/downloads/ssl-1.16-py2.4-win32.egg#md5=3cfa2c526dc66e318e8520b6f1aadce5',\n        'https://bitbucket.org/pypa/setuptools/downloads/ssl-1.16-py2.5-win32.egg#md5=85ad1cda806d639743121c0bbcb5f39b',\n    ],\n```\n\nThose links are there to support fetching of packages over SSL with certificate validation. The binary builds of ctypes and ssl are there for Windows users on Python 2.4 and 2.5 because those builds aren't available on PyPI. Ideally, these should be hosted on PyPI.\n\nI'm less sure why there are links to the source files. Presumably setuptools could discover those download links. I suspect the reason they're there is that before setuptools has SSL support, there's no secure way to bootstrap SSL support, so those links provide at least some assurance that the package downloaded is the package setuptools expects.\n\nOnce SSL is bootstrapped, however, the clients can then rely on the public key infrastructure to authenticate the server and secure the connection.\n\nIs there a way to accomplish this without the dependency links?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/47\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/47/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/46", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/46/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/46/events", "html_url": "https://github.com/pypa/setuptools/issues/46", "id": 144275188, "node_id": "MDU6SXNzdWUxNDQyNzUxODg=", "number": 46, "title": "ez_setup.py installs old version of setuptools", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-18T16:47:04Z", "updated_at": "2016-03-29T14:06:36Z", "closed_at": "2016-03-29T14:06:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nRunning ez_setup.py is the recommended way to install setuptools on Windows, but it installs version 0.8 instead of the latest (currently 0.9.6).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/46\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/46/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/45", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/45/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/45/events", "html_url": "https://github.com/pypa/setuptools/issues/45", "id": 144275165, "node_id": "MDU6SXNzdWUxNDQyNzUxNjU=", "number": 45, "title": "Downloading setuptools 0.9.6 raised 404 on PyPI.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-07-18T02:50:04Z", "updated_at": "2016-03-29T14:06:32Z", "closed_at": "2016-03-29T14:06:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **hirokiky (Bitbucket: [hirokiky](http://bitbucket.org/hirokiky), GitHub: [hirokiky](http://github.com/hirokiky))**\n\n---\n\nHi.\n\nCertairly this link will raise 404.\nhttps://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.6.tar.gz\n\nI think it is not a problem caused by the source code.\nThis issue should not be written in the bitbucket.\nBut, I don't know where I should post it.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/45\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/45/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/44", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/44/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/44/events", "html_url": "https://github.com/pypa/setuptools/issues/44", "id": 144275127, "node_id": "MDU6SXNzdWUxNDQyNzUxMjc=", "number": 44, "title": "fix winbot/py 2.4.4 bug", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-07-17T14:23:04Z", "updated_at": "2016-03-29T14:06:25Z", "closed_at": "2016-03-29T14:06:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agroszer (Bitbucket: [agroszer](http://bitbucket.org/agroszer), GitHub: [agroszer](http://github.com/agroszer))**\n\n---\n\nhttp://winbot.zope.org/builders/setuptools_master%20py_244_win32/builds/2/steps/test/logs/stdio\n# \n## ERROR: test_md5 (setuptools.tests.test_packageindex.TestContentCheckers)\n\nTraceback (most recent call last):\n  File \"c:\\buildslave\\setuptools_master_py_244_win32\\build\\setuptools\\tests\\test_packageindex.py\", line 150, in test_md5\n    self.assertEqual(checker.hash.name, 'md5')\nAttributeError: name\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/44\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/44/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/43", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/43/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/43/events", "html_url": "https://github.com/pypa/setuptools/issues/43", "id": 144275115, "node_id": "MDU6SXNzdWUxNDQyNzUxMTU=", "number": 43, "title": "Setuptools installs as older version", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-15T18:28:27Z", "updated_at": "2016-03-29T14:06:20Z", "closed_at": "2016-03-29T14:06:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn setuptools 0.9.1, the code was changed to reduce the number of places where the version number was recorded. To accomplish this, it imported setuptools and read `setuptools.__version__`. It turns out that in the upgrade scenario, this causes the new version of setuptools to be installed but with the older version number. Observe:\n\n```\njenkins@myhost:~/jobs/myapp/workspace/services$ virtualenv --setuptools myservice\nNew python executable in myservice/bin/python2.7\nAlso creating executable in myservice/bin/python\nInstalling setuptools............done.\nInstalling pip...............done.\njenkins@myhost:~/jobs/myapp/workspace/services$ myservice/bin/easy_install setuptools==0.9.3\nSearching for setuptools==0.9.3\nReading http://pypi.python.org/simple/setuptools/\nReading http://peak.telecommunity.com/snapshots/\nReading https://pypi.python.org/pypi/setuptools\nBest match: setuptools 0.9.3\nDownloading https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.3.tar.gz#md5=142b8891558ae09fa3b3070e88dca004\nProcessing setuptools-0.9.3.tar.gz\nRunning setuptools-0.9.3/setup.py -q bdist_egg --dist-dir /tmp/easy_install-SbxnMA/setuptools-0.9.3/egg-dist-tmp-QR2x8j\n/usr/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'src_root'\n  warnings.warn(msg)\nsetuptools 0.6c11 is already the active version in easy-install.pth\nInstalling easy_install script to /var/lib/jenkins/jobs/myapp/workspace/services/myservice/bin\nInstalling easy_install-2.7 script to /var/lib/jenkins/jobs/myapp/workspace/services/myservice/bin\n\nInstalled /var/lib/jenkins/jobs/myapp/workspace/services/myservice/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg\nProcessing dependencies for setuptools==0.6c11\nFinished processing dependencies for setuptools==0.6c11\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/43\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/43/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/42", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/42/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/42/events", "html_url": "https://github.com/pypa/setuptools/issues/42", "id": 144275109, "node_id": "MDU6SXNzdWUxNDQyNzUxMDk=", "number": 42, "title": "AttributeError 'NoneType' has no attribute 'group' in package_index", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-15T14:07:48Z", "updated_at": "2016-03-29T14:06:18Z", "closed_at": "2016-03-29T14:06:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nWhen attempting to install packages from a custom cheeseshop (chishop), the latest setuptools doesn't handle blank md5 values well.\n\n```\nBest match: nose 1.1.2\nDownloading http://yfiles.example.com/dists/nose-1.1.2.tar.gz#md5=\nTraceback (most recent call last):\n  File \"setup.py\", line 159, in <module>\n    setup(**setup_params)\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/develop.py\", line 27, in run\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/develop.py\", line 129, in install_for_development\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 706, in process_distribution\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 618, in resolve\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 862, in best_match\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 874, in obtain\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 623, in easy_install\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 653, in install_item\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 849, in install_eggs\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 1130, in build_and_install\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 1115, in run_setup\n  File \"build/bdist.linux-x86_64/egg/setuptools/sandbox.py\", line 69, in run_setup\n  File \"build/bdist.linux-x86_64/egg/setuptools/sandbox.py\", line 120, in run\n  File \"build/bdist.linux-x86_64/egg/setuptools/sandbox.py\", line 71, in <lambda>\n  File \"setup.py\", line 23, in <module>\n\n  File \"/usr/lib/python2.7/distutils/core.py\", line 112, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"build/bdist.linux-x86_64/egg/setuptools/dist.py\", line 265, in __init__\n  File \"build/bdist.linux-x86_64/egg/setuptools/dist.py\", line 289, in fetch_build_eggs\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 618, in resolve\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 862, in best_match\n  File \"build/bdist.linux-x86_64/egg/pkg_resources.py\", line 874, in obtain\n  File \"build/bdist.linux-x86_64/egg/setuptools/dist.py\", line 339, in fetch_build_egg\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/easy_install.py\", line 611, in easy_install\n  File \"build/bdist.linux-x86_64/egg/setuptools/package_index.py\", line 541, in fetch_distribution\n  File \"build/bdist.linux-x86_64/egg/setuptools/package_index.py\", line 455, in download\n  File \"build/bdist.linux-x86_64/egg/setuptools/package_index.py\", line 711, in _download_url\n  File \"build/bdist.linux-x86_64/egg/setuptools/package_index.py\", line 718, in _attempt_download\n  File \"build/bdist.linux-x86_64/egg/setuptools/package_index.py\", line 608, in _download_to\nAttributeError: 'NoneType' object has no attribute 'group'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/42\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/42/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/40", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/40/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/40/events", "html_url": "https://github.com/pypa/setuptools/issues/40", "id": 144275061, "node_id": "MDU6SXNzdWUxNDQyNzUwNjE=", "number": 40, "title": "file protection group/world writeable on egg-info files since 0.7x", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-14T16:22:05Z", "updated_at": "2016-03-29T14:06:05Z", "closed_at": "2016-03-29T14:06:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nsince 0.7.x, there are some issues in the tarball setuptools.egg-info directory...namely:\n1. the file protection of the files is group/world writeable (should be group/world read-only)\n2. there are additional .orig files\n3. there is an additional directory EGG-INFO containing an obsolete copy of PKG-INFO.\n\nThis should be trivial to fix in the source tree.  extract below from the 0.8 tarball:\n\n```\ndrwxrwxrwx 0/0               0 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/\n-rw-rw-rw- 0/0             654 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/dependency_links.txt\ndrwxrwxrwx 0/0               0 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/EGG-INFO/\n-rw-rw-rw- 0/0             153 2013-07-02 17:30 setuptools-0.8/setuptools.egg-info/EGG-INFO/PKG-INFO\n-rw-rw-rw- 0/0            2773 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/entry_points.txt\n-rw-rw-rw- 0/0            2773 2013-07-03 14:12 setuptools-0.8/setuptools.egg-info/entry_points.txt.orig\n-rw-rw-rw- 0/0           45823 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/PKG-INFO\n-rw-rw-rw- 0/0             186 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/requires.txt\n-rw-rw-rw- 0/0             186 2013-07-03 14:12 setuptools-0.8/setuptools.egg-info/requires.txt.orig\n-rw-rw-rw- 0/0            3663 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/SOURCES.txt\n-rw-rw-rw- 0/0              49 2013-07-05 19:12 setuptools-0.8/setuptools.egg-info/top_level.txt\n-rw-rw-rw- 0/0               2 2013-07-02 17:48 setuptools-0.8/setuptools.egg-info/zip-safe\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/40\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/39", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/39/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/39/events", "html_url": "https://github.com/pypa/setuptools/issues/39", "id": 144275032, "node_id": "MDU6SXNzdWUxNDQyNzUwMzI=", "number": 39, "title": "setuptools 0.9.1 download link returns 404 Error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-07-14T14:44:49Z", "updated_at": "2016-03-29T14:05:57Z", "closed_at": "2016-03-29T14:05:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **notnoop (Bitbucket: [notnoop](http://bitbucket.org/notnoop), GitHub: [notnoop](http://github.com/notnoop))**\n\n---\n\nSetuptools 0.9.1 direct download (https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz taken from https://pypi.python.org/pypi/setuptools/0.9.1) link doesn't work anymore.\n\nThat causes pip install to fail as well:\n\n```\n(venv2)ubuntu@box6:~$ pip install --upgrade setuptools\nDownloading/unpacking setuptools from https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz#md5=7068dcbd9ea44139f5abeb65cb916f15\n  HTTP error 404 while getting https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz#md5=7068dcbd9ea44139f5abeb65cb916f15\n  Could not install requirement setuptools from https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz#md5=7068dcbd9ea44139f5abeb65cb916f15 because of error HTTP Error 404: Not Found\nCould not install requirement setuptools from https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz#md5=7068dcbd9ea44139f5abeb65cb916f15 because of HTTP error HTTP Error 404: Not Found for URL https://pypi.python.org/packages/source/s/setuptools/setuptools-0.9.1.tar.gz#md5=7068dcbd9ea44139f5abeb65cb916f15\nStoring complete log in /home/ubuntu/.pip/pip.log\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/39\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/39/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/38", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/38/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/38/events", "html_url": "https://github.com/pypa/setuptools/issues/38", "id": 144275023, "node_id": "MDU6SXNzdWUxNDQyNzUwMjM=", "number": 38, "title": "atexit error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-07-14T13:40:11Z", "updated_at": "2016-03-29T14:05:54Z", "closed_at": "2016-03-29T14:05:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **agroszer (Bitbucket: [agroszer](http://bitbucket.org/agroszer), GitHub: [agroszer](http://github.com/agroszer))**\n\n---\n\nhttp://winbot.zope.org/builders has now builders. \nNote: some seem to pass, but fail on some atexit problem. \nSee http://winbot.zope.org/builders/setuptools_master%20py_265_win32/builds/0/steps/test/logs/stdio\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/38\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/38/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/37", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/37/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/37/events", "html_url": "https://github.com/pypa/setuptools/issues/37", "id": 144275011, "node_id": "MDU6SXNzdWUxNDQyNzUwMTE=", "number": 37, "title": "Two Assertion failures on Windows tests (script_header)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-07-13T19:36:32Z", "updated_at": "2016-03-29T14:05:51Z", "closed_at": "2016-03-29T14:05:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nI do regularly run the tests on Windows. Back around 0.6.21 or so, the tests were passing on Windows in totality. When I run the tests now, I get two failures in tests due to shebang lines in scripts ([complete transcript](http://paste.jaraco.com/3DIo1)):\n\n```\n======================================================================\nFAIL: test_get_script_args (setuptools.tests.test_easy_install.TestEasyInstallTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"C:\\Users\\jaraco\\projects\\setuptools\\setuptools\\tests\\test_easy_install.py\", line 86, in test_get_script_args\n    self.assertEqual(script, WANTED)\nAssertionError: '#!\"C:\\\\Program Files\\\\Python33\\\\python.exe\"\\n# EASY-INSTALL-ENTRY-SCRIPT: \\'spe [truncated]... != \"#!C:\\\\Program Files\\\\Python33\\\\python.exe\\n# EASY-INSTALL-ENTRY-SCRIPT: 'spec', [truncated]...\n- #!\"C:\\Program Files\\Python33\\python.exe\"\n?   -                                    -\n+ #!C:\\Program Files\\Python33\\python.exe\n  # EASY-INSTALL-ENTRY-SCRIPT: 'spec','console_scripts','name'\n  __requires__ = 'spec'\n  import sys\n  from pkg_resources import load_entry_point\n\n  if __name__ == '__main__':\n      sys.exit(\n          load_entry_point('spec', 'console_scripts', 'name')()\n      )\n\n\n======================================================================\nFAIL: test_get_script_header (setuptools.tests.test_resources.ScriptHeaderTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"C:\\Users\\jaraco\\projects\\setuptools\\setuptools\\tests\\test_resources.py\", line 508, in test_get_script_header\n    '#!%s\\n' % os.path.normpath(sys.executable))\nAssertionError: '#!\"C:\\\\Program Files\\\\Python33\\\\python.exe\"\\n' != '#!C:\\\\Program Files\\\\Python33\\\\python.exe\\n'\n- #!\"C:\\Program Files\\Python33\\python.exe\"\n?   -                                    -\n+ #!C:\\Program Files\\Python33\\python.exe\n\n\n----------------------------------------------------------------------\n```\n\nI've been ignoring these test failures because I believe it is the tests that are broken and not the implementation. I suspect these tests will not fail when there is not a space in the path to python.exe.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/37\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/37/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/36", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/36/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/36/events", "html_url": "https://github.com/pypa/setuptools/issues/36", "id": 144275002, "node_id": "MDU6SXNzdWUxNDQyNzUwMDI=", "number": 36, "title": "private http repositories don't work [LookupError: unknown encoding: base64]", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-13T18:32:58Z", "updated_at": "2016-03-29T14:05:49Z", "closed_at": "2016-03-29T14:05:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **giszmo (Bitbucket: [giszmo](http://bitbucket.org/giszmo), GitHub: [giszmo](http://github.com/giszmo))**\n\n---\n\nhaving 'http://user:password@blabla.mynetwork.lan#egg=cns-lib' in my dependency_links results in:\n\n```\n#!shell\n...\nBest match: cns-lib [unknown version]\nDownloading http://user:password@blabla.mynetwork.lan#egg=cns-lib\nTraceback (most recent call last):\n  File \"setup.py\", line 35, in <module>\n    setup(**constants)\n  File \"/usr/lib/python3.2/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/usr/lib/python3.2/distutils/dist.py\", line 917, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python3.2/distutils/dist.py\", line 936, in run_command\n    cmd_obj.run()\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/command/develop.py\", line 27, in run\n    self.install_for_development()\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/command/develop.py\", line 105, in install_for_development\n    self.process_distribution(None, self.dist, not self.no_deps)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/command/easy_install.py\", line 673, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/pkg_resources.py\", line 576, in resolve\n    dist = best[req.key] = env.best_match(req, self, installer)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/pkg_resources.py\", line 822, in best_match\n    return self.obtain(req, installer) # try and download/install\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/pkg_resources.py\", line 834, in obtain\n    return installer(requirement)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/command/easy_install.py\", line 576, in easy_install\n    self.local_index\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 488, in fetch_distribution\n    dist = find(requirement)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 475, in find\n    location=self.download(dist.location, tmpdir)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 414, in download\n    found = self._download_url(scheme.group(1), spec, tmpdir)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 663, in _download_url\n    return self._attempt_download(url, filename)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 672, in _attempt_download\n    headers = self._download_to(url, filename)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 571, in _download_to\n    fp = self.open_url(url)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 610, in open_url\n    return open_with_auth(url)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 753, in _socket_timeout\n    return func(*args, **kwargs)\n  File \"/home/leo/git/virtpy/lib/python3.2/site-packages/distribute-0.6.24-py3.2.egg/setuptools/package_index.py\", line 771, in open_with_auth\n    auth = \"Basic \" + urllib.parse.unquote(auth).encode('base64').strip()\nLookupError: unknown encoding: base64\n```\n\nI can \"pip install git+ssh://git@blabla.mynetwork.lan/cns-lib.git\" but wasn't able to translate that for setuptools neither. Maybe there is some misunderstanding on my side. Being able to bootstrap our project with the private dependencies loaded via setuptools would really be cool\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/36\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/36/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/35", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/35/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/35/events", "html_url": "https://github.com/pypa/setuptools/issues/35", "id": 144274995, "node_id": "MDU6SXNzdWUxNDQyNzQ5OTU=", "number": 35, "title": "Code base modernization", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-07-13T16:25:28Z", "updated_at": "2016-03-29T14:05:46Z", "closed_at": "2016-03-29T14:05:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nSetuptools has been around for quite a while (almost 10 years), and the code base shows some of that age. Since then, the community has established preferred code style guidelines (a la PEP-8) and developed better practices. Additionally, none of the versions of Python supported by Setuptools today were around when Setuptools was started.\n\nI'd like to see the Setuptools codebase updated to conform more closely to the expectations of a modern project.\n\nIn particular, let's:\n- Normalize whitespace and imports\n- Use Python 3 constructs (where available on Python 2.4)\n- Use PEP-8 as a guideline for style\n\nThis effort is the type of effort that most anyone could do, but I'd like to reserve this effort for a specific individual (or group sprint) who would like to become more familiar with the code base with a relatively innocuous effort.\n\nIn order to avoid duplication of effort, if you would like to volunteer for this effort, please assign this ticket to yourself, fork the project, and put together a pull request. Try to make frequent, bite-sized commits with descriptive commit messages for easy review.\n\nThanks!\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/35\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/35/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/33", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/33/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/33/events", "html_url": "https://github.com/pypa/setuptools/issues/33", "id": 144274967, "node_id": "MDU6SXNzdWUxNDQyNzQ5Njc=", "number": 33, "title": "distribute bugfix for numpy not present in setuptools 0.8", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-07-06T12:16:11Z", "updated_at": "2016-03-29T14:05:38Z", "closed_at": "2016-03-29T14:05:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **Anonymous**\n\n---\n\nThe following issue caused a lot of pain last year:\nhttps://bitbucket.org/tarek/distribute/issue/334/\n\nAs of setuptools 0.8b6 it hasn't been merged back into setuptools,\nand stuff has begun to break again. Upcoming pip 1.4 requires\n0.8 for wheel support, this might end up trapping some users\nin a no-win situation (distribute breaks this, setuptools breaks that).\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/33\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/33/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/32", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/32/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/32/events", "html_url": "https://github.com/pypa/setuptools/issues/32", "id": 144274961, "node_id": "MDU6SXNzdWUxNDQyNzQ5NjE=", "number": 32, "title": "TypeError in pkg_resources.resource_stream on Python 3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-03T18:07:04Z", "updated_at": "2016-03-29T14:05:36Z", "closed_at": "2016-03-29T14:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nThe use of StringIO in pkg_resources.resource_stream appears to be causing errors in setuptools 0.8:\n\n```\n> python\nPython 3.3.2 (v3.3.2:d047928ae3f6, May 16 2013, 00:06:53) [MSC v.1600 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import pkg_resources\n>>> pkg_resources.require('pytz')[0].version\n'2013b'\n>>> import pytz\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"<frozen importlib._bootstrap>\", line 1567, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1534, in _find_and_load_unlocked\n  File \"c:\\python\\lib\\site-packages\\pytz-2013b-py3.3.egg\\pytz\\__init__.py\", line 1103, in <module>\n  File \"c:\\python\\lib\\site-packages\\pytz-2013b-py3.3.egg\\pytz\\__init__.py\", line 1103, in <listcomp>\n  File \"c:\\python\\lib\\site-packages\\pytz-2013b-py3.3.egg\\pytz\\__init__.py\", line 107, in resource_exists\n  File \"c:\\python\\lib\\site-packages\\pytz-2013b-py3.3.egg\\pytz\\__init__.py\", line 100, in open_resource\n  File \"c:\\python\\lib\\site-packages\\setuptools-0.8b5-py3.3.egg\\pkg_resources.py\", line 951, in resource_stream\n  File \"c:\\python\\lib\\site-packages\\setuptools-0.8b5-py3.3.egg\\pkg_resources.py\", line 1405, in get_resource_stream\n  File \"c:\\python\\lib\\site-packages\\setuptools-0.8b5-py3.3.egg\\pkg_resources.py\", line 1982, in StringIO\nTypeError: initial_value must be str or None, not bytes\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/32\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/32/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/31", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/31/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/31/events", "html_url": "https://github.com/pypa/setuptools/issues/31", "id": 144274952, "node_id": "MDU6SXNzdWUxNDQyNzQ5NTI=", "number": 31, "title": "Tests not run by setup.py test", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-02T17:15:58Z", "updated_at": "2016-03-29T14:05:32Z", "closed_at": "2016-03-29T14:05:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nThe default test runner, as invoked by 'setup.py test', fails to execute tests in tests/*.py (test_pkg_resources and test_ez_setup). I believe this is because the \"test_suite\" is defined as \"setuptools.tests\".\n\nThe tests can be run manually using another test runner, but it'd be preferable if the tests could be run using 'setup.py tests'. I'm open to suggestions on how to make this happen.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/31\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/31/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/30", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/30/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/30/events", "html_url": "https://github.com/pypa/setuptools/issues/30", "id": 144274911, "node_id": "MDU6SXNzdWUxNDQyNzQ5MTE=", "number": 30, "title": "Need test for ResourceManager.get_cache_path", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-07-02T12:51:46Z", "updated_at": "2016-03-29T14:05:23Z", "closed_at": "2016-03-29T14:05:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nIn #28 and [Distribute #375](/tarek/distribute/issue/375), a regression was reported where an attribute was mis-named. Since this behavior wasn't covered by unit tests, the error was not discovered until the users experienced it.\n\nLet's add one or more unit tests for ResourceManager.get_cache_path to ensure this doesn't occur again.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/30\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/30/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/29", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/29/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/29/events", "html_url": "https://github.com/pypa/setuptools/issues/29", "id": 144274902, "node_id": "MDU6SXNzdWUxNDQyNzQ5MDI=", "number": 29, "title": "Avoid UserWarnings emitted when calling into distutils.dist.Distribution", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-07-02T12:25:22Z", "updated_at": "2021-05-04T20:54:22Z", "closed_at": "2021-05-04T20:54:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ncoghlan (Bitbucket: [ncoghlan](http://bitbucket.org/ncoghlan), GitHub: [ncoghlan](http://github.com/ncoghlan))**\n\n---\n\nCurrently setuptools.dist.Distribution passes the unfiltered collection of keyword arguments up to distutils.core.Distribution. This results in lots of scary looking \"UserWarning\" messages when you actually use the setuptools-only options (see http://stackoverflow.com/questions/8295644/pypi-userwarning-unknown-distribution-option-install-requires)\n\nIt also makes it look like you're calling distutils rather than setuptools, since the stack trace (showing that this is a call up into setuptools) isn't visible.\n\nFor example, cleaning coverage.py for devinabox looks like this:\n\n```\n[ncoghlan@lancre coveragepy]$ ../cpython/python setup.py clean/home/ncoghlan/devel/devinabox/cpython/Lib/distutils/dist.py:257: UserWarning: Unknown distribution option: 'entry_points'\n  warnings.warn(msg)\n/home/ncoghlan/devel/devinabox/cpython/Lib/distutils/dist.py:257: UserWarning: Unknown distribution option: 'use_2to3'\n  warnings.warn(msg)\n/home/ncoghlan/devel/devinabox/cpython/Lib/distutils/dist.py:257: UserWarning: Unknown distribution option: 'zip_safe'\n  warnings.warn(msg)\nrunning clean\n```\n\nBut if we make those errors, we see that it _is_ picking up the symlinked setuptools correctly:\n\n```\n[ncoghlan@lancre coveragepy]$ ../cpython/python -W error::UserWarning setup.py cleanTraceback (most recent call last):\n  File \"setup.py\", line 199, in <module>\n    main()\n  File \"setup.py\", line 188, in main\n    setup(**setup_args)\n  File \"/home/ncoghlan/devel/devinabox/cpython/Lib/distutils/core.py\", line 109, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/home/ncoghlan/devel/devinabox/coveragepy/setuptools/dist.py\", line 269, in __init__\n    _Distribution.__init__(self,attrs)\n  File \"/home/ncoghlan/devel/devinabox/cpython/Lib/distutils/dist.py\", line 257, in __init__\n    warnings.warn(msg)\nUserWarning: Unknown distribution option: 'use_2to3'\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/29\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/29/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/28", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/28/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/28/events", "html_url": "https://github.com/pypa/setuptools/issues/28", "id": 144274896, "node_id": "MDU6SXNzdWUxNDQyNzQ4OTY=", "number": 28, "title": "AttributeError for _warn_unsafe_extraction in pkg_resources.py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-07-02T05:09:54Z", "updated_at": "2016-03-29T14:05:17Z", "closed_at": "2016-03-29T14:05:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **eseifert (Bitbucket: [eseifert](http://bitbucket.org/eseifert), GitHub: [eseifert](http://github.com/eseifert))**\n\n---\n\nAfter I upgraded to setuptools 0.7.5 on my Gentoo system trac didn't start anymore. One of the plugin eggs failed with an AttributeError:\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/trac/web/main.py\", line 497, in _dispatch_request\n    dispatcher.dispatch(req)\n  File \"/usr/lib64/python2.7/site-packages/trac/web/main.py\", line 169, in dispatch\n    for handler in self.handlers:\n  File \"/usr/lib64/python2.7/site-packages/trac/core.py\", line 78, in extensions\n    components = [component.compmgr[cls] for cls in classes]\n  File \"/usr/lib64/python2.7/site-packages/trac/core.py\", line 199, in __getitem__\n    component = cls(self)\n  File \"/usr/lib64/python2.7/site-packages/trac/core.py\", line 138, in __call__\n    self.__init__()\n  File \"build/bdist.linux-x86_64/egg/acct_mgr/web_ui.py\", line 73, in __init__\n    self.acctmgr = AccountManager(self.env)\n  File \"/usr/lib64/python2.7/site-packages/trac/core.py\", line 138, in __call__\n    self.__init__()\n  File \"build/bdist.linux-x86_64/egg/acct_mgr/api.py\", line 235, in __init__\n    locale_dir = resource_filename(__name__, 'locale')\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 945, in resource_filename\n    self, resource_name\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1633, in get_resource_filename\n    return self._extract_resource(manager, zip_path)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1648, in _extract_resource\n    manager, os.path.join(zip_path, name)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1648, in _extract_resource\n    manager, os.path.join(zip_path, name)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1648, in _extract_resource\n    manager, os.path.join(zip_path, name)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1660, in _extract_resource\n    self.egg_name, self._parts(zip_path)\n  File \"/usr/lib64/python2.7/site-packages/pkg_resources.py\", line 1021, in get_cache_path\n    self._warn_unsafe_extraction(extract_path)\nAttributeError: ResourceManager instance has no attribute '_warn_unsafe_extraction'\n```\n\nI fixed the problem by changing the method name `_warn_unsafe_extraction` to `warn_unsafe_extraction_path` in pkg_resources.py as can be seen in the attached patch. I'm not sure if it's the correct way to fix this but it solved the issue for me.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/28\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/28/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/25", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/25/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/25/events", "html_url": "https://github.com/pypa/setuptools/issues/25", "id": 144274832, "node_id": "MDU6SXNzdWUxNDQyNzQ4MzI=", "number": 25, "title": "Broken link to ez_setup.py on overview page(/README?)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-28T19:29:19Z", "updated_at": "2016-03-29T14:04:55Z", "closed_at": "2016-03-29T14:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **y-p (Bitbucket: [y-p](http://bitbucket.org/y-p), GitHub: [y-p](http://github.com/y-p))**\n\n---\n\n```\n\u03bb wget https://bitbucket.org/pypa/setuptools/raw/0.8/ez_setup.py -O - | python\nResolving bitbucket.org (bitbucket.org)... 207.223.240.182, 207.223.240.181\nConnecting to bitbucket.org (bitbucket.org)|207.223.240.182|:443... connected.\nHTTP request sent, awaiting response... 404 NOT FOUND\n2013-06-28 22:28:47 ERROR 404: NOT FOUND.\n\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/25\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/25/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/24", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/24/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/24/events", "html_url": "https://github.com/pypa/setuptools/issues/24", "id": 144274805, "node_id": "MDU6SXNzdWUxNDQyNzQ4MDU=", "number": 24, "title": "Setuptools 0.7.3 does not install on Python 3.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-28T09:47:21Z", "updated_at": "2016-03-29T14:04:50Z", "closed_at": "2016-03-29T14:04:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **the_drow (Bitbucket: [the_drow](http://bitbucket.org/the_drow), GitHub: Unknown)**\n\n---\n\n```\n#!python\n\n pip install https://bitbucket.org/pypa/setuptools/downloads/distribute-0.7.3.zip --upgrade\nDownloading/unpacking https://bitbucket.org/pypa/setuptools/downloads/distribute-0.7.3.zip\n  Downloading distribute-0.7.3.zip (145kB): 145kB downloaded\n  Running setup.py egg_info for package from https://bitbucket.org/pypa/setuptools/downloads/distribute-0.7.3.zip\n\nDownloading/unpacking setuptools>=0.7 (from distribute==0.7.3)\n  Downloading setuptools-0.7.4.tar.gz (755kB): 755kB downloaded\n  Running setup.py egg_info for package setuptools\n    Traceback (most recent call last):\n      File \"<string>\", line 3, in <module>\n      File \"setuptools/__init__.py\", line 2, in <module>\n        from setuptools.extension import Extension, Library\n      File \"setuptools/extension.py\", line 5, in <module>\n        from setuptools.dist import _get_unpatched\n      File \"setuptools/dist.py\", line 103\n        except ValueError, e:\n                         ^\n    SyntaxError: invalid syntax\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n\n  File \"<string>\", line 3, in <module>\n\n  File \"setuptools/__init__.py\", line 2, in <module>\n\n    from setuptools.extension import Extension, Library\n\n  File \"setuptools/extension.py\", line 5, in <module>\n\n    from setuptools.dist import _get_unpatched\n\n  File \"setuptools/dist.py\", line 103\n\n    except ValueError, e:\n\n                     ^\n\nSyntaxError: invalid syntax\n\n----------------------------------------\nCleaning up...\nCommand python setup.py egg_info failed with error code 1 in /home/omer/.virtualenvs/outcomes/build/setuptools\nStoring complete log in /home/omer/.pip/pip.log\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/24\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/24/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/23", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/23/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/23/events", "html_url": "https://github.com/pypa/setuptools/issues/23", "id": 144274793, "node_id": "MDU6SXNzdWUxNDQyNzQ3OTM=", "number": 23, "title": ".hg directory should be absent in tarballs", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-06-20T07:21:32Z", "updated_at": "2016-03-29T14:04:48Z", "closed_at": "2016-03-29T14:04:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **arfrever (Bitbucket: [arfrever](http://bitbucket.org/arfrever), GitHub: [arfrever](http://github.com/arfrever))**\n\n---\n\n.hg directory should be absent in tarballs. It contains some useless junk. release.py should ensure that unversioned files/directories are not included in tarballs.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/23\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/23/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/22", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/22/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/22/events", "html_url": "https://github.com/pypa/setuptools/issues/22", "id": 144274776, "node_id": "MDU6SXNzdWUxNDQyNzQ3NzY=", "number": 22, "title": "Default HTTPS PyPI package download failing on Python 2.4.3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-06-18T08:38:23Z", "updated_at": "2016-03-29T14:04:44Z", "closed_at": "2016-03-29T14:04:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nInstalled Python 2.4 on Windows.\nInstalled setuptools 0.7.2 into the new Python 2.4 installation.\nAnd then running easy_install on any package fails to download the package from PyPI.\n\nIf you change the package's PyPI URL using the easy_install's -i option to use HTTP instead of HTTPS - then everything works fine.\n\nSniffing the network traffic with Wireshark shows that the client simply shuts down the network connection after receiving a 'hello' message from the server.\n\nReproduced using:\n\n```\nPython 2.4.3/x86 on Windows 7/SP1/x64 with setuptools 0.7.2\n```\n\nThe problem _DOES NOT_ occur when using Python 2.4.4:\n\n```\nPython 2.4.4/x86 on Windows 7/SP1/x64 with setuptools 0.7.2\n```\n\nConsole session demonstrating the problem:\n\n```\nC:\\>py24 -m easy_install pytest\nSearching for pytest\nReading https://pypi.python.org/simple/pytest/\nDownload error on https://pypi.python.org/simple/pytest/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nCouldn't find index page for 'pytest' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nNo local packages or download links found for pytest\nerror: Could not find suitable distribution for Requirement.parse('pytest')\n\nC:\\>py24 -m easy_install -i https://pypi.python.org/simple pytest\nSearching for pytest\nReading https://pypi.python.org/simple/pytest/\nDownload error on https://pypi.python.org/simple/pytest/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nCouldn't find index page for 'pytest' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nNo local packages or download links found for pytest\nerror: Could not find suitable distribution for Requirement.parse('pytest')\n\nC:\\>py24 -m easy_install -i http://pypi.python.org/simple pytest\nSearching for pytest\nReading http://pypi.python.org/simple/pytest/\nBest match: pytest 2.3.5\nDownloading http://pypi.python.org/packages/source/p/pytest/pytest-2.3.5.tar.gz#md5=18f150e7be96b5fe3c388b0e817b8087\nProcessing pytest-2.3.5.tar.gz\nWriting c:\\users\\jurko\\appdata\\local\\temp\\easy_install-obyruy\\pytest-2.3.5\\setup.cfg\n...installation continues from here on...\n\nC:\\>py24 -m easy_install -i https://pypi.python.org/simple psutil\nSearching for psutil\nReading https://pypi.python.org/simple/psutil/\nDownload error on https://pypi.python.org/simple/psutil/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nCouldn't find index page for 'psutil' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: (2, 'The operation did not complete (read)') -- Some packages may not be found!\nNo local packages or download links found for psutil\nerror: Could not find suitable distribution for Requirement.parse('psutil')\n\nC:\\>py24 -m easy_install -i http://pypi.python.org/simple psutil\nSearching for psutil\nReading http://pypi.python.org/simple/psutil/\nReading http://code.google.com/p/psutil/\nBest match: psutil 0.7.1\nDownloading http://psutil.googlecode.com/files/psutil-0.7.1.tar.gz\nProcessing psutil-0.7.1.tar.gz\nWriting c:\\users\\jurko\\appdata\\local\\temp\\easy_install-q6zmk_\\psutil-0.7.1\\setup.cfg\n...installation continues from here on...\n```\n\nThe problem seems to be caused somewhere in Python's HTTPS implementation. Should setuptools then revert to using HTTP on such platforms?\n\nThis causes different setup packages on such platforms to fail when they attempt to download their requirement packages. The only workaround I could find for this behaviour as a setup packager was to do something like this in my package.py script:\n\n```\nif sys.version_info < (2, 5):\n    # Python 2.4 seems to have issues with setuptools collecting its\n    # requirement packages from PyPI using HTTPS. This has been encountered\n    # using Python 2.4.3/x86 on Windows 7/SP1/x64 with setuptools 0.7.2. As a\n    # workaround we replace setuptools's PackageIndex class with one that\n    # always uses the HTTP transfer protocol instead of HTTPS when dealing with\n    # this Python version.\n    #\n    # Note that this workaround affects only setuptools's automated requirement\n    # package downloading. Any requirement packages can still be installed\n    # manually by the user, using a suitable package index source URL.\n    import setuptools.package_index\n    OriginalPackageIndex = setuptools.package_index.PackageIndex\n    class NoHTTPSPackageIndex(OriginalPackageIndex):\n        def __init__(self, *args, **kwargs):\n            OriginalPackageIndex.__init__(self, *args, **kwargs)\n            cue = \"https:\"\n            if self.index_url.lower().startswith(cue):\n                self.index_url = \"http:\" + self.index_url[len(cue):]\n    setuptools.package_index.PackageIndex = NoHTTPSPackageIndex\n```\n\nbut the solution seems rather hackish and I am not really sure how portable/stable it will be over different setuptools releases.\n\nBest regards,\n  Jurko Gospodneti\u0107\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/22\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/22/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/21", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/21/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/21/events", "html_url": "https://github.com/pypa/setuptools/issues/21", "id": 144274751, "node_id": "MDU6SXNzdWUxNDQyNzQ3NTE=", "number": 21, "title": "Python 2.4 compatibility", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-17T16:28:12Z", "updated_at": "2016-03-29T14:04:36Z", "closed_at": "2016-03-29T14:04:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jurko (Bitbucket: [jurko](http://bitbucket.org/jurko), GitHub: [jurko](http://github.com/jurko))**\n\n---\n\nsetuptools/tests/test_easy_install.py module should not use the try/except/finally construct and should instead use a try/except block wrapped inside a separate try/finally block.\n\nWithout this we get ugly warnings/errors when installing setuptools on Python 3.2. This has been noticed when using the ez_setup.py bootstrap script called from another installation package, with setuptools version 0.7.2.\n\nCurrent code:\n\n```\n        try:\n            reset_setup_stop_context(\n                lambda: run_setup(test_setup_py, ['install'])\n            )\n        except SandboxViolation:\n            self.fail('Installation caused SandboxViolation')\n        finally:\n            sys.stdout = old_stdout\n            sys.stderr = old_stderr\n```\n\nCorrected code (untested):\n\n```\n        try:\n            try:\n                reset_setup_stop_context(\n                    lambda: run_setup(test_setup_py, ['install'])\n                )\n            except SandboxViolation:\n                self.fail('Installation caused SandboxViolation')\n        finally:\n            sys.stdout = old_stdout\n            sys.stderr = old_stderr\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/21\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/21/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/20", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/20/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/20/events", "html_url": "https://github.com/pypa/setuptools/issues/20", "id": 144274730, "node_id": "MDU6SXNzdWUxNDQyNzQ3MzA=", "number": 20, "title": "egg_info.get_svn_revision behavior change?", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315974, "node_id": "MDU6TGFiZWwzNDkzMTU5NzQ=", "url": "https://api.github.com/repos/pypa/setuptools/labels/blocker", "name": "blocker", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-06-15T05:04:48Z", "updated_at": "2016-03-29T14:04:33Z", "closed_at": "2016-03-29T14:04:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **qwcode (Bitbucket: [qwcode](http://bitbucket.org/qwcode), GitHub: [qwcode](http://github.com/qwcode))**\n\n---\n\negg_info.get_svn_revision in the new setuptools appears to be pretty different than the last version in distribute.  Was that intentional?\n\npip happens to have a number of tests that use a svn checkout of INITools that are failing under the new setuptools in python3\n\nhere's the trace from one.\n(in this case, data is a string, which is the contents of the svn entries file)\n\n```\n#!bash\nTest checking out from svn. ... Script result: pip install -e svn+file:///home/qwcode/p/pypa/pip/tests/tests_cache/INITools/trunk#egg=initools-dev\n  return code: 1\n-- stdout: --------------------\nObtaining initools from svn+file:///home/qwcode/p/pypa/pip/tests/tests_cache/INITools/trunk#egg=initools-dev\n  Checking out file:///home/qwcode/p/pypa/pip/tests/tests_cache/INITools/trunk to /home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/src/initools\n  Running setup.py egg_info for package initools\n    Traceback (most recent call last):\n      File \"<string>\", line 16, in <module>\n      File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/src/initools/setup.py\", line 26, in <module>\n        zip_safe=True,\n      File \"/usr/local/lib/python3.3/distutils/core.py\", line 148, in setup\n        dist.run_commands()\n      File \"/usr/local/lib/python3.3/distutils/dist.py\", line 917, in run_commands\n        self.run_command(cmd)\n      File \"/usr/local/lib/python3.3/distutils/dist.py\", line 935, in run_command\n        cmd_obj.ensure_finalized()\n      File \"/usr/local/lib/python3.3/distutils/cmd.py\", line 107, in ensure_finalized\n        self.finalize_options()\n      File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 85, in finalize_options\n        self.vtags = self.tags()\n      File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 192, in tags\n        ):  version += '-r%s' % self.get_svn_revision()\n      File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 233, in get_svn_revision\n        if data<8:\n    TypeError: unorderable types: str() < int()\n    Complete output from command python setup.py egg_info:\n    running egg_info\n\nTraceback (most recent call last):\n\n  File \"<string>\", line 16, in <module>\n\n  File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/src/initools/setup.py\", line 26, in <module>\n\n    zip_safe=True,\n\n  File \"/usr/local/lib/python3.3/distutils/core.py\", line 148, in setup\n\n    dist.run_commands()\n\n  File \"/usr/local/lib/python3.3/distutils/dist.py\", line 917, in run_commands\n\n    self.run_command(cmd)\n\n  File \"/usr/local/lib/python3.3/distutils/dist.py\", line 935, in run_command\n\n    cmd_obj.ensure_finalized()\n\n  File \"/usr/local/lib/python3.3/distutils/cmd.py\", line 107, in ensure_finalized\n\n    self.finalize_options()\n\n  File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 85, in finalize_options\n\n    self.vtags = self.tags()\n\n  File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 192, in tags\n\n    ):  version += '-r%s' % self.get_svn_revision()\n\n  File \"/home/qwcode/p/pypa/pip/tests/tests_cache/test_ws/.virtualenv/lib/python3.3/site-packages/setuptools/command/egg_info.py\", line 233, in get_svn_revision\n\n    if data<8:\n\nTypeError: unorderable types: str() < int()\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/20\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/20/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/20/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/19", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/19/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/19/events", "html_url": "https://github.com/pypa/setuptools/issues/19", "id": 144274708, "node_id": "MDU6SXNzdWUxNDQyNzQ3MDg=", "number": 19, "title": "2 tests fail in current 0.7.2", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315828, "node_id": "MDU6TGFiZWwzNDkzMTU4Mjg=", "url": "https://api.github.com/repos/pypa/setuptools/labels/minor", "name": "minor", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-13T15:17:06Z", "updated_at": "2016-03-29T14:04:26Z", "closed_at": "2016-03-29T14:04:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **idella5 (Bitbucket: [idella5](http://bitbucket.org/idella5), GitHub: [idella5](http://github.com/idella5))**\n\n---\n\nunder py2.5 this \n\n```\nERROR: Regression test for Distribute issue #318\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/tests/test_easy_install.py\", line 276, in test_setup_requires\n    lambda: run_setup(test_setup_py, ['install'])\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/tests/test_easy_install.py\", line 423, in reset_setup_stop_context\n    f()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/tests/test_easy_install.py\", line 276, in <lambda>\n    lambda: run_setup(test_setup_py, ['install'])\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/sandbox.py\", line 67, in run_setup\n    lambda: execfile(\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/sandbox.py\", line 117, in run\n    return func()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-python2_5/setuptools/sandbox.py\", line 69, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"setup.py\", line 2, in <module>\n  File \"/usr/lib64/python2.5/distutils/core.py\", line 168, in setup\n    raise SystemExit, \"error: \" + str(msg)\nSystemExit: error: can't create or remove files in install directory\n\nThe following error occurred while trying to add or remove files in the\ninstallation directory:\n\n    [Errno 13] Permission denied: '/usr/lib64/python2.5/site-packages/test-easy-install-20044.write-test'\n```\n\nWell, oh dear, we can't write to system installed python in the middle of a test run.\nMaybe this is distro specific, maybe it's not.  Offhand I don't know where to pass or parse the option for --prefix= or --install-dir= in a run if python setup.py test. With that we can then tell it use some source dir for the duration of the test run of even make a writable dir for it.   Why this only trips over in py2.5 I don't know.\n\nThe remainder are failures run under pypy.\npypy1.9 has FAILED (failures=1, errors=4)\n\n```\nERROR: test_develop (setuptools.tests.test_develop.TestDevelopTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_develop.py\", line 76, in test_develop\n    cmd.ensure_finalized()\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/develop.py\", line 51, in finalize_options\n    easy_install.finalize_options(self)\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 232, in finalize_options\n    self.create_home_path()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 1317, in create_home_path\n    if path.startswith(home) and not os.path.isdir(path):\nAttributeError: 'NoneType' object has no attribute 'startswith'\n\n======================================================================\nERROR: test_local_index (setuptools.tests.test_easy_install.TestUserInstallTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_easy_install.py\", line 214, in test_local_index\n    cmd.ensure_finalized()\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 232, in finalize_options\n    self.create_home_path()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 1317, in create_home_path\n    if path.startswith(home) and not os.path.isdir(path):\nAttributeError: 'NoneType' object has no attribute 'startswith'\n======================================================================\nERROR: test_setup_requires (setuptools.tests.test_easy_install.TestUserInstallTest)\nRegression test for Distribute issue #318\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_easy_install.py\", line 276, in test_setup_requires\n    lambda: run_setup(test_setup_py, ['install'])\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_easy_install.py\", line 423, in reset_setup_stop_context\n    f()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_easy_install.py\", line 276, in <lambda>\n    lambda: run_setup(test_setup_py, ['install'])\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/sandbox.py\", line 67, in run_setup\n    lambda: execfile(\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/sandbox.py\", line 117, in run\n    return func()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/sandbox.py\", line 69, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"setup.py\", line 2, in <module>\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/install.py\", line 73, in run\n    self.do_egg_install()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/install.py\", line 87, in do_egg_install\n    cmd.ensure_finalized()  # finalize before bdist_egg munges install cmd\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 232, in finalize_options\n    self.create_home_path()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 1317, in create_home_path\n    if path.startswith(home) and not os.path.isdir(path):\nAttributeError: 'NoneType' object has no attribute 'startswith'\n\n======================================================================\nERROR: test_user_install_implied (setuptools.tests.test_easy_install.TestUserInstallTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/test_easy_install.py\", line 172, in test_user_install_implied\n    cmd.ensure_finalized()\n  File \"/usr/lib64/pypy1.9/lib-python/2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 232, in finalize_options\n    self.create_home_path()\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/command/easy_install.py\", line 1317, in create_home_path\n    if path.startswith(home) and not os.path.isdir(path):\nAttributeError: 'NoneType' object has no attribute 'startswith'\n\n======================================================================\nFAIL: /mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/tests/api_tests.txt\nDoctest: api_tests.txt\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/setuptools/tests/doctest.py\", line 2167, in runTest\n    raise self.failureException(self.format_failure(new.getvalue()))\nAssertionError: Failed doctest test for api_tests.txt\n  File \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/tests/api_tests.txt\", line 0\n\n----------------------------------------------------------------------\nFile \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/tests/api_tests.txt\", line 344, in api_tests.txt\nFailed example:\n    print(im(\"sys_platform==\"))  # doctest: +ELLIPSIS\nExpected:\n    unexpected EOF while parsing (...line 1)\nGot:\n    invalid syntax (<string>, line 1)\n----------------------------------------------------------------------\nFile \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy1_9/tests/api_tests.txt\", line 356, in api_tests.txt\nFailed example:\n    print(im(\"(extra\"))  # doctest: +ELLIPSIS\nExpected:\n    unexpected EOF while parsing (...line 1)\nGot:\n    parenthesis is never closed (<string>, lines 1-2)\n```\n\nWell pypy1.9 is a superseded version so how much interest this draws I dare not anticipate.\n\npypy2.0\n\nFAILED (failures=1)\n\n```\nFile \"/mnt/gen2/TmpDir/portage/dev-python/setuptools-0.7.2/work/setuptools-0.7.2-pypy2_0/tests/api_tests.txt\", line 356, in api_tests.txt\nFailed example:\n    print(im(\"(extra\"))  # doctest: +ELLIPSIS\nExpected:\n    unexpected EOF while parsing (...line 1)\nGot:\n    parenthesis is never closed (<string>, lines 1-2)\n```\n\nThis rather surprises, pypy still riding on the back of py2.7\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/19\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/19/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/18", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/18/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/18/events", "html_url": "https://github.com/pypa/setuptools/issues/18", "id": 144274681, "node_id": "MDU6SXNzdWUxNDQyNzQ2ODE=", "number": 18, "title": "Packages that 'use_setuptools' from older distribute cannot install on setuptools 0.7", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315880, "node_id": "MDU6TGFiZWwzNDkzMTU4ODA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-06-13T14:53:46Z", "updated_at": "2016-03-29T14:04:21Z", "closed_at": "2016-03-29T14:04:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **jaraco (Bitbucket: [jaraco](http://bitbucket.org/jaraco), GitHub: [jaraco](http://github.com/jaraco))**\n\n---\n\nJulian and Andres have reported on distutils-sig an issue installing certain packages that incorporate distribute_setup and call use_setuptools.\n\nFor example, the following script will reproduce the issue when installing pudb:\n\n```\n#! /bin/sh\n\nset -e\nset -x\n\nvirtualenv --no-setuptools mypy\nsource mypy/bin/activate\ncurl -k https://bitbucket.org/pypa/setuptools/raw/0.7.2/ez_setup.py | python -\ncurl -k https://raw.github.com/pypa/pip/master/contrib/get-pip.py | python -\npip install pudb==2013.1 \n```\n\nThe error reported will look something like this:\n\n```\n$ pip install pudb==2013.1\nDownloading/unpacking pudb==2013.1\n  Downloading pudb-2013.1.tar.gz (40kB): 40kB downloaded\n  Running setup.py egg_info for package pudb\n    Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.35.tar.gz\n    Extracting in /tmp/tmpkaEQAq\n    Now working in /tmp/tmpkaEQAq/distribute-0.6.35\n    Building a Distribute egg in /home/andreas/mypy/build/pudb\n    Traceback (most recent call last):\n      File \"setup.py\", line 45, in <module>\n        exec(init_file.read(), d)\n      File \"<string>\", line 8, in <module>\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/__init__.py\", line 2, in <module>\n        from setuptools.extension import Extension, Library\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/extension.py\", line 5, in <module>\n        from setuptools.dist import _get_unpatched\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/dist.py\", line 6, in <module>\n        from setuptools.command.install import install\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/command/__init__.py\", line 8, in <module>\n        from setuptools.command import install_scripts\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/command/install_scripts.py\", line 3, in <module>\n        from pkg_resources import Distribution, PathMetadata, ensure_directory\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2825, in <module>\n        add_activation_listener(lambda dist: dist.activate())\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 710, in subscribe\n        callback(dist)\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2825, in <lambda>\n        add_activation_listener(lambda dist: dist.activate())\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2257, in activate\n        self.insert_on(path)\n      File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2358, in insert_on\n        \"with distribute. Found one at %s\" % str(self.location))\n    ValueError: A 0.7-series setuptools cannot be installed with distribute. Found one at /home/andreas/mypy/lib/python2.7/site-packages/setuptools-0.7.2-py2.7.egg\n    /home/andreas/mypy/build/pudb/distribute-0.6.35-py2.7.egg\n    Traceback (most recent call last):\n      File \"<string>\", line 16, in <module>\n      File \"/home/andreas/mypy/build/pudb/setup.py\", line 5, in <module>\n        use_setuptools()\n      File \"distribute_setup.py\", line 152, in use_setuptools\n        return _do_download(version, download_base, to_dir, download_delay)\n      File \"distribute_setup.py\", line 132, in _do_download\n        _build_egg(egg, tarball, to_dir)\n      File \"distribute_setup.py\", line 123, in _build_egg\n        raise IOError('Could not build the egg.')\n    IOError: Could not build the egg.\n    Complete output from command python setup.py egg_info:\n    Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.35.tar.gz\n\nExtracting in /tmp/tmpkaEQAq\n\nNow working in /tmp/tmpkaEQAq/distribute-0.6.35\n\nBuilding a Distribute egg in /home/andreas/mypy/build/pudb\n\nTraceback (most recent call last):\n\n  File \"setup.py\", line 45, in <module>\n\n    exec(init_file.read(), d)\n\n  File \"<string>\", line 8, in <module>\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/__init__.py\", line 2, in <module>\n\n    from setuptools.extension import Extension, Library\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/extension.py\", line 5, in <module>\n\n    from setuptools.dist import _get_unpatched\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/dist.py\", line 6, in <module>\n\n    from setuptools.command.install import install\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/command/__init__.py\", line 8, in <module>\n\n    from setuptools.command import install_scripts\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/setuptools/command/install_scripts.py\", line 3, in <module>\n\n    from pkg_resources import Distribution, PathMetadata, ensure_directory\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2825, in <module>\n\n    add_activation_listener(lambda dist: dist.activate())\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 710, in subscribe\n\n    callback(dist)\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2825, in <lambda>\n\n    add_activation_listener(lambda dist: dist.activate())\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2257, in activate\n\n    self.insert_on(path)\n\n  File \"/tmp/tmpkaEQAq/distribute-0.6.35/pkg_resources.py\", line 2358, in insert_on\n\n    \"with distribute. Found one at %s\" % str(self.location))\n\nValueError: A 0.7-series setuptools cannot be installed with distribute. Found one at /home/andreas/mypy/lib/python2.7/site-packages/setuptools-0.7.2-py2.7.egg\n\n/home/andreas/mypy/build/pudb/distribute-0.6.35-py2.7.egg\n\nTraceback (most recent call last):\n\n  File \"<string>\", line 16, in <module>\n\n  File \"/home/andreas/mypy/build/pudb/setup.py\", line 5, in <module>\n\n    use_setuptools()\n\n  File \"distribute_setup.py\", line 152, in use_setuptools\n\n    return _do_download(version, download_base, to_dir, download_delay)\n\n  File \"distribute_setup.py\", line 132, in _do_download\n\n    _build_egg(egg, tarball, to_dir)\n\n  File \"distribute_setup.py\", line 123, in _build_egg\n\n    raise IOError('Could not build the egg.')\n\nIOError: Could not build the egg.\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/18\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/18/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/16", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/16/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/16/events", "html_url": "https://github.com/pypa/setuptools/issues/16", "id": 144274648, "node_id": "MDU6SXNzdWUxNDQyNzQ2NDg=", "number": 16, "title": "Python 3.0: setup.py install (tip: 2013-06-08)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-06-08T16:06:28Z", "updated_at": "2016-03-29T14:04:12Z", "closed_at": "2016-03-29T14:04:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **philip_thiem (Bitbucket: [philip_thiem](http://bitbucket.org/philip_thiem), GitHub: Unknown)**\n\n---\n\nOn win32 x Python 3.0, \"setup.py install\" fails with;\n\n```\n#!python\nSkipping implicit fixer: buffer\nSkipping implicit fixer: idioms\nSkipping implicit fixer: set_literal\nSkipping implicit fixer: ws_comma\nTraceback (most recent call last):\n  File \"setup.py\", line 220, in <module>\n    scripts = [],\n  File \"c:\\python30\\lib\\distutils\\core.py\", line 135, in setup\n    ok = dist.parse_command_line()\n  File \"C:\\development\\setuptools\\build\\src\\setuptools\\dist.py\", line 273, in pa\nrse_command_line\n    result = _Distribution.parse_command_line(self)\n  File \"c:\\python30\\lib\\distutils\\dist.py\", line 441, in parse_command_line\n    if self.handle_display_options(option_order):\n  File \"C:\\development\\setuptools\\build\\src\\setuptools\\dist.py\", line 713, in ha\nndle_display_options\n    sys.stdout.detach(), 'utf-8', errors, newline, line_buffering)\nAttributeError: 'TextIOWrapper' object has no attribute 'detach'\n\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/16\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/16/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/15", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/15/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/15/events", "html_url": "https://github.com/pypa/setuptools/issues/15", "id": 144274640, "node_id": "MDU6SXNzdWUxNDQyNzQ2NDA=", "number": 15, "title": "Error for setup.py clean in tip 2013-06-08", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315813, "node_id": "MDU6TGFiZWwzNDkzMTU4MTM=", "url": "https://api.github.com/repos/pypa/setuptools/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-08T16:01:13Z", "updated_at": "2016-03-29T14:04:07Z", "closed_at": "2016-03-29T14:04:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **philip_thiem (Bitbucket: [philip_thiem](http://bitbucket.org/philip_thiem), GitHub: Unknown)**\n\n---\n\nOn win32 x python3.1 running \"setup.py clean\"  exits with:\n\n```\n#!python\n\n\nSkipping implicit fixer: buffer\nSkipping implicit fixer: idioms\nSkipping implicit fixer: set_literal\nSkipping implicit fixer: ws_comma\nCan't parse build\\src\\build\\src\\build\\src\\setuptools\\sandbox.py: ParseError: bad\n input: type=1, value='exec', context=(' ', (68, 24))\nCan't parse build\\src\\build\\src\\build\\lib\\setuptools\\sandbox.py: ParseError: bad\n input: type=1, value='exec', context=(' ', (68, 24))\nrunning clean\n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/15\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/15/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/14", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/14/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/14/events", "html_url": "https://github.com/pypa/setuptools/issues/14", "id": 144274616, "node_id": "MDU6SXNzdWUxNDQyNzQ2MTY=", "number": 14, "title": "installation failed on Jython", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2013-06-05T04:44:31Z", "updated_at": "2016-03-29T14:04:05Z", "closed_at": "2016-03-29T14:04:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **yyuu (Bitbucket: [yyuu](http://bitbucket.org/yyuu), GitHub: [yyuu](http://github.com/yyuu))**\n\n---\n\nThe installation script failed on the latest Jython beta release of 2.7-beta1.\n\nI tested with beta release of 2.7 because current release version (2.5.3) lacks `ssl` module.\n\n```\n% python --version\nJython 2.7b1\n% python setup.py install\nTraceback (most recent call last):\n  File \"setup.py\", line 145, in <module>\n    for cmd in SETUP_COMMANDS\n  File \"/home/yyuu/.pyenv/versions/jython-2.7-beta1/Lib/distutils/core.py\", line 112, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/home/yyuu/.pyenv/versions/jython-2.7-beta1/Lib/distutils/core.py\", line 112, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/home/yyuu/work/repos/hg/setuptools/setuptools/dist.py\", line 266, in __init__\n    _Distribution.__init__(self,attrs)\n  File \"/home/yyuu/.pyenv/versions/jython-2.7-beta1/Lib/distutils/dist.py\", line 287, in __init__\n    self.finalize_options()\n  File \"/home/yyuu/work/repos/hg/setuptools/setuptools/dist.py\", line 298, in finalize_options\n    ep.require(installer=self.fetch_build_egg)\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 2185, in require\n    map(working_set.add,\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 2403, in requires\n    dm = self._dep_map\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 2392, in _dep_map\n    if invalid_marker(marker):\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 1209, in invalid_marker\n    evaluate_marker(text)\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 1209, in invalid_marker\n    evaluate_marker(text)\n  File \"/home/yyuu/work/repos/hg/setuptools/pkg_resources.py\", line 1292, in evaluate_marker\n    import parser\nImportError: No module named parser\n```\n\n// BTW, new setuptools should support Jython?\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/14\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/14/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/13", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/13/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/13/events", "html_url": "https://github.com/pypa/setuptools/issues/13", "id": 144274595, "node_id": "MDU6SXNzdWUxNDQyNzQ1OTU=", "number": 13, "title": "Pypi home pages of Setuptools and Distribute need to be updated", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-06-04T07:51:21Z", "updated_at": "2016-03-29T14:03:58Z", "closed_at": "2016-03-29T14:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **flimm (Bitbucket: [flimm](http://bitbucket.org/flimm), GitHub: [flimm](http://github.com/flimm))**\n\n---\n\nCurrently, the [Pypi home page of Distribute](https://pypi.python.org/pypi/distribute) indicates that Distribute is deprecated, replaced by Setuptools.\n\nHowever, the [Pypi home page of Setuptools](https://pypi.python.org/pypi/setuptools) is ancient, only displaying information for Setuptools 0.6c11, which isn't compatible with Python 3, among other shortcomings.\n\nIf Distribute is truly ready to be replaced by Setuptools, then the Pypi home page of Setuptools should be updated.\n\nIf not, the name Distribute should be kept and it should not be marked as deprecated.\n\nIf you look at [this StackOverflow post](http://stackoverflow.com/a/14753678/247696), you can see that the packaging situation for Python is confusing enough as it is already. It is not helpful to have Distribute as the recommended option, only to have it marked as deprecated on its Pypi home page, without updating the Setuptools Pypi home page.\n\nDocumentation should not be updated before everything has been released. We made this mistake with Distutils2/packaging, you can find plenty of documentation and blog posts stating that it is in Python 3.3, when that is not the case.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/13\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/13/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/12", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/12/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/12/events", "html_url": "https://github.com/pypa/setuptools/issues/12", "id": 144274585, "node_id": "MDU6SXNzdWUxNDQyNzQ1ODU=", "number": 12, "title": "Update or remove warning when namespace package doesn't use declare_namespace()", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-06-03T21:56:14Z", "updated_at": "2016-03-29T14:03:53Z", "closed_at": "2016-03-29T14:03:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **adrian (Bitbucket: [adrian](http://bitbucket.org/adrian), GitHub: [adrian](http://github.com/adrian))**\n\n---\n\nWhen building a namespace package, Setuptools checks (by searching in the code) whether the `__init__.py` therein calls `declare_namespace` from `pkg_resources`. If it doesn't it, it logs a warning, [emitted here](https://bitbucket.org/pypa/setuptools/src/6aa3034bc297e98ed1a8422d96754cc0d6734667/setuptools/command/build_py.py#cl-217), which reads:\n\n> WARNING: (package) is a namespace package, but its __init__.py does not declare_namespace(); setuptools 0.7 will REQUIRE this! (See the setuptools manual under \"Namespace Packages\" for  details.)\n\nFirst of all, setuptools 0.7 now exists, so the future tense is somewhat worrisome. Also, I'm not sure whether requiring a `declare_namespace` call is actually in the plans anymore. ([My package](https://bitbucket.org/adrian/beets/src/766fa6bf4aaaa855a2f8e9dbbfc4d86c1f43d270/beetsplug/__init__.py), for example, accomplishes namespace packages using `pkgutil.extend_path` from the standard library instead.) Some clarification, either in the warning or the docs, about what the plans are here would be helpful.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/12\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/12/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/10", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/10/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/10/events", "html_url": "https://github.com/pypa/setuptools/issues/10", "id": 144274561, "node_id": "MDU6SXNzdWUxNDQyNzQ1NjE=", "number": 10, "title": "ez_setup.py should use HTTPS", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-03T14:46:42Z", "updated_at": "2016-03-29T14:03:44Z", "closed_at": "2016-03-29T14:03:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tiran (Bitbucket: [tiran](http://bitbucket.org/tiran), GitHub: [tiran](http://github.com/tiran))**\n\n---\n\nez_setup.DEFAULT_URL points to \"http://pypi.python.org/packages/source/s/setuptools/\". It should use https instead. At least some versions of Python validate the server cert on some platforms.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/10\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/9", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/9/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/9/events", "html_url": "https://github.com/pypa/setuptools/issues/9", "id": 144274535, "node_id": "MDU6SXNzdWUxNDQyNzQ1MzU=", "number": 9, "title": "ez_setup.py download and extraction flooding vulnerability", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-03T14:42:19Z", "updated_at": "2016-03-29T14:03:38Z", "closed_at": "2016-03-29T14:03:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tiran (Bitbucket: [tiran](http://bitbucket.org/tiran), GitHub: [tiran](http://github.com/tiran))**\n\n---\n\nez_setup.download_setuptools() doesn't limit the amount of data that is downloaded with urllib. An attacker can forge a HTTP response with a large or even infinite file (e.g. netcat < /dev/zero). This can consume lots of memory or occupy lots of disk space on /tmp. src.read() should be limited to a sane value (e.g. 2-5 MB) and raise an error if more data is downloaded.\n\nez_setup._extractall() should be limited, too. It's open to zip decompression bomb vulnerability.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/9\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/9/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/8", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/8/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/8/events", "html_url": "https://github.com/pypa/setuptools/issues/8", "id": 144274525, "node_id": "MDU6SXNzdWUxNDQyNzQ1MjU=", "number": 8, "title": "ssl_support.py:  1868:04732ee16e7e broke '_dnsname_to_pat'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-03T14:06:15Z", "updated_at": "2016-03-29T14:03:35Z", "closed_at": "2016-03-29T14:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tseaver (Bitbucket: [tseaver](http://bitbucket.org/tseaver), GitHub: [tseaver](http://github.com/tseaver))**\n\n---\n\nDropping the 're' import.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/8\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/8/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/7", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/7/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/7/events", "html_url": "https://github.com/pypa/setuptools/issues/7", "id": 144274511, "node_id": "MDU6SXNzdWUxNDQyNzQ1MTE=", "number": 7, "title": "ez_setup.py should validate tar file", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-06-03T13:59:27Z", "updated_at": "2016-03-29T14:03:33Z", "closed_at": "2016-03-29T14:03:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **tiran (Bitbucket: [tiran](http://bitbucket.org/tiran), GitHub: [tiran](http://github.com/tiran))**\n\n---\n\nez_setup._extractall() should validate the tar file members according to http://docs.python.org/3/library/tarfile.html#tarfile.TarFile.extractall\n\nI suggest that _extractall() shall raise an error if\n- a member is neither a directory nor a regular file (e.g. symlink, device)\n- member.name starts with '/' or contains '../' in order to prevent directory traversal attacks\n\nI also propose to mask out problematic bits like SUID. After all ez_setup.py is usually run with root permission.\n\n```\n#!python\n    for tarinfo in members:\n        if tarinfo.name.startswith('/') or '../' in tarinfo.name:\n            raise ValueError(\"Absolute file names or directory traversal forbidden: %s\"\n                                       % tarinfo.name)\n        if tarinfo.isdir():\n            # Extract directories with a safe mode.\n            directories.append(tarinfo)\n            tarinfo = copy.copy(tarinfo)\n            tarinfo.mode = 448  # decimal for oct 0700\n        elif tarinfo.isreg():\n            tarinfo.mode &= 511 # 0777, mask out SUID, SGID, VTX\n        else:\n            raise ValueError(\"unsupported file type for file %s\" % tarinfo.name)  \n```\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/7\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/7/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/5", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/5/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/5/events", "html_url": "https://github.com/pypa/setuptools/issues/5", "id": 144274485, "node_id": "MDU6SXNzdWUxNDQyNzQ0ODU=", "number": 5, "title": "distribute_setup.py fails with pkg_resources.VersionConflict", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-05-29T05:26:04Z", "updated_at": "2016-03-29T14:03:23Z", "closed_at": "2016-03-29T14:03:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **mgedmin (Bitbucket: [mgedmin](http://bitbucket.org/mgedmin), GitHub: [mgedmin](http://github.com/mgedmin))**\n\n---\n\nSteps to reproduce:\n\n```\n$ virtualenv tmpenv\n...\nNew python executable in tmpenv/bin/python\nInstalling setuptools............done.\nInstalling pip...............done.\n\n$ wget http://downloads.buildout.org/2/bootstrap.py\n...\n\n$ tmpenv/bin/python bootstrap.py\nTraceback (most recent call last):\n  File \"bootstrap.py\", line 78, in <module>\n    ez['use_setuptools'](**setup_args)\n  File \"<string>\", line 151, in use_setuptools\n  File \"/tmp/tmpenv/local/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 666, in require\n  File \"/tmp/tmpenv/local/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 569, in resolve\npkg_resources.VersionConflict: (setuptools 0.6c11 (/tmp/tmpenv/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg), Requirement.parse('setuptools>=0.7b'))\n```\n\nWhat [bootstrap.py](https://github.com/buildout/buildout/blob/master/bootstrap/bootstrap.py#L81) does is try to install distribute when it finds setuptools in the outer Python\n\n```\n    exec(urlopen('http://python-distribute.org/distribute_setup.py').read(), ez)\n    setup_args = dict(to_dir=tmpeggs, download_delay=0, no_fake=True)\n    ez['use_setuptools'](**setup_args)\n```\n\nIt looks like [this](https://bitbucket.org/pypa/setuptools/commits/73aa98aee6bbc4a9d19a334a8ac928dece7799c6) might be the commit that introduced this problem (thanks to Troy J. Farrell for finding it).\n\nAs a workaround I can use `virtualenv --distribute` in step 1.  But not every instance of this problem involves a virtualenv -- the Zope Windows buildbot is all red today, [with similar errors](http://winbot.zope.org/builders/zope.viewlet_py_265_32/builds/867/), and there's no virtualenv in the picture.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/5\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/5/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/3", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/3/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/3/events", "html_url": "https://github.com/pypa/setuptools/issues/3", "id": 144274468, "node_id": "MDU6SXNzdWUxNDQyNzQ0Njg=", "number": 3, "title": "Import error in setuptools/ssl_support.py import pkg_resources", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-05-28T20:19:16Z", "updated_at": "2016-03-29T14:03:18Z", "closed_at": "2016-03-29T14:03:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **elarson (Bitbucket: [elarson](http://bitbucket.org/elarson), GitHub: [elarson](http://github.com/elarson))**\n\n---\n\nThere is a reference to pkg_resources.resource_filename in setuptools/ssl_support.py, yet the used modules are imported explicitly.\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/3\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/3/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/2", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/2/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/2/events", "html_url": "https://github.com/pypa/setuptools/issues/2", "id": 144274453, "node_id": "MDU6SXNzdWUxNDQyNzQ0NTM=", "number": 2, "title": "Emit less cryptic error message for a missing namespace package declaration", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-05-28T08:58:26Z", "updated_at": "2018-07-14T14:54:44Z", "closed_at": "2018-07-14T14:54:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **ncoghlan (Bitbucket: [ncoghlan](http://bitbucket.org/ncoghlan), GitHub: [ncoghlan](http://github.com/ncoghlan))**\n\n---\n\nThe error message received when a system installed package is missing a \"namespace package\" declaration is _really_ cryptic. I encountered this for http://beaker-project.org when our common library was missing the namespace package declaration (it originally didn't seem necessary, since that package is the one that _owns_ that namespace, and _does_ have its `__init__.py` file installed as part of the OS package)\n\nWhen running from a source checkout, we don't actually care that the system version is present, because sys.path ensures the installed released version is ignored. This also holds true for `bkr.__path__`.\n\nHowever, because of the missing declaration, pkg_resources interprets this as an attempt to import a conflicting version of a top level module and ends up emitting a totally inappropriate error message from check_version_conflict() (see the final warning in \nhttps://bitbucket.org/pypa/setuptools/src/6aa3034bc297e98ed1a8422d96754cc0d6734667/pkg_resources.py?at=default#cl-2545)\n\nThere should be something in declare_namespace() that checks for this and emits a less cryptic error message that makes it clear:\n1. It found some metadata for that package (and where it found it)\n2. The metadata doesn't say anything about this being a namespace package\n\nSee http://stackoverflow.com/questions/13915269/why-do-i-get-userwarning-module-dap-was-already-imported-from-none/ for some background\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/2\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/2/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pypa/setuptools/issues/1", "repository_url": "https://api.github.com/repos/pypa/setuptools", "labels_url": "https://api.github.com/repos/pypa/setuptools/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/setuptools/issues/1/comments", "events_url": "https://api.github.com/repos/pypa/setuptools/issues/1/events", "html_url": "https://github.com/pypa/setuptools/issues/1", "id": 144274413, "node_id": "MDU6SXNzdWUxNDQyNzQ0MTM=", "number": 1, "title": "Disable installation of Windows-specific files on non-Windows systems", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 349315096, "node_id": "MDU6TGFiZWwzNDkzMTUwOTY=", "url": "https://api.github.com/repos/pypa/setuptools/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 349315320, "node_id": "MDU6TGFiZWwzNDkzMTUzMjA=", "url": "https://api.github.com/repos/pypa/setuptools/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-05-25T18:29:08Z", "updated_at": "2016-03-29T14:03:04Z", "closed_at": "2016-03-29T14:03:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported by: **atodorov (Bitbucket: [atodorov](http://bitbucket.org/atodorov), GitHub: [atodorov](http://github.com/atodorov))**\n\n---\n\nHi guys,\nI'm not sure if this is a bug but it seems awkward to have Windows executables in a source release which I install on Linux:\n\nsetuptools/cli-arm-32.exe : PE32 executable (console) Unknown processor type 0x1c4, for MS Windows\nsetuptools/gui-arm-32.exe : PE32 executable (console) Unknown processor type 0x1c4, for MS Windows\nsetuptools/cli-64.exe : PE32+ executable (console) x86-64, for MS Windows\nsetuptools/cli-32.exe : PE32 executable (console) Intel 80386, for MS Windows\nsetuptools/gui-32.exe : PE32 executable (GUI) Intel 80386, for MS Windows\nsetuptools/gui-64.exe : PE32+ executable (GUI) x86-64, for MS Windows\n\nFor more info see (ADD-ON INFO button):\nhttp://www.dif.io/updates/distribute-0.6.10/distribute-0.6.43/17481/\n\n---\n- Bitbucket: https://bitbucket.org/pypa/setuptools/issue/1\n", "reactions": {"url": "https://api.github.com/repos/pypa/setuptools/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pypa/setuptools/issues/1/timeline", "performed_via_github_app": null, "state_reason": "completed"}]