[{"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1867", "id": 1681662097, "node_id": "PR_kwDOACFB9M5PBiuv", "number": 1867, "title": "Remove duplicate compression of attachments", "user": {"login": "timoramsauer", "id": 17741313, "node_id": "MDQ6VXNlcjE3NzQxMzEz", "avatar_url": "https://avatars.githubusercontent.com/u/17741313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timoramsauer", "html_url": "https://github.com/timoramsauer", "followers_url": "https://api.github.com/users/timoramsauer/followers", "following_url": "https://api.github.com/users/timoramsauer/following{/other_user}", "gists_url": "https://api.github.com/users/timoramsauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/timoramsauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timoramsauer/subscriptions", "organizations_url": "https://api.github.com/users/timoramsauer/orgs", "repos_url": "https://api.github.com/users/timoramsauer/repos", "events_url": "https://api.github.com/users/timoramsauer/events{/privacy}", "received_events_url": "https://api.github.com/users/timoramsauer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/39", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39/labels", "id": 8190608, "node_id": "MI_kwDOACFB9M4AfPqQ", "number": 39, "title": "59.0", "description": "* Reduce PDF\u202fsize\r\n* Save memory", "creator": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "open", "created_at": "2022-07-13T08:54:27Z", "updated_at": "2023-04-26T08:05:23Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2023-04-24T16:40:38Z", "updated_at": "2023-04-26T08:05:23Z", "closed_at": "2023-04-26T08:05:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1867", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1867", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1867.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1867.patch", "merged_at": "2023-04-26T08:05:02Z"}, "body": "Attachments are compressed twice on the current master branch. This results in the attachment not opening properly. At least Evince only uncompresses once. \r\nThe function at fault is `write_pdf_attachment` in [anchors.py](https://github.com/Kozea/WeasyPrint/tree/master/weasyprint/pdf/anchors.py).\r\n\r\nThe function already compresses the attachment internally and then passes it to `Stream`, along with the `compress` argument set to `compress`. This is evaluated as `True` and the attachment is compressed again by `Stream`.\r\n\r\nThis pull request removes compression inside `write_pdf_attachment` and leaves compression to `Stream`", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1867/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1855", "id": 1650416164, "node_id": "I_kwDOACFB9M5iX1ok", "number": 1855, "title": "Bug misplacing emoji in justified text", "user": {"login": "survtur", "id": 4893428, "node_id": "MDQ6VXNlcjQ4OTM0Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4893428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/survtur", "html_url": "https://github.com/survtur", "followers_url": "https://api.github.com/users/survtur/followers", "following_url": "https://api.github.com/users/survtur/following{/other_user}", "gists_url": "https://api.github.com/users/survtur/gists{/gist_id}", "starred_url": "https://api.github.com/users/survtur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/survtur/subscriptions", "organizations_url": "https://api.github.com/users/survtur/orgs", "repos_url": "https://api.github.com/users/survtur/repos", "events_url": "https://api.github.com/users/survtur/events{/privacy}", "received_events_url": "https://api.github.com/users/survtur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/39", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39/labels", "id": 8190608, "node_id": "MI_kwDOACFB9M4AfPqQ", "number": 39, "title": "59.0", "description": "* Reduce PDF\u202fsize\r\n* Save memory", "creator": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "open", "created_at": "2022-07-13T08:54:27Z", "updated_at": "2023-04-26T08:05:23Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2023-04-01T10:51:00Z", "updated_at": "2023-04-07T21:35:52Z", "closed_at": "2023-04-07T21:01:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Look at the emoji positions in justifiied text. Something wrong. I'd describe it like their X coordinate not increased enough as other word positions to fill line.\r\n\r\nIn the example every emoji is surrounded with brackets. It should help to visualize difference between their desired and actual positions. \r\n\r\n![image](https://user-images.githubusercontent.com/4893428/229284111-f0976f2f-f53d-4a47-bab5-19f7c67288e3.png)\r\n\r\nHere is the code:\r\n\r\n```\r\nfrom weasyprint import HTML\r\n\r\nh = \"\"\"<html><body>\r\n<h4>Justified (notice emoji positions</h4>\r\n<div style='text-align: justify'>\r\nLorem Ipsum is simply (\ud83d\ude00) dummy text of the (\u2757)typesetting(\u2757) industry.\r\nLorem Ipsum has been the (\ud83d\ude00) industry's standard dummy text ever since the 1500s,\r\nwhen an unknown printer took a galley of type and scrambled it to makea type\r\nspecimen book. It has survived not only five{\ud83c\udf0d}centuries,[\ud83c\udf0d]but also the leap into\r\nelectronic typesetting, remaining essentially unchanged &lt;\ud83d\udc35\ud83d\udc35\ud83d\udc35&gt;. It was popularised in\r\nthe 1960s with the release of Letraset sheets containing Lorem &lt;\ud83d\ude01\ud83d\ude05&gt;\r\n (\ud83c\udf0d) like veryloooooooongwordhereAldus PageMaker including\r\nversions of Lorem Ipsum |\ud83d\udc35|.\r\n</div>\r\n<h4>Left align</h4>\r\n<div style='text-align: left'>\r\nLorem Ipsum is simply (\ud83d\ude00) dummy text of the (\u2757)typesetting(\u2757) industry.\r\nLorem Ipsum has been the (\ud83d\ude00) industry's standard dummy text ever since the 1500s,\r\nwhen an unknown printer took a galley of type and scrambled it to makea type\r\nspecimen book. It has survived not only five{\ud83c\udf0d}centuries,[\ud83c\udf0d]but also the leap into\r\nelectronic typesetting, remaining essentially unchanged &lt;\ud83d\udc35\ud83d\udc35\ud83d\udc35&gt;. It was popularised in\r\nthe 1960s with the release of Letraset sheets containing Lorem &lt;\ud83d\ude01\ud83d\ude05&gt;\r\n (\ud83c\udf0d) like veryloooooooongwordhereAldus PageMaker including\r\nversions of Lorem Ipsum |\ud83d\udc35|.\r\n</div>\r\n<h4>Right align</h4>\r\n<div style='text-align: right'>\r\nLorem Ipsum is simply (\ud83d\ude00) dummy text of the (\u2757)typesetting(\u2757) industry.\r\nLorem Ipsum has been the (\ud83d\ude00) industry's standard dummy text ever since the 1500s,\r\nwhen an unknown printer took a galley of type and scrambled it to makea type\r\nspecimen book. It has survived not only five{\ud83c\udf0d}centuries,[\ud83c\udf0d]but also the leap into\r\nelectronic typesetting, remaining essentially unchanged &lt;\ud83d\udc35\ud83d\udc35\ud83d\udc35&gt;. It was popularised in\r\nthe 1960s with the release of Letraset sheets containing Lorem &lt;\ud83d\ude01\ud83d\ude05&gt;\r\n (\ud83c\udf0d) like veryloooooooongwordhereAldus PageMaker including\r\nversions of Lorem Ipsum |\ud83d\udc35|.\r\n</div>\r\n\r\n<h4>Justified with short words</h4>\r\n<div style='text-align: justify'>\r\nEmoji here (\ud83c\udf0d) and one empji in distant position (\ud83c\udf0d). Then here some short words, so justification is not so strong.\r\n</div>\r\n<h4>Justified with longer words</h4>\r\n<div style='text-align: justify'>\r\nEmoji here (\ud83c\udf0d) and one empji in distant position (\ud83c\udf0d). OneBigWordHereToShoThatBugComesFromSomewhereHere\r\n</div>\r\n</body></html>\"\"\"\r\ndoc = HTML(string=h).render()\r\ndoc.write_pdf('out.pdf')\r\n```\r\nPlease fix it. Looks like some multiplier is incorrect. Should not be a problem for the one who wrote the code.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1843", "id": 1625547024, "node_id": "I_kwDOACFB9M5g4-EQ", "number": 1843, "title": "Meta data dates are missing the \"D:\"", "user": {"login": "jsf84ksnf", "id": 89138746, "node_id": "MDQ6VXNlcjg5MTM4NzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/89138746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsf84ksnf", "html_url": "https://github.com/jsf84ksnf", "followers_url": "https://api.github.com/users/jsf84ksnf/followers", "following_url": "https://api.github.com/users/jsf84ksnf/following{/other_user}", "gists_url": "https://api.github.com/users/jsf84ksnf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsf84ksnf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsf84ksnf/subscriptions", "organizations_url": "https://api.github.com/users/jsf84ksnf/orgs", "repos_url": "https://api.github.com/users/jsf84ksnf/repos", "events_url": "https://api.github.com/users/jsf84ksnf/events{/privacy}", "received_events_url": "https://api.github.com/users/jsf84ksnf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/39", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39/labels", "id": 8190608, "node_id": "MI_kwDOACFB9M4AfPqQ", "number": 39, "title": "59.0", "description": "* Reduce PDF\u202fsize\r\n* Save memory", "creator": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "open", "created_at": "2022-07-13T08:54:27Z", "updated_at": "2023-04-26T08:05:23Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2023-03-15T13:36:45Z", "updated_at": "2023-04-13T17:49:17Z", "closed_at": "2023-03-16T17:36:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a pdf was created with the dcterms.created tag filled, the date is correctly converted into /CreationDate (20230315141811+01'00)\r\n\r\nHowever, most Pdf Viewers do not show that timestamp, because it is missing a \"D:...\".\r\nSo, it should read /CreationDate (D:20230315141811+01'00)\r\n\r\nThe same goes for the other dates. Could be fixed in _w3c_date_to_pdf.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1843/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1827", "id": 1610474988, "node_id": "I_kwDOACFB9M5f_eXs", "number": 1827, "title": "Half of word-spacing to a space at the end of a TextBox", "user": {"login": "bot-jonas", "id": 70984536, "node_id": "MDQ6VXNlcjcwOTg0NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/70984536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bot-jonas", "html_url": "https://github.com/bot-jonas", "followers_url": "https://api.github.com/users/bot-jonas/followers", "following_url": "https://api.github.com/users/bot-jonas/following{/other_user}", "gists_url": "https://api.github.com/users/bot-jonas/gists{/gist_id}", "starred_url": "https://api.github.com/users/bot-jonas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bot-jonas/subscriptions", "organizations_url": "https://api.github.com/users/bot-jonas/orgs", "repos_url": "https://api.github.com/users/bot-jonas/repos", "events_url": "https://api.github.com/users/bot-jonas/events{/privacy}", "received_events_url": "https://api.github.com/users/bot-jonas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/39", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/39/labels", "id": 8190608, "node_id": "MI_kwDOACFB9M4AfPqQ", "number": 39, "title": "59.0", "description": "* Reduce PDF\u202fsize\r\n* Save memory", "creator": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "open", "created_at": "2022-07-13T08:54:27Z", "updated_at": "2023-04-26T08:05:23Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2023-03-06T01:03:43Z", "updated_at": "2023-04-14T13:41:04Z", "closed_at": "2023-03-11T07:17:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello, I get different results from Chrome and Weasyprint when trying to use word-spacing in text that ends with a space.  Weasyprint only adds half of word-spacing to these cases.\r\n\r\nThe following code illustrates the problem.\r\n\r\n```html\r\n<style type=\"text/css\">\r\n\t@page { size: 200px; margin: 0 }\r\n\tbody { margin: 0; font: 15pt monospace }\r\n\t.ws { word-spacing: 50px }\r\n\t.ws2 { word-spacing: 100px }\r\n</style>\r\n<div class=\"ws\">a b</div>\r\n<div class=\"ws\">c <b></b>d</div>\r\n<div class=\"ws2\">e <b></b>f</div>\r\n```\r\n\r\nWeasyPrint:\r\n![image](https://user-images.githubusercontent.com/70984536/222994077-57ef0cff-df03-4a6e-b10c-10c5998ce7cc.png)\r\n\r\nChrome:\r\n![image](https://user-images.githubusercontent.com/70984536/222994042-83bc5c23-6304-4f95-86ed-3be188eeb69d.png)\r\n\r\nI found a reference to this problem in this TODO:\r\nhttps://github.com/Kozea/WeasyPrint/blob/4377c38b2971a3a3c6c7f3a6de2c49a585d65f68/tests/test_text.py#L473-L474\r\n\r\nCurrently, I am fixing this problem changing this code\r\nhttps://github.com/Kozea/WeasyPrint/blob/4377c38b2971a3a3c6c7f3a6de2c49a585d65f68/weasyprint/text/line_break.py#L184-L190\r\n\r\nto this\r\n```python\r\nif word_spacing:\r\n    space_spacing = (\r\n        units_from_double(word_spacing) + letter_spacing)\r\n    position = bytestring.find(b' ')\r\n    last_position = len(bytestring) - 1\r\n    while position != -1:\r\n        factor = 1 + (position == last_position)\r\n        add_attr(position, position + 1, factor * space_spacing)\r\n        position = bytestring.find(b' ', position + 1)\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1827/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1822", "id": 1599875981, "node_id": "I_kwDOACFB9M5fXCuN", "number": 1822, "title": "Different vertical position for absolute-positioned img using top and bottom css properties", "user": {"login": "bot-jonas", "id": 70984536, "node_id": "MDQ6VXNlcjcwOTg0NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/70984536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bot-jonas", "html_url": "https://github.com/bot-jonas", "followers_url": "https://api.github.com/users/bot-jonas/followers", "following_url": "https://api.github.com/users/bot-jonas/following{/other_user}", "gists_url": "https://api.github.com/users/bot-jonas/gists{/gist_id}", "starred_url": "https://api.github.com/users/bot-jonas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bot-jonas/subscriptions", "organizations_url": "https://api.github.com/users/bot-jonas/orgs", "repos_url": "https://api.github.com/users/bot-jonas/repos", "events_url": "https://api.github.com/users/bot-jonas/events{/privacy}", "received_events_url": "https://api.github.com/users/bot-jonas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-25T23:49:12Z", "updated_at": "2023-02-27T07:54:56Z", "closed_at": "2023-02-27T07:54:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello, I was trying to convert some html to pdf, but some images were not displayed correctly. The vertical positions calculated using the bottom css property were different from the chrome version, however, the equivalent positions using the top css property were the same. \r\n\r\nThe code below illustrates my problem.\r\n\r\n```html\r\n<style>\r\n\tbody { margin: 0; display: flex; justify-content: space-between; }\r\n\t@page { margin: 0; size: 1000px 500px; }\r\n\r\n\t.a { position: relative; width: 400px; height: 400px; }\r\n\t.b { position: absolute; width: 100px; height: 100px; top: 50px; }\r\n\t.c { position: absolute; width: 100px; height: 100px; bottom: 250px; }\r\n</style>\r\n\r\n<body>\r\n\t<div class=\"a\" style=\"background-color: cyan;\">\r\n\t\t<img class=\"b\" src=\"https://picsum.photos/id/237/100/100\"/>\r\n\t</div>\r\n\r\n\t<div class=\"a\" style=\"background-color: magenta;\">\r\n\t\t<img class=\"c\" src=\"https://picsum.photos/id/237/100/100\"/>\r\n\t</div>\r\n</body>\r\n```\r\n\r\nWeasyPrint:\r\n![image](https://user-images.githubusercontent.com/70984536/221384293-81a53e09-7f90-4699-9c75-7bf1f696a9eb.png)\r\n\r\nChrome:\r\n![image](https://user-images.githubusercontent.com/70984536/221384247-ccb08808-24dc-4f28-af4a-2012a80d535d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1809", "id": 1585102289, "node_id": "I_kwDOACFB9M5eer3R", "number": 1809, "title": "incorrect background coverage of rotated div at page limit", "user": {"login": "castedo", "id": 1416766, "node_id": "MDQ6VXNlcjE0MTY3NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1416766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/castedo", "html_url": "https://github.com/castedo", "followers_url": "https://api.github.com/users/castedo/followers", "following_url": "https://api.github.com/users/castedo/following{/other_user}", "gists_url": "https://api.github.com/users/castedo/gists{/gist_id}", "starred_url": "https://api.github.com/users/castedo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/castedo/subscriptions", "organizations_url": "https://api.github.com/users/castedo/orgs", "repos_url": "https://api.github.com/users/castedo/repos", "events_url": "https://api.github.com/users/castedo/events{/privacy}", "received_events_url": "https://api.github.com/users/castedo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/42", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42/labels", "id": 8958422, "node_id": "MI_kwDOACFB9M4AiLHW", "number": 42, "title": "58.0", "description": "- Default style for forms\r\n- PDF forms", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2023-01-24T08:43:08Z", "updated_at": "2023-02-17T10:06:13Z", "due_on": null, "closed_at": "2023-02-17T10:06:13Z"}, "comments": 1, "created_at": "2023-02-15T02:20:06Z", "updated_at": "2023-02-16T11:00:51Z", "closed_at": "2023-02-16T11:00:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "PDF [dest.pdf](https://github.com/Kozea/WeasyPrint/files/10738617/dest.pdf)\r\ngenerated from HTML file [src.html.txt](https://github.com/Kozea/WeasyPrint/files/10738621/src.html.txt)\r\n\r\nExpected them to look the same. That is, the red background fills the entire ribbon.\r\n\r\nI'm guessing this has something to do with the way background rectangles are calculated near the limit of the page.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1809/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1783", "id": 1509211445, "node_id": "PR_kwDOACFB9M5GHOWO", "number": 1783, "title": "Use partial font instead of font face to create font cache keys", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/41", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/41", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/41/labels", "id": 8793215, "node_id": "MI_kwDOACFB9M4Ahix_", "number": 41, "title": "57.2", "description": "Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2022-12-23T11:05:18Z", "updated_at": "2022-12-23T15:11:44Z", "due_on": null, "closed_at": "2022-12-23T14:32:02Z"}, "comments": 0, "created_at": "2022-12-23T11:04:20Z", "updated_at": "2022-12-23T11:13:20Z", "closed_at": "2022-12-23T11:13:19Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1783", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1783", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1783.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1783.patch", "merged_at": "2022-12-23T11:13:19Z"}, "body": "The font face introduced by Pango 1.46 was appealing, but its description seems to be broken. No easy way to know whether it\u2019s broken in Pango, in FontConfig, in our custom FontConfig configuration, or elsewhere. As it only happens with @font-face rules, we can easily blame our FontConfig configuration.\r\n\r\nLet\u2019s try something else again! This key changes in each version\u2026\r\n\r\nFont descriptions have a nice way to unset values, allowing us to only keep fields that should be unique by font file. This will probably lead us to other subtle and frightening problems in the future, but we\u2019ll let our dear users and customers find them for us.\r\n\r\nAnd we don\u2019t require Pango 1.46 anymore to get smaller PDFs. So cool.\r\n\r\nFix #1778.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1783/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1782", "id": 1508040956, "node_id": "I_kwDOACFB9M5Z4uD8", "number": 1782, "title": "PDF/UA-1 and links", "user": {"login": "jjsarton", "id": 951168, "node_id": "MDQ6VXNlcjk1MTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/951168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjsarton", "html_url": "https://github.com/jjsarton", "followers_url": "https://api.github.com/users/jjsarton/followers", "following_url": "https://api.github.com/users/jjsarton/following{/other_user}", "gists_url": "https://api.github.com/users/jjsarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjsarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjsarton/subscriptions", "organizations_url": "https://api.github.com/users/jjsarton/orgs", "repos_url": "https://api.github.com/users/jjsarton/repos", "events_url": "https://api.github.com/users/jjsarton/events{/privacy}", "received_events_url": "https://api.github.com/users/jjsarton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/41", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/41", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/41/labels", "id": 8793215, "node_id": "MI_kwDOACFB9M4Ahix_", "number": 41, "title": "57.2", "description": "Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2022-12-23T11:05:18Z", "updated_at": "2022-12-23T15:11:44Z", "due_on": null, "closed_at": "2022-12-23T14:32:02Z"}, "comments": 3, "created_at": "2022-12-22T15:01:40Z", "updated_at": "2022-12-23T15:11:44Z", "closed_at": "2022-12-23T15:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an HTML5 File with a few links. Generating the PDF file seem to work well. Checking it with verapdf report:\r\n\r\n```\r\nA Link annotation is nested within null tag instead of Link\r\n--\r\nroot/document[0]/pages[11](33 0 obj PDPage)/annots[8](42 0 obj PDLinkAnnot)\r\nA Link annotation is nested within null tag instead of Link\r\n```\r\n\r\nWith this exception, a great work!", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1782/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1778", "id": 1504588291, "node_id": "I_kwDOACFB9M5ZrjID", "number": 1778, "title": "inexplicable change of font weight", "user": {"login": "castedo", "id": 1416766, "node_id": "MDQ6VXNlcjE0MTY3NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1416766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/castedo", "html_url": "https://github.com/castedo", "followers_url": "https://api.github.com/users/castedo/followers", "following_url": "https://api.github.com/users/castedo/following{/other_user}", "gists_url": "https://api.github.com/users/castedo/gists{/gist_id}", "starred_url": "https://api.github.com/users/castedo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/castedo/subscriptions", "organizations_url": "https://api.github.com/users/castedo/orgs", "repos_url": "https://api.github.com/users/castedo/repos", "events_url": "https://api.github.com/users/castedo/events{/privacy}", "received_events_url": "https://api.github.com/users/castedo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-20T13:46:34Z", "updated_at": "2022-12-23T11:13:20Z", "closed_at": "2022-12-23T11:13:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "STEPS:\r\nRun weasyprint (57.1) on\r\n[good.html.txt](https://github.com/Kozea/WeasyPrint/files/10268763/good.html.txt)\r\n[bad.html.txt](https://github.com/Kozea/WeasyPrint/files/10268762/bad.html.txt)\r\n\r\nGOT:\r\n[good.pdf](https://github.com/Kozea/WeasyPrint/files/10268747/good.pdf)\r\n[bad.pdf](https://github.com/Kozea/WeasyPrint/files/10268753/bad.pdf)\r\n\r\nEXPECTED:\r\nThe Foo Bar title and text to be the same between the two pdf files, specifically the lighter font weight for both.\r\n\r\nCOMMENTS:\r\nThe only difference between the two HTML files is whether the anchor text has some text or is just spaces. It seems like having text in the anchor triggers the font weight style to get lost.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1777", "id": 1504317880, "node_id": "I_kwDOACFB9M5ZqhG4", "number": 1777, "title": "Excess PDF file size when included images have some particular EXIF fields (not all fields identified yet)", "user": {"login": "AlexanderNeilson", "id": 13706540, "node_id": "MDQ6VXNlcjEzNzA2NTQw", "avatar_url": "https://avatars.githubusercontent.com/u/13706540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexanderNeilson", "html_url": "https://github.com/AlexanderNeilson", "followers_url": "https://api.github.com/users/AlexanderNeilson/followers", "following_url": "https://api.github.com/users/AlexanderNeilson/following{/other_user}", "gists_url": "https://api.github.com/users/AlexanderNeilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexanderNeilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexanderNeilson/subscriptions", "organizations_url": "https://api.github.com/users/AlexanderNeilson/orgs", "repos_url": "https://api.github.com/users/AlexanderNeilson/repos", "events_url": "https://api.github.com/users/AlexanderNeilson/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexanderNeilson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/42", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42/labels", "id": 8958422, "node_id": "MI_kwDOACFB9M4AiLHW", "number": 42, "title": "58.0", "description": "- Default style for forms\r\n- PDF forms", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2023-01-24T08:43:08Z", "updated_at": "2023-02-17T10:06:13Z", "due_on": null, "closed_at": "2023-02-17T10:06:13Z"}, "comments": 1, "created_at": "2022-12-20T10:19:20Z", "updated_at": "2023-01-24T08:44:34Z", "closed_at": "2022-12-27T14:58:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry for the lack of clarity in some of this as I haven't been able to fully isolate what is the causing feature (btw does anyone know a good metadata gui editor that allows for selective removal of fields - I am using Metadata++ so far to investigate but it doesn't seem to allow selecting and removing any random lines however it will allow bulk delete).\r\n\r\nBackground:\r\nWhen images with particular metadata tags in them are included in PDF's generated by WeasyPrint (57.1, 57.0, 56.1, 56.0, 55.0) (and some versions tried with Pillow 9.3.0, 9.2.0) the output PDF file size is significantly larger than normally expected (the example that will be attached to this shows the file with stripped metadata tags renders at 348KB and with all metadata tags included the same image renders into a PDF as 2,885KB)\r\n\r\nCurrently identified factors:\r\n* So far all triggering photos were taken on iPhone 14 Pro Max running iOS 16.1.2\r\n* The images were resized before upload by our website front end to 1600 x 1200 pixels from the original ~4kx3k pixels\r\n* iPhone 13 Pro Max running iOS 16.3 Dev Beta one doesn't trigger the issue\r\n* The images include metadata fields identified in Metadata++ as in a category Apply some of which are named but others are un named and identified only by code and the body of those tags are not clearly understandable in the ui\r\n* This metadata is not included in the images uploaded from the iPhone 13 Pro Max\r\n* The EXIF fields identifying the pixel dimensions of the image are not updated by our front end when they do their resizing\r\n* Fixing the pixel dimensions in the EXIF fields did fix the file size when the PDF is generated on a MacOS system (Python 3.10) however the file still generates large files when run on Windows 10 and Debian 11 (both Python 3.9)\r\n\r\nPlease let me know if I can provide any further information, we are continuing to try trace why its happening and at least work around it for our needs but happy to work with the community with a proper fix more than just working around it.\r\n\r\n\r\n[WeasyPrint.zip](https://github.com/Kozea/WeasyPrint/files/10267393/WeasyPrint.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1777/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1771", "id": 1472963755, "node_id": "PR_kwDOACFB9M5EJbiG", "number": 1771, "title": "Improve SVG gradients", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/42", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/42/labels", "id": 8958422, "node_id": "MI_kwDOACFB9M4AiLHW", "number": 42, "title": "58.0", "description": "- Default style for forms\r\n- PDF forms", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2023-01-24T08:43:08Z", "updated_at": "2023-02-17T10:06:13Z", "due_on": null, "closed_at": "2023-02-17T10:06:13Z"}, "comments": 0, "created_at": "2022-12-02T14:35:24Z", "updated_at": "2023-01-24T08:44:44Z", "closed_at": "2022-12-02T15:11:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1771", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1771", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1771.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1771.patch", "merged_at": "2022-12-02T15:11:27Z"}, "body": "Fix #1601, fix #1719.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1771/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1767", "id": 1461301716, "node_id": "I_kwDOACFB9M5XGbHU", "number": 1767, "title": "A link to the base_url needs an ending slash", "user": {"login": "Wim-De-Clercq", "id": 4599667, "node_id": "MDQ6VXNlcjQ1OTk2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/4599667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wim-De-Clercq", "html_url": "https://github.com/Wim-De-Clercq", "followers_url": "https://api.github.com/users/Wim-De-Clercq/followers", "following_url": "https://api.github.com/users/Wim-De-Clercq/following{/other_user}", "gists_url": "https://api.github.com/users/Wim-De-Clercq/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wim-De-Clercq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wim-De-Clercq/subscriptions", "organizations_url": "https://api.github.com/users/Wim-De-Clercq/orgs", "repos_url": "https://api.github.com/users/Wim-De-Clercq/repos", "events_url": "https://api.github.com/users/Wim-De-Clercq/events{/privacy}", "received_events_url": "https://api.github.com/users/Wim-De-Clercq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-23T08:52:08Z", "updated_at": "2022-12-02T15:16:36Z", "closed_at": "2022-12-02T15:15:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "This has stumped me for a while.\r\nI have a page which basically has a \"home\" link, which is the same as the `base_url`. And I kept on getting errors.\r\nI think this can reproduce my issue (it fails via the decorator, don't need an assert):\r\n\r\n```py\r\n@assert_no_logs\r\ndef test_link_to_base():\r\n    FakeHTML(\r\n        string='<a id=\"test\" href=\"https://weasyprint.org\"></a>',\r\n        base_url='https://weasyprint.org').write_pdf()\r\n```\r\nThe error is `ERROR: No anchor # for internal URI reference`\r\n\r\nMy href gets cleared in here https://github.com/Kozea/WeasyPrint/blob/master/weasyprint/urls.py#L140 \r\n\r\nI don't think my usecase is that special... :thinking:  I have a webapp which generates a html string via a jinja2 template, then turn it to a pdf and use my webapp's url as base_url.\r\n\r\nWorkaround is pretty simple, just type my `href` with an ending `/`. But it's still strange that this would give me problems if I don't do that.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1767/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1764", "id": 1446099759, "node_id": "I_kwDOACFB9M5WMbsv", "number": 1764, "title": "Attachment added using rel=attachment in HTML breaks printing in Adobe Acrobat Reader", "user": {"login": "Salamek", "id": 1226241, "node_id": "MDQ6VXNlcjEyMjYyNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1226241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Salamek", "html_url": "https://github.com/Salamek", "followers_url": "https://api.github.com/users/Salamek/followers", "following_url": "https://api.github.com/users/Salamek/following{/other_user}", "gists_url": "https://api.github.com/users/Salamek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Salamek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Salamek/subscriptions", "organizations_url": "https://api.github.com/users/Salamek/orgs", "repos_url": "https://api.github.com/users/Salamek/repos", "events_url": "https://api.github.com/users/Salamek/events{/privacy}", "received_events_url": "https://api.github.com/users/Salamek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-11T23:34:25Z", "updated_at": "2022-11-12T19:02:30Z", "closed_at": "2022-11-12T08:49:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, when i add attachment using this code:\r\n```python\r\n        from weasyprint import HTML\r\n        html = '<a href=\"{0}\" title=\"{1}\" rel=attachment>{1}</a>'.format(\r\n            'https://d39-a.sdn.cz/d_39/c_img_gS_r/XI1CD/profimedia-0736827206.jpeg', # Type of attachment does not matter, just use random URL to jpg from web when this link is not working anymore\r\n            'attachment.jpeg'\r\n        )\r\n\r\n        pdf = HTML(string=html).render()\r\n\r\n        handle = open('test.pdf', 'wb')\r\n        pdf.write_pdf(target=handle)\r\n        handle.close()\r\n```\r\nAnd when trying to print a resulting PDF i get \"The document could not be printed\", also https://www.pdf-online.com/osa/validate.aspx reports:\r\n\r\n```\r\nValidating file \"test.pdf\" for conformance level pdf1.7\r\nThe \"endobj\" keyword is missing.\r\nThe key AS is required but missing.\r\nThe document does not conform to the requested standard.\r\nThe file format (header, trailer, objects, xref, streams) is corrupted.\r\nThe document contains annotations or form fields with ambigous or without appropriate appearances.\r\nThe document does not conform to the PDF 1.7 standard.\r\n\r\nDone.\r\n```\r\nAlso attachment added by this method is not listed in PDF attachments, when i looked into src it looks like \"HTML\"(rel=attachment) attachments are implemented differently then adding attachments in `write_pdf` (i always thought that \"HTML\" attachment is just link to normal attachment)?\r\n\r\n\r\n\r\nWhen i use this code to attach a file without using HTML rel=attachment printing in Adobe Acrobat Reader works file (but i can't link to it from content):\r\n```python\r\n        from weasyprint import HTML, Attachment\r\n        html='<h1>TEST No HTML</h1>'\r\n\r\n        pdf = HTML(string=html).render()\r\n\r\n        attachments = [\r\n            Attachment(\r\n                filename='profimedia-0736827206.jpeg',\r\n                description='Test image'\r\n            )\r\n        ]\r\n\r\n        handle = open('test_att.pdf', 'wb')\r\n        pdf.write_pdf(target=handle, attachments=attachments)\r\n        handle.close()\r\n```\r\n\r\nAlso https://www.pdf-online.com/osa/validate.aspx validation is ok...\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1756", "id": 1425540200, "node_id": "PR_kwDOACFB9M5BqUTB", "number": 1756, "title": "Fix rem font size for SVG images", "user": {"login": "anikinmd", "id": 50917015, "node_id": "MDQ6VXNlcjUwOTE3MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/50917015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anikinmd", "html_url": "https://github.com/anikinmd", "followers_url": "https://api.github.com/users/anikinmd/followers", "following_url": "https://api.github.com/users/anikinmd/following{/other_user}", "gists_url": "https://api.github.com/users/anikinmd/gists{/gist_id}", "starred_url": "https://api.github.com/users/anikinmd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anikinmd/subscriptions", "organizations_url": "https://api.github.com/users/anikinmd/orgs", "repos_url": "https://api.github.com/users/anikinmd/repos", "events_url": "https://api.github.com/users/anikinmd/events{/privacy}", "received_events_url": "https://api.github.com/users/anikinmd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/40", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40/labels", "id": 8568346, "node_id": "MI_kwDOACFB9M4Agr4a", "number": 40, "title": "57.1", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2022-10-21T20:38:11Z", "updated_at": "2022-11-04T09:37:43Z", "due_on": null, "closed_at": "2022-11-04T09:37:43Z"}, "comments": 1, "created_at": "2022-10-27T12:16:43Z", "updated_at": "2022-10-27T13:10:25Z", "closed_at": "2022-10-27T13:10:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1756", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1756", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1756.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1756.patch", "merged_at": "2022-10-27T13:10:25Z"}, "body": "SVG pictures can have font size in rem", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1756/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1753", "id": 1423764399, "node_id": "I_kwDOACFB9M5U3Ouv", "number": 1753, "title": "DeprecationWarning: read_text is deprecated. Use files() instead", "user": {"login": "n1ngu", "id": 47453810, "node_id": "MDQ6VXNlcjQ3NDUzODEw", "avatar_url": "https://avatars.githubusercontent.com/u/47453810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/n1ngu", "html_url": "https://github.com/n1ngu", "followers_url": "https://api.github.com/users/n1ngu/followers", "following_url": "https://api.github.com/users/n1ngu/following{/other_user}", "gists_url": "https://api.github.com/users/n1ngu/gists{/gist_id}", "starred_url": "https://api.github.com/users/n1ngu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/n1ngu/subscriptions", "organizations_url": "https://api.github.com/users/n1ngu/orgs", "repos_url": "https://api.github.com/users/n1ngu/repos", "events_url": "https://api.github.com/users/n1ngu/events{/privacy}", "received_events_url": "https://api.github.com/users/n1ngu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/40", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40/labels", "id": 8568346, "node_id": "MI_kwDOACFB9M4Agr4a", "number": 40, "title": "57.1", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2022-10-21T20:38:11Z", "updated_at": "2022-11-04T09:37:43Z", "due_on": null, "closed_at": "2022-11-04T09:37:43Z"}, "comments": 1, "created_at": "2022-10-26T10:04:12Z", "updated_at": "2022-10-26T19:56:12Z", "closed_at": "2022-10-26T19:55:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Refer to https://importlib-resources.readthedocs.io/en/latest/using.html#migrating-from-legacy for migration advice.\r\n\r\n> Starting with Python 3.9 and importlib_resources 1.4, this package introduced the files() API, to be preferred over the legacy API, i.e. the functions open_binary, open_text, path, contents, read_text, read_binary, and is_resource.\r\n> \r\n> To port to the files() API, refer to the [_legacy module](https://github.com/python/importlib_resources/blob/66ea2dc7eb12b1be2322b7ad002cefb12d364dff/importlib_resources/_legacy.py) to see simple wrappers that enable drop-in replacement based on the preferred API, and either copy those or adapt the usage to utilize the files and [Traversable](https://github.com/python/importlib_resources/blob/b665a3ea907d93b1b6457217f34e1bfc06f51fe6/importlib_resources/abc.py#L49-L114) interfaces directly.\r\n\r\nThis affects at least the `weasyprint.html` module.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1748", "id": 1416132155, "node_id": "I_kwDOACFB9M5UaHY7", "number": 1748, "title": "\u276f symbol hides all subsequent text on same line", "user": {"login": "LukasKlement", "id": 7053217, "node_id": "MDQ6VXNlcjcwNTMyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7053217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasKlement", "html_url": "https://github.com/LukasKlement", "followers_url": "https://api.github.com/users/LukasKlement/followers", "following_url": "https://api.github.com/users/LukasKlement/following{/other_user}", "gists_url": "https://api.github.com/users/LukasKlement/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasKlement/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasKlement/subscriptions", "organizations_url": "https://api.github.com/users/LukasKlement/orgs", "repos_url": "https://api.github.com/users/LukasKlement/repos", "events_url": "https://api.github.com/users/LukasKlement/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasKlement/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/40", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40/labels", "id": 8568346, "node_id": "MI_kwDOACFB9M4Agr4a", "number": 40, "title": "57.1", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2022-10-21T20:38:11Z", "updated_at": "2022-11-04T09:37:43Z", "due_on": null, "closed_at": "2022-11-04T09:37:43Z"}, "comments": 1, "created_at": "2022-10-20T07:43:41Z", "updated_at": "2022-10-21T20:38:20Z", "closed_at": "2022-10-21T20:34:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When you use this symbol: \u276f, the subsequent text on the same line is hidden. This does not happen with all symbols (e.g. \u203a does not cause this issue).\r\n\r\nFor example, the following:\r\n```\r\n<span class=\"primary-language\">\u276f Daily Deli Sandwich Bar &amp; Panini</span>\r\n```\r\n\r\nActual: https://share.getcloudapp.com/9Zug9p9m\r\nExpected: https://share.getcloudapp.com/Jru8EBEJ\r\n\r\nWeasyPrint v57.0", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1747", "id": 1414399677, "node_id": "I_kwDOACFB9M5UTga9", "number": 1747, "title": "Counters don't work in absolutely positioned elements", "user": {"login": "oskariuk", "id": 73758643, "node_id": "MDQ6VXNlcjczNzU4NjQz", "avatar_url": "https://avatars.githubusercontent.com/u/73758643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oskariuk", "html_url": "https://github.com/oskariuk", "followers_url": "https://api.github.com/users/oskariuk/followers", "following_url": "https://api.github.com/users/oskariuk/following{/other_user}", "gists_url": "https://api.github.com/users/oskariuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oskariuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oskariuk/subscriptions", "organizations_url": "https://api.github.com/users/oskariuk/orgs", "repos_url": "https://api.github.com/users/oskariuk/repos", "events_url": "https://api.github.com/users/oskariuk/events{/privacy}", "received_events_url": "https://api.github.com/users/oskariuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/40", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/40/labels", "id": 8568346, "node_id": "MI_kwDOACFB9M4Agr4a", "number": 40, "title": "57.1", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2022-10-21T20:38:11Z", "updated_at": "2022-11-04T09:37:43Z", "due_on": null, "closed_at": "2022-11-04T09:37:43Z"}, "comments": 1, "created_at": "2022-10-19T06:47:45Z", "updated_at": "2022-10-24T19:06:53Z", "closed_at": "2022-10-24T13:18:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran into an issue when building a table of contents in an element with `position: absolute;`. Counters always seem to render \"0\".\r\n\r\nI discovered that the first version with this issue was v53.0b1 and the same behavior still occurs with the latest release (v57.0).\r\n\r\n### Input\r\n```\r\n<html>\r\n\r\n<head>\r\n    <style>\r\n        @page {\r\n            @top-right {\r\n                content: counter(page) \"/\" counter(pages);\r\n            }\r\n        }\r\n\r\n        .page {\r\n            break-after: page;\r\n        }\r\n\r\n        .toc-page .toc-absolute {\r\n            position: absolute;\r\n            padding-top: 20px;\r\n        }\r\n\r\n        .toc-page a::after {\r\n            content: \" ... \" target-counter(attr(href), page);\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>\r\n    <div class=\"page toc-page\">\r\n        <div>\r\n            <div>TOC</div>\r\n            <a href=\"#h1\">To heading 1</a><br>\r\n            <a href=\"#h2\">To heading 2</a><br>\r\n            <a href=\"#h3\">To heading 3</a><br>\r\n        </div>\r\n        <div class=\"toc-absolute\">\r\n            <div>TOC absolute</div>\r\n            <a href=\"#h1\">To heading 1</a><br>\r\n            <a href=\"#h2\">To heading 2</a><br>\r\n            <a href=\"#h3\">To heading 3</a><br>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"page\">\r\n        <h1 id=\"h1\">Heading 1</h1>\r\n    </div>\r\n\r\n    <div class=\"page\">\r\n        <h1 id=\"h2\">Heading 2</h1>\r\n    </div>\r\n\r\n    <div class=\"page\">\r\n        <h1 id=\"h3\">Heading 3</h1>\r\n    </div>\r\n</body>\r\n\r\n</html>\r\n```\r\n\r\n### Output\r\n<img width=\"300\" alt=\"screenshot\" src=\"https://user-images.githubusercontent.com/73758643/196614502-4edb3f44-bd7f-4ac0-a917-95f20b8f0bcf.png\">", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1739", "id": 1407671713, "node_id": "I_kwDOACFB9M5T512h", "number": 1739, "title": "slash appears below equals in KaTeX", "user": {"login": "castedo", "id": 1416766, "node_id": "MDQ6VXNlcjE0MTY3NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1416766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/castedo", "html_url": "https://github.com/castedo", "followers_url": "https://api.github.com/users/castedo/followers", "following_url": "https://api.github.com/users/castedo/following{/other_user}", "gists_url": "https://api.github.com/users/castedo/gists{/gist_id}", "starred_url": "https://api.github.com/users/castedo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/castedo/subscriptions", "organizations_url": "https://api.github.com/users/castedo/orgs", "repos_url": "https://api.github.com/users/castedo/repos", "events_url": "https://api.github.com/users/castedo/events{/privacy}", "received_events_url": "https://api.github.com/users/castedo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 4, "created_at": "2022-10-13T11:56:05Z", "updated_at": "2022-10-16T07:39:10Z", "closed_at": "2022-10-16T07:15:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "This [inter.html](https://github.com/Kozea/WeasyPrint/files/9776209/inter.html.txt) file was generated using pandoc-katex-filter to avoid having JavaScript in the HTML. I do the following\r\n```\r\n$ weasyprint --verbose inter.html output.pdf\r\nINFO: Step 1 - Fetching and parsing HTML - inter.html\r\nINFO: Step 2 - Fetching and parsing CSS - CSS string\r\nWARNING: Ignored `gap: min(4vw, 1.5em)` at 4:32, unknown property.\r\nWARNING: Ignored `overflow-x: auto` at 5:28, unknown property.\r\nINFO: Step 2 - Fetching and parsing CSS - https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css\r\nWARNING: Ignored `text-rendering:auto` at 1:4711, unknown property.\r\nWARNING: Ignored `width:-webkit-min-content` at 1:5147, invalid value.\r\nWARNING: Ignored `width:-moz-min-content` at 1:5173, invalid value.\r\nWARNING: Ignored `width:min-content` at 1:5196, invalid value.\r\nWARNING: Ignored `fill:currentColor` at 1:20723, unknown property.\r\nWARNING: Ignored `stroke:currentColor` at 1:20741, unknown property.\r\nWARNING: Ignored `fill-rule:nonzero` at 1:20761, unknown property.\r\nWARNING: Ignored `fill-opacity:1` at 1:20779, unknown property.\r\nWARNING: Ignored `stroke-width:1` at 1:20794, unknown property.\r\nWARNING: Ignored `stroke-linecap:butt` at 1:20809, unknown property.\r\nWARNING: Ignored `stroke-linejoin:miter` at 1:20829, unknown property.\r\nWARNING: Ignored `stroke-miterlimit:4` at 1:20851, unknown property.\r\nWARNING: Ignored `stroke-dasharray:none` at 1:20871, unknown property.\r\nWARNING: Ignored `stroke-dashoffset:0` at 1:20893, unknown property.\r\nWARNING: Ignored `stroke-opacity:1` at 1:20913, unknown property.\r\nWARNING: Ignored `stroke:none` at 1:21004, unknown property.\r\nWARNING: Ignored `right:calc(50% + .3em)` at 1:22545, invalid value.\r\nWARNING: Ignored `left:calc(50% + .3em)` at 1:22628, invalid value.\r\nINFO: Step 3 - Applying CSS\r\nINFO: Step 4 - Creating formatting structure\r\nINFO: Step 5 - Creating layout - Page 1\r\nINFO: Step 6 - Creating PDF\r\nINFO: Step 7 - Adding PDF metadata\r\n'created' timestamp seems very low; regarding as unix timestamp\r\n'modified' timestamp seems very low; regarding as unix timestamp\r\n```\r\nWhen viewing `inter.html` in Firefox and Chrome the equal sign has the slash on top, as expected for `\\not=`.\r\nBut when I look at the `output.pdf`, the slash is completely below the equal sign.\r\n\r\nI can't tell whether this is a bug in weasyprint or whether this is a font issue.\r\n\r\nIn an attempt to get this to work, I copied all the KaTex font files to `~/.local/share/fonts/` and I confirm that 'fc-list' find them all, but this did not seem to make a difference. Otherwise, so far, using KaTeX to render TeX using nodejs before passing to weasyprint is working well so far ... apart from this `\\not=` issue.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1739/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1736", "id": 1403446092, "node_id": "I_kwDOACFB9M5TpuNM", "number": 1736, "title": "On weasyprint >=56.0 doesn't work 'Courier New' font", "user": {"login": "kykint", "id": 2145786, "node_id": "MDQ6VXNlcjIxNDU3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/2145786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kykint", "html_url": "https://github.com/kykint", "followers_url": "https://api.github.com/users/kykint/followers", "following_url": "https://api.github.com/users/kykint/following{/other_user}", "gists_url": "https://api.github.com/users/kykint/gists{/gist_id}", "starred_url": "https://api.github.com/users/kykint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kykint/subscriptions", "organizations_url": "https://api.github.com/users/kykint/orgs", "repos_url": "https://api.github.com/users/kykint/repos", "events_url": "https://api.github.com/users/kykint/events{/privacy}", "received_events_url": "https://api.github.com/users/kykint/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-10T16:39:11Z", "updated_at": "2022-10-11T11:44:16Z", "closed_at": "2022-10-11T11:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have just upgraded from 55 to 56.1 and found out a strange bug. If there is in source html some text with Courier New font (Normal), then it wouldn't be rendered. Courier New Italic and Bold are ok.\r\nTested on Ubuntu 20.04 with ttf-mscorefonts-installer and on Windows 11.\r\n55.0 - without bug\r\n56.0, 56.1, 57.0b1 - with bug", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1733", "id": 1395779476, "node_id": "I_kwDOACFB9M5TMeeU", "number": 1733, "title": "Attachments do not appear in the generated PDF because of anchors", "user": {"login": "new-carrot", "id": 811526, "node_id": "MDQ6VXNlcjgxMTUyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/811526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/new-carrot", "html_url": "https://github.com/new-carrot", "followers_url": "https://api.github.com/users/new-carrot/followers", "following_url": "https://api.github.com/users/new-carrot/following{/other_user}", "gists_url": "https://api.github.com/users/new-carrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/new-carrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/new-carrot/subscriptions", "organizations_url": "https://api.github.com/users/new-carrot/orgs", "repos_url": "https://api.github.com/users/new-carrot/repos", "events_url": "https://api.github.com/users/new-carrot/events{/privacy}", "received_events_url": "https://api.github.com/users/new-carrot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 1, "created_at": "2022-10-04T07:17:52Z", "updated_at": "2022-10-04T09:19:10Z", "closed_at": "2022-10-04T09:17:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attachments are set In `pdf/__init__.py`, line 442: \r\n```\r\npdf.catalog['Names']['EmbeddedFiles'] = content.reference\r\n```\r\n\r\nBut if document has anchors, the attachments set in line 442 are deleted by line 458:\r\n```\r\npdf.catalog['Names'] = pydyf.Dictionary({'Dests': dests})\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1733/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1722", "id": 1380960992, "node_id": "I_kwDOACFB9M5ST8rg", "number": 1722, "title": "Ignored `transform:skew(<insert deg>)` at <lines>, invalid value.", "user": {"login": "ciaranevans-xydus", "id": 98822872, "node_id": "U_kgDOBePq2A", "avatar_url": "https://avatars.githubusercontent.com/u/98822872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ciaranevans-xydus", "html_url": "https://github.com/ciaranevans-xydus", "followers_url": "https://api.github.com/users/ciaranevans-xydus/followers", "following_url": "https://api.github.com/users/ciaranevans-xydus/following{/other_user}", "gists_url": "https://api.github.com/users/ciaranevans-xydus/gists{/gist_id}", "starred_url": "https://api.github.com/users/ciaranevans-xydus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ciaranevans-xydus/subscriptions", "organizations_url": "https://api.github.com/users/ciaranevans-xydus/orgs", "repos_url": "https://api.github.com/users/ciaranevans-xydus/repos", "events_url": "https://api.github.com/users/ciaranevans-xydus/events{/privacy}", "received_events_url": "https://api.github.com/users/ciaranevans-xydus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 5, "created_at": "2022-09-21T13:44:35Z", "updated_at": "2022-09-22T08:26:50Z", "closed_at": "2022-09-22T08:26:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey folks,\r\n\r\nI'm getting lots of:\r\n\r\n```\r\nIgnored `transform:skew(<insert deg>)` at <lines>, invalid value.\r\n```\r\n\r\nIn my logs and noticing that shapes aren't being transformed correctly - am I doing something strange/wrong?\r\n\r\nI'm on `56.1` and have styles such as:\r\n\r\n```css\r\n    .status-label-text-box {\r\n        transform: skew(30deg);\r\n        background: #2ABADC;\r\n        position: absolute;\r\n        top: -24px;\r\n        left: 6px;\r\n        z-index: 100;\r\n        height: 25px;\r\n        text-align: center;\r\n        width: 100px;\r\n        font-size: 0.9rem;\r\n        font-weight: 600;\r\n    }\r\n```\r\n\r\nI get the rectangle this is representing but none of the skewing is occurring. It looks fine in HTML but as soon as I try to put it through `weasyprint` I'm having trouble!", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1707", "id": 1338735745, "node_id": "I_kwDOACFB9M5Py3yB", "number": 1707, "title": "Footnote Positioning in Multicolumn Layouts", "user": {"login": "andrewerlanger", "id": 29393156, "node_id": "MDQ6VXNlcjI5MzkzMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/29393156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewerlanger", "html_url": "https://github.com/andrewerlanger", "followers_url": "https://api.github.com/users/andrewerlanger/followers", "following_url": "https://api.github.com/users/andrewerlanger/following{/other_user}", "gists_url": "https://api.github.com/users/andrewerlanger/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewerlanger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewerlanger/subscriptions", "organizations_url": "https://api.github.com/users/andrewerlanger/orgs", "repos_url": "https://api.github.com/users/andrewerlanger/repos", "events_url": "https://api.github.com/users/andrewerlanger/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewerlanger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 2645012113, "node_id": "MDU6TGFiZWwyNjQ1MDEyMTEz", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/sponsored", "name": "sponsored", "color": "f3539e", "default": false, "description": "Issues sponsored to be resolved faster"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 1, "created_at": "2022-08-15T09:12:28Z", "updated_at": "2022-09-16T21:55:53Z", "closed_at": "2022-09-16T21:55:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi team! I've been running into what I think might be two related issues when working with footnotes in multicolumn layouts.\r\n\r\nThe first is that the footnotes are quite often rendered on the following page of the PDF. So if the `::footnote-call` appears on page 1, for example, the corresponding `::footnote-marker` will appear on page 2:\r\n<img width=\"751\" alt=\"Screenshot 2022-08-15 at 09 59 04\" src=\"https://user-images.githubusercontent.com/29393156/184607067-7a192889-f7b0-4cbc-a49a-9e7d4f8acbc0.png\">\r\n\r\nThe (potentially) related issue is that the ordering of footnotes is also sometimes thrown off in multicolumn layouts. Here, for example, footnote `18` appears ahead of `17` in the footnotes container, despite coming afterwards in the actual text:\r\n<img width=\"734\" alt=\"Screenshot 2022-08-15 at 10 04 35\" src=\"https://user-images.githubusercontent.com/29393156/184608676-6346fa68-9b1c-4285-9205-e2d7c8959792.png\">\r\n\r\nI'm unfortunately not well-versed enough in Python or PDF to propose a fix myself, but thought I'd leave this issue here in the hope someone else might have a solution in mind :)\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1703", "id": 1331009645, "node_id": "PR_kwDOACFB9M48xQIk", "number": 1703, "title": "Update the text-transform \"capitalize\" behaviour", "user": {"login": "VeteraNovis", "id": 35371901, "node_id": "MDQ6VXNlcjM1MzcxOTAx", "avatar_url": "https://avatars.githubusercontent.com/u/35371901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VeteraNovis", "html_url": "https://github.com/VeteraNovis", "followers_url": "https://api.github.com/users/VeteraNovis/followers", "following_url": "https://api.github.com/users/VeteraNovis/following{/other_user}", "gists_url": "https://api.github.com/users/VeteraNovis/gists{/gist_id}", "starred_url": "https://api.github.com/users/VeteraNovis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VeteraNovis/subscriptions", "organizations_url": "https://api.github.com/users/VeteraNovis/orgs", "repos_url": "https://api.github.com/users/VeteraNovis/repos", "events_url": "https://api.github.com/users/VeteraNovis/events{/privacy}", "received_events_url": "https://api.github.com/users/VeteraNovis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 4, "created_at": "2022-08-07T12:58:38Z", "updated_at": "2022-08-15T13:32:45Z", "closed_at": "2022-08-15T13:32:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1703", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1703", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1703.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1703.patch", "merged_at": "2022-08-15T13:32:22Z"}, "body": "Transform the first typographic letter unit of each word to uppercase\r\nwithout modifying other characters\r\n\r\nSee issue Kozea#1612", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1703/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1674", "id": 1297501131, "node_id": "I_kwDOACFB9M5NVkvL", "number": 1674, "title": "Footnote Area: Support Max Height", "user": {"login": "andrewerlanger", "id": 29393156, "node_id": "MDQ6VXNlcjI5MzkzMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/29393156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewerlanger", "html_url": "https://github.com/andrewerlanger", "followers_url": "https://api.github.com/users/andrewerlanger/followers", "following_url": "https://api.github.com/users/andrewerlanger/following{/other_user}", "gists_url": "https://api.github.com/users/andrewerlanger/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewerlanger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewerlanger/subscriptions", "organizations_url": "https://api.github.com/users/andrewerlanger/orgs", "repos_url": "https://api.github.com/users/andrewerlanger/repos", "events_url": "https://api.github.com/users/andrewerlanger/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewerlanger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 2645012113, "node_id": "MDU6TGFiZWwyNjQ1MDEyMTEz", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/sponsored", "name": "sponsored", "color": "f3539e", "default": false, "description": "Issues sponsored to be resolved faster"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/38", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/38", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/38/labels", "id": 8179174, "node_id": "MI_kwDOACFB9M4AfM3m", "number": 38, "title": "56.1", "description": "", "creator": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2022-07-08T14:48:13Z", "updated_at": "2022-07-24T13:11:52Z", "due_on": null, "closed_at": "2022-07-24T13:11:52Z"}, "comments": 2, "created_at": "2022-07-07T14:02:14Z", "updated_at": "2022-07-14T13:27:18Z", "closed_at": "2022-07-13T20:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there!\r\n\r\nFirst and foremost: many thanks for the amazing work you've done on the footnotes front already, really impressive stuff \ud83d\udc4f \r\n\r\nI just wanted to add one more item to the short [list of features missing from the specification](https://github.com/Kozea/WeasyPrint/issues/298#issuecomment-991720941): supporting the `max-height` property for the footnote area. \r\n\r\nPer the [w3.org footnote specs](https://www.w3.org/TR/css-gcpm-3/#footnote-area-size):\r\n> The [max-height](http://www.w3.org/TR/CSS21/visudet.html#propdef-max-height) property on the footnote area limits the size of this area, unless the page contains only footnotes (as may happen on the last page of a document).\r\n>\r\n> Since it is undesirable for a page to consist only of footnotes, user agents may set a default max-height value on the footnote area.\r\n\r\nAs it stands, setting a `max-height` on the footnote area will technically limit the height, but the footnotes themselves overflow from the container rather than being displayed on the following page.\r\n\r\nFor example, the following css...\r\n\r\n```css\r\n@footnote {\r\n  max-height: 6cm;\r\n  background: red;\r\n  float: bottom;\r\n}\r\n```\r\n\r\n...produces this in the PDF:\r\n<img width=\"1002\" alt=\"image\" src=\"https://user-images.githubusercontent.com/29393156/177791802-fc58c80b-a254-421c-a550-c524a712165e.png\">\r\n\r\nIdeally, footnotes `5.` onwards would be displayed on the following page \ud83e\udd13 ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1673", "id": 1295450581, "node_id": "I_kwDOACFB9M5NNwHV", "number": 1673, "title": "page break in table ignores page margin", "user": {"login": "fatelgit", "id": 13215733, "node_id": "MDQ6VXNlcjEzMjE1NzMz", "avatar_url": "https://avatars.githubusercontent.com/u/13215733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatelgit", "html_url": "https://github.com/fatelgit", "followers_url": "https://api.github.com/users/fatelgit/followers", "following_url": "https://api.github.com/users/fatelgit/following{/other_user}", "gists_url": "https://api.github.com/users/fatelgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatelgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatelgit/subscriptions", "organizations_url": "https://api.github.com/users/fatelgit/orgs", "repos_url": "https://api.github.com/users/fatelgit/repos", "events_url": "https://api.github.com/users/fatelgit/events{/privacy}", "received_events_url": "https://api.github.com/users/fatelgit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/37", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37/labels", "id": 7984559, "node_id": "MI_kwDOACFB9M4AedWv", "number": 37, "title": "56.0", "description": "* Bitmap fonts\r\n* Improved line-clamp support\r\n* PDF/A", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2022-05-16T10:52:03Z", "updated_at": "2022-07-07T19:38:02Z", "due_on": null, "closed_at": "2022-07-07T19:38:02Z"}, "comments": 3, "created_at": "2022-07-06T08:30:42Z", "updated_at": "2022-07-07T15:36:56Z", "closed_at": "2022-07-07T15:26:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nfirst of all I would like to say that I really appreciate you work on weasyprint - it's a truly amazing tool! Although I am facing a weird issue. I was trying to generate an invoice/report with a repeating header/footer on each page.\r\nWhen the table exceeds the page size it will break to a new page but it seems to ignore the @page top margin - the footer seems to be calculated fine but the table continues right on top of the second page. I have created a gist with my code: https://gist.github.com/fatelgit/0bb129ac6e7a4eb572a90b92a8c16dc5\r\n\r\nThis is my result: [test.pdf](https://github.com/Kozea/WeasyPrint/files/9053062/test.pdf)\r\nSystem info:\r\n```System: Linux\r\nMachine: x86_64\r\nVersion: #1 SMP PREEMPT Wed May 18 09:20:53 UTC 2022\r\nRelease: 5.17.9-1-MANJARO\r\n\r\nWeasyPrint version: 55.0\r\nPython version: 3.10.4\r\nPydyf version: 0.2.0\r\nPango version: 15007\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1669", "id": 1289312078, "node_id": "I_kwDOACFB9M5M2VdO", "number": 1669, "title": "Even more weird float issues with duplicating elements", "user": {"login": "TadaCZE", "id": 33400123, "node_id": "MDQ6VXNlcjMzNDAwMTIz", "avatar_url": "https://avatars.githubusercontent.com/u/33400123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TadaCZE", "html_url": "https://github.com/TadaCZE", "followers_url": "https://api.github.com/users/TadaCZE/followers", "following_url": "https://api.github.com/users/TadaCZE/following{/other_user}", "gists_url": "https://api.github.com/users/TadaCZE/gists{/gist_id}", "starred_url": "https://api.github.com/users/TadaCZE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TadaCZE/subscriptions", "organizations_url": "https://api.github.com/users/TadaCZE/orgs", "repos_url": "https://api.github.com/users/TadaCZE/repos", "events_url": "https://api.github.com/users/TadaCZE/events{/privacy}", "received_events_url": "https://api.github.com/users/TadaCZE/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 5, "created_at": "2022-06-29T21:16:23Z", "updated_at": "2022-06-30T13:56:46Z", "closed_at": "2022-06-30T13:54:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "![scrsht1](https://user-images.githubusercontent.com/33400123/176546105-3f9a4391-3935-4f8e-9dae-3c6de2e8582d.png)\r\n\r\nIn that image, every element is included only once on the page. The two sides are floating left and right respectively, exactly half the size of the parent container. Interesting thing is, that another instance of almost the same technique being used later displays no issue.\r\n\r\nFirefox render:\r\n\r\n![scrsht2](https://user-images.githubusercontent.com/33400123/176546141-d2aa80c4-bf79-40a6-8ae1-4db2f6546155.png)\r\n\r\nUsing weasyprint 55.0 from pip", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1668", "id": 1289200626, "node_id": "I_kwDOACFB9M5M16Py", "number": 1668, "title": "@page :nth(an+b) rule bug", "user": {"login": "kian-supportinglines", "id": 92190848, "node_id": "U_kgDOBX64gA", "avatar_url": "https://avatars.githubusercontent.com/u/92190848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kian-supportinglines", "html_url": "https://github.com/kian-supportinglines", "followers_url": "https://api.github.com/users/kian-supportinglines/followers", "following_url": "https://api.github.com/users/kian-supportinglines/following{/other_user}", "gists_url": "https://api.github.com/users/kian-supportinglines/gists{/gist_id}", "starred_url": "https://api.github.com/users/kian-supportinglines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kian-supportinglines/subscriptions", "organizations_url": "https://api.github.com/users/kian-supportinglines/orgs", "repos_url": "https://api.github.com/users/kian-supportinglines/repos", "events_url": "https://api.github.com/users/kian-supportinglines/events{/privacy}", "received_events_url": "https://api.github.com/users/kian-supportinglines/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/37", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37/labels", "id": 7984559, "node_id": "MI_kwDOACFB9M4AedWv", "number": 37, "title": "56.0", "description": "* Bitmap fonts\r\n* Improved line-clamp support\r\n* PDF/A", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2022-05-16T10:52:03Z", "updated_at": "2022-07-07T19:38:02Z", "due_on": null, "closed_at": "2022-07-07T19:38:02Z"}, "comments": 1, "created_at": "2022-06-29T19:33:02Z", "updated_at": "2022-07-01T07:44:18Z", "closed_at": "2022-07-01T07:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: 52.5 (No fix found in changelogs of newer versions)\r\n\r\nI've noticed that when using the `@page :nth(an+b)` rule, the `b` value is not being used.\r\n\r\nE.g. `@page :nth(2n+5)` will apply to every other page, instead of every other page after the 5th page.\r\n\r\nA simple way to reproduce this bug:\r\n\r\nHTML:\r\n```\r\n<body>\r\n    <div>\r\n        <p>Some content here</p>\r\n    <div>\r\n    <div style=\"page-break-before:always\">  <!-- To enforce a new page being created -->\r\n        <p>Some other content here</p>\r\n    <div>\r\n</body>\r\n```\r\nCSS:\r\n```\r\n@page :nth(n+1) {\r\n    bottom-right: {\r\n        content: counter(page);\r\n    }\r\n}\r\n```\r\nThis should put page numbers for the second page only, but you should see that it creates page numbers for both pages. I tried debugging and only found that the stylesheets were getting correctly parsed, but I don't know why when rendering the CSS it doesn't take into account the `b`.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1666", "id": 1288582738, "node_id": "I_kwDOACFB9M5MzjZS", "number": 1666, "title": "Reproducible PDF creation breaks when you add a background-image to your CSS", "user": {"login": "DutchGerman", "id": 60694691, "node_id": "MDQ6VXNlcjYwNjk0Njkx", "avatar_url": "https://avatars.githubusercontent.com/u/60694691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DutchGerman", "html_url": "https://github.com/DutchGerman", "followers_url": "https://api.github.com/users/DutchGerman/followers", "following_url": "https://api.github.com/users/DutchGerman/following{/other_user}", "gists_url": "https://api.github.com/users/DutchGerman/gists{/gist_id}", "starred_url": "https://api.github.com/users/DutchGerman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DutchGerman/subscriptions", "organizations_url": "https://api.github.com/users/DutchGerman/orgs", "repos_url": "https://api.github.com/users/DutchGerman/repos", "events_url": "https://api.github.com/users/DutchGerman/events{/privacy}", "received_events_url": "https://api.github.com/users/DutchGerman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/37", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37/labels", "id": 7984559, "node_id": "MI_kwDOACFB9M4AedWv", "number": 37, "title": "56.0", "description": "* Bitmap fonts\r\n* Improved line-clamp support\r\n* PDF/A", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2022-05-16T10:52:03Z", "updated_at": "2022-07-07T19:38:02Z", "due_on": null, "closed_at": "2022-07-07T19:38:02Z"}, "comments": 1, "created_at": "2022-06-29T11:35:53Z", "updated_at": "2022-06-29T17:08:18Z", "closed_at": "2022-06-29T17:07:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "In build [v55.0b1](https://github.com/Kozea/WeasyPrint/releases/tag/v55.0b1) a feature to generate reproducible PDFs was added.\r\n\r\n_SOURCE_DATE_EPOCH is set to 0_\r\n\r\nWith the following python code \r\n\r\n```py\r\n  from weasyprint import HTML, CSS\r\n  import hashlib\r\n\r\n  html = \"\"\"\r\n    <html>\r\n      <head>\r\n        <title>Hello World</title>\r\n        <meta name=\"dcterms.created\" content=\"2002-01-01\">\r\n      </head>\r\n      <body>\r\n        <p>Foobar</p>\r\n      </body>\r\n    </html>\r\n  \"\"\"\r\n  \r\n  css = \"\"\"\r\n    body {\r\n      color: #515151;\r\n    }\r\n  \"\"\"\r\n  \r\n  pdf = HTML(string=html).write_pdf(stylesheets=[CSS(string=css)])\r\n  md5 = hashlib.md5(pdf).hexdigest()\r\n  print(md5)\r\n```\r\n\r\nIt runs correctly and outputs the hash `92ae45e4db7a51b1941cd98e8b4c1c8b` consistently\r\n\r\nBut when I add a background-image to the `body` like so:\r\n\r\n```py\r\n  from weasyprint import HTML, CSS\r\n  import hashlib\r\n\r\n  html = \"\"\"\r\n    <html>\r\n      <head>\r\n        <title>Hello World</title>\r\n        <meta name=\"dcterms.created\" content=\"2002-01-01\">\r\n      </head>\r\n      <body>\r\n        <p>Foobar</p>\r\n      </body>\r\n    </html>\r\n  \"\"\"\r\n  \r\n  css = \"\"\"\r\n    body {\r\n      color: #515151;\r\n      background-image: url(\"https://i.imgur.com/o3v4JUp.png\");\r\n    }\r\n  \"\"\"\r\n  \r\n  pdf = HTML(string=html).write_pdf(stylesheets=[CSS(string=css)])\r\n  md5 = hashlib.md5(pdf).hexdigest()\r\n  print(md5)\r\n```\r\n\r\nThe output changes with every pass.\r\n\r\n```\r\n1#: bc1c85fdaa77406c185dcab8a94e0602\r\n2#: 88f96791669a895f2a4ff7315613d5d1\r\n3#: c6cc5cf67671110b9c4b64d83f16d263\r\n```\r\n\r\nI also tried to add a base64 background like so:\r\n\r\n```py\r\n  css = \"\"\"\r\n    body {\r\n      color: #515151;\r\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY/j//z8ABf4C/qc1gYQAAAAASUVORK5CYII=')\r\n    }\r\n  \"\"\"\r\n```\r\n\r\nWhich results it the same behavior\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1666/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1662", "id": 1282120166, "node_id": "I_kwDOACFB9M5Ma5nm", "number": 1662, "title": "Letter spacing regression in 0.55", "user": {"login": "skoczen", "id": 200635, "node_id": "MDQ6VXNlcjIwMDYzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/200635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skoczen", "html_url": "https://github.com/skoczen", "followers_url": "https://api.github.com/users/skoczen/followers", "following_url": "https://api.github.com/users/skoczen/following{/other_user}", "gists_url": "https://api.github.com/users/skoczen/gists{/gist_id}", "starred_url": "https://api.github.com/users/skoczen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skoczen/subscriptions", "organizations_url": "https://api.github.com/users/skoczen/orgs", "repos_url": "https://api.github.com/users/skoczen/repos", "events_url": "https://api.github.com/users/skoczen/events{/privacy}", "received_events_url": "https://api.github.com/users/skoczen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 16, "created_at": "2022-06-23T09:44:21Z", "updated_at": "2022-10-18T16:57:51Z", "closed_at": "2022-10-04T19:53:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bonjour WeasyPrint team,\r\n\r\nThanks much for the excellent software.  We're seeing a regression in 0.55 (I believe traced back to the [pydyf 0.0.3 -> 0.2](https://github.com/Kozea/WeasyPrint/commit/3ec5e8fbd8fbe0eac060196e778dfcdf9b974be9) change.\r\n\r\nScreenshots below, there are no other changes in our stack between these exports than 0.54 -> 0.55.  Many thanks!\r\n\r\n**With 0.54, we get this PDF (as expected)**\r\n![Screen Shot 2022-06-23 at 11 39 18 AM](https://user-images.githubusercontent.com/200635/175269583-60c2fbd4-581d-4073-8b32-fe6b39b12cf3.png)\r\n\r\n**With 0.55, we get this PDF (not as expected)**\r\n![Screen Shot 2022-06-23 at 11 39 26 AM](https://user-images.githubusercontent.com/200635/175269619-d7569bb9-497c-48f5-9e10-7fbf3762ef8c.png)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1650", "id": 1248155948, "node_id": "I_kwDOACFB9M5KZVks", "number": 1650, "title": "SVG <use> links are ignored when using a custom scheme", "user": {"login": "brakhane", "id": 541637, "node_id": "MDQ6VXNlcjU0MTYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/541637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brakhane", "html_url": "https://github.com/brakhane", "followers_url": "https://api.github.com/users/brakhane/followers", "following_url": "https://api.github.com/users/brakhane/following{/other_user}", "gists_url": "https://api.github.com/users/brakhane/gists{/gist_id}", "starred_url": "https://api.github.com/users/brakhane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brakhane/subscriptions", "organizations_url": "https://api.github.com/users/brakhane/orgs", "repos_url": "https://api.github.com/users/brakhane/repos", "events_url": "https://api.github.com/users/brakhane/events{/privacy}", "received_events_url": "https://api.github.com/users/brakhane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/37", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37/labels", "id": 7984559, "node_id": "MI_kwDOACFB9M4AedWv", "number": 37, "title": "56.0", "description": "* Bitmap fonts\r\n* Improved line-clamp support\r\n* PDF/A", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2022-05-16T10:52:03Z", "updated_at": "2022-07-07T19:38:02Z", "due_on": null, "closed_at": "2022-07-07T19:38:02Z"}, "comments": 3, "created_at": "2022-05-25T14:07:35Z", "updated_at": "2022-05-27T15:33:57Z", "closed_at": "2022-05-27T15:32:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "By default, Matplotlib renders fonts as paths and adds references to a particular letter path using eg. `<use xlink:href=\"#DejaVuSans-66\"/>`.\r\n\r\nThose use links will be silently ignored when the svg was loaded by a custom fetcher with a scheme different from file:\r\n\r\n```py\r\nfrom urllib.parse import urlparse\r\n\r\nfrom weasyprint import HTML, default_url_fetcher\r\n\r\ndef my_fetcher(u):\r\n    url = urlparse(u)\r\n    if url.scheme == \"bug\" or (url.scheme == \"file\" and url.netloc == \"bug\"):\r\n        return dict(\r\n            file_obj=open(\"bug.svg\", \"rb\"),\r\n            mime_type=\"image/svg+xml\",\r\n        )\r\n    else:\r\n        return default_url_fetcher(u)\r\n\r\nHTML(\r\n    string=\"\"\"\r\n        <h1>Broken</h1>\r\n        <img src=\"bug://\">\r\n        <h1>Working</h1>\r\n        <img src=\"file://bug\">\r\n    \"\"\",\r\n    url_fetcher=my_fetcher\r\n).write_pdf(\"bug.pdf\")\r\n```\r\n\r\nThis results in ![this buggy pdf](https://github.com/Kozea/WeasyPrint/files/8771843/bug.pdf), where the text is missing in the first image.\r\n\r\n\r\nAny matplotlib file will do, but I used [this one](https://github.com/Kozea/WeasyPrint/files/8771885/bug.svg.txt) (i had to change the extension to txt so Github wouldn't try to be helpful and upload it to user-images instead)\r\n\r\n\r\nThe Cairo based Weasyprint 52 doesn't have this problem.\r\n\r\nI analysed the problem, and that's what I could figure out:\r\n\r\nsvg.defs.use calls `node.get_href`, which calls `get_url_attribute`, which calls `url_join`. This in turn calls stdlib's `urljoin`, and this seems to distinguish between schemes that \"use relative\", and those that don't. Obviously, \"bug\" is not in that list, and therefore just seems to return the url unchanged.\r\n\r\nSo, back in `svg.defs.use`, the `node.get_href` will return `#DejaVuSans-66` instead of `bug://#DejaVuSans-66`, which is what the next if statement (line 29 in Weasyprint 54.3) expects. Since the first part doesn't match, it falls back to trying to fetch the URL, which, when it fails, just silently returns (NB: It would be nice if it could at least print a warning that a resources linked via `<use>` couldn't be found, that would have helped me save a lot of time tracking this bug down)\r\n\r\nWhen the URLs are of the form `file://netloc/xyz`, it works, this is the workaround I currently use. But since it's a regression from how Weasyprint 52 behaved, I think it should either be fixed, or at least be documented as a gotcha when implementing custom url fetchers.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1641", "id": 1230988951, "node_id": "I_kwDOACFB9M5JX2aX", "number": 1641, "title": "[Regression] Commit 302f09 breaks including base64-encoded svg images as data urls", "user": {"login": "seifferth", "id": 43514227, "node_id": "MDQ6VXNlcjQzNTE0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/43514227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seifferth", "html_url": "https://github.com/seifferth", "followers_url": "https://api.github.com/users/seifferth/followers", "following_url": "https://api.github.com/users/seifferth/following{/other_user}", "gists_url": "https://api.github.com/users/seifferth/gists{/gist_id}", "starred_url": "https://api.github.com/users/seifferth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seifferth/subscriptions", "organizations_url": "https://api.github.com/users/seifferth/orgs", "repos_url": "https://api.github.com/users/seifferth/repos", "events_url": "https://api.github.com/users/seifferth/events{/privacy}", "received_events_url": "https://api.github.com/users/seifferth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 2, "created_at": "2022-05-10T11:05:29Z", "updated_at": "2022-05-10T14:39:38Z", "closed_at": "2022-05-10T12:34:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Summary\r\n\r\nWhen including an svg image via a data url, any text inside the svg image is no longer rendered. Bisecting showed that this is related to\r\nCommit 302f09d5. Reverting that commit fixes the issue described here, but may cause other problems to resurface.\r\n\r\nI include a more detailed description of this bug below, as well as detailed instructions on how to reproduce it. According to the commit\r\nmessage, commit 302f09d5 changed some behaviour from using relative paths in svg images to using absolute paths. Apparently, those absolute paths do not work with svg images included via data urls. A possible solution may be to use absolute paths for external images, but return to using relative paths for images included via data urls.\r\n\r\n# Problem description\r\n\r\nI have a simple svg plot generated by matplotlib that I want to include in an html file and render to pdf using weasyprint. For convenience, I want to include the svg image via a data url in order to only rely on a single, standalone html file. This worked well in weasyprint prior to commit 302f09d5, but is broken in more recent versions. The offending commit, which I identified using git bisect, was the following one:\r\n\r\n```\r\n302f09d54a6ea30a9b56f8bacc22e236bde997c6 is the first bad commit\r\ncommit 302f09d54a6ea30a9b56f8bacc22e236bde997c6\r\nAuthor: Guillaume Ayoub <guillaume@courtbouillon.org>\r\nDate:   Mon Jan 3 14:14:36 2022 +0100\r\n\r\n    Always use absolute paths to get hrefs in SVG\r\n\r\n    Also be more fault-tolerant when trying to render use tags.\r\n\r\n    Fix #1531.\r\n\r\n weasyprint/svg/__init__.py | 8 ++++++--\r\n weasyprint/svg/defs.py     | 8 ++++----\r\n weasyprint/svg/images.py   | 4 +---\r\n 3 files changed, 11 insertions(+), 9 deletions(-)\r\n```\r\n\r\n# Reproducing the bug\r\n\r\nInline images in html files are rather unwieldy and somewhat unpleasant to the human eye. I include a small script below that creates such an image using python3 and matplotlib. Running this script produces an html file on stdout which can be used to reproduce the bug.\r\n\r\n```python3\r\n#!/usr/bin/env python3\r\n\r\nfrom matplotlib import pyplot as plt\r\nfrom io import StringIO\r\nfrom base64 import b64encode\r\n\r\nhtml_frame = \"\"\"\r\n<html>\r\n  <head>\r\n    <title>Minimal example showing broken svg images</title>\r\n  </head>\r\n  <body>\r\n    <img src=\"data:image/svg+xml;base64,{}\" />\r\n  </body>\r\n</html>\r\n\"\"\".strip()\r\n\r\nif __name__ == \"__main__\":\r\n    x, y = list(range(20)), list(range(20))\r\n    plt.plot(x, y)\r\n    svg = StringIO()\r\n    plt.savefig(svg, format='svg')\r\n    img = str(b64encode(svg.getvalue().encode('utf-8')), 'ascii')\r\n    print(html_frame.format(img))\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1637", "id": 1223723629, "node_id": "I_kwDOACFB9M5I8Ipt", "number": 1637, "title": "Absolute rtl boxes incorrectly float right", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 2, "created_at": "2022-05-03T06:04:09Z", "updated_at": "2022-05-05T22:31:58Z", "closed_at": "2022-05-05T14:33:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I believe this is a regression in d782952bb3250677ced1eadbaa4f365d1ae1dc03. It appears as though using an absolute box with `direction: rtl` will affect the box itself, not just its contents. A sample HTML document:\r\n\r\n~~~html\r\n<style>\r\n  body {\r\n    margin: 2em;\r\n  }\r\n  .a {\r\n    direction: rtl;\r\n    position: absolute;\r\n    text-align: right;\r\n    width: 1ch;\r\n  }\r\n\r\n  .b {\r\n    margin-left: 2ch;\r\n  }\r\n</style>\r\n<div>\r\n    <div class=\"a\">a</div>\r\n    <div class=\"b\">b</div>\r\n</div>\r\n<div>\r\n    <div class=\"a\">1a</div>\r\n    <div class=\"b\">b</div>\r\n</div>\r\n~~~\r\n\r\n(If it helps, imagine this as a code block with a line number in `.a` and content in `.b`: we want the numbers to be right-justified, but have any overflow go off to the left and not impact or encroach upon the line content.)\r\n\r\nFirefox and Chrome will set these divs like so:\r\n\r\n![A Firefox screenshot of the HTML](https://user-images.githubusercontent.com/29508/166409554-d8f5fcf2-f9bd-4740-82bc-ab996ef4be3e.png)\r\n\r\nWhereas d782952bb3250677ced1eadbaa4f365d1ae1dc03 sets the `.a` divs to the right of the page:\r\n\r\n![A WeasyPrint screenshot of the HTML](https://user-images.githubusercontent.com/29508/166409719-ee9ddf1e-8d85-4df6-a169-07746d5461d1.png)\r\n\r\nMy read of the [CSS 3 Writing Modes spec](https://drafts.csswg.org/css-writing-modes-3/#direction) would be that since `direction` specifies the \"inline base direction\", that primarily affects the _content_ of the box, not where the box itself is set. I haven't dug into it enough to be certain, but my guess is that the `ltr = [...]` in that method should instead check the parent of the box, not the box itself. (Unfortunately, a reference to the parent seems like it might be hard to come by.)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1636", "id": 1223262085, "node_id": "PR_kwDOACFB9M43L9Wv", "number": 1636, "title": "fix: sequential footnotes could disappear when overflowing", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 0, "created_at": "2022-05-02T19:29:28Z", "updated_at": "2022-05-02T19:51:21Z", "closed_at": "2022-05-02T19:48:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1636", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1636", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1636.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1636.patch", "merged_at": "2022-05-02T19:48:32Z"}, "body": "Previously, if a footnote triggered an overflow (that is, it was too large for the containing space), but footnote-policy didn't make us push down the line containing it, any subsequent footnotes in the same linebox would not be set into a footnote area, because they would never be passed to layout_footnote and report_footnote. (Their call sites would be set, but their content would not be.)\r\n\r\nThis also fixes a potential infinite loop where using footnote-policy could have forced the first line of a page to be pushed to the next page: that will just result in an infinite loop, so instead we set the line and move on if we are on the first line of a page. (This behavior is not specified in GCPM, but no other behavior seems practical: the only alternative would be to expand the page, which is almost certainly less desirable.)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1636/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1626", "id": 1212603524, "node_id": "I_kwDOACFB9M5IRtyE", "number": 1626, "title": "Absolutely positioned element at the bottom without fixed height disappears below page", "user": {"login": "LukasKlement", "id": 7053217, "node_id": "MDQ6VXNlcjcwNTMyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7053217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasKlement", "html_url": "https://github.com/LukasKlement", "followers_url": "https://api.github.com/users/LukasKlement/followers", "following_url": "https://api.github.com/users/LukasKlement/following{/other_user}", "gists_url": "https://api.github.com/users/LukasKlement/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasKlement/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasKlement/subscriptions", "organizations_url": "https://api.github.com/users/LukasKlement/orgs", "repos_url": "https://api.github.com/users/LukasKlement/repos", "events_url": "https://api.github.com/users/LukasKlement/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasKlement/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 6, "created_at": "2022-04-22T17:22:42Z", "updated_at": "2023-01-09T13:41:08Z", "closed_at": "2022-04-25T21:43:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I spotted a bug with the new beta version regarding the position of absolutely positioned elements at the end of a page. The bug only occurs, when the element has a height of auto.\r\n\r\nWeasyPrint Version: 55.0b1\r\n\r\nCode to reproduce:\r\n```\r\n<html>\r\n<head>\r\n<style>\r\n    @page {\r\n      size: 210mm 297mm;\r\n      margin: 0;\r\n    }\r\n    html, body {\r\n      margin: 0;\r\n    }\r\n    .bottom {\r\n      background: yellow;\r\n      bottom: 5mm;\r\n      left: 0;\r\n      position: absolute;\r\n      width: 100%;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n<div class=\"content\">\r\n    Test\r\n    <div class=\"bottom\">\r\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla lobortis libero pharetra, feugiat arcu et, condimentum turpis. Aenean faucibus bibendum sapien in venenatis. Sed quis magna vitae elit commodo condimentum ac ac dui. Aliquam a venenatis velit. Etiam vitae dolor id nulla aliquet cursus eu ut sem. Mauris mollis tincidunt viverra. Phasellus mattis lectus a neque tempor, non scelerisque augue tincidunt. Curabitur elementum quam dignissim nulla mattis vestibulum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis vitae nisl turpis.\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n```\r\n\r\n**Expected behaviour** (working as of v54.3): The yellow box is displayed completely at the bottom of the page, screenshot: https://share.getcloudapp.com/7KuQZlxJ\r\n**Actual behaviour** (v55.0b1): The yellow box is cut off and disappears into the void, screenshot: https://share.getcloudapp.com/2Nuz8ekB\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1625", "id": 1209088917, "node_id": "I_kwDOACFB9M5IETuV", "number": 1625, "title": "Cannot render SVG when using unescaped characters as classnames", "user": {"login": "VeteraNovis", "id": 35371901, "node_id": "MDQ6VXNlcjM1MzcxOTAx", "avatar_url": "https://avatars.githubusercontent.com/u/35371901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VeteraNovis", "html_url": "https://github.com/VeteraNovis", "followers_url": "https://api.github.com/users/VeteraNovis/followers", "following_url": "https://api.github.com/users/VeteraNovis/following{/other_user}", "gists_url": "https://api.github.com/users/VeteraNovis/gists{/gist_id}", "starred_url": "https://api.github.com/users/VeteraNovis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VeteraNovis/subscriptions", "organizations_url": "https://api.github.com/users/VeteraNovis/orgs", "repos_url": "https://api.github.com/users/VeteraNovis/repos", "events_url": "https://api.github.com/users/VeteraNovis/events{/privacy}", "received_events_url": "https://api.github.com/users/VeteraNovis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 1, "created_at": "2022-04-20T02:37:20Z", "updated_at": "2022-04-28T15:36:01Z", "closed_at": "2022-04-28T15:36:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\nWhen attempting to render an SVG, I was encountering the following error:\r\n\r\n```ERROR: Failed to load image at 'file:///path/to/image.svg': SelectorError: (<LiteralToken `>, 'unpexpected literal token.')```\r\n\r\nUpon inspection, the inline styling inside the SVG image contained classes named ``` a` ```.\r\n\r\n### Resolution\r\nBy escaping the grave accent ``` a\\` ``` the problem was resolved.\r\n\r\n### Notes\r\nAlso note the spelling mistake in the error message. `unpexpected`\r\n\r\n### Version information\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #44-Ubuntu SMP Thu Mar 24 15:35:05 UTC 2022\r\nRelease: 5.13.0-39-generic\r\n\r\nWeasyPrint version: 54.3\r\nPython version: 3.9.7\r\nPydyf version: 0.1.2\r\nPango version: 14810\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1621", "id": 1201516017, "node_id": "I_kwDOACFB9M5Hna3x", "number": 1621, "title": "Multiple values for \"text-decoration\" are not applied correctly", "user": {"login": "Morikko", "id": 7831572, "node_id": "MDQ6VXNlcjc4MzE1NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/7831572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Morikko", "html_url": "https://github.com/Morikko", "followers_url": "https://api.github.com/users/Morikko/followers", "following_url": "https://api.github.com/users/Morikko/following{/other_user}", "gists_url": "https://api.github.com/users/Morikko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Morikko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Morikko/subscriptions", "organizations_url": "https://api.github.com/users/Morikko/orgs", "repos_url": "https://api.github.com/users/Morikko/repos", "events_url": "https://api.github.com/users/Morikko/events{/privacy}", "received_events_url": "https://api.github.com/users/Morikko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 9, "created_at": "2022-04-12T09:30:56Z", "updated_at": "2022-04-13T09:16:30Z", "closed_at": "2022-04-13T07:43:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have found a few cases where `text-decoration` values are not applied correctly: only a single value is possible at a time.\r\n\r\nThe HTML output is based on Firefox 98 and the PDF is generated with `weasyprint==54.3`.\r\n\r\n```python\r\nimport weasyprint\r\nfrom IPython.display import display_pdf\r\n\r\ncss_size = weasyprint.CSS(string=\"\"\"\r\n@page {\r\n  size: 100mm;\r\n}\r\n\"\"\")\r\n\r\ndef generate_pdf(data_str):\r\n    html_obj = weasyprint.HTML(string=data_str)\r\n    pdf_data = html_obj.write_pdf(stylesheets=[css_size])\r\n    display_pdf(pdf_data, raw=True)\r\n```\r\n\r\n## Single Tag with multiple options\r\n\r\n```html\r\n<span style=\"text-decoration: underline line-through;\">\r\n        demo text\r\n</span>\r\n```\r\n\r\n### HTML\r\n\r\n![2022-04-12_11-16 html_single_span_multi_values](https://user-images.githubusercontent.com/7831572/162927438-1ccb991f-556c-4e4b-8456-66fa8f012d32.png)\r\n\r\n### PDF\r\n\r\n![2022-04-12_11-17 pdf_single_span_multi_values_regression](https://user-images.githubusercontent.com/7831572/162928680-77f375a3-b423-4c0d-bd45-04ce4d54a999.png)\r\n\r\nIt used to work with `weasyprint==52.5`.\r\n\r\n![2022-04-12_11-17 pdf_single_span_multi_values](https://user-images.githubusercontent.com/7831572/162927441-c35d4861-fbf5-49f0-8a86-2a51dbc70402.png)\r\n\r\n## Two tags with different options\r\n\r\n```html\r\n<span style=\"text-decoration: underline;\">\r\n    <span style=\"text-decoration: line-through;\">\r\n        demo text\r\n    </span>toto\r\n</span>\r\n```\r\n\r\n### HTML\r\n\r\n![2022-04-12_11-22 html_multi_spans](https://user-images.githubusercontent.com/7831572/162927444-03a0ab35-acf0-4c3b-bb48-1dcdb8b3268b.png)\r\n\r\n### PDF\r\n\r\n![2022-04-12_11-23 pdf_multi_spans](https://user-images.githubusercontent.com/7831572/162927447-3114d248-d241-438a-b7ec-5c179095601e.png)\r\n\r\n## Historical HTML tags\r\n\r\n```html\r\n<p><u><s>demo text</s>toto</u></p>\r\n\r\n<p><del><u>demo text</u>toto</del></p>\r\n```\r\n\r\n### HTML\r\n\r\n![2022-04-12_11-23 html_html_tags](https://user-images.githubusercontent.com/7831572/162927452-2170e1da-32dd-4832-b1d7-960325196da3.png)\r\n\r\n### PDF\r\n\r\n![2022-04-12_11-23 pdf_html_tags](https://user-images.githubusercontent.com/7831572/162927453-2515976d-4fa7-4460-8a39-d344c5f4c977.png)\r\n\r\n## With other CSS properties\r\n\r\nOther CSS properties like `color` or `font-weight` are applied aside only a single value `text-decoration`:\r\n```html\r\n<del style=\"color: blue;\"><u>d<span style=\"font-weight: bold;\">em</span>o te<b>xt</b></u></del>\r\n```\r\n### HTML\r\n![2022-04-12_11-26 html_cross_css](https://user-images.githubusercontent.com/7831572/162928265-7a3b20d4-ef2d-4ee4-af00-44a9c63746fc.png)\r\n\r\n### PDF\r\n![2022-04-12_11-26 pdf_cross_css](https://user-images.githubusercontent.com/7831572/162928268-326959f0-d8ef-4c17-90b8-4e22760f020d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1612", "id": 1179262297, "node_id": "I_kwDOACFB9M5GSh1Z", "number": 1612, "title": "'text-transform: capitalize' makes letters that aren't the first of each word lowercase", "user": {"login": "oliver-s-lee", "id": 9111160, "node_id": "MDQ6VXNlcjkxMTExNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9111160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oliver-s-lee", "html_url": "https://github.com/oliver-s-lee", "followers_url": "https://api.github.com/users/oliver-s-lee/followers", "following_url": "https://api.github.com/users/oliver-s-lee/following{/other_user}", "gists_url": "https://api.github.com/users/oliver-s-lee/gists{/gist_id}", "starred_url": "https://api.github.com/users/oliver-s-lee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oliver-s-lee/subscriptions", "organizations_url": "https://api.github.com/users/oliver-s-lee/orgs", "repos_url": "https://api.github.com/users/oliver-s-lee/repos", "events_url": "https://api.github.com/users/oliver-s-lee/events{/privacy}", "received_events_url": "https://api.github.com/users/oliver-s-lee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 876622221, "node_id": "MDU6TGFiZWw4NzY2MjIyMjE=", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/good%20first%20issue", "name": "good first issue", "color": "0fc448", "default": true, "description": "Issues that can be quite easily solved by Python developers with a good CSS background"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 6, "created_at": "2022-03-24T09:48:37Z", "updated_at": "2022-08-15T14:11:07Z", "closed_at": "2022-08-15T14:11:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just a quick bug I came across, the css property: 'text-transform: capitalize' makes every letter in the word lowercase, except for the first which is made uppercase. According to the [spec](https://drafts.csswg.org/css-text/#text-transform), only the first letter should be modified and other letters should remain as typed.\r\n\r\n[cap-test.pdf](https://github.com/Kozea/WeasyPrint/files/8340340/cap-test.pdf)\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <style>\r\n            body {\r\n                text-transform: capitalize;\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n        my UPPER text\r\n    </body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1601", "id": 1173422896, "node_id": "I_kwDOACFB9M5F8QMw", "number": 1601, "title": "SVG with linearGradient using matrix gradientTransform is not rendered correctly", "user": {"login": "jelle-eastground", "id": 5802207, "node_id": "MDQ6VXNlcjU4MDIyMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5802207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jelle-eastground", "html_url": "https://github.com/jelle-eastground", "followers_url": "https://api.github.com/users/jelle-eastground/followers", "following_url": "https://api.github.com/users/jelle-eastground/following{/other_user}", "gists_url": "https://api.github.com/users/jelle-eastground/gists{/gist_id}", "starred_url": "https://api.github.com/users/jelle-eastground/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jelle-eastground/subscriptions", "organizations_url": "https://api.github.com/users/jelle-eastground/orgs", "repos_url": "https://api.github.com/users/jelle-eastground/repos", "events_url": "https://api.github.com/users/jelle-eastground/events{/privacy}", "received_events_url": "https://api.github.com/users/jelle-eastground/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-18T10:19:08Z", "updated_at": "2022-12-02T15:11:28Z", "closed_at": "2022-12-02T15:11:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the new way of SVG rendering (v53+), a matrix gradientTransform gradient is no longer working. Is this something WeasyPrint could support again in the near future?\r\n![test_gradient](https://user-images.githubusercontent.com/5802207/158984788-f5753910-8d5f-4404-8b6c-f62db68cc1f6.svg)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1601/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1596", "id": 1171228258, "node_id": "I_kwDOACFB9M5Fz4Zi", "number": 1596, "title": "Bootstrap grid system in all pages", "user": {"login": "Danscath", "id": 38579689, "node_id": "MDQ6VXNlcjM4NTc5Njg5", "avatar_url": "https://avatars.githubusercontent.com/u/38579689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Danscath", "html_url": "https://github.com/Danscath", "followers_url": "https://api.github.com/users/Danscath/followers", "following_url": "https://api.github.com/users/Danscath/following{/other_user}", "gists_url": "https://api.github.com/users/Danscath/gists{/gist_id}", "starred_url": "https://api.github.com/users/Danscath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Danscath/subscriptions", "organizations_url": "https://api.github.com/users/Danscath/orgs", "repos_url": "https://api.github.com/users/Danscath/repos", "events_url": "https://api.github.com/users/Danscath/events{/privacy}", "received_events_url": "https://api.github.com/users/Danscath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-16T16:01:45Z", "updated_at": "2022-09-22T14:59:34Z", "closed_at": "2022-03-17T11:36:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im not sure if this is a \"issue\" or just a feature its not possible to do but I want to generate a dynamic PDF with data from my models.\r\n\r\nI have a total of 4 models, two of them I want to display on the left part with more width than the others two so I have some like \r\ncol-8 and col-4 \r\n\r\nThe problem is the next, when I render a PDF if the data's to long and I have more than 1 page, the col-4 content only display on the last one, and I want to put it on the first page and keep the background color on the others if there's no data\r\n\r\nHere is a image with part of the last 2 pages. As I say I want all the right part with the gray background and only display the data (text white) on the first page and so on in case there's data enough to get the next pages\r\n\r\n![Screenshot_3](https://user-images.githubusercontent.com/38579689/158633461-0e53d5a1-b3c4-4c77-8b17-5b03cb2c7ffa.jpg)\r\n\r\nSo far I onlye want to know if its possible so i dont send any code yet so I dont waste your time reading code with nosense xD\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1574", "id": 1146701741, "node_id": "I_kwDOACFB9M5EWUet", "number": 1574, "title": "Page breaks are added in unintended places when page margins are specified.", "user": {"login": "lazex", "id": 6133978, "node_id": "MDQ6VXNlcjYxMzM5Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6133978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazex", "html_url": "https://github.com/lazex", "followers_url": "https://api.github.com/users/lazex/followers", "following_url": "https://api.github.com/users/lazex/following{/other_user}", "gists_url": "https://api.github.com/users/lazex/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazex/subscriptions", "organizations_url": "https://api.github.com/users/lazex/orgs", "repos_url": "https://api.github.com/users/lazex/repos", "events_url": "https://api.github.com/users/lazex/events{/privacy}", "received_events_url": "https://api.github.com/users/lazex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/35", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35/labels", "id": 7646175, "node_id": "MI_kwDOACFB9M4AdKvf", "number": 35, "title": "54.2", "description": "- Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2022-02-06T19:49:52Z", "updated_at": "2022-02-28T11:28:11Z", "due_on": null, "closed_at": "2022-02-28T11:28:11Z"}, "comments": 1, "created_at": "2022-02-22T10:05:53Z", "updated_at": "2022-02-22T14:10:37Z", "closed_at": "2022-02-22T14:10:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "My HTML is the following.\r\n\r\n```html\r\n<!doctype html>\r\n<meta charset=\"utf-8\" />\r\n\r\n<style>\r\n\t@page {\r\n\t\tsize: A4;\r\n\t\t/*margin: 3cm;*/\r\n\t}\r\n\r\n\tbody {\r\n\t\tfont-size: 20pt;\r\n\t}\r\n\r\n\t#s1 {\r\n\t\tpage-break-before: always;\r\n\t\tfont-size: 16pt;\r\n\t}\r\n</style>\r\n\r\n<section id=\"s0\">\r\n\t<h1>1111</h1>\r\n</section>\r\n<section id=\"s1\">\r\n\t<ul>\r\n\t\t<li>\r\n\t\t\t<div>ITEM1</div>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM1-1</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM1-2</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM1-2</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<div>ITEM2</div>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<div>ITEM3</div>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<div>ITEM4</div>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-1</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-1-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-1-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-1-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-2</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-2-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-2-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-2-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-3</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-3-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-3-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-3-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-4</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-4-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-4-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-4-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-5</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-5-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-5-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-5-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-6</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-6-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-6-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-6-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-7</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-7-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-7-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-7-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-8</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-8-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-8-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-8-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-9</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-9-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-9-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-9-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-10</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-10-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-10-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-10-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-11</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-11-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-11-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-11-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div>ITEM4-12</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-12-1</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-12-2</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<div>ITEM4-12-3</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</li>\r\n\t</ul>\r\n</section>\r\n```\r\n\r\nGenerated PDF file is\r\n\r\n![margin-off](https://user-images.githubusercontent.com/6133978/155108522-6a6d5ead-3a1a-4fa6-bde0-27a8691abe83.png)\r\n\r\nUncomment and add margin to the page.\r\n\r\n```\r\n@page {\r\n\tsize: A4;\r\n\tmargin: 3cm;\r\n}\r\n```\r\n\r\nGenerated PDF file is\r\n\r\n![margin-on](https://user-images.githubusercontent.com/6133978/155108546-c014c804-d9b4-4075-aaf3-5d746c566f60.png)\r\n\r\nAn unintended page break has been added after item3.\r\n\r\n## Workaround\r\n\r\nIf I add an element with a margin greater than the page margin, no page break will be added.\r\n\r\n```html\r\n<!doctype html>\r\n<meta charset=\"utf-8\" />\r\n\r\n<style>\r\n\t@page {\r\n\t\tsize: A4;\r\n\t\tmargin: 3cm;\r\n\t}\r\n\r\n\tbody {\r\n\t\tfont-size: 20pt;\r\n\t}\r\n\r\n\t#s1 {\r\n\t\tpage-break-before: always;\r\n\t\tfont-size: 16pt;\r\n\t}\r\n\r\n\t.margin {\r\n\t\tmargin: 0 0 3.01cm 0;\r\n\t}\r\n</style>\r\n\r\n<section id=\"s0\">\r\n\t<h1>1111</h1>\r\n</section>\r\n<section id=\"s1\">\r\n\t<div class=\"margin\"></div>\r\n\t<ul>...</ul>\r\n</section>\r\n```\r\n\r\n![margin-extra](https://user-images.githubusercontent.com/6133978/155109085-50db832a-fd43-457f-ae14-c49f0a26bf28.png)\r\n\r\nIf I change 3.01cm to 3cm (same as page margin), a page break will be added.\r\n\r\nI could avoid adding page breaks, but it would create an extra margin.\r\nTo remove the extra margin, add negative margin to next element.\r\n\r\n```css\r\n.margin + * {\r\n\tmargin-top: -3.01cm;\r\n}\r\n```\r\n\r\n![margin-workaround](https://user-images.githubusercontent.com/6133978/155108562-729b4c01-ba5f-4c6a-92ef-ca85dafbf3df.png)\r\n\r\n## Version\r\n\r\n```\r\n# weasyprint --version\r\nWeasyPrint version 54.1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1571", "id": 1138637670, "node_id": "I_kwDOACFB9M5D3jtm", "number": 1571, "title": "Invalid CMap table generated", "user": {"login": "janvogt", "id": 3130210, "node_id": "MDQ6VXNlcjMxMzAyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3130210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janvogt", "html_url": "https://github.com/janvogt", "followers_url": "https://api.github.com/users/janvogt/followers", "following_url": "https://api.github.com/users/janvogt/following{/other_user}", "gists_url": "https://api.github.com/users/janvogt/gists{/gist_id}", "starred_url": "https://api.github.com/users/janvogt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janvogt/subscriptions", "organizations_url": "https://api.github.com/users/janvogt/orgs", "repos_url": "https://api.github.com/users/janvogt/repos", "events_url": "https://api.github.com/users/janvogt/events{/privacy}", "received_events_url": "https://api.github.com/users/janvogt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/35", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35/labels", "id": 7646175, "node_id": "MI_kwDOACFB9M4AdKvf", "number": 35, "title": "54.2", "description": "- Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2022-02-06T19:49:52Z", "updated_at": "2022-02-28T11:28:11Z", "due_on": null, "closed_at": "2022-02-28T11:28:11Z"}, "comments": 7, "created_at": "2022-02-15T12:39:46Z", "updated_at": "2022-02-19T19:33:20Z", "closed_at": "2022-02-17T21:00:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Observation\r\n\r\nSome printable UTF-8 charachters couldn't be recovered from the generated PDF. A poppler-cpp based pdftotext library warned:\r\n\r\n    poppler/error: Invalid entry in bfchar block in ToUnicode CMap\r\n\r\n# Research\r\n\r\nFollowing down this trail I figured out that the following line in the CMap of the PDF generated by waesyprint triggered this error, since it is larger than 4096. See [check in poppler source code](https://github.com/freedesktop/poppler/blob/5390a119a3cdf58ea03effac83910cd35eab23f6/poppler/CharCodeToUnicode.cc#L346)\r\n\r\n```pdf\r\n<10006c5b> <6c5b>\r\n``` \r\n\r\nUsing a hex editor to change the initial `1` to a `0`, i.e.\r\n\r\n```pdf\r\n<00006c5b> <6c5b>\r\n``` \r\nfixed the PDF and made the character recoverable and also visible in a PDF Viewer (Apple Preview).\r\n\r\nI attempted to figure out how the faulty value is generated, but had to give up eventually. The [relevant line](https://github.com/Kozea/WeasyPrint/blob/82e15f6ce1cb1fab67370d2669baaca0169e0553/weasyprint/document.py#L1454) just renders the glyph, but it is unclear to me where the glyph originates.\r\n\r\n# Reproducible example\r\n\r\nA reproducible example is availiable at [https://github.com/janvogt/repro-weasyprint-cmap-utf8](https://github.com/janvogt/repro-weasyprint-cmap-utf8). Also I attached the invalid pdf [example.pdf](https://github.com/Kozea/WeasyPrint/files/8069118/example.pdf) and the fixed pdf [example_fixed.pdf](https://github.com/Kozea/WeasyPrint/files/8069117/example_fixed.pdf), generated from the following html:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n</head>\r\n\r\n<body>\r\n  \u6c5b\r\n</body>\r\n\r\n</html>\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1570", "id": 1137986392, "node_id": "PR_kwDOACFB9M4y0mav", "number": 1570, "title": "fix: more robustly handle unlayout'ing a footnote", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 1, "created_at": "2022-02-14T23:51:56Z", "updated_at": "2022-02-26T08:01:02Z", "closed_at": "2022-02-26T08:00:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1570", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1570", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1570.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1570.patch", "merged_at": "2022-02-26T08:00:19Z"}, "body": "This fixes a bug accidentally introduced in #1566, where we would try to unlayout a footnote that had not yet been laid out, if the algorithm decided that there would be insufficient space on a page before laying out a further footnote.\r\n\r\n(The fix is to check to see whether we've actually laid it out yet - or, equivalently, put things back as if we haven't. Otherwise we get a ValueError from trying to remove from `self.reported_footnotes` and a duplicated entry in `self.footnotes`.)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1570/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1566", "id": 1129547752, "node_id": "PR_kwDOACFB9M4yWogd", "number": 1566, "title": "fix: don't output footnotes before their call sites", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 2, "created_at": "2022-02-10T07:04:06Z", "updated_at": "2022-02-13T12:24:44Z", "closed_at": "2022-02-13T12:18:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1566", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1566", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1566.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1566.patch", "merged_at": "2022-02-13T12:18:43Z"}, "body": "If a footnote has been output but we then decide to cancel the line it was output on, we should cancel the output of the footnote itself.\r\n\r\nThis requires a bit of extra bookkeeping, so we know which footnotes are relevant, but otherwise largely works using the existing remove_placeholders code.\r\n\r\nIncludes a minor refactor of footnote area management in LayoutContext, and a new testing utility: `tree_position`.\r\n\r\nCloses #1564.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1566/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1564", "id": 1128117263, "node_id": "I_kwDOACFB9M5DPbQP", "number": 1564, "title": "Footnotes are sometimes placed on the page before the corresponding footnote call", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 2, "created_at": "2022-02-09T06:44:04Z", "updated_at": "2023-04-29T09:42:20Z", "closed_at": "2022-02-13T12:18:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In some cases, which appears to be \"when a footnote call would normally be set on one page, and there would be room for the footnote, but a later rendering check pushes the footnote to the next page\", a footnote can appear on the page before its call. (This violates the GCPM spec [which says](https://www.w3.org/TR/css-gcpm-3/#footnote-policy) \"A footnote body must never be placed on a page before the footnote reference.\")\r\n\r\nA moderately minimal test case:\r\n\r\n~~~html\r\n<style>\r\n  @page { @footnote { background-color: #afa; } }\r\n  html {\r\n    font-size: 10pt;\r\n  }\r\n  .footnote {\r\n    float: footnote;\r\n  }\r\n  ::footnote-call {\r\n    background-color: #aff;\r\n  }\r\n  div {\r\n    height: 65em;\r\n    background-color: #aaf;\r\n  }\r\n  p {\r\n    break-inside: avoid;\r\n    background-color: #faa;\r\n  }\r\n</style>\r\n  \r\n<div></div>\r\n\r\n<p>\r\n  foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo\r\n  bar baz foo bar baz foo bar baz foo bar baz foo bar baz\r\n  <span class=\"footnote\">footnote</span>\r\n  foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo\r\n  bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo bar\r\n  baz\r\n</p>\r\n~~~\r\n\r\nThat produces [footnote-wrap.pdf](https://github.com/Kozea/WeasyPrint/files/8030099/footnote-wrap.pdf), which has a page break that looks like the following:\r\n\r\n![Screenshot of the PDF](https://user-images.githubusercontent.com/29508/153135325-69a5d9d2-bf05-4d9e-aa83-81ac8513d676.png)\r\n\r\nThe blue div is simply used to push the red paragraph to approximately the correct position. The issue is that the (light blue) footnote call occurs on the page after the (green) footnote.\r\n\r\nMy speculation is that this happens because the footnote call site *could* fit on the first page if it were allowed to break (removing the `break-inside` rule renders \"correctly\"). It does not appear to be related to the fact that the entire paragraph may fit on the first page if the footnote area did not exist, as making the paragraph much longer still results in the same behavior. However, other ways of forcing the paragraph to wrap to the next page (such as setting `orphans` or `widows` to 3) produce the same result: this isn't just an issue with `break-inside`.\r\n\r\nI have not taken too much time to try to dig into why this occurs, and am mostly filing the issue in case you have ideas as to where to look. Otherwise I'll likely dig into this as time allows, possibly later this week.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1561", "id": 1124875711, "node_id": "I_kwDOACFB9M5DDD2_", "number": 1561, "title": "Text duplicated after line break at non-breaking space", "user": {"login": "Greunlis", "id": 8442487, "node_id": "MDQ6VXNlcjg0NDI0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/8442487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Greunlis", "html_url": "https://github.com/Greunlis", "followers_url": "https://api.github.com/users/Greunlis/followers", "following_url": "https://api.github.com/users/Greunlis/following{/other_user}", "gists_url": "https://api.github.com/users/Greunlis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Greunlis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Greunlis/subscriptions", "organizations_url": "https://api.github.com/users/Greunlis/orgs", "repos_url": "https://api.github.com/users/Greunlis/repos", "events_url": "https://api.github.com/users/Greunlis/events{/privacy}", "received_events_url": "https://api.github.com/users/Greunlis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/35", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35/labels", "id": 7646175, "node_id": "MI_kwDOACFB9M4AdKvf", "number": 35, "title": "54.2", "description": "- Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2022-02-06T19:49:52Z", "updated_at": "2022-02-28T11:28:11Z", "due_on": null, "closed_at": "2022-02-28T11:28:11Z"}, "comments": 1, "created_at": "2022-02-05T08:57:11Z", "updated_at": "2022-02-08T11:29:02Z", "closed_at": "2022-02-08T11:28:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just found a strange regression between versions 53.4 and 54.\r\nWhen this HTML is rendered (no CSS applied)\r\n`Lorem ipsum dolor sit <b>amet</b> Somehow this part is duplicated on next line&nbsp;<b>bold</b> text.`\r\nWeasyPrint v. 54.0 ignores non-breaking space and duplicates part of the text on next line.\r\nSee [test.pdf](https://github.com/Kozea/WeasyPrint/files/8007671/test.pdf)\r\nVersion 53.4 ignores the non-breaking space too, but at least doesn't duplicate the text.\r\n\r\nWhen last few words are wrapped in a span, it seems fine in both versions.\r\n`Lorem ipsum dolor sit <b>amet</b> Somehow this part is duplicated on next <span>line&nbsp;<b>bold</b> text.</span>`\r\n\r\nThanks for looking into it.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1559", "id": 1121335744, "node_id": "PR_kwDOACFB9M4x78UW", "number": 1559, "title": "fix: handle float rounding when extending boxes over page breaks", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/35", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/35/labels", "id": 7646175, "node_id": "MI_kwDOACFB9M4AdKvf", "number": 35, "title": "54.2", "description": "- Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2022-02-06T19:49:52Z", "updated_at": "2022-02-28T11:28:11Z", "due_on": null, "closed_at": "2022-02-28T11:28:11Z"}, "comments": 1, "created_at": "2022-02-02T00:16:47Z", "updated_at": "2022-02-20T13:45:07Z", "closed_at": "2022-02-07T14:52:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1559", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1559", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1559.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1559.patch", "merged_at": "2022-02-07T14:52:29Z"}, "body": "When a box would break over the edge of a page, its height is extended to the bottom of that page (per https://www.w3.org/TR/css-break-3/#box-splitting , primarily to allow backgrounds and borders to continue to the end of the page).\r\n\r\nWhen this happened, sometimes the values that would be calculated for the height of the extended element would be rounded *over* the calculated height that remained on the page, forcing the entire containing box to wrap to the next page.\r\n\r\nRather than trying to carefully manage the order of operations to try to be safe in IEEE floats for directions, we apply a small \"fudge factor\": if an element fits very nearly (within a thousandth of a pixel) into the remaining space, it is still accepted.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1559/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1554", "id": 1115810992, "node_id": "PR_kwDOACFB9M4xp669", "number": 1554, "title": "Avoid invalid PDF operators when drawing SVG text", "user": {"login": "rianmcguire", "id": 1201065, "node_id": "MDQ6VXNlcjEyMDEwNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1201065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rianmcguire", "html_url": "https://github.com/rianmcguire", "followers_url": "https://api.github.com/users/rianmcguire/followers", "following_url": "https://api.github.com/users/rianmcguire/following{/other_user}", "gists_url": "https://api.github.com/users/rianmcguire/gists{/gist_id}", "starred_url": "https://api.github.com/users/rianmcguire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rianmcguire/subscriptions", "organizations_url": "https://api.github.com/users/rianmcguire/orgs", "repos_url": "https://api.github.com/users/rianmcguire/repos", "events_url": "https://api.github.com/users/rianmcguire/events{/privacy}", "received_events_url": "https://api.github.com/users/rianmcguire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 1, "created_at": "2022-01-27T06:06:40Z", "updated_at": "2022-01-30T13:30:10Z", "closed_at": "2022-01-30T13:29:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1554", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1554", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1554.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1554.patch", "merged_at": "2022-01-30T13:29:57Z"}, "body": "This was causing display problems and warning messages in some PDF software.\r\n\r\n## Example HTML\r\n```html\r\n<p>SVG with text:</p>\r\n<svg width=\"300\" height=\"50\">\r\n    <rect width=\"300\" height=\"50\" fill=\"none\" stroke=\"red\" />\r\n    <text rotate=\"10\" x=\"10\" y=\"25\" letter-spacing=\"3\" font-size=\"30\" font-family=\"Noto Sans\">This is text</text>\r\n</svg>\r\n```\r\n\r\n## Before\r\n\r\nPDF X-Change Viewer[1] doesn't render SVG text:\r\n![before-pdfxchange](https://user-images.githubusercontent.com/1201065/151292214-76724840-b3a7-443c-bef9-28c2ab03d5de.png)\r\n\r\nAdobe Acrobat Reader DC [2] renders SVG text:\r\n![before-adobe](https://user-images.githubusercontent.com/1201065/151292451-4e5f35e3-a15a-41b0-bfe7-9fe3c42a3342.png)\r\nbut displays this warning message after printing (printing to a virtual printer is sufficient):\r\n![before-adobe-print](https://user-images.githubusercontent.com/1201065/151292494-2a5713f1-bf99-4d07-9cc7-cac92c513fc8.png)\r\n\r\n## After\r\nPDF X-Change Viewer renders SVG text:\r\n![after-pdfxchange](https://user-images.githubusercontent.com/1201065/151292739-75c2b199-0549-449e-aeaf-69beca2bb42f.png)\r\n\r\nAdobe Acrobat Reader DC now prints with no warning messages.\r\n\r\n## Root cause\r\n\r\nI managed to narrow this down to the PDF content stream that's being emitted for the SVG text. I used [pikepdf](https://pikepdf.readthedocs.io/en/latest/topics/content_streams.html) to parse it.\r\n\r\nSVG text PDF content stream before (invalid operators marked with `**`):\r\n```\r\nBT []\r\n**q []\r\n**m [10, 25]\r\n**cm [1, 0, 0, 1, 10, 25]\r\n**cm [Decimal('0.984808'), Decimal('0.173648'), Decimal('-0.173648'), Decimal('0.984808'), 0, 0]\r\n**cm [1, 0, 0, 1, -10, -25]\r\nrg [0, 0, 0]\r\ngs [pikepdf.Name(\"/a1.0\")]\r\nw [1]\r\nJ [0]\r\nj [0]\r\nM [4]\r\nTr [0]\r\nTm [30, 0, 0, -30, 10, 25]\r\nTf [pikepdf.Name(\"/JDIZPJ\"), 1]\r\nTJ [pikepdf.Array([ \"7\" ])]\r\n**Q []\r\nET []\r\n```\r\nAccording to the [PDF specification](https://www.adobe.com/content/dam/acom/en/devnet/pdf/pdfs/pdf_reference_archives/PDFReference.pdf), \"special graphics state\" operators (q, Q, cm) and \"path construction\" operators (m) aren't permitted while a text object is being drawn. See page 134-135, Table 4.1 Operator categories, and Figure 4.1 Graphics objects.\r\n\r\nPDF readers seem to be quite tolerant of invalid content streams in general, but apparently this was too much!\r\n\r\nContent stream after:\r\n```\r\nBT []\r\nrg [0, 0, 0]\r\ngs [pikepdf.Name(\"/a1.0\")]\r\nw [1]\r\nJ [0]\r\nj [0]\r\nM [4]\r\nTr [0]\r\nTm [Decimal('29.544233'), Decimal('5.209445'), Decimal('5.209445'), Decimal('-29.544233'), 10, 25]\r\nTf [pikepdf.Name(\"/BBQVNM\"), 1]\r\nTJ [pikepdf.Array([ \"7\" ])]\r\nET []\r\n```\r\n\r\n[1] PDF-XChange Viewer 2.5 (Build 322.10) - https://www.tracker-software.com/product/pdf-xchange-viewer\r\n[2] Adobe Acrobat Reader DC 2021.011.20039", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1554/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1541", "id": 1105288713, "node_id": "PR_kwDOACFB9M4xHrsq", "number": 1541, "title": "fix: space out no-repeat patterns more", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 1, "created_at": "2022-01-17T02:10:53Z", "updated_at": "2022-01-17T09:15:18Z", "closed_at": "2022-01-17T09:14:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1541", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1541", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1541.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1541.patch", "merged_at": "2022-01-17T09:14:51Z"}, "body": "This ensures the edges of a repeating pattern don't show up on the edge of the painting area in some PDF viewers. Closes #1539.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1541/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1539", "id": 1100814213, "node_id": "I_kwDOACFB9M5BnReF", "number": 1539, "title": "Tight background-repeat tolerances lead to erroneous display in some viewers", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 1, "created_at": "2022-01-12T21:37:18Z", "updated_at": "2022-01-17T09:15:24Z", "closed_at": "2022-01-17T09:14:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When providing a `background-repeat` value that indicates some repeating is allowed, WeasyPrint uses a PDF pattern, which must repeat in both directions.\r\n\r\nThis is handled by setting the repeat width to the bigger of the background image or the painting area:\r\nhttps://github.com/Kozea/WeasyPrint/blob/8d2c549a82dfa0bef4891c78b18ffc447e0519d5/weasyprint/draw.py#L379-L382\r\n\r\nHowever, because this means the pattern repeats *right* at the edge of the painting area, and some PDF viewers are very aggressive about their antialiasing(?) and not very picky about boundaries, this can lead to a blurred line of the background repeating at the edge of the containing box.\r\n\r\nA small reproduction:\r\n~~~html\r\n<style>\r\n  div {\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M0 0h50v50H0z'/%3E%3C/svg%3E\");\r\n    background-repeat: repeat-y;\r\n  }\r\n</style>\r\n<div>Hello world</div>\r\n~~~\r\n\r\nThis produces [repeat-test.pdf](https://github.com/Kozea/WeasyPrint/files/7857933/repeat-test.pdf). A screenshot of the PDF in Firefox's PDF.js at an arbitrary zoom level:\r\n\r\n![Screenshot showing a very faint line at the right edge](https://user-images.githubusercontent.com/29508/149224446-8a52e769-4b0c-4b19-8580-bf74fb5f3d1a.png)\r\n\r\nIt's very faint to see, but at the right edge of the page, there is a light grey line (zooming in with an image editor may be useful). This is dependent on the viewer: it appears that PDF.js and PDFium (Firefox + Chrome) will show a grey line at some zoom levels, Pango may not show it at any zoom levels(?), and I'm told that Adobe Acrobat Reader DC on Windows will display it at most/all zoom levels.\r\n\r\nMost likely, the fix is to lift the code from later in the file up a bit:\r\nhttps://github.com/Kozea/WeasyPrint/blob/8d2c549a82dfa0bef4891c78b18ffc447e0519d5/weasyprint/draw.py#L415-L418\r\n\r\nI believe that block can be eliminated, and moved into lines 382 and 402 instead, and should resolve the issue. (It's not clear to me if there's a need to ensure that the `repeat_width` is at least as big as `image_width`, but if so, we should keep the `max()` call.)\r\n\r\nIf you'd like me to submit a PR for this, let me know. I have no idea how to add a test for it, unfortunately.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1515", "id": 1071304048, "node_id": "I_kwDOACFB9M4_2s1w", "number": 1515, "title": "Strange output fonts with sphinx litteralinclude for a file with tabs.", "user": {"login": "oz123", "id": 1083045, "node_id": "MDQ6VXNlcjEwODMwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1083045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oz123", "html_url": "https://github.com/oz123", "followers_url": "https://api.github.com/users/oz123/followers", "following_url": "https://api.github.com/users/oz123/following{/other_user}", "gists_url": "https://api.github.com/users/oz123/gists{/gist_id}", "starred_url": "https://api.github.com/users/oz123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oz123/subscriptions", "organizations_url": "https://api.github.com/users/oz123/orgs", "repos_url": "https://api.github.com/users/oz123/repos", "events_url": "https://api.github.com/users/oz123/events{/privacy}", "received_events_url": "https://api.github.com/users/oz123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 3, "created_at": "2021-12-04T22:01:13Z", "updated_at": "2021-12-05T18:31:05Z", "closed_at": "2021-12-05T18:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a document which include a bash script with the following:\r\n\r\n```\r\ncase ${DELTA_PODS} in\r\n-+([[:digit:]]))\r\n      echo \"negative\"\r\n      ;;\r\n0)\r\n      echo \"no change\"\r\n     ;;\r\n+([[:digit:]]))\r\n    echo \"positive\"....\r\n   ;;\r\nesac\r\n```\r\n\r\nThe output of sphinx target `singlehtml` is used to create the PDF with weasyprint. \r\nThe fonts are rendered like this:\r\n![bugs?](https://user-images.githubusercontent.com/1083045/144725518-d007ab83-a8e0-4cf9-b128-7f1a5be775e1.png)\r\n\r\nAs you can see, the operators `-` and `+` are overlaid  on the character `i`.\r\nThe script a code block as below rendered the expected output:\r\n\r\n```\r\n.. code:: bash\r\n\r\n   ...\r\n   case ${DELTA_PODS} in\r\n   -+([[:digit:]]))\r\n    echo \"negative\"\r\n      ;;  \r\n      0)\r\n      echo \"no change\"\r\n     ;;\r\n    +([[:digit:]]))\r\n    echo \"positive\"....\r\n   ;;\r\n   esac\r\n ....\r\n```\r\n\r\nThe HTML in both cases is identical. However, upon closer inspection I realized that the included file has tabs, changing it\r\nto spaces, solved the problem.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1515/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1514", "id": 1071225244, "node_id": "I_kwDOACFB9M4_2Zmc", "number": 1514, "title": "test_tab_size fail with Pango 1.50", "user": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 2, "created_at": "2021-12-04T14:54:43Z", "updated_at": "2021-12-07T10:19:47Z", "closed_at": "2021-12-07T10:19:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1512", "id": 1067170085, "node_id": "I_kwDOACFB9M4_m7kl", "number": 1512, "title": "issue with UL or OL in rtl direction", "user": {"login": "engragy", "id": 33456164, "node_id": "MDQ6VXNlcjMzNDU2MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/33456164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/engragy", "html_url": "https://github.com/engragy", "followers_url": "https://api.github.com/users/engragy/followers", "following_url": "https://api.github.com/users/engragy/following{/other_user}", "gists_url": "https://api.github.com/users/engragy/gists{/gist_id}", "starred_url": "https://api.github.com/users/engragy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/engragy/subscriptions", "organizations_url": "https://api.github.com/users/engragy/orgs", "repos_url": "https://api.github.com/users/engragy/repos", "events_url": "https://api.github.com/users/engragy/events{/privacy}", "received_events_url": "https://api.github.com/users/engragy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 876622221, "node_id": "MDU6TGFiZWw4NzY2MjIyMjE=", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/good%20first%20issue", "name": "good first issue", "color": "0fc448", "default": true, "description": "Issues that can be quite easily solved by Python developers with a good CSS background"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 2, "created_at": "2021-11-30T12:20:04Z", "updated_at": "2022-04-04T08:40:20Z", "closed_at": "2022-03-24T17:11:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "i can convert an HTML to pdf with this awesome solution (Weasyprint) as easy with direction \"LTR\", yet i notice there is limited support for \"RTL\".\r\nthe style orientation of ul/ol list items is left even though the ul and its li has the dir=\"rtl\".\r\nso is there a way around this limitation or can you tell me which file/part of the python code that may need a fix, may be i can help.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1508", "id": 1064936573, "node_id": "I_kwDOACFB9M4_eaR9", "number": 1508, "title": "Non-printing characters support", "user": {"login": "mrunderline", "id": 23085360, "node_id": "MDQ6VXNlcjIzMDg1MzYw", "avatar_url": "https://avatars.githubusercontent.com/u/23085360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrunderline", "html_url": "https://github.com/mrunderline", "followers_url": "https://api.github.com/users/mrunderline/followers", "following_url": "https://api.github.com/users/mrunderline/following{/other_user}", "gists_url": "https://api.github.com/users/mrunderline/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrunderline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrunderline/subscriptions", "organizations_url": "https://api.github.com/users/mrunderline/orgs", "repos_url": "https://api.github.com/users/mrunderline/repos", "events_url": "https://api.github.com/users/mrunderline/events{/privacy}", "received_events_url": "https://api.github.com/users/mrunderline/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 6, "created_at": "2021-11-27T08:22:52Z", "updated_at": "2021-11-29T07:32:59Z", "closed_at": "2021-11-28T18:50:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "we are using weasyprint(53.0) to generate persian pdf and have problem with [thin-space](https://www.compart.com/en/unicode/U+2009) (or half-space).\r\nhere is some examples:\r\nthis one taken in webview mode:\r\n![Screenshot from 2021-11-27 11-32-18](https://user-images.githubusercontent.com/23085360/143673735-ec410251-3789-4b56-98a6-594aac58d8c4.png)\r\nand this one is after generating a pdf with weasyprint:\r\n![Screenshot from 2021-11-27 11-32-24](https://user-images.githubusercontent.com/23085360/143673732-6b4a74a8-9ee8-4f6a-8332-8e8877bddbf0.png)\r\n\r\nas you can see, the pdf result has some some problem with thin-space. I also try to change my font to solve this problem, but nothing happen. would you please help me to solve this problem?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1491", "id": 1050041048, "node_id": "I_kwDOACFB9M4-llrY", "number": 1491, "title": "target-counter(attr(href), page) renders \u201c0\u201d instead of the actual page number", "user": {"login": "devopsix", "id": 58369032, "node_id": "MDQ6VXNlcjU4MzY5MDMy", "avatar_url": "https://avatars.githubusercontent.com/u/58369032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devopsix", "html_url": "https://github.com/devopsix", "followers_url": "https://api.github.com/users/devopsix/followers", "following_url": "https://api.github.com/users/devopsix/following{/other_user}", "gists_url": "https://api.github.com/users/devopsix/gists{/gist_id}", "starred_url": "https://api.github.com/users/devopsix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devopsix/subscriptions", "organizations_url": "https://api.github.com/users/devopsix/orgs", "repos_url": "https://api.github.com/users/devopsix/repos", "events_url": "https://api.github.com/users/devopsix/events{/privacy}", "received_events_url": "https://api.github.com/users/devopsix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 1, "created_at": "2021-11-10T16:22:54Z", "updated_at": "2021-11-18T17:45:46Z", "closed_at": "2021-11-18T17:44:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "`target-counter(attr(href), page)` seems to render \u201c0\u201d instead of the actual page number if the element into whose `::after` it is rendered has `display: flex;` set.\r\n\r\nGiven this markup and styles:\r\n\r\ntoc.html\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"toc.css\" rel=\"stylesheet\" />\r\n</head>\r\n<body>\r\n    <nav id=\"toc1\">\r\n        <ul><li><div><a href=\"#article-1\">...</a></div></li></ul>\r\n    </nav>\r\n    <nav id=\"toc2\">\r\n        <ul><li><div><a href=\"#article-1\">...</a></div></li></ul>\r\n    </nav>\r\n    <nav id=\"toc3\">\r\n        <ul><li><div><a href=\"#article-1\">...</a></div></li></ul>\r\n    </nav>\r\n    <article>\r\n        <h1 id=\"article-1\">Article 1</h1>\r\n    </article>\r\n</body>\r\n</html>\r\n```\r\n\r\ntoc.css\r\n\r\n```css\r\narticle {\r\n    page-break-before: always;\r\n}\r\n\r\nli a::before {\r\n    content: target-text(attr(href));\r\n}\r\nli a::after {\r\n    content: target-counter(attr(href), page);\r\n}\r\n\r\n#toc2 li a {\r\n    display: flex;\r\n}\r\n\r\n#toc3 li div {\r\n    display: flex;\r\n}\r\n```\r\n\r\nWhen rendering this to PDF with Weasyprint 53.3 (`weasyprint toc.html toc.pdf`) then the output document should contain 3 times the same link text.\r\n\r\nExpected output:\r\n\r\n![expected-output](https://user-images.githubusercontent.com/58369032/141148553-91f98fb5-db2b-40e1-b249-c1c2274b4e9c.png)\r\n\r\nBut for the second link text, \u201c0\u201d is rendered for the target page counter instead of \u201c2\u201d.\r\n\r\nActual output:\r\n\r\n![actual-output](https://user-images.githubusercontent.com/58369032/141150616-cd717d0c-00b6-407b-98f1-a5933ddb2930.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1489", "id": 1047275289, "node_id": "I_kwDOACFB9M4-bCcZ", "number": 1489, "title": "Wrong characters widths when pages are built separately", "user": {"login": "wf-r", "id": 1708866, "node_id": "MDQ6VXNlcjE3MDg4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1708866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wf-r", "html_url": "https://github.com/wf-r", "followers_url": "https://api.github.com/users/wf-r/followers", "following_url": "https://api.github.com/users/wf-r/following{/other_user}", "gists_url": "https://api.github.com/users/wf-r/gists{/gist_id}", "starred_url": "https://api.github.com/users/wf-r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wf-r/subscriptions", "organizations_url": "https://api.github.com/users/wf-r/orgs", "repos_url": "https://api.github.com/users/wf-r/repos", "events_url": "https://api.github.com/users/wf-r/events{/privacy}", "received_events_url": "https://api.github.com/users/wf-r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 2, "created_at": "2021-11-08T10:28:22Z", "updated_at": "2021-11-13T18:17:09Z", "closed_at": "2021-11-13T18:17:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n(this is a separate issue for the comment (https://github.com/Kozea/WeasyPrint/issues/628#issuecomment-960919692) given in #628).\r\n\r\nOn Version 53.3 I get unexpected horizontal whitespaces using the following code, which I cannot reproduce on 52.5:\r\n```\r\nimport jinja2\r\nimport weasyprint\r\n\r\npdf_pages = weasyprint.HTML(\r\n    string=jinja2.Environment(\r\n        loader=jinja2.FileSystemLoader(searchpath='.')\r\n    ).get_template(\r\n        'example.html'\r\n    ).render(\r\n        ueberschrift='Lw, UmP, TrD',\r\n    ),\r\n    base_url='.'\r\n).render().pages\r\npdf_pages.extend(\r\n    weasyprint.HTML(\r\n        string=jinja2.Environment(\r\n            loader=jinja2.FileSystemLoader(searchpath='.')\r\n        ).get_template(\r\n            'example.html'\r\n        ).render(\r\n            ueberschrift='Bw, Offz, GeoInfoD',\r\n        ),\r\n        base_url='.'\r\n    ).render().pages\r\n)\r\n\r\nwith open('out.pdf', 'w+b') as out:\r\n    weasyprint.Document(\r\n        pages=pdf_pages,\r\n        metadata=weasyprint.document.DocumentMetadata(),\r\n        # font_config=weasyprint.text.fonts.FontConfiguration(),  # for 53.3\r\n        font_config=weasyprint.document.FontConfiguration(),  # for 52.5\r\n        url_fetcher=None,\r\n        # optimize_size='none'  # for 53.3\r\n    ).write_pdf(out)\r\n```\r\n\r\nThe two respective documents are attached, on 53.3 I get unexpected horizontal whitespaces, on 52.5 it works fine. However, the behaviour is pretty random: \r\n* if i render only one page in the snippet above, everything is fine\r\n* other strings render fine\r\n\r\n[out-52_5.pdf](https://github.com/Kozea/WeasyPrint/files/7496164/out-52_5.pdf)\r\n[out-53_3.pdf](https://github.com/Kozea/WeasyPrint/files/7496165/out-53_3.pdf)\r\n\r\nSystem:\r\n\r\n* Weasyprint: 53.3 and 52.5\r\n* Python 3.8.6\r\n* Windows 10 64bit Build 18363\r\n* Pango 1.48.4\r\n\r\nIf you would like to investigate and need further information please let me know.\r\n\r\nBest\r\nWolfgang\r\n\r\nTemplate used in snippet:\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n\t<head>\r\n\r\n\t\t<!-- CSS property to place div\r\n\t\t\tside by side -->\r\n\t\t<style>\r\n\t\t\t@page{\r\n\t\t\t\tsize: A4 landscape;\r\n\t\t\t\tmargin: 0px;\r\n\t\t\t\tpadding: 0px;\r\n\t\t\t}\r\n\t\t\thtml {\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t\tbody {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t\th1{\r\n\t\t\t\ttext-align:center; \r\n\t\t\t}\r\n\t\t\t#boxes{\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t}\r\n\t\t\t.box {\r\n\t\t\theight: 100%;\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\tmargin-left: 20px;\r\n\t\t\t\tmargin-right: 20px;\r\n\t\t\t\tbackground: #C0C0C0;\r\n\t\t\t\tpadding-left: 20px;\r\n\t\t\t\tpadding-right: 20px;\r\n\t\t\t\tpadding-bottom: 20px;\r\n\t\t\t\tborder-radius: 30px;\r\n\t\t\t}\r\n\t\t</style>\r\n\t</head>\r\n\r\n\t<body>\r\n\t\t<h1>{{ ueberschrift }}</h1>\r\n\t\t<div id=\"boxes\">\r\n\t\t\t<div class=\"box\">\r\n\t\t\t\tSome random tetx\r\n            \t\t</div>\r\n\t\t\t<div class=\"box\">\r\n\t\t\t\tSome more random text\r\n        \t       </div>\r\n\t\t</div>\r\n\t</body>\r\n</html>\t\t\t\t\t \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1486", "id": 1044600190, "node_id": "I_kwDOACFB9M4-Q1V-", "number": 1486, "title": "Duplicate images when rendering pdf from pages", "user": {"login": "wf-r", "id": 1708866, "node_id": "MDQ6VXNlcjE3MDg4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1708866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wf-r", "html_url": "https://github.com/wf-r", "followers_url": "https://api.github.com/users/wf-r/followers", "following_url": "https://api.github.com/users/wf-r/following{/other_user}", "gists_url": "https://api.github.com/users/wf-r/gists{/gist_id}", "starred_url": "https://api.github.com/users/wf-r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wf-r/subscriptions", "organizations_url": "https://api.github.com/users/wf-r/orgs", "repos_url": "https://api.github.com/users/wf-r/repos", "events_url": "https://api.github.com/users/wf-r/events{/privacy}", "received_events_url": "https://api.github.com/users/wf-r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 3, "created_at": "2021-11-04T10:39:20Z", "updated_at": "2021-11-17T11:16:26Z", "closed_at": "2021-11-05T21:00:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nthe changes from https://github.com/Kozea/WeasyPrint/issues/1414 / https://github.com/Kozea/WeasyPrint/commit/694eddbc711da6144591fe2e6bce439ed70023c9 break the following workflow:\r\n\r\n```\r\npdf_pages = []  # List to collect pdf pages\r\n# Collect different pdf pages from html (e.g., from jinja)\r\nfor i in range(3):\r\n    pdf_pages.extends(\r\n        weasyprint.HTML(string=<some html string containing an image>).render().pages\r\n    )\r\n# Output collected pdf pages\r\nwith open('out.pdf', 'w+b') as out:\r\n    weasyprint.Document(pages=pdf_pages, metadata=weasyprint.document.DocumentMetadata(), font_config=weasyprint.text.fonts.FontConfiguration(), url_fetcher=None, optimize_size='none').write_pdf(out)\r\n```\r\n\r\nAll images on the different pages are a duplicate of the corresponding image from the first rendering, as the `image_name` computed in `Stream.add_image()` only contains the index of the image on this page (and therefore, the first image of all pages obtains the same id).\r\n\r\nVersions:\r\n\r\n* weasyprint: 53.3\r\n* Python: 3.8.6", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1486/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1485", "id": 1043779101, "node_id": "I_kwDOACFB9M4-Ns4d", "number": 1485, "title": "Linear gradients bugged with 53.x", "user": {"login": "ewuerger", "id": 50786483, "node_id": "MDQ6VXNlcjUwNzg2NDgz", "avatar_url": "https://avatars.githubusercontent.com/u/50786483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ewuerger", "html_url": "https://github.com/ewuerger", "followers_url": "https://api.github.com/users/ewuerger/followers", "following_url": "https://api.github.com/users/ewuerger/following{/other_user}", "gists_url": "https://api.github.com/users/ewuerger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ewuerger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ewuerger/subscriptions", "organizations_url": "https://api.github.com/users/ewuerger/orgs", "repos_url": "https://api.github.com/users/ewuerger/repos", "events_url": "https://api.github.com/users/ewuerger/events{/privacy}", "received_events_url": "https://api.github.com/users/ewuerger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 2, "created_at": "2021-11-03T15:59:09Z", "updated_at": "2021-11-04T08:51:31Z", "closed_at": "2021-11-04T08:48:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst of all: Thank you very much for this great library! \r\n\r\nWe are using weasyprint to generate many specification documents in the railway market. Since **version 53** our b64 encoded images are looking very weird. It seems like _linearGradient_ elements are not recognized anymore and coordinates are wrong too. I hope the following images help you to debug it.\r\n\r\n![image](https://user-images.githubusercontent.com/50786483/140095145-f305fc0a-9466-4fc0-8ddf-b497e1d4fec1.png)\r\n![image](https://user-images.githubusercontent.com/50786483/140095165-ad08eef1-ed88-437d-b823-c410db795f92.png)\r\n(size difference is just b/c of my snipping tool precision)\r\n### **test.svg**\r\n```svg\r\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:ev=\"http://www.w3.org/2001/xml-events\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" baseProfile=\"full\" height=\"100\" version=\"1.1\" width=\"100\">\r\n    <defs>\r\n        <style>\r\n            .Example {\r\n                fill: url(\"#.FillGradient\");\r\n                stroke: #4A4A97;\r\n            }\r\n        </style>\r\n        <linearGradient id=\".FillGradient\" x1=\"0%\" x2=\"0%\" y1=\"0%\" y2=\"100%\">\r\n            <stop offset=\"0\" stop-color=\"#EF2929\" />\r\n            <stop offset=\"1\" stop-color=\"#FFFFFF\" />\r\n        </linearGradient>\r\n    </defs>\r\n    <rect class=\"Example\" height=\"100\" width=\"100\" x=\"0\" y=\"0\" />\r\n    <text dominant-baseline=\"middle\" text-anchor=\"start\" x=\"20\" y=\"15\">\r\n        <tspan x=\"15\" xml:space=\"preserve\" y=\"50\">Example</tspan>\r\n    </text>\r\n</svg>\r\n```\r\n### **Showcase script**\r\n```python\r\nimport base64\r\nimport jinja2\r\n\r\nsvg = pathlib.Path(\"test.svg\").read_text()\r\nb64 = base64.standard_b64encode(svg.encode(\"utf-8\"))\r\nb64_svg = \"\".join((\"data:image/svg+xml;base64,\", b64.decode(\"ascii\")))\r\ntemplate = \"\"\"\r\n<!DOCTYPE html>\r\n<html>\r\n<style>\r\narticle {\r\n    page: content;\r\n}\r\n@page content {\r\n    size: A4 portrait;\r\n    margin: 2cm 2cm 2cm 2.5cm;\r\n}\r\nfigure>img {\r\n    max-width: 100%;\r\n    margin-left: auto;\r\n}\r\n</style>\r\n<body>\r\n<article>\r\n<p>weasyprint 53</p>\r\n<figure><img src=\"{{b64_svg}}\"/></figure>\r\n</article>\r\n</body>\r\n</html>\r\n\"\"\"\r\ntemplate = jinja2.Environment().from_string(template).render(b64_svg=b64_svg)\r\nhtml_template = weasyprint.HTML(string=template, base_url=\".\")\r\nhtml_template.write_pdf(target=pathlib.Path(\"test.pdf\"))\r\n```\r\n\r\nFor now we need to stick to weasyprint<=53.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1476", "id": 1031816055, "node_id": "I_kwDOACFB9M49gEN3", "number": 1476, "title": "Don\u2019t discard the whole content of blocks in blocks when their bottom padding/border overflows the page", "user": {"login": "drboone", "id": 178248, "node_id": "MDQ6VXNlcjE3ODI0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/178248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drboone", "html_url": "https://github.com/drboone", "followers_url": "https://api.github.com/users/drboone/followers", "following_url": "https://api.github.com/users/drboone/following{/other_user}", "gists_url": "https://api.github.com/users/drboone/gists{/gist_id}", "starred_url": "https://api.github.com/users/drboone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drboone/subscriptions", "organizations_url": "https://api.github.com/users/drboone/orgs", "repos_url": "https://api.github.com/users/drboone/repos", "events_url": "https://api.github.com/users/drboone/events{/privacy}", "received_events_url": "https://api.github.com/users/drboone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2021-10-20T20:46:59Z", "updated_at": "2022-09-24T04:55:23Z", "closed_at": "2022-09-24T04:55:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "For a sample size of 1, v53.3 seems to not split paragraphs in orphan/widow handling?  I have a two column layout where it moved a 10-line paragraph to the top of the second column, apparently since there was only a 9-line open space at the bottom of the first column.  I don't really want to share the as-yet-unpublished doc here, but could make it available to developers privately.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1473", "id": 1028300218, "node_id": "I_kwDOACFB9M49Sp26", "number": 1473, "title": "Pages cannot be duplicated", "user": {"login": "zelitomas", "id": 3105674, "node_id": "MDQ6VXNlcjMxMDU2NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3105674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zelitomas", "html_url": "https://github.com/zelitomas", "followers_url": "https://api.github.com/users/zelitomas/followers", "following_url": "https://api.github.com/users/zelitomas/following{/other_user}", "gists_url": "https://api.github.com/users/zelitomas/gists{/gist_id}", "starred_url": "https://api.github.com/users/zelitomas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zelitomas/subscriptions", "organizations_url": "https://api.github.com/users/zelitomas/orgs", "repos_url": "https://api.github.com/users/zelitomas/repos", "events_url": "https://api.github.com/users/zelitomas/events{/privacy}", "received_events_url": "https://api.github.com/users/zelitomas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 1, "created_at": "2021-10-17T11:57:40Z", "updated_at": "2021-11-14T19:49:27Z", "closed_at": "2021-11-14T18:43:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that WeasyPrint is failing when I try to include a page more than twice, like so:\r\n\r\n``` python\r\n# Minimal example of the behaviour\r\nfrom weasyprint import HTML\r\n\r\ndocument = HTML(filename=\"./index.html\").render()\r\nduplicated_pages = document.copy([*document.pages, *document.pages])\r\nduplicated_pages.write_pdf(\"result.pdf\")\r\n```\r\nThe document can be found here: https://gist.github.com/zelitomas/50aa47d4966e1b743588a284e12cf599 \r\n\r\n## Actual Result\r\n![Sn\u00edmek z 2021-10-17 13-56-45](https://user-images.githubusercontent.com/3105674/137626263-1008bc10-f3f2-408f-9411-686d1eb4aba7.png)\r\n\r\n[result.pdf](https://github.com/Kozea/WeasyPrint/files/7359818/result.pdf)\r\n\r\n## Expected result\r\n![Sn\u00edmek z 2021-10-17 13-56-54](https://user-images.githubusercontent.com/3105674/137626273-ebecf9ea-cd3f-49e9-944b-631af0907331.png)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1471", "id": 1026040702, "node_id": "I_kwDOACFB9M49KCN-", "number": 1471, "title": "input type=\"hidden\" takes up space in PDF", "user": {"login": "Christoph-Wagner", "id": 1609329, "node_id": "MDQ6VXNlcjE2MDkzMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1609329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Christoph-Wagner", "html_url": "https://github.com/Christoph-Wagner", "followers_url": "https://api.github.com/users/Christoph-Wagner/followers", "following_url": "https://api.github.com/users/Christoph-Wagner/following{/other_user}", "gists_url": "https://api.github.com/users/Christoph-Wagner/gists{/gist_id}", "starred_url": "https://api.github.com/users/Christoph-Wagner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Christoph-Wagner/subscriptions", "organizations_url": "https://api.github.com/users/Christoph-Wagner/orgs", "repos_url": "https://api.github.com/users/Christoph-Wagner/repos", "events_url": "https://api.github.com/users/Christoph-Wagner/events{/privacy}", "received_events_url": "https://api.github.com/users/Christoph-Wagner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 1, "created_at": "2021-10-14T07:08:29Z", "updated_at": "2021-10-14T14:24:38Z", "closed_at": "2021-10-14T14:23:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgraded from Weasyprint 51 to the current 53.3 and there was suddenly a new page at the beginning of the document:\r\n\r\n![image](https://user-images.githubusercontent.com/1609329/137264257-e80b4d37-a9b5-45f8-8061-fbf2f186390d.png)\r\n\r\nAfter some testing, I narrowed it down to `<input type=\"hidden\">`-fields.\r\n\r\n2 Examples:\r\n\r\nCorrect (1 page) [test-correct.pdf](https://github.com/Kozea/WeasyPrint/files/7343755/test-correct.pdf):\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>Title</title>\r\n    <style>\r\n      @page {\r\n        size: A5 portrait;\r\n      }\r\n      #intro {\r\n        page: Intro;\r\n        height: 210mm;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div id=\"intro\">\r\n      <h1>Headline</h1>\r\n    </div>\r\n  </body>\r\n</html>\r\n```\r\n\r\nWrong (2 pages) [test-wrong.pdf](https://github.com/Kozea/WeasyPrint/files/7343756/test-wrong.pdf):\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>Title</title>\r\n    <style>\r\n      @page {\r\n        size: A5 portrait;\r\n      }\r\n      #intro {\r\n        page: Intro;\r\n        height: 210mm;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <input type=\"hidden\" />\r\n    <div id=\"intro\">\r\n      <h1>Headline</h1>\r\n    </div>\r\n  </body>\r\n</html>\r\n```\r\n\r\nThis is not important for me as I can luckily remove those fields, the only reason they are even there is that we use ancient and deprecated asp.net webforms technology. But I thought I should at least report it ;)\r\n\r\nThe correct behavior would be for `input type=\"hidden\"` to be completely ignored. \r\n\r\nIn case it matters, this is on Windows.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1469", "id": 1024057856, "node_id": "I_kwDOACFB9M49CeIA", "number": 1469, "title": "Weasyprint seems to turn ligatures off when text is justified.", "user": {"login": "baldurbjarnason", "id": 1508412, "node_id": "MDQ6VXNlcjE1MDg0MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1508412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baldurbjarnason", "html_url": "https://github.com/baldurbjarnason", "followers_url": "https://api.github.com/users/baldurbjarnason/followers", "following_url": "https://api.github.com/users/baldurbjarnason/following{/other_user}", "gists_url": "https://api.github.com/users/baldurbjarnason/gists{/gist_id}", "starred_url": "https://api.github.com/users/baldurbjarnason/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baldurbjarnason/subscriptions", "organizations_url": "https://api.github.com/users/baldurbjarnason/orgs", "repos_url": "https://api.github.com/users/baldurbjarnason/repos", "events_url": "https://api.github.com/users/baldurbjarnason/events{/privacy}", "received_events_url": "https://api.github.com/users/baldurbjarnason/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 4, "created_at": "2021-10-12T17:16:06Z", "updated_at": "2021-10-14T11:44:53Z", "closed_at": "2021-10-13T20:16:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "So, I've been testing weasyprint for creating PDFs from blog posts and noticed that the font ligatures disappeared when text is justified, then reappear when ragged right.\r\n\r\nOutput of `weasyprint --info`:\r\n\r\n```\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #1 SMP Wed Feb 19 06:37:35 UTC 2020\r\nRelease: 4.19.104-microsoft-standard\r\n\r\nWeasyPrint version: 53.0\r\nPython version: 3.8.10\r\nPydyf version: 0.0.3\r\nPango version: 14407\r\n```\r\n\r\nI tried reinstalling weasyprint and supporting libraries from scratch as well as tried installing the latest version. I'm using Ubuntu 20 on WSL. That _shouldn't_ be affecting the results but I'm mentioning it in case it does.\r\n\r\nI've tried web fonts and built-in fonts, same result. Sometimes spans, ems or marks in paragraph text do get ligatures, but only if the text in them is short, AFAICT.\r\n\r\nI've put together a simple test page using a selection of open source fonts to show the issue:\r\n\r\nhttps://www.baldurbjarnason.com/weasytest/weasyprint-test.html\r\n\r\nThe output PDF using my install of weasyprint:\r\n\r\nhttps://www.baldurbjarnason.com/weasytest/weasyprint-test.pdf\r\n\r\nI've also zipped up the test site and attached to this issue.\r\n[weasytest.zip](https://github.com/Kozea/WeasyPrint/files/7331934/weasytest.zip)\r\n\r\nVery curious to find out what is going on \ud83d\ude04 Maybe it's an issue with my version of Pango?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1468", "id": 1021535154, "node_id": "I_kwDOACFB9M4842Oy", "number": 1468, "title": "bookmark may contain extraneous characters", "user": {"login": "interlocuteur", "id": 8977517, "node_id": "MDQ6VXNlcjg5Nzc1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8977517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/interlocuteur", "html_url": "https://github.com/interlocuteur", "followers_url": "https://api.github.com/users/interlocuteur/followers", "following_url": "https://api.github.com/users/interlocuteur/following{/other_user}", "gists_url": "https://api.github.com/users/interlocuteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/interlocuteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/interlocuteur/subscriptions", "organizations_url": "https://api.github.com/users/interlocuteur/orgs", "repos_url": "https://api.github.com/users/interlocuteur/repos", "events_url": "https://api.github.com/users/interlocuteur/events{/privacy}", "received_events_url": "https://api.github.com/users/interlocuteur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-08T23:33:16Z", "updated_at": "2021-10-12T22:06:09Z", "closed_at": "2021-10-12T22:06:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bookmarks displayed in the bookmarks panel may contain extraneous spaces or \\n.\r\nProblem is easy to demonstrate if you convert the following snippet of HTML:\r\n\r\n`<h2><a href=\"example.org/index.html\">This is    -`\r\n`-     a problematic example.</a></h2>\"`     \r\n\r\nReplace the 2 dashes with spaces (this editor delete extra spaces)\r\nConvert this HTML file to PDF with weasyprint.\r\nDisplay the bookmark list in your PDF viewer.\r\n\r\nThe bookmark contains extraneous spaces. It also contain an extraneous \\n but your PDF viewer do not show it explicitely. However, you can see the \\n using the API.\r\nThe problem happen when the anchor text is split on two lines in the HTML file. ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1455", "id": 1009894705, "node_id": "I_kwDOACFB9M48McUx", "number": 1455, "title": "css image behavior changed from v52.5 to v53", "user": {"login": "peironem", "id": 54980751, "node_id": "MDQ6VXNlcjU0OTgwNzUx", "avatar_url": "https://avatars.githubusercontent.com/u/54980751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peironem", "html_url": "https://github.com/peironem", "followers_url": "https://api.github.com/users/peironem/followers", "following_url": "https://api.github.com/users/peironem/following{/other_user}", "gists_url": "https://api.github.com/users/peironem/gists{/gist_id}", "starred_url": "https://api.github.com/users/peironem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peironem/subscriptions", "organizations_url": "https://api.github.com/users/peironem/orgs", "repos_url": "https://api.github.com/users/peironem/repos", "events_url": "https://api.github.com/users/peironem/events{/privacy}", "received_events_url": "https://api.github.com/users/peironem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 1, "created_at": "2021-09-28T15:22:32Z", "updated_at": "2021-10-02T15:39:46Z", "closed_at": "2021-10-02T15:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\ni'm getting an issue while rendering some svgs in html divs.\r\n\r\nhere's the code:\r\n```html\r\n  <!-- BARECODE -->\r\n  <div class=\"abs cella h-15 w-58 t-42 l-40\">\r\n      <div class=\"abs w-100 h-70 t-0 over-none\">\r\n        {% with '/media/barcodes/'|add:serial as path %}\r\n            <img src=\"{% absolutize path %}\" class=\"abs w-100\">\r\n        {% endwith %}\r\n      </div>\r\n      <p class=\"abs w-100 all-c t-65\">{{text}}</p>\r\n  </div>\r\n```\r\n\r\ncss classes are easy understending:\r\n**abs** stands position: absolute\r\n**w-100** stands for width: 100%\r\n**h-70** stands for height: 70%\r\n**over-none** stands for overflow:hidden\r\nexc...\r\n\r\nas you can see the img tag has to take the whole 100% width of the div but is not doing it.\r\nhere is the code of the svg file:\r\n```svg\r\n  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n  <!DOCTYPE svg\r\n    PUBLIC '-//W3C//DTD SVG 1.1//EN'\r\n    'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'>\r\n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29.000mm\" height=\"23.000mm\">\r\n      <!--Autogenerated with python-barcode 0.13.1-->\r\n      <g id=\"barcode_group\">\r\n          <rect width=\"100%\" height=\"100%\" style=\"fill:white\"/>\r\n          <rect x=\"2.540mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"2.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"3.140mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"3.340mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"3.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"3.940mm\" y=\"1.000mm\" width=\"0.800mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"4.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"4.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"5.340mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"5.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"6.140mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"6.540mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"6.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"7.340mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"7.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"7.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"8.340mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"8.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"9.140mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"9.540mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"9.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"10.140mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"10.540mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"11.140mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"11.340mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"11.540mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"11.740mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"12.340mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"12.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"13.340mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"13.540mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"13.740mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"14.140mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"14.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"14.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"15.340mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"15.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"15.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"16.140mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"16.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"16.940mm\" y=\"1.000mm\" width=\"0.800mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"17.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"17.940mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"18.140mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"18.340mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"18.540mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"18.940mm\" y=\"1.000mm\" width=\"0.800mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"19.740mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"20.140mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"20.540mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"20.740mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"21.140mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"21.740mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"22.140mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"22.340mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"22.740mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"23.340mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"23.740mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"23.940mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"24.340mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"24.540mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"24.940mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"25.540mm\" y=\"1.000mm\" width=\"0.600mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"26.140mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"26.340mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n          <rect x=\"26.540mm\" y=\"1.000mm\" width=\"0.200mm\" height=\"15.000mm\" style=\"fill:white;\"/>\r\n          <rect x=\"26.740mm\" y=\"1.000mm\" width=\"0.400mm\" height=\"15.000mm\" style=\"fill:black;\"/>\r\n      </g>\r\n  </svg>\r\n```\r\n\r\nHow it looks like on 53\r\n![immagine](https://user-images.githubusercontent.com/54980751/135114307-625c74b1-7c27-4a98-8a7f-fb125d0c2f89.png)\r\n\r\nHow it was looking like on 52.5\r\n![immagine](https://user-images.githubusercontent.com/54980751/135114234-d55540d0-81ee-40cf-ae5c-b6b080e7fb2a.png)\r\n\r\n\r\nI'm getting this either on win10x64 with the lastest GTK installed and a brand new container debian11.\r\nI was trying to dig a bit on this but i'm not able to get where is the point here.\r\nI would appriciate some help.\r\n\r\nThanks in advance,\r\nMatteo.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1454", "id": 1009799078, "node_id": "I_kwDOACFB9M48ME-m", "number": 1454, "title": "Fonts with variable weight don\u2019t work", "user": {"login": "grewn0uille", "id": 13187416, "node_id": "MDQ6VXNlcjEzMTg3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13187416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grewn0uille", "html_url": "https://github.com/grewn0uille", "followers_url": "https://api.github.com/users/grewn0uille/followers", "following_url": "https://api.github.com/users/grewn0uille/following{/other_user}", "gists_url": "https://api.github.com/users/grewn0uille/gists{/gist_id}", "starred_url": "https://api.github.com/users/grewn0uille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grewn0uille/subscriptions", "organizations_url": "https://api.github.com/users/grewn0uille/orgs", "repos_url": "https://api.github.com/users/grewn0uille/repos", "events_url": "https://api.github.com/users/grewn0uille/events{/privacy}", "received_events_url": "https://api.github.com/users/grewn0uille/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 13, "created_at": "2021-09-28T14:03:25Z", "updated_at": "2022-09-26T10:09:18Z", "closed_at": "2022-09-22T13:51:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1452", "id": 1007211442, "node_id": "I_kwDOACFB9M48CNOy", "number": 1452, "title": "Floats add a lot of empty space", "user": {"login": "shinokada", "id": 147320, "node_id": "MDQ6VXNlcjE0NzMyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/147320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shinokada", "html_url": "https://github.com/shinokada", "followers_url": "https://api.github.com/users/shinokada/followers", "following_url": "https://api.github.com/users/shinokada/following{/other_user}", "gists_url": "https://api.github.com/users/shinokada/gists{/gist_id}", "starred_url": "https://api.github.com/users/shinokada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shinokada/subscriptions", "organizations_url": "https://api.github.com/users/shinokada/orgs", "repos_url": "https://api.github.com/users/shinokada/repos", "events_url": "https://api.github.com/users/shinokada/events{/privacy}", "received_events_url": "https://api.github.com/users/shinokada/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-09-25T22:30:02Z", "updated_at": "2021-09-27T12:31:10Z", "closed_at": "2021-09-27T12:31:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Versions:\r\n\r\n```\r\n$ weasyprint --info\r\nSystem: Darwin\r\nMachine: arm64\r\nVersion: Darwin Kernel Version 20.6.0: Mon Aug 30 06:12:20 PDT 2021; root:xnu-7195.141.6~3/RELEASE_ARM64_T8101\r\nRelease: 20.6.0\r\n\r\nWeasyPrint version: 53.3\r\nPython version: 3.8.10\r\nPydyf version: 0.1.1\r\nPango version: 14810\r\n```\r\n\r\nWhen I run `weasyprint http://weasyprint.org ./test1.pdf`, I get the following warning. Since they are warning, I can ignore them. \r\n\r\nBut the PDF file is a mess. [test1.pdf](https://github.com/Kozea/WeasyPrint/files/7230436/test1.pdf)\r\n\r\n```\r\n$ weasyprint http://weasyprint.org ./test1.pdf\r\nFontconfig warning: ignoring UTF-8: not a valid region tag\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 80:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 83:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 87:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 90:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 94:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 97:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 101:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 104:1.\r\nWARNING: Ignored `width: 100vw` at 130:3, invalid value.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 143:1.\r\nWARNING: Ignored `overflow-x: hidden` at 168:3, unknown property.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 200:1.\r\nWARNING: Ignored `width: -moz-min-content` at 217:3, invalid value.\r\nWARNING: Ignored `width: -webkit-min-content` at 218:3, invalid value.\r\nWARNING: Ignored `width: min-content` at 219:3, invalid value.\r\nWARNING: Ignored `min-height: 60vh` at 243:3, invalid value.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 263:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 331:1.\r\nWARNING: Ignored `max-width: calc(100% + 45px * 2 + 2px)` at 380:3, invalid value.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 455:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 479:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 484:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 519:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 524:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 578:1.\r\nWARNING: Ignored `box-shadow: 0 5px 5px 0 rgba(111, 122, 137, 0.3)` at 620:3, unknown property.\r\nWARNING: Ignored `box-shadow: 0 0 0 0 #e2e4e8` at 624:3, unknown property.\r\nWARNING: Ignored `background-position-x: 0` at 635:3, unknown property.\r\nWARNING: Ignored `box-shadow: 0 5px 5px 0 rgba(111, 122, 137, 0.1)` at 654:3, unknown property.\r\nWARNING: Ignored `background-position-x: 0` at 680:3, unknown property.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 685:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 691:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 738:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 749:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 581px)'\r\nWARNING: Invalid media type ' screen and (min-width: 581px) ' the whole @media rule was ignored at 761:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 580px)'\r\nWARNING: Invalid media type ' screen and (max-width: 580px) ' the whole @media rule was ignored at 773:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 831px)'\r\nWARNING: Invalid media type ' screen and (min-width: 831px) ' the whole @media rule was ignored at 884:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(max-width: 830px)'\r\nWARNING: Invalid media type ' screen and (max-width: 830px) ' the whole @media rule was ignored at 903:1.\r\nWARNING: Expected a media type, got 'screen/**/and/**/(min-width: 831px)'\r\nWARNING: Invalid media type ' screen and (min-width: 831px) ' the whole @media rule was ignored at 1029:1.\r\n```\r\n\r\nHow can I fix the problems?\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1446", "id": 999429348, "node_id": "I_kwDOACFB9M47khTk", "number": 1446, "title": "Background Color on Pages with a Bleed Property do not fill the whole page", "user": {"login": "azettl", "id": 644570, "node_id": "MDQ6VXNlcjY0NDU3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/644570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azettl", "html_url": "https://github.com/azettl", "followers_url": "https://api.github.com/users/azettl/followers", "following_url": "https://api.github.com/users/azettl/following{/other_user}", "gists_url": "https://api.github.com/users/azettl/gists{/gist_id}", "starred_url": "https://api.github.com/users/azettl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azettl/subscriptions", "organizations_url": "https://api.github.com/users/azettl/orgs", "repos_url": "https://api.github.com/users/azettl/repos", "events_url": "https://api.github.com/users/azettl/events{/privacy}", "received_events_url": "https://api.github.com/users/azettl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/31", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/31/labels", "id": 7164505, "node_id": "MI_kwDOACFB9M4AbVJZ", "number": 31, "title": "53.4", "description": "* Bug fixes", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-09-18T16:37:57Z", "updated_at": "2021-11-14T09:24:29Z", "due_on": null, "closed_at": "2021-11-14T09:24:29Z"}, "comments": 1, "created_at": "2021-09-17T14:38:42Z", "updated_at": "2021-09-18T16:40:21Z", "closed_at": "2021-09-18T16:37:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you use the CSS bleed property in combination with a background color, the color is not filling the whole page, see:\r\n\r\n![image](https://user-images.githubusercontent.com/644570/133801001-29a06091-a788-449f-969d-dae3ff1891d4.png)\r\n\r\nThe sample code is the following:\r\n\r\nHTML:\r\n```html\r\n<div class=\"break\"></div>\r\n<span class=\"head\">\r\n    <b>Max Mustermann</b>\r\n    <br />\r\n    a fancy and long title\r\n</span>\r\n<br />\r\nmax.mustermann@example.com\r\n<br />\r\nMobile +49 123 4567 8901\r\n<br />\r\nwww.example.com\r\n<br />\r\n<span class=\"foot\">\r\n    Example Company\r\n    <br />\r\n    Busystreet 5 &middot; 00001 Gotham\r\n</span>\r\n```\r\n\r\nCSS:\r\n```css\r\n@page{\r\n    size:3.5in 2in;\r\n    marks:crop;\r\n    bleed:0.125in;\r\n    margin:0.25in;\r\n} \r\n\r\n@page:first{\r\n    background:rgb(188, 11, 6);\r\n    background-image:url(https://www.html2pdf.guru/assets/img/html2pdf.guru.png);\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    margin:0;\r\n}\r\n\r\nbody{\r\n    font-size:10pt;\r\n}\r\n\r\nb{\r\n    color:rgb(188, 11, 6);\r\n    font-size:1.5rem;\r\n}\r\n\r\n.head{\r\n    display:inline-block;\r\n    margin-bottom: .5rem;\r\n}\r\n\r\n.foot{\r\n    display:inline-block;\r\n    margin-top: .75rem;\r\n    border-left:.25rem solid rgb(188, 11, 6);\r\n    padding-left:.5rem;\r\n}\r\n\r\n.break{\r\n    page-break-after: always;\r\n    break-after: always;\r\n}\r\n```\r\n\r\nYou can see the issue here https://printcss.live/JX7axvrdyv", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1443", "id": 992949818, "node_id": "MDU6SXNzdWU5OTI5NDk4MTg=", "number": 1443, "title": "SVG prefix crashing the rendering", "user": {"login": "SvenBecker", "id": 17731706, "node_id": "MDQ6VXNlcjE3NzMxNzA2", "avatar_url": "https://avatars.githubusercontent.com/u/17731706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SvenBecker", "html_url": "https://github.com/SvenBecker", "followers_url": "https://api.github.com/users/SvenBecker/followers", "following_url": "https://api.github.com/users/SvenBecker/following{/other_user}", "gists_url": "https://api.github.com/users/SvenBecker/gists{/gist_id}", "starred_url": "https://api.github.com/users/SvenBecker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SvenBecker/subscriptions", "organizations_url": "https://api.github.com/users/SvenBecker/orgs", "repos_url": "https://api.github.com/users/SvenBecker/repos", "events_url": "https://api.github.com/users/SvenBecker/events{/privacy}", "received_events_url": "https://api.github.com/users/SvenBecker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 1, "created_at": "2021-09-10T07:04:46Z", "updated_at": "2021-09-12T15:42:39Z", "closed_at": "2021-09-12T15:42:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get an error (`prefix must not be bound to one of the reserved namespace names`) when trying to render an inline svg.\r\n\r\n```python\r\nimport io\r\n\r\nimport numpy as np\r\nimport weasyprint\r\nfrom matplotlib.figure import Figure\r\n\r\nnp.random.seed(7)\r\ndata = np.random.randint(0, 1_000, size=(10, 2))\r\n\r\nfig = Figure()\r\nax = fig.add_subplot()\r\nax.plot(data)\r\n\r\nbuffer = io.StringIO()\r\nfig.savefig(buffer, format='svg')\r\nimg = f\"<svg {buffer.getvalue().split('<svg ')[1]}\"\r\nhtml_str = f\"\"\"\r\n<html>\r\n  <head></head>\r\n  <body>\r\n    {img}\r\n  </body>\r\n</html>\r\n\"\"\"\r\nweasyprint.HTML(string=html_str).write_pdf('example.pdf')\r\n```\r\n```txt\r\n...\r\nWARNING:weasyprint:Ignored `fill:none` at 1:1, unknown property.\r\nWARNING:weasyprint:Ignored `stroke:#000000` at 1:11, unknown property.\r\nWARNING:weasyprint:Ignored `stroke-linecap:square` at 1:26, unknown property.\r\nERROR:weasyprint:Failed to load inline SVG: prefix must not be bound to one of the reserved namespace names: line 1, column \r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1436", "id": 984544004, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzOTY0NTQw", "number": 1436, "title": "Fix marker-start being drawn on mid vertices", "user": {"login": "rianmcguire", "id": 1201065, "node_id": "MDQ6VXNlcjEyMDEwNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1201065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rianmcguire", "html_url": "https://github.com/rianmcguire", "followers_url": "https://api.github.com/users/rianmcguire/followers", "following_url": "https://api.github.com/users/rianmcguire/following{/other_user}", "gists_url": "https://api.github.com/users/rianmcguire/gists{/gist_id}", "starred_url": "https://api.github.com/users/rianmcguire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rianmcguire/subscriptions", "organizations_url": "https://api.github.com/users/rianmcguire/orgs", "repos_url": "https://api.github.com/users/rianmcguire/repos", "events_url": "https://api.github.com/users/rianmcguire/events{/privacy}", "received_events_url": "https://api.github.com/users/rianmcguire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/30", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30/labels", "id": 7097247, "node_id": "MI_kwDOACFB9M4AbEuf", "number": 30, "title": "53.3", "description": "Bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2021-08-27T14:46:05Z", "updated_at": "2021-09-11T13:00:17Z", "due_on": null, "closed_at": "2021-09-11T13:00:17Z"}, "comments": 1, "created_at": "2021-09-01T02:49:12Z", "updated_at": "2021-09-01T08:10:12Z", "closed_at": "2021-09-01T08:05:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1436", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1436", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1436.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1436.patch", "merged_at": "2021-09-01T08:05:54Z"}, "body": "Expected behaviour (Firefox 91):\r\n![image](https://user-images.githubusercontent.com/1201065/131603326-ef674f05-d791-429c-baed-2f96f580b376.png)\r\n\r\nWeasyPrint 53.2:\r\n![image](https://user-images.githubusercontent.com/1201065/131603310-c3aff200-86d2-4e83-b1dd-0b61b7a64212.png)\r\n\r\nWeasyPrint with fix:\r\n![image](https://user-images.githubusercontent.com/1201065/131603453-7bf0fd17-4fd2-45f0-8bb2-4091d78f0e0a.png)\r\n\r\nExample:\r\n```html\r\n<svg viewBox=\"0 0 200 400\" width=\"200\">\r\n  <g>\r\n    <defs>\r\n      <marker\r\n        id=\"arrow\"\r\n        viewBox=\"0 0 10 10\"\r\n        refX=\"0\"\r\n        refY=\"5\"\r\n        markerWidth=\"4\"\r\n        markerHeight=\"4\"\r\n        orient=\"auto\"\r\n        fill=\"red\"\r\n        stroke=\"none\"\r\n      >\r\n        <path d=\"M 0 0 L 10 5 L 0 10 z\"></path>\r\n      </marker>\r\n    </defs>\r\n    <path\r\n      d=\"M 10 100 l 50, 10 l 50 0 l 50 -20\"\r\n      fill=\"none\"\r\n      stroke=\"black\"\r\n      stroke-width=\"2\"\r\n      marker-start=\"url(#arrow)\"\r\n    />\r\n    <path\r\n      d=\"M 10 200 l 50, 10 l 50 0 l 50 -20\"\r\n      fill=\"none\"\r\n      stroke=\"black\"\r\n      stroke-width=\"2\"\r\n      marker-end=\"url(#arrow)\"\r\n    />\r\n    <path\r\n      d=\"M 10 300 l 50, 10 l 50 0 l 50 -20\"\r\n      fill=\"none\"\r\n      stroke=\"black\"\r\n      stroke-width=\"2\"\r\n      marker-mid=\"url(#arrow)\"\r\n    />\r\n  </g>\r\n</svg>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1436/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1431", "id": 981269350, "node_id": "MDU6SXNzdWU5ODEyNjkzNTA=", "number": 1431, "title": "Malformed (?) PDF when an image is included in the HTML", "user": {"login": "robsco-git", "id": 3826617, "node_id": "MDQ6VXNlcjM4MjY2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3826617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robsco-git", "html_url": "https://github.com/robsco-git", "followers_url": "https://api.github.com/users/robsco-git/followers", "following_url": "https://api.github.com/users/robsco-git/following{/other_user}", "gists_url": "https://api.github.com/users/robsco-git/gists{/gist_id}", "starred_url": "https://api.github.com/users/robsco-git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robsco-git/subscriptions", "organizations_url": "https://api.github.com/users/robsco-git/orgs", "repos_url": "https://api.github.com/users/robsco-git/repos", "events_url": "https://api.github.com/users/robsco-git/events{/privacy}", "received_events_url": "https://api.github.com/users/robsco-git/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/30", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30/labels", "id": 7097247, "node_id": "MI_kwDOACFB9M4AbEuf", "number": 30, "title": "53.3", "description": "Bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2021-08-27T14:46:05Z", "updated_at": "2021-09-11T13:00:17Z", "due_on": null, "closed_at": "2021-09-11T13:00:17Z"}, "comments": 3, "created_at": "2021-08-27T13:47:52Z", "updated_at": "2021-08-27T14:47:31Z", "closed_at": "2021-08-27T14:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a PDF with the following code:\r\n\r\n```python\r\nfrom weasyprint import HTML\r\n\r\nsun_img_url = \"https://weasyprint.org/css/img/sun.png\"\r\n\r\nhtml = f\"\"\"\r\n<!doctype html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Example</title>\r\n        <meta name=\"description\" content=\"Example\">\r\n    </head>\r\n    <body>\r\n        <img src=\"{sun_img_url}\" alt=\"\" />\r\n    </body>\r\n</html>\"\"\"\r\n\r\nif __name__ == \"__main__\":\r\n    HTML(string=html).write_pdf('./test.pdf')\r\n```\r\n\r\nHere is the resultant [test.pdf](https://github.com/Kozea/WeasyPrint/files/7067308/test.pdf).\r\n\r\n1) Attempting to open `test.pdf` in Adobe Acrobat Reader DC (Version 2021.005.20060) results in this error message:\r\n> There was an error processing a page. There was a problem reading this document (135).\r\n\r\n2) Attempting to validate `test.pdf` with `QPDF` results in:\r\n\r\n```\r\n$ qpdf --check test.pdf\r\nchecking test.pdf\r\nPDF Version: 1.7\r\nFile is not encrypted\r\nFile is not linearized\r\nWARNING: test.pdf (object 13 0, offset 4232): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4243): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4249): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4254): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4267): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4274): unknown token while reading object; treating as string\r\nWARNING: test.pdf (object 13 0, offset 4274): too many errors; giving up on reading object\r\nWARNING: test.pdf (object 13 0, offset 4282): expected endobj\r\n```\r\n\r\n3) Using an online validator (https://www.pdf-online.com/osa/validate.aspx) results in:\r\n```\r\nCompliance | pdf1.7\r\nResult | Document does not conform to PDF/A.\r\nDetails | Validating file \"test.pdf\" for conformance level pdf1.7\r\nThe \"Length\" key of the stream object is wrong.\r\nThe \"endobj\" keyword is missing.\r\nThe value of the key SMask must not be of type dictionary.\r\nThe image's sample stream's computed length 43200 is different to the actual length 14400.\r\nThe document does not conform to the requested standard.\r\nThe file format (header, trailer, objects, xref, streams) is corrupted.\r\nThe document doesn't conform to the PDF reference (missing required entries, wrong value types, etc.).\r\nThe document does not conform to the PDF 1.7 standard.\r\nDone.\r\n```\r\n\r\n4) Google Chrome (Version 92.0.4515.159 (Official Build) (64-bit)) opens the PDF and displays the image as expected.\r\n\r\n5) When opening and saving the image with `pikepdf` (https://github.com/pikepdf/pikepdf) the image is not present in the newly saved version (this is the point I worked backwards from). My understanding is that `pikepdf` is using `QPDF` under the hood so it makes sense (to me) that there is an issue with the `QPDF` `--check` feature and `pikepdf`.\r\n\r\nSoftware/library versions:\r\n```\r\n$ python --version\r\nPython 3.9.5\r\n```\r\n\r\n```\r\n$ pip freeze\r\nBrotli==1.0.9\r\ncffi==1.14.6\r\ncssselect2==0.4.1\r\nfonttools==4.26.2\r\nhtml5lib==1.1\r\nlxml==4.6.3\r\nPillow==8.3.1\r\npycparser==2.20\r\npydyf==0.1.1\r\npyphen==0.11.0\r\nsix==1.16.0\r\ntinycss2==1.1.0\r\nweasyprint==53.1\r\nwebencodings==0.5.1\r\nzopfli==0.1.8\r\n```\r\n\r\n```\r\n$ qpdf --version\r\nqpdf version 9.1.1\r\nRun qpdf --copyright to see copyright and license information.\r\n```\r\n\r\n```\r\n$ pango-view --version\r\npango-view (pango) 1.44.7\r\n```\r\n\r\n```\r\n$ weasyprint --info\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #1 SMP Wed Feb 19 06:37:35 UTC 2020\r\nRelease: 4.19.104-microsoft-standard\r\n\r\nWeasyPrint version: 53.1\r\nPython version: 3.9.5\r\nPydyf version: 0.1.1\r\nPango version: 14407\r\n```\r\n\r\nAll of the above is on Windows 10 running Python in `wsl2` (Ubuntu 20.04). I have reproduced 1 and 5 above in a Docker container running a `ubuntu:21.04` image albeit with different html markup (but still images involved).\r\n\r\nPlease let me know if any additional information/testing would help in this regard.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1430", "id": 981260885, "node_id": "MDU6SXNzdWU5ODEyNjA4ODU=", "number": 1430, "title": "Svg image displayed incorrectly", "user": {"login": "vicmion", "id": 10047472, "node_id": "MDQ6VXNlcjEwMDQ3NDcy", "avatar_url": "https://avatars.githubusercontent.com/u/10047472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vicmion", "html_url": "https://github.com/vicmion", "followers_url": "https://api.github.com/users/vicmion/followers", "following_url": "https://api.github.com/users/vicmion/following{/other_user}", "gists_url": "https://api.github.com/users/vicmion/gists{/gist_id}", "starred_url": "https://api.github.com/users/vicmion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vicmion/subscriptions", "organizations_url": "https://api.github.com/users/vicmion/orgs", "repos_url": "https://api.github.com/users/vicmion/repos", "events_url": "https://api.github.com/users/vicmion/events{/privacy}", "received_events_url": "https://api.github.com/users/vicmion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/30", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/30/labels", "id": 7097247, "node_id": "MI_kwDOACFB9M4AbEuf", "number": 30, "title": "53.3", "description": "Bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2021-08-27T14:46:05Z", "updated_at": "2021-09-11T13:00:17Z", "due_on": null, "closed_at": "2021-09-11T13:00:17Z"}, "comments": 4, "created_at": "2021-08-27T13:38:20Z", "updated_at": "2021-08-28T03:46:05Z", "closed_at": "2021-08-27T20:01:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Updating weasyprint from release 52.5 to 53.1 I have noticed that an image that was rendered flawlessly before now breaks.\r\nI have uploaded the two pdf and a .zip folder containing the `index.html` and `main.py` to easily reproduce the problem.\r\n\r\n[mypdf_52_5.pdf](https://github.com/Kozea/WeasyPrint/files/7067167/mypdf_52_5.pdf)\r\n[mypdf_53_1.pdf](https://github.com/Kozea/WeasyPrint/files/7067172/mypdf_53_1.pdf)\r\n\r\n[report-error.zip](https://github.com/Kozea/WeasyPrint/files/7067217/report-error.zip)\r\n\r\nThanks in advance.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1408", "id": 956551229, "node_id": "MDU6SXNzdWU5NTY1NTEyMjk=", "number": 1408, "title": "SVG: New regression related to transformations", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 2, "created_at": "2021-07-30T08:59:26Z", "updated_at": "2021-07-30T21:38:24Z", "closed_at": "2021-07-30T15:26:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is just a heads-up for now, a more detailed report (in this issue) will follow when I have the time.\r\n\r\nThe recent changes in commit 8d7bcead0ac4a2ecf104185b275ed9f25d31091d introduced some major regression(s) for me and various SVG elements end up misplaced now.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1403", "id": 951531914, "node_id": "MDU6SXNzdWU5NTE1MzE5MTQ=", "number": 1403, "title": "SVG rendered completely wrong in 53.0b2", "user": {"login": "zopyx", "id": 594239, "node_id": "MDQ6VXNlcjU5NDIzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/594239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zopyx", "html_url": "https://github.com/zopyx", "followers_url": "https://api.github.com/users/zopyx/followers", "following_url": "https://api.github.com/users/zopyx/following{/other_user}", "gists_url": "https://api.github.com/users/zopyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zopyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zopyx/subscriptions", "organizations_url": "https://api.github.com/users/zopyx/orgs", "repos_url": "https://api.github.com/users/zopyx/repos", "events_url": "https://api.github.com/users/zopyx/events{/privacy}", "received_events_url": "https://api.github.com/users/zopyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 1, "created_at": "2021-07-23T12:21:16Z", "updated_at": "2021-07-23T20:25:02Z", "closed_at": "2021-07-23T20:25:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "The HTML + SVG from \r\n\r\nhttps://www.dropbox.com/sh/asmhy3zwsv5ul5w/AACB-47TDaukvBGBp57Q6Bera?dl=0\r\n\r\nis rendered completely wrong:\r\n\r\n<img width=\"994\" alt=\"Bildschirmfoto 2021-07-23 um 14 16 12\" src=\"https://user-images.githubusercontent.com/594239/126780409-118991f7-21e3-4bb5-a4dd-a203f5ce166b.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1403/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1400", "id": 948617715, "node_id": "MDU6SXNzdWU5NDg2MTc3MTU=", "number": 1400, "title": "print-css.rocks renderings with latest beta", "user": {"login": "zopyx", "id": 594239, "node_id": "MDQ6VXNlcjU5NDIzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/594239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zopyx", "html_url": "https://github.com/zopyx", "followers_url": "https://api.github.com/users/zopyx/followers", "following_url": "https://api.github.com/users/zopyx/following{/other_user}", "gists_url": "https://api.github.com/users/zopyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zopyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zopyx/subscriptions", "organizations_url": "https://api.github.com/users/zopyx/orgs", "repos_url": "https://api.github.com/users/zopyx/repos", "events_url": "https://api.github.com/users/zopyx/events{/privacy}", "received_events_url": "https://api.github.com/users/zopyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-20T12:45:23Z", "updated_at": "2021-07-28T16:17:22Z", "closed_at": "2021-07-28T16:17:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI am currently preparing a new print-css.rocks release. A few renderings appear weird with WP 53.0b2\r\n\r\nhttps://beta.print-css.rocks/lesson/lesson-fonts-emoji\r\n\r\nhttps://beta.print-css.rocks/lesson/lesson-images\r\n\r\nhttps://beta.print-css.rocks/lesson/lesson-pdf-links\r\n\r\nhttps://beta.print-css.rocks/lesson/lesson-cross-references\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1393", "id": 941547402, "node_id": "MDU6SXNzdWU5NDE1NDc0MDI=", "number": 1393, "title": "SVG: Incorrect fonts", "user": {"login": "takesson", "id": 8809736, "node_id": "MDQ6VXNlcjg4MDk3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/8809736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takesson", "html_url": "https://github.com/takesson", "followers_url": "https://api.github.com/users/takesson/followers", "following_url": "https://api.github.com/users/takesson/following{/other_user}", "gists_url": "https://api.github.com/users/takesson/gists{/gist_id}", "starred_url": "https://api.github.com/users/takesson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takesson/subscriptions", "organizations_url": "https://api.github.com/users/takesson/orgs", "repos_url": "https://api.github.com/users/takesson/repos", "events_url": "https://api.github.com/users/takesson/events{/privacy}", "received_events_url": "https://api.github.com/users/takesson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 11, "created_at": "2021-07-11T22:54:10Z", "updated_at": "2021-07-30T08:07:48Z", "closed_at": "2021-07-29T18:51:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "The font selection within SVG seems inconsistent.\r\n\r\nIn the following sample I believe:\r\n - HTML text correctly uses Arial\r\n - SVG line 1: seems like Arial\r\n - SVG remaining lines are not using the expected fonts.\r\n\r\n```\r\nSystem: Darwin\r\nMachine: x86_64\r\nVersion: Darwin Kernel Version 19.6.0: Thu May  6 00:48:39 PDT 2021; root:xnu-6153.141.33~1/RELEASE_X86_64\r\nRelease: 19.6.0\r\n\r\nWeasyPrint version: 53.0b2\r\nPython version: 3.9.5\r\nPydyf version: 0.0.3\r\nPango version: 14805\r\n``` ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1371", "id": 908298190, "node_id": "MDU6SXNzdWU5MDgyOTgxOTA=", "number": 1371, "title": "SVG: Support for fill-opacity and stroke-opacity", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 1, "created_at": "2021-06-01T13:32:13Z", "updated_at": "2021-06-03T07:37:03Z", "closed_at": "2021-06-02T18:37:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The old cairo-based weasyprint supported `fill-opacity` and `stroke-opacity`.  \r\nThe new cairo-less version only seems to support `opacity` so far.\r\n\r\nDo you have plans to bring this functionality back?\r\nI have tons of automatically generated SVGs that use those attributes.\r\n\r\n<details>\r\n<summary>Simple example:</summary>\r\n\r\n`rect.svg`:\r\n\r\n```xml\r\n<svg width=\"100\" height=\"100\">\r\n  <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\"\r\n    style=\"fill:red;fill-opacity:0.3;stroke-width:10;stroke:black;stroke-opacity:0.2\"/>\r\n</svg>\r\n```\r\n\r\nand `test.html`\r\n\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"rect.svg\" style=\"width:100%;\">\r\n</body>\r\n</html>\r\n```\r\n</details>", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1370", "id": 908091945, "node_id": "MDU6SXNzdWU5MDgwOTE5NDU=", "number": 1370, "title": "SVG: Wrong fill colors for some \"use\"d paths", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 2, "created_at": "2021-06-01T09:23:03Z", "updated_at": "2021-06-01T20:32:32Z", "closed_at": "2021-06-01T20:31:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I encountered this when confirming the fix for #1369. The result/effect is largely the same as seen in #1365, but I have no idea if the underlying problem is related.\r\n\r\nI'll skip the comparison between current and previous versions of weasyprint here, as the problem is quite obvious: The white letters in the heading should be black. And I can confirm that the SVG renders correctly in v52.5.\r\n\r\n![image](https://user-images.githubusercontent.com/6407709/120299387-3ea3bd80-c2cb-11eb-89d1-7780d8422d30.png)\r\n\r\nTo reproduce use\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/issue-1370.svg\" style=\"width: 100%;\">\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1369", "id": 907390808, "node_id": "MDU6SXNzdWU5MDczOTA4MDg=", "number": 1369, "title": "SVG: Some \"use\"d paths are not rendered", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 2, "created_at": "2021-05-31T11:38:23Z", "updated_at": "2021-06-01T09:28:03Z", "closed_at": "2021-05-31T20:37:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some SVG paths simply aren't rendered in the latest beta (this is not a 53.0b2 regression, though. This has been present in all non-cairo versions).\r\n\r\nI haven't been able to figure out why/how, but I have been able to reduce it to a reasonably short reproducible example (the file was originally created using matplotlib but then simplified and edited in Inkscape).\r\n\r\n| `v53.0b2` | `v52.5` |\r\n| --- | --- |\r\n| ![53b2](https://user-images.githubusercontent.com/6407709/120187381-ffb33080-c214-11eb-86da-bdf4d5b8e7db.png) | ![52](https://user-images.githubusercontent.com/6407709/120187339-f4f89b80-c214-11eb-9d4c-524fe1d919e9.png) |\r\n\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/missing-paths.svg\" style=\"width: 100%;\">\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1367", "id": 903953276, "node_id": "MDU6SXNzdWU5MDM5NTMyNzY=", "number": 1367, "title": "SVG: Opacity < 1 affects path (stroke) shape", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 1, "created_at": "2021-05-27T16:12:59Z", "updated_at": "2021-05-30T07:51:56Z", "closed_at": "2021-05-30T07:51:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Another minor SVG issue. I have been able to reduce it to below example.\r\n\r\nThe two paths in the SVG are identical, except their fill color and their opacity values (1.0 for the green one and 0.999 for the red one).\r\n\r\n| `master` (incorrect) | v52 (correct) |\r\n| --- | --- |\r\n| ![v53](https://user-images.githubusercontent.com/6407709/119860736-ef4e3d80-bf16-11eb-994d-bf1d85b44a1f.png) | ![v52](https://user-images.githubusercontent.com/6407709/119860765-f4ab8800-bf16-11eb-95fb-c7ec1099e4f4.png) |\r\n\r\nTo reproduce:\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/path-opacity.svg\" style=\"width: 100%;\">\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1366", "id": 903611019, "node_id": "MDU6SXNzdWU5MDM2MTEwMTk=", "number": 1366, "title": "SVG: Capstyles and joinstyles not applied (correctly)", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 1, "created_at": "2021-05-27T11:52:05Z", "updated_at": "2021-05-27T14:37:36Z", "closed_at": "2021-05-27T14:37:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using some matplotlib examples (for [capstyles]( https://matplotlib.org/stable/gallery/lines_bars_and_markers/capstyle.html) and [joinstyles](https://matplotlib.org/stable/gallery/lines_bars_and_markers/joinstyle.html)) it becomes obvious that SVG path capstyles and joinstyles are not rendered properly by non-cairo WeasyPrint.\r\n\r\n| `master` (capstyles \ud83d\udfe5 , joinstyles \ud83d\udfe7) | v52 (capstyles \u2705 , joinstyles \ud83d\udfe8 ) | Chrome 90 (reference) |\r\n| --- | --- | --- |\r\n| ![v53](https://user-images.githubusercontent.com/6407709/119820895-4392f680-bef2-11eb-8c5a-3126866260fd.png) | ![v52](https://user-images.githubusercontent.com/6407709/119820905-47267d80-bef2-11eb-8321-8eb914db11b8.png) | ![chrome](https://user-images.githubusercontent.com/6407709/119820961-51e11280-bef2-11eb-841c-55a8f039fdb7.png) |\r\n\r\nTo reproduce:\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/matplotlib-capstyles.svg\" style=\"width: 100%;\">\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/matplotlib-joinstyles.svg\" style=\"width: 100%;\">\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1365", "id": 903451584, "node_id": "MDU6SXNzdWU5MDM0NTE1ODQ=", "number": 1365, "title": "SVG: Wrong fill colors for some paths", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 3, "created_at": "2021-05-27T09:16:55Z", "updated_at": "2021-05-27T13:33:46Z", "closed_at": "2021-05-27T10:05:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See images below.\r\n\r\nI have not been able to investigate further myself, so far.\r\n\r\n| `master` (incorrect) | v52 (correct) |\r\n| --- | --- |\r\n| ![v53](https://user-images.githubusercontent.com/6407709/119799823-bc875380-bedc-11eb-9042-58e05c1ddd6f.png) | ![v52](https://user-images.githubusercontent.com/6407709/119799844-c14c0780-bedc-11eb-9afe-7e02572dd68a.png) |\r\n\r\nTo reproduce:\r\n```html\r\n<html>\r\n<body>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/matplotlib-bars-with-labels.svg\" style=\"width: 100%;\">\r\n</body>\r\n</html>\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1358", "id": 895018817, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ3Mjk0NTQx", "number": 1358, "title": "Sort anchors across pages", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 1, "created_at": "2021-05-19T05:52:56Z", "updated_at": "2021-05-30T16:54:03Z", "closed_at": "2021-05-30T16:53:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1358", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1358", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1358.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1358.patch", "merged_at": "2021-05-30T16:53:17Z"}, "body": "Previously we had sorted anchors within one page, but if anchors happened to be out of order in subsequent pages, they wouldn't be written in order, which caused lingering issues in some PDF viewers.\r\n\r\nRelated to #1352 and the change in d4561b13af89e89acb66586b1e2da66dfaba1fac.\r\n\r\nI'm not a huge fan of using lists to store different types of data indexed by position, but this was a quick way to do it that gets handled well by `sorted`. I won't be offended if you want to rewrite it using dicts or something else that might be more Pythonic. :slightly_smiling_face:", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1358/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1357", "id": 893983029, "node_id": "MDU6SXNzdWU4OTM5ODMwMjk=", "number": 1357, "title": "`font_info` not updated in Document's `write_pdf` font descriptor loop", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 2, "created_at": "2021-05-18T05:51:01Z", "updated_at": "2021-05-18T19:50:46Z", "closed_at": "2021-05-18T19:17:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When embedding fonts, `write_pdf` uses a variable for `font_type` to determine whether to describe the font as `FontFile3` (with OpenType subtype) or `FontFile2`, and which CIDFontType to give. It's used on several lines, but a representative sample is: https://github.com/Kozea/WeasyPrint/blob/fd2901c570098c9806278743c6a84f82545498b8/weasyprint/document.py#L1259\r\n\r\nHowever, this variable is only set in the loop _before_ these fonts are output: https://github.com/Kozea/WeasyPrint/blob/fd2901c570098c9806278743c6a84f82545498b8/weasyprint/document.py#L1230\r\n\r\nAs a result, if both TTF and OTF fonts are included in a document, at least one of them will be output with the wrong type. Some PDF viewers (at a quick test: PDF.js, PDFium, and Poppler) seem to not mind this discrepancy, but macOS' Preview.app appears to substitute a slightly-deterministic built-in font.\r\n\r\nI had first noticed this on a PDF file with a rendering issue in Preview.app. A minimized sample HTML document is as follows, and requires the [Inter](https://rsms.me/inter/) font and Ubuntu Mono font (the former installed from the GitHub release, the latter from the `fonts-ubuntu` Ubuntu package). There is a tab character before the final \"a\":\r\n\r\n~~~html\r\n<style>\r\n  html {\r\n    font-family: Inter;\r\n  }\r\n  code {\r\n    font-family: Ubuntu Mono;\r\n    white-space: pre-wrap;\r\n  }\r\n</style>\r\n<code>Example</code>\r\ntext\r\n<code>\ta</code>\r\n~~~\r\n\r\nThat produces [this PDF](https://github.com/Kozea/WeasyPrint/files/6498711/1357.pdf).\r\n\r\nIn PDFium, this renders as expected:\r\n\r\n![1357-pdfium](https://user-images.githubusercontent.com/29508/118597046-c89f4280-b771-11eb-9eb0-e0f9991f7209.png)\r\n\r\nHowever, in Preview.app, it appears to use a built-in PDF font (Helvetica?):\r\n\r\n![1357-previewapp](https://user-images.githubusercontent.com/29508/118597110-da80e580-b771-11eb-9810-d3747f53d9e5.png)\r\n\r\nA couple curiosities: using a different body font (such as Noto Sans) can make the problem disappear (which tracks with the same file type in both fonts fixing the problem), and removing the `white-space: pre-wrap` line (or the tab before the `a`) appears to make Preview.app render the code blocks in Courier Bold(?).\r\n\r\nMy current build process makes it a pain to actually modify WeasyPrint to test changes, but I'm hopeful that fixing this will resolve the issue, since it seems to be the root of the only nontrivial differences I can find between the PDF files when swapping fonts.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1357/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1354", "id": 890730229, "node_id": "MDU6SXNzdWU4OTA3MzAyMjk=", "number": 1354, "title": "Bad digits with emoji fonts", "user": {"login": "mhosken", "id": 5687149, "node_id": "MDQ6VXNlcjU2ODcxNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5687149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhosken", "html_url": "https://github.com/mhosken", "followers_url": "https://api.github.com/users/mhosken/followers", "following_url": "https://api.github.com/users/mhosken/following{/other_user}", "gists_url": "https://api.github.com/users/mhosken/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhosken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhosken/subscriptions", "organizations_url": "https://api.github.com/users/mhosken/orgs", "repos_url": "https://api.github.com/users/mhosken/repos", "events_url": "https://api.github.com/users/mhosken/events{/privacy}", "received_events_url": "https://api.github.com/users/mhosken/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-13T05:45:28Z", "updated_at": "2021-08-17T18:47:38Z", "closed_at": "2021-08-17T18:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "This sample:\r\n\r\n```\r\n<html><header/><body>\r\n<p style=\"font-family: sans\">U+0031, U+0E41</p>\r\n<p style=\"font-family: sans, &quot;Noto Color Emoji&quot;\">U+0031, U+0E41</p>\r\n</body></html>\r\n```\r\nRenders the first line correctly, but messes up the second line badly, with evince complaining `some font thing failed`.\r\n\r\nI suspect a problem with Pango, but I can't see where. Digits are keycap characters, but only keycap characters with zwj between or with a VS16 are supposed to be considered emoji characters.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1352", "id": 884969932, "node_id": "MDU6SXNzdWU4ODQ5Njk5MzI=", "number": 1352, "title": "Out-of-order internal link target IDs break in some viewers", "user": {"login": "aschmitz", "id": 29508, "node_id": "MDQ6VXNlcjI5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/29508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aschmitz", "html_url": "https://github.com/aschmitz", "followers_url": "https://api.github.com/users/aschmitz/followers", "following_url": "https://api.github.com/users/aschmitz/following{/other_user}", "gists_url": "https://api.github.com/users/aschmitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aschmitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aschmitz/subscriptions", "organizations_url": "https://api.github.com/users/aschmitz/orgs", "repos_url": "https://api.github.com/users/aschmitz/repos", "events_url": "https://api.github.com/users/aschmitz/events{/privacy}", "received_events_url": "https://api.github.com/users/aschmitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 1, "created_at": "2021-05-10T19:47:12Z", "updated_at": "2021-05-12T16:25:56Z", "closed_at": "2021-05-12T16:25:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A document with internal links generally works fine, but if the link target IDs aren't in lexicographic(? ASCIIbetical?) order, some PDF viewers (notably at least Chrome's PDFium and macOS' Preview.app) will not treat the links as if they exist.\r\n\r\nFor example, rendering the following HTML fragment (no CSS necessary) with the current `master` branch will produce [this PDF](https://github.com/Kozea/WeasyPrint/files/6454580/1352.pdf), for which the first link works in all tested PDF viewers (PDF.js, PDFium, Poppler, Preview.app), but the second link fails to work in PDFium and Preview.app:\r\n\r\n~~~html\r\n<p>Use <a href=\"#zzz\">link one</a> or <a href=\"#aaa\">link two</a>.</p>\r\n<div id=\"zzz\"><h1>One</h1></div>\r\n<div id=\"aaa\"><h1>Two</h1></div>\r\n<div style=\"break-before: always;\">Second page for scrolling.</div>\r\n~~~\r\n\r\nHowever, swapping the `zzz` and `aaa` IDs (while leaving everything else as-is) appears to make both links work correctly.\r\n\r\nI did a bit of digging into this, and it looks like the \"Name Trees\" part of the PDF reference (3.8.4) says the keys in name trees must be ordered, but it's not clear what the correct ordering there is. (They are currently in the order the targets appear in the document: perhaps some software is treating that \"tree\" as ordered by some key sort order and assuming the link targets don't exist?)\r\n\r\nHopefully the fix is simply just sorting the name tree, but you'll likely know that better than I do. (If I get some spare time, I may also attempt a fix, but again I suspect you'll be faster with it. :slightly_smiling_face:)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1346", "id": 870825373, "node_id": "MDExOlB1bGxSZXF1ZXN0NjI1OTUyMTU4", "number": 1346, "title": "SVG: Allow stroke-dasharray:none", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 1, "created_at": "2021-04-29T09:46:38Z", "updated_at": "2021-06-02T10:21:03Z", "closed_at": "2021-04-29T15:45:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/1346", "html_url": "https://github.com/Kozea/WeasyPrint/pull/1346", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/1346.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/1346.patch", "merged_at": "2021-04-29T15:45:26Z"}, "body": "Fixes a crash when a SVG contains `style=\"stroke-dasharray:none\"`.\r\nAlso see SVG spec on this: https://www.w3.org/TR/SVG11/painting.html#StrokeDasharrayProperty\r\n\r\nNot sure this is the most elegant way of fixing it, but I guess you get the idea \ud83d\ude04 ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1346/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1345", "id": 870076029, "node_id": "MDU6SXNzdWU4NzAwNzYwMjk=", "number": 1345, "title": "SVG text issues (pydyf version)", "user": {"login": "pbregener", "id": 6407709, "node_id": "MDQ6VXNlcjY0MDc3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6407709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbregener", "html_url": "https://github.com/pbregener", "followers_url": "https://api.github.com/users/pbregener/followers", "following_url": "https://api.github.com/users/pbregener/following{/other_user}", "gists_url": "https://api.github.com/users/pbregener/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbregener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbregener/subscriptions", "organizations_url": "https://api.github.com/users/pbregener/orgs", "repos_url": "https://api.github.com/users/pbregener/repos", "events_url": "https://api.github.com/users/pbregener/events{/privacy}", "received_events_url": "https://api.github.com/users/pbregener/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/25", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/25/labels", "id": 6698534, "node_id": "MDk6TWlsZXN0b25lNjY5ODUzNA==", "number": 25, "title": "53.0b2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2021-04-26T09:31:43Z", "updated_at": "2021-05-31T20:37:56Z", "due_on": null, "closed_at": "2021-05-31T20:37:56Z"}, "comments": 2, "created_at": "2021-04-28T15:27:31Z", "updated_at": "2021-04-29T08:47:23Z", "closed_at": "2021-04-28T19:57:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Congrats on some nice work on the cairo-less WeasyPrint! Very impressive!\r\n\r\nI use WeasyPrint a lot to generate PDF reports that contain tons of plots generated using matplotlib. The plots get written as SVG files and end up as nice-looking vector graphics in the PDF. The fact that the new pydyf-based WeasyPrint opens the door to inline-SVGs is pretty exciting, as it makes it even easier to include SVGs that are generated on the fly in Python. So I'm really looking forward to WeasyPrint's bright future! \ud83d\udc4d \r\n\r\nTesting the beta (and `master`) I came across some issues, though. The biggest and most obvious problem can be seen below. It is based on a [matplotlib example](https://matplotlib.org/stable/gallery/text_labels_and_annotations/annotation_demo.html), but can be reproduced with pretty much any matplotlib-generated SVG.\r\n\r\n| WeasyPrint v52.5 \u2705  | WeasyPrint `master` (as of 27 Apr, 71c49b58d10177be4c24d8e5f4977f17122b6650) \ud83d\udd34  |\r\n| ---- | ---- |\r\n| ![wp-tmp-cairo-1](https://user-images.githubusercontent.com/6407709/116428960-b3578800-a845-11eb-8a2b-fe920884565b.png) | ![wp-tmp-1](https://user-images.githubusercontent.com/6407709/116428884-a044b800-a845-11eb-8650-1b99cebd772a.png) |\r\n\r\nTo reproduce, run WeasyPrint on this HTML (I placed a matplotlib-generated SVG on GitHub):\r\n```html\r\n<html>\r\n<body>\r\n<h1>Heading 1</h1>\r\n<img src=\"https://raw.githubusercontent.com/pbregener/weasyprint-data/main/matplotlib-annotation-demo.svg\" style=\"width: 100%;\">\r\n<p>\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque aliquam\r\ncongue quam, in tincidunt tellus posuere in. Integer finibus ultricies enim eu\r\nconsequat. In dui sapien, ornare tincidunt sollicitudin sed, sagittis vitae\r\ntortor. Integer vitae iaculis eros, pulvinar accumsan purus. In sit amet purus\r\nsemper, elementum felis mollis, porttitor est. Cras eu ex tellus. Proin rutrum,\r\nsem ac elementum auctor, enim sem volutpat sem, quis tincidunt ante nisi in leo.\r\nMauris bibendum dui nec convallis porttitor. Nullam non quam a elit sagittis\r\nultrices a vel metus. Donec ullamcorper malesuada odio, non tempor ipsum ornare\r\nvitae. Mauris consectetur dolor at ligula fermentum, sit amet feugiat orci\r\nlobortis. Fusce quis malesuada purus. Interdum et malesuada fames ac ante ipsum\r\nprimis in faucibus. Donec ullamcorper a mi eu ornare.\r\n</p>\r\n<p>\r\nNunc posuere, turpis nec varius dictum, risus urna condimentum felis, non\r\npulvinar est ex ut nulla. Aenean viverra, lectus eget dapibus posuere, justo\r\nrisus lacinia dui, et euismod arcu turpis ut augue. Cras nisi diam, ultricies\r\nvel hendrerit tempor, fermentum a lectus. Aliquam erat volutpat. Proin ornare\r\nlacus sit amet malesuada feugiat. Etiam nec felis ac lectus dapibus aliquam. In\r\nfeugiat lobortis suscipit. Donec at facilisis est, eu finibus sem. Suspendisse\r\nmassa augue, pulvinar vitae iaculis a, feugiat vel libero. Quisque quis nunc\r\nligula. In hac habitasse platea dictumst. Donec sit amet tortor in tortor\r\nmalesuada venenatis eget sit amet ex. Phasellus vestibulum eros ut nibh molestie\r\nviverra. Morbi id volutpat risus, et condimentum tellus. Pellentesque tempus\r\nefficitur velit a consectetur.\r\n</p>\r\n</body>\r\n</html>\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1338", "id": 859950399, "node_id": "MDU6SXNzdWU4NTk5NTAzOTk=", "number": 1338, "title": "Emojis are rasterized", "user": {"login": "zellermario", "id": 15839043, "node_id": "MDQ6VXNlcjE1ODM5MDQz", "avatar_url": "https://avatars.githubusercontent.com/u/15839043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zellermario", "html_url": "https://github.com/zellermario", "followers_url": "https://api.github.com/users/zellermario/followers", "following_url": "https://api.github.com/users/zellermario/following{/other_user}", "gists_url": "https://api.github.com/users/zellermario/gists{/gist_id}", "starred_url": "https://api.github.com/users/zellermario/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zellermario/subscriptions", "organizations_url": "https://api.github.com/users/zellermario/orgs", "repos_url": "https://api.github.com/users/zellermario/repos", "events_url": "https://api.github.com/users/zellermario/events{/privacy}", "received_events_url": "https://api.github.com/users/zellermario/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-16T16:00:41Z", "updated_at": "2021-07-28T16:11:27Z", "closed_at": "2021-07-28T16:11:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nWhen I generate PDF from HTML files that contain emojis, emojis are embedded as raster images in the output.\r\nE.g. when I use an HTML file with the below text as input,\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n</head>\r\n<body>\r\n    <h1>Emojis are rasterized. \ud83d\ude1e</h1>\r\n</body>\r\n</html>\r\n```\r\nI get the following PDF as output: [out.pdf](https://github.com/Kozea/WeasyPrint/files/6326347/out.pdf).\r\n\r\nBefore installing an emoji font, the emojis were, of course, not displayed in the output. But after installing Noto Color Emoji, they are displayed as shown in the example.\r\n\r\nMy output for `weasyprint -i` is the following:\r\n```\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #1 SMP Debian 4.19.171-2 (2021-01-30)\r\nRelease: 4.19.0-14-cloud-amd64\r\n\r\nWeasyPrint version: 52.4\r\nPython version: 3.7.3\r\nCairo version: 11600\r\nPango version: 14203\r\nCairoSVG version: 2.5.2\r\n```\r\n\r\nAny ideas why this happens?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1318", "id": 838173636, "node_id": "MDU6SXNzdWU4MzgxNzM2MzY=", "number": 1318, "title": "Fonts not embedded in PDF", "user": {"login": "slartibart70", "id": 10506408, "node_id": "MDQ6VXNlcjEwNTA2NDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10506408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slartibart70", "html_url": "https://github.com/slartibart70", "followers_url": "https://api.github.com/users/slartibart70/followers", "following_url": "https://api.github.com/users/slartibart70/following{/other_user}", "gists_url": "https://api.github.com/users/slartibart70/gists{/gist_id}", "starred_url": "https://api.github.com/users/slartibart70/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slartibart70/subscriptions", "organizations_url": "https://api.github.com/users/slartibart70/orgs", "repos_url": "https://api.github.com/users/slartibart70/repos", "events_url": "https://api.github.com/users/slartibart70/events{/privacy}", "received_events_url": "https://api.github.com/users/slartibart70/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/24", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/24", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/24/labels", "id": 6660309, "node_id": "MDk6TWlsZXN0b25lNjY2MDMwOQ==", "number": 24, "title": "52.5", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2021-04-14T12:38:21Z", "updated_at": "2021-04-17T15:28:51Z", "due_on": null, "closed_at": "2021-04-17T15:28:51Z"}, "comments": 14, "created_at": "2021-03-22T23:06:56Z", "updated_at": "2021-04-14T12:39:45Z", "closed_at": "2021-03-23T12:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\ni was using weasyprint 52.2 with python 3.8 on fedora32.\r\nAfter upgrading to fedora33, my fonts are not embedded into the resulting pdf any more.\r\nfedora33 uses python 3.9, i also upgraded to weasyprint 52.4... no change to the result.\r\n\r\nWhat i did so far:\r\n1) using weasyprint standalone (this is my main usage)\r\n```\r\nweasyprint in.html out.pdf\r\n```\r\nA pdf is generated, embedded fonts missing \r\n\r\n2) using weasyprint as python script\r\n```\r\nfrom weasyprint import HTML, CSS\r\nfrom weasyprint.fonts import FontConfiguration\r\nfont_config = FontConfiguration()\r\nhtml=HTML('in.md.html')\r\nhtml.write_pdf('out.pdf',font_config=font_config)\r\n```\r\nsame result, no fonts in pdf\r\n\r\nMy Html uses an external css with @font-face \r\ne.g.\r\n```\r\n@font-face {\r\n  font-family: mySerif;\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-stretch: normal;\r\n  src: local('Liberation Serif'),\r\n       url(file:///usr/share/fonts/liberation-serif/LiberationSerif-Regular.ttf) format('truetype');\r\n}\r\n```\r\n\r\nThe browser has no problems rendering my embedded fonts, neither did weasyprint on fedora32/py3.8 (if that matters at all...)\r\nSo, my old working pdf output had these fonts (successfully embedded)\r\n```\r\nname                                 type              encoding         emb sub uni object ID\r\n------------------------------------ ----------------- ---------------- --- --- --- ---------\r\nAOAFFM+LiberationSerif               TrueType          WinAnsi          yes yes yes     36  0\r\nVZUWYF+LiberationSerif               CID TrueType      Identity-H       yes yes yes     37  0\r\nDIVSUD+RobotoMono-Regular            TrueType          WinAnsi          yes yes yes     84  0\r\nJPSGLH+CairoFont-2-0                 Type 1C           WinAnsi          yes yes yes     85  0\r\nHNYAUK+RobotoMono-Bold               TrueType          WinAnsi          yes yes yes    112  0\r\nIQFZUN+RobotoMono-Regular            TrueType          WinAnsi          yes yes yes    113  0\r\n```\r\n\r\nThe new one has only these default fonts:\r\n```\r\nname                                 type              encoding         emb sub uni object ID\r\n------------------------------------ ----------------- ---------------- --- --- --- ---------\r\nANQKNJ+BitstreamVeraSans-Roman       TrueType          WinAnsi          yes yes yes     37  0\r\nJBCTMJ+DejaVuSans                    CID TrueType      Identity-H       yes yes yes     38  0\r\nXMKNHA+BitstreamVeraSans-Roman       CID TrueType      Identity-H       yes yes yes     83  0\r\nYNMLOL+BitstreamVeraSans-Bold        TrueType          WinAnsi          yes yes yes     84  0\r\nEZEEOY+BitstreamVeraSans-Oblique     TrueType          WinAnsi          yes yes yes    122  0\r\n```\r\n\r\nI had a (one!) font embedded into my pdf when using\r\n```\r\nweasyprint -v ${filename}.md.html ${filename}.md.pdf -s <(echo 'body { font-family: 'Liberation Serif' !important }')\r\n```\r\nwith this font list:\r\n```\r\nname                                 type              encoding         emb sub uni object ID\r\n------------------------------------ ----------------- ---------------- --- --- --- ---------\r\nMNDGRP+LiberationSerif               TrueType          WinAnsi          yes yes yes     37  0\r\nRLFUEA+LiberationSerif               CID TrueType      Identity-H       yes yes yes     38  0\r\nAFSQCL+BitstreamVeraSans-Roman       TrueType          WinAnsi          yes yes yes     39  0\r\nWKPJBS+LiberationSerif-Bold          TrueType          WinAnsi          yes yes yes     87  0\r\nYTXGBQ+BitstreamVeraSans-Bold        TrueType          WinAnsi          yes yes yes    114  0\r\nEZEEOY+BitstreamVeraSans-Oblique     TrueType          WinAnsi          yes yes yes    115  0\r\n```\r\n\r\nOverriding with user styelsheets and `!important` cannot be the solution...\r\nI'm running out of ideas for now, any help?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1317", "id": 838072304, "node_id": "MDU6SXNzdWU4MzgwNzIzMDQ=", "number": 1317, "title": "Issue with page break when nonzero margin on columns", "user": {"login": "ayum", "id": 6747040, "node_id": "MDQ6VXNlcjY3NDcwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6747040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayum", "html_url": "https://github.com/ayum", "followers_url": "https://api.github.com/users/ayum/followers", "following_url": "https://api.github.com/users/ayum/following{/other_user}", "gists_url": "https://api.github.com/users/ayum/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayum/subscriptions", "organizations_url": "https://api.github.com/users/ayum/orgs", "repos_url": "https://api.github.com/users/ayum/repos", "events_url": "https://api.github.com/users/ayum/events{/privacy}", "received_events_url": "https://api.github.com/users/ayum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-22T20:13:26Z", "updated_at": "2022-09-16T22:47:34Z", "closed_at": "2022-09-16T22:47:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Non-intuitive and (i believe wrong) layout generated with:\r\n```sh\r\nroot@ubuntu-hirsute:~/Workspace/ayum.bumf/build/sandpit# weasyprint --version\r\nWeasyPrint version 52.4\r\n```\r\n\r\n<details><summary>html file (note commented style)</summary>\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <title>Lorem ipsum</title>\r\n    <style>\r\n        @charset \"UTF-8\";\r\n\r\n        @page {\r\n            size: 210mm 297mm;\r\n            margin: 25mm 25mm 25mm 25mm;\r\n        }\r\n\r\n        /* header {\r\n            margin-bottom: 2rem;\r\n        } */\r\n\r\n        main {\r\n            column-count: 2;\r\n            margin-top: 2rem;\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>\r\n    <header>\r\n        <section>\r\n            <p>Patres conscripti took a boat, and went to Philippi;\r\n                Boatum est upsettum, magno cum grandine venti.\r\n                Omnes drownderunt qui swim away non potuerunt.\r\n                Trumpeter unus erat, qui coatum scarlet habebat;\r\n                Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        </section>\r\n    </header>\r\n    <main>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n        <p>Patres conscripti took a boat, and went to Philippi;\r\n            Boatum est upsettum, magno cum grandine venti.\r\n            Omnes drownderunt qui swim away non potuerunt.\r\n            Trumpeter unus erat, qui coatum scarlet habebat;\r\n            Et magnum periwig, tied about with the tail of a dead pig.</p>\r\n    </main>\r\n\r\n</body>\r\n\r\n</html>\r\n```\r\n\r\n</details>\r\n\r\nFirst rendered page:\r\n![example](https://user-images.githubusercontent.com/6747040/112052100-c5b61600-8b63-11eb-8637-197289c40dce.png)\r\n\r\nAll in main tag rendered on second page. On first page reside only header, but there is plenty of space on first page. If you comment margin-top on main and uncomment margin-bottom on header you get correct layout.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1313", "id": 831687741, "node_id": "MDU6SXNzdWU4MzE2ODc3NDE=", "number": 1313, "title": "Leader links extend beyond the leader length", "user": {"login": "summersz", "id": 7293216, "node_id": "MDQ6VXNlcjcyOTMyMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7293216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/summersz", "html_url": "https://github.com/summersz", "followers_url": "https://api.github.com/users/summersz/followers", "following_url": "https://api.github.com/users/summersz/following{/other_user}", "gists_url": "https://api.github.com/users/summersz/gists{/gist_id}", "starred_url": "https://api.github.com/users/summersz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/summersz/subscriptions", "organizations_url": "https://api.github.com/users/summersz/orgs", "repos_url": "https://api.github.com/users/summersz/repos", "events_url": "https://api.github.com/users/summersz/events{/privacy}", "received_events_url": "https://api.github.com/users/summersz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 3, "created_at": "2021-03-15T10:55:08Z", "updated_at": "2021-03-23T11:55:01Z", "closed_at": "2021-03-16T20:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trialing the new leader support using the following in my css.\r\n\r\n`.toc a::after {\r\n  content: leader('.') target-counter(attr(href), page);\r\n}`\r\n\r\nVisually it looks as expected however the link when hovering over the leader or page number extends well beyond the leader and page:\r\n\r\n![image](https://user-images.githubusercontent.com/7293216/111142661-d4596780-857c-11eb-97a7-b2c3668da74d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1297", "id": 811002344, "node_id": "MDU6SXNzdWU4MTEwMDIzNDQ=", "number": 1297, "title": "AttributeError: 'TextBox' object has no attribute 'layout'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-02-18T11:13:44Z", "updated_at": "2021-02-18T13:01:23Z", "closed_at": "2021-02-18T12:57:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3.9, Windows 10, WeasyPrint version https://github.com/Kozea/WeasyPrint/commit/224f7b3e8fc0859520b274b525973237387a0622:\r\n\r\n```\r\nCollecting WeasyPrint\r\n  Cloning https://github.com/Kozea/WeasyPrint.git (to revision 224f7b3e8fc0859520b274b525973237387a0622)\r\n  -snip-\r\n    Uninstalling WeasyPrint-52.2:\r\n      Successfully uninstalled WeasyPrint-52.2\r\nSuccessfully installed WeasyPrint-53.0\r\n```\r\n\r\nTraceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  -snip-\r\n    doc.write_pdf(output)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\document.py\", line 1028, in write_pdf\r\n    page.paint(stream, scale=scale)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\document.py\", line 713, in paint\r\n    draw_page(self._page_box, context)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 158, in draw_page\r\n    draw_stacking_context(context, stacking_context)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 277, in draw_stacking_context\r\n    draw_stacking_context(context, child_context)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 272, in draw_stacking_context\r\n    draw_inline_level(\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 1023, in draw_inline_level\r\n    draw_inline_level(\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 1018, in draw_inline_level\r\n    draw_text(context, child, child_offset_x, text_overflow)\r\n  File \"C:\\Python39\\lib\\site-packages\\weasyprint\\draw.py\", line 1062, in draw_text\r\n    pango.pango_layout_get_context(textbox.layout),\r\nAttributeError: 'TextBox' object has no attribute 'layout'\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1291", "id": 792262558, "node_id": "MDU6SXNzdWU3OTIyNjI1NTg=", "number": 1291, "title": "Tests do not pass with Cairo development snapshots", "user": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-01-22T19:49:06Z", "updated_at": "2021-08-17T18:50:05Z", "closed_at": "2021-08-17T18:50:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to get an Arch Linux PKGBUILD to build weasyprint. The unittests won't pass though, with the following error:\r\n\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_document_info ______________________________\r\n\r\n    @assert_no_logs\r\n    @requires('cairo', (1, 15, 4))\r\n    def test_document_info():\r\n        fileobj = io.BytesIO()\r\n        FakeHTML(string='''\r\n          <meta name=author content=\"I Me &amp; Myself\">\r\n          <title>Test document</title>\r\n          <h1>Another title</h1>\r\n          <meta name=generator content=\"Human\u00a0after\u00a0all\">\r\n          <meta name=keywords content=\"html ,\\tcss,\r\n                                       pdf,css\">\r\n          <meta name=description content=\"Blah\u2026 \">\r\n          <meta name=dcterms.created content=2011-04-21T23:00:00Z>\r\n          <meta name=dcterms.modified content=2013-07-21T23:46+01:00>\r\n        ''').write_pdf(target=fileobj)\r\n        info = pdf.PDFFile(fileobj).info\r\n        assert info.get_value('Author', '(.*)') == b'(I Me & Myself)'\r\n        assert info.get_value('Title', '(.*)') == b'(Test document)'\r\n        assert info.get_value('Creator', '(.*)') == (\r\n            b'<FEFF00480075006D0061006E00A00061006600740065007200A00061006C006C>')\r\n        assert info.get_value('Keywords', '(.*)') == b'(html, css, pdf)'\r\n        assert info.get_value('Subject', '(.*)') == (\r\n            b'<FEFF0042006C0061006820260020>')\r\n>       assert info.get_value('CreationDate', '(.*)') == b\"(20110421230000+00'00)\"\r\nE       assert b\"(20110421230000+00'00')\" == b\"(20110421230000+00'00)\"\r\nE         At index 21 diff: b\"'\" != b')'\r\nE         Use -v to get the full diff\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_pdf.py:654: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:640 Step 6 - Drawing\r\nINFO     weasyprint.progress:document.py:658 Step 7 - Adding PDF metadata\r\n______________________________ test_float_inline _______________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline():\r\n>       assert_pixels('float_inline', 15, 5, '''\r\n            rBBBGG_____aaaa\r\n            BBBBGG_____aaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div>\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <span>a</span>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:55: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 4) in float_inline: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n____________________________ test_float_inline_rtl _____________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline_rtl():\r\n>       assert_pixels('float_inline_rtl', 15, 5, '''\r\n            rBBB_____GGaaaa\r\n            BBBB_____GGaaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div style=\"direction: rtl\">\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <span>a</span>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:77: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline_rtl', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 9) in float_inline_rtl: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n___________________________ test_float_inline_block ____________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline_block():\r\n>       assert_pixels('float_inline_block', 15, 5, '''\r\n            rBBBGG_____aaaa\r\n            BBBBGG_____aaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div>\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <span style=\"display: inline-block\">a</span>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:99: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline_block', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 4) in float_inline_block: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n_________________________ test_float_inline_block_rtl __________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline_block_rtl():\r\n>       assert_pixels('float_inline_block_rtl', 15, 5, '''\r\n            rBBB_____GGaaaa\r\n            BBBB_____GGaaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div style=\"direction: rtl\">\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <span style=\"display: inline-block\">a</span>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:121: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline_block_rtl', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 9) in float_inline_block_rtl: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n_______________________________ test_float_table _______________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_table():\r\n>       assert_pixels('float_table', 15, 5, '''\r\n            rBBBGG_____aaaa\r\n            BBBBGG_____aaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div>\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <table><tbody><tr><td>a</td></tr></tbody></table>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:143: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_table', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 4) in float_table: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n_____________________________ test_float_table_rtl _____________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_table_rtl():\r\n>       assert_pixels('float_table_rtl', 15, 5, '''\r\n            rBBB_____GGaaaa\r\n            BBBB_____GGaaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div style=\"direction: rtl\">\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <table><tbody><tr><td>a</td></tr></tbody></table>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:165: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_table_rtl', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 9) in float_table_rtl: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n___________________________ test_float_inline_table ____________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline_table():\r\n>       assert_pixels('float_inline_table', 15, 5, '''\r\n            rBBBGG_____aaaa\r\n            BBBBGG_____aaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            table { display: inline-table }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div>\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <table><tbody><tr><td>a</td></tr></tbody></table>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:187: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline_table', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 4) in float_inline_table: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n_________________________ test_float_inline_table_rtl __________________________\r\n\r\n    @assert_no_logs\r\n    def test_float_inline_table_rtl():\r\n>       assert_pixels('float_inline_table_rtl', 15, 5, '''\r\n            rBBB_____GGaaaa\r\n            BBBB_____GGaaaa\r\n            BBBB_______aaaa\r\n            BBBB_______aaaa\r\n            _______________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { size: 15px 5px; background: white }\r\n            table { display: inline-table }\r\n            body { font-family: ahem; font-size: 2px; line-height: 1; color: lime }\r\n          </style>\r\n          <div style=\"direction: rtl\">\r\n            <img style=\"float: left\" src=\"pattern.png\">\r\n            <img style=\"float: right\" src=\"blue.jpg\">\r\n            <table><tbody><tr><td>a</td></tr></tbody></table>\r\n          </div>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_float.py:210: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'float_inline_table_rtl', width = 15, height = 5\r\nraw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 9) in float_inline_table_rtl: expected rgba(0, 255, 0, 255), got rgba(127, 255, 127, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n___________________________ test_text_overflow_clip ____________________________\r\n\r\n    def test_text_overflow_clip():\r\n>       assert_pixels('text_overflow', 9, 7, '''\r\n            _________\r\n            _RRRRRRR_\r\n            _RRRRRRR_\r\n            _________\r\n            _RR__RRR_\r\n            _RR__RRR_\r\n            _________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page {\r\n              size: 9px 7px;\r\n              background: white;\r\n            }\r\n            body {\r\n              color: red;\r\n              font-family: ahem;\r\n              font-size: 2px;\r\n            }\r\n            div {\r\n              line-height: 1;\r\n              margin: 1px;\r\n              overflow: hidden;\r\n              width: 3.5em;\r\n            }\r\n          </style>\r\n          <div>abcde</div>\r\n          <div style=\"white-space: nowrap\">a bcde</div>''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_text.py:13: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'text_overflow', width = 9, height = 7\r\nraw = b'\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (2, 1) in text_overflow: expected rgba(0, 0, 255, 255), got rgba(127, 127, 255, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n_________________________ test_text_overflow_ellipsis __________________________\r\n\r\n    def test_text_overflow_ellipsis():\r\n>       assert_pixels('text_overflow', 9, 16, '''\r\n            _________\r\n            _RRRRRR__\r\n            _RRRRRR__\r\n            _________\r\n            _RR__RR__\r\n            _RR__RR__\r\n            _________\r\n            _RRRRRR__\r\n            _RRRRRR__\r\n            _________\r\n            _RRRRRRR_\r\n            _RRRRRRR_\r\n            _________\r\n            _RRRRRRR_\r\n            _RRRRRRR_\r\n            _________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page {\r\n              background: white;\r\n              size: 9px 16px;\r\n            }\r\n            body {\r\n              color: red;\r\n              font-family: ahem;\r\n              font-size: 2px;\r\n            }\r\n            div {\r\n              line-height: 1;\r\n              margin: 1px;\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n              width: 3.5em;\r\n            }\r\n            div div {\r\n              margin: 0;\r\n            }\r\n          </style>\r\n          <div>abcde</div>\r\n          <div style=\"white-space: nowrap\">a bcde</div>\r\n          <div><span>a<span>b</span>cd</span>e</div>\r\n          <div><div style=\"text-overflow: clip\">abcde</div></div>\r\n          <div><div style=\"overflow: visible\">abcde</div></div>\r\n    ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_text.py:45: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'text_overflow', width = 9, height = 16\r\nraw = b'\\xff\\xff\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (0, 1) in text_overflow: expected rgba(255, 255, 255, 255), got rgba(127, 127, 255, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n___________________ test_text_align_rtl_trailing_whitespace ____________________\r\n\r\n    def test_text_align_rtl_trailing_whitespace():\r\n        # Test text alignment for rtl text with trailing space.\r\n        # Test regression: https://github.com/Kozea/WeasyPrint/issues/1111\r\n>       assert_pixels('text_overflow', 9, 9, '''\r\n            _________\r\n            _rrrrBBB_\r\n            _________\r\n            _rrrrBBB_\r\n            _________\r\n            _BBBrrrr_\r\n            _________\r\n            _BBBrrrr_\r\n            _________\r\n        ''', '''\r\n          <style>\r\n            @font-face {src: url(AHEM____.TTF); font-family: ahem}\r\n            @page { background: white; size: 9px }\r\n            body { font-family: ahem; color: blue; font-size: 1px }\r\n            p { background: red; line-height: 1; width: 7em; margin: 1em }\r\n          </style>\r\n          <!-- &#8207 forces Unicode RTL direction for the following chars -->\r\n          <p style=\"direction: rtl\"> abc </p>\r\n          <p style=\"direction: rtl\"> &#8207;abc </p>\r\n          <p style=\"direction: ltr\"> abc </p>\r\n          <p style=\"direction: ltr\"> &#8207;abc </p>\r\n        ''')\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/test_text.py:96: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'text_overflow', width = 9, height = 9\r\nraw = b'\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x7f\\x7f\\xff\\xff\\x7f\\x7f\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\nexpected_raw = b'\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff...ff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (0, 5) in text_overflow: expected rgba(255, 255, 255, 255), got rgba(127, 127, 255, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n__________________________ test_table_vertical_align ___________________________\r\n\r\n    @assert_no_logs\r\n    @requires('cairo', (1, 12, 0))\r\n    def test_table_vertical_align():\r\n>       assert_pixels('table_vertical_align', 28, 10, '''\r\n            rrrrrrrrrrrrrrrrrrrrrrrrrrrr\r\n            rBBBBBBBBBBBBBBBBBBBBBBBBBBr\r\n            rBrBB_BB_BB_BB_BBrrBBrrBB_Br\r\n            rBrBB_BB_BBrBBrBBrrBBrrBBrBr\r\n            rB_BBrBB_BBrBBrBBrrBBrrBBrBr\r\n            rB_BBrBB_BB_BB_BBrrBBrrBB_Br\r\n            rB_BB_BBrBB_BB_BB__BB__BB_Br\r\n            rB_BB_BBrBB_BB_BB__BB__BB_Br\r\n            rBBBBBBBBBBBBBBBBBBBBBBBBBBr\r\n            rrrrrrrrrrrrrrrrrrrrrrrrrrrr\r\n        ''', '''\r\n          <style>\r\n            @font-face { src: url(AHEM____.TTF); font-family: ahem }\r\n            @page { size: 28px 10px }\r\n            html { background: #fff; font-size: 1px; color: red }\r\n            body { margin: 0; width: 28px; height: 10px }\r\n            td {\r\n              width: 1em;\r\n              padding: 0 !important;\r\n              border: 1px solid blue;\r\n              line-height: 1em;\r\n              font-family: ahem;\r\n            }\r\n          </style>\r\n          <table style=\"border: 1px solid red; border-spacing: 0\">\r\n            <tr>\r\n              <!-- Test vertical-align: top, auto height -->\r\n              <td style=\"vertical-align: top\">o o</td>\r\n    \r\n              <!-- Test vertical-align: middle, auto height -->\r\n              <td style=\"vertical-align: middle\">o o</td>\r\n    \r\n              <!-- Test vertical-align: bottom, fixed useless height -->\r\n              <td style=\"vertical-align: bottom; height: 2em\">o o</td>\r\n    \r\n              <!-- Test default vertical-align value (baseline),\r\n                   fixed useless height -->\r\n              <td style=\"height: 5em\">o o</td>\r\n    \r\n              <!-- Test vertical-align: baseline with baseline set by next cell,\r\n                   auto height -->\r\n              <td style=\"vertical-align: baseline\">o o</td>\r\n    \r\n              <!-- Set baseline height to 2px, auto height -->\r\n              <td style=\"vertical-align: baseline; font-size: 2em\">o o</td>\r\n    \r\n              <!-- Test padding-bottom, fixed useless height,\r\n                   set the height of the cells to 2 lines * 2em + 2px = 6px -->\r\n              <td style=\"vertical-align: baseline; height: 1em;\r\n                         font-size: 2em; padding-bottom: 2px !important\">\r\n                o o\r\n              </td>\r\n    \r\n              <!-- Test padding-top, auto height -->\r\n              <td style=\"vertical-align: top; padding-top: 1em !important\">\r\n                o o\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        ''')  # noqa\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_layout/test_table.py:1868: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:57: in assert_pixels\r\n    assert_pixels_equal(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nname = 'table_vertical_align', width = 28, height = 10\r\nraw = b'\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00...ff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff'\r\nexpected_raw = b'\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00...ff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff\\x00\\x00\\xff\\xff'\r\ntolerance = 0\r\n\r\n    def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n        \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n        if raw != expected_raw:  # pragma: no cover\r\n            for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n                if abs(value - expected) > tolerance:\r\n                    write_png(name, raw, width, height)\r\n                    write_png(name + '.expected', expected_raw,\r\n                              width, height)\r\n                    pixel_n = i // 4\r\n                    x = pixel_n // width\r\n                    y = pixel_n % width\r\n                    i % 4\r\n                    pixel = tuple(list(raw[i:i + 4]))\r\n                    expected_pixel = tuple(list(\r\n                        expected_raw[i:i + 4]))\r\n>                   assert 0, (\r\n                        'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n                        % (x, y, name, expected_pixel, pixel))\r\nE                   AssertionError: Pixel (1, 2) in table_vertical_align: expected rgba(255, 0, 0, 255), got rgba(127, 0, 128, 255)\r\n\r\n/build/python-weasyprint/src/WeasyPrint-52.2/weasyprint/tests/test_draw/__init__.py:160: AssertionError\r\n------------------------------ Captured log call -------------------------------\r\nINFO     weasyprint.progress:__init__.py:103 Step 1 - Fetching and parsing HTML - HTML string\r\nINFO     weasyprint.progress:__init__.py:349 Step 2 - Fetching and parsing CSS - CSS string\r\nINFO     weasyprint.progress:__init__.py:64 Step 3 - Applying CSS\r\nINFO     weasyprint.progress:document.py:380 Step 4 - Creating formatting structure\r\nINFO     weasyprint.progress:pages.py:794 Step 5 - Creating layout - Page 1\r\nINFO     weasyprint.progress:document.py:775 Step 6 - Drawing\r\n=============================== warnings summary ===============================\r\n../../../../usr/lib/python3.9/site-packages/packaging/version.py:127: 240 warnings\r\n  /usr/lib/python3.9/site-packages/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n    warnings.warn(\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n=========================== short test summary info ============================\r\nFAILED weasyprint/tests/test_pdf.py::test_document_info - assert b\"(201104212...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline - Assertio...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline_rtl - Asse...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline_block - As...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline_block_rtl\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_table - Assertion...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_table_rtl - Asser...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline_table - As...\r\nFAILED weasyprint/tests/test_draw/test_float.py::test_float_inline_table_rtl\r\nFAILED weasyprint/tests/test_draw/test_text.py::test_text_overflow_clip - Ass...\r\nFAILED weasyprint/tests/test_draw/test_text.py::test_text_overflow_ellipsis\r\nFAILED weasyprint/tests/test_draw/test_text.py::test_text_align_rtl_trailing_whitespace\r\nFAILED weasyprint/tests/test_layout/test_table.py::test_table_vertical_align\r\n========== 13 failed, 1285 passed, 11 xfailed, 240 warnings in 31.51s ==========\r\n```\r\n\r\nI do have the dejavu fonts installed, as well as gdk-pixbuf2, pango, and all the python module dependencies.\r\n\r\n<details>\r\n<summary>PKGBUILD</summary>\r\n\r\n```\r\n# Maintainer: Eli Schwartz <eschwartz@archlinux.org>\r\n\r\n_pkgname=WeasyPrint\r\npkgname=python-weasyprint\r\npkgver=52.2\r\npkgrel=1\r\npkgdesc=\"visual rendering engine for HTML and CSS that can export to PDF and PNG\"\r\narch=('any')\r\nurl=\"https://www.courtbouillon.org/weasyprint\"\r\nlicense=('BSD')\r\n_py_deps=('cairocffi' 'cairosvg' 'cffi' 'cssselect2' 'html5lib' 'pillow'\r\n          'pyphen' 'tinycss2')\r\ndepends=('gdk-pixbuf2' 'pango' \"${_py_deps[@]/#/python-}\")\r\nmakedepends=('python-setuptools')\r\ncheckdepends=('python-pytest' 'ttf-dejavu')\r\nsource=(\"https://files.pythonhosted.org/packages/source/${_pkgname:0:1}/${_pkgname}/${_pkgname}-${pkgver}.tar.gz\")\r\nsha256sums=('21a1a9f11650ed14241817bf333a0ae0a42f6ae38cd7c2654845cb17352b7434')\r\nb2sums=('33a41593dd50c8f4a5738f9e41b570219d83a512a6c00ccc9b0fa9ddf4ab1040e1c5c95eada833810a9c6bc07efbacc5735f6a5e341a6b8b01b128651b5c4fa4')\r\n\r\nprepare(){\r\n    cd \"${srcdir}\"/${_pkgname}-${pkgver}\r\n\r\n    # test requirements should not be needed during build if tests are disabled\r\n    sed -i 's/setup_requires = pytest-runner//' setup.cfg\r\n\r\n    # thou shalt not lint coding style in integration tests\r\n    sed -i 's/--flake8 --isort//' setup.cfg\r\n}\r\n\r\nbuild(){\r\n    cd \"${srcdir}\"/${_pkgname}-${pkgver}\r\n\r\n    python setup.py build\r\n}\r\n\r\ncheck() {\r\n    cd \"${srcdir}\"/${_pkgname}-${pkgver}\r\n\r\n    python -m pytest\r\n}\r\n\r\npackage() {\r\n    cd \"${srcdir}\"/${_pkgname}-${pkgver}\r\n\r\n    python setup.py install --root=\"${pkgdir}\" --optimize=1 --skip-build\r\n    install -Dm644 LICENSE \"${pkgdir}\"/usr/share/licenses/${pkgname}/LICENSE\r\n}\r\n```\r\n</details>", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1264", "id": 762038208, "node_id": "MDU6SXNzdWU3NjIwMzgyMDg=", "number": 1264, "title": "Not able to render the complete HTML page to PDF", "user": {"login": "Prasengupta", "id": 28540947, "node_id": "MDQ6VXNlcjI4NTQwOTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/28540947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Prasengupta", "html_url": "https://github.com/Prasengupta", "followers_url": "https://api.github.com/users/Prasengupta/followers", "following_url": "https://api.github.com/users/Prasengupta/following{/other_user}", "gists_url": "https://api.github.com/users/Prasengupta/gists{/gist_id}", "starred_url": "https://api.github.com/users/Prasengupta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Prasengupta/subscriptions", "organizations_url": "https://api.github.com/users/Prasengupta/orgs", "repos_url": "https://api.github.com/users/Prasengupta/repos", "events_url": "https://api.github.com/users/Prasengupta/events{/privacy}", "received_events_url": "https://api.github.com/users/Prasengupta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 2, "created_at": "2020-12-11T08:05:14Z", "updated_at": "2021-01-11T12:16:59Z", "closed_at": "2021-01-11T12:16:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\n\r\nI have been using weasyprint from longtime. But surprisingly I found one of my templates is rending with 3/4 into the pdf like below. \r\n[example2.pdf](https://github.com/Kozea/WeasyPrint/files/5677854/example2.pdf)\r\n\r\nCan any one help me where should I change the settings to get whole html page into the PDF.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1254", "id": 748060008, "node_id": "MDU6SXNzdWU3NDgwNjAwMDg=", "number": 1254, "title": "Top margins removed from children when tables are displayed on multiple pages", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/20", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20/labels", "id": 6140313, "node_id": "MDk6TWlsZXN0b25lNjE0MDMxMw==", "number": 20, "title": "52.2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-11-23T18:26:11Z", "updated_at": "2020-12-07T23:04:15Z", "due_on": null, "closed_at": "2020-12-07T23:04:15Z"}, "comments": 0, "created_at": "2020-11-21T17:13:59Z", "updated_at": "2020-11-23T18:26:39Z", "closed_at": "2020-11-21T17:27:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When tables are displayed on multiple pages, top margins are removed from first children of cells.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1250", "id": 745077166, "node_id": "MDU6SXNzdWU3NDUwNzcxNjY=", "number": 1250, "title": "colspan bug at write_pdf", "user": {"login": "SilverGeri", "id": 4512178, "node_id": "MDQ6VXNlcjQ1MTIxNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4512178?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SilverGeri", "html_url": "https://github.com/SilverGeri", "followers_url": "https://api.github.com/users/SilverGeri/followers", "following_url": "https://api.github.com/users/SilverGeri/following{/other_user}", "gists_url": "https://api.github.com/users/SilverGeri/gists{/gist_id}", "starred_url": "https://api.github.com/users/SilverGeri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SilverGeri/subscriptions", "organizations_url": "https://api.github.com/users/SilverGeri/orgs", "repos_url": "https://api.github.com/users/SilverGeri/repos", "events_url": "https://api.github.com/users/SilverGeri/events{/privacy}", "received_events_url": "https://api.github.com/users/SilverGeri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/20", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20/labels", "id": 6140313, "node_id": "MDk6TWlsZXN0b25lNjE0MDMxMw==", "number": 20, "title": "52.2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-11-23T18:26:11Z", "updated_at": "2020-12-07T23:04:15Z", "due_on": null, "closed_at": "2020-12-07T23:04:15Z"}, "comments": 2, "created_at": "2020-11-17T20:49:24Z", "updated_at": "2020-11-23T19:56:27Z", "closed_at": "2020-11-23T19:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to generate a table from a list of products then add the sum price to the end of the table. I need a signature section at the end of each page\r\nwhen there are too many products and the table is split between more pages, colspan is applied to the last row of each page instead of only the last one where it is correct. I checked the generated html, it is fine but when I save it to pdf, the bug appears\r\n\r\n```\r\n         th, td {\r\n            border: 1px solid black;\r\n            padding: 1mm;\r\n        }\r\n\r\n        table {\r\n            border-collapse: collapse;\r\n            width: 100%;\r\n            font-size: 12px;\r\n            page-break-inside: auto;\r\n        }\r\n\r\n        tr {\r\n            page-break-inside: avoid;\r\n            page-break-after: auto;\r\n        }\r\n        thead {\r\n            display: table-header-group;\r\n        }\r\n\r\n        tbody {\r\n            border: 1px solid black;\r\n        }\r\n\r\n        tfoot {\r\n            display: table-footer-group;\r\n        }\r\n\r\n        .footer {\r\n            padding-top: 10mm;\r\n            padding-bottom: 6mm;\r\n            border-style: none;\r\n        }\r\n\r\n        .footer-wrapper {\r\n            width: 46mm;\r\n            margin-left: auto;\r\n            text-align: center;\r\n        }\r\n```\r\n```\r\n<div style=\"page-break-before: always\">\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>id.</th>\r\n                <th>productname</th>\r\n                <th>price</th>\r\n                <th>quantity</th>\r\n                <th>sum</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for product in products.all %}\r\n            <tr>\r\n                <td>{{ forloop.counter }}</td>\r\n                <td>{{ product.name }}</td>\r\n                <td>{{ product.gross_price|floatformat:0 }}&nbsp;Ft</td>\r\n                <td>{{ product.quantity }}&nbsp;{{ item.product.unit }}</td>\r\n                <td>{{ product.total_price|floatformat:0 }}&nbsp;Ft</td>\r\n            </tr>\r\n            {% endfor %}\r\n            <tr>\r\n                <td colspan=\"4\">Sum</td>\r\n                <td>{{ products_total_price|floatformat:0 }}&nbsp;Ft</td>\r\n            </tr>\r\n        </tbody>\r\n        <tfoot>\r\n            <tr>\r\n                <td class=\"footer\" colspan=\"5\">\r\n                    <div class=\"footer-wrapper\">\r\n                        <span>\r\n                            ........................................<br>\r\n                            {{ name }}\r\n                        </span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tfoot>\r\n    </table>\r\n</div>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1247", "id": 738519347, "node_id": "MDU6SXNzdWU3Mzg1MTkzNDc=", "number": 1247, "title": "incomplete pypi tarballs: test_draw, test_layout missing", "user": {"login": "FelixSchwarz", "id": 212753, "node_id": "MDQ6VXNlcjIxMjc1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/212753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixSchwarz", "html_url": "https://github.com/FelixSchwarz", "followers_url": "https://api.github.com/users/FelixSchwarz/followers", "following_url": "https://api.github.com/users/FelixSchwarz/following{/other_user}", "gists_url": "https://api.github.com/users/FelixSchwarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixSchwarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixSchwarz/subscriptions", "organizations_url": "https://api.github.com/users/FelixSchwarz/orgs", "repos_url": "https://api.github.com/users/FelixSchwarz/repos", "events_url": "https://api.github.com/users/FelixSchwarz/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixSchwarz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/20", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/20/labels", "id": 6140313, "node_id": "MDk6TWlsZXN0b25lNjE0MDMxMw==", "number": 20, "title": "52.2", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-11-23T18:26:11Z", "updated_at": "2020-12-07T23:04:15Z", "due_on": null, "closed_at": "2020-12-07T23:04:15Z"}, "comments": 2, "created_at": "2020-11-08T17:56:17Z", "updated_at": "2020-12-04T02:08:29Z", "closed_at": "2020-11-23T18:25:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`WeasyPrint-52.1.tar.gz` seems to be incomplete. `test_draw` and `test_layout` are not present in the pypi tarball leading to test failures.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1237", "id": 722253725, "node_id": "MDU6SXNzdWU3MjIyNTM3MjU=", "number": 1237, "title": "WOFF font not included in PDF", "user": {"login": "schettino72", "id": 138474, "node_id": "MDQ6VXNlcjEzODQ3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/138474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schettino72", "html_url": "https://github.com/schettino72", "followers_url": "https://api.github.com/users/schettino72/followers", "following_url": "https://api.github.com/users/schettino72/following{/other_user}", "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}", "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions", "organizations_url": "https://api.github.com/users/schettino72/orgs", "repos_url": "https://api.github.com/users/schettino72/repos", "events_url": "https://api.github.com/users/schettino72/events{/privacy}", "received_events_url": "https://api.github.com/users/schettino72/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 5, "created_at": "2020-10-15T11:37:38Z", "updated_at": "2020-10-27T20:22:49Z", "closed_at": "2020-10-27T20:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I follow the example below but use a WOFF font.\r\n\r\n`font-face` is parsed correctly but the actual font file is NOT included in the PDF,\r\nresulting in output with \"missing unicode characters\" blocks...\r\n\r\nDocumentation claims any FreeType font format should be supported. \r\n\r\n```\r\nfrom weasyprint import HTML, CSS\r\nfrom weasyprint.fonts import FontConfiguration\r\n\r\nfont_config = FontConfiguration()\r\nhtml = HTML(string='<h1>The title</h1>')\r\ncss = CSS(string='''\r\n    @font-face {\r\n        font-family: Gentium;\r\n        src: url(http://example.com/fonts/Gentium.otf);\r\n    }\r\n    h1 { font-family: Gentium }''', font_config=font_config)\r\nhtml.write_pdf(\r\n    '/tmp/example.pdf', stylesheets=[css],\r\n    font_config=font_config)\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1235", "id": 720857688, "node_id": "MDU6SXNzdWU3MjA4NTc2ODg=", "number": 1235, "title": "Inline-block ignores its padding/border/margin when calculating its max width", "user": {"login": "mtkennerly", "id": 4934192, "node_id": "MDQ6VXNlcjQ5MzQxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4934192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtkennerly", "html_url": "https://github.com/mtkennerly", "followers_url": "https://api.github.com/users/mtkennerly/followers", "following_url": "https://api.github.com/users/mtkennerly/following{/other_user}", "gists_url": "https://api.github.com/users/mtkennerly/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtkennerly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtkennerly/subscriptions", "organizations_url": "https://api.github.com/users/mtkennerly/orgs", "repos_url": "https://api.github.com/users/mtkennerly/repos", "events_url": "https://api.github.com/users/mtkennerly/events{/privacy}", "received_events_url": "https://api.github.com/users/mtkennerly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 4, "created_at": "2020-10-13T21:23:49Z", "updated_at": "2020-12-14T09:11:24Z", "closed_at": "2020-12-14T06:13:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a follow-up from #1234. Context:\r\n\r\n* Using Pandoc to convert Markdown -> HTML -> PDF, with WeasyPrint as the `--pdf-engine`\r\n* Markdown file: https://raw.githubusercontent.com/mtkennerly/playground/95ac6a3c30a5aa3300d337a2da807646462e20a1/docs/sample.md\r\n* Pandoc invocations: https://github.com/mtkennerly/playground/blob/95ac6a3c30a5aa3300d337a2da807646462e20a1/.github/workflows/main.yaml#L18-L30\r\n\r\nUsing the latest WeasyPrint master code, the PDF does wrap long lines in code blocks, but each line is cut off prematurely, and there are some extra blank lines after the last wrapped line.\r\n\r\nDocuments produced by above Github workflow: [samples2.zip](https://github.com/Kozea/WeasyPrint/files/5374051/samples2.zip)\r\n\r\nHTML:\r\n\r\n> ![image](https://user-images.githubusercontent.com/4934192/95915559-4f6fe500-0d75-11eb-86c6-f1f7c5f4ff48.png)\r\n\r\nPDF:\r\n\r\n> ![image](https://user-images.githubusercontent.com/4934192/95915460-23ecfa80-0d75-11eb-9eef-ed5504271e41.png)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1227", "id": 715969853, "node_id": "MDU6SXNzdWU3MTU5Njk4NTM=", "number": 1227, "title": "Incorrect rendering with display-flex.", "user": {"login": "adrianlocurcio", "id": 10765103, "node_id": "MDQ6VXNlcjEwNzY1MTAz", "avatar_url": "https://avatars.githubusercontent.com/u/10765103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianlocurcio", "html_url": "https://github.com/adrianlocurcio", "followers_url": "https://api.github.com/users/adrianlocurcio/followers", "following_url": "https://api.github.com/users/adrianlocurcio/following{/other_user}", "gists_url": "https://api.github.com/users/adrianlocurcio/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianlocurcio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianlocurcio/subscriptions", "organizations_url": "https://api.github.com/users/adrianlocurcio/orgs", "repos_url": "https://api.github.com/users/adrianlocurcio/repos", "events_url": "https://api.github.com/users/adrianlocurcio/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianlocurcio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-06T19:38:08Z", "updated_at": "2021-03-30T11:52:42Z", "closed_at": "2021-03-30T11:52:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: `WeasyPrint version 51`\r\n\r\nI have this html\r\n\r\n```<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\"/>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <style type=\"text/css\">\r\n      .container {\r\n          display: flex;\r\n          height: 100%;\r\n      }\r\n      \r\n      .sidebar {\r\n          width: 253px;\r\n           padding: 0 38px 0 25px;\r\n      }\r\n      \r\n      .sections {\r\n          width: 541px;\r\n          padding: 0 38px 70px 38px;\r\n      }\r\n    </style>\r\n    <title>Example</title>\r\n  </head>\r\n  <body>\r\n    <div class=\"container\">\r\n      <div class=\"sidebar\">\r\n        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus repudiandae, esse eius cum est facilis! Recusandae atque ipsa sed reiciendis cupiditate aliquid, ratione quibusdam ullam. Itaque, minus? Tempora, eum tenetur?</p>\r\n        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus repudiandae, esse eius cum est facilis! Recusandae atque ipsa sed reiciendis cupiditate aliquid, ratione quibusdam ullam. Itaque, minus? Tempora, eum tenetur?</p>\r\n        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus repudiandae, esse eius cum est facilis! Recusandae atque ipsa sed reiciendis cupiditate aliquid, ratione quibusdam ullam. Itaque, minus? Tempora, eum tenetur?</p>\r\n        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus repudiandae, esse eius cum est facilis! Recusandae atque ipsa sed reiciendis cupiditate aliquid, ratione quibusdam ullam. Itaque, minus? Tempora, eum tenetur?</p>\r\n        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus repudiandae, esse eius cum est facilis! Recusandae atque ipsa sed reiciendis cupiditate aliquid, ratione quibusdam ullam. Itaque, minus? Tempora, eum tenetur?</p>\r\n      </div>\r\n      <div class=\"sections\">\r\n        <p>second div: Lorem ipsum dolor sit, amet consectetur adipisicing elit. Totam amet officiis ipsum officia natus libero, facilis suscipit facere perferendis est rem dolores architecto unde vitae! Mollitia ea nam porro doloribus?</p>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>\r\n```\r\n\r\nIt should render as this:\r\n![fine](https://user-images.githubusercontent.com/10765103/95251659-3eadf500-07f2-11eb-87ef-5afaf407f556.png)\r\n\r\n\r\nBut instead of render like that it is rendering as this:\r\n\r\n![wrong](https://user-images.githubusercontent.com/10765103/95251685-48375d00-07f2-11eb-98d2-da66b937778c.png)\r\n\r\n\r\nAs you can see, is moving the second div `.sections` to the 2nd page.\r\n\r\nAny help, please ?\r\nThanks!\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1214", "id": 702828076, "node_id": "MDU6SXNzdWU3MDI4MjgwNzY=", "number": 1214, "title": "Soft hyphen not displayed at line break", "user": {"login": "tomek1024", "id": 25573, "node_id": "MDQ6VXNlcjI1NTcz", "avatar_url": "https://avatars.githubusercontent.com/u/25573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomek1024", "html_url": "https://github.com/tomek1024", "followers_url": "https://api.github.com/users/tomek1024/followers", "following_url": "https://api.github.com/users/tomek1024/following{/other_user}", "gists_url": "https://api.github.com/users/tomek1024/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomek1024/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomek1024/subscriptions", "organizations_url": "https://api.github.com/users/tomek1024/orgs", "repos_url": "https://api.github.com/users/tomek1024/repos", "events_url": "https://api.github.com/users/tomek1024/events{/privacy}", "received_events_url": "https://api.github.com/users/tomek1024/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-09-16T14:44:50Z", "updated_at": "2022-05-18T14:53:29Z", "closed_at": "2022-01-25T16:54:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "After @liZe suggestion in #1023 I'm opening a new issue for a missing hyphen on the end of the line.\r\n\r\nAfter rendering https://zecer.elibri.com.pl/lte/unexpected-justification.html we get (should be \"przysz-\" at the end of the line)\r\n\r\n![image](https://user-images.githubusercontent.com/25573/93350648-283afc00-f839-11ea-8a11-f0622d6ec369.png)\r\n\r\nSystem info:\r\n```\r\n> weasyprint -i\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020\r\nRelease: 4.15.0-112-generic\r\n\r\nWeasyPrint version: 51\r\nPython version: 3.8.2\r\nCairo version: 11600\r\nPango version: 14407\r\nCairoSVG version: 2.4.2\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1199", "id": 683947004, "node_id": "MDU6SXNzdWU2ODM5NDcwMDQ=", "number": 1199, "title": "Kerning issues with small fonts", "user": {"login": "john8329", "id": 42315498, "node_id": "MDQ6VXNlcjQyMzE1NDk4", "avatar_url": "https://avatars.githubusercontent.com/u/42315498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john8329", "html_url": "https://github.com/john8329", "followers_url": "https://api.github.com/users/john8329/followers", "following_url": "https://api.github.com/users/john8329/following{/other_user}", "gists_url": "https://api.github.com/users/john8329/gists{/gist_id}", "starred_url": "https://api.github.com/users/john8329/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john8329/subscriptions", "organizations_url": "https://api.github.com/users/john8329/orgs", "repos_url": "https://api.github.com/users/john8329/repos", "events_url": "https://api.github.com/users/john8329/events{/privacy}", "received_events_url": "https://api.github.com/users/john8329/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 4, "created_at": "2020-08-22T07:10:49Z", "updated_at": "2020-12-07T23:05:57Z", "closed_at": "2020-12-07T23:05:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having trouble creating small labels with WeasyPrint, when I format fonts with a small size (5pt and below) the kerning gets all messed up. See the screenshot for more details. Testing this seems trivial, but if it's not reproducible I'll share an example code.\r\nNo idea if it's a WeasyPrint issue or one of the other libraries, though it's not a big problem for me, I can do a `transform: scale()` trick and have it render nicely.\r\n\r\n<img width=\"739\" alt=\"Screenshot 2020-08-22 at 09 01 32\" src=\"https://user-images.githubusercontent.com/42315498/90951010-198a4080-e457-11ea-9edc-41c6ed4ce37e.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1188", "id": 678708211, "node_id": "MDU6SXNzdWU2Nzg3MDgyMTE=", "number": 1188, "title": "bullets and numbers misaligned in a page break.", "user": {"login": "fabiobatalha", "id": 504142, "node_id": "MDQ6VXNlcjUwNDE0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/504142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiobatalha", "html_url": "https://github.com/fabiobatalha", "followers_url": "https://api.github.com/users/fabiobatalha/followers", "following_url": "https://api.github.com/users/fabiobatalha/following{/other_user}", "gists_url": "https://api.github.com/users/fabiobatalha/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiobatalha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiobatalha/subscriptions", "organizations_url": "https://api.github.com/users/fabiobatalha/orgs", "repos_url": "https://api.github.com/users/fabiobatalha/repos", "events_url": "https://api.github.com/users/fabiobatalha/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiobatalha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-13T20:16:01Z", "updated_at": "2020-08-20T09:25:57Z", "closed_at": "2020-08-20T09:25:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When lists are in a page break, the bullets and numbers becomes misaligned.\r\n\r\n![Capture du 2020-08-13 16-11-49](https://user-images.githubusercontent.com/504142/90182601-356b5380-dd80-11ea-8910-40aefe6112b0.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1163", "id": 657654640, "node_id": "MDU6SXNzdWU2NTc2NTQ2NDA=", "number": 1163, "title": "Internal links with brackets", "user": {"login": "macaba", "id": 1031306, "node_id": "MDQ6VXNlcjEwMzEzMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1031306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/macaba", "html_url": "https://github.com/macaba", "followers_url": "https://api.github.com/users/macaba/followers", "following_url": "https://api.github.com/users/macaba/following{/other_user}", "gists_url": "https://api.github.com/users/macaba/gists{/gist_id}", "starred_url": "https://api.github.com/users/macaba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/macaba/subscriptions", "organizations_url": "https://api.github.com/users/macaba/orgs", "repos_url": "https://api.github.com/users/macaba/repos", "events_url": "https://api.github.com/users/macaba/events{/privacy}", "received_events_url": "https://api.github.com/users/macaba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 876622221, "node_id": "MDU6TGFiZWw4NzY2MjIyMjE=", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/good%20first%20issue", "name": "good first issue", "color": "0fc448", "default": true, "description": "Issues that can be quite easily solved by Python developers with a good CSS background"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-15T21:03:41Z", "updated_at": "2020-09-13T16:54:58Z", "closed_at": "2020-09-13T16:54:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's an interesting one...\r\n\r\n`<a href=\"#linktarget\">Link</a>` works.\r\n\r\n`<a href=\"#linktarget(thing)\">Link</a>` doesn't work.\r\n\r\nAdding brackets into the link target breaks the link in the PDF (works in Chrome).", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1157", "id": 653824937, "node_id": "MDU6SXNzdWU2NTM4MjQ5Mzc=", "number": 1157, "title": "Upgrading to Weasyprint version greater than 0.42.3 causes changes in css handling", "user": {"login": "jonathlt", "id": 1607393, "node_id": "MDQ6VXNlcjE2MDczOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1607393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathlt", "html_url": "https://github.com/jonathlt", "followers_url": "https://api.github.com/users/jonathlt/followers", "following_url": "https://api.github.com/users/jonathlt/following{/other_user}", "gists_url": "https://api.github.com/users/jonathlt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathlt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathlt/subscriptions", "organizations_url": "https://api.github.com/users/jonathlt/orgs", "repos_url": "https://api.github.com/users/jonathlt/repos", "events_url": "https://api.github.com/users/jonathlt/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathlt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-09T07:17:13Z", "updated_at": "2021-01-16T13:30:06Z", "closed_at": "2021-01-16T13:30:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since version 43 we seem to be seeing an issue rendering pdfs. \r\n\r\nThe pdf generated is as follows, where you can see that the map.png image file is not rendered and the styling is not as we were seeing in previous versions. The source html file renders OK in the chrome web browser.\r\n\r\n### Version 43\r\n[a4-portrait-not-working.pdf](https://github.com/Kozea/WeasyPrint/files/4895055/a4-portrait-not-working.pdf)\r\n\r\nCompare with what we were previously seeing using version 0.42.2 and 0.42.3, this renders the pdf correctly as follows:\r\n\r\n### Version 0.42.2/0.42.3\r\n[a4-portrait-working.pdf](https://github.com/Kozea/WeasyPrint/files/4895064/a4-portrait-working.pdf)\r\n\r\nLooking into the issue, we can get the pdf to render as expected by changing one of our files, common.css, see the commented out code where I have removed a couple of css rules. So there seems to be a problem with using the height directive in .wrapper and the display:flex one in #map\r\n\r\n```\r\nhtml \r\n{\r\n    padding: 0;\r\n    margin: 0;\r\n    transform-origin: top left;\r\n    overflow: hidden;\r\n}\r\n\r\nbody \r\n{\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nh1\r\n{\r\n    font-size: 100%;\r\n    margin: 0;\r\n}\r\n\r\n#title\r\n{\r\n    padding: 1mm 0 0 0;\r\n    font-size: 14pt;\r\n    font-weight: bold;\r\n    font-family: Arial;\r\n}\r\n\r\n#title > input\r\n{\r\n    border: 1px solid #000;\r\n    padding: 0;\r\n    width: 300px;\r\n    font-size: 14pt;\r\n}\r\n\r\n#footer\r\n{\r\n    font-size: 10pt;\r\n    background: #FFF;\r\n}\r\n\r\n#logo\r\n{\r\n    margin: 1mm 0 2mm;\r\n    height: 8mm;\r\n}\r\n\r\nimg#mapimg\r\n{\r\n    margin: 0;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n}\r\nimg#north\r\n{\r\n    max-width: 9mm;\r\n    max-height: 9mm;\r\n    margin: auto;\r\n}\r\n#map\r\n{\r\n    border-width: 0.5mm 0.5mm 0;\r\n    border-color: black;\r\n    border-style: solid;\r\n    /* display: flex; */\r\n    width: inherit;\r\n    flex-shrink: 1;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n#legend\r\n{\r\n    position: absolute !important;\r\n    bottom: 0 !important;\r\n    right: 0 !important;\r\n    z-index: 1000;\r\n    width: 200px;\r\n}\r\n\r\n#legend > img\r\n{\r\n    border-style: solid;\r\n    border-color: #000;\r\n    border-width: 0.5mm 0 0 0.5mm;\r\n    display: block;\r\n}\r\n#legend.hidden\r\n{\r\n    display: none;\r\n}\r\n\r\ndiv#info\r\n{\r\n    padding: 2px;\r\n    flex: 1;\r\n}\r\n\r\ndiv#organization\r\n{\r\n    position: absolute !important;\r\n    top: 0px !important;\r\n    right: 0px !important;\r\n    z-index: 1000;\r\n    margin-left: auto;\r\n    padding: 1mm;\r\n    flex: 0;\r\n}\r\n\r\n\r\n.wrapper\r\n{\r\n    max-width: 100%;\r\n    /* height: 100%; */\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.fWrapper\r\n{\r\n    border: 0.5mm solid;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.descale \r\n{\r\n    transform-origin: top left;\r\n}\r\n```\r\nDo you think this change in behaviour is a bug or is it by design? The issue for us is that we would have to change the css on many client machines to cope with the change in the weasyprint library. If not a bug and expected behaviour, would you be able to give us any advice as to how we might change our local copy of weasyprint to revert back to the previous behaviour?\r\n\r\nI\u2019ve attached a zip containing all html, css and images used, along with the test.py script used to generate the pdf.\r\n\r\n[wptesta4pgh.zip](https://github.com/Kozea/WeasyPrint/files/4895134/wptesta4pgh.zip)\r\n\r\nThanks for your time\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1145", "id": 640614058, "node_id": "MDU6SXNzdWU2NDA2MTQwNTg=", "number": 1145, "title": "Bookmarks repeat on every page", "user": {"login": "arikrupnik", "id": 1756197, "node_id": "MDQ6VXNlcjE3NTYxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1756197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arikrupnik", "html_url": "https://github.com/arikrupnik", "followers_url": "https://api.github.com/users/arikrupnik/followers", "following_url": "https://api.github.com/users/arikrupnik/following{/other_user}", "gists_url": "https://api.github.com/users/arikrupnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/arikrupnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arikrupnik/subscriptions", "organizations_url": "https://api.github.com/users/arikrupnik/orgs", "repos_url": "https://api.github.com/users/arikrupnik/repos", "events_url": "https://api.github.com/users/arikrupnik/events{/privacy}", "received_events_url": "https://api.github.com/users/arikrupnik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 8, "created_at": "2020-06-17T17:21:00Z", "updated_at": "2020-09-23T19:33:55Z", "closed_at": "2020-09-23T19:33:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm formatting an XML file. I want to generate an index, but for some reason I'm getting an entry for every section on each page. What am I doing wrong? Using Weasyprint 51 and Python 3.7.5 on Linux.\r\n\r\n```xml\r\n<doc>\r\n  <section heading=\"1976\">\r\n    <section heading=\"Cemetery\">\r\n      <scene>EXT. CEMETERY -- NIGHT</scene>\r\n      Rederik, now 28, lies behind a GRAVESTONE. He has a beard now, but is growing thinner on the top. He squints through a tree branch he's holding in front of his face.\r\n```\r\nCSS snippet:\r\n\r\n```css\r\nsection { bookmark-level: 1; bookmark-label: attr(heading); }\r\nsection > section { bookmark-level: 2; }\r\nsection > section > section { bookmark-level: 3; }\r\n```\r\n![Screenshot_2020-06-17_12-18-50](https://user-images.githubusercontent.com/1756197/84928901-bb2a9580-b094-11ea-8306-0e9d55365ae8.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1144", "id": 640401468, "node_id": "MDU6SXNzdWU2NDA0MDE0Njg=", "number": 1144, "title": "Fixed table heights and vertical stretching.", "user": {"login": "mikerockett", "id": 4586280, "node_id": "MDQ6VXNlcjQ1ODYyODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4586280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikerockett", "html_url": "https://github.com/mikerockett", "followers_url": "https://api.github.com/users/mikerockett/followers", "following_url": "https://api.github.com/users/mikerockett/following{/other_user}", "gists_url": "https://api.github.com/users/mikerockett/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikerockett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikerockett/subscriptions", "organizations_url": "https://api.github.com/users/mikerockett/orgs", "repos_url": "https://api.github.com/users/mikerockett/repos", "events_url": "https://api.github.com/users/mikerockett/events{/privacy}", "received_events_url": "https://api.github.com/users/mikerockett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-17T12:26:49Z", "updated_at": "2021-01-16T13:45:25Z", "closed_at": "2021-01-16T13:45:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given:\r\n\r\n```html\r\n<table style=\"height:10cm\">\r\n  <thead>\r\n  <tbody>\r\n  <tfoot>\r\n</table>\r\n```\r\n\r\nIn Weasyprint, the height is honoured, however the body is not stretched to the point where the footer touches the bottom of the container.\r\n\r\n![image](https://user-images.githubusercontent.com/4586280/84897746-68f27000-b0a6-11ea-8241-facad4e1a697.png)\r\n\r\nIn the browser (as tested in Chrome), the table grows to match the height, as expected.\r\n\r\n![image](https://user-images.githubusercontent.com/4586280/84897768-73146e80-b0a6-11ea-8710-a871b21f149e.png)\r\n\r\nIs there perhaps a workaround for this?\r\n\r\nThanks! :)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1114", "id": 617618851, "node_id": "MDU6SXNzdWU2MTc2MTg4NTE=", "number": 1114, "title": "Comma converts 'solid' to tuple", "user": {"login": "Tlki", "id": 42952579, "node_id": "MDQ6VXNlcjQyOTUyNTc5", "avatar_url": "https://avatars.githubusercontent.com/u/42952579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tlki", "html_url": "https://github.com/Tlki", "followers_url": "https://api.github.com/users/Tlki/followers", "following_url": "https://api.github.com/users/Tlki/following{/other_user}", "gists_url": "https://api.github.com/users/Tlki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tlki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tlki/subscriptions", "organizations_url": "https://api.github.com/users/Tlki/orgs", "repos_url": "https://api.github.com/users/Tlki/repos", "events_url": "https://api.github.com/users/Tlki/events{/privacy}", "received_events_url": "https://api.github.com/users/Tlki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 3, "created_at": "2020-05-13T17:15:53Z", "updated_at": "2020-05-15T09:55:49Z", "closed_at": "2020-05-15T09:54:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, just remove that comma.\r\nhttps://github.com/Kozea/WeasyPrint/blob/29309aa67359a7629a47a37305306db6e87ecde4/weasyprint/formatting_structure/build.py#L1078", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1111", "id": 616324938, "node_id": "MDU6SXNzdWU2MTYzMjQ5Mzg=", "number": 1111, "title": "RTL: Last line of block elements has incorrect position", "user": {"login": "sagarvora", "id": 16315650, "node_id": "MDQ6VXNlcjE2MzE1NjUw", "avatar_url": "https://avatars.githubusercontent.com/u/16315650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagarvora", "html_url": "https://github.com/sagarvora", "followers_url": "https://api.github.com/users/sagarvora/followers", "following_url": "https://api.github.com/users/sagarvora/following{/other_user}", "gists_url": "https://api.github.com/users/sagarvora/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagarvora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagarvora/subscriptions", "organizations_url": "https://api.github.com/users/sagarvora/orgs", "repos_url": "https://api.github.com/users/sagarvora/repos", "events_url": "https://api.github.com/users/sagarvora/events{/privacy}", "received_events_url": "https://api.github.com/users/sagarvora/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 2645012113, "node_id": "MDU6TGFiZWwyNjQ1MDEyMTEz", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/sponsored", "name": "sponsored", "color": "f3539e", "default": false, "description": "Issues sponsored to be resolved faster"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 2, "created_at": "2020-05-12T03:12:26Z", "updated_at": "2021-01-09T19:19:29Z", "closed_at": "2020-05-18T19:44:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Code:\r\n```\r\n<div style='direction:rtl'>\r\n\u064a\u062d\u062a\u0648\u064a \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u0646\u062f \u0639\u0644\u0649 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0633\u0631\u064a\u0629 \u0648\u0645\u0644\u0643\u064a\u0629\u060c \u0648\u0648\u0627\u062c\u0628\u0646\u0627 \u0647\u0648 \u062d\u0645\u0627\u064a\u0629 \u0647\u0630\u0647 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u062d\u0641\u0638\u0647\u0627 \u0628\u0634\u0643\u0644 \u0639\u0644\u0649 \u0646\u062d\u0648 \u0643\u0627\u0641\u064d. \u064a\u062a\u0645 \u062a\u0648\u0641\u064a\u0631 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u0646\u062f \u0627\u0639\u062a\u0645\u0627\u062f\u0627\u064b \u0639\u0644\u0649 \u0639\u062f\u0645 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0623\u0648 \u0627\u0644\u0643\u0634\u0641 \u0639\u0646\u0647\u0627 \u0628\u0627\u0633\u062a\u062b\u0646\u0627\u0621 \u0643\u0648\u0646 \u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0641\u064a \u0633\u064a\u0627\u0642 \u0627\u0644\u062a\u0639\u0627\u0645\u0644\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0645\u0639 \u0634\u0631\u0643\u0629 \u0627\u0644\u0628\u0631\u0645\u062c\u064a\u0627\u062a \u0627\u0644\u0645\u0628\u062a\u0643\u0631\u0629 \u0627\u0644\u0645\u062d\u062f\u0648\u062f\u0629 (\u0625\u0646\u0648\u0633\u0648\u0641\u062a) \u0641\u0642\u0637. \u0628\u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0644\u0630\u0644\u0643\u060c \u0623\u062b\u0646\u0627\u0621 \u0641\u062a\u0631\u0629 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u060c \u0633\u0646\u062a\u0628\u0627\u062f\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629 \u0642\u062f \u062a\u0643\u0648\u0646 \u0633\u0631\u064a\u0629 \u0623\u0648 \u062e\u0627\u0635\u0629. \u0648\u0644\u0636\u0645\u0627\u0646 \u062d\u0645\u0627\u064a\u0629 \u062c\u0645\u064a\u0639 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a\u060c \u064a\u0648\u0627\u0641\u0642 \u0627\u0644\u0637\u0631\u0641\u0627\u0646 \u0639\u0644\u0649 \u0627\u062a\u0628\u0627\u0639 \u0627\u0644\u0633\u0631\u064a\u0629. \u0641\u064a \u0634\u0631\u0643\u0629 \u0625\u0646\u0648\u0633\u0648\u0641\u062a\u060c \u062a\u0639\u062a\u0628\u0631 \u0639\u0644\u0627\u0642\u062a\u0646\u0627 \u0645\u0639 \u0627\u0644\u0639\u0645\u064a\u0644 \u0634\u0631\u0627\u0643\u0629 \u0637\u0648\u064a\u0644\u0629 \u0627\u0644\u0623\u0645\u062f \u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0634\u0643\u0644 \u0643\u0628\u064a\u0631 \u0628\u0627\u062d\u062a\u0631\u0627\u0645 \u0648\u0648\u0644\u0627\u0621 \u0648\u062b\u0642\u0629 \u0642\u0648\u064a\u0629 \u0641\u064a \u0646\u0632\u0627\u0647\u0629 \u0628\u0639\u0636\u0646\u0627 \u0627\u0644\u0628\u0639\u0636.\r\n</div>\r\n```\r\n\r\nOutput using weasyprint renderer:\r\n![Screenshot from 2020-05-12 08-37-49](https://user-images.githubusercontent.com/16315650/81634354-6e67f500-942c-11ea-850b-85a9bcc146e8.png)\r\n\r\nExpected Output: \r\nLast line should be indented same as other lines.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1110", "id": 616322928, "node_id": "MDU6SXNzdWU2MTYzMjI5Mjg=", "number": 1110, "title": "RTL: floated elements not visible in PDF", "user": {"login": "sagarvora", "id": 16315650, "node_id": "MDQ6VXNlcjE2MzE1NjUw", "avatar_url": "https://avatars.githubusercontent.com/u/16315650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagarvora", "html_url": "https://github.com/sagarvora", "followers_url": "https://api.github.com/users/sagarvora/followers", "following_url": "https://api.github.com/users/sagarvora/following{/other_user}", "gists_url": "https://api.github.com/users/sagarvora/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagarvora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagarvora/subscriptions", "organizations_url": "https://api.github.com/users/sagarvora/orgs", "repos_url": "https://api.github.com/users/sagarvora/repos", "events_url": "https://api.github.com/users/sagarvora/events{/privacy}", "received_events_url": "https://api.github.com/users/sagarvora/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 2645012113, "node_id": "MDU6TGFiZWwyNjQ1MDEyMTEz", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/sponsored", "name": "sponsored", "color": "f3539e", "default": false, "description": "Issues sponsored to be resolved faster"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 7, "created_at": "2020-05-12T03:05:36Z", "updated_at": "2021-01-09T19:19:38Z", "closed_at": "2020-05-22T15:11:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Issue:\r\nElements with the `float` CSS property do not render properly for RTL. I think it has to do with some of the changes introduced in #1079. I think weasyprint internally changes `float: left` to mean `float: right` for RTL but I don't think that's expected behavior.\r\n\r\nWeasyprint `v51` Output:\r\n\r\n![Screenshot from 2020-05-12 08-15-34](https://user-images.githubusercontent.com/16315650/81632838-dae0f500-9428-11ea-8b64-90a53d072df6.png)\r\n\r\nWeasyprint `master` branch Output:\r\n\r\n![Screenshot from 2020-05-12 08-09-18](https://user-images.githubusercontent.com/16315650/81632885-f5b36980-9428-11ea-9096-a00497bd57bd.png)\r\n\r\nExpected Output (rendered using `wkhtmltopdf`):\r\n\r\n![Screenshot from 2020-05-12 08-02-12](https://user-images.githubusercontent.com/16315650/81632913-08c63980-9429-11ea-9324-015d58494f1e.png)\r\n\r\nSource Code:\r\nhttps://gist.github.com/sagarvora/b3841a2852971ed4ceaf4eb7564b588b", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1094", "id": 593625732, "node_id": "MDU6SXNzdWU1OTM2MjU3MzI=", "number": 1094, "title": "Uneven repartition of text between columns", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 1, "created_at": "2020-04-03T20:34:16Z", "updated_at": "2021-11-10T20:22:29Z", "closed_at": "2021-11-10T20:22:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See #1026.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1094/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1093", "id": 593625615, "node_id": "MDU6SXNzdWU1OTM2MjU2MTU=", "number": 1093, "title": "Missing border around absolute images", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 0, "created_at": "2020-04-03T20:34:01Z", "updated_at": "2022-04-05T10:38:08Z", "closed_at": "2022-04-05T10:38:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See #1026.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1093/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1086", "id": 587751138, "node_id": "MDU6SXNzdWU1ODc3NTExMzg=", "number": 1086, "title": "table border formating overritten for last row on page", "user": {"login": "krug33", "id": 52001609, "node_id": "MDQ6VXNlcjUyMDAxNjA5", "avatar_url": "https://avatars.githubusercontent.com/u/52001609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krug33", "html_url": "https://github.com/krug33", "followers_url": "https://api.github.com/users/krug33/followers", "following_url": "https://api.github.com/users/krug33/following{/other_user}", "gists_url": "https://api.github.com/users/krug33/gists{/gist_id}", "starred_url": "https://api.github.com/users/krug33/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krug33/subscriptions", "organizations_url": "https://api.github.com/users/krug33/orgs", "repos_url": "https://api.github.com/users/krug33/repos", "events_url": "https://api.github.com/users/krug33/events{/privacy}", "received_events_url": "https://api.github.com/users/krug33/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-25T14:47:19Z", "updated_at": "2021-01-16T14:07:49Z", "closed_at": "2021-01-16T14:07:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everybody,\r\n\r\nfirst of all, I want to thank you for this great tool.\r\n\r\nI\u2019m working with it to make pdf-invoices with letterhead and content tables, which are separated in\r\n*  `thead` with margin to top for page-break and column header on every page\r\n*  `tfoot` with margin to the bottom for page-break\r\n*  `tbody` with start, content and result rows\r\n\r\nThe column header and content rows have inner and outer borders, the start and result row have just an outer border and margin-rows have no border.\r\n\r\n**Now my problem is**, if the table goes over more than one page, on every page the last content-row has the same border formatting as the last row of the whole table. In case of fig 1, this is the margin-row that is in `tfoot` and has no borders.\r\n\r\n![grafik](https://user-images.githubusercontent.com/52001609/77548168-75539c00-6eae-11ea-9205-79d559d7a925.png)\r\n\r\nI've tried several modifications to CSS but got no success.\r\nDo I anything wrong or is it a bug?\r\n\r\nThank you and best regards\r\nThomas\r\n\r\nPS: I attached the HTML including CSS and resulting PDF.\r\n\r\n[pagingTableBorderExample.txt](https://github.com/Kozea/WeasyPrint/files/4381491/pagingTableBorderExample.txt)\r\n[test.pdf](https://github.com/Kozea/WeasyPrint/files/4381592/test.pdf)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1086/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1081", "id": 585465448, "node_id": "MDU6SXNzdWU1ODU0NjU0NDg=", "number": 1081, "title": "Rotated headers missing from pdf when `write_pdf` is invoked twice from the same document", "user": {"login": "bastbnl", "id": 5901491, "node_id": "MDQ6VXNlcjU5MDE0OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5901491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bastbnl", "html_url": "https://github.com/bastbnl", "followers_url": "https://api.github.com/users/bastbnl/followers", "following_url": "https://api.github.com/users/bastbnl/following{/other_user}", "gists_url": "https://api.github.com/users/bastbnl/gists{/gist_id}", "starred_url": "https://api.github.com/users/bastbnl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bastbnl/subscriptions", "organizations_url": "https://api.github.com/users/bastbnl/orgs", "repos_url": "https://api.github.com/users/bastbnl/repos", "events_url": "https://api.github.com/users/bastbnl/events{/privacy}", "received_events_url": "https://api.github.com/users/bastbnl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 3, "created_at": "2020-03-21T09:41:42Z", "updated_at": "2022-04-25T22:07:22Z", "closed_at": "2022-04-25T22:07:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all I'd like to thank you all for maintaining such a wonderful module, including beautiful examples. \r\n\r\nFor some reason I called `write_pdf` more than once on the `Document` and noticed that the pdf created by the second call differs from the pdf that's created when it is first called. The most obvious difference is that rotated headers are missing from the document created by the second call.\r\n\r\n- `WeasyPrint==51`\r\n- Python 3.5.3\r\n- Debian 9.12 \r\n\r\nThere is a warning when `weasyprint` is imported, which might be related. \r\n`document.py:36: UserWarning: There are known rendering problems and missing features with cairo < 1.15.4. WeasyPrint may work with older versions, but please read the note about the needed cairo version on the \"Install\" page of the documentation before reporting bugs. http://weasyprint.readthedocs.io/en/latest/install.html`\r\n\r\nThis script reproduces the error:\r\n```\r\nfrom weasyprint import HTML, CSS\r\n\r\npdf_payload = HTML(\r\n filename='weasyprint-rotated-headers.html',\r\n)\r\n\r\npdf_document = pdf_payload.render(\r\n stylesheets=[\r\n  CSS(\r\n   filename='weasyprint-rotated-headers.css',\r\n  ),\r\n ]\r\n)\r\n\r\npdf_document.write_pdf(target='x1.pdf')\r\npdf_document.write_pdf(target='x2.pdf')\r\n```\r\n\r\n`weasyprint-rotated-headers.html`:\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n <head>\r\n  <title>\r\n   xxxx\r\n  </title>\r\n </head>\r\n <body style=\"font-family: Rubik;\">\r\n  <article id=\"cover\">\r\n  </article>\r\n  <article id=\"detail\">\r\n   <h3>\r\n    XXX\r\n   </h3>\r\n   <table>\r\n    <thead>\r\n     <tr>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         1\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         2\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         3\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         4\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         5\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         6\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         7\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         8\r\n        </span>\r\n       </div>\r\n      </th>\r\n      <th class=\"rotate\">\r\n       <div>\r\n        <span>\r\n         9\r\n        </span>\r\n       </div>\r\n      </th>\r\n     </tr>\r\n    </thead>\r\n    <tbody>\r\n     <tr>\r\n      <td style=\"\">\r\n       xxx\r\n      </td>\r\n      <td style=\"\">\r\n       xxx\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align: center; \">\r\n       \u2014\r\n      </td>\r\n      <td style=\"text-align:center; \">\r\n       \u2014\r\n      </td>\r\n     </tr>\r\n    </tbody>\r\n   </table>\r\n  </article>\r\n </body>\r\n</html>\r\n```\r\n\r\n`weasyprint-rotated-headers.css`:\r\n```\r\n  html body th.rotate{\r\n    height:140px;white-space:nowrap}\r\n  html body th.rotate > div{\r\n    transform:translate(25px,51px) rotate(315deg);width:30px}\r\n  html body th.rotate > div > span{\r\n    border-bottom:1px solid #ccc;padding:5px 10px}\r\n```\r\n\r\nRunning the script on the stack I'm using will create 2 pdf files: `x1.pdf` and `x2.pdf`. `x1.pdf` will have rotated headers, `x2.pdf` will not. I'm using Edge (and Firefox) on Windows to view the PDF files.\r\n\r\nThe workaround is pretty simple: write the pdf to a BytesIO and write the payload to multiple files - when you need it - but I thought you might like to know.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1075", "id": 574378583, "node_id": "MDU6SXNzdWU1NzQzNzg1ODM=", "number": 1075, "title": "NBSP between HTML tags break", "user": {"login": "muzzamilkhan", "id": 5826440, "node_id": "MDQ6VXNlcjU4MjY0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5826440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzzamilkhan", "html_url": "https://github.com/muzzamilkhan", "followers_url": "https://api.github.com/users/muzzamilkhan/followers", "following_url": "https://api.github.com/users/muzzamilkhan/following{/other_user}", "gists_url": "https://api.github.com/users/muzzamilkhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzzamilkhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzzamilkhan/subscriptions", "organizations_url": "https://api.github.com/users/muzzamilkhan/orgs", "repos_url": "https://api.github.com/users/muzzamilkhan/repos", "events_url": "https://api.github.com/users/muzzamilkhan/events{/privacy}", "received_events_url": "https://api.github.com/users/muzzamilkhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-03T02:44:57Z", "updated_at": "2021-04-28T13:55:31Z", "closed_at": "2021-04-28T13:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nFirst off, great job with WeasyPrint, have been using it for awhile now and seems a pretty reliable tool!\r\n\r\nI am running into an issue when placing a non-breaking space (&nbsp;) between HTML tags do not work as expected. Eg: `<span>This sentence should not></span>&nbsp;<span>break</span>`\r\n\r\nI have tried this html in the browser and it seems the sentence stays together but does not work when PDF is rendered through WeasyPrint. I have had luck with wrapping the whole thing in `<span style=\"white-space: nowrap;\">....</span>` tag, but this seems like a hack rather than a proper solution. \r\n\r\nReally appreciate any help, thanks!\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1062", "id": 566230798, "node_id": "MDU6SXNzdWU1NjYyMzA3OTg=", "number": 1062, "title": "target-counter can\u2019t find counters in page margins when they have not been used in page content", "user": {"login": "zopyx", "id": 594239, "node_id": "MDQ6VXNlcjU5NDIzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/594239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zopyx", "html_url": "https://github.com/zopyx", "followers_url": "https://api.github.com/users/zopyx/followers", "following_url": "https://api.github.com/users/zopyx/following{/other_user}", "gists_url": "https://api.github.com/users/zopyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zopyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zopyx/subscriptions", "organizations_url": "https://api.github.com/users/zopyx/orgs", "repos_url": "https://api.github.com/users/zopyx/repos", "events_url": "https://api.github.com/users/zopyx/events{/privacy}", "received_events_url": "https://api.github.com/users/zopyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 1, "created_at": "2020-02-17T11:17:05Z", "updated_at": "2020-05-23T19:44:55Z", "closed_at": "2020-05-23T19:44:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current implementation lacks support the `url()` functio.\r\n\r\nExample for injecting a custom total of pages counter where the end of a document is marked by a `div#end`:\r\n\r\n```\r\ncontent: \"Page \" counter(page) \" of \" target-counter(url(\"#end\"), page);\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1058", "id": 563364573, "node_id": "MDU6SXNzdWU1NjMzNjQ1NzM=", "number": 1058, "title": "Position of list marker is wrong after a page break", "user": {"login": "craigbass76", "id": 12818479, "node_id": "MDQ6VXNlcjEyODE4NDc5", "avatar_url": "https://avatars.githubusercontent.com/u/12818479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigbass76", "html_url": "https://github.com/craigbass76", "followers_url": "https://api.github.com/users/craigbass76/followers", "following_url": "https://api.github.com/users/craigbass76/following{/other_user}", "gists_url": "https://api.github.com/users/craigbass76/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigbass76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigbass76/subscriptions", "organizations_url": "https://api.github.com/users/craigbass76/orgs", "repos_url": "https://api.github.com/users/craigbass76/repos", "events_url": "https://api.github.com/users/craigbass76/events{/privacy}", "received_events_url": "https://api.github.com/users/craigbass76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 2645012113, "node_id": "MDU6TGFiZWwyNjQ1MDEyMTEz", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/sponsored", "name": "sponsored", "color": "f3539e", "default": false, "description": "Issues sponsored to be resolved faster"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/33", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/33/labels", "id": 7478482, "node_id": "MI_kwDOACFB9M4AchzS", "number": 33, "title": "57.0", "description": "* PDF/UA\r\n* Variable fonts", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2021-12-11T17:28:36Z", "updated_at": "2022-10-18T20:19:17Z", "due_on": null, "closed_at": "2022-10-18T20:19:16Z"}, "comments": 10, "created_at": "2020-02-11T17:31:21Z", "updated_at": "2023-03-28T13:36:12Z", "closed_at": "2022-09-21T16:26:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure what the problem is here. When an ordered list is going over a page break, the text is bumped up a bit. See list item #4. \r\n![list-over-page-break](https://user-images.githubusercontent.com/12818479/74262103-42709280-4cca-11ea-848e-e49be4ae8e45.png)\r\n\r\nI was trying to manually put a page break in there, but then this item#4 kept becoming a new Item#1.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1058/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1051", "id": 559957165, "node_id": "MDU6SXNzdWU1NTk5NTcxNjU=", "number": 1051, "title": "Stray line break", "user": {"login": "drboone", "id": 178248, "node_id": "MDQ6VXNlcjE3ODI0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/178248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drboone", "html_url": "https://github.com/drboone", "followers_url": "https://api.github.com/users/drboone/followers", "following_url": "https://api.github.com/users/drboone/following{/other_user}", "gists_url": "https://api.github.com/users/drboone/gists{/gist_id}", "starred_url": "https://api.github.com/users/drboone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drboone/subscriptions", "organizations_url": "https://api.github.com/users/drboone/orgs", "repos_url": "https://api.github.com/users/drboone/repos", "events_url": "https://api.github.com/users/drboone/events{/privacy}", "received_events_url": "https://api.github.com/users/drboone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 21, "created_at": "2020-02-04T20:21:34Z", "updated_at": "2020-05-24T13:10:38Z", "closed_at": "2020-05-23T15:37:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the attached PDF, weasyprint has inserted a stray line break.  Page one, column two, first full paragraph, between \"through\" and \"remittances\".  I don't _think_ there's anything in the source HTML that should cause this.  Invocation was as simple as:\r\n\r\n`weasyprint -q review_54930.html review_54930.pdf`\r\n\r\nThere are a few errors on each run of weasyprint for any of our inputs.  They don't seem to be critical.\r\n\r\n```\r\n/opt/local/lib/python3.7/site-packages/weasyprint/fonts.py:230: UserWarning: FontConfig: No fonts configured. Expect ugly output.\r\n  'FontConfig: No fonts configured. '\r\n/opt/local/lib/python3.7/site-packages/weasyprint/__init__.py:120: FutureWarning: The behavior of this method will change in future versions.  Use specific 'len(elem)' or 'elem is not None' test instead.\r\n  assert result\r\n```\r\n\r\nI will attach the input HTML and CSS as well as the PDF.  Github is reliably crashing my chromium today, so it may take several tries.\r\n\r\n[review_54930_html.txt](https://github.com/Kozea/WeasyPrint/files/4155847/review_54930_html.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1028", "id": 549135449, "node_id": "MDU6SXNzdWU1NDkxMzU0NDk=", "number": 1028, "title": "Font weights missing when using @font-face rules", "user": {"login": "trthatcher", "id": 4790109, "node_id": "MDQ6VXNlcjQ3OTAxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4790109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trthatcher", "html_url": "https://github.com/trthatcher", "followers_url": "https://api.github.com/users/trthatcher/followers", "following_url": "https://api.github.com/users/trthatcher/following{/other_user}", "gists_url": "https://api.github.com/users/trthatcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/trthatcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trthatcher/subscriptions", "organizations_url": "https://api.github.com/users/trthatcher/orgs", "repos_url": "https://api.github.com/users/trthatcher/repos", "events_url": "https://api.github.com/users/trthatcher/events{/privacy}", "received_events_url": "https://api.github.com/users/trthatcher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/37", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/37/labels", "id": 7984559, "node_id": "MI_kwDOACFB9M4AedWv", "number": 37, "title": "56.0", "description": "* Bitmap fonts\r\n* Improved line-clamp support\r\n* PDF/A", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2022-05-16T10:52:03Z", "updated_at": "2022-07-07T19:38:02Z", "due_on": null, "closed_at": "2022-07-07T19:38:02Z"}, "comments": 18, "created_at": "2020-01-13T19:31:29Z", "updated_at": "2022-06-30T02:08:02Z", "closed_at": "2022-06-08T14:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey!\r\n\r\nAwesome project here - spectacular work.\r\n\r\nUnfortunately, I've run into an issue with font-weights and I can't seem to resolve it. I'm working with a font that has several weights available (400, 500, 700), but the 500 weight does not appear to be used in the pdf output of WeasyPrint. It seems to fall back to the 400. When I open an HTML document in Chromium/Firefox, the 500 weight font is definitely rendering. I've gone through the older issues related to font, but didn't come across anything that seemed to be related.\r\n\r\nI've downloaded these three fonts:\r\n  - http://tug.ctan.org/fonts/roboto/opentype/Roboto-Regular.otf\r\n  - http://tug.ctan.org/fonts/roboto/opentype/Roboto-Medium.otf\r\n  - http://tug.ctan.org/fonts/roboto/opentype/Roboto-Bold.otf\r\n\r\nand placed them in a `/fonts` folder. This is the HTML/CSS I'm using:\r\n\r\n```html\r\n<!doctype html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <style>\r\n        @font-face {\r\n            font-family: \"Roboto\";\r\n            font-style: normal;\r\n            font-weight: 400;\r\n            src: url(fonts/Roboto-Regular.otf) format(\"opentype\");\r\n        }\r\n\r\n        @font-face {\r\n            font-family: \"Roboto\";\r\n            font-style: normal;\r\n            font-weight: 500;\r\n            src: url(fonts/Roboto-Medium.otf) format(\"opentype\");\r\n        }\r\n\r\n        @font-face {\r\n            font-family: \"Roboto\";\r\n            font-style: normal;\r\n            font-weight: 700;\r\n            src: url(fonts/Roboto-Bold.otf) format(\"opentype\");\r\n        }\r\n\r\n        p:before {\r\n            content: 'Bacon ipsum dolor amet sausage rump tongue';\r\n        }\r\n\r\n        body {\r\n            font: 16px serif;\r\n        }\r\n\r\n        .normal {\r\n            font-family: 'Roboto';\r\n            font-weight: 400;\r\n        }\r\n\r\n        .medium {\r\n            font-family: 'Roboto';\r\n            font-weight: 500;\r\n        }\r\n\r\n        .bold {\r\n            font-family: 'Roboto';\r\n            font-weight: 700;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<p></p>\r\n<p class=\"normal\"></p>\r\n<p class=\"medium\"></p>\r\n<p class=\"bold\"></p>\r\n</body>\r\n</html>\r\n```\r\n\r\nAnd here's the output of `weasyprint -i`:\r\n\r\n```bash\r\nSystem: Linux\r\nMachine: x86_64\r\nVersion: #34~18.04.2-Ubuntu SMP Thu Oct 10 10:36:02 UTC 2019\r\nRelease: 5.0.0-32-generic\r\n\r\nWeasyPrint version: 51\r\nPython version: 3.7.4\r\nCairo version: 11510\r\nPango version: 14014\r\nCairoSVG version: 2.4.2\r\n```\r\n\r\nThanks in advance!", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1015", "id": 541344487, "node_id": "MDU6SXNzdWU1NDEzNDQ0ODc=", "number": 1015, "title": "Adding a margin-top to a multi-column div will push it to the next page", "user": {"login": "brendanhowell", "id": 1779453, "node_id": "MDQ6VXNlcjE3Nzk0NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1779453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanhowell", "html_url": "https://github.com/brendanhowell", "followers_url": "https://api.github.com/users/brendanhowell/followers", "following_url": "https://api.github.com/users/brendanhowell/following{/other_user}", "gists_url": "https://api.github.com/users/brendanhowell/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanhowell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanhowell/subscriptions", "organizations_url": "https://api.github.com/users/brendanhowell/orgs", "repos_url": "https://api.github.com/users/brendanhowell/repos", "events_url": "https://api.github.com/users/brendanhowell/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanhowell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-21T16:27:57Z", "updated_at": "2022-09-16T22:56:13Z", "closed_at": "2022-09-16T22:56:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I add a bit of top margin to a div with multiple columns it jumps to the next page. Here's a minimal test case:\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n  <title>NEWS</title>\r\n  <meta charset=\"utf-8\">\r\n  <style>\r\n    #columns {\r\n      column-count: 4;\r\n      margin-top: 1em;\r\n    }\r\n    .bigdiv {\r\n      font-size: 36pt;\r\n    }\r\n  </style>\r\n  </head>\r\n  <body>\r\n    <h1>head</h1>\r\n    <div id=\"columns\">\r\n      <div class=\"bigdiv\">these these these</div>\r\n      <div class=\"bigdiv\">big</div>\r\n      <div class=\"bigdiv\">divs</div>\r\n      <div class=\"bigdiv\">should</div>\r\n      <div class=\"bigdiv\">run</div>\r\n      <div class=\"bigdiv\">to</div>\r\n      <div class=\"bigdiv\">the </div>\r\n      <div class=\"bigdiv\">next</div>\r\n      <div class=\"bigdiv\">page</div>\r\n      <div class=\"bigdiv\">these</div>\r\n      <div class=\"bigdiv\">big</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">divs</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">should</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">run</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">to</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">the </div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">next</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n      <div class=\"bigdiv\">page</div>\r\n      <div class=\"bigdiv\"><img src=\"file:///tmp/100x400px.png\" /></div>\r\n    </div>\r\n  </body>\r\n</html>\r\n```\r\n![100x400px](https://user-images.githubusercontent.com/1779453/71310672-1990f700-2417-11ea-92d9-5f5763fd8015.png)\r\n[columntest.pdf](https://github.com/Kozea/WeasyPrint/files/3991577/columntest.pdf)\r\n\r\n\r\nIt's not critical, as I can work around this by simply adding an empty div with the height I want.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1015/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1007", "id": 538060577, "node_id": "MDU6SXNzdWU1MzgwNjA1Nzc=", "number": 1007, "title": "Make 'inherit' value work correctly for shorthand properties", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 876622221, "node_id": "MDU6TGFiZWw4NzY2MjIyMjE=", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/good%20first%20issue", "name": "good first issue", "color": "0fc448", "default": true, "description": "Issues that can be quite easily solved by Python developers with a good CSS background"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/32", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/32/labels", "id": 7166189, "node_id": "MI_kwDOACFB9M4AbVjt", "number": 32, "title": "55.0", "description": "* Faster rendering\r\n* Smaller generated PDFs\r\n* Better multi-column support\r\n* Higher test coverage\r\n* Code cleanup", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2021-09-19T16:40:05Z", "updated_at": "2022-05-13T08:41:00Z", "due_on": null, "closed_at": "2022-05-13T08:41:00Z"}, "comments": 6, "created_at": "2019-12-15T14:45:25Z", "updated_at": "2022-01-08T14:54:39Z", "closed_at": "2022-01-08T14:54:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From [Cascading and Inheritance](https://www.w3.org/TR/css-cascade-3/#shorthand):\r\n\r\n> If a shorthand is specified as one of the CSS-wide keywords, it sets all of its sub-properties to that keyword [\u2026].\r\n\r\nIt should be probably handled by the `expander` decorator.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1005", "id": 535255290, "node_id": "MDU6SXNzdWU1MzUyNTUyOTA=", "number": 1005, "title": "Tables and rows not rendered correctly.", "user": {"login": "bobozar", "id": 25740878, "node_id": "MDQ6VXNlcjI1NzQwODc4", "avatar_url": "https://avatars.githubusercontent.com/u/25740878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobozar", "html_url": "https://github.com/bobozar", "followers_url": "https://api.github.com/users/bobozar/followers", "following_url": "https://api.github.com/users/bobozar/following{/other_user}", "gists_url": "https://api.github.com/users/bobozar/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobozar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobozar/subscriptions", "organizations_url": "https://api.github.com/users/bobozar/orgs", "repos_url": "https://api.github.com/users/bobozar/repos", "events_url": "https://api.github.com/users/bobozar/events{/privacy}", "received_events_url": "https://api.github.com/users/bobozar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 3, "created_at": "2019-12-09T20:14:06Z", "updated_at": "2019-12-17T10:12:02Z", "closed_at": "2019-12-15T21:38:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having issues with Weasyprint rendering the table header and rows correctly. I used an external service to test my html and it rendered perfectly fine. But Weasyprint didn't render the table header and rows correctly.\r\n\r\nBelow is how the table header looks.\r\n\r\n![image](https://user-images.githubusercontent.com/25740878/70469031-8d064080-1ac8-11ea-8ba5-03ade20c9c05.png)\r\n\r\n\r\n\r\n\r\n\r\n```\r\n `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\r\n<head>\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <style type=\"text/css\">\r\n        a {\r\n            text-decoration: none !important;\r\n        }\r\n        \r\n        #outlook a {\r\n            padding: 0;\r\n        }\r\n        \r\n        body {\r\n            width: 100% !important;\r\n            min-width: 100%;\r\n            -webkit-text-size-adjust: 100%;\r\n            -ms-text-size-adjust: 100%;\r\n            margin: 0;\r\n            Margin: 0;\r\n            padding: 0;\r\n            -moz-box-sizing: border-box;\r\n            -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        table {\r\n            border-spacing: 0;\r\n            border-collapse: collapse;\r\n        }\r\n        \r\n        td {\r\n            word-wrap: break-word;\r\n            -webkit-hyphens: auto;\r\n            -moz-hyphens: auto;\r\n            hyphens: auto;\r\n            border-collapse: collapse !important;\r\n        }\r\n        \r\n        table.table-transactions tr:nth-child(odd) {\r\n            background: #E8E8E8\r\n        }\r\n        \r\n        table.table-transactions tr:first-child {\r\n            background: transparent;\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body style=\"margin:0; padding:0; background-color:#F2F2F2;\">\r\n    <center>\r\n        <table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#F2F2F2\">\r\n            <tr>\r\n                <td align=\"center\" valign=\"top\">\r\n                    <table width=\"600\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"max-width:100%; width:100%;background: #26094F\">\r\n                        <tr>\r\n                            <td align=\"left\" valign=\"top\" style=\"padding: 15px 25px;\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;\">MA - 0493494034</p>\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;\">From: 01-Jan-2019 - 24-Nov-2019</p>\r\n                            </td>\r\n                            <td align=\"right\" valign=\"middle\" style=\"padding: 15px 25px;\">\r\n                                <img src=\"http://example.com/assets/img/logo.png\" style=\"max-width: 100%;height: 40px;\">\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\" valign=\"top\">\r\n                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"max-width:100%; width:100%;background: #fff\">\r\n                        <tr>\r\n                            <td align=\"left\" valign=\"top\" style=\"padding: 30px;text-align: left;\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #000;font-size: 16px;text-align: left;\">MAX INC<br> 0493494034\r\n                                </p>\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #000;font-size: 14px;text-align: left;margin-top: 60px;\">11, THEGDF GARDENS<br> Manchester, United Kingdom\r\n                                </p>\r\n                            </td>\r\n                            <td align=\"right\" valign=\"top\" style=\"padding: 30px;text-align: right;\">\r\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"max-width:100%; width:100%;\">\r\n                                    <tr>\r\n                                        <td align=\"left\" valign=\"top\" style=\"padding: 15px 0\">\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;padding:5px;text-align: left;margin:0 0 1px\">CurMAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">Opening MAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">Total MAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">Total MAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">Closing MAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">MAX</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#26094F;font-size: 16px;text-align: left;padding:5px;margin:0 0 1px\">MAX</p>\r\n                                        </td>\r\n                                        <td align=\"right\" valign=\"middle\" style=\"padding: 15px 0\">\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">USD</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">5,000,000</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">500,000</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">25,000,000</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">15,000,000</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">80</p>\r\n                                            <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;background:#5c467b;font-size: 16px;text-align: right;padding:5px;margin:0 0 1px\">10</p>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\" valign=\"top\">\r\n                    <table class=\"table-transactions\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"max-width: 100%; width:100%;background: #fff\">\r\n                        <tr>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">TMAX Date</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">TMAX Details</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">Reference</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">DeMAX</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">WithMAX</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #fff;font-size: 16px;text-align: left;background:#26094F;padding: 5px 0 5px 20px;margin-bottom: 0;\">BalMAX</p>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">01 Jan, 2019</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">TRF to HPMAX</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">0002928482492042</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">0.00</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">52,000</p>\r\n                            </td>\r\n                            <td align=\"left\" valign=\"top\">\r\n                                <p style=\"font-family:Arial, Helvetica, sans-serif, sans-serif;font-weight:500;color: #555;font-size: 14px;text-align: left;padding: 5px 0 5px 20px;\">USD5,000,000</p>\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                    </table>\r\n                </td>\r\n            </tr>\r\n            \r\n        </table>\r\n    </center>\r\n</body>\r\n\r\n</html>`\r\n\r\n\r\n```\r\n\r\nWhat am I missing?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1001", "id": 530564894, "node_id": "MDU6SXNzdWU1MzA1NjQ4OTQ=", "number": 1001, "title": "Tables not rendered correctly when they should have moved to next page", "user": {"login": "mattieusch", "id": 47300287, "node_id": "MDQ6VXNlcjQ3MzAwMjg3", "avatar_url": "https://avatars.githubusercontent.com/u/47300287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattieusch", "html_url": "https://github.com/mattieusch", "followers_url": "https://api.github.com/users/mattieusch/followers", "following_url": "https://api.github.com/users/mattieusch/following{/other_user}", "gists_url": "https://api.github.com/users/mattieusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattieusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattieusch/subscriptions", "organizations_url": "https://api.github.com/users/mattieusch/orgs", "repos_url": "https://api.github.com/users/mattieusch/repos", "events_url": "https://api.github.com/users/mattieusch/events{/privacy}", "received_events_url": "https://api.github.com/users/mattieusch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 1, "created_at": "2019-11-30T11:03:55Z", "updated_at": "2019-12-20T13:44:20Z", "closed_at": "2019-12-20T13:44:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think i've ran into a bug: when a table does not fit on one page anymore, it is not moved correctly to the next page. Instead, it's height and width is reduced to almost zero, leaving just a small bar. See the PoC below:\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n<body>\r\n  <div style=\"height: 22cm; background-color: green;\"></div>\r\n  <p>div: 22cm - Before table</p>\r\n  <table style=\"background-color: red;\">\r\n    <thead>\r\n      <tr>\r\n        <td>xx</td>\r\n      </tr>\r\n      <tr>\r\n        <td>xx</td>\r\n      </tr>\r\n      <tr>\r\n        <td>xx</td>\r\n      </tr>\r\n    </thead>\r\n  </table>\r\n  <p>After table</p>\r\n</body>\r\n</html> \r\n```\r\nCase 1: when the first div is small enough to leave sufficient room for the table, everything renders correctly. (div height = 21cm or lower)\r\n\r\nCase 2: when the div this so large that it pushes the 'Before table' text to the next page, everything renders correctly (div height = 25 or more).\r\n\r\nCase 3: when the div's height leave enough room for the 'Before table' text but not for the (entire) table, the table is not rendered correctly. (22cm - 24 cm).\r\n\r\nI've noticed this behavior in WeasyPrint 43 - 50 (didn't check all intermediary versions though).\r\n![21cm_ok](https://user-images.githubusercontent.com/47300287/69899634-86115c80-1369-11ea-8278-dab900e3e1ed.png)\r\n![22cm_nok](https://user-images.githubusercontent.com/47300287/69899635-8c073d80-1369-11ea-96f4-88e935fadd39.png)\r\n![24cm_nok](https://user-images.githubusercontent.com/47300287/69899637-8f022e00-1369-11ea-99f6-0ab8d164fb2a.png)\r\n![25cm_ok](https://user-images.githubusercontent.com/47300287/69899640-91648800-1369-11ea-87ee-43f9ae2e85e2.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/1000", "id": 530474640, "node_id": "MDU6SXNzdWU1MzA0NzQ2NDA=", "number": 1000, "title": "Pandoc highlight CSS renders weirdly ", "user": {"login": "roxspring", "id": 783694, "node_id": "MDQ6VXNlcjc4MzY5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/783694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roxspring", "html_url": "https://github.com/roxspring", "followers_url": "https://api.github.com/users/roxspring/followers", "following_url": "https://api.github.com/users/roxspring/following{/other_user}", "gists_url": "https://api.github.com/users/roxspring/gists{/gist_id}", "starred_url": "https://api.github.com/users/roxspring/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roxspring/subscriptions", "organizations_url": "https://api.github.com/users/roxspring/orgs", "repos_url": "https://api.github.com/users/roxspring/repos", "events_url": "https://api.github.com/users/roxspring/events{/privacy}", "received_events_url": "https://api.github.com/users/roxspring/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 3, "created_at": "2019-11-29T19:55:57Z", "updated_at": "2020-03-16T23:05:46Z", "closed_at": "2020-03-16T23:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given this markdown:\r\n\r\n```js\r\nfunction helloWorld() {\r\n  return 'Hello, World!';\r\n}\r\n```\r\n\r\nPandoc (2.7.3) produces [this html](https://gist.github.com/roxspring/7f3b1f97b8fbf3eaa680fa6bd5b463cd) which safari renders reasonably as:\r\n\r\n<img width=\"212\" alt=\"Screenshot 2019-11-29 at 19 47 19\" src=\"https://user-images.githubusercontent.com/783694/69888062-d80e9f80-12e1-11ea-98e2-31bb00da187a.png\">\r\n\r\n\r\nBut when processed through WeasyPrint (48) some weird wrapping occurs:\r\n\r\n![png](https://user-images.githubusercontent.com/783694/69888128-32a7fb80-12e2-11ea-80b0-057556ce6ead.png)\r\n\r\nHas anybody else seen this?\r\n\r\nIs there something odd in the pandoc-supplied CSS and tripping up WeasyPrint?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/1000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/998", "id": 528807345, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ1ODAwODAx", "number": 998, "title": "When changing Layout's attribute in set_text, do not override them", "user": {"login": "knixeur", "id": 1289632, "node_id": "MDQ6VXNlcjEyODk2MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1289632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knixeur", "html_url": "https://github.com/knixeur", "followers_url": "https://api.github.com/users/knixeur/followers", "following_url": "https://api.github.com/users/knixeur/following{/other_user}", "gists_url": "https://api.github.com/users/knixeur/gists{/gist_id}", "starred_url": "https://api.github.com/users/knixeur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knixeur/subscriptions", "organizations_url": "https://api.github.com/users/knixeur/orgs", "repos_url": "https://api.github.com/users/knixeur/repos", "events_url": "https://api.github.com/users/knixeur/events{/privacy}", "received_events_url": "https://api.github.com/users/knixeur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 3, "created_at": "2019-11-26T15:41:17Z", "updated_at": "2019-12-15T14:09:30Z", "closed_at": "2019-12-15T13:38:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/998", "html_url": "https://github.com/Kozea/WeasyPrint/pull/998", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/998.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/998.patch", "merged_at": "2019-12-15T13:38:20Z"}, "body": "Between tags v43 and v44 there was a refactor in class Layout. Settings the layout attributes was done in one place and after the refactor it's done during setup() and somethings during set_text() call.\r\nset_text's is overriding the attributes set by setup", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/998/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/991", "id": 520052321, "node_id": "MDU6SXNzdWU1MjAwNTIzMjE=", "number": 991, "title": "Floating elements disappear when duplicating page", "user": {"login": "ewingrj", "id": 30963004, "node_id": "MDQ6VXNlcjMwOTYzMDA0", "avatar_url": "https://avatars.githubusercontent.com/u/30963004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ewingrj", "html_url": "https://github.com/ewingrj", "followers_url": "https://api.github.com/users/ewingrj/followers", "following_url": "https://api.github.com/users/ewingrj/following{/other_user}", "gists_url": "https://api.github.com/users/ewingrj/gists{/gist_id}", "starred_url": "https://api.github.com/users/ewingrj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ewingrj/subscriptions", "organizations_url": "https://api.github.com/users/ewingrj/orgs", "repos_url": "https://api.github.com/users/ewingrj/repos", "events_url": "https://api.github.com/users/ewingrj/events{/privacy}", "received_events_url": "https://api.github.com/users/ewingrj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-08T14:42:49Z", "updated_at": "2021-08-02T09:07:06Z", "closed_at": "2021-08-02T09:07:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Notice the date does not render on the 2nd page.\r\n\r\n```\r\n#!/usr/bin/env python\r\nfrom weasyprint import HTML\r\n\r\nif __name__ == \"__main__\":\r\n    doc = HTML(string='''\r\n    <style>\r\n    h2 {\r\n        margin-top: 8px;\r\n        margin-bottom: 8px;\r\n    }\r\n\r\n    .items {\r\n        clear: both;\r\n        border-collapse: collapse;\r\n        color: #333;\r\n        width: 100%;\r\n    }\r\n\r\n\r\n    .items tr:nth-child(even) {\r\n        background: #eee;\r\n    }\r\n\r\n    .items tr:first-child {\r\n        background: white;\r\n    }\r\n\r\n    .items td, th {\r\n        border: 1px solid #ccc;\r\n        padding: 0.5em;\r\n    }\r\n\r\n    .items th {\r\n        border: none;\r\n        text-align: center;\r\n    }\r\n\r\n    .items tbody {\r\n        border-bottom: 3px solid black;\r\n    }\r\n\r\n    .items .qty {\r\n        text-align: right;\r\n        width: 40px;\r\n    }\r\n</style>\r\n\r\n\r\n<h3 style=\"\">Disappearing header</h3>\r\n<p style=\"float: right\">Oct. 24, 2019</p>\r\n\r\n<table class=\"items\">\r\n    <tr>\r\n        <th>Item</th>\r\n        <th class=\"qty\">Qty</th>\r\n    </tr>\r\n\r\n    <tbody>\r\n    \r\n        <tr>\r\n            <td>shirt</td>\r\n            <td class=\"qty\">1</td>\r\n        </tr>\r\n   \r\n    </tbody>\r\n</table>\r\n''').render()\r\n\r\n    doc = doc.copy(doc.pages + doc.pages)\r\n    doc.write_pdf('example.pdf')\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/979", "id": 512603447, "node_id": "MDU6SXNzdWU1MTI2MDM0NDc=", "number": 979, "title": "Missing text", "user": {"login": "takis", "id": 128511, "node_id": "MDQ6VXNlcjEyODUxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/128511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takis", "html_url": "https://github.com/takis", "followers_url": "https://api.github.com/users/takis/followers", "following_url": "https://api.github.com/users/takis/following{/other_user}", "gists_url": "https://api.github.com/users/takis/gists{/gist_id}", "starred_url": "https://api.github.com/users/takis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takis/subscriptions", "organizations_url": "https://api.github.com/users/takis/orgs", "repos_url": "https://api.github.com/users/takis/repos", "events_url": "https://api.github.com/users/takis/events{/privacy}", "received_events_url": "https://api.github.com/users/takis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 2, "created_at": "2019-10-25T16:17:56Z", "updated_at": "2019-12-20T13:44:20Z", "closed_at": "2019-12-20T13:44:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a specific PDF page which misses text when being rendered with WeasyPrint.\r\n\r\nI took the original HTML and CSS and removed code to get a smaller and simpler example illustrating the problem. I tried adding the boxes together to further simplify the example, but doing so resulted in the correct behavior of spilling over the contents to the next page.\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <style>\r\n      @page {\r\n        margin: 5mm;\r\n      }\r\n      #boxa {\r\n        height: 25mm;\r\n      }\r\n      #boxb {\r\n        height: 35mm;\r\n      }\r\n      #boxc {\r\n        height: 65mm;\r\n      }\r\n      #boxd {\r\n        height: 35mm;\r\n      }\r\n      #boxe {\r\n        height: 30mm;\r\n      }\r\n      #boxf {\r\n        height: 10mm;\r\n      }\r\n      #boxg {\r\n        height: 45mm;\r\n      }\r\n      .group {\r\n        border: 1pt solid red;\r\n        padding: 2mm;\r\n      }\r\n      td {\r\n        padding-top: 1mm;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div>\r\n      <div id=\"boxa\" class=\"group\"></div>\r\n      <div id=\"boxb\" class=\"group\"></div>\r\n      <div id=\"boxc\" class=\"group\"></div>\r\n      <div id=\"boxd\" class=\"group\"></div>\r\n      <div id=\"boxe\" class=\"group\"></div>\r\n      <div id=\"boxf\" class=\"group\"></div>\r\n      <div id=\"boxg\" class=\"group\"></div>\r\n      <div id=\"boxh\" class=\"group\">\r\n        <table>\r\n          <tbody></tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <th>missing</th>\r\n              <td>missing</td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>\r\n\r\n\r\n```\r\n\r\nThe output of WeasyPrint:\r\n![Screenshot 2019-10-25 18:17:13](https://user-images.githubusercontent.com/128511/67587231-b86ce000-f753-11e9-8ddd-0ef3a0b57ec5.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/978", "id": 512566822, "node_id": "MDU6SXNzdWU1MTI1NjY4MjI=", "number": 978, "title": "Missing header and footer when table is missing a body", "user": {"login": "takis", "id": 128511, "node_id": "MDQ6VXNlcjEyODUxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/128511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takis", "html_url": "https://github.com/takis", "followers_url": "https://api.github.com/users/takis/followers", "following_url": "https://api.github.com/users/takis/following{/other_user}", "gists_url": "https://api.github.com/users/takis/gists{/gist_id}", "starred_url": "https://api.github.com/users/takis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takis/subscriptions", "organizations_url": "https://api.github.com/users/takis/orgs", "repos_url": "https://api.github.com/users/takis/repos", "events_url": "https://api.github.com/users/takis/events{/privacy}", "received_events_url": "https://api.github.com/users/takis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-25T15:02:02Z", "updated_at": "2019-12-15T21:09:59Z", "closed_at": "2019-12-15T21:09:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a table without a body is being rendered, the header and footer do not show up (while they do show up in Firefox and Chrome).\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <body>\r\n    <table>\r\n      <thead>\r\n        <tr><th>header</th></tr>\r\n      </thead>\r\n      <tfoot>\r\n        <tr>\r\n          <td>footer</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </body>\r\n</html>\r\n\r\n```\r\n\r\nI'm using:\r\n- Weasyprint 50\r\n- evince: Gnome-documentenviewer 3.34.1\r\n\r\n![Screenshot 2019-10-25 17:15:43](https://user-images.githubusercontent.com/128511/67583055-1ea13500-f74b-11e9-8c9b-e8be34c64f80.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/976", "id": 511382072, "node_id": "MDU6SXNzdWU1MTEzODIwNzI=", "number": 976, "title": "uneven letter spacing", "user": {"login": "jtauber", "id": 24426, "node_id": "MDQ6VXNlcjI0NDI2", "avatar_url": "https://avatars.githubusercontent.com/u/24426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtauber", "html_url": "https://github.com/jtauber", "followers_url": "https://api.github.com/users/jtauber/followers", "following_url": "https://api.github.com/users/jtauber/following{/other_user}", "gists_url": "https://api.github.com/users/jtauber/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtauber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtauber/subscriptions", "organizations_url": "https://api.github.com/users/jtauber/orgs", "repos_url": "https://api.github.com/users/jtauber/repos", "events_url": "https://api.github.com/users/jtauber/events{/privacy}", "received_events_url": "https://api.github.com/users/jtauber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-23T14:57:13Z", "updated_at": "2020-04-04T20:21:46Z", "closed_at": "2020-04-04T20:21:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is with 49 (I had to revert as 50 was causing errors).\r\n\r\nI'm seeing uneven letter spacing like the following:\r\n\r\n<img width=\"134\" alt=\"Screen Shot 2019-10-23 at 10 52 57 AM\" src=\"https://user-images.githubusercontent.com/24426/67406063-94f33b00-f583-11e9-9bfd-2349caffe876.png\">\r\n<img width=\"214\" alt=\"Screen Shot 2019-10-23 at 10 53 17 AM\" src=\"https://user-images.githubusercontent.com/24426/67406070-97559500-f583-11e9-882d-38de0a6cf64c.png\">\r\n<img width=\"169\" alt=\"Screen Shot 2019-10-23 at 10 53 31 AM\" src=\"https://user-images.githubusercontent.com/24426/67406077-99b7ef00-f583-11e9-9f1c-a9e3df5510ea.png\">\r\n<img width=\"346\" alt=\"Screen Shot 2019-10-23 at 10 55 47 AM\" src=\"https://user-images.githubusercontent.com/24426/67406146-b18f7300-f583-11e9-970c-8465f1d49d2a.png\">\r\n\r\nHas anyone seen similar issues? Is this a problem with the metrics in the font file?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/954", "id": 499504262, "node_id": "MDU6SXNzdWU0OTk1MDQyNjI=", "number": 954, "title": "Generated PDF differs slightly from sample on weasyprint site", "user": {"login": "espechtcfe", "id": 42548009, "node_id": "MDQ6VXNlcjQyNTQ4MDA5", "avatar_url": "https://avatars.githubusercontent.com/u/42548009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/espechtcfe", "html_url": "https://github.com/espechtcfe", "followers_url": "https://api.github.com/users/espechtcfe/followers", "following_url": "https://api.github.com/users/espechtcfe/following{/other_user}", "gists_url": "https://api.github.com/users/espechtcfe/gists{/gist_id}", "starred_url": "https://api.github.com/users/espechtcfe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/espechtcfe/subscriptions", "organizations_url": "https://api.github.com/users/espechtcfe/orgs", "repos_url": "https://api.github.com/users/espechtcfe/repos", "events_url": "https://api.github.com/users/espechtcfe/events{/privacy}", "received_events_url": "https://api.github.com/users/espechtcfe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 5, "created_at": "2019-09-27T15:16:20Z", "updated_at": "2019-12-17T10:12:01Z", "closed_at": "2019-12-15T14:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "When generating a PDF of the \"Report\" sample using Weasyprint 50, I'm seeing a difference in the PDF when compared to the sample on the weasyprint site.\r\n\r\nI've attached the PDF that is being generated.  If you compare the typography features page (page 8) with the version on the weasyprint site, you'll notice that in the one I generated, the copy in the Ligatures and Numbers sections includes line breaks that don't exist in the version on the website.\r\n\r\nI've installed Weasyprint 50 using this docker image - https://hub.docker.com/r/minidocks/weasyprint - which I modified by changing the Dockerfile to specify version 50.  I have verified that version 50 is running in the container.  The command I'm running from a folder above the report folder to generate the report is:\r\ndocker run --rm -v `pwd`:/app -w /app minidocks/weasyprint:latest ./report/report.html weasyprint_test.pdf\r\n\r\nThank you for looking into this.  I'm just getting started with Weasyprint and am very impressed with the product!\r\n[weasyprint_test.pdf](https://github.com/Kozea/WeasyPrint/files/3663316/weasyprint_test.pdf)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/945", "id": 494772306, "node_id": "MDU6SXNzdWU0OTQ3NzIzMDY=", "number": 945, "title": "Wrong page-break in long lists (regression with version 49)", "user": {"login": "viaregio", "id": 2110015, "node_id": "MDQ6VXNlcjIxMTAwMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2110015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viaregio", "html_url": "https://github.com/viaregio", "followers_url": "https://api.github.com/users/viaregio/followers", "following_url": "https://api.github.com/users/viaregio/following{/other_user}", "gists_url": "https://api.github.com/users/viaregio/gists{/gist_id}", "starred_url": "https://api.github.com/users/viaregio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viaregio/subscriptions", "organizations_url": "https://api.github.com/users/viaregio/orgs", "repos_url": "https://api.github.com/users/viaregio/repos", "events_url": "https://api.github.com/users/viaregio/events{/privacy}", "received_events_url": "https://api.github.com/users/viaregio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/17", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17/labels", "id": 4653064, "node_id": "MDk6TWlsZXN0b25lNDY1MzA2NA==", "number": 17, "title": "50", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-09-12T06:37:54Z", "updated_at": "2019-09-20T12:20:28Z", "due_on": null, "closed_at": "2019-09-20T12:20:28Z"}, "comments": 2, "created_at": "2019-09-17T18:06:57Z", "updated_at": "2019-09-18T13:35:26Z", "closed_at": "2019-09-18T13:11:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since version 49 the the following code produces a very unpleasant page-break:\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Document</title>\r\n\r\n    <style>\r\n    @page {\r\n            size: 100mm 100mm;\r\n            margin: 20mm;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <p>This is a demonstration of a regression from Weasyprint 48 to 49.</p>\r\n    <ul>\r\n        <li>One</li>\r\n        <li>Two</li>\r\n        <li>Three</li>\r\n        <li>Four</li>\r\n        <li>Five</li>\r\n        <li>Six</li>\r\n        <li>Seven</li>\r\n        <li>Eight</li>\r\n        <li>Nine</li>\r\n        <li>Ten</li>\r\n        <li>Eleven</li>\r\n        <li>Twelve</li>\r\n    </ul>\r\n</body>\r\n</html>\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/943", "id": 494736931, "node_id": "MDU6SXNzdWU0OTQ3MzY5MzE=", "number": 943, "title": "Footer appears to be bumping up list items on a `<ul>` that's split across pages", "user": {"login": "craigpla", "id": 45947206, "node_id": "MDQ6VXNlcjQ1OTQ3MjA2", "avatar_url": "https://avatars.githubusercontent.com/u/45947206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigpla", "html_url": "https://github.com/craigpla", "followers_url": "https://api.github.com/users/craigpla/followers", "following_url": "https://api.github.com/users/craigpla/following{/other_user}", "gists_url": "https://api.github.com/users/craigpla/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigpla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigpla/subscriptions", "organizations_url": "https://api.github.com/users/craigpla/orgs", "repos_url": "https://api.github.com/users/craigpla/repos", "events_url": "https://api.github.com/users/craigpla/events{/privacy}", "received_events_url": "https://api.github.com/users/craigpla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-09-17T16:49:27Z", "updated_at": "2019-12-24T11:12:27Z", "closed_at": "2019-12-24T11:12:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm only noticing this in the table of contents so far. Items 2, 4, 6, and 8 in the attached pdf. They appear to be bumped up about the same distance as my lower @page declarations.\r\nI'm making the PDF with the following commands:\r\n```\r\npandoc -s --template=\"templates/default.html\" -f markdown-smart --toc -c style.css \"$filename.md\" -o \"$filename.html\"\r\npython3 -m weasyprint \"$filename.html\" \"$filename.pdf\"\r\n```\r\n[test.pdf](https://github.com/Kozea/WeasyPrint/files/3622554/test.pdf)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/937", "id": 489737128, "node_id": "MDU6SXNzdWU0ODk3MzcxMjg=", "number": 937, "title": "Rendering is broken with empty lines and rowspans", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 0, "created_at": "2019-09-05T13:02:36Z", "updated_at": "2019-09-05T13:28:33Z", "closed_at": "2019-09-05T13:28:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Minimal sample:\r\n\r\n```html\r\n<table>\r\n <tbody>\r\n  <tr><td>Table</td><td rowspan=\"2\"></td></tr>\r\n  <tr></tr>\r\n </tbody>\r\n</table>\r\nText\r\n```\r\n\r\n(Originally reported by @pmjdebruijn.)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/928", "id": 486007403, "node_id": "MDU6SXNzdWU0ODYwMDc0MDM=", "number": 928, "title": "font-variant-ligatures doesn't appear to be working with a custom font", "user": {"login": "Davide-Cocchiara", "id": 19667027, "node_id": "MDQ6VXNlcjE5NjY3MDI3", "avatar_url": "https://avatars.githubusercontent.com/u/19667027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Davide-Cocchiara", "html_url": "https://github.com/Davide-Cocchiara", "followers_url": "https://api.github.com/users/Davide-Cocchiara/followers", "following_url": "https://api.github.com/users/Davide-Cocchiara/following{/other_user}", "gists_url": "https://api.github.com/users/Davide-Cocchiara/gists{/gist_id}", "starred_url": "https://api.github.com/users/Davide-Cocchiara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Davide-Cocchiara/subscriptions", "organizations_url": "https://api.github.com/users/Davide-Cocchiara/orgs", "repos_url": "https://api.github.com/users/Davide-Cocchiara/repos", "events_url": "https://api.github.com/users/Davide-Cocchiara/events{/privacy}", "received_events_url": "https://api.github.com/users/Davide-Cocchiara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-08-27T20:03:43Z", "updated_at": "2020-04-07T11:11:44Z", "closed_at": "2020-04-07T11:11:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "While utilizing the font  \"CMU Concrete Roman\" , I can't seem to be able to disable ligatures by setting font-variant-ligatures to none. This appears to be working on the browser, but not on WeasyPrint. This becomes apparent in combinations such as \"ff\" and \"fl\" which give me problems, inexplicably appearing bold on the browser and on KDP, but not on the output PDF when font ligatures are present.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/928/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/927", "id": 485110704, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwODE3MzU2", "number": 927, "title": "Dont use deprecated Logger.warn", "user": {"login": "Tontyna", "id": 35614937, "node_id": "MDQ6VXNlcjM1NjE0OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/35614937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tontyna", "html_url": "https://github.com/Tontyna", "followers_url": "https://api.github.com/users/Tontyna/followers", "following_url": "https://api.github.com/users/Tontyna/following{/other_user}", "gists_url": "https://api.github.com/users/Tontyna/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tontyna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tontyna/subscriptions", "organizations_url": "https://api.github.com/users/Tontyna/orgs", "repos_url": "https://api.github.com/users/Tontyna/repos", "events_url": "https://api.github.com/users/Tontyna/events{/privacy}", "received_events_url": "https://api.github.com/users/Tontyna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 1, "created_at": "2019-08-26T08:20:34Z", "updated_at": "2019-09-11T14:56:15Z", "closed_at": "2019-08-26T16:07:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/927", "html_url": "https://github.com/Kozea/WeasyPrint/pull/927", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/927.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/927.patch", "merged_at": "2019-08-26T16:07:16Z"}, "body": "... use 'warning' instead", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/927/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/919", "id": 479623478, "node_id": "MDU6SXNzdWU0Nzk2MjM0Nzg=", "number": 919, "title": "Bad layout of CSS \"flex\" ", "user": {"login": "mPyth", "id": 18519715, "node_id": "MDQ6VXNlcjE4NTE5NzE1", "avatar_url": "https://avatars.githubusercontent.com/u/18519715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mPyth", "html_url": "https://github.com/mPyth", "followers_url": "https://api.github.com/users/mPyth/followers", "following_url": "https://api.github.com/users/mPyth/following{/other_user}", "gists_url": "https://api.github.com/users/mPyth/gists{/gist_id}", "starred_url": "https://api.github.com/users/mPyth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mPyth/subscriptions", "organizations_url": "https://api.github.com/users/mPyth/orgs", "repos_url": "https://api.github.com/users/mPyth/repos", "events_url": "https://api.github.com/users/mPyth/events{/privacy}", "received_events_url": "https://api.github.com/users/mPyth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 1, "created_at": "2019-08-12T12:39:27Z", "updated_at": "2019-08-14T14:31:50Z", "closed_at": "2019-08-14T14:31:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here are the Chrome screenshots that demonstrate intention for using vertical flex.\r\n![intentionForUsingFlex](https://user-images.githubusercontent.com/18519715/62864099-1b310c80-bd0b-11e9-8696-8e0ae3ae6486.png)\r\nOn the left side is example of Contract with body (light-green) that could vary a few lines. The goal is to keep the signature section at the bottom of the page (light-purple), independently of how much lines contract body has. On the right side is exactly same CSS and HTML with only added lines \"Line 8\" and \"Line 9\". Only yellow-light **div** has \"**flex-grow**\" set to **1**, so it takes the rest space from the parent.\r\n\r\nFor all examples here file [flexDemo.zip](https://github.com/Kozea/WeasyPrint/files/3492327/flexDemo.zip) is used.\r\n\r\n-----------------------------------------------------------------------\r\nNext two screenshots are taken from Chrome. To get screenshot on the left class \"**vertFlex**\" should be removed from the HTML (from root **div**), so layout will be standard \"**block**\" (there is no need to remove \"takeTheRestVertSpace\" class from HTML because its parent is not \"**flex**\" so it will be ignored).\r\n![flexExpectedBehavior](https://user-images.githubusercontent.com/18519715/62864567-5b44bf00-bd0c-11e9-9c56-8b85349f990a.png)\r\nRemark: the root **div** has light-cyan background \u2013 it is possible to see it on the left screenshot \u2013 area on the bottom.\r\nOn the right is the screenshot with the same file but with \"**vertFlex**\" class put back to root **div** element. It is important to notice next changes:\r\n* all sections with exception of light yellow has the same height\r\n* the whole document has the same height\r\n* after root **div** got \"**vertFlex**\" its child with \"**flex-grow**\" set to **1** takes the all the space from the root **div**, so light-cyan area does not exist any more.\r\n-----------------------------------------------------------------------\r\nBelow are screenshots which are created by using WeasyPrint Renderer (simple copy-paste from mentioned file). On the left class \"**vertFlex**\" is removed from root **div**, on the right \"**vertFlex**\" is put back.\r\n![flexBehaviorInWeasyPrint](https://user-images.githubusercontent.com/18519715/62864703-beceec80-bd0c-11e9-95c5-6c252b4b4971.png)\r\nIt is possible to observe next changes:\r\n* 1st section (Contract Title) has no the same height - NOT expected behavior\r\n* root **div** height becomes larger \u2013 NOT expected behavior\r\n* 2nd (light green) and 4th section (light-purple) has the same height as before change \u2013 this is expected behavior.\r\n* light-cyan area is not visible any more \u2013 this is expected behavior\r\n* light-yelow **div** takes more space than before \u2013 this is expected behavior \r\n\r\nProblem is reproduced by using Windows 10, Python 3.7.3 and WeasyPrint 48.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/917", "id": 478314883, "node_id": "MDU6SXNzdWU0NzgzMTQ4ODM=", "number": 917, "title": "Fix tests with Pango 1.44", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 11, "created_at": "2019-08-08T08:08:16Z", "updated_at": "2019-08-15T12:37:37Z", "closed_at": "2019-08-14T16:34:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pango 1.44 has been released with a lot of changes that break 13 tests (same results on Linux and macOS, that's good news).", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/913", "id": 474047828, "node_id": "MDU6SXNzdWU0NzQwNDc4Mjg=", "number": 913, "title": "test_gradient.py fails for i586", "user": {"login": "pgajdos", "id": 4067843, "node_id": "MDQ6VXNlcjQwNjc4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4067843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgajdos", "html_url": "https://github.com/pgajdos", "followers_url": "https://api.github.com/users/pgajdos/followers", "following_url": "https://api.github.com/users/pgajdos/following{/other_user}", "gists_url": "https://api.github.com/users/pgajdos/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgajdos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgajdos/subscriptions", "organizations_url": "https://api.github.com/users/pgajdos/orgs", "repos_url": "https://api.github.com/users/pgajdos/repos", "events_url": "https://api.github.com/users/pgajdos/events{/privacy}", "received_events_url": "https://api.github.com/users/pgajdos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 14, "created_at": "2019-07-29T13:20:28Z", "updated_at": "2019-09-03T10:26:53Z", "closed_at": "2019-09-03T10:26:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n[  114s] /home/abuild/rpmbuild/BUILD/WeasyPrint-48/weasyprint/tests/test_draw/__init__.py:60: in assert_pixels\r\n[  114s]     name, expected_width, expected_height, pixels, expected_raw)\r\n[  114s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[  114s] \r\n[  114s] name = 'linear_gradient', width = 9, height = 5\r\n[  114s] raw = b'\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f...7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff\\x7f\\x00\\x7f\\xff'\r\n[  114s] expected_raw = b'\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80...80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff\\x80\\x00\\x80\\xff'\r\n[  114s] tolerance = 0\r\n[  114s] \r\n[  114s]     def assert_pixels_equal(name, width, height, raw, expected_raw, tolerance=0):\r\n[  114s]         \"\"\"Take 2 matrices of pixels and assert that they are the same.\"\"\"\r\n[  114s]         if raw != expected_raw:  # pragma: no cover\r\n[  114s]             for i, (value, expected) in enumerate(zip(raw, expected_raw)):\r\n[  114s]                 if abs(value - expected) > tolerance:\r\n[  114s]                     write_png(name, raw, width, height)\r\n[  114s]                     write_png(name + '.expected', expected_raw,\r\n[  114s]                               width, height)\r\n[  114s]                     pixel_n = i // 4\r\n[  114s]                     x = pixel_n // width\r\n[  114s]                     y = pixel_n % width\r\n[  114s]                     i % 4\r\n[  114s]                     pixel = tuple(list(raw[i:i + 4]))\r\n[  114s]                     expected_pixel = tuple(list(\r\n[  114s]                         expected_raw[i:i + 4]))\r\n[  114s]                     assert 0, (\r\n[  114s]                         'Pixel (%i, %i) in %s: expected rgba%s, got rgba%s'\r\n[  114s] >                       % (x, y, name, expected_pixel, pixel))\r\n[  114s] E                   AssertionError: Pixel (0, 0) in linear_gradient: expected rgba(128, 0, 128, 255), got rgba(127, 0, 127, 255)\r\n[  114s] \r\n[  114s] /home/abuild/rpmbuild/BUILD/WeasyPrint-48/weasyprint/tests/test_draw/__init__.py:164: AssertionError\r\n[  114s] ------------------------------ Captured log call -------------------------------\r\n[  114s] INFO     weasyprint.progress:__init__.py:109 Step 1 - Fetching and parsing HTML - HTML string\r\n[  114s] INFO     weasyprint.progress:__init__.py:317 Step 2 - Fetching and parsing CSS - CSS string\r\n[  114s] INFO     weasyprint.progress:__init__.py:66 Step 3 - Applying CSS\r\n[  114s] INFO     weasyprint.progress:document.py:369 Step 4 - Creating formatting structure\r\n[  114s] INFO     weasyprint.progress:pages.py:791 Step 5 - Creating layout - Page 1\r\n[  114s] INFO     weasyprint.progress:document.py:734 Step 6 - Drawing\r\n[  114s] =============================== warnings summary ===============================\r\n```\r\nTested with 46, 47 and 48.\r\n\r\nLet me know if I can help somehow.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/906", "id": 470983679, "node_id": "MDU6SXNzdWU0NzA5ODM2Nzk=", "number": 906, "title": "Table auto-layout differences compared to browsers", "user": {"login": "rtpg", "id": 1408472, "node_id": "MDQ6VXNlcjE0MDg0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1408472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rtpg", "html_url": "https://github.com/rtpg", "followers_url": "https://api.github.com/users/rtpg/followers", "following_url": "https://api.github.com/users/rtpg/following{/other_user}", "gists_url": "https://api.github.com/users/rtpg/gists{/gist_id}", "starred_url": "https://api.github.com/users/rtpg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rtpg/subscriptions", "organizations_url": "https://api.github.com/users/rtpg/orgs", "repos_url": "https://api.github.com/users/rtpg/repos", "events_url": "https://api.github.com/users/rtpg/events{/privacy}", "received_events_url": "https://api.github.com/users/rtpg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 5, "created_at": "2019-07-22T09:16:55Z", "updated_at": "2019-07-24T08:53:27Z", "closed_at": "2019-07-24T08:48:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So I have this HTML \r\n```\r\n<style>\r\ntd, div {\r\n  border: 1px solid black;\r\n}\r\n</style>\r\n<div style=\"width: 1cm;\">\r\n  Hi this is 1cm long\r\n</div>\r\n\r\n<div style=\"width: 1cm; white-space: nowrap\">\r\n  Hi this is also 1cm long\r\n</div>\r\n\r\n<table style=\"width: 10cm\">\r\n  <tr>\r\n    <td style=\"width: 1cm;\">\r\n      This is 1cm\r\n    </td>\r\n    <td style=\"width: 1cm; white-space: nowrap\">\r\n      This is not 1cm\r\n    </td>\r\n    <td>\r\n      This will take the rest\r\n    </td>\r\n  </tr>\r\n</table>\r\n```\r\n(I have a nice fiddle for this https://jsfiddle.net/4wr36ouh/)\r\n\r\nHere I have some 1cm divs, along with some tables that have 1cm columns (or rather, they should).\r\n\r\nthe `white-space: nowrap` property on the second table cell means that browsers end up _expanding this column/cell to be more than 1cm long_.\r\n\r\nHowever, in weasyprint, this property causes the _content to escape the cell, with the cell staying 1cm_. See this PDF [test_pdf.pdf](https://github.com/Kozea/WeasyPrint/files/3416544/test_pdf.pdf)\r\n\r\nNow, the auto-layout spec is User Agent-specific.... I don't know if this is just an incidental issue in the weasyprint algorithm leading to the difference, or if it's a fundamental difference in the interpretation of the `width` property on table cells, but the browser results tend to look better and feel like a nice target to emulate.\r\n\r\nI'm going to try looking into this a bit more later, I believe there could be a very small patch that unifies behavior here. But I would like to know if there's any intentionality in this behavior that I should be aware about?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/901", "id": 467788631, "node_id": "MDU6SXNzdWU0Njc3ODg2MzE=", "number": 901, "title": "SVG width not rendering correctly", "user": {"login": "danielepolencic", "id": 1130499, "node_id": "MDQ6VXNlcjExMzA0OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1130499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielepolencic", "html_url": "https://github.com/danielepolencic", "followers_url": "https://api.github.com/users/danielepolencic/followers", "following_url": "https://api.github.com/users/danielepolencic/following{/other_user}", "gists_url": "https://api.github.com/users/danielepolencic/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielepolencic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielepolencic/subscriptions", "organizations_url": "https://api.github.com/users/danielepolencic/orgs", "repos_url": "https://api.github.com/users/danielepolencic/repos", "events_url": "https://api.github.com/users/danielepolencic/events{/privacy}", "received_events_url": "https://api.github.com/users/danielepolencic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/16", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/16/labels", "id": 4465691, "node_id": "MDk6TWlsZXN0b25lNDQ2NTY5MQ==", "number": 16, "title": "49", "description": "This version is dedicated to performance improvements, tests, code cleanups and bug fixes.", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-07-04T11:56:32Z", "updated_at": "2019-09-12T06:37:47Z", "due_on": null, "closed_at": "2019-09-12T06:37:47Z"}, "comments": 11, "created_at": "2019-07-14T03:03:05Z", "updated_at": "2019-12-17T10:12:01Z", "closed_at": "2019-07-25T08:52:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure this is a bug.\r\n\r\nI use images in my document with the regular `<img src=\"url\" />` tag.\r\nThe image tag can contain regular images and SVGs.\r\n\r\nThe parent tag has a width set to `width: 60%` and all the images have `max-width: 100%`.\r\n\r\nAll the non-SVG images are rendering correctly:\r\n\r\n![image](https://user-images.githubusercontent.com/1130499/61178756-59f97700-a626-11e9-9f4e-9bfda55b5b19.png)\r\n\r\nAll the SVGs are not:\r\n\r\n![image](https://user-images.githubusercontent.com/1130499/61178759-739abe80-a626-11e9-8b85-727fc5fbb7db.png)\r\n\r\nThey are tiny.\r\n\r\nI can manually set a width on the images, and that seems to do a good job. However, it's not ideal because of the aspect ratio (taller images are breaking the layout).\r\n\r\nUsually, this is a rendering engine specific issue, and several workarounds can be applied. However, I'm not sure what rendering engine is in place here, so I don't know how I can go about debugging it.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/898", "id": 467544512, "node_id": "MDU6SXNzdWU0Njc1NDQ1MTI=", "number": 898, "title": "The var() function doesn't work as part of border shorthand property", "user": {"login": "ham2anv", "id": 17101837, "node_id": "MDQ6VXNlcjE3MTAxODM3", "avatar_url": "https://avatars.githubusercontent.com/u/17101837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ham2anv", "html_url": "https://github.com/ham2anv", "followers_url": "https://api.github.com/users/ham2anv/followers", "following_url": "https://api.github.com/users/ham2anv/following{/other_user}", "gists_url": "https://api.github.com/users/ham2anv/gists{/gist_id}", "starred_url": "https://api.github.com/users/ham2anv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ham2anv/subscriptions", "organizations_url": "https://api.github.com/users/ham2anv/orgs", "repos_url": "https://api.github.com/users/ham2anv/repos", "events_url": "https://api.github.com/users/ham2anv/events{/privacy}", "received_events_url": "https://api.github.com/users/ham2anv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-12T18:27:09Z", "updated_at": "2021-09-16T16:17:23Z", "closed_at": "2021-09-16T16:17:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this applies to other properties, but I ran into this today in the border shorthand property. The following:\r\n\r\n`border: 0.15rem solid var(--highlight, black);`\r\n\r\nthrows the error \"WARNING: Ignored `border: 0.15rem solid var(--highlight, black)` at 8:5, invalid value.\". Breaking the var() out into its own border-color property fixes the issue.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/885", "id": 458022520, "node_id": "MDU6SXNzdWU0NTgwMjI1MjA=", "number": 885, "title": "Incorrect handling of div height of a div with display: flex, with two child divs", "user": {"login": "rnduldulaojr", "id": 4475842, "node_id": "MDQ6VXNlcjQ0NzU4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/4475842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rnduldulaojr", "html_url": "https://github.com/rnduldulaojr", "followers_url": "https://api.github.com/users/rnduldulaojr/followers", "following_url": "https://api.github.com/users/rnduldulaojr/following{/other_user}", "gists_url": "https://api.github.com/users/rnduldulaojr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rnduldulaojr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rnduldulaojr/subscriptions", "organizations_url": "https://api.github.com/users/rnduldulaojr/orgs", "repos_url": "https://api.github.com/users/rnduldulaojr/repos", "events_url": "https://api.github.com/users/rnduldulaojr/events{/privacy}", "received_events_url": "https://api.github.com/users/rnduldulaojr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/15", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15/labels", "id": 4312875, "node_id": "MDk6TWlsZXN0b25lNDMxMjg3NQ==", "number": 15, "title": "48", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2019-05-14T13:32:55Z", "updated_at": "2019-07-26T09:52:59Z", "due_on": null, "closed_at": "2019-07-09T05:46:46Z"}, "comments": 1, "created_at": "2019-06-19T13:43:35Z", "updated_at": "2020-11-16T17:45:38Z", "closed_at": "2019-06-22T19:38:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given a parent div with css style:\r\n\r\n```\r\n.content {\r\n    display: flex;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n```\r\n\r\nand two child divs with CSS:\r\n\r\n```\r\n           .content .left-panel {\r\n                border-right: 1px solid #ccc;\r\n                width: 30%;\r\n                height: 100%;\r\n                padding: 20px 10px 0 0;\r\n            }\r\n\r\n            .content .right-panel {\r\n                width: 65%;\r\n                height: 100%;\r\n                padding: 10px 0  0 16px;\r\n            }\r\n```\r\n\r\nthe bottom border of the parent seems to be intersecting the children divs.  For comparison, I used another library (pdfkit) to generate pdf and the output of that is much close to the web page.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/873", "id": 447763739, "node_id": "MDU6SXNzdWU0NDc3NjM3Mzk=", "number": 873, "title": "Empty sub bullet point causes next bullet point to be on the same line", "user": {"login": "AlexDvorak", "id": 25008875, "node_id": "MDQ6VXNlcjI1MDA4ODc1", "avatar_url": "https://avatars.githubusercontent.com/u/25008875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexDvorak", "html_url": "https://github.com/AlexDvorak", "followers_url": "https://api.github.com/users/AlexDvorak/followers", "following_url": "https://api.github.com/users/AlexDvorak/following{/other_user}", "gists_url": "https://api.github.com/users/AlexDvorak/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexDvorak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexDvorak/subscriptions", "organizations_url": "https://api.github.com/users/AlexDvorak/orgs", "repos_url": "https://api.github.com/users/AlexDvorak/repos", "events_url": "https://api.github.com/users/AlexDvorak/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexDvorak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/15", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15/labels", "id": 4312875, "node_id": "MDk6TWlsZXN0b25lNDMxMjg3NQ==", "number": 15, "title": "48", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2019-05-14T13:32:55Z", "updated_at": "2019-07-26T09:52:59Z", "due_on": null, "closed_at": "2019-07-09T05:46:46Z"}, "comments": 3, "created_at": "2019-05-23T16:36:01Z", "updated_at": "2019-12-17T10:12:00Z", "closed_at": "2019-05-31T15:00:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given the following HTML, with an empty sub bullet point as seen in the HTML below, weasyprint (v47) renders the following bullet point on the same line ![weasyprint](https://i.imgur.com/mDJVAp9.png)\r\nbut when the same HTML is rendered in Firefox, the bullet point is on its own line. ![firefox](https://i.imgur.com/qTvctqa.png)\r\nwhen checking inspect element, the HTML does not correct to anything else so it would appear that this is an issue with weasyprint and not bad HTML I believe.\r\nHTML that breaks Weasyprint (Firefox does not do anything else to it)\r\n```html\r\n<ul>\r\n  <li>\r\n    hello\r\n    <ul>\r\n      <li>hi</li>\r\n      <li></li>\r\n    </ul>\r\n  </li>\r\n  <li>hu</li>\r\n</ul>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/873/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/848", "id": 430740439, "node_id": "MDU6SXNzdWU0MzA3NDA0Mzk=", "number": 848, "title": "HTML containing tables with colspan rendering erroneously", "user": {"login": "nettrino", "id": 4614044, "node_id": "MDQ6VXNlcjQ2MTQwNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4614044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nettrino", "html_url": "https://github.com/nettrino", "followers_url": "https://api.github.com/users/nettrino/followers", "following_url": "https://api.github.com/users/nettrino/following{/other_user}", "gists_url": "https://api.github.com/users/nettrino/gists{/gist_id}", "starred_url": "https://api.github.com/users/nettrino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nettrino/subscriptions", "organizations_url": "https://api.github.com/users/nettrino/orgs", "repos_url": "https://api.github.com/users/nettrino/repos", "events_url": "https://api.github.com/users/nettrino/events{/privacy}", "received_events_url": "https://api.github.com/users/nettrino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-09T02:43:49Z", "updated_at": "2019-09-16T12:14:55Z", "closed_at": "2019-09-16T12:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nI am trying to convert the following html file into a png:\r\n\r\n```html\r\n<html>\r\n    <head>\r\n        <style>\r\n            body {\r\n                width: 60em;\r\n            }\r\n            table      {\r\n                margin: 30px auto;\r\n                border-collapse: collapse;\r\n                text-align: center;\r\n            }\r\n            th, td, tr {\r\n                border-right: solid 1px #aaaaaa;\r\n                border-left: solid 1px #aaaaaa;\r\n                text-align: center;\r\n                padding: 8px;\r\n            }\r\n\r\n            tr:nth-child(even) {background-color: #f2f2f2;}\r\n            .rotation  { height: 150px;\r\n                text-align: center;\r\n                font-size: 16px;\r\n                -moz-transform: rotate(-45deg);\r\n                -webkit-transform: rotate(-45deg);\r\n                -o-transform: rotate(-45deg);\r\n                -ms-transform: rotate(-45deg);\r\n                transform: rotate(-45deg); }\r\n        </style>\r\n    </head>\r\n<body><table>\r\n<tr>\r\n<th> xxxxxx </th>\r\n<th colspan=12> xx xxxxxxxx xxxxxxxx</th>\r\n</tr>\r\n<tr>\r\n<td></td> <td class=\"rotation\" colspan=1> xxxxxxxxx </td> <td class=\"rotation\" colspan=1> xxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" colspan=5> xxxxxxxxxxxx </td> <td class=\"rotation\" colspan=2> xxxxxxxxxxxxxxxx </td> <td class=\"rotation\" colspan=2> xxxxxxxxxxxx </td> <td class=\"rotation\" colspan=1> xxxxxxxxx </td></tr>\r\n<tr>\r\n<td></td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxx </td> <td class=\"rotation\" > xxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxxxxxxxxxxxxxxxxxx </td> <td class=\"rotation\" > xxxxxxx </td></tr>\r\n<tr>\r\n <td> xxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxx </td> <td> \u2713 </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxx </td> <td> \u2713 </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxx </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxxxxxxxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td></tr>\r\n<tr>\r\n <td> xxxxxxxx </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> &nbsp; </td> <td> \u2713 </td></tr>\r\n</table></body>\r\n</html>\r\n```\r\n\r\nThe resulting png image generated via ` weasyprint test.html test.png -f png` is cropped, and there is a gap in the table's rows:\r\n\r\n![test.png](https://user-images.githubusercontent.com/4614044/55769681-9af25600-5a4f-11e9-81db-4e5ba3927d80.png)\r\n\r\nIs there an unsupported feature in the html?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/835", "id": 425859299, "node_id": "MDU6SXNzdWU0MjU4NTkyOTk=", "number": 835, "title": "Weasyprint 46 handles wrongly top-margin on H1", "user": {"login": "knyttl", "id": 401107, "node_id": "MDQ6VXNlcjQwMTEwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/401107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knyttl", "html_url": "https://github.com/knyttl", "followers_url": "https://api.github.com/users/knyttl/followers", "following_url": "https://api.github.com/users/knyttl/following{/other_user}", "gists_url": "https://api.github.com/users/knyttl/gists{/gist_id}", "starred_url": "https://api.github.com/users/knyttl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knyttl/subscriptions", "organizations_url": "https://api.github.com/users/knyttl/orgs", "repos_url": "https://api.github.com/users/knyttl/repos", "events_url": "https://api.github.com/users/knyttl/events{/privacy}", "received_events_url": "https://api.github.com/users/knyttl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/14", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/14", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/14/labels", "id": 4164203, "node_id": "MDk6TWlsZXN0b25lNDE2NDIwMw==", "number": 14, "title": "47", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-03-22T15:32:42Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-05-14T13:32:50Z"}, "comments": 4, "created_at": "2019-03-27T09:50:47Z", "updated_at": "2019-12-17T10:12:00Z", "closed_at": "2019-03-27T10:32:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider this document:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\"/>\r\n    <style type=\"text/css\">\r\n        @page{size:69mm 146mm;margin:0;padding:0}\r\n        body,html{margin:0;padding:0;height:100%;}\r\n        body *,html *{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}\r\n        h1 {\r\n            margin-top: 9mm;\r\n            margin-bottom: 3.5mm;\r\n            padding-top: 0;\r\n        }\r\n        .page{page-break-after:always;position:relative;height:100%;padding:8mm 5mm 5mm 5mm}</style>\r\n</head>\r\n<body>\r\n    <div class=\"page\">\r\n        <h1 style=\"background-color: #f00;\">\r\n            Respect festival 2019\r\n        </h1>\r\n    </div>\r\n\r\n    <div class=\"page\">\r\n        <h1 style=\"background-color: #f00;\">\r\n            Respect festival 2019\r\n        </h1>\r\n    </div>\r\n\r\n    <div class=\"page\">\r\n        <h1 style=\"background-color: #f00;\">\r\n            Respect festival 2019\r\n        </h1>\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\n\r\nThere are three equal pages, however the only two has correct top margin. It worked correctly with version `0.42.3`. See attached PDF. \r\n\r\n[ticket.pdf](https://github.com/Kozea/WeasyPrint/files/3012527/ticket.pdf)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/835/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/826", "id": 421396373, "node_id": "MDU6SXNzdWU0MjEzOTYzNzM=", "number": 826, "title": "Uppercase characters in named strings dont work", "user": {"login": "mattieusch", "id": 47300287, "node_id": "MDQ6VXNlcjQ3MzAwMjg3", "avatar_url": "https://avatars.githubusercontent.com/u/47300287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattieusch", "html_url": "https://github.com/mattieusch", "followers_url": "https://api.github.com/users/mattieusch/followers", "following_url": "https://api.github.com/users/mattieusch/following{/other_user}", "gists_url": "https://api.github.com/users/mattieusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattieusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattieusch/subscriptions", "organizations_url": "https://api.github.com/users/mattieusch/orgs", "repos_url": "https://api.github.com/users/mattieusch/repos", "events_url": "https://api.github.com/users/mattieusch/events{/privacy}", "received_events_url": "https://api.github.com/users/mattieusch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 4, "created_at": "2019-03-15T08:00:43Z", "updated_at": "2019-12-17T10:12:00Z", "closed_at": "2019-03-18T09:41:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Named strings seem to break when they contain uppercase characters in their label. See code snippet below. I would expect 'brokenTitle' to work as 'workingtitle'.\r\n\r\n```<!doctype html>\r\n<html>\r\n<head>\r\n    <style>\r\n    div.page {\r\n        page-break-after:always;\r\n    }\r\n    h1 {\r\n      string-set: workingtitle content();\r\n    }\r\n    h2 {\r\n      string-set: brokenTitle content();\r\n    }\r\n    #p1 {\r\n        page: page1;\r\n    }\r\n    #p2 {\r\n        page: paGe2;\r\n    }\r\n    @page {\r\n        @top-left {\r\n            content: string(workingtitle);\r\n        }\r\n        @top-right {\r\n            content: string(brokenTitle);\r\n        }\r\n    }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"page\" id=\"p1\">\r\n      <h1>H1 Title on Page 1</h1>\r\n      <h2>H2 Title on Page 1</h2>\r\n    </div>\r\n    <div class=\"page\" id=\"p2\">\r\n      <h1>H1 Title on Page 1</h1>\r\n      <h2>H2 Title on Page 2</h2>\r\n    </div>\r\n  </body>\r\n</html>```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/820", "id": 419155108, "node_id": "MDU6SXNzdWU0MTkxNTUxMDg=", "number": 820, "title": "Border case with inside border and max-width", "user": {"login": "mattieusch", "id": 47300287, "node_id": "MDQ6VXNlcjQ3MzAwMjg3", "avatar_url": "https://avatars.githubusercontent.com/u/47300287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattieusch", "html_url": "https://github.com/mattieusch", "followers_url": "https://api.github.com/users/mattieusch/followers", "following_url": "https://api.github.com/users/mattieusch/following{/other_user}", "gists_url": "https://api.github.com/users/mattieusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattieusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattieusch/subscriptions", "organizations_url": "https://api.github.com/users/mattieusch/orgs", "repos_url": "https://api.github.com/users/mattieusch/repos", "events_url": "https://api.github.com/users/mattieusch/events{/privacy}", "received_events_url": "https://api.github.com/users/mattieusch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 4, "created_at": "2019-03-10T07:15:12Z", "updated_at": "2019-12-17T10:11:59Z", "closed_at": "2019-03-14T13:44:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think I've ran into a bug regarding a border case (literally in this case ;-)) with the calculation of width's combined with inside borders. See the code snippet below.\r\n\r\nThe right border is not shown (probably clipped by the 'overflow:hidden' of the figure tag). The image width is limited by the 'max-width: 100%' (the image would be larger due to the image-resolution:50dpi). The border IS shown correctly when the 'max-width' is replaced by 'width' (the common case).\r\n\r\n```<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        figure {\r\n            margin: 0;\r\n            padding: 0;\r\n            overflow: hidden;\r\n        }\r\n        img {\r\n            image-resolution: 50dpi;\r\n            /*width: 100%;*/\r\n            max-width: 100%;\r\n            box-sizing: border-box;\r\n            border-color: #000;\r\n            border-width: 20px;\r\n            border-style: solid;\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body class=\"nl\">\r\n  <figure>\r\n  <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAIAAAAP3aGbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wITDwMSt6ANKwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAD5UlEQVR42u3UMQ0AAAjAMCD4twwqOEhaCTuW0x0AH5QEgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBhiUBYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVwaQFxqQQn9wVzXwAAAABJRU5ErkJggg==\">\r\n  </figure>\r\n</body>\r\n</html>```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/813", "id": 414647515, "node_id": "MDU6SXNzdWU0MTQ2NDc1MTU=", "number": 813, "title": "<pre> tag rendiring issue", "user": {"login": "JGiard", "id": 1167353, "node_id": "MDQ6VXNlcjExNjczNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1167353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JGiard", "html_url": "https://github.com/JGiard", "followers_url": "https://api.github.com/users/JGiard/followers", "following_url": "https://api.github.com/users/JGiard/following{/other_user}", "gists_url": "https://api.github.com/users/JGiard/gists{/gist_id}", "starred_url": "https://api.github.com/users/JGiard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JGiard/subscriptions", "organizations_url": "https://api.github.com/users/JGiard/orgs", "repos_url": "https://api.github.com/users/JGiard/repos", "events_url": "https://api.github.com/users/JGiard/events{/privacy}", "received_events_url": "https://api.github.com/users/JGiard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 2, "created_at": "2019-02-26T14:44:34Z", "updated_at": "2019-03-01T10:39:35Z", "closed_at": "2019-03-01T10:15:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI have a issue when rendering the &lt;pre&gt; under certain conditions.\r\nIt looks like that having &lt;br&gt; tags inside them breaks the rendering and the content is cut half-way through. I suppose it might also be a max-line-length issue in the renderer.\r\n\r\nI have attached an example showing this, the text is identical but the first is formatted with  &lt;br&gt; tags and the other with regular line breaks.\r\n\r\n[test-pre.zip](https://github.com/Kozea/WeasyPrint/files/2905986/test-pre.zip)\r\n\r\nI am using weasyprint 45 with cairo 1.15.10\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/813/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/808", "id": 411975995, "node_id": "MDU6SXNzdWU0MTE5NzU5OTU=", "number": 808, "title": "Images placed incorrectly when cross reference is used", "user": {"login": "mattieusch", "id": 47300287, "node_id": "MDQ6VXNlcjQ3MzAwMjg3", "avatar_url": "https://avatars.githubusercontent.com/u/47300287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattieusch", "html_url": "https://github.com/mattieusch", "followers_url": "https://api.github.com/users/mattieusch/followers", "following_url": "https://api.github.com/users/mattieusch/following{/other_user}", "gists_url": "https://api.github.com/users/mattieusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattieusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattieusch/subscriptions", "organizations_url": "https://api.github.com/users/mattieusch/orgs", "repos_url": "https://api.github.com/users/mattieusch/repos", "events_url": "https://api.github.com/users/mattieusch/events{/privacy}", "received_events_url": "https://api.github.com/users/mattieusch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 12, "created_at": "2019-02-19T15:17:44Z", "updated_at": "2019-03-01T14:35:17Z", "closed_at": "2019-03-01T14:18:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "There seems to be a bug in the (re)placement of images that are moved to the next page because of insufficient space on the bottom. These 'moved' images are not rendered or placed on an incorrect location. This issue only manifests itself when a (forward) cross-reference is being used before the image.\r\n\r\nSee HTML below to reproduce this on WeasyPrint 44, dev version, checked out on 2019-02-19.\r\n```<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        a.ref::after {\r\n            content: \" (p. \"target-counter(attr(href), page) \")\";\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body class=\"nl\">\r\n  <p>\r\n    <a class=\"ref\" href=\"#item-1650\">Link</a>\r\n    <br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>lorem<br>\r\n  </p>\r\n  <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAIAAAAP3aGbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wITDwMSt6ANKwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAD5UlEQVR42u3UMQ0AAAjAMCD4twwqOEhaCTuW0x0AH5QEgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBhiUBYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVgWACGBRgWgGEBGBZgWACGBWBYgGEBGBaAYQGGBWBYAIYFGBaAYQGGBWBYAIYFGBaAYQEYFmBYAIYFYFiAYQEYFoBhAYYFYFgAhgUYFoBhARgWYFgAhgVgWIBhARgWgGEBhgVwaQFxqQQn9wVzXwAAAABJRU5ErkJggg==\">\r\n  <p id=\"item-1650\">Destination</p>\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/797", "id": 408542398, "node_id": "MDU6SXNzdWU0MDg1NDIzOTg=", "number": 797, "title": "Underlined text appears different in the HTML than in the PDF", "user": {"login": "iyuvalk", "id": 16427265, "node_id": "MDQ6VXNlcjE2NDI3MjY1", "avatar_url": "https://avatars.githubusercontent.com/u/16427265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iyuvalk", "html_url": "https://github.com/iyuvalk", "followers_url": "https://api.github.com/users/iyuvalk/followers", "following_url": "https://api.github.com/users/iyuvalk/following{/other_user}", "gists_url": "https://api.github.com/users/iyuvalk/gists{/gist_id}", "starred_url": "https://api.github.com/users/iyuvalk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iyuvalk/subscriptions", "organizations_url": "https://api.github.com/users/iyuvalk/orgs", "repos_url": "https://api.github.com/users/iyuvalk/repos", "events_url": "https://api.github.com/users/iyuvalk/events{/privacy}", "received_events_url": "https://api.github.com/users/iyuvalk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/14", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/14", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/14/labels", "id": 4164203, "node_id": "MDk6TWlsZXN0b25lNDE2NDIwMw==", "number": 14, "title": "47", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-03-22T15:32:42Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-05-14T13:32:50Z"}, "comments": 6, "created_at": "2019-02-10T14:50:46Z", "updated_at": "2019-04-01T12:25:31Z", "closed_at": "2019-04-01T12:25:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst of all - I've tried many *-to-PDF converters so far and I have to say that WeasyPrint is by far the very best. Thanks for all the hard work.\r\n\r\nI have python code that generates an HTML file and then uses WeasyPrint to convert it to PDF. I think that almost everything works really well except one strange thing. When I have underlined text in the HTML, in the PDF version the underline is sometimes too short.\r\n\r\nHere's the text as it looks in the HTML:\r\n![in_the_html](https://user-images.githubusercontent.com/16427265/52535092-f4415000-2d52-11e9-90a8-59fc4ad9c26e.png)\r\n\r\nand here it is from the PDF:\r\n![in_the_pdf](https://user-images.githubusercontent.com/16427265/52535099-07ecb680-2d53-11e9-9851-7bf669e3ed17.png)\r\n\r\nThe HTML source code for this paragraph is this:\r\n```\r\n<h3>PIM/PAM <div class=\"anchor\" id=\"CloudServices_PimPam\"></div></h3>\r\n\u00a0 <ul>\r\n\u00a0 <li>Access with privileged accounts to AWS services should be managed by CyberArk. The following guidelines should be applied:<ul>\r\n\u00a0 <li>CPM, PVWA and PSM should be installed on AWS in dedicated network zones that are restricted by network access control lists.</li>\r\n\u00a0 <li>Management access to CPM and PVWA should be allowed only from the PSM.</li>\r\n\u00a0 <li>Use the on-premise CyberArk vault to store credentials. </li>\r\n\u00a0 <li>Configure a site-to-site VPN between the LAN and the AWS infrastructure. The CPM, PVWA and PSM should reside on dedicated network segments. The VPN access controls should be configured as follows:<ul>\r\n\u00a0 <li><em>Connection from AWS towards the LAN</em>: Allowed from the CPM, PVWA and PSM segments towards the Vault segment.</li>\r\n\u00a0 <li><em>Connection from LAN towards AWS</em>: Allow using the VPN from the user segment towards the PVWA and PSM segments.</li>\r\n\u00a0 </ul>\r\n\u00a0 </li>\r\n\u00a0 <li>Avoid using bastion infrastructure for management and administration of servers on the AWS infrastructure. These activities should be performed through the PSM.</li>\r\n\u00a0 </ul>\r\n\u00a0 </li>\r\n```\r\nAs you can see, in the PDF version, the underline in the first bullet ends just under the letter A in \"LAN:\" (i.e. one letter from the end) and in the second bullet it ends just under the letter A in \"AWS:\" (i.e. two letters from the end).\r\n\r\nI couldn't find any satisfactory explanation for this weird behaviour - can you?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/797/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/790", "id": 406989812, "node_id": "MDU6SXNzdWU0MDY5ODk4MTI=", "number": 790, "title": "Repeated gradient backgrounds are misaligned", "user": {"login": "aahancoc", "id": 14837209, "node_id": "MDQ6VXNlcjE0ODM3MjA5", "avatar_url": "https://avatars.githubusercontent.com/u/14837209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aahancoc", "html_url": "https://github.com/aahancoc", "followers_url": "https://api.github.com/users/aahancoc/followers", "following_url": "https://api.github.com/users/aahancoc/following{/other_user}", "gists_url": "https://api.github.com/users/aahancoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/aahancoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aahancoc/subscriptions", "organizations_url": "https://api.github.com/users/aahancoc/orgs", "repos_url": "https://api.github.com/users/aahancoc/repos", "events_url": "https://api.github.com/users/aahancoc/events{/privacy}", "received_events_url": "https://api.github.com/users/aahancoc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/26", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/26/labels", "id": 6809556, "node_id": "MDk6TWlsZXN0b25lNjgwOTU1Ng==", "number": 26, "title": "53.0", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2021-05-31T20:38:04Z", "updated_at": "2021-08-01T17:30:55Z", "due_on": null, "closed_at": "2021-08-01T08:14:05Z"}, "comments": 2, "created_at": "2019-02-05T21:50:12Z", "updated_at": "2021-08-01T17:30:55Z", "closed_at": "2021-08-01T17:30:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having problems with repeated gradients not quite lining up with their parent containers. \r\n\r\nFor instance, if I have a 144pt tall div, and I want a linear gradient (set `to bottom`) gradient to repeat 10 times, I'd set `background-size` to `100% 14.4pt`. This should create 10 perfectly spaced lines, starting from the top of the container. However, when Weasyprint renders it the spaces are just too large, causing it to look misaligned.\r\n\r\nHowever, if I had a 150pt tall div and I used 15pt at the spacing, it works perfectly. Ditto with 125pt and 12.5pt spacing. However, 2in and 0.2in fails just like 144pt and 14.4pt. It appears that the background size is being rounded to some fraction of a point, which builds up and causes misalignments. \r\n\r\nI'm running on Windows 10 using Python 3.6 and Weasyprint 44.\r\n\r\nHere's the test case file:\r\n```html\r\n<!doctype html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <style>\r\n        div {\r\n            border: 0.1in solid black;\r\n            background: linear-gradient(to bottom, red, red 0.02in, white 0.02in, white);\r\n            margin: 0.1in;\r\n        }\r\n        .ex1 {width: 144pt; height: 144pt; background-size: 100% 14.4pt;}\r\n        .ex2 {width: 150pt; height: 150pt; background-size: 100% 15pt;}\r\n        .ex3 {width: 125pt; height: 125pt; background-size: 100% 12.5pt;}\r\n        .ex4 {width: 2in; height: 2in; background-size: 100% 0.2in;}\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"ex1\"> <!-- empty --> </div>\r\n    <div class=\"ex2\"> <!-- empty --> </div>\r\n    <div class=\"ex3\"> <!-- empty --> </div>\r\n    <div class=\"ex4\"> <!-- empty --> </div>\r\n</body>\r\n</html>\r\n```\r\n\r\n[And here's the output.](https://github.com/Kozea/WeasyPrint/files/2834017/test.pdf)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/774", "id": 402263888, "node_id": "MDU6SXNzdWU0MDIyNjM4ODg=", "number": 774, "title": "Quotes in links make Cairo crash", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 2, "created_at": "2019-01-23T14:25:50Z", "updated_at": "2019-02-05T09:01:30Z", "closed_at": "2019-01-23T15:07:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When trying to render\r\n```html\r\n<a href=\"'\">\r\n```\r\nwe get `cairocffi.CairoError: cairo returned CAIRO_STATUS_TAG_ERROR: b'invalid tag name, attributes, or nesting'`.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/774/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/770", "id": 400034153, "node_id": "MDU6SXNzdWU0MDAwMzQxNTM=", "number": 770, "title": "UnboundLocalError: local variable 'lower_guess' referenced before assignment", "user": {"login": "andreas-gruenbacher", "id": 1464780, "node_id": "MDQ6VXNlcjE0NjQ3ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1464780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-gruenbacher", "html_url": "https://github.com/andreas-gruenbacher", "followers_url": "https://api.github.com/users/andreas-gruenbacher/followers", "following_url": "https://api.github.com/users/andreas-gruenbacher/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-gruenbacher/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-gruenbacher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-gruenbacher/subscriptions", "organizations_url": "https://api.github.com/users/andreas-gruenbacher/orgs", "repos_url": "https://api.github.com/users/andreas-gruenbacher/repos", "events_url": "https://api.github.com/users/andreas-gruenbacher/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-gruenbacher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 38, "created_at": "2019-01-16T22:53:49Z", "updated_at": "2019-02-20T16:26:23Z", "closed_at": "2019-01-21T10:48:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having issue #409 with weasyprint 44. That issue is closed and I don't see how I could reopen it. I've described what's happening in that issue for now.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/756", "id": 393632175, "node_id": "MDU6SXNzdWUzOTM2MzIxNzU=", "number": 756, "title": "Nested flex boxes no longer working", "user": {"login": "tokyovigilante", "id": 12971, "node_id": "MDQ6VXNlcjEyOTcx", "avatar_url": "https://avatars.githubusercontent.com/u/12971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tokyovigilante", "html_url": "https://github.com/tokyovigilante", "followers_url": "https://api.github.com/users/tokyovigilante/followers", "following_url": "https://api.github.com/users/tokyovigilante/following{/other_user}", "gists_url": "https://api.github.com/users/tokyovigilante/gists{/gist_id}", "starred_url": "https://api.github.com/users/tokyovigilante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tokyovigilante/subscriptions", "organizations_url": "https://api.github.com/users/tokyovigilante/orgs", "repos_url": "https://api.github.com/users/tokyovigilante/repos", "events_url": "https://api.github.com/users/tokyovigilante/events{/privacy}", "received_events_url": "https://api.github.com/users/tokyovigilante/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-22T01:39:31Z", "updated_at": "2019-07-19T08:44:49Z", "closed_at": "2019-07-19T08:44:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems to be releated to #673, however this time the right-aligned text is pushed too far right halfway off the page. The following commit is implicated:\r\n\r\ncommit 01b09c6\r\n```(env) [Sat 11:49am] ryan ~/Projects/Develop/WeasyPrint/$ git bisect bad\r\n01b09c6136179a2a3e74473d73d0bb6d90ac441c is the first bad commit\r\ncommit 01b09c6136179a2a3e74473d73d0bb6d90ac441c\r\nAuthor: Guillaume Ayoub <guillaume.ayoub@kozea.fr>\r\nDate:   Thu Aug 30 18:57:04 2018 +0200\r\n\r\n    Fix crashes in flex layout\r\n\r\n:040000 040000 b777414d70e5c1d887a91ff6fe97a2aed84722ac 5e7a77faa8da51ed3614b14b16db4449ac7fa52e M\tweasyprint\r\n```\r\n\r\nSame sample code in that commit shows the bug. Sorry I never got a chance to accomplish much in the way of flexbox tests, probably would have caught this :/", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/748", "id": 387871864, "node_id": "MDU6SXNzdWUzODc4NzE4NjQ=", "number": 748, "title": "No-break spaces (&nbsp;) sometimes get hyphenated at a line break", "user": {"login": "bert-github", "id": 7431647, "node_id": "MDQ6VXNlcjc0MzE2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7431647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bert-github", "html_url": "https://github.com/bert-github", "followers_url": "https://api.github.com/users/bert-github/followers", "following_url": "https://api.github.com/users/bert-github/following{/other_user}", "gists_url": "https://api.github.com/users/bert-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/bert-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bert-github/subscriptions", "organizations_url": "https://api.github.com/users/bert-github/orgs", "repos_url": "https://api.github.com/users/bert-github/repos", "events_url": "https://api.github.com/users/bert-github/events{/privacy}", "received_events_url": "https://api.github.com/users/bert-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 2, "created_at": "2018-12-05T17:45:46Z", "updated_at": "2019-01-02T16:48:05Z", "closed_at": "2019-01-02T16:46:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Weasyprint (version 43, on Debian 9.6 \"Stretch\") sometimes breaks a line after a no-break space (\\&nbsp;) and adds a hyphen. E.g., in this document:\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=en>\r\n  <meta charset=utf-8>\r\n  <title>Test</title>\r\n  <style>\r\n     @page {size: 10cm 15cm; margin: 2cm}\r\n     body {font-size: 12pt; hyphens: auto}\r\n  </style>\r\n  <p>Does this break in 12&nbsp;point\r\n   fonts?\r\n```\r\nSee the attached PDF. (The sizes may have to be adjusted, depending on what the default font is.)\r\n[tmp.pdf](https://github.com/Kozea/WeasyPrint/files/2649856/tmp.pdf)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/744", "id": 385560060, "node_id": "MDU6SXNzdWUzODU1NjAwNjA=", "number": 744, "title": "Navigator 500 error on local html file on Windows", "user": {"login": "pfctdayelise", "id": 360499, "node_id": "MDQ6VXNlcjM2MDQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/360499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfctdayelise", "html_url": "https://github.com/pfctdayelise", "followers_url": "https://api.github.com/users/pfctdayelise/followers", "following_url": "https://api.github.com/users/pfctdayelise/following{/other_user}", "gists_url": "https://api.github.com/users/pfctdayelise/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfctdayelise/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfctdayelise/subscriptions", "organizations_url": "https://api.github.com/users/pfctdayelise/orgs", "repos_url": "https://api.github.com/users/pfctdayelise/repos", "events_url": "https://api.github.com/users/pfctdayelise/events{/privacy}", "received_events_url": "https://api.github.com/users/pfctdayelise/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-29T03:59:17Z", "updated_at": "2019-01-03T07:21:42Z", "closed_at": "2019-01-03T06:16:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nTrying to open a local file (eg with a `file:///` address) using the Navigator produces a 500 error. \r\n\r\nThis may be something you decide not to fix, however I found a simple workaround which might be useful to add to the documentation.\r\n\r\n* Run a Python simple HTTP server from the directory where the html file is located. (`python2 -m SimpleHTTPServer` or `python3 -m http.server`) \r\n* This will run a server on 127.0.0.1:8000. Open this in a browser and navigate to the local html file\r\n* Separately, run `python -m weasyprint.tools.navigator`\r\n* This runs a server on 127.0.0.1:5000. Open this in a browser\r\n* Copy the URL from the port on 8000, into the Navigator box.\r\n\r\nIt's a bit clumsy but it works :)\r\n\r\nHere is the terminal output from the 500 error. Running on Ubuntu 18.04 on Windows WSL. Weasyprint version 43.\r\n\r\nThe URL I hit was `http://127.0.0.1:5000/view/file:///U:/ha.html` . `file:///U:/ha.html` works in Chrome on Windows. So it seems like the file:/// prefix is not being cleanly stripped.\r\n\r\n```\r\n(confluence2pdf) bjl@BJL-LAP:/mnt/c/Users/bjl/wsl/confluence2pdf$ python -m weasyprint.tools.navigator\r\nListening on http://127.0.0.1:5000/ ...\r\n127.0.0.1 - - [29/Nov/2018 14:56:50] \"GET / HTTP/1.1\" 200 1280\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 1474, in open_local_file\r\n    stats = os.stat(localfile)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/U:/ha.html'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/urls.py\", line 276, in fetch\r\n    result = url_fetcher(url)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/urls.py\", line 240, in default_url_fetcher\r\n    response = urlopen(Request(url, headers=HTTP_HEADERS), timeout=timeout)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 223, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 526, in open\r\n    response = self._open(req, data)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 544, in _open\r\n    '_open', req)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 1452, in file_open\r\n    return self.open_local_file(req)\r\n  File \"/usr/lib/python3.6/urllib/request.py\", line 1491, in open_local_file\r\n    raise URLError(exp)\r\nurllib.error.URLError: <urlopen error [Errno 2] No such file or directory: '/U:/ha.html'>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/wsgiref/handlers.py\", line 137, in run\r\n    self.result = application(self.environ, self.start_response)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/tools/navigator.py\", line 132, in app\r\n    return make_response(render_template(url))\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/tools/navigator.py\", line 58, in render_template\r\n    html = HTML(url)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/__init__.py\", line 104, in __init__\r\n    with result as (source_type, source, base_url, protocol_encoding):\r\n  File \"/usr/lib/python3.6/contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/__init__.py\", line 349, in _select_source\r\n    with result as result:\r\n  File \"/usr/lib/python3.6/contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/__init__.py\", line 359, in _select_source\r\n    with fetch(url_fetcher, url) as result:\r\n  File \"/usr/lib/python3.6/contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"/home/bjl/.local/share/virtualenvs/confluence2pdf-2p7HVg-X/lib/python3.6/site-packages/weasyprint/urls.py\", line 278, in fetch\r\n    raise URLFetchingError('%s: %s' % (type(exc).__name__, str(exc)))\r\nweasyprint.urls.URLFetchingError: URLError: <urlopen error [Errno 2] No such file or directory: '/U:/ha.html'>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/729", "id": 378648887, "node_id": "MDU6SXNzdWUzNzg2NDg4ODc=", "number": 729, "title": "No weasyprint.tools.navigator in 43rc2 ? ", "user": {"login": "bdamay", "id": 16347726, "node_id": "MDQ6VXNlcjE2MzQ3NzI2", "avatar_url": "https://avatars.githubusercontent.com/u/16347726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdamay", "html_url": "https://github.com/bdamay", "followers_url": "https://api.github.com/users/bdamay/followers", "following_url": "https://api.github.com/users/bdamay/following{/other_user}", "gists_url": "https://api.github.com/users/bdamay/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdamay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdamay/subscriptions", "organizations_url": "https://api.github.com/users/bdamay/orgs", "repos_url": "https://api.github.com/users/bdamay/repos", "events_url": "https://api.github.com/users/bdamay/events{/privacy}", "received_events_url": "https://api.github.com/users/bdamay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-11-08T09:38:02Z", "updated_at": "2018-11-09T08:05:21Z", "closed_at": "2018-11-08T13:04:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed 43rc2 version of weasyprint on windows with \r\n> pip install Weasyprint==43rc2\r\n\r\nSeems to be fine\r\n\r\n> python -m weasyprint --version\r\n> WeasyPrint version 43rc2\r\n\r\nAccording to the docs i tried \r\n\r\n> python -m weasyprint.tools.navigator\r\n> Error while finding module specification for 'weasyprint.tools.navigator' (ModuleNotFoundError: No module named 'weasyprint.tools')\"\r\n\r\nDo i miss something ? \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/728", "id": 378486059, "node_id": "MDU6SXNzdWUzNzg0ODYwNTk=", "number": 728, "title": "Height, width set to auto causes typeerror", "user": {"login": "hydric", "id": 5245696, "node_id": "MDQ6VXNlcjUyNDU2OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5245696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hydric", "html_url": "https://github.com/hydric", "followers_url": "https://api.github.com/users/hydric/followers", "following_url": "https://api.github.com/users/hydric/following{/other_user}", "gists_url": "https://api.github.com/users/hydric/gists{/gist_id}", "starred_url": "https://api.github.com/users/hydric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hydric/subscriptions", "organizations_url": "https://api.github.com/users/hydric/orgs", "repos_url": "https://api.github.com/users/hydric/repos", "events_url": "https://api.github.com/users/hydric/events{/privacy}", "received_events_url": "https://api.github.com/users/hydric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 4, "created_at": "2018-11-07T21:55:39Z", "updated_at": "2019-03-07T17:50:01Z", "closed_at": "2019-03-07T17:49:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "In padding_height(self) and padding_width(self) in boxes.py the return values can't be added together when height and/or width is set to'auto'.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/727", "id": 377888104, "node_id": "MDU6SXNzdWUzNzc4ODgxMDQ=", "number": 727, "title": "Tables overflowing page limits", "user": {"login": "RafaelLinux", "id": 13048959, "node_id": "MDQ6VXNlcjEzMDQ4OTU5", "avatar_url": "https://avatars.githubusercontent.com/u/13048959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelLinux", "html_url": "https://github.com/RafaelLinux", "followers_url": "https://api.github.com/users/RafaelLinux/followers", "following_url": "https://api.github.com/users/RafaelLinux/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelLinux/subscriptions", "organizations_url": "https://api.github.com/users/RafaelLinux/orgs", "repos_url": "https://api.github.com/users/RafaelLinux/repos", "events_url": "https://api.github.com/users/RafaelLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/17", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17/labels", "id": 4653064, "node_id": "MDk6TWlsZXN0b25lNDY1MzA2NA==", "number": 17, "title": "50", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-09-12T06:37:54Z", "updated_at": "2019-09-20T12:20:28Z", "due_on": null, "closed_at": "2019-09-20T12:20:28Z"}, "comments": 10, "created_at": "2018-11-06T15:06:09Z", "updated_at": "2019-09-16T12:25:18Z", "closed_at": "2019-09-16T12:25:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if is a previosly commented issue, but this is the case: Two distinct tables are overflowing page limits, one at bottom and the other one at right. In the screenshots, you can compare Firefox print preview output (left side) and weasyprint output (right side). I coded CSS to show on screen closer to print output, and on screen, the table overflowing at right is correctly displayed.\r\n\r\nI'm using latest weasyprint and parameter \"--presentational-hints\"\r\n\r\nThis is the table overflowing at bottom:\r\n![weasyprint - table bottom overflow](https://user-images.githubusercontent.com/13048959/48072658-52ebb080-e1dd-11e8-8777-62aad2b0fd23.png)\r\n\r\nThis is the table overflowing at right:\r\n![weasyprint - table right overflow](https://user-images.githubusercontent.com/13048959/48072665-57b06480-e1dd-11e8-89a8-25bc300e7932.png)\r\n\r\n[weasyprint issues.zip](https://github.com/Kozea/WeasyPrint/files/2553691/weasyprint.issues.zip)\r\n\r\nAny idea what's wrong? \r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/726", "id": 376416574, "node_id": "MDU6SXNzdWUzNzY0MTY1NzQ=", "number": 726, "title": "string-set '' doesn't clear previous value from named string [43rc1 regression]", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-11-01T14:30:09Z", "updated_at": "2018-11-02T16:53:15Z", "closed_at": "2018-11-02T16:48:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`string-set: foo ''` used to clear the named string. It now seems to be ignored, leaving the previous value in there.\r\n\r\nDemo:\r\n\r\n````html\r\n<!DOCTYPE html>\r\n<title>Clear String Check</title>\r\n<style>\r\n@page { @top-left  { content: '[' string(left) ']' } }\r\np { page-break-before: always }\r\n.initial { -weasy-string-set: left 'initial' }\r\n.empty   { -weasy-string-set: left ''        }\r\n.space   { -weasy-string-set: left ' '       }\r\n</style>\r\n\r\n<p class=initial>Initial\r\n<p class=empty  >Empty\r\n<p class=space  >Space\r\n````\r\n\r\nIn WeasyPrint\u00a00.39, the three page headings are the expected \u201c[initial]\u201d, \u201c[]\u201d, and \u201c[\u00a0]\u201d. But in 43rc1, the middle one is still \u201c[initial]\u201d.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/722", "id": 375927579, "node_id": "MDU6SXNzdWUzNzU5Mjc1Nzk=", "number": 722, "title": "string-set attr(alt) fails if image is displayed [43rc1 regression]", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 4, "created_at": "2018-10-31T11:58:22Z", "updated_at": "2018-11-02T13:53:34Z", "closed_at": "2018-11-02T13:32:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using `string-set foo attr(alt)` to set the string to an image's `alt` attribute no longer works in WeasyPrint\u00a043rc1, when the image is displayed.\r\n\r\nThis is a regression; it works fine in version\u00a00.39 (sorry, I haven't checked versions between those).\r\n\r\nDemo:\r\n\r\n```` html\r\n<!DOCTYPE html>\r\n<title>string-set Check</title>\r\n<style>\r\nh1 img { -weasy-string-set: left  attr(alt) }\r\nh2 img { -weasy-string-set: right attr(alt) }\r\n@page { @top-left  { content: '[' string(left)  ']' }\r\n        @top-right { content: '{' string(right) '}' } }\r\n</style>\r\n\r\n<h1><img src=valid_image.png  alt=Chocolate></h1>\r\n<h2><img src=no_such_file.png alt=Cake></h2>\r\n````\r\n\r\nMake `valid_image.png` exist (and ensure that `no_such_file.png` doesn't).\r\n\r\n* In 0.39, the left header says \u2018[Chocolate]\u2019 and the top right says \u2018{Cake}\u2019, as intended.\r\n* In 43rc1, the top left is just \u2018[]\u2019, but the top right is still \u2018{Cake}\u2019.\r\n\r\nSo when the `alt` text is needed for display in the document, it's still there for `attr(alt)` to find it. But in the (presumably more common) case where the image is actually available and `alt` isn't required for the document, its content no longer appears in `attr(alt)` either.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/717", "id": 373001593, "node_id": "MDU6SXNzdWUzNzMwMDE1OTM=", "number": 717, "title": "Increased space between text lines", "user": {"login": "RafaelLinux", "id": 13048959, "node_id": "MDQ6VXNlcjEzMDQ4OTU5", "avatar_url": "https://avatars.githubusercontent.com/u/13048959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelLinux", "html_url": "https://github.com/RafaelLinux", "followers_url": "https://api.github.com/users/RafaelLinux/followers", "following_url": "https://api.github.com/users/RafaelLinux/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelLinux/subscriptions", "organizations_url": "https://api.github.com/users/RafaelLinux/orgs", "repos_url": "https://api.github.com/users/RafaelLinux/repos", "events_url": "https://api.github.com/users/RafaelLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 11, "created_at": "2018-10-23T13:31:27Z", "updated_at": "2019-12-17T10:11:59Z", "closed_at": "2018-10-29T11:27:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I discovered an estrange behavior after change all size measurement to \"rem\" units. All is working as it should on screen and when I print from Firefox/Chromium, the space between each line is correct. However, WeasyPrint increase at least twice the space between lines. It seems to be the `line-height` of lines inside `<details>` HTML5 marker, but I'm not sure.\r\n\r\nUpdate: I have had a problem editing, but with Firefox, that doesn't let me attach files or even \"edit\" the post after published. Now, with Chromium, attach the captured image and the example html/css files\r\n[weasyprint issue.zip](https://github.com/Kozea/WeasyPrint/files/2506322/weasyprint.issue.zip)\r\n\r\n![weasyprint - interline space duplicated](https://user-images.githubusercontent.com/13048959/47365609-3418f480-d6dc-11e8-9cf1-971bb1c68294.jpg)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/717/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/706", "id": 369764404, "node_id": "MDU6SXNzdWUzNjk3NjQ0MDQ=", "number": 706, "title": "First Line of New Page is Incorrectly Indented when Indenting All But First Paragraph", "user": {"login": "patbakdev", "id": 6692044, "node_id": "MDQ6VXNlcjY2OTIwNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6692044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patbakdev", "html_url": "https://github.com/patbakdev", "followers_url": "https://api.github.com/users/patbakdev/followers", "following_url": "https://api.github.com/users/patbakdev/following{/other_user}", "gists_url": "https://api.github.com/users/patbakdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/patbakdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patbakdev/subscriptions", "organizations_url": "https://api.github.com/users/patbakdev/orgs", "repos_url": "https://api.github.com/users/patbakdev/repos", "events_url": "https://api.github.com/users/patbakdev/events{/privacy}", "received_events_url": "https://api.github.com/users/patbakdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-10-13T04:02:15Z", "updated_at": "2018-10-26T16:57:13Z", "closed_at": "2018-10-26T16:50:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given the following HTML: \r\n\r\n<html>\r\n    <head>\r\n        <style>\r\n         @page {\r\n             size: 5.06in 7.81in;\r\n             margin-right: 0.5in;\r\n             margin-left: 0.5in;\r\n         }\r\n\r\n         p {\r\n             line-height: 1.5em;\r\n             margin: 0;\r\n             orphans: 3;\r\n             widows: 3;\r\n         }\r\n\r\n         p+p {\r\n             text-indent: 1.4em;\r\n         }\r\n\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <section>\r\n            <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien. </p>\r\n            <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien. </p>\r\n            <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien. </p>\r\n        </section>\r\n    </body>\r\n</html>\r\n\r\nI am expecting that the only indented lines are the first line of each of the 2nd through Nth paragraph, but instead there are also indention in the middle of the paragraph at the beginning of each page.\r\n\r\n![repro](https://user-images.githubusercontent.com/6692044/46901043-d1358b00-ce9b-11e8-93f0-3fde33582de6.png)\r\n\r\nCurrently running from sources (WeasyPrint version 43a0)\r\ncommit 8b7f52906405fe551982ca127b518fb05255157c \r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/705", "id": 369519020, "node_id": "MDU6SXNzdWUzNjk1MTkwMjA=", "number": 705, "title": "Setting an opacity generates invalid PDF ", "user": {"login": "ugomeda", "id": 932339, "node_id": "MDQ6VXNlcjkzMjMzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/932339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ugomeda", "html_url": "https://github.com/ugomeda", "followers_url": "https://api.github.com/users/ugomeda/followers", "following_url": "https://api.github.com/users/ugomeda/following{/other_user}", "gists_url": "https://api.github.com/users/ugomeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ugomeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ugomeda/subscriptions", "organizations_url": "https://api.github.com/users/ugomeda/orgs", "repos_url": "https://api.github.com/users/ugomeda/repos", "events_url": "https://api.github.com/users/ugomeda/events{/privacy}", "received_events_url": "https://api.github.com/users/ugomeda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 12, "created_at": "2018-10-12T11:52:41Z", "updated_at": "2018-10-25T10:46:27Z", "closed_at": "2018-10-25T09:26:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm setting opacity on an element of a page using css :\r\n\r\n```css\r\n#watermark {\r\n    opacity: 0.1;\r\n}\r\n```\r\n\r\nWhen opening my PDF using GhostScript, these errors will pop up:\r\n\r\n```\r\ngs -o repaired.pdf -sDEVICE=pdfwrite -dPDFSETTINGS=/prepress overlay.pdf\r\n\r\nGPL Ghostscript 9.25 (2018-09-13)\r\nCopyright (C) 2018 Artifex Software, Inc.  All rights reserved.\r\nThis software comes with NO WARRANTY: see the file PUBLIC for details.\r\nProcessing pages 1 through 32.\r\nPage 1\r\n   **** Error: Ignoring spurious ET operator.\r\n               Output may be incorrect.\r\n   **** Error: Executing Do inside a text block, attempting to recover\r\n               Output may be incorrect.\r\nPage 2\r\n   **** Error: Ignoring spurious ET operator.\r\n               Output may be incorrect.\r\n   **** Error: Executing Do inside a text block, attempting to recover\r\n               Output may be incorrect.\r\nPage 3\r\n   **** Error: Ignoring spurious ET operator.\r\n               Output may be incorrect.\r\n   **** Error: Executing Do inside a text block, attempting to recover\r\n               Output may be incorrect.\r\nPage 4\r\n   **** Error: Ignoring spurious ET operator.\r\n               Output may be incorrect.\r\n   **** Error: Executing Do inside a text block, attempting to recover\r\n               Output may be incorrect.\r\nPage 5\r\n   **** Error: Ignoring spurious ET operator.\r\n               Output may be incorrect.\r\n   **** Error: Executing Do inside a text block, attempting to recover\r\n               Output may be incorrect.\r\n```\r\n\r\nRemoving the opacity fixes the issue.\r\n\r\nPlease note that when i'm trying to print these PDF, my printer will only print the first page, and a second page with errors only.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/704", "id": 369013957, "node_id": "MDU6SXNzdWUzNjkwMTM5NTc=", "number": 704, "title": "Division by zero in invalid table (low prio)", "user": {"login": "JohannesMunk", "id": 12482761, "node_id": "MDQ6VXNlcjEyNDgyNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/12482761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesMunk", "html_url": "https://github.com/JohannesMunk", "followers_url": "https://api.github.com/users/JohannesMunk/followers", "following_url": "https://api.github.com/users/JohannesMunk/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesMunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesMunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesMunk/subscriptions", "organizations_url": "https://api.github.com/users/JohannesMunk/orgs", "repos_url": "https://api.github.com/users/JohannesMunk/repos", "events_url": "https://api.github.com/users/JohannesMunk/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesMunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 0, "created_at": "2018-10-11T08:45:13Z", "updated_at": "2019-01-03T12:59:19Z", "closed_at": "2019-01-03T12:59:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just stumbled over this.. Its my fault my algo should introduce missing table cells - so please don't loose any sleep over this. But maybe you want to check for a nonzero `other_columns_contributions` when trying to collect the widths of other columns. In this screwd example, wp raises a divison by zero exception.\r\n```\r\n<html>\r\n<head>\r\n\t<meta charset='utf-8' />\r\n\t<style>\r\n\t\t.expand {width: 30%;}\r\n\t</style>\r\n</head>\r\n<body>\r\n\t<table>\r\n\t\t<tr>\r\n\t\t\t<th>A</th>\r\n\t\t\t<th class='expand'>B</th>\r\n\t\t\t<th>C</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan='2'></td>\r\n\t\t\t<!--<td></td>-->\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th class='expand'>A</th>\r\n\t\t\t<th>B</th>\r\n\t\t\t<th>C</th>\r\n\t\t</tr>\r\n\t</table>\r\n</body>\r\n</html>\r\n```\r\ncrashes with:\r\n```\r\nI:\\x3rdParty\\Python\r\nTraceback (most recent call last):\r\n  File \"I:\\x3rdParty\\Python\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"I:\\x3rdParty\\Python\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\__main__.py\", line 177, in <module>\r\n    main()\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\__main__.py\", line 173, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\__init__.py\", line 198, in write_pdf\r\n    font_config=font_config).write_pdf(\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\__init__.py\", line 159, in render\r\n    font_config)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\document.py\", line 361, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\document.py\", line 361, in <listcomp>\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\__init__.py\", line 126, in layout_document\r\n    context, root_box, html, cascaded_styles, computed_styles, pages))\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\pages.py\", line 788, in make_all_pages\r\n    i, context, root_box, html, cascaded_styles, computed_styles)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\pages.py\", line 726, in remake_page\r\n    page_number, page_state)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\pages.py\", line 554, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 55, in block_level_layout\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 71, in block_level_layout_switch\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 125, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 495, in block_container_layout\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 55, in block_level_layout\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 71, in block_level_layout_switch\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 125, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 495, in block_container_layout\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 55, in block_level_layout\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 71, in block_level_layout_switch\r\n    adjoining_margins)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 119, in block_box_layout\r\n    context, box, (containing_block.width, containing_block.height))\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\tables.py\", line 627, in table_wrapper_width\r\n    auto_table_layout(context, wrapper, containing_block)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\tables.py\", line 526, in auto_table_layout\r\n    table_and_columns_preferred_widths(context, box, outer=False)\r\n  File \"I:\\x3rdParty\\Python\\lib\\site-packages\\weasyprint\\layout\\preferred.py\", line 473, in table_and_columns_preferred_widths\r\n    ratio = 1 / len(other_columns_contributions)\r\nZeroDivisionError: division by zero\r\nI:\\xClients\\Crown-Temp\\WP-crashOnExpand>\r\n```\r\nIt doesnt crash when the 2nd table gets the missing cell. Or when the expand class is removed.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/695", "id": 362492876, "node_id": "MDU6SXNzdWUzNjI0OTI4NzY=", "number": 695, "title": "Tables with fix width overflow their parent width", "user": {"login": "RafaelLinux", "id": 13048959, "node_id": "MDQ6VXNlcjEzMDQ4OTU5", "avatar_url": "https://avatars.githubusercontent.com/u/13048959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelLinux", "html_url": "https://github.com/RafaelLinux", "followers_url": "https://api.github.com/users/RafaelLinux/followers", "following_url": "https://api.github.com/users/RafaelLinux/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelLinux/subscriptions", "organizations_url": "https://api.github.com/users/RafaelLinux/orgs", "repos_url": "https://api.github.com/users/RafaelLinux/repos", "events_url": "https://api.github.com/users/RafaelLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-21T07:39:53Z", "updated_at": "2019-01-03T13:03:06Z", "closed_at": "2019-01-03T13:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "As a typical case, when tables width exceeds his parent width, web browsers ignored the table width and (seems that) put the table width to 100%, in screen and when printing. Could you take a look to this example?\r\n[http://www.dip-badajoz.es/bop/ventana_anuncio.php?id_anuncio=115621&FechaSolicitada=2018-09-21](http://www.dip-badajoz.es/bop/ventana_anuncio.php?id_anuncio=115621&FechaSolicitada=2018-09-21)\r\nThe table at the end has `width=\"1310\"` , but it do not overflow the container where it is nested.\r\n\r\nPlease, it's important that Weasyprint follow the same behaviour that web browsers to maintain readable tables.\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/695/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/694", "id": 362089300, "node_id": "MDU6SXNzdWUzNjIwODkzMDA=", "number": 694, "title": "\"--presentational-hints\" parameter seems to ignore \"align=center\"", "user": {"login": "RafaelLinux", "id": 13048959, "node_id": "MDQ6VXNlcjEzMDQ4OTU5", "avatar_url": "https://avatars.githubusercontent.com/u/13048959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelLinux", "html_url": "https://github.com/RafaelLinux", "followers_url": "https://api.github.com/users/RafaelLinux/followers", "following_url": "https://api.github.com/users/RafaelLinux/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelLinux/subscriptions", "organizations_url": "https://api.github.com/users/RafaelLinux/orgs", "repos_url": "https://api.github.com/users/RafaelLinux/repos", "events_url": "https://api.github.com/users/RafaelLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 5, "created_at": "2018-09-20T09:08:30Z", "updated_at": "2018-09-21T07:22:25Z", "closed_at": "2018-09-20T13:30:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "We realized today that despite we are launching weasyprint with `\"--presentational-hints\"` parameter, it seems is ignoring  `<td align=\"center\">1</td>` \r\n![weasyprint - tables - parameter legacy not working](https://user-images.githubusercontent.com/13048959/45808033-1283b200-bcc5-11e8-95d3-a35634bd1b00.png)\r\nSource web page is [http://www.dip-badajoz.es/bop/ventana_anuncio.php?id_anuncio=115432&FechaSolicitada=2018-09-20](http://www.dip-badajoz.es/bop/ventana_anuncio.php?id_anuncio=115432&FechaSolicitada=2018-09-20) where the table is in.\r\n\r\nWe are launching weasyprint like this \"`weasyprint --presentational-hints  source_URL output.pdf`\"\r\n\r\nWe are maybe using parameter in the wrong way?\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/687", "id": 360242836, "node_id": "MDU6SXNzdWUzNjAyNDI4MzY=", "number": 687, "title": "font face src with query not found on filesystem", "user": {"login": "arthru", "id": 1155063, "node_id": "MDQ6VXNlcjExNTUwNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1155063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthru", "html_url": "https://github.com/arthru", "followers_url": "https://api.github.com/users/arthru/followers", "following_url": "https://api.github.com/users/arthru/following{/other_user}", "gists_url": "https://api.github.com/users/arthru/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthru/subscriptions", "organizations_url": "https://api.github.com/users/arthru/orgs", "repos_url": "https://api.github.com/users/arthru/repos", "events_url": "https://api.github.com/users/arthru/events{/privacy}", "received_events_url": "https://api.github.com/users/arthru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 9, "created_at": "2018-09-14T10:12:04Z", "updated_at": "2018-10-26T19:16:48Z", "closed_at": "2018-10-26T17:19:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using fontawesome from filesystem, the font is not displayed in generated pdf.\r\n\r\nFontawesome uses the following declaration :\r\n```\r\n@font-face {\r\n  font-family: 'FontAwesome';\r\n  src: url('../fonts/fontawesome-webfont.eot?v=4.7.0');\r\n  src: url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n}\r\n```\r\nIn that cases, the query part (following ? in src url) is interpreted as part of the filename, which is not.\r\n\r\nAs a fix, I would suggest to improve `weasyprint.css.descriptors.preprocess_descriptors` by removing the question mark and what follows in src url when `base_url` starts with `file://`", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/687/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/686", "id": 360206425, "node_id": "MDU6SXNzdWUzNjAyMDY0MjU=", "number": 686, "title": "Fix column balance when children are not inline", "user": {"login": "JohannesMunk", "id": 12482761, "node_id": "MDQ6VXNlcjEyNDgyNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/12482761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesMunk", "html_url": "https://github.com/JohannesMunk", "followers_url": "https://api.github.com/users/JohannesMunk/followers", "following_url": "https://api.github.com/users/JohannesMunk/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesMunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesMunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesMunk/subscriptions", "organizations_url": "https://api.github.com/users/JohannesMunk/orgs", "repos_url": "https://api.github.com/users/JohannesMunk/repos", "events_url": "https://api.github.com/users/JohannesMunk/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesMunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/15", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/15/labels", "id": 4312875, "node_id": "MDk6TWlsZXN0b25lNDMxMjg3NQ==", "number": 15, "title": "48", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2019-05-14T13:32:55Z", "updated_at": "2019-07-26T09:52:59Z", "due_on": null, "closed_at": "2019-07-09T05:46:46Z"}, "comments": 7, "created_at": "2018-09-14T08:30:01Z", "updated_at": "2019-07-03T13:06:26Z", "closed_at": "2019-07-03T13:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello WP-Team! Sorry for being the source of so many issues at the moment. But I have found another one, that seems harder to circumvent.\r\n\r\nThere is a problem in getting the height in a multi-column layout right. It is chosen so high, that a 3 column layout breaks down to an unbalanced 2 column layout!\r\n\r\n![2018-09-14 10_26_26-avscrollview](https://user-images.githubusercontent.com/12482761/45538941-b58d8500-b808-11e8-9fe2-deee4396d82d.png)\r\n\r\n```\r\n<html lang=\"de\">\r\n <head>\r\n  <meta charset=\"utf-8\" />\r\n  <title>wp-column-balance-test</title>\r\n  <style>\r\n\t\tbody {\r\n\t\t\tfont-size: 9pt !important;\r\n\t\t\tfont-family: DejaVu Sans, sans-serif;\r\n\t\t}\r\n\t\t.legalInfoPrefix {\r\n\t\t\tmargin-top: 0.5em;\r\n\t\t\tborder: 1px solid blue;\r\n\t\t\tcolumn-count: 3;\r\n\t\t\t-webkit-column-count: 3;\r\n\t\t}\r\n\t\t.legal {\r\n\t\t\tmargin-top: 0;\r\n\t\t\tmargin-bottom: 0.5em;\r\n\t\t\tbreak-inside: auto;\r\n\t\t}\r\n\r\n\t\th3 {\r\n\t\t\tfont-size: 1.0em;\r\n\t\t\tmargin: 0;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t\t@media print {\r\n\t\t\t@page {\r\n\t\t\t\tsize: A4;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t</style>\r\n </head>\r\n<body>\r\n <div id=\"full\">\r\n   <div class='legalInfoPrefix'>\r\n\t<h3>Title 1</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n    </p>\r\n\t<h3>Title 2</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n    </p>\r\n\t<h3>Title 3</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\r\n    </p>\r\n\t<h3>Title 4</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing\r\n    </p>\r\n\t<h3>Title 5</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut \r\n    </p>\r\n  </div>\r\n   <div class='legalInfoPrefix'>\r\n\t<h3>Title 1</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n    </p>\r\n\t<h3>Title 2</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n    </p>\r\n\t<h3>Title 3</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehend\r\n    </p>\r\n\t<h3>Title 4</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehend\r\n    </p>\r\n\t<h3>Title 5</h3>\r\n    <p class='legal'>\r\n\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut \r\n    </p>\r\n  </div>\r\n </div>\r\n</body>\r\n</html>\r\n```\r\n[wp-column-balance-test.html.pdf](https://github.com/Kozea/WeasyPrint/files/2382546/wp-column-balance-test.html.pdf)\r\n\r\nAny ideas? Thx a lot in advance!", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/685", "id": 359681563, "node_id": "MDU6SXNzdWUzNTk2ODE1NjM=", "number": 685, "title": "Table column widths with colspans involved", "user": {"login": "JohannesMunk", "id": 12482761, "node_id": "MDQ6VXNlcjEyNDgyNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/12482761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesMunk", "html_url": "https://github.com/JohannesMunk", "followers_url": "https://api.github.com/users/JohannesMunk/followers", "following_url": "https://api.github.com/users/JohannesMunk/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesMunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesMunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesMunk/subscriptions", "organizations_url": "https://api.github.com/users/JohannesMunk/orgs", "repos_url": "https://api.github.com/users/JohannesMunk/repos", "events_url": "https://api.github.com/users/JohannesMunk/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesMunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-09-12T22:55:39Z", "updated_at": "2018-09-20T22:12:09Z", "closed_at": "2018-09-19T15:07:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey WP-Team! This issue is low priority for us, as I have found a simple workaround. But nonetheless maybe you want to investigate or declare this as expected behaviour!\r\n\r\nWhenever there is content in a cell with colspan the size of the colspan'ed element influences the width of the columns in an unexpected/unwanted way. On the left is chrome; on the right the output from WP.\r\n\r\n![test html pdf - adobe acrobat pro](https://user-images.githubusercontent.com/12482761/45456293-7b2dc600-b6ea-11e8-837d-2341c6ba6dc5.png)\r\n\r\nIt seems that while the layout is done the colspan is not taking into consideration. Giving WP a hint in terms of a style=\"width:1px\" circumvents the issue.\r\n\r\n```\r\n<html>\r\n<style>td {border: 1px solid black;}</style>\r\n<body>\r\n<div style=\"width:100%\">\r\n<table>\r\n\t<tr><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td></tr>\r\n\t<tr>\r\n\t\t<td colspan='5'>Where does this go?</td>\r\n\t</tr>\r\n</table>\r\n<table>\r\n\t<tr><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td></tr>\r\n\t<tr>\r\n\t\t<td colspan='5' style='width:1px' >Where does this go?</td>\r\n\t</tr>\r\n</table>\r\n\r\n</div>\r\n</body>\r\n</html>\r\n```\r\nWhat do you think?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/684", "id": 358920147, "node_id": "MDU6SXNzdWUzNTg5MjAxNDc=", "number": 684, "title": "Crashed when using celery to execute Weasyprint tasks", "user": {"login": "guojiaqi1027", "id": 7530380, "node_id": "MDQ6VXNlcjc1MzAzODA=", "avatar_url": "https://avatars.githubusercontent.com/u/7530380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guojiaqi1027", "html_url": "https://github.com/guojiaqi1027", "followers_url": "https://api.github.com/users/guojiaqi1027/followers", "following_url": "https://api.github.com/users/guojiaqi1027/following{/other_user}", "gists_url": "https://api.github.com/users/guojiaqi1027/gists{/gist_id}", "starred_url": "https://api.github.com/users/guojiaqi1027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guojiaqi1027/subscriptions", "organizations_url": "https://api.github.com/users/guojiaqi1027/orgs", "repos_url": "https://api.github.com/users/guojiaqi1027/repos", "events_url": "https://api.github.com/users/guojiaqi1027/events{/privacy}", "received_events_url": "https://api.github.com/users/guojiaqi1027/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-11T07:26:23Z", "updated_at": "2021-09-06T22:25:04Z", "closed_at": "2018-09-11T20:37:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi:\r\n\r\nI'm using Weasyprint to generate PDFs in celery tasks. And it crashed with trace logs below:\r\n\r\n> [2018-09-11 15:14:24,550: ERROR/MainProcess] Process 'ForkPoolWorker-2' pid:11224 exited with 'signal 6 (SIGABRT)'\r\n[2018-09-11 15:14:24,567: ERROR/MainProcess] Task handler raised error: WorkerLostError('Worker exited prematurely: signal 6 (SIGABRT).',)\r\nTraceback (most recent call last):\r\n  File \"/Users/guo/Documents/dev/soda_admin/erp_server/env/lib/python3.6/site-packages/billiard/pool.py\", line 1223, in mark_as_worker_lost\r\n    human_status(exitcode)),\r\nbilliard.exceptions.WorkerLostError: Worker exited prematurely: signal 6 (SIGABRT).\r\n\r\nAfter investigation, I found the issue:\r\n\r\nIn my task code, I have imported a module which import WeasyPrint at the top of code, and when celery execute the task, it crashed because Celery execute WeasyPrint in another process, which cause the multi-processing or thread issues. So I imported WeasyPrint lib inside the method executed instead of the whole module.\r\n\r\nIs this a thread-safety design for you, or it can be fixed since async execute for PDF generation is really common-used?\r\n\r\nThanks,", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/673", "id": 351809106, "node_id": "MDU6SXNzdWUzNTE4MDkxMDY=", "number": 673, "title": "Nested flex-box layouts don't respect justify-content tag", "user": {"login": "tokyovigilante", "id": 12971, "node_id": "MDQ6VXNlcjEyOTcx", "avatar_url": "https://avatars.githubusercontent.com/u/12971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tokyovigilante", "html_url": "https://github.com/tokyovigilante", "followers_url": "https://api.github.com/users/tokyovigilante/followers", "following_url": "https://api.github.com/users/tokyovigilante/following{/other_user}", "gists_url": "https://api.github.com/users/tokyovigilante/gists{/gist_id}", "starred_url": "https://api.github.com/users/tokyovigilante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tokyovigilante/subscriptions", "organizations_url": "https://api.github.com/users/tokyovigilante/orgs", "repos_url": "https://api.github.com/users/tokyovigilante/repos", "events_url": "https://api.github.com/users/tokyovigilante/events{/privacy}", "received_events_url": "https://api.github.com/users/tokyovigilante/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 8, "created_at": "2018-08-18T10:15:57Z", "updated_at": "2018-08-23T03:20:42Z", "closed_at": "2018-08-22T12:11:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "A final further flex-box bug I've discovered as above. I'm trying to position two columns of text with flex  containers, then within the right column, use a nested flex container to display a left-aligned and right aligned heading on a single row using `{ justify-content: space-around; }`, for example:\r\n```\r\n|--------|-----------------------------------|\r\n| Col 1  | Left-align            Right-align |\r\n|        | Body text block follows...        |\r\n|--------|-----------------------------------|\r\n```\r\n\r\n<details><summary>\r\nSample un-nested code (works as expected):\r\n</summary>\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<meta charset=\"UTF-8\">\r\n    <title></title>\r\n    <style type=\"text/css\">\r\n        @media print {\r\n                    @page {\r\n                        size: A4 portrait;\r\n                        margin: 1.5cm !important;\r\n                        margin-top: 1cm !important;\r\n                    }\r\n                }\r\n                body {\r\n                    font-family: \"serif\";\r\n                    font-size: 11pt !important;\r\n                    text-align: left;\r\n                    line-height: 1.25;\r\n                }\r\n                .d-flex {\r\n                    display: flex !important;\r\n                }\r\n                .col1 {\r\n                    flex: 0 0 90pt;\r\n                }\r\n                .col2 {\r\n                    width: 100%;\r\n                }\r\n                .d-flex {\r\n                    display: flex !important;\r\n                }\r\n                .justify-between {\r\n                    justify-content: space-between;\r\n                }\r\n            }\r\n        </style>\r\n</head>\r\n<body>\r\n    <div class=\"col2 d-flex justify-between\">\r\n        <p><strong>Left-aligned text</strong></p>\r\n        <p><em>Right-aligned text</em></p>\r\n    </div>\r\n</body>\r\n</html>\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n<details><summary>\r\nSample nested code:\r\n</summary>\r\n\r\n```html\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<meta charset=\"UTF-8\">\r\n    <title></title>\r\n    <style type=\"text/css\">\r\n        @media print {\r\n                    @page {\r\n                        size: A4 portrait;\r\n                        margin: 1.5cm !important;\r\n                        margin-top: 1cm !important;\r\n                    }\r\n                }\r\n                body {\r\n                    font-family: \"serif\";\r\n                    font-size: 11pt !important;\r\n                    text-align: left;\r\n                    line-height: 1.25;\r\n                }\r\n                .d-flex {\r\n                    display: flex !important;\r\n                }\r\n                .col1 {\r\n                    flex: 0 0 90pt;\r\n                }\r\n                .col2 {\r\n                    flex: auto;\r\n                }\r\n                .d-flex {\r\n                    display: flex !important;\r\n                }\r\n                .justify-between {\r\n                    justify-content: space-between;\r\n                }\r\n            }\r\n        </style>\r\n</head>\r\n<body>\r\n    <div class=\"d-flex\">\r\n        <div class=\"col1\">\r\n            <p><strong>Section 1</strong></p>\r\n        </div>\r\n        <div class=\"col2 d-flex justify-between\">\r\n            <p><strong>Left-aligned text</strong></p>\r\n            <p><em>Right-aligned text</em></p>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n\r\n```\r\n\r\n</details>\r\n\r\nFinal bonus bug: [`{ justify-content: space-evenly; }`](https://drafts.csswg.org/css-align-3/#typedef-content-distribution) and `{ justify-content: stretch; }` (which I'd love to be able to use) don't seem to be implemented: `WARNING: Ignored `justify-content: space-evenly` at 56:5, invalid value.`", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/672", "id": 351799807, "node_id": "MDU6SXNzdWUzNTE3OTk4MDc=", "number": 672, "title": "Flex-box layouts ignoring bottom margins", "user": {"login": "tokyovigilante", "id": 12971, "node_id": "MDQ6VXNlcjEyOTcx", "avatar_url": "https://avatars.githubusercontent.com/u/12971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tokyovigilante", "html_url": "https://github.com/tokyovigilante", "followers_url": "https://api.github.com/users/tokyovigilante/followers", "following_url": "https://api.github.com/users/tokyovigilante/following{/other_user}", "gists_url": "https://api.github.com/users/tokyovigilante/gists{/gist_id}", "starred_url": "https://api.github.com/users/tokyovigilante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tokyovigilante/subscriptions", "organizations_url": "https://api.github.com/users/tokyovigilante/orgs", "repos_url": "https://api.github.com/users/tokyovigilante/repos", "events_url": "https://api.github.com/users/tokyovigilante/events{/privacy}", "received_events_url": "https://api.github.com/users/tokyovigilante/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 0, "created_at": "2018-08-18T07:41:19Z", "updated_at": "2018-08-21T20:50:05Z", "closed_at": "2018-08-21T20:50:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following on from my `flex-box` experiments, the next issue I have found is that if I have a layout with multiple flex containers containing one or more `<div>`s with text in `<p>` tags with a `p { margin-bottom: 1em; }` set, this margin is ignored during the layout. If I remove the internal `<div>`, the layout is ok.\r\n\r\nIn the sample code below, **Section 1** has the internal `<div>` commented out, and **Section 2** has it uncommented. I would expect a `1em` space between __The first item's description__ and the horizontal rule and between **Section 2** and Item 2. If you remove the comments from the `<div` in **Section 1**, the `1em` space between **Section 1** and Item 1 disappears too. \r\n\r\nI would expect all three `1em` spaces are respected within the flex containers regardless of the prescence or abscence of a `<div>`, and this is true when rendered in Chrome.\r\n<details><summary>Sample code</summary><p>\r\n\r\n```html\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<meta charset=\"UTF-8\">\r\n    <title></title>\r\n    <style type=\"text/css\">\r\n        @media print {\r\n                    @page {\r\n                        size: A4 portrait;\r\n                        margin: 1.5cm !important;\r\n                        margin-top: 1cm !important;\r\n                    }\r\n                }\r\n                body {\r\n                    font-family: \"serif\";\r\n                    font-size: 11pt !important;\r\n                    text-align: left;\r\n                    line-height: 1.25;\r\n                }\r\n                .d-flex {\r\n                    display: flex !important;\r\n                }\r\n                .col1 {\r\n                    flex: 0 0 90pt;\r\n                }\r\n                .col2 {\r\n                    flex: auto;\r\n                }\r\n                p {\r\n                    margin-top: 0em;\r\n                    margin-bottom: 1em;\r\n                }\r\n                .border-above {\r\n                    border-top: 1px solid grey;\r\n                    page-break-after: avoid;\r\n                }\r\n            }\r\n        </style>\r\n</head>\r\n<body>\r\n    <div class=\"d-flex border-above\">\r\n        <!--div class=\"col1\"-->\r\n            <p><em>Section 1</em></p>\r\n        <!--/div-->\r\n    </div>\r\n    <div class=\"d-flex\">\r\n        <div class=\"col1\">Item 1</div>\r\n        <div class=\"col2\">\r\n            <p><strong>Here&rsquo;s the first item.</strong></br>\r\n            <em>The first item&rsquo;s description</em></p>\r\n        </div>\r\n    </div>\r\n    <div class=\"d-flex border-above\">\r\n        <div class=\"col1\">\r\n             <p><em>Section 2</em></p>\r\n        </div>\r\n    </div>\r\n    <div class=\"d-flex\">\r\n        <div class=\"col1\">Item 2</div>\r\n        <div class=\"col2\">\r\n            <p><strong>Here&rsquo;s the second item.</strong></br>\r\n            <em>The second item&rsquo;s description</em></p>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n\r\n```\r\n\r\n</p>\r\n</details>", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/667", "id": 349771537, "node_id": "MDU6SXNzdWUzNDk3NzE1Mzc=", "number": 667, "title": "Flex-box rendering layout issues with multiline text", "user": {"login": "tokyovigilante", "id": 12971, "node_id": "MDQ6VXNlcjEyOTcx", "avatar_url": "https://avatars.githubusercontent.com/u/12971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tokyovigilante", "html_url": "https://github.com/tokyovigilante", "followers_url": "https://api.github.com/users/tokyovigilante/followers", "following_url": "https://api.github.com/users/tokyovigilante/following{/other_user}", "gists_url": "https://api.github.com/users/tokyovigilante/gists{/gist_id}", "starred_url": "https://api.github.com/users/tokyovigilante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tokyovigilante/subscriptions", "organizations_url": "https://api.github.com/users/tokyovigilante/orgs", "repos_url": "https://api.github.com/users/tokyovigilante/repos", "events_url": "https://api.github.com/users/tokyovigilante/events{/privacy}", "received_events_url": "https://api.github.com/users/tokyovigilante/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 6, "created_at": "2018-08-11T23:36:01Z", "updated_at": "2018-08-18T10:16:30Z", "closed_at": "2018-08-17T13:57:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've moved my CV over from a Word document to HTML with Weasyprint, and am now converting my table-based layout to flex-box using `master`. However it seems to have a layout bug when a single line of text is laid out with a multi-line paragraph adjacent. \r\n\r\nSample code:\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta charset=\"UTF-8\">\r\n    <title></title>\r\n    <style type=\"text/css\">\r\n        @media print {\r\n            @page {\r\n                size: A4 portrait;\r\n                margin: 1.5cm !important;\r\n                margin-top: 1cm !important;\r\n            }\r\n        }\r\n        body {\r\n            font-family: \"serif\";\r\n            font-size: 11pt !important;\r\n            text-align: left;\r\n            line-height: 1.25;\r\n        }\r\n        .d-flex {\r\n            display: flex !important;\r\n        }\r\n        .col1 {\r\n            flex: 0 0 90pt;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <h1>Real Name</h1>\r\n    <p>Cool Street</br>\r\n    Awesome Suburb</br>\r\n    +123456007</br>\r\n    </p>\r\n    <div class=\"d-flex\">\r\n        <div class=\"col1\">\r\n            <p><em>Introduction</em></p>\r\n        </div>\r\n        <div>\r\n            <p></p>\r\n            <p>Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text </p>\r\n            <p>Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text Lots of body text </p>\r\n        </div>\r\n    </div>\r\n    <div class=\"d-flex\">\r\n        <div class=\"col1\">\r\n            <p><em>Employment&nbsp;History</em></p>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\nI'd expect the heading **Employment History** to be rendered below the body text blocks (and indeed it is in Chrome) however Weasyprint renders it near the bottom of the body text. If I remove the fixed width column things are even worse with the body text rendered over the top of the headings.\r\n\r\nUsing a `<table>`-based layout works fine but then I have some difficulty aligning more complex layouts elsewhere in the document and being able to use `flex-box` would solve all my problems. \r\n\r\nThanks for Weasyprint BTW, it's amazing software!\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/666", "id": 348688229, "node_id": "MDU6SXNzdWUzNDg2ODgyMjk=", "number": 666, "title": "Table style \"width\" property ignored in latest version", "user": {"login": "RafaelLinux", "id": 13048959, "node_id": "MDQ6VXNlcjEzMDQ4OTU5", "avatar_url": "https://avatars.githubusercontent.com/u/13048959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelLinux", "html_url": "https://github.com/RafaelLinux", "followers_url": "https://api.github.com/users/RafaelLinux/followers", "following_url": "https://api.github.com/users/RafaelLinux/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelLinux/subscriptions", "organizations_url": "https://api.github.com/users/RafaelLinux/orgs", "repos_url": "https://api.github.com/users/RafaelLinux/repos", "events_url": "https://api.github.com/users/RafaelLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 28, "created_at": "2018-08-08T11:37:41Z", "updated_at": "2021-04-14T04:00:45Z", "closed_at": "2018-08-10T16:31:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use for \"table\" tag this CSS properties:\r\n```\r\n  width:-moz-fit-content;\r\n  width:-webkit-fit-content;\r\n  width:-ms-fit-content;\r\n  width:fit-content;\r\n```\r\n\r\nAll was working fine till I changed to Debian Stretch and upgraded to latest WeasyPrint. Now, tables doesn't adapt its width to the page+margin width, overflowing and being cropped at right margin.\r\n\r\nEdit: In the terminal, weasyprint shows:\r\n\r\n```\r\nWARNING: Ignored `width:unset` at 268:3, invalid value.\r\nWARNING: Ignored `width:-moz-fit-content` at 273:3, invalid value.\r\nWARNING: Ignored `width:-webkit-fit-content` at 274:3, invalid value.\r\nWARNING: Ignored `width:-ms-fit-content` at 275:3, invalid value.\r\n```\r\n\r\nPlease, could you fix it??\r\n\r\n![imagen](https://user-images.githubusercontent.com/13048959/43834803-d06dd9f8-9b0f-11e8-8ecc-a3741d2c9e0f.png)\r\n\r\nIn the image you can see in the left how it should be displayed / printed (in fact, is printed right directly from the browser) and in the right, the output from WeasyPrint nowadays.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/666/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/665", "id": 347977910, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA2NDQwMDU2", "number": 665, "title": "Don't use pdfrw anymore", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 58, "created_at": "2018-08-06T15:43:05Z", "updated_at": "2018-10-16T09:32:07Z", "closed_at": "2018-08-17T12:24:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/665", "html_url": "https://github.com/Kozea/WeasyPrint/pull/665", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/665.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/665.patch", "merged_at": "2018-08-17T12:24:02Z"}, "body": "pdfrw is a great piece of software, but we don't know PDF enough to debug the\r\nproblems we've met. It's safer to use the new cairo API and get back to manual\r\nedition for attachments and bleed boxes.\r\n\r\nWe only have two regressions for now:\r\n- some internal links are broken,\r\n- PDF producer is not overwritten.\r\n\r\nA mail has been sent to cairo's mailing-list about that:\r\nhttps://lists.cairographics.org/archives/cairo/2018-August/028694.html\r\n\r\nFix #639, fix #615, fix #596, fix #565.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/665/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/661", "id": 346276489, "node_id": "MDU6SXNzdWUzNDYyNzY0ODk=", "number": 661, "title": "Make blocks with \"overflow\" different from \"visible\" grow to include floating children", "user": {"login": "ldng", "id": 781064, "node_id": "MDQ6VXNlcjc4MTA2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/781064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldng", "html_url": "https://github.com/ldng", "followers_url": "https://api.github.com/users/ldng/followers", "following_url": "https://api.github.com/users/ldng/following{/other_user}", "gists_url": "https://api.github.com/users/ldng/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldng/subscriptions", "organizations_url": "https://api.github.com/users/ldng/orgs", "repos_url": "https://api.github.com/users/ldng/repos", "events_url": "https://api.github.com/users/ldng/events{/privacy}", "received_events_url": "https://api.github.com/users/ldng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/17", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17/labels", "id": 4653064, "node_id": "MDk6TWlsZXN0b25lNDY1MzA2NA==", "number": 17, "title": "50", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-09-12T06:37:54Z", "updated_at": "2019-09-20T12:20:28Z", "due_on": null, "closed_at": "2019-09-20T12:20:28Z"}, "comments": 16, "created_at": "2018-07-31T17:03:13Z", "updated_at": "2019-12-17T10:11:58Z", "closed_at": "2019-09-16T14:33:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using WeasyPrint to render an existing HTML to PDF\r\n```python\r\nhtml = HTML(filename=html_file_path)\r\nhtml.write_pdf(pdf_save_path)\r\n```\r\nBut the resulting PDF has not rendered the images (a png and a jpeg)\r\n\r\nIt is a Python2.7 project with following pipenv dep graph for WeasyPrint :\r\n```\r\nWeasyPrint==0.42.3\r\n  - cairocffi [required: >=0.5, installed: 0.8.1]\r\n    - cffi [required: >=1.1.0, installed: 1.10.0]\r\n      - pycparser [required: Any, installed: 2.18]\r\n  - CairoSVG [required: >=1.0.20,<2.0.0, installed: 1.0.22]\r\n    - cairocffi [required: Any, installed: 0.8.1]\r\n      - cffi [required: >=1.1.0, installed: 1.10.0]\r\n        - pycparser [required: Any, installed: 2.18]\r\n  - cffi [required: >=0.6, installed: 1.10.0]\r\n    - pycparser [required: Any, installed: 2.18]\r\n  - cssselect2 [required: >=0.1, installed: 0.2.1]\r\n    - tinycss2 [required: Any, installed: 0.6.1]\r\n      - webencodings [required: >=0.4, installed: 0.5.1]\r\n  - html5lib [required: >=0.999999999, installed: 1.0.1]\r\n    - six [required: >=1.9, installed: 1.11.0]\r\n    - webencodings [required: Any, installed: 0.5.1]\r\n  - pdfrw [required: >=0.4, installed: 0.4]\r\n  - Pyphen [required: >=0.8, installed: 0.9.4]\r\n  - tinycss2 [required: >=0.5, installed: 0.6.1]\r\n    - webencodings [required: >=0.4, installed: 0.5.1]\r\n```\r\n\r\nOn a Debian Stretch with backports activated\r\n```\r\nlibcairo2              1.14.8-1\r\nlibgdk-pixbuf2.0-0     2.36.5-2+deb9u2\r\n```\r\nwith their corresponding -dev packages installed\r\n\r\nWhat could we be doing wrong ?\r\n\r\nEDIT : BTW, the RasterImage seems to load correctly.\r\n![capture du 2018-07-31 18-49-03](https://user-images.githubusercontent.com/781064/43474898-74df7284-94f4-11e8-9e6e-6c49fcb3da2b.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/660", "id": 345637619, "node_id": "MDU6SXNzdWUzNDU2Mzc2MTk=", "number": 660, "title": "endless loop in table layout", "user": {"login": "JohannesMunk", "id": 12482761, "node_id": "MDQ6VXNlcjEyNDgyNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/12482761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesMunk", "html_url": "https://github.com/JohannesMunk", "followers_url": "https://api.github.com/users/JohannesMunk/followers", "following_url": "https://api.github.com/users/JohannesMunk/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesMunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesMunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesMunk/subscriptions", "organizations_url": "https://api.github.com/users/JohannesMunk/orgs", "repos_url": "https://api.github.com/users/JohannesMunk/repos", "events_url": "https://api.github.com/users/JohannesMunk/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesMunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 21, "created_at": "2018-07-30T07:13:36Z", "updated_at": "2018-08-01T18:21:12Z", "closed_at": "2018-07-31T15:12:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello again!\r\n\r\nOver the weekend I successfully boiled down another problem, that hunted us for a couple of weeks and prevents us outputting some files. As these files are pretty big, such a constellation as random it might seem, happens with a stubborn regularity.\r\n\r\nThis bug requires a specific layout situation with given widths and content. I hope it is reproducable on your side. On my side the following html does not convert, but instead weasyprint collects memory until it runs out of it, or the process is aborted..\r\n\r\n```html\r\n<html lang=\"de\">\r\n<head>\r\n\t<meta charset=\"utf-8\" />\r\n\t<style>\r\n\t\tbody {\r\n\t\t\tmargin: 1px;\r\n\t\t\tfont-size: 9pt !important;\r\n\t\t\tfont-family: Helvetica, Arial, sans-serif;\r\n\t\t}\r\n\t\t.options {\r\n\t\t\tcolumn-count: 2;\r\n\t\t\tcolumn-gap: 3.5em;\r\n\t\t\tmargin-left: 1cm;\r\n\t\t\tmargin-right: 2cm;\r\n\t\t}\r\n\t\ttable {\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-spacing: 0;\r\n\t\t\tborder-collapse: collapse; \r\n\t\t\tfont-size: 0.9em !important;\r\n\t\t}\r\n\t\ttable, td {\r\n\t\t\tpadding: 0;\t\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t\t@media print {\r\n\t\t\t@page {\r\n\t\t\t\tsize: A4;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t</style>\r\n</head>\r\n<body>\r\n  <div class=\"options\">\r\n    <table><tr>\r\n      <td style=\"width:1.5em;\"></td>\r\n      <td>(<span><span>Standardeinstellung f\u00fcr Antriebs-/Lenk- Befehlscode - vorw\u00e4rts,\r\n        r\u00fcckw\u00e4rts, links, rechts</span></span>)</td>\r\n      <td style=\"width: 7em;\"></td>\r\n    </tr></table>\r\n  </div>\r\n</body>\r\n</html>\r\n```\r\n\r\nI let this run in cProfile:\r\n```\r\n Ordered by: cumulative time\r\n\r\nncalls tottime cumtime filename:lineno(function)\r\n   274   0.009  48.899 {built-in method builtins.exec}\r\n     1   0.000  46.891 ..\\weasyprint\\__init__.py:148(write_pdf)\r\n     1   0.000  46.891 ..\\weasyprint\\__init__.py:116(render)\r\n     1   0.000  46.891 ..\\weasyprint\\document.py:306(_render)\r\n     1   0.000  46.871 ..\\weasyprint\\document.py:334(<listcomp>)\r\n     1   0.000  46.871 ..\\weasyprint\\layout\\__init__.py:39(layout_document)\r\n     1   0.000  46.871 ..\\weasyprint\\layout\\pages.py:606(make_all_pages)\r\n     1   0.000  46.868 ..\\weasyprint\\layout\\pages.py:512(make_page)\r\n     5   0.000  46.868 ..\\weasyprint\\layout\\blocks.py:27(block_level_layout)\r\n     5   0.000  46.868 ..\\weasyprint\\layout\\blocks.py:80(block_box_layout)\r\n     6   0.032  46.868 ..\\weasyprint\\layout\\blocks.py:404(block_container_layout)\r\n     1   0.000  46.867 ..\\weasyprint\\layout\\blocks.py:123(columns_layout)\r\n     1   0.000  46.827 ..\\weasyprint\\layout\\tables.py:18(table_layout)\r\n     1   0.000  46.827 ..\\weasyprint\\layout\\tables.py:273(all_groups_layout)\r\n     1   0.000  46.827 ..\\weasyprint\\layout\\tables.py:241(body_groups_layout)\r\n     1   0.000  46.827 ..\\weasyprint\\layout\\tables.py:62(group_layout)\r\n 28101   0.044  46.791 ..\\weasyprint\\layout\\inlines.py:29(iter_line_boxes)\r\n 28101   0.601  46.747 ..\\weasyprint\\layout\\inlines.py:62(get_next_linebox)\r\n112419   2.258  29.844 ..\\weasyprint\\text.py:910(split_first_line)\r\n 28100   1.767  25.276 ..\\weasyprint\\layout\\inlines.py:634(split_inline_box)\r\n289541   0.500  24.180 {built-in method builtins.next}\r\n 56201   0.353  22.892 ..\\weasyprint\\layout\\inlines.py:555(split_inline_level)\r\n 28102   0.069  17.947 ..\\weasyprint\\layout\\preferred.py:179(inline_min_content_width)\r\n 56214   0.878  17.648 ..\\weasyprint\\layout\\preferred.py:220(inline_line_widths)\r\n 56201   0.503  14.811 ..\\weasyprint\\layout\\inlines.py:931(split_text_box)\r\n758827  11.978  12.425 ..\\weasyprint\\text.py:665(iter_lines)\r\n182684   1.038   9.204 ..\\weasyprint\\text.py:826(create_layout)\r\n182685   3.935   6.636 ..\\weasyprint\\text.py:618(__init__)\r\n112419   0.946   4.435 ..\\weasyprint\\text.py:580(first_line_metrics)\r\n168616   1.271   4.023 ..\\weasyprint\\layout\\percentages.py:59(resolve_percentages)\r\n112403   0.154   3.299 ..\\weasyprint\\formatting_structure\\boxes.py:322(copy_with_children)\r\n...\r\n\r\n\r\nOrdered by: call count\r\n\r\n ncalls tottime cumtime filename:lineno(function)\r\n3738901   0.575   0.575 {built-in method builtins.isinstance}\r\n3668880   0.642   0.643 {built-in method builtins.setattr}\r\n2234161   0.568   0.568 ..\\weasyprint\\layout\\percentages.py:15(_percentage)\r\n2234161   1.288   2.208 ..\\weasyprint\\layout\\percentages.py:32(resolve_one_percentage)\r\n1447384   0.469   0.495 ..\\cffi\\api.py:171(_typeof)\r\n1264699   1.089   2.350 ..\\cffi\\api.py:233(new)\r\n1264699   0.687   0.687 {built-in method _cffi_backend.newp}\r\n1060589   0.131   0.131 {built-in method builtins.len}\r\n1029475   0.466   0.466 {method 'encode' of 'str' objects}\r\n 815049   0.390   0.819 ..\\cffi\\api.py:404(gc)\r\n 815049   0.428   0.428 {built-in method _cffi_backend.gcp}\r\n 758828   0.343   0.343 {method 'replace' of 'bytes' objects}\r\n 758828   0.719   2.740 ..\\weasyprint\\text.py:554(unicode_to_char_p)\r\n 758827  11.978  12.425 ..\\weasyprint\\text.py:665(iter_lines)\r\n 289541   0.500  24.180 {built-in method builtins.next}\r\n 675484   0.336   0.336 {method 'format' of 'str' objects}\r\n 477770   1.288   2.219 ..\\weasyprint\\text.py:564(get_size)\r\n 451777   1.232   1.232 {built-in method __new__ of type object at 0x000000005797C430}\r\n 449648   0.329   0.351 ..\\weasyprint\\formatting_structure\\boxes.py:296(enumerate_skip)\r\n 407501   0.058   0.058 {method 'append' of 'list' objects}\r\n 365344   0.107   0.107 ..\\weasyprint\\formatting_structure\\boxes.py:272(is_absolutely_positioned)\r\n 337257   0.980   2.173 ..\\weasyprint\\text.py:674(set_text)\r\n 309125   0.074   0.074 ..\\weasyprint\\formatting_structure\\boxes.py:268(is_floated)\r\n 301427   0.085   0.085 {method 'replace' of 'str' objects}\r\n 289713   0.099   0.100 {method 'join' of 'str' objects}\r\n 284618   0.195   0.195 {method 'decode' of 'bytes' objects}\r\n 281001   0.083   0.083 ..\\weasyprint\\formatting_structure\\boxes.py:136(padding_height)\r\n 281001   0.138   0.222 ..\\weasyprint\\formatting_structure\\boxes.py:145(border_height)\r\n 224804   0.103   0.103 ..\\weasyprint\\formatting_structure\\boxes.py:132(padding_width)\r\n 224804   0.136   0.238 ..\\weasyprint\\formatting_structure\\boxes.py:140(border_width)\r\n 210752   0.047   0.047 ..\\weasyprint\\text.py:1194(<genexpr>)\r\n 197870   0.128   0.128 {method 'split' of 'str' objects}\r\n 196701   0.415   0.415 ..\\weasyprint\\css\\computed_values.py:664(strut_layout)\r\n 112400   0.155   0.171 ..\\weasyprint\\formatting_structure\\boxes.py:115(translate)\r\n 186049   0.258   0.403 {built-in method builtins.hasattr}\r\n 184778   0.069   0.069 {method 'rpartition' of 'str' objects}\r\n 183026   0.092   1.675 <frozen importlib._bootstrap>:997(_handle_fromlist)\r\n 183378   0.146   0.215 <frozen importlib._bootstrap>:416(parent)\r\n 182686   0.196   0.388 ..\\cffi\\api.py:284(cast)\r\n 182686   0.085   0.085 {built-in method _cffi_backend.cast}\r\n 182685   3.935   6.636 ..\\weasyprint\\text.py:618(__init__)\r\n 182684   1.038   9.204 ..\\weasyprint\\text.py:826(create_layout)\r\n 182683   0.523   0.523 ..\\weasyprint\\text.py:724(get_font_features)\r\n 169267   0.277   0.277 {method 'update' of 'dict' objects}\r\n  56214   0.878  17.648 ..\\weasyprint\\layout\\preferred.py:220(inline_line_widths)\r\n 168616   1.271   4.023 ..\\weasyprint\\layout\\percentages.py:59(resolve_percentages)\r\n 168609   0.071   0.071 ..\\weasyprint\\formatting_structure\\boxes.py:160(content_box_x)\r\n 168605   0.262   0.590 ..\\weasyprint\\formatting_structure\\boxes.py:104(copy)\r\n 156652   0.067   0.067 {method 'endswith' of 'str' objects}\r\n 155313   0.025   0.025 {method 'extend' of 'list' objects}\r\n 140501   0.091   0.243 ..\\weasyprint\\formatting_structure\\boxes.py:150(margin_width)\r\n  56201   0.353  22.892 ..\\weasyprint\\layout\\inlines.py:555(split_inline_level)\r\n 140499   0.575   1.991 ..\\weasyprint\\formatting_structure\\boxes.py:305(_reset_spacing)\r\n 126467   0.088   0.151 ..\\weasyprint\\formatting_structure\\boxes.py:276(is_in_normal_flow)\r\n 113112   0.046   0.046 {built-in method builtins.max}\r\n 112419   0.946   4.435 ..\\weasyprint\\text.py:580(first_line_metrics)\r\n 112419   2.258  29.844 ..\\weasyprint\\text.py:910(split_first_line)\r\n 112410   0.096   0.255 ..\\weasyprint\\text.py:550(utf8_slice)\r\n 112403   0.154   3.299 ..\\weasyprint\\formatting_structure\\boxes.py:322(copy_with_children)\r\n 112402   0.669   0.669 {method 'copy' of 'dict' objects}\r\n  28101   0.157   0.188 ..\\weasyprint\\layout\\inlines.py:179(skip_first_whitespace)\r\n 112401   0.054   0.149 ..\\weasyprint\\formatting_structure\\boxes.py:154(margin_height)\r\n 112400   0.037   0.037 ..\\weasyprint\\layout\\inlines.py:898(<listcomp>)\r\n  28100   1.767  25.276 ..\\weasyprint\\layout\\inlines.py:634(split_inline_box)\r\n  98364   0.141   0.248 ..\\pyphen\\__init__.py:56(language_fallback)\r\n  90402   0.042   0.042 {method 'rstrip' of 'str' objects}\r\n  88412   0.046   0.046 {built-in method builtins.min}\r\n  84550   0.029   0.029 {method 'strip' of 'str' objects}\r\n  84320   0.271   0.271 ..\\weasyprint\\layout\\preferred.py:125(margin_width)\r\n  84318   0.150   0.223 ..\\weasyprint\\layout\\preferred.py:110(min_max)\r\n  84318   0.075   0.569 ..\\weasyprint\\layout\\preferred.py:153(adjust)\r\n  84300   0.028   0.028 ..\\weasyprint\\formatting_structure\\boxes.py:182(border_box_y)\r\n  84300   0.012   0.012 ..\\weasyprint\\formatting_structure\\boxes.py:293(all_children)\r\n  84300   0.102   2.213 ..\\weasyprint\\formatting_structure\\boxes.py:418(_remove_decoration)\r\n  84300   0.016   0.016 ..\\weasyprint\\layout\\float.py:145(<listcomp>)\r\n  84300   0.010   0.010 ..\\weasyprint\\layout\\float.py:155(<listcomp>)\r\n  84300   0.009   0.009 ..\\weasyprint\\layout\\float.py:159(<listcomp>)\r\n  84300   0.464   0.825 ..\\weasyprint\\layout\\float.py:133(avoid_collisions)\r\n  28100   0.272   0.518 ..\\weasyprint\\layout\\inlines.py:1072(inline_box_verticality)\r\n  28100   0.084   0.142 ..\\weasyprint\\layout\\inlines.py:1229(is_phantom_linebox)\r\n  29517   0.044   0.466 {built-in method builtins.any}\r\n  56508   0.068   0.156 I:\\x3rdParty\\Python\\lib\\re.py:286(_compile)\r\n  56237   0.008   0.008 {method 'reverse' of 'list' objects}\r\n  56220   0.100   0.100 {method 'finditer' of '_sre.SRE_Pattern' objects}\r\n  56208   0.044   0.211 I:\\x3rdParty\\Python\\lib\\re.py:224(finditer)\r\n  56208   0.045   0.045 ..\\weasyprint\\text.py:1046(<listcomp>)\r\n  56208   0.009   0.009 ..\\weasyprint\\text.py:1050(<listcomp>)\r\n  56201   0.042   0.284 ..\\weasyprint\\formatting_structure\\boxes.py:474(copy_with_text)\r\n  56201   0.503  14.811 ..\\weasyprint\\layout\\inlines.py:931(split_text_box)\r\n  28100   0.018   0.439 ..\\weasyprint\\layout\\inlines.py:1257(<genexpr>)\r\n  14050   0.078   0.482 ..\\weasyprint\\layout\\inlines.py:1245(can_break_inside)\r\n  31266   0.006   0.006 {method 'startswith' of 'str' objects}\r\n  28103   0.036   0.585 ..\\weasyprint\\formatting_structure\\boxes.py:314(_remove_decoration)\r\n  28102   0.069  17.947 ..\\weasyprint\\layout\\preferred.py:179(inline_min_content_width)\r\n  28101   0.293   0.661 ..\\weasyprint\\text.py:1176(can_break_text)\r\n  28101   0.005   0.005 ..\\weasyprint\\formatting_structure\\boxes.py:87(all_children)\r\n  28101   0.044  46.791 ..\\weasyprint\\layout\\inlines.py:29(iter_line_boxes)\r\n  28101   0.601  46.747 ..\\weasyprint\\layout\\inlines.py:62(get_next_linebox)\r\n  28101   0.006   0.006 ..\\weasyprint\\layout\\inlines.py:261(first_letter_to_box)\r\n  28100   0.116   0.167 ..\\weasyprint\\layout\\inlines.py:218(remove_last_whitespace)\r\n  28100   0.005   0.005 ..\\weasyprint\\layout\\inlines.py:1018(<listcomp>)\r\n  28100   0.043   0.636 ..\\weasyprint\\layout\\inlines.py:1003(line_box_verticality)\r\n  28100   0.036   0.588 ..\\weasyprint\\layout\\inlines.py:1059(aligned_subtree_verticality)\r\n  28100   0.032   0.032 ..\\weasyprint\\layout\\inlines.py:1149(text_align)\r\n  21131   0.007   0.007 {method 'pop' of 'list' objects}\r\n  20270   0.003   0.003 {method 'get' of 'dict' objects}\r\n  19322   0.007   0.007 I:\\x3rdParty\\Python\\lib\\sre_parse.py:232(__next)\r\n\r\n```\r\n\r\nI dont know how to debug/step python. But what I read from the profile, is that iter_line_boxes is called a few times to often!\r\n\r\nLet me know, if I can be of more assistance and thanks a lot in advance!\r\n\r\nJohannes", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/660/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/659", "id": 344467276, "node_id": "MDU6SXNzdWUzNDQ0NjcyNzY=", "number": 659, "title": "content gets sized zero on page break", "user": {"login": "JohannesMunk", "id": 12482761, "node_id": "MDQ6VXNlcjEyNDgyNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/12482761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesMunk", "html_url": "https://github.com/JohannesMunk", "followers_url": "https://api.github.com/users/JohannesMunk/followers", "following_url": "https://api.github.com/users/JohannesMunk/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesMunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesMunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesMunk/subscriptions", "organizations_url": "https://api.github.com/users/JohannesMunk/orgs", "repos_url": "https://api.github.com/users/JohannesMunk/repos", "events_url": "https://api.github.com/users/JohannesMunk/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesMunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 15, "created_at": "2018-07-25T14:26:30Z", "updated_at": "2018-08-02T13:59:12Z", "closed_at": "2018-08-02T13:59:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there!\r\n\r\nFirst of all: thanks a lot for this great project and all the efforts you guys are putting into it. We have been using WeasyPrint for about half a year now and thus far we found workarounds for most of the issues we ran into. But this one proves harder to circumvent, because it only happens in specific page break situations.\r\n\r\nI have boiled this down to a minimal reproducible scenario:\r\n```html\r\n<html>\r\n\t<body>\r\n\t\t<div style=\"height:59em; border: 2px solid blue;\">\r\n\t\t\tA (before missing content)</div>\r\n\t\t<div style=\"column-count:2; border: 2px solid red;\">\r\n\t\t\t<h3>B (missing content)</h3>\r\n\t\t\t<div style=\"height:10em; border: 2px solid red;\">1</div>\r\n\t\t\t<div style=\"height:10em; border: 2px solid red;\">2</div>\r\n\t\t</div>\r\n\t\t<div style=\"height:10em; border: 2px solid green;\">\r\n\t\t\tC (after missing content)</div>\r\n\t</body>\r\n</html>\r\n```\r\n[missingContent_notWorking.html.pdf](https://github.com/Kozea/WeasyPrint/files/2228247/missingContent_notWorking.html.pdf)\r\nThe second div gets sized to zero height in the output, unless the first div has a height of less than 59em.\r\n```html\r\n<html>\r\n\t<body>\r\n\t\t<div style=\"height:30em; border: 2px solid blue;\">\r\n\t\t\tA (before missing content)</div>\r\n\t\t<div style=\"column-count:2; border: 2px solid red;\">\r\n\t\t\t<h3>B (missing content)</h3>\r\n\t\t\t<div style=\"height:10em; border: 2px solid red;\">1</div>\r\n\t\t\t<div style=\"height:10em; border: 2px solid red;\">2</div>\r\n\t\t</div>\r\n\t\t<div style=\"height:10em; border: 2px solid green;\">\r\n\t\t\tC (after missing content)</div>\r\n\t</body>\r\n</html>\r\n```\r\n[missingContent_working.html.pdf](https://github.com/Kozea/WeasyPrint/files/2228246/missingContent_working.html.pdf)\r\n\r\nThis is also related to the column-count attribute of the second div even with column-count=1. When removed the content shows up on the next page as expected.\r\n\r\nCan I do anything further to help you fix this? My python is very basic, but let me know if I can assist in any way.\r\n\r\nSide note: The size calculation of the second div seems to ignore the margins of the h3 element. Thus the overlapping content in the working situation. Shall I open another issue for this?\r\n\r\nThx a lot in advance!\r\n\r\nJohannes", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/654", "id": 341641995, "node_id": "MDU6SXNzdWUzNDE2NDE5OTU=", "number": 654, "title": "Python recursion limit with large file", "user": {"login": "bassasaurus", "id": 8974519, "node_id": "MDQ6VXNlcjg5NzQ1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bassasaurus", "html_url": "https://github.com/bassasaurus", "followers_url": "https://api.github.com/users/bassasaurus/followers", "following_url": "https://api.github.com/users/bassasaurus/following{/other_user}", "gists_url": "https://api.github.com/users/bassasaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/bassasaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bassasaurus/subscriptions", "organizations_url": "https://api.github.com/users/bassasaurus/orgs", "repos_url": "https://api.github.com/users/bassasaurus/repos", "events_url": "https://api.github.com/users/bassasaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/bassasaurus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-16T19:11:29Z", "updated_at": "2018-08-02T11:58:37Z", "closed_at": "2018-08-02T11:58:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback\r\n\r\nhttps://pastebin.com/eAHZKiY1\r\n\r\nI have a file with ~3.5k lines that keeps giving me a maximum recursion error.\r\n\r\nIt seems to concern this line in particular\r\n\r\n/lib/python3.6/site-packages/weasyprint/formatting_structure/build.py\" in element_to_box 155. child_element, style_for, get_image_from_uri, base_url, state))\r\n\r\nThis is my first time reporting a bug - forgive me for possibly not doing it properly.\r\n\r\nThank you for your attention.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/645", "id": 332999468, "node_id": "MDU6SXNzdWUzMzI5OTk0Njg=", "number": 645, "title": "Failing to load SVG file if url includes spaces", "user": {"login": "travisjayday", "id": 10280490, "node_id": "MDQ6VXNlcjEwMjgwNDkw", "avatar_url": "https://avatars.githubusercontent.com/u/10280490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/travisjayday", "html_url": "https://github.com/travisjayday", "followers_url": "https://api.github.com/users/travisjayday/followers", "following_url": "https://api.github.com/users/travisjayday/following{/other_user}", "gists_url": "https://api.github.com/users/travisjayday/gists{/gist_id}", "starred_url": "https://api.github.com/users/travisjayday/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/travisjayday/subscriptions", "organizations_url": "https://api.github.com/users/travisjayday/orgs", "repos_url": "https://api.github.com/users/travisjayday/repos", "events_url": "https://api.github.com/users/travisjayday/events{/privacy}", "received_events_url": "https://api.github.com/users/travisjayday/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-06-16T16:42:20Z", "updated_at": "2019-03-01T16:26:44Z", "closed_at": "2019-03-01T16:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "This might be a problem with CairoSvg, not sure. \r\n\r\nWhen specifying a url in an html template for Weasyprint, the following works \r\n\r\n`<img src='file:///Users/name/Desktop/Select.svg' />`\r\n\r\nwhile this \r\n\r\n`<img src='file:///Users/name/Desktop/foo%20bar/Select.svg' />`\r\n\r\nfails with a weird error: \r\n\r\n`ERROR:weasyprint:Failed to draw an SVG image at file:///Users/name/Desktop/foo%20bar/Select.svg : <urlopen error [Errno 21] Is a directory: '/Volumes/.../.../.../'>`  (the last path in the message, ../../../ points to current working directory)\r\n\r\nThis is probably not expected behaviour and somewhat of an annoyance if directory names have spaces in them. With png images, however, it works just as expected, even with spaces. So something must be wrong with the .svg loading implementation.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/639", "id": 331874699, "node_id": "MDU6SXNzdWUzMzE4NzQ2OTk=", "number": 639, "title": "Weasyprint PDFs are broken with ghostscript", "user": {"login": "lnprieto", "id": 28725030, "node_id": "MDQ6VXNlcjI4NzI1MDMw", "avatar_url": "https://avatars.githubusercontent.com/u/28725030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnprieto", "html_url": "https://github.com/lnprieto", "followers_url": "https://api.github.com/users/lnprieto/followers", "following_url": "https://api.github.com/users/lnprieto/following{/other_user}", "gists_url": "https://api.github.com/users/lnprieto/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnprieto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnprieto/subscriptions", "organizations_url": "https://api.github.com/users/lnprieto/orgs", "repos_url": "https://api.github.com/users/lnprieto/repos", "events_url": "https://api.github.com/users/lnprieto/events{/privacy}", "received_events_url": "https://api.github.com/users/lnprieto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 11, "created_at": "2018-06-13T07:32:59Z", "updated_at": "2018-08-17T12:24:02Z", "closed_at": "2018-08-17T12:24:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nI use weasyprint 0.42.3, libcairo 1.15.10, python 3.6 and ghostscript 9.22. However I get warning messages : \r\nThe following command \r\n<pre>/usr/bin/gs -sDEVICE=pdfwrite -dPDFSETTINGS=/printer -dColorImageResolution=200 -dGrayImageResolution=200 -dBATCH -dNOPAUSE -sOutputFile=docgs.pdf  doc.pdf</pre>\r\n\r\ngives :\r\n<pre>\r\n...\r\nPage 106\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 107\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 108\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 109\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 110\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 111\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 112\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 113\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 114\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 115\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 116\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 117\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 118\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 119\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 120\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 121\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 122\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 123\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 124\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 125\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 126\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 127\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 128\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 129\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 130\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 131\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 132\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 133\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 134\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 135\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 136\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 137\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 138\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 139\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 140\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 141\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 142\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 143\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\n...\r\nPage 158\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 159\r\nPage 160\r\nPage 161\r\nPage 162\r\nPage 163\r\nPage 164\r\nPage 165\r\nPage 166\r\nPage 167\r\nPage 168\r\nPage 169\r\nPage 170\r\nPage 171\r\nPage 172\r\nPage 173\r\nPage 174\r\nPage 175\r\nPage 176\r\nPage 177\r\nPage 178\r\nPage 179\r\nPage 180\r\nPage 181\r\nPage 182\r\nPage 183\r\nPage 184\r\nPage 185\r\nPage 186\r\nPage 187\r\n...\r\n**** This file had errors that were repaired or ignored.\r\n   **** The file was produced by: \r\n   **** >>>> WeasyPrint 0.42.3 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n\r\n   **** The rendered output from this file may be incorrect.\r\n</pre>\r\n\r\nAnd indeed, the new pdf contains a lot of blank pages\r\n\r\nThis problem appeared with the upgrade of weasyprint, libcairo, python and ghostcript.\r\n\r\nI spent a lot of time on it....and no more idea\r\nCould anyone help me please ?\r\nThank you in advance\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/637", "id": 330607104, "node_id": "MDU6SXNzdWUzMzA2MDcxMDQ=", "number": 637, "title": "Problem with justify text and comma in end of line", "user": {"login": "manuthema", "id": 1440972, "node_id": "MDQ6VXNlcjE0NDA5NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1440972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manuthema", "html_url": "https://github.com/manuthema", "followers_url": "https://api.github.com/users/manuthema/followers", "following_url": "https://api.github.com/users/manuthema/following{/other_user}", "gists_url": "https://api.github.com/users/manuthema/gists{/gist_id}", "starred_url": "https://api.github.com/users/manuthema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manuthema/subscriptions", "organizations_url": "https://api.github.com/users/manuthema/orgs", "repos_url": "https://api.github.com/users/manuthema/repos", "events_url": "https://api.github.com/users/manuthema/events{/privacy}", "received_events_url": "https://api.github.com/users/manuthema/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 4, "created_at": "2018-06-08T10:35:17Z", "updated_at": "2019-01-21T23:33:26Z", "closed_at": "2019-01-21T23:32:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sometimes with justified text, the spaces between words are not well calculated and there is a space at the end of the line. This occurs when the line break coincides between a word and a comma. Previously (weasyprint 0.36) it happened that separated the comma from the word\r\n\r\nI attach the minimum html with which I have been able to reproduce the problem.\r\n\r\nI have the following versions:\r\nweasyprint: 0.42.3\r\npango: 1.42.01\r\n\r\n<img width=\"903\" alt=\"texto justificado\" src=\"https://user-images.githubusercontent.com/1440972/41153777-12e4f4d8-6b18-11e8-8ac9-bba6a779115a.png\">\r\n\r\n[pruebaPDF.txt](https://github.com/Kozea/WeasyPrint/files/2084033/pruebaPDF.txt)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/636", "id": 330501347, "node_id": "MDU6SXNzdWUzMzA1MDEzNDc=", "number": 636, "title": "Incorrectly positioned fixed divs when using multiple page sizes", "user": {"login": "ElRoberto538", "id": 8744874, "node_id": "MDQ6VXNlcjg3NDQ4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8744874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElRoberto538", "html_url": "https://github.com/ElRoberto538", "followers_url": "https://api.github.com/users/ElRoberto538/followers", "following_url": "https://api.github.com/users/ElRoberto538/following{/other_user}", "gists_url": "https://api.github.com/users/ElRoberto538/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElRoberto538/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElRoberto538/subscriptions", "organizations_url": "https://api.github.com/users/ElRoberto538/orgs", "repos_url": "https://api.github.com/users/ElRoberto538/repos", "events_url": "https://api.github.com/users/ElRoberto538/events{/privacy}", "received_events_url": "https://api.github.com/users/ElRoberto538/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-06-08T02:50:17Z", "updated_at": "2018-08-03T10:22:16Z", "closed_at": "2018-08-03T10:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a PDF I'm generating that has the first page as A4 Portrait and the remaining pages are in landscape (dynamic number of pages depending on the amount of data in the report). The issue is that  the fixed positioned header and footer elements are rendered in the incorrect place. The header is correct on the first page and the footer is correct on the second page. On the first page the footer shows at the height it would be if the page was landscape and the header on the second page shows half way across the page as if the page was portrait. Simplified example below.\r\n\r\n```css\r\n@page:first {\r\n    size: a4 portrait;\r\n}\r\n@page  {\r\n    size: a4 landscape;\r\n}\r\n.page-footer {\r\n    position: fixed;\r\n    text-align: center;\r\n    background-color: rgb(212, 218, 92);\r\n    font-size: 0.8rem;\r\n    line-height: 1.7rem;\r\n    height: 1.7rem;\r\n    bottom: -10mm;\r\n    width: 100%;\r\n}\r\n#page-logo {\r\n    width: 170px;\r\n    position: fixed;\r\n    right: 0;\r\n    top: -22mm;\r\n}\r\n```\r\n![screen shot 2018-06-08 at 2 43 00 pm](https://user-images.githubusercontent.com/8744874/41136443-65fd4794-6b2a-11e8-9566-b5f1885d97db.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/628", "id": 321769055, "node_id": "MDU6SXNzdWUzMjE3NjkwNTU=", "number": 628, "title": "Unexpected horizontal whitespace", "user": {"login": "Kodiologist", "id": 322730, "node_id": "MDQ6VXNlcjMyMjczMA==", "avatar_url": "https://avatars.githubusercontent.com/u/322730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kodiologist", "html_url": "https://github.com/Kodiologist", "followers_url": "https://api.github.com/users/Kodiologist/followers", "following_url": "https://api.github.com/users/Kodiologist/following{/other_user}", "gists_url": "https://api.github.com/users/Kodiologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kodiologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kodiologist/subscriptions", "organizations_url": "https://api.github.com/users/Kodiologist/orgs", "repos_url": "https://api.github.com/users/Kodiologist/repos", "events_url": "https://api.github.com/users/Kodiologist/events{/privacy}", "received_events_url": "https://api.github.com/users/Kodiologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2018-05-10T00:24:10Z", "updated_at": "2021-11-04T14:05:53Z", "closed_at": "2021-09-16T16:19:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running WeasyPrint 0.42.3 on Python 3.6.5 and Ubuntu 18.04, I occasionally see odd horizontal gaps in documents. Here's an example that's about as minimal as I can make it:\r\n\r\n    <!DOCTYPE html>\r\n\r\n    <html lang=\"en-US\">\r\n    <head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>foo</title>\r\n    <style>\r\n\r\n    body\r\n       {font-family: \"Times New Roman\";\r\n        font-size: 12pt;}\r\n\r\n    </style></head><body>\r\n\r\n    <p>Xyzz, B. B., <b>Smith A.</b> <i>Hello world</i>.</p>\r\n\r\n    </body>\r\n    </html>\r\n\r\nThe generated PDF looks like this in Okular 1.3.3 (200% zoom):\r\n\r\n![Screenshot](https://i.imgur.com/cwoaOID.png)\r\n\r\nWhy is there a lot of whitespace after \"Smith A.\"?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/617", "id": 315375175, "node_id": "MDU6SXNzdWUzMTUzNzUxNzU=", "number": 617, "title": "Crashing with TypeError: 'NoneType' object has no attribute '__getitem__'", "user": {"login": "albertlidas", "id": 22446899, "node_id": "MDQ6VXNlcjIyNDQ2ODk5", "avatar_url": "https://avatars.githubusercontent.com/u/22446899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertlidas", "html_url": "https://github.com/albertlidas", "followers_url": "https://api.github.com/users/albertlidas/followers", "following_url": "https://api.github.com/users/albertlidas/following{/other_user}", "gists_url": "https://api.github.com/users/albertlidas/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertlidas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertlidas/subscriptions", "organizations_url": "https://api.github.com/users/albertlidas/orgs", "repos_url": "https://api.github.com/users/albertlidas/repos", "events_url": "https://api.github.com/users/albertlidas/events{/privacy}", "received_events_url": "https://api.github.com/users/albertlidas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-18T08:12:33Z", "updated_at": "2018-09-17T16:32:03Z", "closed_at": "2018-09-17T16:32:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is my code:\r\n```   \r\n    cover_page = render_to_string('guest/components/pdf_cover.html', context)\r\n    content_page = render_to_string('guest/components/pdf_content.html', context)\r\n    pdf1 = HTML(string=cover_page)\r\n    pdf2 = HTML(string=content_page)\r\n    pdf_doc_1 = pdf1.render()\r\n    pdf_doc_2 = pdf2.render()\r\n\r\n    val = []\r\n\r\n    for doc in pdf_doc_1, pdf_doc_2:\r\n        for p in doc.pages:\r\n            val.append(p)\r\n\r\n    pdf_file = pdf_doc_1.copy(val).write_pdf()\r\n```\r\nThe issue happens in `pdf_doc_2 = pdf2.render()`. When I render this just like a django template it works fine and I see an html page in the browser.\r\nTraceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/django/core/handlers/wsgi.py\", line 187, in __call__\r\n    response = self.get_response(request)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 199, in get_response\r\n    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 111, in get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/django/views/generic/base.py\", line 69, in view\r\n    return self.dispatch(request, *args, **kwargs)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/django/views/generic/base.py\", line 87, in dispatch\r\n    return handler(request, *args, **kwargs)\r\n  File \"./touchstay/views/invitation.py\", line 368, in get\r\n    return generate_pdf(request, destination, None)\r\n  File \"./touchstay/views/invitation.py\", line 414, in generate_pdf\r\n    pdf_doc_2 = pdf2.render()\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 143, in render\r\n    font_config)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/document.py\", line 326, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/__init__.py\", line 55, in layout_document\r\n    context, root_box, html, cascaded_styles, computed_styles))\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 601, in make_all_pages\r\n    context, root_box, page_type, resume_at, page_number)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 520, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 510, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 51, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 108, in get_next_linebox\r\n    waiting_floats, line_children=[])\r\n  File \"/home/virtualenvs/mts/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 839, in split_inline_box\r\n    child_resume_at[0] + current_skip,\r\nTypeError: 'NoneType' object has no attribute '__getitem__'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/615", "id": 313576640, "node_id": "MDU6SXNzdWUzMTM1NzY2NDA=", "number": 615, "title": "Processing weasyprint generated PDF with ghostscript raises warnings", "user": {"login": "hjpotter92", "id": 3393533, "node_id": "MDQ6VXNlcjMzOTM1MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3393533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjpotter92", "html_url": "https://github.com/hjpotter92", "followers_url": "https://api.github.com/users/hjpotter92/followers", "following_url": "https://api.github.com/users/hjpotter92/following{/other_user}", "gists_url": "https://api.github.com/users/hjpotter92/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjpotter92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjpotter92/subscriptions", "organizations_url": "https://api.github.com/users/hjpotter92/orgs", "repos_url": "https://api.github.com/users/hjpotter92/repos", "events_url": "https://api.github.com/users/hjpotter92/events{/privacy}", "received_events_url": "https://api.github.com/users/hjpotter92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-04-12T04:54:03Z", "updated_at": "2018-08-17T12:24:02Z", "closed_at": "2018-08-17T12:24:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is an awe inspiring tool. Really!\r\n\r\nI processed around 200 pages using weasyscript pretty easily. However, the user wanted those generated pdfs to be bound into a single file. I ran the following ghostscript command:\r\n\r\n    gs -dBATCH -dNOPAUSE -sDEVICE=pdfwrite -sOutputFile=../january.pdf *.pdf\r\nI should mention that all the files in `.pdf` are opening fine in any of the PDF readers that I have. However, after executing the above script, the output was as follows:\r\n\r\n```\r\nGPL Ghostscript 9.20 (2016-09-26)\r\nCopyright (C) 2016 Artifex Software, Inc.  All rights reserved.\r\nThis software comes with NO WARRANTY: see the file PUBLIC for details.\r\nProcessing pages 1 through 1.\r\nPage 1\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 2\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\n\r\n   **** This file had errors that were repaired or ignored.\r\n   **** The file was produced by: \r\n   **** >>>> WeasyPrint 0.42.3 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n\r\n   **** The rendered output from this file may be incorrect.\r\nProcessing pages 1 through 3.\r\nPage 1\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 2\r\nPage 3\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\n\r\n   **** This file had errors that were repaired or ignored.\r\n   **** The file was produced by: \r\n   **** >>>> WeasyPrint 0.42.3 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n\r\n   **** The rendered output from this file may be incorrect.\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\nPage 2\r\n\r\n   **** This file had errors that were repaired or ignored.\r\n   **** The file was produced by: \r\n   **** >>>> WeasyPrint 0.42.3 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n\r\n   **** The rendered output from this file may be incorrect.\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 2.\r\nPage 1\r\nPage 2\r\nProcessing pages 1 through 1.\r\nPage 1\r\nProcessing pages 1 through 1.\r\nPage 1\r\nProcessing pages 1 through 1.\r\nPage 1\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n   **** Error: File did not complete the page properly and may be damaged.\r\n               Output may be incorrect.\r\n\r\n   **** This file had errors that were repaired or ignored.\r\n   **** The file was produced by: \r\n   **** >>>> WeasyPrint 0.42.3 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n\r\n   **** The rendered output from this file may be incorrect.\r\n```\r\n\r\nand opening the combined `january.pdf`, I see that there are a lot of blank pages now.\r\n\r\nI can attach one of the files processed by weasyprint. Using the command above with just this file will show that while the pdf on its own has no errors, combining results in blank pages.\r\n\r\nThis might be caused because of a very large image in the file itself.\r\n\r\nAny help to resolve this would be appreciated. Thanks\r\n\r\n[weasyprint-article.pdf](https://github.com/Kozea/WeasyPrint/files/1901361/weasyprint-article.pdf)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/614", "id": 313460812, "node_id": "MDU6SXNzdWUzMTM0NjA4MTI=", "number": 614, "title": "Infinite loop and memory leak with NBSP after a long word", "user": {"login": "greycat70", "id": 8527422, "node_id": "MDQ6VXNlcjg1Mjc0MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/8527422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greycat70", "html_url": "https://github.com/greycat70", "followers_url": "https://api.github.com/users/greycat70/followers", "following_url": "https://api.github.com/users/greycat70/following{/other_user}", "gists_url": "https://api.github.com/users/greycat70/gists{/gist_id}", "starred_url": "https://api.github.com/users/greycat70/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greycat70/subscriptions", "organizations_url": "https://api.github.com/users/greycat70/orgs", "repos_url": "https://api.github.com/users/greycat70/repos", "events_url": "https://api.github.com/users/greycat70/events{/privacy}", "received_events_url": "https://api.github.com/users/greycat70/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 12, "created_at": "2018-04-11T19:42:12Z", "updated_at": "2018-04-30T22:04:01Z", "closed_at": "2018-04-30T21:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following example causes weasyprint 0.42 (on Debian 9 amd64) to go into an infinite (or practically infinite) loop and consume all possible memory.  I've worked around it in the application that generates the HTML, partially, but this is really quite nasty and my band-aid won't cover all possible user inputs.  I've also had to add resource limits on the script that runs weasyprint.\r\n\r\n<html><body>\r\nThis is a line.\r\n<br>This is another line.\r\n<br>----------------------------------------------------------------------------------------------------------------------------------------&nbsp;&nbsp;\r\n<br>No more lines.\r\n</body></html>\r\n\r\nUgh, the bug tracking system is rendering the HTML.  I don't want it to render the HTML.  Here, here's the HTML in a text file that you can download: http://wooledge.org/~greg/weasybug614", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/610", "id": 310782975, "node_id": "MDU6SXNzdWUzMTA3ODI5NzU=", "number": 610, "title": "Error handling Unicode Character 'LINE SEPARATOR' (U+2028)", "user": {"login": "jlachowski", "id": 3831811, "node_id": "MDQ6VXNlcjM4MzE4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3831811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlachowski", "html_url": "https://github.com/jlachowski", "followers_url": "https://api.github.com/users/jlachowski/followers", "following_url": "https://api.github.com/users/jlachowski/following{/other_user}", "gists_url": "https://api.github.com/users/jlachowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlachowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlachowski/subscriptions", "organizations_url": "https://api.github.com/users/jlachowski/orgs", "repos_url": "https://api.github.com/users/jlachowski/repos", "events_url": "https://api.github.com/users/jlachowski/events{/privacy}", "received_events_url": "https://api.github.com/users/jlachowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 5, "created_at": "2018-04-03T10:38:50Z", "updated_at": "2019-03-01T15:05:51Z", "closed_at": "2019-03-01T15:03:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "WeasyPrint does not handle text with the Unicode Character 'LINE SEPARATOR' (U+2028) in it, resulting in a crash:\r\n\r\n```\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 181, in write_pdf\r\npresentational_hints=presentational_hints).write_pdf(\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 146, in render\r\nself, stylesheets, enable_hinting, presentational_hints)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/document.py\", line 326, in _render\r\n[Page(p, enable_hinting) for p in page_boxes],\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/__init__.py\", line 53, in layout_document\r\npages = list(make_all_pages(context, root_box))\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/pages.py\", line 570, in make_all_pages\r\npage_number)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/pages.py\", line 516, in make_page\r\npositioned_boxes, positioned_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\npage_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\npage_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\npage_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\npage_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\npage_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\nadjoining_margins)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 92, in block_box_layout\r\ncontext, box, (containing_block.width, containing_block.height))\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/tables.py\", line 740, in table_wrapper_width\r\nauto_table_layout(context, wrapper, containing_block)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/tables.py\", line 528, in auto_table_layout\r\ntable_and_columns_preferred_widths(context, box, outer=False)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 390, in table_and_columns_preferred_widths\r\nmin_content_widths[i], min_content_width(context, cell))\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 53, in min_content_width\r\nreturn block_min_content_width(context, box, outer)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 163, in block_min_content_width\r\ncontext, box, min_content_width, outer)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 99, in _block_content_width\r\nif not child.is_absolutely_positioned()]\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 58, in min_content_width\r\ncontext, box, outer, is_line_start=True)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 187, in inline_min_content_width\r\nwidths[-1] -= trailing_whitespace_size(context, box)\r\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/preferred.py\", line 623, in trailing_whitespace_size\r\nassert resume is None\r\nAssertionError\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/608", "id": 309935472, "node_id": "MDU6SXNzdWUzMDk5MzU0NzI=", "number": 608, "title": "No space after inside list markers", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-29T23:34:31Z", "updated_at": "2019-09-16T13:38:33Z", "closed_at": "2018-05-02T23:46:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n<ul style=\"list-style-position: inside\"><li>foo\r\n```\r\n\r\nThis produces \"\u2022foo\". Per CSS Counter Styles and CSS Lists, it should be \"\u2022 foo\" (which matches what every browser does).", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/607", "id": 309916505, "node_id": "MDU6SXNzdWUzMDk5MTY1MDU=", "number": 607, "title": "Whitespaces are correctly handled in bookmark labels", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 4, "created_at": "2018-03-29T21:56:17Z", "updated_at": "2021-10-13T13:51:09Z", "closed_at": "2021-10-13T13:48:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Something like:\r\n\r\n```\r\n        <h1>\r\n            <span>Foo</span>,\r\n            <span>\r\n                Bar\r\n            </span>\r\n        </h1>\r\n```\r\n\r\nSeems to get turned into a bookmark with a label of:\r\n\r\n```\r\n            Foo,\r\n            \r\n                Bar\r\n```\r\n\r\nThis is\u2026 unexpected, as it doesn't match the rendering at all. (i.e., I'd expect `Foo, Bar` with no more whitespace.)\r\n\r\nI guess technically we probably want to take the `white-space` property into account here?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/607/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/599", "id": 307823078, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc2OTE1OTUz", "number": 599, "title": "Fix some pytest failures on Windows", "user": {"login": "Tontyna", "id": 35614937, "node_id": "MDQ6VXNlcjM1NjE0OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/35614937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tontyna", "html_url": "https://github.com/Tontyna", "followers_url": "https://api.github.com/users/Tontyna/followers", "following_url": "https://api.github.com/users/Tontyna/following{/other_user}", "gists_url": "https://api.github.com/users/Tontyna/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tontyna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tontyna/subscriptions", "organizations_url": "https://api.github.com/users/Tontyna/orgs", "repos_url": "https://api.github.com/users/Tontyna/repos", "events_url": "https://api.github.com/users/Tontyna/events{/privacy}", "received_events_url": "https://api.github.com/users/Tontyna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 16, "created_at": "2018-03-22T21:34:16Z", "updated_at": "2019-03-10T20:28:42Z", "closed_at": "2018-04-30T20:19:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/599", "html_url": "https://github.com/Kozea/WeasyPrint/pull/599", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/599.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/599.patch", "merged_at": "2018-04-30T20:19:46Z"}, "body": "See #587, UnicodeDecodeError, CairoError\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/599/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/596", "id": 306944398, "node_id": "MDU6SXNzdWUzMDY5NDQzOTg=", "number": 596, "title": "Invisible font on adobe acrobat reader", "user": {"login": "vikeen", "id": 1700158, "node_id": "MDQ6VXNlcjE3MDAxNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1700158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vikeen", "html_url": "https://github.com/vikeen", "followers_url": "https://api.github.com/users/vikeen/followers", "following_url": "https://api.github.com/users/vikeen/following{/other_user}", "gists_url": "https://api.github.com/users/vikeen/gists{/gist_id}", "starred_url": "https://api.github.com/users/vikeen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vikeen/subscriptions", "organizations_url": "https://api.github.com/users/vikeen/orgs", "repos_url": "https://api.github.com/users/vikeen/repos", "events_url": "https://api.github.com/users/vikeen/events{/privacy}", "received_events_url": "https://api.github.com/users/vikeen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 12, "created_at": "2018-03-20T16:34:55Z", "updated_at": "2018-08-17T12:24:03Z", "closed_at": "2018-08-17T12:24:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**WeasyPrint version**: 0.42.2\r\n\r\n**Python version**:  3.6.2\r\n\r\n**Problem**: I'm using a custom font-face (otf). The font renders fine in Chrome, but when using Adobe Acrobat Reader there is no text. What is strange to me is that the line height and content space seems to be preserved. This is akin to the css 'visiblity: hidden' style.\r\n\r\n**Steps to reproduce**:\r\n1. Render the font-face (BookSanity)\r\n2. Open in Adobe Acrobat\r\n\r\nExample (pdf and css): [example.zip](https://github.com/Kozea/WeasyPrint/files/1830258/example.zip)\r\n\r\nWhat can I do to help ensure my font / weasyprint are correct?\r\nPDF rendering is crucial to my business. What material/technology should read up on?\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/591", "id": 305614987, "node_id": "MDU6SXNzdWUzMDU2MTQ5ODc=", "number": 591, "title": "Absolutely positioned element stays on the previous page", "user": {"login": "janek37", "id": 4113233, "node_id": "MDQ6VXNlcjQxMTMyMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4113233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janek37", "html_url": "https://github.com/janek37", "followers_url": "https://api.github.com/users/janek37/followers", "following_url": "https://api.github.com/users/janek37/following{/other_user}", "gists_url": "https://api.github.com/users/janek37/gists{/gist_id}", "starred_url": "https://api.github.com/users/janek37/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janek37/subscriptions", "organizations_url": "https://api.github.com/users/janek37/orgs", "repos_url": "https://api.github.com/users/janek37/repos", "events_url": "https://api.github.com/users/janek37/events{/privacy}", "received_events_url": "https://api.github.com/users/janek37/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 7, "created_at": "2018-03-15T16:00:13Z", "updated_at": "2022-04-05T10:00:44Z", "closed_at": "2022-04-05T10:00:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider this example:\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <style>\r\n      @page {\r\n        size: A4;\r\n        margin: 1.5cm;\r\n      }\r\n\r\n      div {\r\n        border: 1mm solid;\r\n      }\r\n\r\n      .filler {\r\n        width: 100%;\r\n        height: 20cm;\r\n        border-color: yellow;\r\n      }\r\n\r\n      .main {\r\n        position: relative;\r\n        width: 100%;\r\n        border-color: blue;\r\n      }\r\n\r\n      .absolute {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        border-color: red;\r\n        width: 1cm;\r\n        height: 1cm;\r\n      }\r\n\r\n      .long {\r\n        margin-left: 1.5cm;\r\n        width: 15cm;\r\n        height: 10cm;\r\n        border-color: green;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div class=\"filler\"></div>\r\n    <div class=\"main\">\r\n      <div class=\"absolute\"></div>\r\n      <div class=\"long\"></div>\r\n    </div>\r\n  </body>\r\n</html>\r\n```\r\n\r\nThis is what it looks like converted with WeasyPrint 0.42.2:\r\n![test pdf](https://user-images.githubusercontent.com/4113233/38028619-becc9962-3293-11e8-9fb4-c101c31a7dcf.png)\r\n\r\nFor reference, this is what comes out of Prince (free version):\r\n![prince pdf](https://user-images.githubusercontent.com/4113233/38028627-c48c207a-3293-11e8-9e2c-684f0fdf659f.png)\r\n\r\nAs you can see, in WeasyPrint the absolute element as well as the top border stay on the previous page when they should be on the next page with the rest of `div.main`. Note: the top border is positioned properly when the absolute element is removed.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/586", "id": 303513269, "node_id": "MDU6SXNzdWUzMDM1MTMyNjk=", "number": 586, "title": "Infinite loops when white-space: nowrap tags have inner text starting with a slash", "user": {"login": "samdmarshall", "id": 1087718, "node_id": "MDQ6VXNlcjEwODc3MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1087718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samdmarshall", "html_url": "https://github.com/samdmarshall", "followers_url": "https://api.github.com/users/samdmarshall/followers", "following_url": "https://api.github.com/users/samdmarshall/following{/other_user}", "gists_url": "https://api.github.com/users/samdmarshall/gists{/gist_id}", "starred_url": "https://api.github.com/users/samdmarshall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samdmarshall/subscriptions", "organizations_url": "https://api.github.com/users/samdmarshall/orgs", "repos_url": "https://api.github.com/users/samdmarshall/repos", "events_url": "https://api.github.com/users/samdmarshall/events{/privacy}", "received_events_url": "https://api.github.com/users/samdmarshall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 1, "created_at": "2018-03-08T15:08:19Z", "updated_at": "2018-03-10T00:07:16Z", "closed_at": "2018-03-10T00:07:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running into an issue where weasyprint seems to get stuck/hung when trying to generate a pdf of a local or remote html file (https://pewpewthespells.com/blog/sparse_sdks.html). I had installed weasyprint via `pip3`, and it seems to work fine on a number of other html pages generated from markdown->html via pandoc, but not this one in particular. I thought it might be related to the specific html generated in this page so I ran it against [tidy](http://www.html-tidy.org/) and only got back the following:\r\n```\r\nline 633 column 1 - Warning: <center> element removed from HTML5\r\n```\r\nSo I am at a bit of a loss as to what is causing weasyprint to get stuck on this page in particular.\r\n\r\nCommand used to generate the html page:\r\n```\r\npandoc \r\n  --from markdown+grid_tables \r\n  --to html5 \r\n  --include-in-header \"header.html\" \r\n  --highlight-style pygments \r\n  --email-obfuscation references \r\n  sparse_sdks.md \r\n  --output \"sparse_sdks.html\"\r\n```\r\n\r\nWhen weasyprint is executed and proceeds to get stuck being hung and is killed via local interrupt this is the traceback I get:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__main__.py\", line 177, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\", line 182, in write_pdf\r\n    font_config=font_config).write_pdf(\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\", line 143, in render\r\n    font_config)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\", line 326, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\", line 326, in <listcomp>\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/__init__.py\", line 55, in layout_document\r\n    context, root_box, html, cascaded_styles, computed_styles))\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/pages.py\", line 601, in make_all_pages\r\n    context, root_box, page_type, resume_at, page_number)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/pages.py\", line 520, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 510, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 51, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 108, in get_next_linebox\r\n    waiting_floats, line_children=[])\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 727, in split_inline_box\r\n    line_placeholders, waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 600, in split_inline_level\r\n    waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 727, in split_inline_box\r\n    line_placeholders, waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 577, in split_inline_level\r\n    context, box, max_x - position_x, skip)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 915, in split_text_box\r\n    text, box.style, context, available_width, box.justification_spacing)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 959, in split_first_line\r\n    text, style, context, max_width, justification_spacing)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 849, in create_layout\r\n    layout = Layout(context, style.font_size, style)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 637, in __init__\r\n    'cairo_t *', cairo_dummy_context._pointer)),\r\nKeyboardInterrupt\r\nError in sys.excepthook:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/apport_python_hook.py\", line 47, in apport_excepthook\r\n    try:\r\nKeyboardInterrupt\r\n\r\nOriginal exception was:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__main__.py\", line 177, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\", line 182, in write_pdf\r\n    font_config=font_config).write_pdf(\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\", line 143, in render\r\n    font_config)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\", line 326, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\", line 326, in <listcomp>\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/__init__.py\", line 55, in layout_document\r\n    context, root_box, html, cascaded_styles, computed_styles))\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/pages.py\", line 601, in make_all_pages\r\n    context, root_box, page_type, resume_at, page_number)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/pages.py\", line 520, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 638, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 83, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 111, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/blocks.py\", line 510, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 51, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 108, in get_next_linebox\r\n    waiting_floats, line_children=[])\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 727, in split_inline_box\r\n    line_placeholders, waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 600, in split_inline_level\r\n    waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 727, in split_inline_box\r\n    line_placeholders, waiting_floats, line_children)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 577, in split_inline_level\r\n    context, box, max_x - position_x, skip)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/inlines.py\", line 915, in split_text_box\r\n    text, box.style, context, available_width, box.justification_spacing)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 959, in split_first_line\r\n    text, style, context, max_width, justification_spacing)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 849, in create_layout\r\n    layout = Layout(context, style.font_size, style)\r\n  File \"/usr/local/lib/python3.5/dist-packages/weasyprint/text.py\", line 637, in __init__\r\n    'cairo_t *', cairo_dummy_context._pointer)),\r\nKeyboardInterrupt\r\n```\r\n\r\nWeasyprint version info:\r\n```\r\nWeasyPrint version 0.42.2\r\n```\r\n\r\nOS Version Info:\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 16.04.4 LTS\r\nRelease:        16.04\r\nCodename:       xenial\r\n```\r\nrunning on: `Microsoft Windows [Version 10.0.16299.248]` via the WSL.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/585", "id": 303498151, "node_id": "MDU6SXNzdWUzMDM0OTgxNTE=", "number": 585, "title": "Loop/crash on umlaut", "user": {"login": "jsonn", "id": 296817, "node_id": "MDQ6VXNlcjI5NjgxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/296817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsonn", "html_url": "https://github.com/jsonn", "followers_url": "https://api.github.com/users/jsonn/followers", "following_url": "https://api.github.com/users/jsonn/following{/other_user}", "gists_url": "https://api.github.com/users/jsonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsonn/subscriptions", "organizations_url": "https://api.github.com/users/jsonn/orgs", "repos_url": "https://api.github.com/users/jsonn/repos", "events_url": "https://api.github.com/users/jsonn/events{/privacy}", "received_events_url": "https://api.github.com/users/jsonn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-03-08T14:27:59Z", "updated_at": "2018-04-30T21:55:01Z", "closed_at": "2018-04-30T21:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Processing the HTML from [test.zip](https://github.com/Kozea/WeasyPrint/files/1793482/test.zip) will result in an infinite loop with 0.42 and `TypeError: 'NoneType' object is not subscriptable` with 0.42.2.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/583", "id": 302672882, "node_id": "MDU6SXNzdWUzMDI2NzI4ODI=", "number": 583, "title": "Unwanted margin in multi-page table", "user": {"login": "morloy", "id": 7600303, "node_id": "MDQ6VXNlcjc2MDAzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/7600303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morloy", "html_url": "https://github.com/morloy", "followers_url": "https://api.github.com/users/morloy/followers", "following_url": "https://api.github.com/users/morloy/following{/other_user}", "gists_url": "https://api.github.com/users/morloy/gists{/gist_id}", "starred_url": "https://api.github.com/users/morloy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morloy/subscriptions", "organizations_url": "https://api.github.com/users/morloy/orgs", "repos_url": "https://api.github.com/users/morloy/repos", "events_url": "https://api.github.com/users/morloy/events{/privacy}", "received_events_url": "https://api.github.com/users/morloy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 4, "created_at": "2018-03-06T11:58:34Z", "updated_at": "2018-03-22T10:50:05Z", "closed_at": "2018-03-22T01:02:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "We discovered a very strange margin issue in a table that spans over two pages.\r\nAs you can see in the image, one single number has a margin to the right. The HTML code for all rows is exactly the same. So I'm a bit confused about how to trace this bug. Maybe some of the experts can give a hint? \r\n![image](https://user-images.githubusercontent.com/7600303/37031084-c562b87c-213d-11e8-8c64-7ed7ca7279fa.png)\r\n\r\nHere's the source HTML and the produced PDF from WeasyPrint.\r\n[report.zip](https://github.com/Kozea/WeasyPrint/files/1784844/report.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/582", "id": 302114051, "node_id": "MDU6SXNzdWUzMDIxMTQwNTE=", "number": 582, "title": "Fix overflow for tables with collapsing borders and ignore \"overflow-wrap: break-word\" when calculating min-content intrinsic sizes", "user": {"login": "ivoronin", "id": 1638389, "node_id": "MDQ6VXNlcjE2MzgzODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1638389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivoronin", "html_url": "https://github.com/ivoronin", "followers_url": "https://api.github.com/users/ivoronin/followers", "following_url": "https://api.github.com/users/ivoronin/following{/other_user}", "gists_url": "https://api.github.com/users/ivoronin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivoronin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivoronin/subscriptions", "organizations_url": "https://api.github.com/users/ivoronin/orgs", "repos_url": "https://api.github.com/users/ivoronin/repos", "events_url": "https://api.github.com/users/ivoronin/events{/privacy}", "received_events_url": "https://api.github.com/users/ivoronin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-03-04T19:32:18Z", "updated_at": "2018-03-05T00:31:00Z", "closed_at": "2018-03-05T00:25:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Source file\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <title></title>\r\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css\" integrity=\"sha256-7GAtDQ79wTEOjhBKf70uBQG7A5yyb+8rigu07atXWDY=\" crossorigin=\"anonymous\">\r\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.css\" integrity=\"sha256-qTBXiGmok0OwSTNA1uvNgoO6GSylS8Ty3TBjogwOxVo=\" crossorigin=\"anonymous\">\r\n</head>\r\n<body>\r\n  <article class=\"markdown-body\">\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Non numquam</th>\r\n          <th>Lorem markdownum</th>\r\n          <th>Duis aute</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>Google Chrome</td>\r\n          <td>Eaque ipsa quae ab illo inventore veritatis et\r\n          quasi</td>\r\n          <td>Cupiditate non provident, similique sunt in culpa qui\r\n          officia deserunt mollitia.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Mozilla Firefox</td>\r\n          <td>Eaque ipsa quae ab illo inventore veritatis et\r\n          quasi</td>\r\n          <td>Cupiditate non provident, similique sunt in culpa qui\r\n          officia deserunt mollitia.</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </article>\r\n</body>\r\n</html>\r\n```\r\n# Expected result (rendered with [Prince](https://www.princexml.com/) 11.3)\r\n![default](https://user-images.githubusercontent.com/1638389/36949557-260d66ca-1ffb-11e8-9852-e9b28ed8bc7f.png)\r\n# Actual result (rendered with weasyprint 0.42.2)\r\n![default](https://user-images.githubusercontent.com/1638389/36949560-32be510e-1ffb-11e8-9d97-5ec9e962322c.png)\r\n# Discrepancies\r\n  - Wrong word wrapping\r\n  - Right table border is missing\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/580", "id": 300328555, "node_id": "MDU6SXNzdWUzMDAzMjg1NTU=", "number": 580, "title": "Weasyprint chokes on some HTML (layout bug?)", "user": {"login": "sjdv1982", "id": 8017841, "node_id": "MDQ6VXNlcjgwMTc4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8017841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjdv1982", "html_url": "https://github.com/sjdv1982", "followers_url": "https://api.github.com/users/sjdv1982/followers", "following_url": "https://api.github.com/users/sjdv1982/following{/other_user}", "gists_url": "https://api.github.com/users/sjdv1982/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjdv1982/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjdv1982/subscriptions", "organizations_url": "https://api.github.com/users/sjdv1982/orgs", "repos_url": "https://api.github.com/users/sjdv1982/repos", "events_url": "https://api.github.com/users/sjdv1982/events{/privacy}", "received_events_url": "https://api.github.com/users/sjdv1982/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-02-26T17:31:58Z", "updated_at": "2018-02-27T11:30:34Z", "closed_at": "2018-02-27T00:17:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Minimal HTML attached: [bug.html.txt](https://github.com/Kozea/WeasyPrint/files/1759627/bug.html.txt)\r\nRandom changes to the text make the bug (dis)appear.\r\n\r\nIt happens in both the PyPI and the master branch of weasyprint. I am on Kubuntu with the following rendering libraries:\r\n```\r\nlibcairo2/artful,now 1.14.10-1ubuntu1 amd64 [installed]\r\nlibgdk-pixbuf2.0-0/artful-updates,artful-security,now 2.36.11-1ubuntu0.1 amd64 [installed]\r\nlibpango-1.0-0/artful,now 1.40.12-1 amd64 [installed]\r\nlibpangocairo-1.0-0/artful,now 1.40.12-1 amd64 [installed]\r\n```\r\nError message:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/__main__.py\", line 173, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/__init__.py\", line 185, in write_pdf\r\n    font_config=font_config).write_pdf(\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/__init__.py\", line 146, in render\r\n    font_config)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/document.py\", line 316, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/document.py\", line 316, in <listcomp>\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/__init__.py\", line 53, in layout_document\r\n    context, root_box, html, cascaded_styles, computed_styles))\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/pages.py\", line 600, in make_all_pages\r\n    context, root_box, page_type, resume_at, page_number)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/pages.py\", line 519, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 79, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 107, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 640, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 79, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 107, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/blocks.py\", line 512, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/inlines.py\", line 49, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/inlines.py\", line 106, in get_next_linebox\r\n    waiting_floats, line_children=[])\r\n  File \"/home/sjoerd/github/PYTHON/weasyprint/layout/inlines.py\", line 839, in split_inline_box\r\n    child_resume_at[0] + current_skip,\r\nTypeError: 'NoneType' object is not subscriptable\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/574", "id": 296772353, "node_id": "MDU6SXNzdWUyOTY3NzIzNTM=", "number": 574, "title": "RTL Column Support", "user": {"login": "andreia-telenav", "id": 20701283, "node_id": "MDQ6VXNlcjIwNzAxMjgz", "avatar_url": "https://avatars.githubusercontent.com/u/20701283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreia-telenav", "html_url": "https://github.com/andreia-telenav", "followers_url": "https://api.github.com/users/andreia-telenav/followers", "following_url": "https://api.github.com/users/andreia-telenav/following{/other_user}", "gists_url": "https://api.github.com/users/andreia-telenav/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreia-telenav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreia-telenav/subscriptions", "organizations_url": "https://api.github.com/users/andreia-telenav/orgs", "repos_url": "https://api.github.com/users/andreia-telenav/repos", "events_url": "https://api.github.com/users/andreia-telenav/events{/privacy}", "received_events_url": "https://api.github.com/users/andreia-telenav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 4, "created_at": "2018-02-13T15:13:55Z", "updated_at": "2019-12-17T10:11:58Z", "closed_at": "2018-02-20T01:14:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nwe are using this library to generate the arabic version of our reports.\r\nIt works very well so far.\r\nBut we encountered a problem with column display.\r\nWe are using the following css coding:\r\n.columns {\r\n   column-count: 2;\r\n   column-gap: 10px;\r\n}\r\nwith <html dir=\"rtl\"> configuration.\r\nWhen it comes to display the columns in RTL direction, the columns are displaced to right.\r\nI came up with a solution changing the blocks.py file\r\nline 241 doing the following changes:\r\n```\r\nif containing_block.style['direction'] == 'rtl':\r\n                column_box.position_x -= i * (width + style['column_gap'])\r\n            else:\r\n                column_box.position_x += i * (width + style['column_gap'])\r\n```\r\n\r\nIf you consider it to be a good fix, could it be included in the current version?\r\nOr if you are planning to come up with an other solution, please let me know.\r\n\r\nThank you.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/567", "id": 292776403, "node_id": "MDU6SXNzdWUyOTI3NzY0MDM=", "number": 567, "title": "Inter-word spacing problem with text-align: justify and text-indent > 0", "user": {"login": "vilarneto", "id": 8395999, "node_id": "MDQ6VXNlcjgzOTU5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8395999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vilarneto", "html_url": "https://github.com/vilarneto", "followers_url": "https://api.github.com/users/vilarneto/followers", "following_url": "https://api.github.com/users/vilarneto/following{/other_user}", "gists_url": "https://api.github.com/users/vilarneto/gists{/gist_id}", "starred_url": "https://api.github.com/users/vilarneto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vilarneto/subscriptions", "organizations_url": "https://api.github.com/users/vilarneto/orgs", "repos_url": "https://api.github.com/users/vilarneto/repos", "events_url": "https://api.github.com/users/vilarneto/events{/privacy}", "received_events_url": "https://api.github.com/users/vilarneto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-01-30T13:08:24Z", "updated_at": "2018-01-30T13:26:25Z", "closed_at": "2018-01-30T13:14:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there,\r\n\r\nIf `text-align` is set to `justify` and `text-indent` is set to a positive value, the first paragraph line ends before the trailing margin. This is due to reduced (instead of increased) inter-word spacing applied during justification, which may even make words overlap.\r\n\r\nI've tracked down the bug to `text_align()` function in file `layout/inlines.py`. For the first line only, the `offset` variable stores a negative value, which is divided to line spaces and causes reduced or negative inter-word spacing.\r\n\r\nMWE (larger values for `text-indent` worsen the result):\r\n```\r\nfrom weasyprint import HTML, CSS\r\n\r\nhtml = HTML(\r\n    string='<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do'\r\n           ' eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut'\r\n           ' enim ad minim veniam, quis nostrud exercitation ullamco laboris'\r\n           ' nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor'\r\n           ' in reprehenderit in voluptate velit esse cillum dolore eu fugiat'\r\n           ' nulla pariatur. Excepteur sint occaecat cupidatat non proident,'\r\n           ' sunt in culpa qui officia deserunt mollit anim id est laborum.</p>')\r\ncss = CSS(string='@page { size: A4; margin: 25mm; } '\r\n                 'p { text-align: justify; text-indent: 20mm; }')\r\n\r\nhtml.write_pdf('bug-minimal.pdf', stylesheets=[css])\r\n```\r\n\r\nEnvironment: Python 3.6.3 and WeasyPrint 0.42, both under Arch Linux and Mac OS.\r\n\r\nResult (default font varies with OS):\r\n\r\n![bug-minimal](https://user-images.githubusercontent.com/8395999/35567749-84e33374-059c-11e8-890a-94169db5e3a2.png)", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/565", "id": 291568755, "node_id": "MDU6SXNzdWUyOTE1Njg3NTU=", "number": 565, "title": "Problem with printing weasyprint generated PDF", "user": {"login": "edkirin", "id": 32097590, "node_id": "MDQ6VXNlcjMyMDk3NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/32097590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edkirin", "html_url": "https://github.com/edkirin", "followers_url": "https://api.github.com/users/edkirin/followers", "following_url": "https://api.github.com/users/edkirin/following{/other_user}", "gists_url": "https://api.github.com/users/edkirin/gists{/gist_id}", "starred_url": "https://api.github.com/users/edkirin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edkirin/subscriptions", "organizations_url": "https://api.github.com/users/edkirin/orgs", "repos_url": "https://api.github.com/users/edkirin/repos", "events_url": "https://api.github.com/users/edkirin/events{/privacy}", "received_events_url": "https://api.github.com/users/edkirin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 10, "created_at": "2018-01-25T13:25:21Z", "updated_at": "2018-08-17T12:24:03Z", "closed_at": "2018-08-17T12:24:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to print PDF file generated with weasyprint using CUPS PDF printer on linux machine. I know it's redundant, but that's the requirement.\r\n\r\nThe problem is that printing pdf file generated with weasyprint results in crippled pdf file.\r\n\r\nHere are the files.\r\n[generated_by_weasyprint.pdf](https://github.com/Kozea/WeasyPrint/files/1664070/generated_by_weasyprint.pdf)\r\n[printed_with_cups.pdf](https://github.com/Kozea/WeasyPrint/files/1664071/printed_with_cups.pdf)\r\n\r\nI'm printing file with:\r\n`$ lp -d PDF generated_by_weasyprint.pdf`\r\n\r\n```\r\neden@sunce:/tmp> pdfinfo generated_by_weasyprint.pdf \r\nTitle:          {{ title }}\r\nKeywords:       \r\nAuthor:         \r\nCreator:        cairo 1.14.6 (http://cairographics.org)\r\nProducer:       WeasyPrint 0.42 (http://weasyprint.org/)\r\nTagged:         no\r\nUserProperties: no\r\nSuspects:       no\r\nForm:           none\r\nJavaScript:     no\r\nPages:          1\r\nEncrypted:      no\r\nPage size:      595 x 841 pts\r\nPage rot:       0\r\nFile size:      97265 bytes\r\nOptimized:      no\r\nPDF version:    1.3\r\n```\r\n\r\nThe same problem appears when printing the same file from python using cups lib. I guess weasyprint generates invalid pdf file somehow. I didn't had this problem with weasyprint v0.40 and earlier.\r\n\r\nEnvironment:\r\n- Linux Mint 18.2\r\n- python 3.5.2\r\n- weasyprint 0.42\r\n- cups-pdf 2.6.1", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/565/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/562", "id": 290138424, "node_id": "MDU6SXNzdWUyOTAxMzg0MjQ=", "number": 562, "title": "Named pages with pseudo-class", "user": {"login": "Tontyna", "id": 35614937, "node_id": "MDQ6VXNlcjM1NjE0OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/35614937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tontyna", "html_url": "https://github.com/Tontyna", "followers_url": "https://api.github.com/users/Tontyna/followers", "following_url": "https://api.github.com/users/Tontyna/following{/other_user}", "gists_url": "https://api.github.com/users/Tontyna/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tontyna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tontyna/subscriptions", "organizations_url": "https://api.github.com/users/Tontyna/orgs", "repos_url": "https://api.github.com/users/Tontyna/repos", "events_url": "https://api.github.com/users/Tontyna/events{/privacy}", "received_events_url": "https://api.github.com/users/Tontyna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 3, "created_at": "2018-01-19T23:33:23Z", "updated_at": "2018-02-02T16:38:06Z", "closed_at": "2018-01-28T21:17:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "css for named page with pseudo-class, e.g. `@page mypage:left` throws error `Unsupported @page selector`. \r\n\r\nTo prevent this and make pseudo-class work I altered the function `preprocess_stylesheet()` in `weasyprint/css/__init__.py`. Inserted the following code at line 680:\r\n\r\n    # 19.1.2017: implement named page with pseudo-class\r\n    # @page <name>:<left|right|blank|first>\r\n    elif (len(tokens) == 3 and\r\n            tokens[0].type == 'ident' and\r\n            tokens[1].type == 'literal' and\r\n            tokens[1].value == ':' and\r\n            tokens[2].type == 'ident'):\r\n        pseudo_class = tokens[2].lower_value\r\n        if pseudo_class in ('left', 'right'):\r\n            types['side'] = pseudo_class\r\n            specificity = (0, 0, 1)\r\n        elif pseudo_class in ('blank', 'first'):\r\n            types[pseudo_class] = True\r\n            specificity = (0, 1, 0)\r\n        else:\r\n            LOGGER.warning('Unknown @page pseudo-class \"%s\", '\r\n                           'the whole @page rule was ignored '\r\n                           'at %s:%s.',\r\n                           pseudo_class,\r\n                           rule.source_line, rule.source_column)\r\n            continue\r\n        # page-name\r\n        types['name'] = tokens[0].value\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/560", "id": 288961022, "node_id": "MDU6SXNzdWUyODg5NjEwMjI=", "number": 560, "title": "WeasyPrint 0.42 gets stuck", "user": {"login": "dhimmel", "id": 1117703, "node_id": "MDQ6VXNlcjExMTc3MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1117703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhimmel", "html_url": "https://github.com/dhimmel", "followers_url": "https://api.github.com/users/dhimmel/followers", "following_url": "https://api.github.com/users/dhimmel/following{/other_user}", "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions", "organizations_url": "https://api.github.com/users/dhimmel/orgs", "repos_url": "https://api.github.com/users/dhimmel/repos", "events_url": "https://api.github.com/users/dhimmel/events{/privacy}", "received_events_url": "https://api.github.com/users/dhimmel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 21, "created_at": "2018-01-16T16:02:34Z", "updated_at": "2018-03-08T09:40:21Z", "closed_at": "2018-02-04T15:02:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We are calling WeasyPrint via pandoc. With 0.42 and a certain input, the command never completes, but does not throw an error, causing [builds to timeout](https://travis-ci.org/greenelab/scihub-manuscript/builds/329491074#L1864).\r\n\r\nDowngrading from weasyprint 0.42 to 0.41 solves the issue: https://github.com/greenelab/scihub-manuscript/commit/5cb1245ca3e68c425b1364317e2496c17e20353c produced a [passing build](https://travis-ci.org/greenelab/scihub-manuscript/builds/329527648#L1421).\r\n\r\nThe issue doesn't happen for [all inputs](https://travis-ci.org/greenelab/deep-review/builds/329523064#L1373) (pandoc manuscripts). See for example, this passing build with WeasyPrint 0.42.\r\n\r\nThe command that fails [is](https://github.com/greenelab/scihub-manuscript/blob/a09d602ce3260746bd43476af4d2f58c1217d270/build/build.sh#L48-L62):\r\n\r\n```sh\r\npandoc \\\r\n  --from=markdown \\\r\n  --to=html5 \\\r\n  --pdf-engine=weasyprint \\\r\n  --pdf-engine-opt=--presentational-hints \\\r\n  --filter=pandoc-fignos \\\r\n  --filter=pandoc-eqnos \\\r\n  --filter=pandoc-tablenos \\\r\n  --bibliography=$BIBLIOGRAPHY_PATH \\\r\n  --csl=$CSL_PATH \\\r\n  --metadata link-citations=true \\\r\n  --webtex=https://latex.codecogs.com/svg.latex? \\\r\n  --css=webpage/github-pandoc.css \\\r\n  --output=output/manuscript.pdf \\\r\n  $INPUT_PATH\r\n```\r\n\r\nAny ideas on what the problem could be or how to better diagnose the issue?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/558", "id": 287759264, "node_id": "MDU6SXNzdWUyODc3NTkyNjQ=", "number": 558, "title": "Invalid attachments", "user": {"login": "gigelu", "id": 270697, "node_id": "MDQ6VXNlcjI3MDY5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/270697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gigelu", "html_url": "https://github.com/gigelu", "followers_url": "https://api.github.com/users/gigelu/followers", "following_url": "https://api.github.com/users/gigelu/following{/other_user}", "gists_url": "https://api.github.com/users/gigelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gigelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gigelu/subscriptions", "organizations_url": "https://api.github.com/users/gigelu/orgs", "repos_url": "https://api.github.com/users/gigelu/repos", "events_url": "https://api.github.com/users/gigelu/events{/privacy}", "received_events_url": "https://api.github.com/users/gigelu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 4, "created_at": "2018-01-11T11:51:07Z", "updated_at": "2018-01-28T15:28:03Z", "closed_at": "2018-01-28T15:24:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI am trying to attach a file to the pdf and when I try to save the attached file I am getting a 0 bytes file.\r\nThe code is this:\r\n```\r\nfrom io import BytesIO\r\nfrom weasyprint import HTML\r\n\r\nhtml = HTML(string='test')\r\nwith open('/tmp/test.pdf', mode='wb') as out_file:\r\n    html.write_pdf(out_file, attachments=[BytesIO(b'attachment')])\r\n```\r\n\r\nThe relevant part in the output is:\r\n```\r\n3 0 obj\r\n<</Filter /FlateDecode /Length 18 /Params\r\n  <</CheckSum <44290cefe42924d04a92d99428a95f27> /Size 10>> /Type\r\n  /EmbeddedFile>>\r\nstream\r\nb'x\\x9cK,)IL\\xce\\xc8M\\xcd+\\x01\\x00\\x16\\xbc\\x04*'\r\nendstream\r\nendobj\r\n```\r\n\r\nI don't think that the stream should be a python string (`b'...'`).\r\nAny help in what may be the problem?\r\n\r\nThank you.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/557", "id": 287113560, "node_id": "MDU6SXNzdWUyODcxMTM1NjA=", "number": 557, "title": "Infinite loop in inline_line_width", "user": {"login": "p-vitt", "id": 7194859, "node_id": "MDQ6VXNlcjcxOTQ4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7194859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p-vitt", "html_url": "https://github.com/p-vitt", "followers_url": "https://api.github.com/users/p-vitt/followers", "following_url": "https://api.github.com/users/p-vitt/following{/other_user}", "gists_url": "https://api.github.com/users/p-vitt/gists{/gist_id}", "starred_url": "https://api.github.com/users/p-vitt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p-vitt/subscriptions", "organizations_url": "https://api.github.com/users/p-vitt/orgs", "repos_url": "https://api.github.com/users/p-vitt/repos", "events_url": "https://api.github.com/users/p-vitt/events{/privacy}", "received_events_url": "https://api.github.com/users/p-vitt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 2, "created_at": "2018-01-09T14:47:15Z", "updated_at": "2018-01-09T17:22:23Z", "closed_at": "2018-01-09T17:12:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm constantly running into an infinte loop in [inline_line_width](https://github.com/Kozea/WeasyPrint/blob/master/weasyprint/layout/preferred.py#L252) when trying to dump a particular website. With others, it runs fine. \r\n\r\nSome system details:\r\n\r\n```\r\n$ pip list --format=columns | grep WeasyPrint\r\nWeasyPrint        0.42\r\n$ python --version\r\nPython 3.6.4\r\n$ uname -mrs\r\nDarwin 15.6.0 x86_64\r\n```\r\n\r\n`new_resume_at` stays to be 0 and `resume_at` stays to be 55 in every iteration, thus this loop won't end. At the beginning of the loop, some values get added to `lines`, but later on it keeps adding 0.9431584 on and on again.\r\n\r\nHow to reproduce:\r\n\r\n```\r\nlink = 'http://www.zeit.de/politik/deutschland/2018-01/gruene-robert-habeck-palastrevolte-fluegelstreit-amt-und-mandat/komplettansicht'\r\nweasyprint.HTML(url=link).write_pdf(\"test.pdf\")\r\n```\r\n\r\nDo I misuse weasyprint? Do I need to add some template or configuration in order to dump a website?\r\n  \r\n  ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/555", "id": 285285584, "node_id": "MDU6SXNzdWUyODUyODU1ODQ=", "number": 555, "title": "Margins, borders and padding break column layout", "user": {"login": "vikeen", "id": 1700158, "node_id": "MDQ6VXNlcjE3MDAxNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1700158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vikeen", "html_url": "https://github.com/vikeen", "followers_url": "https://api.github.com/users/vikeen/followers", "following_url": "https://api.github.com/users/vikeen/following{/other_user}", "gists_url": "https://api.github.com/users/vikeen/gists{/gist_id}", "starred_url": "https://api.github.com/users/vikeen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vikeen/subscriptions", "organizations_url": "https://api.github.com/users/vikeen/orgs", "repos_url": "https://api.github.com/users/vikeen/repos", "events_url": "https://api.github.com/users/vikeen/events{/privacy}", "received_events_url": "https://api.github.com/users/vikeen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 5, "created_at": "2018-01-01T02:36:24Z", "updated_at": "2018-01-06T17:10:41Z", "closed_at": "2018-01-05T18:27:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Background**\r\nI have a web application that lets users create design PDFs. In this application, we provide the user a [WYSIWYG](https://en.wikipedia.org/wiki/WYSIWYG) editor in conjunction with a [draft-js rich text editor](https://draftjs.org/).\r\n\r\nIn order to \"mirror\" the web applications editor content, I save off each page as a div to be rendered by my backend.\r\n\r\nExample:\r\n```js\r\n[\r\n\"<div class=\\\"page page--two-col page--odd\\\">...<div class=\\\"footnote\\\"></div><div class=\\\"page-number\\\">1</div></div>\",\r\n\"<div class=\\\"page page--two-col page--even\\\">...<div class=\\\"footnote\\\"></div><div class=\\\"page-number\\\">2</div></div>\"]\r\n```\r\n\r\n**Description**\r\n\r\nWhen I render the html output in a browser it looks fine. Notice how the top and bottom of the page fit nicely with a 0.75in border around it.\r\n\r\n<img width=\"675\" alt=\"screen shot 2017-12-31 at 8 30 47 pm\" src=\"https://user-images.githubusercontent.com/1700158/34465207-85ed1db0-ee69-11e7-9426-27eaec6f759c.png\">\r\n\r\nHowever, when this html is rendered by weasyprint the margins of the page get messed up. The top of the page has some blank space and the bottom looks like it's running off the page.\r\n\r\n<img width=\"668\" alt=\"screen shot 2017-12-31 at 8 07 08 pm\" src=\"https://user-images.githubusercontent.com/1700158/34465209-a50ed062-ee69-11e7-98b8-23dab35108ef.png\">\r\n\r\n\r\n**HTML and CSS**\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>The Forlorn Swamp</title>\r\n    <link rel=\"stylesheet\" href=\"/static/adventures/stylesheets/base.css\"/>\r\n    <style>\r\n        .page {\r\n            background-image: url('/static/images/themes/dnd-phb/background.png');\r\n        }\r\n\r\n        #Cover {\r\n            background-image: url('https://s3.amazonaws.com/rpgauthor/production/users/1/images/2013f44d-1abd-45ab-bdd9-64076bf62659.png');\r\n        }\r\n\r\n        .footnote:before {\r\n            content: 'The Forlorn Swamp';\r\n        }\r\n    </style>\r\n    \r\n    <link rel=\"stylesheet\" href=\"/static/stylesheets/themes/dnd-5e-phb_theme.css\"/>\r\n\r\n<body class=\"theme--dnd-5e-phb\">\r\n\r\n\r\n<section id=\"Cover\">\r\n    <div id=\"TitleContainer\">\r\n        <h1 id=\"Title\">The Forlorn Swamp</h1>\r\n        <p id=\"Author\">vikeen</p>\r\n        <cite id=\"PoweredBy\">\r\n            <img src=\"/static/images/logo-full.png\" alt=\"Powered By: RPG Author\"/>\r\n        </cite>\r\n    </div>\r\n</section>\r\n<div class=\"page page--two-col page--odd\"><h1>lorem ipsumlorem&nbsp;</h1>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum</p>\r\n<h1>lorem&nbsp;</h1>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem&nbsp;</p>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem&nbsp;</p>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum</p>\r\n<p>lorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum</p>\r\n<h3>lorem ipsumlorem&nbsp;</h3>\r\n<p><br></p>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem&nbsp;</p>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum</p>\r\n<p>lorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem&nbsp;</p><div class=\"footnote\"></div><div class=\"page-number\">1</div></div><div class=\"page page--two-col page--even\"><h1><strong>lorem ipsumlorem&nbsp;</strong></h1>\r\n<p>ipsuumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum</p>\r\n<h3><strong>lorem ipsumlorem&nbsp;</strong></h3>\r\n<p>ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ips ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorempsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem umlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem umlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem \r\n<p><br></p><div class=\"footnote\"></div><div class=\"page-number\">2</div></div>\r\n</body>\r\n</html>\r\n```\r\n\r\n```css\r\nbody, html {\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n    color: #333333;\r\n    font: normal 14px / 20px \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n}\r\n\r\n*, *:before, *:after {\r\n    box-sizing: border-box !important;\r\n}\r\n\r\n/*\r\n * Page\r\n ========================================================================== */\r\n\r\n@page {\r\n    size: 8.5in 11in !important;\r\n    bleed: 0 !important;\r\n    padding: 0 !important;\r\n    margin: 0 !important;\r\n}\r\n\r\n.page {\r\n    width: 8.5in !important;\r\n    height: 11in !important;\r\n    padding: 0.75in !important;\r\n    background-position: center;\r\n    background-size: 8.5in 11in !important;\r\n    background-repeat: no-repeat;\r\n    text-align: left;\r\n    page-break-before: always;\r\n    page-break-after: always;\r\n    position: relative;\r\n\r\n}\r\n\r\n.page--two-col {\r\n    column-count: 2;\r\n    column-gap: 10mm;\r\n    column-fill: auto;\r\n}\r\n\r\n/*\r\n * Cover\r\n ========================================================================== */\r\n\r\n#Cover {\r\n    padding: 0.75in 0 0.75in 0.75in;\r\n    background-position: center;\r\n    background-size: 8.5in 11in;\r\n    background-repeat: no-repeat;\r\n    margin: 0;\r\n    height: 11in;\r\n    width: 8.5in;\r\n    position: relative;\r\n}\r\n\r\n#TitleContainer {\r\n    padding: 20px;\r\n    background: rgba(0, 0, 0, 0.75);\r\n}\r\n\r\n#Title {\r\n    font-size: 2.5rem;\r\n    line-height: 2.5rem;\r\n    color: white;\r\n    font-family: Tahoma, Geneva, Kalimati, sans-serif;\r\n}\r\n\r\n#Author {\r\n    color: white;\r\n}\r\n\r\n#PoweredBy {\r\n    position: absolute;\r\n    bottom: 34mm;\r\n    left: 0.75in;\r\n}\r\n\r\n#PoweredBy img {\r\n    width: 200px;\r\n}\r\n\r\nfigure {\r\n    margin: 0;\r\n}\r\n\r\nimg {\r\n    max-width: 100%;\r\n}\r\n\r\n/* Headings\r\n ========================================================================== */\r\nh1,\r\nh2,\r\nh3 {\r\n    margin: 0 0 15px 0;\r\n    font-family: Tahoma, Geneva, Kalimati, sans-serif;\r\n    font-weight: normal;\r\n}\r\n\r\n/*\r\n * Margins\r\n */\r\n* + h1,\r\n* + h2,\r\n* + h3 {\r\n    margin-top: 25px;\r\n}\r\n\r\n/*\r\n * Sizes\r\n */\r\nh1 {\r\n    font-size: 36px;\r\n    line-height: 42px;\r\n}\r\n\r\nh2 {\r\n    font-size: 24px;\r\n    line-height: 30px;\r\n}\r\n\r\nh3 {\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n}\r\n\r\n.theme--dnd-5e-phb p,\r\n.theme--dnd-5e-phb .paragraph {\r\n    margin-top: 1em;\r\n    margin-bottom: 1em;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Editor\r\n *\r\n *\r\n * ============================================================ */\r\n.theme--dnd-5e-phb,\r\n#EditorContentWrapper.theme--dnd-5e-phb {\r\n    font-family: BookSanity;\r\n    font-size: 12px;\r\n    color: #000000;\r\n    line-height: 16px;\r\n}\r\n\r\n.theme--dnd-5e-phb #EditorContent {\r\n    border-bottom: none;\r\n}\r\n\r\n.theme--dnd-5e-phb .footnote {\r\n    position: absolute;\r\n    left: auto;\r\n    right: 80px;\r\n    bottom: 32px;\r\n    z-index: 150;\r\n    width: 200px;\r\n    font-size: 12px;\r\n    color: #c9ad6a;\r\n    text-align: right;\r\n}\r\n\r\n.theme--dnd-5e-phb .page-number {\r\n    position: absolute;\r\n    left: auto;\r\n    right: 2px;\r\n    bottom: 22px;\r\n    width: 50px;\r\n    font-size: 12px;\r\n    color: #c9ad6a;\r\n    text-align: center;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Page\r\n *\r\n * 1. support frontend editor for now\r\n * ============================================================ */\r\n.theme--dnd-5e-phb.page:after,\r\n.theme--dnd-5e-phb .page:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 100;\r\n    height: 50px;\r\n    width: 100%;\r\n    background-image: url(\"/static/images/themes/dnd-phb/footer.png\");\r\n    background-size: cover;\r\n}\r\n\r\n.theme--dnd-5e-phb.page.page--even:after,\r\n.theme--dnd-5e-phb .page.page--even:after {\r\n    transform: scaleX(-1);\r\n}\r\n\r\n.theme--dnd-5e-phb.page.page--even .footnote,\r\n.theme--dnd-5e-phb .page.page--even .footnote {\r\n    left: 80px;\r\n    text-align: left;\r\n}\r\n\r\n.theme--dnd-5e-phb.page.page--even .page-number,\r\n.theme--dnd-5e-phb .page.page--even .page-number {\r\n    left: 2px;\r\n    right: auto;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Headings\r\n *\r\n * ============================================================ */\r\n.theme--dnd-5e-phb h1,\r\n.theme--dnd-5e-phb h2,\r\n.theme--dnd-5e-phb h3 {\r\n    margin-top: .2em;\r\n    margin-bottom: .2em;\r\n    font-family: MrJeeves;\r\n    font-weight: 800;\r\n    color: #58180D;\r\n}\r\n\r\n.theme--dnd-5e-phb h1 {\r\n    font-size: 24pt;\r\n}\r\n\r\n.theme--dnd-5e-phb h2 {\r\n    font-size: 20pt;\r\n}\r\n\r\n.theme--dnd-5e-phb h3 {\r\n    font-size: 15pt;\r\n    border-bottom: 2px solid #c9ad6a;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Prose\r\n *\r\n * ============================================================ */\r\n\r\n.theme--dnd-5e-phb .prose {\r\n    margin: 20px 0;\r\n    padding: 5px 10px;\r\n    background-color: #faf7ea;\r\n    font-family: ScalySans;\r\n    border: 2px solid #58180D;\r\n    border-top: none;\r\n    border-bottom: none;\r\n    box-shadow: 0 0 6px #faf7ea;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Note\r\n *\r\n * ============================================================ */\r\n\r\n.theme--dnd-5e-phb .note {\r\n    margin: 20px 0;\r\n    font-family: ScalySans;\r\n    box-sizing: border-box;\r\n    padding: 5px 10px;\r\n    background-color: #e0e5c1;\r\n    border: 2px solid #000000;\r\n    border-left: none;\r\n    border-right: none;\r\n    box-shadow: 1px 4px 14px #888;\r\n}\r\n\r\n/* ============================================================\r\n *\r\n * Table\r\n *\r\n * ============================================================ */\r\n.theme--dnd-5e-phb table {\r\n    margin: 20px 0;\r\n    width: 100%;\r\n    font-size: 8.5pt;\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.theme--dnd-5e-phb caption {\r\n    color: #000000;\r\n    font-family: ScalySansSmallCaps;\r\n    font-size: 11pt;\r\n    font-weight: bold;\r\n    border: none;\r\n    padding: 0;\r\n    text-align: left;\r\n}\r\n\r\n.theme--dnd-5e-phb tbody tr:nth-child(odd) {\r\n    background-color: #e0e5c1;\r\n}\r\n\r\n.theme--dnd-5e-phb td,\r\n.theme--dnd-5e-phb th {\r\n    text-align: center;\r\n}\r\n\r\n.theme--dnd-5e-phb td:first-child,\r\n.theme--dnd-5e-phb th:first-child {\r\n    text-align: left;\r\n}\r\n```\r\n\r\nThe issue probably lies with how I'm trying to \"reset\" the printed page and use my page div. What do you think?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/550", "id": 281438771, "node_id": "MDU6SXNzdWUyODE0Mzg3NzE=", "number": 550, "title": "Weasyprint 0.41 generating PDFs that don't convert nicely to PNG", "user": {"login": "leohemsted", "id": 5020841, "node_id": "MDQ6VXNlcjUwMjA4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/5020841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leohemsted", "html_url": "https://github.com/leohemsted", "followers_url": "https://api.github.com/users/leohemsted/followers", "following_url": "https://api.github.com/users/leohemsted/following{/other_user}", "gists_url": "https://api.github.com/users/leohemsted/gists{/gist_id}", "starred_url": "https://api.github.com/users/leohemsted/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leohemsted/subscriptions", "organizations_url": "https://api.github.com/users/leohemsted/orgs", "repos_url": "https://api.github.com/users/leohemsted/repos", "events_url": "https://api.github.com/users/leohemsted/events{/privacy}", "received_events_url": "https://api.github.com/users/leohemsted/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 4, "created_at": "2017-12-12T16:02:58Z", "updated_at": "2018-04-21T11:21:16Z", "closed_at": "2018-04-21T11:21:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, I've got a problem with weasyprint 0.41 where PDFs it generates have errors that make imagemagick break when trying to convert it to a PNG.\r\n\r\nI've got a debian stretch docker container, and I call weasyprint inside it to generate a PDF, and then pass that PDF into imagemagick to create a png. imagemagick prints the following warning:\r\n\r\n```\r\n   **** Error reading a content stream. The page may be incomplete.\r\n   **** Warning: Pattern stream has unbalanced q/Q operators (too many q's)\r\n\r\n   **** This file had errors that were repaired or ignored.\r\n   **** The file was produced by:\r\n   **** >>>> WeasyPrint 0.41 (http://weasyprint.org/) <<<<\r\n   **** Please notify the author of the software that produced this\r\n   **** file that it does not conform to Adobe's published PDF\r\n   **** specification.\r\n```\r\n\r\nThat's just a warning, it creates the image - however, it's an incomplete image, missing an embedded image from within the PDF. The PDF itself looks fine.\r\n\r\nI've created a little test here:\r\n* Download the html file and dockerfile from https://gist.github.com/leohemsted/c452afdd60032b33c2dd637c92d5bf07 and https://gist.github.com/leohemsted/750fd4214fc7258e572a134b1c4598c7\r\n\r\nRun the docker container, and grab the file out of it.\r\n\r\neg `docker build . -t weasytest && docker run -it -v ~/dev/weasytest:/real-world -t weasytest cp letter.png /real-world/letter.png && open letter.png`\r\n\r\nAnd the resulting image doesn't have a logo. If we edit the dockerfile to pin weasyprint to 0.40, then the image renders fine with the logo.\r\n\r\nCan anyone advise on things that might be going on here?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/541", "id": 274487093, "node_id": "MDU6SXNzdWUyNzQ0ODcwOTM=", "number": 541, "title": "\"overflow-wrap: break-word\" not working in table", "user": {"login": "kination", "id": 1720209, "node_id": "MDQ6VXNlcjE3MjAyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1720209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kination", "html_url": "https://github.com/kination", "followers_url": "https://api.github.com/users/kination/followers", "following_url": "https://api.github.com/users/kination/following{/other_user}", "gists_url": "https://api.github.com/users/kination/gists{/gist_id}", "starred_url": "https://api.github.com/users/kination/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kination/subscriptions", "organizations_url": "https://api.github.com/users/kination/orgs", "repos_url": "https://api.github.com/users/kination/repos", "events_url": "https://api.github.com/users/kination/events{/privacy}", "received_events_url": "https://api.github.com/users/kination/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-11-16T11:43:12Z", "updated_at": "2019-05-04T08:43:14Z", "closed_at": "2017-11-17T10:12:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm implementing table inside html, but line break seems not working in items in table.\r\nThis is CSS\r\n\r\n```css\r\ntable {\r\n  ...\r\n  td, th {\r\n    padding: 5px 15px 5px 15px;\r\n    word-break: break-all;\r\n    white-space:nowrap;\r\n  }\r\n```\r\n\r\nand HTML\r\n```html\r\n...\r\n<div class=\"item-box\">\r\n            <table>\r\n...\r\n                <tr>\r\n                <td>TD1</td>\r\n                <td>\r\nTD2lsneinocnosneonocnsoneoincosneoicnosneocnsoinoiesnioencTD2lsneinocnosneonocnsoneoincosneoicnosneocnsoinoiesnioencTD2lsneinocnosneonocnsoneoincosneoicnosneocnsoinoiesnioenc</td>\r\n                <td>TD3</td>\r\n                </tr>\r\n...\r\n```\r\n\r\nand it shows like this.\r\n<img width=\"828\" alt=\"screen shot 2017-11-16 at 20 42 03\" src=\"https://user-images.githubusercontent.com/1720209/32889546-b6921c96-cb0e-11e7-8887-71c701a6d01c.png\">\r\n\r\nIs there something I'm doing wrong?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/541/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/538", "id": 274345972, "node_id": "MDU6SXNzdWUyNzQzNDU5NzI=", "number": 538, "title": "Line breaks not working on Windows", "user": {"login": "chesstrian", "id": 3923412, "node_id": "MDQ6VXNlcjM5MjM0MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3923412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chesstrian", "html_url": "https://github.com/chesstrian", "followers_url": "https://api.github.com/users/chesstrian/followers", "following_url": "https://api.github.com/users/chesstrian/following{/other_user}", "gists_url": "https://api.github.com/users/chesstrian/gists{/gist_id}", "starred_url": "https://api.github.com/users/chesstrian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chesstrian/subscriptions", "organizations_url": "https://api.github.com/users/chesstrian/orgs", "repos_url": "https://api.github.com/users/chesstrian/repos", "events_url": "https://api.github.com/users/chesstrian/events{/privacy}", "received_events_url": "https://api.github.com/users/chesstrian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-15T23:48:33Z", "updated_at": "2017-11-17T15:18:14Z", "closed_at": "2017-11-17T15:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\r\n\r\nI implemented a simple solution for a company, a user enter a document, the program in Django reads database and returns a bill. It has been working perfect on Ubuntu until now that the client asked to install the program on a Windows Server, I have no errors or warnings, but `<br>` tags are not rendered. Any hint where to look or what to test is welcome.\r\n\r\nThanks in advance.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/529", "id": 270921123, "node_id": "MDU6SXNzdWUyNzA5MjExMjM=", "number": 529, "title": "\"Failed to draw an SVG image\" when including SVG image with raster content", "user": {"login": "astraujums", "id": 6146363, "node_id": "MDQ6VXNlcjYxNDYzNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6146363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astraujums", "html_url": "https://github.com/astraujums", "followers_url": "https://api.github.com/users/astraujums/followers", "following_url": "https://api.github.com/users/astraujums/following{/other_user}", "gists_url": "https://api.github.com/users/astraujums/gists{/gist_id}", "starred_url": "https://api.github.com/users/astraujums/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astraujums/subscriptions", "organizations_url": "https://api.github.com/users/astraujums/orgs", "repos_url": "https://api.github.com/users/astraujums/repos", "events_url": "https://api.github.com/users/astraujums/events{/privacy}", "received_events_url": "https://api.github.com/users/astraujums/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 2, "created_at": "2017-11-03T09:40:47Z", "updated_at": "2017-11-16T13:41:24Z", "closed_at": "2017-11-16T13:41:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "When generating PDF from a HTML file that includes an SVG image which, in turn, contains raster data in the form of `<image xlink:href=\"data:image/png;base64...\" ... />`, an error is generated:\r\n`ERROR: Failed to draw an SVG image at file:///C:/test/logo_error.svg : 'file_obj'`\r\n\r\nThe platform is Windows 10 Pro, 64-bit, Python 3.6.3 64-bit, GTK from `gtk3-runtime-3.22.21-2017-09-25-ts-win64`\r\n\r\nAttached is a set of files that show the problem.\r\n\r\nThere are three versions of the image with corresponding HTML files that include it.\r\nThe PNG version and SVG version without raster content work fine but when trying to generate PDF from \r\nthe file `test_svg_error.html` which uses the image `logo_error.svg`, the error occurs.\r\n\r\n[weasyprint_raster_data_in_svg_bug.zip](https://github.com/Kozea/WeasyPrint/files/1440567/weasyprint_raster_data_in_svg_bug.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/526", "id": 267107609, "node_id": "MDU6SXNzdWUyNjcxMDc2MDk=", "number": 526, "title": "SVG of plot not properly masked", "user": {"login": "jmidgren", "id": 13892636, "node_id": "MDQ6VXNlcjEzODkyNjM2", "avatar_url": "https://avatars.githubusercontent.com/u/13892636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmidgren", "html_url": "https://github.com/jmidgren", "followers_url": "https://api.github.com/users/jmidgren/followers", "following_url": "https://api.github.com/users/jmidgren/following{/other_user}", "gists_url": "https://api.github.com/users/jmidgren/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmidgren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmidgren/subscriptions", "organizations_url": "https://api.github.com/users/jmidgren/orgs", "repos_url": "https://api.github.com/users/jmidgren/repos", "events_url": "https://api.github.com/users/jmidgren/events{/privacy}", "received_events_url": "https://api.github.com/users/jmidgren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-20T08:57:30Z", "updated_at": "2017-10-27T20:29:28Z", "closed_at": "2017-10-27T04:27:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using matplotlib.pyplot to plot data and \"zooming in\" to show areas of interest, plotted curves are not masked outside of the plot region when using the produced plot in a PDF. Instead curves are visible beneath axis and labels in the plot.\r\n\r\nThis only occurs when using SVG format, by using e.g. PNG it works fine. Also, if I open the produced SVG file of the plot in e.g. Firefox, it displays properly with no curve visible outside the plot region.\r\n\r\nI can reproduce the problem with various combinations of WeasyPrint 0.36 and 0.41 and libcairo 1.14.0.8 (included in ubuntu 16.04) and 1.15.6.\r\n\r\nThe small example program below reproduces the problem and will generate the attached PDF:\r\n[test.pdf](https://github.com/Kozea/WeasyPrint/files/1401257/test.pdf)\r\n\r\n```python\r\n#!/usr/bin/env python3\r\nfrom weasyprint import HTML\r\nimport matplotlib\r\nmatplotlib.use('Agg')         # This is necessary to be able to use matplotlib on headless computers\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\nx = np.arange(-100, 100)\r\ny = x**2\r\n\r\nplt.plot(x, y)\r\nplt.axis([-27.6, 33.3, 0, 1000])\r\n\r\nfigure = plt.gcf()\r\nfigure.savefig(\"test.svg\")\r\nfigure.savefig(\"test.png\")\r\n\r\nhtml = \"\"\"\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Test WeasyPrint</title>\r\n  </head>\r\n  <body>\r\n    <h3>SVG</h3>\r\n    <img src=\"test.svg\" style=\"height: 100mm;\">\r\n    <h3>PNG</h3>\r\n    <img src=\"test.png\" style=\"height: 100mm;\">\r\n  </body>\r\n</html>\r\n\"\"\"\r\n\r\nhtml_doc = HTML(string=html, base_url=\"./\")\r\nhtml_doc.write_pdf(\"test.pdf\")\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/523", "id": 265403137, "node_id": "MDU6SXNzdWUyNjU0MDMxMzc=", "number": 523, "title": "PDF file is broken after updating to 0.41", "user": {"login": "flash286", "id": 1481022, "node_id": "MDQ6VXNlcjE0ODEwMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1481022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flash286", "html_url": "https://github.com/flash286", "followers_url": "https://api.github.com/users/flash286/followers", "following_url": "https://api.github.com/users/flash286/following{/other_user}", "gists_url": "https://api.github.com/users/flash286/gists{/gist_id}", "starred_url": "https://api.github.com/users/flash286/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flash286/subscriptions", "organizations_url": "https://api.github.com/users/flash286/orgs", "repos_url": "https://api.github.com/users/flash286/repos", "events_url": "https://api.github.com/users/flash286/events{/privacy}", "received_events_url": "https://api.github.com/users/flash286/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-13T19:59:48Z", "updated_at": "2017-10-20T18:15:45Z", "closed_at": "2017-10-20T18:15:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "After updating to version 0.41 I began to receive errors from ghost script:\r\n\r\n`\r\n   **** Error: replacing malformed number '--nostringval--' with 0.\r\n               Output may be incorrect.\r\n   **** Error reading a content stream. The page may be incomplete.\r\n               Output may be incorrect.\r\n`\r\n\r\nI'm using Ghostscript(version=9.21) to compress my documents. Final documents look really broken, some pages, for instance, are blank.\r\n\r\nHow i run Ghostscript: \r\n`gs -sDEVICE=pdfwrite -dNOPAUSE -dQUIET -dBATCH -dPDFSETTINGS=/printer -dCompatibilityLevel=1.4 -sOutputFile=/tmp/890b4e33-99d1-4769-8c61-92de3196804f_printable.pdf ~/Downloads/b235f2a2-1392-4cc6-be69-5333c393fc5c.pdf`\r\n\r\nOn version 0.40 same generated original file doesn't have any problems, but on 0.40 I have problem with #441", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/520", "id": 263412138, "node_id": "MDU6SXNzdWUyNjM0MTIxMzg=", "number": 520, "title": "CSS @page rule seems to be ignored if imported by @import rule", "user": {"login": "berndnicklas", "id": 4263918, "node_id": "MDQ6VXNlcjQyNjM5MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/4263918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/berndnicklas", "html_url": "https://github.com/berndnicklas", "followers_url": "https://api.github.com/users/berndnicklas/followers", "following_url": "https://api.github.com/users/berndnicklas/following{/other_user}", "gists_url": "https://api.github.com/users/berndnicklas/gists{/gist_id}", "starred_url": "https://api.github.com/users/berndnicklas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/berndnicklas/subscriptions", "organizations_url": "https://api.github.com/users/berndnicklas/orgs", "repos_url": "https://api.github.com/users/berndnicklas/repos", "events_url": "https://api.github.com/users/berndnicklas/events{/privacy}", "received_events_url": "https://api.github.com/users/berndnicklas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 6, "created_at": "2017-10-06T11:13:20Z", "updated_at": "2017-11-16T11:45:50Z", "closed_at": "2017-10-06T14:22:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nwhile referencing a file `pagerule.css` containing\r\n\r\n```\r\n/* rule #1 */\r\n@page {\r\n  size: A4;\r\n  margin-top: 1.5cm;\r\n  margin-right: 1.5cm;\r\n  margin-bottom: 1.5cm;\r\n  margin-left: 2.5cm;\r\n}\r\n\r\n/* rule #2 */\r\nbody {\r\n  background-color: lime;\r\n}\r\n```\r\ndirectly in HTML via\r\n\r\n`<link rel=\"stylesheet\" href=\"pagerule.css\" />\r\n`\r\n\r\nworks like a charm, it seems that importing the file via CSS\r\n\r\n`@import url(\"pagerule.css\");\r\n`\r\n\r\nor\r\n\r\n`@import url(\"pagerule.css\") all;\r\n`\r\n\r\ninto a referenced CSS file only processes rule `#2` while rule `#1` (the page rule) is completely ignored. On weasyprint command line interface with verbosity switched on, no warnings or errors are printed.\r\n\r\nIn Chrome print preview this is rendered correctly.\r\n\r\nIs this a bug or intended behaviour?\r\n\r\nBest regards,\r\n\r\nBernd", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/513", "id": 261670867, "node_id": "MDU6SXNzdWUyNjE2NzA4Njc=", "number": 513, "title": "crash on unsupported css values", "user": {"login": "JGiard", "id": 1167353, "node_id": "MDQ6VXNlcjExNjczNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1167353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JGiard", "html_url": "https://github.com/JGiard", "followers_url": "https://api.github.com/users/JGiard/followers", "following_url": "https://api.github.com/users/JGiard/following{/other_user}", "gists_url": "https://api.github.com/users/JGiard/gists{/gist_id}", "starred_url": "https://api.github.com/users/JGiard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JGiard/subscriptions", "organizations_url": "https://api.github.com/users/JGiard/orgs", "repos_url": "https://api.github.com/users/JGiard/repos", "events_url": "https://api.github.com/users/JGiard/events{/privacy}", "received_events_url": "https://api.github.com/users/JGiard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/8", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/8", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/8/labels", "id": 2706462, "node_id": "MDk6TWlsZXN0b25lMjcwNjQ2Mg==", "number": 8, "title": "v0.41", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-08-17T05:58:19Z", "updated_at": "2017-10-06T14:21:26Z", "due_on": null, "closed_at": "2017-10-06T14:21:26Z"}, "comments": 1, "created_at": "2017-09-29T15:01:13Z", "updated_at": "2017-10-01T13:27:00Z", "closed_at": "2017-10-01T13:27:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI just upgraded from weasyprint 0.24 to weasyprint 0.40 and it seems to crash during css parsing\r\n\r\nhere is a sample of code to reproduce the issue :\r\n\r\n```\r\nfrom weasyprint import CSS\r\nCSS(string=\".foo { image-resolution: from-image; }\")\r\n```\r\nand the stacktrace :\r\n\r\n> Traceback (most recent call last):\r\n>   File \"<stdin>\", line 1, in <module>\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/__init__.py\", line 267, in __init__\r\n>     self.page_rules, self.fonts, font_config)\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 609, in preprocess_stylesheet\r\n>     base_url, tinycss2.parse_declaration_list(rule.content)))\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/validation.py\", line 2189, in preprocess_declarations\r\n>     result = list(expander_(base_url, name, tokens))\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/validation.py\", line 2136, in validate_non_shorthand\r\n>     value = function(tokens)\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/validation.py\", line 159, in single_token_validator\r\n>     return function(tokens[0], *args)\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/validation.py\", line 1106, in image_resolution\r\n>     return get_resolution(token)\r\n>   File \"/home/jg/.virtualenvs/fluid-topics/lib/python3.5/site-packages/weasyprint/css/validation.py\", line 218, in get_resolution\r\n>     factor = RESOLUTION_TO_DPPX.get(token.unit)\r\n> AttributeError: 'IdentToken' object has no attribute 'unit'\r\n> \r\n\r\nIt worked fine previously on 0.24 and produced a warning :\r\n\r\n> Ignored `image-resolution: from-image` at 1:8, invalid value.\r\n\r\nI suppose it may be a missing feature from tinycss2 migration.\r\n\r\nI removed the css value in my content since it is not supported but it might still be worth it to produce a warning instead of a crash", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/507", "id": 258351863, "node_id": "MDU6SXNzdWUyNTgzNTE4NjM=", "number": 507, "title": "Inconsistent headers with named pages and running headers", "user": {"login": "dmoonfire", "id": 206815, "node_id": "MDQ6VXNlcjIwNjgxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/206815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmoonfire", "html_url": "https://github.com/dmoonfire", "followers_url": "https://api.github.com/users/dmoonfire/followers", "following_url": "https://api.github.com/users/dmoonfire/following{/other_user}", "gists_url": "https://api.github.com/users/dmoonfire/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmoonfire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmoonfire/subscriptions", "organizations_url": "https://api.github.com/users/dmoonfire/orgs", "repos_url": "https://api.github.com/users/dmoonfire/repos", "events_url": "https://api.github.com/users/dmoonfire/events{/privacy}", "received_events_url": "https://api.github.com/users/dmoonfire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 8, "created_at": "2017-09-18T01:34:19Z", "updated_at": "2018-03-17T18:39:48Z", "closed_at": "2018-01-22T23:13:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Salutations. I was finally trying to implement #57 in my system and I encountered a strange difficult. I have just as simple set of `div.chapter` objects with a running header that has the author and title except for the first page of each chapter, which doesn't. When I run this against the latest (6971959), the headers inconsistently disappear on the page.\r\n\r\nI have attached a [sample](https://github.com/Kozea/WeasyPrint/files/1309536/inconsistent-running-headers.zip) which demonstrates this. This is from Frankenstein. The letters all have the headers I expect, but the first page after chapter doesn't, however, I don't have anything different with those so I'm not sure why it disappeared. Likewise, pages 23-34 (the third and fourth page of chapter 2) are doing this.\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/506", "id": 258087134, "node_id": "MDU6SXNzdWUyNTgwODcxMzQ=", "number": 506, "title": "@font-face issue", "user": {"login": "leesus", "id": 948235, "node_id": "MDQ6VXNlcjk0ODIzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/948235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leesus", "html_url": "https://github.com/leesus", "followers_url": "https://api.github.com/users/leesus/followers", "following_url": "https://api.github.com/users/leesus/following{/other_user}", "gists_url": "https://api.github.com/users/leesus/gists{/gist_id}", "starred_url": "https://api.github.com/users/leesus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leesus/subscriptions", "organizations_url": "https://api.github.com/users/leesus/orgs", "repos_url": "https://api.github.com/users/leesus/repos", "events_url": "https://api.github.com/users/leesus/events{/privacy}", "received_events_url": "https://api.github.com/users/leesus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/8", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/8", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/8/labels", "id": 2706462, "node_id": "MDk6TWlsZXN0b25lMjcwNjQ2Mg==", "number": 8, "title": "v0.41", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-08-17T05:58:19Z", "updated_at": "2017-10-06T14:21:26Z", "due_on": null, "closed_at": "2017-10-06T14:21:26Z"}, "comments": 3, "created_at": "2017-09-15T15:55:24Z", "updated_at": "2019-04-15T14:51:47Z", "closed_at": "2017-10-01T13:20:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the Python API, my custom font isn't showing in the PDF. When I try using the command line arguments on Mac, the PDF is output fine, with the font. Minimal example below, hopefully I'm just missing something simple.\r\n\r\nCSS\r\n```\r\n@font-face {\r\n  font-family: MyCustomFont;\r\n  font-style: normal;\r\n  src: url(http://path.to/MyCustomFont.ttf) format('truetype');\r\n}\r\n\r\nbody {\r\n  font-family: MyCustomFont;\r\n}\r\n```\r\n\r\nPython\r\n```\r\nfont_config = FontConfiguration()\r\nstylesheet = CSS(path_to_my_stylesheet, font_config=font_config)\r\npdf = HTML(string=my_html_template_string).write_pdf(stylesheets=[stylesheet])\r\n```\r\n\r\nThe CSS is output correctly, just the fonts aren't showing up.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/504", "id": 256518465, "node_id": "MDU6SXNzdWUyNTY1MTg0NjU=", "number": 504, "title": "Linear gradient does not work with Pdf rendering", "user": {"login": "mcherkassky", "id": 1049127, "node_id": "MDQ6VXNlcjEwNDkxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcherkassky", "html_url": "https://github.com/mcherkassky", "followers_url": "https://api.github.com/users/mcherkassky/followers", "following_url": "https://api.github.com/users/mcherkassky/following{/other_user}", "gists_url": "https://api.github.com/users/mcherkassky/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcherkassky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcherkassky/subscriptions", "organizations_url": "https://api.github.com/users/mcherkassky/orgs", "repos_url": "https://api.github.com/users/mcherkassky/repos", "events_url": "https://api.github.com/users/mcherkassky/events{/privacy}", "received_events_url": "https://api.github.com/users/mcherkassky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 3, "created_at": "2017-09-10T15:38:42Z", "updated_at": "2021-01-16T14:14:18Z", "closed_at": "2021-01-16T14:14:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to get linear gradients to work in tables a la Pandas style bar charts (https://pandas.pydata.org/pandas-docs/stable/style.html)\r\n\r\nHowever, when rendering these in Pdf form it seems like the transparency isn't working in the background linear-gradient css function. Not sure what's going on as if I render it into a PNG file everything looks fine. \r\n\r\nThis is the output from PDF\r\n![image](https://user-images.githubusercontent.com/1049127/30250468-d3912ab6-961c-11e7-9011-a2b46372d3bc.png)\r\n\r\nThis is the correct output from PNG:\r\n![image](https://user-images.githubusercontent.com/1049127/30250476-084b81fc-961d-11e7-909e-c44421ba8386.png)\r\n\r\nNote how the bars in the PDF version don't change size for some reason\r\n\r\nHere's some raw html to play around with\r\n[test.txt](https://github.com/Kozea/WeasyPrint/files/1290665/test.txt)\r\n\r\nI understand it may be a cairo issue...\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/487", "id": 244384267, "node_id": "MDU6SXNzdWUyNDQzODQyNjc=", "number": 487, "title": "WeasyPrint crashes when there's a local() with a font name with a space in it and no quotes around in CSS", "user": {"login": "0xDEADCAT", "id": 17809450, "node_id": "MDQ6VXNlcjE3ODA5NDUw", "avatar_url": "https://avatars.githubusercontent.com/u/17809450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xDEADCAT", "html_url": "https://github.com/0xDEADCAT", "followers_url": "https://api.github.com/users/0xDEADCAT/followers", "following_url": "https://api.github.com/users/0xDEADCAT/following{/other_user}", "gists_url": "https://api.github.com/users/0xDEADCAT/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xDEADCAT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xDEADCAT/subscriptions", "organizations_url": "https://api.github.com/users/0xDEADCAT/orgs", "repos_url": "https://api.github.com/users/0xDEADCAT/repos", "events_url": "https://api.github.com/users/0xDEADCAT/events{/privacy}", "received_events_url": "https://api.github.com/users/0xDEADCAT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/7", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/7", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/7/labels", "id": 2627484, "node_id": "MDk6TWlsZXN0b25lMjYyNzQ4NA==", "number": 7, "title": "v0.40", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-07-07T12:33:36Z", "updated_at": "2018-01-26T12:18:45Z", "due_on": null, "closed_at": "2017-08-18T15:11:46Z"}, "comments": 2, "created_at": "2017-07-20T14:31:44Z", "updated_at": "2017-07-20T15:12:13Z", "closed_at": "2017-07-20T15:07:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "minimum test case:\r\n```@font-face { font-family: \"Test\"; src: local(Test Test) }```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/482", "id": 239912354, "node_id": "MDU6SXNzdWUyMzk5MTIzNTQ=", "number": 482, "title": "WeasyPrint crash on OSX", "user": {"login": "autumnjolitz", "id": 270476, "node_id": "MDQ6VXNlcjI3MDQ3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/270476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autumnjolitz", "html_url": "https://github.com/autumnjolitz", "followers_url": "https://api.github.com/users/autumnjolitz/followers", "following_url": "https://api.github.com/users/autumnjolitz/following{/other_user}", "gists_url": "https://api.github.com/users/autumnjolitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/autumnjolitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autumnjolitz/subscriptions", "organizations_url": "https://api.github.com/users/autumnjolitz/orgs", "repos_url": "https://api.github.com/users/autumnjolitz/repos", "events_url": "https://api.github.com/users/autumnjolitz/events{/privacy}", "received_events_url": "https://api.github.com/users/autumnjolitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-30T23:55:57Z", "updated_at": "2017-07-01T03:57:53Z", "closed_at": "2017-07-01T03:57:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue:\r\n```\r\nFontconfig warning: line 146: blank doesn't take any effect anymore. please remove it from your fonts.conf\r\n!!! uWSGI process 55934 got Segmentation Fault !!!\r\n*** backtrace of 55934 ***\r\n0   uwsgi                               0x000000010b2a2b1c uwsgi_backtrace + 44\r\n1   uwsgi                               0x000000010b2a3053 uwsgi_segfault + 51\r\n2   libsystem_platform.dylib            0x00007fff94b23b3a _sigtramp + 26\r\n3   Python                              0x000000010b468f26 vgetargs1 + 1267\r\n4   CoreFoundation                      0x00007fff7f15912b ____initDayChangedNotification_block_invoke + 187\r\n5   libdispatch.dylib                   0x00007fff948de8fc _dispatch_client_callout + 8\r\n6   libdispatch.dylib                   0x00007fff948de8b9 dispatch_once_f + 38\r\n7   CoreFoundation                      0x00007fff7f157a29 __CFNotificationCenterGetLocalCenter_block_invoke + 201\r\n8   libdispatch.dylib                   0x00007fff948de8fc _dispatch_client_callout + 8\r\n9   libdispatch.dylib                   0x00007fff948de8b9 dispatch_once_f + 38\r\n10  CoreFoundation                      0x00007fff7f157949 CFNotificationCenterGetLocalCenter + 41\r\n11  CoreText                            0x00007fff8074950c _Z24_CTFontCollectionCreatedPK18__CTFontCollection + 59\r\n12  CoreText                            0x00007fff80759545 CTFontCollectionCreateFromAvailableFonts + 210\r\n13  libpangocairo-1.0.dylib             0x00000001172d641b pango_core_text_font_map_init + 138\r\n14  libgobject-2.0.dylib                0x000000011715cb10 g_type_create_instance + 577\r\n15  libgobject-2.0.dylib                0x000000011714cc3d g_object_new_internal + 57\r\n16  libgobject-2.0.dylib                0x000000011714c58c g_object_newv + 157\r\n17  libgobject-2.0.dylib                0x000000011714c4b0 g_object_new + 187\r\n18  libpangocairo-1.0.dylib             0x00000001172d31d7 pango_cairo_font_map_get_default + 41\r\n19  libpangocairo-1.0.dylib             0x00000001172d1bdb pango_cairo_create_context + 20\r\n20  libpangocairo-1.0.dylib             0x00000001172d1c28 pango_cairo_create_layout + 17\r\n21  libffi.dylib                        0x00007fff9396bf1c ffi_call_unix64 + 76\r\n22  ???                                 0x0000000117ca2e48 0x0 + 4694093384\r\n*** end of backtrace ***\r\n```\r\n\r\nPackages:\r\n```\r\n(cpython27) benjolitz-laptop:~/software/input_order_ui [staging]$ pip freeze | grep -i 'cffi.*\\|weasy.*\\|lxml.*\\|html5.*\\|tinycss.*\\|css.*\\|Pyphen.*'\r\ncairocffi==0.8.0\r\ncffi==1.10.0\r\ncssselect==1.0.1\r\nhtml5lib==1.0b10\r\nlxml==3.8.0\r\nPyphen==0.9.4\r\ntinycss==0.3\r\ntinycss2==0.5\r\nWeasyPrint==0.39\r\n```\r\nC libraries:\r\n```\r\n(cpython27) benjolitz-laptop:~/software/input_order_ui [staging]$ brew list --versions | grep -i 'cairo.*\\|pango.*'\r\ncairo 1.14.10 1.14.6_1 1.14.8\r\npango 1.40.1 1.40.3 1.40.5 1.40.6\r\n```\r\n\r\nIt's recently quit working for me on my development box, but I do not recall making any changes to cairo/pango.\r\n\r\nI matched my library versions with a coworker who does have a working build. Didn't make any difference. I reset my Font Book to the defaults. No dice.\r\n\r\nLooks like a null pointer somewhere.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/477", "id": 236350849, "node_id": "MDU6SXNzdWUyMzYzNTA4NDk=", "number": 477, "title": "weazyprint 0.37 fails with google font stylesheets", "user": {"login": "johndagostino", "id": 4756, "node_id": "MDQ6VXNlcjQ3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johndagostino", "html_url": "https://github.com/johndagostino", "followers_url": "https://api.github.com/users/johndagostino/followers", "following_url": "https://api.github.com/users/johndagostino/following{/other_user}", "gists_url": "https://api.github.com/users/johndagostino/gists{/gist_id}", "starred_url": "https://api.github.com/users/johndagostino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johndagostino/subscriptions", "organizations_url": "https://api.github.com/users/johndagostino/orgs", "repos_url": "https://api.github.com/users/johndagostino/repos", "events_url": "https://api.github.com/users/johndagostino/events{/privacy}", "received_events_url": "https://api.github.com/users/johndagostino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/6", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/6", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/6/labels", "id": 2586827, "node_id": "MDk6TWlsZXN0b25lMjU4NjgyNw==", "number": 6, "title": "v0.38", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2017-06-16T07:31:34Z", "updated_at": "2017-06-24T12:21:53Z", "due_on": null, "closed_at": "2017-06-24T12:21:53Z"}, "comments": 1, "created_at": "2017-06-16T00:42:06Z", "updated_at": "2017-06-16T07:31:56Z", "closed_at": "2017-06-16T07:30:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Example below works as expected on 0.36 but fails with the recently released 0.37\r\n\r\nBacktrace from WeazyPrint\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    load_entry_point('WeasyPrint==0.37', 'console_scripts', 'weasyprint')()\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__main__.py\", line 172, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 181, in write_pdf\r\n    presentational_hints=presentational_hints).write_pdf(\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 146, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/document.py\", line 317, in _render\r\n    font_config=font_config)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/__init__.py\", line 770, in get_all_computed_styles\r\n    element_tree, device_media_type, url_fetcher, font_config))\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/__init__.py\", line 160, in find_stylesheets\r\n    font_config=font_config)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 268, in __init__\r\n    self.fonts, font_config)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/__init__.py\", line 722, in preprocess_stylesheet\r\n    base_url, content))\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/descriptors.py\", line 165, in preprocess_descriptors\r\n    result = list(validate(base_url, descriptor.name, tokens))\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/descriptors.py\", line 143, in validate\r\n    value = function(tokens, base_url)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/validation.py\", line 172, in wrapper\r\n    result = function(remove_whitespace(part), *args)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/css/descriptors.py\", line 76, in src\r\n    return 'local', font_family(token.content, allow_spaces=True)\r\nAttributeError: 'FunctionBlock' object has no attribute 'content'\r\n```\r\n\r\nExample test html file\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Test</title>\r\n  <link href=\"https://fonts.googleapis.com/css?family=Lato:300,400,700\" rel=\"stylesheet\">\r\n</head>\r\n<body>\r\n  <div class=\"book\">\r\n  </div>\r\n</body>\r\n</html>\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/477/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/472", "id": 231718244, "node_id": "MDU6SXNzdWUyMzE3MTgyNDQ=", "number": 472, "title": "Got u'o, ' between two lines. Expected nothing or a preserved line break", "user": {"login": "PauloTeixeiraJunior", "id": 28988585, "node_id": "MDQ6VXNlcjI4OTg4NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/28988585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PauloTeixeiraJunior", "html_url": "https://github.com/PauloTeixeiraJunior", "followers_url": "https://api.github.com/users/PauloTeixeiraJunior/followers", "following_url": "https://api.github.com/users/PauloTeixeiraJunior/following{/other_user}", "gists_url": "https://api.github.com/users/PauloTeixeiraJunior/gists{/gist_id}", "starred_url": "https://api.github.com/users/PauloTeixeiraJunior/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PauloTeixeiraJunior/subscriptions", "organizations_url": "https://api.github.com/users/PauloTeixeiraJunior/orgs", "repos_url": "https://api.github.com/users/PauloTeixeiraJunior/repos", "events_url": "https://api.github.com/users/PauloTeixeiraJunior/events{/privacy}", "received_events_url": "https://api.github.com/users/PauloTeixeiraJunior/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/5", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5/labels", "id": 2410166, "node_id": "MDk6TWlsZXN0b25lMjQxMDE2Ng==", "number": 5, "title": "v0.37", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-03-24T21:35:36Z", "updated_at": "2017-06-15T06:25:54Z", "due_on": null, "closed_at": "2017-06-15T06:25:54Z"}, "comments": 22, "created_at": "2017-05-26T19:41:35Z", "updated_at": "2017-06-08T12:37:10Z", "closed_at": "2017-06-08T12:37:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use versions weasyprint 0.34 and Cairo 1.0.22\r\nI am have this problem a long time, but so far don't find a solution for this.\r\n\r\nPlease my friends, help.\r\n```\r\n File \"/home/paulo/sgp_desenv/src/sgp_dms/creator.py\", line 94, in create_pdf_document\r\n    main_document = html_converter.render()\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 143, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/document.py\", line 334, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/__init__.py\", line 53, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 567, in make_all_pages\r\n    page_number)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 513, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 478, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 48, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 100, in get_next_linebox\r\n    line_fixed, line_placeholders, waiting_floats)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 594, in split_inline_box\r\n    waiting_floats)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 491, in split_inline_level\r\n    context, box, max_x - position_x, max_x, skip)\r\n  File \"/home/paulo/.virtualenvs/sgp/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 718, in split_text_box\r\n    'Expected nothing or a preserved line break' % (between,))\r\nAssertionError: Got u'o, ' between two lines. Expected nothing or a preserved line break\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/467", "id": 228458116, "node_id": "MDU6SXNzdWUyMjg0NTgxMTY=", "number": 467, "title": "<div> block split", "user": {"login": "chickendude", "id": 2564517, "node_id": "MDQ6VXNlcjI1NjQ1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/2564517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chickendude", "html_url": "https://github.com/chickendude", "followers_url": "https://api.github.com/users/chickendude/followers", "following_url": "https://api.github.com/users/chickendude/following{/other_user}", "gists_url": "https://api.github.com/users/chickendude/gists{/gist_id}", "starred_url": "https://api.github.com/users/chickendude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chickendude/subscriptions", "organizations_url": "https://api.github.com/users/chickendude/orgs", "repos_url": "https://api.github.com/users/chickendude/repos", "events_url": "https://api.github.com/users/chickendude/events{/privacy}", "received_events_url": "https://api.github.com/users/chickendude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/5", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5/labels", "id": 2410166, "node_id": "MDk6TWlsZXN0b25lMjQxMDE2Ng==", "number": 5, "title": "v0.37", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-03-24T21:35:36Z", "updated_at": "2017-06-15T06:25:54Z", "due_on": null, "closed_at": "2017-06-15T06:25:54Z"}, "comments": 5, "created_at": "2017-05-13T08:22:46Z", "updated_at": "2017-05-15T02:36:54Z", "closed_at": "2017-05-14T13:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to build a PDF of a text with word for word translations where some short phrases need longer idiomatic translations underneath. The format works well on browsers like Firefox/Chrome, but when i print to a PDF many of the idiomatic translations get split down the middle and take up two rows. I've attached a PDF of the output as well as the HTML + CSS markup used to generate it.\r\n\r\nThe first picture is what i see in Firefox, the second picture is from the PDF (You can see the 'nolakoa den ulertzeko' bit is split in the middle across two lines). Any ideas on how to get around this? I've solved all other issues i had (namely setting up the Table of Contents where i first run each chapter individually, count the number of pages in each chapter, create the table of contents page, build the whole book, and finally combine the title page, table of contents, and actual book contents into one PDF). Thanks for the amazing tool, if i can just figure this one last thing out, it'll be perfect (for me, at least ;) )!\r\n\r\npicture 1 *(correct)*\r\n![correct](https://cloud.githubusercontent.com/assets/2564517/26023804/0b5db556-37f7-11e7-824d-f2bc675f5b56.png)\r\npicture 2 *(incorrect - see 'nolakoa den ulertzeko' section)*\r\n![incorrect](https://cloud.githubusercontent.com/assets/2564517/26023805/0baa3be2-37f7-11e7-9796-b5a870e2ef7c.png)\r\n\r\n\r\n[template.pdf](https://github.com/Kozea/WeasyPrint/files/998433/template.pdf)\r\n[template.txt](https://github.com/Kozea/WeasyPrint/files/998776/template.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/465", "id": 227514988, "node_id": "MDU6SXNzdWUyMjc1MTQ5ODg=", "number": 465, "title": "Named strings: \"start\" does not work?", "user": {"login": "pat-richter", "id": 1271059, "node_id": "MDQ6VXNlcjEyNzEwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1271059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pat-richter", "html_url": "https://github.com/pat-richter", "followers_url": "https://api.github.com/users/pat-richter/followers", "following_url": "https://api.github.com/users/pat-richter/following{/other_user}", "gists_url": "https://api.github.com/users/pat-richter/gists{/gist_id}", "starred_url": "https://api.github.com/users/pat-richter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pat-richter/subscriptions", "organizations_url": "https://api.github.com/users/pat-richter/orgs", "repos_url": "https://api.github.com/users/pat-richter/repos", "events_url": "https://api.github.com/users/pat-richter/events{/privacy}", "received_events_url": "https://api.github.com/users/pat-richter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 1, "created_at": "2017-05-09T22:19:44Z", "updated_at": "2018-01-29T21:58:26Z", "closed_at": "2018-01-29T21:58:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "As it seems, the param \"start\" does not work at the moment.\r\n```css\r\n@page:left {\r\n   @top-left { content: string(chapter, start); }\r\n   /*@top-left { content: string(chapter, first); }*/ /*has same result*/\r\n\r\n}\r\n\r\nh2 { -weasy-string-set: chapter content(); }\r\n```\r\n\r\nCan anyone confirm this issue with the latest v0.36?\r\nIf there is a h2 tag on the current page (not at the beginning), the new chapter will be used.\r\n\r\nIs there any way to avoid this?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/465/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/462", "id": 225344201, "node_id": "MDU6SXNzdWUyMjUzNDQyMDE=", "number": 462, "title": "'module' object has no attribute 'Inbox' when use ::first-letter pseudo-element", "user": {"login": "CorentinBrule", "id": 9805733, "node_id": "MDQ6VXNlcjk4MDU3MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/9805733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CorentinBrule", "html_url": "https://github.com/CorentinBrule", "followers_url": "https://api.github.com/users/CorentinBrule/followers", "following_url": "https://api.github.com/users/CorentinBrule/following{/other_user}", "gists_url": "https://api.github.com/users/CorentinBrule/gists{/gist_id}", "starred_url": "https://api.github.com/users/CorentinBrule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CorentinBrule/subscriptions", "organizations_url": "https://api.github.com/users/CorentinBrule/orgs", "repos_url": "https://api.github.com/users/CorentinBrule/repos", "events_url": "https://api.github.com/users/CorentinBrule/events{/privacy}", "received_events_url": "https://api.github.com/users/CorentinBrule/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-30T18:15:17Z", "updated_at": "2017-05-02T07:07:02Z", "closed_at": "2017-05-02T07:06:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "If there is :\r\n```\r\np::first-letter{\r\n    margin-left:1em;\r\n}\r\n```\r\n\r\nIt return : \r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    load_entry_point('WeasyPrint==0.36', 'console_scripts', 'weasyprint')()\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__main__.py\", line 164, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 180, in write_pdf\r\n    presentational_hints=presentational_hints).write_pdf(\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 143, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/document.py\", line 334, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/__init__.py\", line 53, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/pages.py\", line 567, in make_all_pages\r\n    page_number)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/pages.py\", line 513, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/blocks.py\", line 481, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/inlines.py\", line 51, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/inlines.py\", line 80, in get_next_linebox\r\n    skip_stack = first_letter_to_box(linebox, skip_stack, first_letter_style)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/inlines.py\", line 321, in first_letter_to_box\r\n    child, child_skip_stack, first_letter_style)\r\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/layout/inlines.py\", line 259, in first_letter_to_box\r\n    letter_box = boxes.Inbox(\r\nAttributeError: 'module' object has no attribute 'Inbox'\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/447", "id": 217836862, "node_id": "MDU6SXNzdWUyMTc4MzY4NjI=", "number": 447, "title": "base_url removes top directory level", "user": {"login": "JoshuaC3", "id": 11645712, "node_id": "MDQ6VXNlcjExNjQ1NzEy", "avatar_url": "https://avatars.githubusercontent.com/u/11645712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoshuaC3", "html_url": "https://github.com/JoshuaC3", "followers_url": "https://api.github.com/users/JoshuaC3/followers", "following_url": "https://api.github.com/users/JoshuaC3/following{/other_user}", "gists_url": "https://api.github.com/users/JoshuaC3/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoshuaC3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoshuaC3/subscriptions", "organizations_url": "https://api.github.com/users/JoshuaC3/orgs", "repos_url": "https://api.github.com/users/JoshuaC3/repos", "events_url": "https://api.github.com/users/JoshuaC3/events{/privacy}", "received_events_url": "https://api.github.com/users/JoshuaC3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 1, "created_at": "2017-03-29T10:48:52Z", "updated_at": "2018-04-21T11:24:30Z", "closed_at": "2018-04-21T11:24:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to write a pdf with HTML I need to set `base_url` to the pick up the images and css to go with my html. I use the following:\r\n\r\n`html(string=result, base_url='C:/Anaconda/Scripts/Reports/Opportunities Report/').write_pdf(\"report.pdf\")`\r\n\r\nhowever, I am getting the error\r\n\r\n`Failed to load stylesheet at file:///C:/Anaconda/Scripts/Reports/stylesheet.css`. So you can see that it is dropping the `Opportunities Report/` part.\r\n\r\nMy HTML looks like so, `<link rel=\"stylesheet\" type=\"text/css\" href=\"./stylesheet.css\">`\r\n\r\nI have also tried `href=\"stylesheet.css\"` and this doesn't work. What does work is `Opportunities Report/stylesheet.css`.\r\n\r\nAnother work around was to create a dir `C:/Anaconda/Scripts/Reports/Opportunities Report/not_used_dir` and then to set this as the `base_url`\r\n\r\nAny ideas as to why this is happening?\r\n\r\nFYI: Current working directory is 'C:\\\\Anaconda\\\\Scripts\\\\Reports\\\\Opportunities Report'. Run from Jupyter Notebook on Python 3.5. Windows 64 bit.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/447/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/444", "id": 216373086, "node_id": "MDU6SXNzdWUyMTYzNzMwODY=", "number": 444, "title": "AssertionError: Got u'al ' between two lines. Expected nothing or a preserved line break", "user": {"login": "vivekc", "id": 1035292, "node_id": "MDQ6VXNlcjEwMzUyOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1035292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vivekc", "html_url": "https://github.com/vivekc", "followers_url": "https://api.github.com/users/vivekc/followers", "following_url": "https://api.github.com/users/vivekc/following{/other_user}", "gists_url": "https://api.github.com/users/vivekc/gists{/gist_id}", "starred_url": "https://api.github.com/users/vivekc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vivekc/subscriptions", "organizations_url": "https://api.github.com/users/vivekc/orgs", "repos_url": "https://api.github.com/users/vivekc/repos", "events_url": "https://api.github.com/users/vivekc/events{/privacy}", "received_events_url": "https://api.github.com/users/vivekc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-23T10:08:26Z", "updated_at": "2017-03-25T14:29:18Z", "closed_at": "2017-03-25T14:29:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Found out non-ascii characters in html. Any way we can handle this issue? Cleaning data during rendering the view is time consuming and delays operation. \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/vivekc/workspace/venv/bin/weasyprint\", line 9, in <module>\r\n    load_entry_point('WeasyPrint==0.36', 'console_scripts', 'weasyprint')()\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/__main__.py\", line 164, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 180, in write_pdf\r\n    presentational_hints=presentational_hints).write_pdf(\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 143, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/document.py\", line 334, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/__init__.py\", line 53, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 567, in make_all_pages\r\n    page_number)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 513, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 42, in block_level_layout\r\n    device_size, page_is_empty, absolute_boxes, fixed_boxes)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 364, in table_layout\r\n    all_groups_layout()\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 351, in all_groups_layout\r\n    skip_stack, position_y, max_position_y, page_is_empty)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 258, in body_groups_layout\r\n    group, position_y, max_position_y, page_is_empty, skip_stack)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 129, in group_layout\r\n    fixed_boxes=fixed_boxes)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 604, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 42, in block_level_layout\r\n    device_size, page_is_empty, absolute_boxes, fixed_boxes)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 364, in table_layout\r\n    all_groups_layout()\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 351, in all_groups_layout\r\n    skip_stack, position_y, max_position_y, page_is_empty)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 258, in body_groups_layout\r\n    group, position_y, max_position_y, page_is_empty, skip_stack)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/tables.py\", line 129, in group_layout\r\n    fixed_boxes=fixed_boxes)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 481, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 51, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes, first_letter_style)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 107, in get_next_linebox\r\n    line_fixed, line_placeholders, waiting_floats)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 676, in split_inline_box\r\n    waiting_floats)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 573, in split_inline_level\r\n    context, box, max_x - position_x, max_x, skip)\r\n  File \"/home/vivekc/workspace/venv/local/lib/python2.7/site-packages/weasyprint/layout/inlines.py\", line 800, in split_text_box\r\n    'Expected nothing or a preserved line break' % (between,))\r\nAssertionError: Got u'al ' between two lines. Expected nothing or a preserved line break\r\n```\r\nPython version - 2.7\r\nWeasyprint version\r\n```\r\n$ weasyprint --version      \r\nWARNING: There are known rendering problems with Cairo <= 1.14.0\r\nWARNING: @font-face support needs Pango >= 1.38\r\nWeasyPrint version 0.36\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/441", "id": 213528536, "node_id": "MDU6SXNzdWUyMTM1Mjg1MzY=", "number": 441, "title": "CAIRO_STATUS_NO_MEMORY when using @font-face", "user": {"login": "cuu508", "id": 661859, "node_id": "MDQ6VXNlcjY2MTg1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/661859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuu508", "html_url": "https://github.com/cuu508", "followers_url": "https://api.github.com/users/cuu508/followers", "following_url": "https://api.github.com/users/cuu508/following{/other_user}", "gists_url": "https://api.github.com/users/cuu508/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuu508/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuu508/subscriptions", "organizations_url": "https://api.github.com/users/cuu508/orgs", "repos_url": "https://api.github.com/users/cuu508/repos", "events_url": "https://api.github.com/users/cuu508/events{/privacy}", "received_events_url": "https://api.github.com/users/cuu508/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/7", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/7", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/7/labels", "id": 2627484, "node_id": "MDk6TWlsZXN0b25lMjYyNzQ4NA==", "number": 7, "title": "v0.40", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-07-07T12:33:36Z", "updated_at": "2018-01-26T12:18:45Z", "due_on": null, "closed_at": "2017-08-18T15:11:46Z"}, "comments": 3, "created_at": "2017-03-11T13:21:08Z", "updated_at": "2018-01-26T12:18:45Z", "closed_at": "2017-10-04T16:28:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "weasyprint sometimes crashes with a \"CAIRO_STATUS_NO_MEMORY\" error when rendering documents with @font-face CSS rules.\r\n\r\nThe crashes are not deterministic, same document may render fine 100 times, and crash on the 101th time.\r\n\r\nTest case:\r\n\r\n```\r\nfrom weasyprint import HTML\r\n\r\nhtml = b\"\"\"\r\n<style>\r\n  @font-face {\r\n    font-family: DejaVu;\r\n    src: local(DejaVu Sans);\r\n  }\r\n  html {\r\n    font-family: DejaVu;\r\n  }\r\n</style>\r\nlorem ipsum\r\n<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEiIGhlaWdodD0iMSI+PHRleHQ+YTwvdGV4dD48L3N2Zz4K\"/>\r\n\"\"\"\r\n\r\nfor i in range(0, 1000):\r\n    print(\"Iteration %d\" % i)\r\n    HTML(string=html).write_pdf()\r\n```\r\n\r\nSome previous discussion is in #103 ", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/439", "id": 213200788, "node_id": "MDU6SXNzdWUyMTMyMDA3ODg=", "number": 439, "title": "'weasyprint' is a package and cannot be directly executed", "user": {"login": "1beb", "id": 421859, "node_id": "MDQ6VXNlcjQyMTg1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/421859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1beb", "html_url": "https://github.com/1beb", "followers_url": "https://api.github.com/users/1beb/followers", "following_url": "https://api.github.com/users/1beb/following{/other_user}", "gists_url": "https://api.github.com/users/1beb/gists{/gist_id}", "starred_url": "https://api.github.com/users/1beb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1beb/subscriptions", "organizations_url": "https://api.github.com/users/1beb/orgs", "repos_url": "https://api.github.com/users/1beb/repos", "events_url": "https://api.github.com/users/1beb/events{/privacy}", "received_events_url": "https://api.github.com/users/1beb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-03-09T23:43:19Z", "updated_at": "2017-03-25T20:27:46Z", "closed_at": "2017-03-25T17:39:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting the following error and I'm not sure how to debug any thoughts on where to start? \r\n\r\n```\r\n/usr/bin/python: cannot import name viewkeys; 'weasyprint' is a package and cannot be directly executed\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/428", "id": 206284460, "node_id": "MDU6SXNzdWUyMDYyODQ0NjA=", "number": 428, "title": "Images print fine on Ubuntu, but don't work on Amazon Linux", "user": {"login": "TravisHardman", "id": 104454, "node_id": "MDQ6VXNlcjEwNDQ1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/104454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TravisHardman", "html_url": "https://github.com/TravisHardman", "followers_url": "https://api.github.com/users/TravisHardman/followers", "following_url": "https://api.github.com/users/TravisHardman/following{/other_user}", "gists_url": "https://api.github.com/users/TravisHardman/gists{/gist_id}", "starred_url": "https://api.github.com/users/TravisHardman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TravisHardman/subscriptions", "organizations_url": "https://api.github.com/users/TravisHardman/orgs", "repos_url": "https://api.github.com/users/TravisHardman/repos", "events_url": "https://api.github.com/users/TravisHardman/events{/privacy}", "received_events_url": "https://api.github.com/users/TravisHardman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-02-08T18:31:34Z", "updated_at": "2020-01-07T01:31:06Z", "closed_at": "2018-11-06T20:45:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Weasyprint to generate some PDFs that include jpg, png, and svg graphics. All the images render fine on my Ubuntu developer machine, but then only some of them render on the Amazon Linux machine.\r\n\r\nAt first, I thought the problem may just be with JPEGs so I was encoding all JPEGs in png data urls and rendering that way. But that didn't help. It seems like SVG images work fine. PNG images work fine over HTTP, but not from data urls, and only one out of about 20 JPGs works.\r\n\r\nAll of the various approaches work on the Ubuntu machine.\r\n\r\nThoughts?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/415", "id": 203658723, "node_id": "MDU6SXNzdWUyMDM2NTg3MjM=", "number": 415, "title": "Line-height is not correcly set on Windows when multiple fonts are listed in font-family", "user": {"login": "robert-schaft-hon", "id": 16668999, "node_id": "MDQ6VXNlcjE2NjY4OTk5", "avatar_url": "https://avatars.githubusercontent.com/u/16668999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robert-schaft-hon", "html_url": "https://github.com/robert-schaft-hon", "followers_url": "https://api.github.com/users/robert-schaft-hon/followers", "following_url": "https://api.github.com/users/robert-schaft-hon/following{/other_user}", "gists_url": "https://api.github.com/users/robert-schaft-hon/gists{/gist_id}", "starred_url": "https://api.github.com/users/robert-schaft-hon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robert-schaft-hon/subscriptions", "organizations_url": "https://api.github.com/users/robert-schaft-hon/orgs", "repos_url": "https://api.github.com/users/robert-schaft-hon/repos", "events_url": "https://api.github.com/users/robert-schaft-hon/events{/privacy}", "received_events_url": "https://api.github.com/users/robert-schaft-hon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-27T15:10:17Z", "updated_at": "2017-07-08T19:48:23Z", "closed_at": "2017-07-08T19:48:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed weasyprint 0.34 on windows 64 and ran the acid test.\r\nThe results were close to what is described on http://weasyprint.org/ , But additionally to the explained (and expected) opacity problems, there were some grave positioning problems:\r\n- The topmost bar of the smiley is positioned around a \"smiley-pixel\" too high.\r\n- The smiley has a connected black eyebrow\r\n- below the eyes separates a horizontal bar of around \"0.5 smiley-pixel\" the smiley.\r\n\r\nThe positioning problems are the same with png and pdf.\r\nSo weasyprint 0.34 doesn't pass the acid2 test any more.\r\nTest it yourself: \r\n\r\nC:\\Users\\rs\\Downloads\\weasyprint>weasyprint http://www.webstandards.org/files/acid2/test.html acid-test.png\r\nWARNING: @font-face is currently not supported on Windows\r\nWARNING: Invalid or unsupported selector '[class=second two]', Expected ']', got <IDENT 'two' at 14>\r\nWARNING: Ignored `error: \\}` at 90:74, unknown property.\r\nWARNING: Ignored `m\r\nrgin: 2em` at 93:14, unknown property.\r\nWARNING: Ignored `width: 200` at 95:14, invalid value.\r\nWARNING: Ignored `border: 5em solid red ! error` at 96:14, invalid value.\r\nWARNING: Ignored `background: red pink` at 97:14, invalid value.\r\nWARNING: Parse error at 93:29, unexpected ; token in selector\r\nWARNING: Failed to load image at \"http://www.damowmow.com/404/\" (HTTPError: HTTP Error 403: Forbidden)\r\nWARNING: Failed to load image at \"data:application/x-unknown,ERROR\" (Pixbuf error: Unrecognized image file format)\r\n\r\n![acid-test](https://cloud.githubusercontent.com/assets/16668999/22375589/0ad4beee-e4ab-11e6-8c75-32541d4f51ff.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/409", "id": 199575136, "node_id": "MDU6SXNzdWUxOTk1NzUxMzY=", "number": 409, "title": "UnboundLocalError: local variable 'lower_guess' referenced before assignment", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 7, "created_at": "2017-01-09T15:11:06Z", "updated_at": "2019-01-16T23:09:04Z", "closed_at": "2017-12-04T20:37:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have tried to convert some generated HTML file (the stripped version is\r\n[test.zip](https://github.com/Kozea/WeasyPrint/files/693801/test.zip)) and WeasyPrint 0.34 under Python 3.6.0 on Windows 7 throws the following exception:\r\n\r\n```D:\\Marek\\Projekty\\neklid.devel.py3\\pdf>py -3 -m weasyprint test.htm test.pdf\r\nWARNING: @font-face is currently not supported on Windows\r\nWARNING: Ignored 'box-shadow: 0px 0px 3px #000' at 9:5, unknown property.\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Python36\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\__main__.py\", line 168, in <module>\r\n    main()\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\__main__.py\", line 164, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\__init__.py\", line 180, in write_pdf\r\n    presentational_hints=presentational_hints).write_pdf(\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\__init__.py\", line 143, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\document.py\", line 334, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\document.py\", line 334, in <listcomp>\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\__init__.py\", line 53, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\pages.py\", line 567, in make_all_pages\r\n    page_number)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\pages.py\", line 513, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 42, in block_level_layout\r\n    device_size, page_is_empty, absolute_boxes, fixed_boxes)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 364, in table_layout\r\n    all_groups_layout()\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 351, in all_groups_layout\r\n    skip_stack, position_y, max_position_y, page_is_empty)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 258, in body_groups_layout\r\n    group, position_y, max_position_y, page_is_empty, skip_stack)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 129, in group_layout\r\n    fixed_boxes=fixed_boxes)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 599, in block_container_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\blocks.py\", line 91, in block_box_layout\r\n    context, box, (containing_block.width, containing_block.height))\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 740, in table_wrapper_width\r\n    auto_table_layout(context, wrapper, containing_block)\r\n  File \"D:\\Marek\\Projekty\\neklid.devel.py3\\pdf\\weasyprint\\layout\\tables.py\", line 584, in auto_table_layout\r\n    if upper_guess == lower_guess:\r\nUnboundLocalError: local variable 'lower_guess' referenced before assignment\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/403", "id": 195650110, "node_id": "MDU6SXNzdWUxOTU2NTAxMTA=", "number": 403, "title": "Crashing with TypeError: range() integer end argument expected, got float", "user": {"login": "ndubbaka", "id": 545961, "node_id": "MDQ6VXNlcjU0NTk2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/545961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndubbaka", "html_url": "https://github.com/ndubbaka", "followers_url": "https://api.github.com/users/ndubbaka/followers", "following_url": "https://api.github.com/users/ndubbaka/following{/other_user}", "gists_url": "https://api.github.com/users/ndubbaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndubbaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndubbaka/subscriptions", "organizations_url": "https://api.github.com/users/ndubbaka/orgs", "repos_url": "https://api.github.com/users/ndubbaka/repos", "events_url": "https://api.github.com/users/ndubbaka/events{/privacy}", "received_events_url": "https://api.github.com/users/ndubbaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/4", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/4", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/4/labels", "id": 2182194, "node_id": "MDk6TWlsZXN0b25lMjE4MjE5NA==", "number": 4, "title": "v0.34", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-12-07T17:27:41Z", "updated_at": "2017-06-16T07:31:25Z", "due_on": null, "closed_at": "2017-03-24T21:35:29Z"}, "comments": 4, "created_at": "2016-12-14T21:26:16Z", "updated_at": "2016-12-16T23:44:07Z", "closed_at": "2016-12-16T23:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run this command ```weasyprint https://en.wikipedia.org/wiki/Gravity Gravity.pdf``` I don't get a pdf file & I see the below Traceback\r\n```\r\nWARNING: Ignored `-webkit-column-width: 30em` at 1:26, unknown property.\r\n/usr/local/lib/python2.7/site-packages/cairocffi/surfaces.py:447: UserWarning: implicit cast from 'char *' to a different pointer type: will be forbidden in the future (check that the types are as you expect; use an explicit ffi.cast() if they are correct)\r\n  *keep_alive.closure))\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/__main__.py\", line 164, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 178, in write_pdf\r\n    return self.render(stylesheets, presentational_hints).write_pdf(\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 143, in render\r\n    self, stylesheets, enable_hinting, presentational_hints)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/document.py\", line 334, in _render\r\n    [Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/__init__.py\", line 53, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 567, in make_all_pages\r\n    page_number)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 513, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 70, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 98, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 603, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 65, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 224, in columns_layout\r\n    for i in range(count):\r\nTypeError: range() integer end argument expected, got float.\r\n```", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/403/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/401", "id": 195268317, "node_id": "MDU6SXNzdWUxOTUyNjgzMTc=", "number": 401, "title": "Cannot load library pangocairo-1.0 when trying to get WeasyPrint working on AWS Lambda", "user": {"login": "NoneMan", "id": 24546828, "node_id": "MDQ6VXNlcjI0NTQ2ODI4", "avatar_url": "https://avatars.githubusercontent.com/u/24546828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoneMan", "html_url": "https://github.com/NoneMan", "followers_url": "https://api.github.com/users/NoneMan/followers", "following_url": "https://api.github.com/users/NoneMan/following{/other_user}", "gists_url": "https://api.github.com/users/NoneMan/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoneMan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoneMan/subscriptions", "organizations_url": "https://api.github.com/users/NoneMan/orgs", "repos_url": "https://api.github.com/users/NoneMan/repos", "events_url": "https://api.github.com/users/NoneMan/events{/privacy}", "received_events_url": "https://api.github.com/users/NoneMan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-12-13T14:33:37Z", "updated_at": "2019-07-22T15:41:19Z", "closed_at": "2017-11-19T22:20:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I like WeasyPrint, and I try to get it working on AWS Lambda. To meet the dependencies, I copied **libpango-1.0.so** and **libpangocairo-1.0.so** from Amazon Linux environment, and zipped them with my scirpts. But I got an error message when deploying:\r\n```python\r\nmodule initialization error: cannot load library pangocairo-1.0: pangocairo-1.0: cannot open shared object file: No such file or directory\r\n```\r\nAnd I find this:\r\n```python\r\n#lib/weasyprint/text.py\r\npango = dlopen(ffi, 'pango-1.0', 'libpango-1.0-0', 'libpango-1.0.so',\r\n               'libpango-1.0.dylib')\r\npangocairo = dlopen(ffi, 'pangocairo-1.0', 'libpangocairo-1.0-0',\r\n                    'libpangocairo-1.0.so', 'libpangocairo-1.0.dylib')\r\n```\r\n\r\n- Why it can find **libpango-1.0.so** but cannot find **libpangocairo-1.0.so** ? \r\n- Is there a way to use WeasyPrint on AWS Lambda ?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/398", "id": 193649853, "node_id": "MDU6SXNzdWUxOTM2NDk4NTM=", "number": 398, "title": "Ordered list (<ol>) start attribute not applied", "user": {"login": "aih", "id": 217356, "node_id": "MDQ6VXNlcjIxNzM1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/217356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aih", "html_url": "https://github.com/aih", "followers_url": "https://api.github.com/users/aih/followers", "following_url": "https://api.github.com/users/aih/following{/other_user}", "gists_url": "https://api.github.com/users/aih/gists{/gist_id}", "starred_url": "https://api.github.com/users/aih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aih/subscriptions", "organizations_url": "https://api.github.com/users/aih/orgs", "repos_url": "https://api.github.com/users/aih/repos", "events_url": "https://api.github.com/users/aih/events{/privacy}", "received_events_url": "https://api.github.com/users/aih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-06T00:23:41Z", "updated_at": "2019-12-17T10:11:57Z", "closed_at": "2016-12-06T07:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using weasyprint 0.32, I'm converting a source with this form:\r\n\r\n```\r\n<ol class=\"arabic\" start=\"3\">\r\n    <li>\r\n        <p>The third way to accomplish this is...</p>\r\n    </li>\r\n</ol>\r\n```\r\n\r\nAnd it is being rendered:\r\n\r\n```\r\n1. The third way to accomplish this is...\r\n```\r\n\r\nThe ['start' attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol#Using_the_start_attribute) is not being applied.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/396", "id": 193087143, "node_id": "MDU6SXNzdWUxOTMwODcxNDM=", "number": 396, "title": "OSError: Too many open files", "user": {"login": "sander76", "id": 1688712, "node_id": "MDQ6VXNlcjE2ODg3MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1688712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sander76", "html_url": "https://github.com/sander76", "followers_url": "https://api.github.com/users/sander76/followers", "following_url": "https://api.github.com/users/sander76/following{/other_user}", "gists_url": "https://api.github.com/users/sander76/gists{/gist_id}", "starred_url": "https://api.github.com/users/sander76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sander76/subscriptions", "organizations_url": "https://api.github.com/users/sander76/orgs", "repos_url": "https://api.github.com/users/sander76/repos", "events_url": "https://api.github.com/users/sander76/events{/privacy}", "received_events_url": "https://api.github.com/users/sander76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/4", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/4", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/4/labels", "id": 2182194, "node_id": "MDk6TWlsZXN0b25lMjE4MjE5NA==", "number": 4, "title": "v0.34", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-12-07T17:27:41Z", "updated_at": "2017-06-16T07:31:25Z", "due_on": null, "closed_at": "2017-03-24T21:35:29Z"}, "comments": 9, "created_at": "2016-12-02T10:50:45Z", "updated_at": "2016-12-07T19:57:24Z", "closed_at": "2016-12-07T17:29:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am creating pdf's from a (static) site which is built every night.\r\nBut after some time weasyprints ends with the above OSError.\r\nI have been trying to simplify the issue and have come up with the following python script:\r\n(Running Python 3.5.2, Ubuntu 16.04.1 LTS (GNU/Linux 4.4.0-51-generic x86_64))\r\n\r\n```\r\nfrom weasyprint import HTML\r\nimport logging\r\n\r\nlogging.basicConfig(level=logging.DEBUG)\r\n\r\nURL = \"http://tools.hde.nl/menc/site/guides/Pliss%C3%A9%20%26%20Duette%C2%AE%20Bottom-Up%20programming/\"\r\nOUT = \"/home/admin-s/test.pdf\"\r\n\r\nfor lp in range(0, 300):\r\n    try:\r\n        HTML(URL).write_pdf(OUT)\r\n    except OSError as e:\r\n        logging.exception(\"**************** ERROR AT ATTEMPT: {} *******************\".format(lp))\r\n        break\r\n```\r\n\r\nIn my case the error occurs after approx 60 loops (varies per situation).\r\nStacktrace:\r\n```\r\nERROR:root:**************** ERROR AT ATTEMPT: 63 *******************\r\nTraceback (most recent call last):\r\n  File \"tester.py\", line 11, in <module>\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/__init__.py\", line 178, in write_pdf\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/__init__.py\", line 143, in render\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/document.py\", line 325, in _render\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 712, in get_all_computed_styles\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 162, in find_stylesheets\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/__init__.py\", line 261, in __init__\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 692, in preprocess_stylesheet\r\n  File \"/home/admin-s/envs/weasy/lib/python3.5/site-packages/weasyprint/fonts.py\", line 229, in add_font_face\r\nOSError: [Errno 24] Too many open files: '/tmp/tmp1a03t715'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/394", "id": 191831038, "node_id": "MDU6SXNzdWUxOTE4MzEwMzg=", "number": 394, "title": "Setup using pip broken since CairoSVG dropped Python 2 support", "user": {"login": "KarelJakubec", "id": 2052163, "node_id": "MDQ6VXNlcjIwNTIxNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2052163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KarelJakubec", "html_url": "https://github.com/KarelJakubec", "followers_url": "https://api.github.com/users/KarelJakubec/followers", "following_url": "https://api.github.com/users/KarelJakubec/following{/other_user}", "gists_url": "https://api.github.com/users/KarelJakubec/gists{/gist_id}", "starred_url": "https://api.github.com/users/KarelJakubec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KarelJakubec/subscriptions", "organizations_url": "https://api.github.com/users/KarelJakubec/orgs", "repos_url": "https://api.github.com/users/KarelJakubec/repos", "events_url": "https://api.github.com/users/KarelJakubec/events{/privacy}", "received_events_url": "https://api.github.com/users/KarelJakubec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-11-26T22:50:02Z", "updated_at": "2016-11-27T19:55:07Z", "closed_at": "2016-11-27T19:55:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Kozea,\r\nI am experiencing problems with installing WeasyPrint 0.32 into my python 2.7.12 virtualenv using pip. It is caused by new release of CairoSVG (2.0), which setup fails cause it no longer supports Python 2.\r\n\r\nProblem seems to be in METADATA file which contains dependency on cairosvg >= 1.0.20. This automatically downloads CairoSVG 2.0 and so it fails.\r\n\r\nMetadata-Version: 2.0\r\nName: WeasyPrint\r\nVersion: 0.32\r\nSummary: WeasyPrint converts web documents to PDF.\r\nHome-page: http://weasyprint.org/\r\nAuthor: Simon Sapin\r\nAuthor-email: simon.sapin@kozea.fr\r\nLicense: BSD\r\nPlatform: UNKNOWN\r\nClassifier: Development Status :: 5 - Production/Stable\r\nClassifier: Intended Audience :: Developers\r\nClassifier: License :: OSI Approved :: BSD License\r\nClassifier: Programming Language :: Python :: 2\r\nClassifier: Programming Language :: Python :: 2.7\r\nClassifier: Programming Language :: Python :: 3\r\nClassifier: Programming Language :: Python :: 3.3\r\nClassifier: Programming Language :: Python :: 3.4\r\nClassifier: Programming Language :: Python :: 3.5\r\nClassifier: Topic :: Internet :: WWW/HTTP\r\nClassifier: Topic :: Text Processing :: Markup :: HTML\r\nClassifier: Topic :: Multimedia :: Graphics :: Graphics Conversion\r\nClassifier: Topic :: Printing\r\nRequires-Dist: CairoSVG (>=1.0.20)\r\nRequires-Dist: Pyphen (>=0.8)\r\nRequires-Dist: cairocffi (>=0.5)\r\nRequires-Dist: cffi (>=0.6)\r\nRequires-Dist: cssselect (>=0.6)\r\nRequires-Dist: html5lib (>=0.999999999)\r\nRequires-Dist: lxml (>=3.0)\r\nRequires-Dist: tinycss (>=0.4)\r\n\r\n\r\nI've seen that there is already a patch solving this problem in setup.py, which should limit the CairoSVG version to 1.0.20 but somehow it is not applied in package in PyPI. I would suggest that the package was built in Python 3 environment and so the extra dependency was therefore skipped. However I am not an expert on Python packaging so I am not sure if such a scenario is even possible.\r\n\r\nThe workaround to make things working is to set CairoSVG==1.0.20 in your requirements.txt file (or whenever you store packages your projects) which should effectively freeze it.", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/391", "id": 190516185, "node_id": "MDU6SXNzdWUxOTA1MTYxODU=", "number": 391, "title": "Fatal error with Ubuntu 16.04 LTS", "user": {"login": "sander76", "id": 1688712, "node_id": "MDQ6VXNlcjE2ODg3MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1688712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sander76", "html_url": "https://github.com/sander76", "followers_url": "https://api.github.com/users/sander76/followers", "following_url": "https://api.github.com/users/sander76/following{/other_user}", "gists_url": "https://api.github.com/users/sander76/gists{/gist_id}", "starred_url": "https://api.github.com/users/sander76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sander76/subscriptions", "organizations_url": "https://api.github.com/users/sander76/orgs", "repos_url": "https://api.github.com/users/sander76/repos", "events_url": "https://api.github.com/users/sander76/events{/privacy}", "received_events_url": "https://api.github.com/users/sander76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/3", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3/labels", "id": 2142166, "node_id": "MDk6TWlsZXN0b25lMjE0MjE2Ng==", "number": 3, "title": "v0.33", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-11-17T16:17:47Z", "updated_at": "2016-11-28T20:23:09Z", "due_on": null, "closed_at": "2016-11-28T20:23:09Z"}, "comments": 4, "created_at": "2016-11-19T19:48:22Z", "updated_at": "2016-11-20T12:01:20Z", "closed_at": "2016-11-20T01:39:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "After failing installing a weasyprint on windows I tried my luck with a linux machine (running python 2.7.12). But a test doing:\r\n\r\n```\r\nweasyprint http://weasyprint.org ./weasyprint-website.pdf\r\n```\r\n\r\nresulted in \r\n\r\n```bash\r\nFatal Python error: deallocating None\r\nAborted (core dumped)\r\n```\r\n\r\nanyone an idea how to solve this ?\r\n\r\nUPDATE:\r\nDid the same but now running python 3.5. Got the same error but with more info included:\r\n\r\n```\r\nFatal Python error: deallocating None\r\n\r\nCurrent thread 0x00007fdc8ee42700 (most recent call first):\r\n  File \"/usr/lib/python3.5/logging/__init__.py\", line 1291 in warning\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/fonts.py\", line 205 in add_font_face\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 691 in preprocess_stylesheet\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/__init__.py\", line 261 in __init__\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 637 in preprocess_stylesheet\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/__init__.py\", line 261 in __init__\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 162 in find_stylesheets\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/css/__init__.py\", line 711 in get_all_computed_styles\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/document.py\", line 325 in _render\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/__init__.py\", line 143 in render\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/__init__.py\", line 178 in write_pdf\r\n  File \"/home/sander/wprint/lib/python3.5/site-packages/weasyprint/__main__.py\", line 164 in main\r\n  File \"/home/sander/wprint/bin/weasyprint\", line 11 in <module>\r\nAborted (core dumped)\r\n```\r\n\r\nANOTHER UPDATE:\r\nDid an install of an older version of weasyprint (0.30).\r\nNow generation of a pdf works. Something wrong with the latest version (0.32) ?", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/389", "id": 190061409, "node_id": "MDU6SXNzdWUxOTAwNjE0MDk=", "number": 389, "title": "AssertionError: Got ' /' between two lines. Expected nothing or a preserved line break", "user": {"login": "jstohner", "id": 1950372, "node_id": "MDQ6VXNlcjE5NTAzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1950372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jstohner", "html_url": "https://github.com/jstohner", "followers_url": "https://api.github.com/users/jstohner/followers", "following_url": "https://api.github.com/users/jstohner/following{/other_user}", "gists_url": "https://api.github.com/users/jstohner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jstohner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jstohner/subscriptions", "organizations_url": "https://api.github.com/users/jstohner/orgs", "repos_url": "https://api.github.com/users/jstohner/repos", "events_url": "https://api.github.com/users/jstohner/events{/privacy}", "received_events_url": "https://api.github.com/users/jstohner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/3", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3/labels", "id": 2142166, "node_id": "MDk6TWlsZXN0b25lMjE0MjE2Ng==", "number": 3, "title": "v0.33", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-11-17T16:17:47Z", "updated_at": "2016-11-28T20:23:09Z", "due_on": null, "closed_at": "2016-11-28T20:23:09Z"}, "comments": 1, "created_at": "2016-11-17T14:26:23Z", "updated_at": "2016-11-22T00:17:27Z", "closed_at": "2016-11-22T00:17:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue is similar, to #313, however I hope that I can provide enough information to reproduce the problem.\r\n\r\nI get this error on the following HTML file (had to change the suffix to txt in order to embed in inside this issue):\r\n\r\n[crash-demo.html.txt](https://github.com/Kozea/WeasyPrint/files/597523/crash-demo.html.txt)\r\n\r\nThe crash is dependent on the selected font, i.e. WeasyPrint crashes if the font is DejaVu, but may not crash on other fonts. I am using WeasyPrint 0.31 on a CentOS 6.8 system with the standard DejaVu fonts:\r\n\r\n```\r\nshell$ weasyprint --version\r\nWeasyPrint version 0.31\r\nshell$ cat /etc/redhat-release \r\nCentOS release 6.8 (Final)\r\nshell$ yum list installed | grep -i dejavu\r\ndejavu-fonts-common.noarch          2.33-1.el6                         @base    \r\ndejavu-sans-fonts.noarch            2.33-1.el6                         @base    \r\nshell$\r\n```\r\n\r\nI think the problem is that WeasyPrint it trying to break the line after the `/` and not before it, which should be ok because it is a Unix file path. However I am afraid that this contradicts to \"LB13\" in the Unicode TR14 which is cited in line 716 of `inlines.py`. So you have to decide if it is a bug or a feature... :-)\r\n\r\nHere is the Python 3 traceback:\r\n\r\n```\r\nshell$ weasyprint crash-demo.html crash-demo.html.pdf\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/weasyprint\", line 11, in <module>\r\n    load_entry_point('WeasyPrint==0.31', 'console_scripts', 'weasyprint')()\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/__main__.py\", line 156, in main\r\n    getattr(html, 'write_' + format_)(output, **kwargs)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/__init__.py\", line 167, in write_pdf\r\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/__init__.py\", line 135, in render\r\n    return Document._render(self, stylesheets, enable_hinting)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/document.py\", line 327, in _render\r\n    return cls([Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/document.py\", line 327, in <listcomp>\r\n    return cls([Page(p, enable_hinting) for p in page_boxes],\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/__init__.py\", line 51, in layout_document\r\n    pages = list(make_all_pages(context, root_box))\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/pages.py\", line 562, in make_all_pages\r\n    page_number)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/pages.py\", line 514, in make_page\r\n    positioned_boxes, positioned_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 582, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 582, in block_container_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 69, in block_level_layout\r\n    adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 97, in block_box_layout\r\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/blocks.py\", line 467, in block_container_layout\r\n    for line, resume_at in lines_iterator:\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/inlines.py\", line 48, in iter_line_boxes\r\n    device_size, absolute_boxes, fixed_boxes)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/inlines.py\", line 100, in get_next_linebox\r\n    line_fixed, line_placeholders, waiting_floats)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/inlines.py\", line 595, in split_inline_box\r\n    waiting_floats)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/inlines.py\", line 492, in split_inline_level\r\n    context, box, max_x - position_x, max_x, skip)\r\n  File \"/usr/local/lib/python3.5/site-packages/weasyprint/layout/inlines.py\", line 720, in split_text_box\r\n    'Expected nothing or a preserved line break' % (between,))\r\nAssertionError: Got ' /' between two lines. Expected nothing or a preserved line break\r\nshell$ \r\n```\r\n\r\nThank you for providing WeasyPrint!\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/388", "id": 189777554, "node_id": "MDU6SXNzdWUxODk3Nzc1NTQ=", "number": 388, "title": "Table row containing floats do not float and makes row height incorrect", "user": {"login": "jeffgabhart", "id": 2814, "node_id": "MDQ6VXNlcjI4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffgabhart", "html_url": "https://github.com/jeffgabhart", "followers_url": "https://api.github.com/users/jeffgabhart/followers", "following_url": "https://api.github.com/users/jeffgabhart/following{/other_user}", "gists_url": "https://api.github.com/users/jeffgabhart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffgabhart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffgabhart/subscriptions", "organizations_url": "https://api.github.com/users/jeffgabhart/orgs", "repos_url": "https://api.github.com/users/jeffgabhart/repos", "events_url": "https://api.github.com/users/jeffgabhart/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffgabhart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/3", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/3/labels", "id": 2142166, "node_id": "MDk6TWlsZXN0b25lMjE0MjE2Ng==", "number": 3, "title": "v0.33", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-11-17T16:17:47Z", "updated_at": "2016-11-28T20:23:09Z", "due_on": null, "closed_at": "2016-11-28T20:23:09Z"}, "comments": 3, "created_at": "2016-11-16T17:19:39Z", "updated_at": "2016-11-24T23:38:34Z", "closed_at": "2016-11-24T23:38:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is a simplified example of the html I'm using. The floats inside the table are not respected and there is a lot of extra space between the rows. Maybe 2x the height of the divs when they are stacked. \r\n```\r\n<table>\r\n  <colgroup>\r\n    <col>\r\n  </colgroup>\r\n  <tbody>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left;\">Value 1</div>\r\n        <div style=\"float: left;\">Value 2</div>\r\n        <div style=\"float: left;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left;\">Value 1</div>\r\n        <div style=\"float: left;\">Value 2</div>\r\n        <div style=\"float: left;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left;\">Value 1</div>\r\n        <div style=\"float: left;\">Value 2</div>\r\n        <div style=\"float: left;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n   </tbody>\r\n</table>\r\n```\r\nChrome output:\r\n![image](https://cloud.githubusercontent.com/assets/2814/20357542/00714350-abee-11e6-8fb7-6f8bc623558e.png)\r\nWeasyprint output:\r\n![image](https://cloud.githubusercontent.com/assets/2814/20357577/219b922e-abee-11e6-82a6-96129eb427e2.png)\r\n\r\n\r\nI can get these onto the same line using the following, but again the space between looks like the height of the divs if they were stacked.\r\n\r\n```\r\n<table>\r\n  <colgroup>\r\n    <col>\r\n  </colgroup>\r\n  <tbody>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 8px; width: 120px; margin-right:-120px;\">Value 1</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 142px; width: 120px; margin-right:-120px;\">Value 2</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 277px; width: 184px; margin-right:-184px;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 8px; width: 120px; margin-right:-120px;\">Value 1</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 142px; width: 120px; margin-right:-120px;\">Value 2</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 277px; width: 184px; margin-right:-184px;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 8px; width: 120px; margin-right:-120px;\">Value 1</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 142px; width: 120px; margin-right:-120px;\">Value 2</div>\r\n        <div style=\"float: left; position: relative; top: 0px; left: 277px; width: 184px; margin-right:-184px;\">Value 3</div>\r\n      </td>\r\n    </tr>\r\n   </tbody>\r\n</table>\r\n```\r\nChrome output:\r\n![image](https://cloud.githubusercontent.com/assets/2814/20357615/423192cc-abee-11e6-9978-f50510569fff.png)\r\n\r\nWeasyprint output:\r\n![image](https://cloud.githubusercontent.com/assets/2814/20357601/38e10770-abee-11e6-84b9-856f775a4b6a.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/387", "id": 188610105, "node_id": "MDU6SXNzdWUxODg2MTAxMDU=", "number": 387, "title": "Images in repeated table headers are broken", "user": {"login": "naringas", "id": 566811, "node_id": "MDQ6VXNlcjU2NjgxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/566811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naringas", "html_url": "https://github.com/naringas", "followers_url": "https://api.github.com/users/naringas/followers", "following_url": "https://api.github.com/users/naringas/following{/other_user}", "gists_url": "https://api.github.com/users/naringas/gists{/gist_id}", "starred_url": "https://api.github.com/users/naringas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naringas/subscriptions", "organizations_url": "https://api.github.com/users/naringas/orgs", "repos_url": "https://api.github.com/users/naringas/repos", "events_url": "https://api.github.com/users/naringas/events{/privacy}", "received_events_url": "https://api.github.com/users/naringas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 1, "created_at": "2016-11-10T20:27:16Z", "updated_at": "2019-03-01T14:20:15Z", "closed_at": "2019-03-01T14:18:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a table with a table header (`thead`) which contains images (as icons).\r\nWhenever the whole `table` is longer than one page, the image inside the `thead` on the first page breaks.\r\n\r\npage 1:\r\n<img width=\"197\" alt=\"screen shot 2016-11-10 at 2 19 49 pm\" src=\"https://cloud.githubusercontent.com/assets/566811/20192736/ca8e8d8e-a750-11e6-8718-6a3adc9d1143.png\">\r\n\r\npage 2 (correct):\r\n<img width=\"211\" alt=\"screen shot 2016-11-10 at 2 19 55 pm\" src=\"https://cloud.githubusercontent.com/assets/566811/20192737/ca8fc91a-a750-11e6-9b5d-8827812e0034.png\">\r\n\r\nscreenshots made with the following example (adjusted so it breaks through to a second page)\r\n```\r\n<table>\r\n  <thead>\r\n  <tr>\r\n    <td style=\"border: 1px solid black;\"><img class=\"inline-logo\" src=\"http://pas-bplans.s3.amazonaws.com/styleguide/images/compressedLogoColor.png\"></td>\r\n  </tr>\r\n  </thead>\r\n  <tbody>\r\n   <!-- repeat next line until it's longer than one page -->\r\n   <tr><td>a</td></tr>\r\n  </tbody>\r\n</table>\r\n```\r\n\r\n\r\ntested on mac os X (El capitan) with weasyprint 0.31 \r\nalso tested on git cloned weasyprint", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/382", "id": 186656253, "node_id": "MDU6SXNzdWUxODY2NTYyNTM=", "number": 382, "title": "Table using colgroup and col for widths", "user": {"login": "jeffgabhart", "id": 2814, "node_id": "MDQ6VXNlcjI4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffgabhart", "html_url": "https://github.com/jeffgabhart", "followers_url": "https://api.github.com/users/jeffgabhart/followers", "following_url": "https://api.github.com/users/jeffgabhart/following{/other_user}", "gists_url": "https://api.github.com/users/jeffgabhart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffgabhart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffgabhart/subscriptions", "organizations_url": "https://api.github.com/users/jeffgabhart/orgs", "repos_url": "https://api.github.com/users/jeffgabhart/repos", "events_url": "https://api.github.com/users/jeffgabhart/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffgabhart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/2", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/2", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/2/labels", "id": 1968094, "node_id": "MDk6TWlsZXN0b25lMTk2ODA5NA==", "number": 2, "title": "v0.32", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2016-08-28T14:27:04Z", "updated_at": "2016-11-17T16:09:45Z", "due_on": null, "closed_at": "2016-11-17T16:09:45Z"}, "comments": 3, "created_at": "2016-11-01T21:44:15Z", "updated_at": "2016-11-02T21:26:11Z", "closed_at": "2016-11-01T22:56:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Either a bug or something I am doing wrong.. I'm creating a 100% width table with fixed width columns, and the last column needs to take up the rest of the table width.\r\n\r\nI end up with columns of the same size that run off the right side of the page.\r\n\r\n```\r\n<style>\r\ntable, th, td {\r\n    border: 1px solid black;\r\n    border-collapse: collapse;\r\n}\r\n</style>\r\n<table style=\"width: 100%\">\r\n    <colgroup>\r\n        <col style=\"width: 200px\">\r\n        <col style=\"width: 100px\">\r\n        <col style=\"width: 50px\">\r\n        <col>\r\n    </colgroup>\r\n    <tbody>\r\n        <tr>\r\n            <td>1</td>\r\n            <td>2</td>\r\n            <td>3</td>\r\n            <td>4</td>\r\n        </tr>\r\n        <tr>\r\n            <td>5</td>\r\n            <td>6</td>\r\n            <td>7</td>\r\n            <td>8</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n```\r\n\r\n![report](https://cloud.githubusercontent.com/assets/2814/19908656/4050a328-a052-11e6-91e5-a310bf6b4fe9.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/369", "id": 182286993, "node_id": "MDU6SXNzdWUxODIyODY5OTM=", "number": 369, "title": "Crash on boxes padding", "user": {"login": "lutostag", "id": 962625, "node_id": "MDQ6VXNlcjk2MjYyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/962625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lutostag", "html_url": "https://github.com/lutostag", "followers_url": "https://api.github.com/users/lutostag/followers", "following_url": "https://api.github.com/users/lutostag/following{/other_user}", "gists_url": "https://api.github.com/users/lutostag/gists{/gist_id}", "starred_url": "https://api.github.com/users/lutostag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lutostag/subscriptions", "organizations_url": "https://api.github.com/users/lutostag/orgs", "repos_url": "https://api.github.com/users/lutostag/repos", "events_url": "https://api.github.com/users/lutostag/events{/privacy}", "received_events_url": "https://api.github.com/users/lutostag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-10-11T14:56:31Z", "updated_at": "2016-10-28T10:26:02Z", "closed_at": "2016-10-28T10:26:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ran into this traceback: WeasyPrint==0.31\n\nWill try to get a small sample that does this for you. (seems to only happen when position: fixed, for a header, with relative it does not crash)\n\nHappens when height: auto\n\n```\n  23.     pdf_file = HTML(string=html, base_url=base_url).write_pdf()\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\" in write_pdf\n  167.         return self.render(stylesheets).write_pdf(target, zoom, attachments)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/__init__.py\" in render\n  135.         return Document._render(self, stylesheets, enable_hinting)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\" in _render\n  327.         return cls([Page(p, enable_hinting) for p in page_boxes],\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/document.py\" in <listcomp>\n  327.         return cls([Page(p, enable_hinting) for p in page_boxes],\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/__init__.py\" in layout_document\n  64.         layout_backgrounds(page, get_image_from_uri)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/backgrounds.py\" in layout_backgrounds\n  251.     layout_box_backgrounds(page, page, get_image_from_uri)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/backgrounds.py\" in layout_box_backgrounds\n  59.         layout_box_baon3.5/dist-packages/weasyprint/layout/backgrounds.py\" in layout_box_backgrounds\n  59.         layout_box_backgrounds(page, child, get_image_from_uri)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/backgrounds.py\" in layout_box_backgrounds\n  56.     resolve_radii_percentages(box)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/percentages.py\" in resolve_radii_percentages\n  125.         ry = _percentage(ry, box.border_height())\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/formatting_structure/boxes.py\" in border_height\n  146.         return self.padding_height() + self.border_top_width + \\\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/formatting_structure/boxes.py\" in padding_height\n  137.         return self.height + self.padding_top + self.padding_bottom\n\nException Type: TypeError at /pdf\nException Value: Can't convert 'int' object to str implicitlyckgrounds(page, child, get_image_from_uri)\nFile \"/usr/local/lib/python3.5/dist-packages/weasyprint/layout/backgrounds.py\" in layout_box_backgrounds\n  59.         layout_box_backgrounds(page, child, get_image_from_uri)\nFile \"/usr/local/lib/pyth\n```\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/368", "id": 181450595, "node_id": "MDU6SXNzdWUxODE0NTA1OTU=", "number": 368, "title": "nowrap ignored for table column size", "user": {"login": "jeffgabhart", "id": 2814, "node_id": "MDQ6VXNlcjI4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffgabhart", "html_url": "https://github.com/jeffgabhart", "followers_url": "https://api.github.com/users/jeffgabhart/followers", "following_url": "https://api.github.com/users/jeffgabhart/following{/other_user}", "gists_url": "https://api.github.com/users/jeffgabhart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffgabhart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffgabhart/subscriptions", "organizations_url": "https://api.github.com/users/jeffgabhart/orgs", "repos_url": "https://api.github.com/users/jeffgabhart/repos", "events_url": "https://api.github.com/users/jeffgabhart/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffgabhart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/2", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/2", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/2/labels", "id": 1968094, "node_id": "MDk6TWlsZXN0b25lMTk2ODA5NA==", "number": 2, "title": "v0.32", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2016-08-28T14:27:04Z", "updated_at": "2016-11-17T16:09:45Z", "due_on": null, "closed_at": "2016-11-17T16:09:45Z"}, "comments": 3, "created_at": "2016-10-06T15:37:48Z", "updated_at": "2016-10-27T16:34:02Z", "closed_at": "2016-10-07T13:58:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The nowrap is displaying correctly, but it looks like it's displaying in a column with the size of the wrapped content.\n\n```\nfrom weasyprint import HTML\n\nhtml = '''\n<html>\n<body>\n<h1>Table Test</h1>\n<table style=\"width:100%; border-collapse: collapse\">\n    <tbody>\n        <tr>\n            <td><span style=\"white-space: nowrap\">Label 123</span></td>\n            <td style=\"width: 33%\">Content</td>\n            <td><span style=\"white-space: nowrap\">Label 234</span></td>\n            <td style=\"width: 33%\">Content</td>\n            <td><span style=\"white-space: nowrap\">Label 345</span></td>\n            <td style=\"width: 34%\">Content</td>\n        </tr>\n        <tr>\n            <td><span style=\"white-space: nowrap\">Label</span></td>\n        </tr>\n    </tbody>\n</table>\n</body>\n</html>\n'''\n\ndoc = HTML(string=html).write_png('test.png')\n```\n\n![test](https://cloud.githubusercontent.com/assets/2814/19159092/c5f71694-8bb0-11e6-9a6d-f3e9cc03d6aa.png)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/366", "id": 180999611, "node_id": "MDU6SXNzdWUxODA5OTk2MTE=", "number": 366, "title": "Text with font-family font is not visible", "user": {"login": "z0rr0", "id": 453455, "node_id": "MDQ6VXNlcjQ1MzQ1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/453455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/z0rr0", "html_url": "https://github.com/z0rr0", "followers_url": "https://api.github.com/users/z0rr0/followers", "following_url": "https://api.github.com/users/z0rr0/following{/other_user}", "gists_url": "https://api.github.com/users/z0rr0/gists{/gist_id}", "starred_url": "https://api.github.com/users/z0rr0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/z0rr0/subscriptions", "organizations_url": "https://api.github.com/users/z0rr0/orgs", "repos_url": "https://api.github.com/users/z0rr0/repos", "events_url": "https://api.github.com/users/z0rr0/events{/privacy}", "received_events_url": "https://api.github.com/users/z0rr0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-04T20:43:31Z", "updated_at": "2016-12-29T12:12:38Z", "closed_at": "2016-12-29T12:12:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI have a problem similar to #231 and #292 - installed font is not visible, but it's presented in `fc-list` and `pango-view`. Only regular font is affected, bold and italic texts are readable. The problem has randomly nature and looks like some cache issue. `fc-cache` and application restart temporary help.\n\nDoes anyone have any idea how to fix it?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/365", "id": 179874905, "node_id": "MDU6SXNzdWUxNzk4NzQ5MDU=", "number": 365, "title": "Improve pagination for columns", "user": {"login": "kristjanstrojan", "id": 2378020, "node_id": "MDQ6VXNlcjIzNzgwMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2378020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kristjanstrojan", "html_url": "https://github.com/kristjanstrojan", "followers_url": "https://api.github.com/users/kristjanstrojan/followers", "following_url": "https://api.github.com/users/kristjanstrojan/following{/other_user}", "gists_url": "https://api.github.com/users/kristjanstrojan/gists{/gist_id}", "starred_url": "https://api.github.com/users/kristjanstrojan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kristjanstrojan/subscriptions", "organizations_url": "https://api.github.com/users/kristjanstrojan/orgs", "repos_url": "https://api.github.com/users/kristjanstrojan/repos", "events_url": "https://api.github.com/users/kristjanstrojan/events{/privacy}", "received_events_url": "https://api.github.com/users/kristjanstrojan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-28T20:06:51Z", "updated_at": "2019-07-25T09:46:16Z", "closed_at": "2019-07-25T09:46:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI am generating PDF from HTML string and when I declare in css:\n\n`body {columns: 2}`\n\nI get empty PDF.\n\nAm I missing something here?\n\nBest,\nKristjan\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/360", "id": 178526832, "node_id": "MDU6SXNzdWUxNzg1MjY4MzI=", "number": 360, "title": "Rendering problem of border-radius in Adobe Reader ", "user": {"login": "inuyasha2012", "id": 11623232, "node_id": "MDQ6VXNlcjExNjIzMjMy", "avatar_url": "https://avatars.githubusercontent.com/u/11623232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inuyasha2012", "html_url": "https://github.com/inuyasha2012", "followers_url": "https://api.github.com/users/inuyasha2012/followers", "following_url": "https://api.github.com/users/inuyasha2012/following{/other_user}", "gists_url": "https://api.github.com/users/inuyasha2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/inuyasha2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inuyasha2012/subscriptions", "organizations_url": "https://api.github.com/users/inuyasha2012/orgs", "repos_url": "https://api.github.com/users/inuyasha2012/repos", "events_url": "https://api.github.com/users/inuyasha2012/events{/privacy}", "received_events_url": "https://api.github.com/users/inuyasha2012/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 1, "created_at": "2016-09-22T05:41:06Z", "updated_at": "2017-10-24T20:09:55Z", "closed_at": "2017-10-24T20:09:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I use border-radius, I find a problem\n\nin browser, like firefox, IE, it rendered right\n\nbut in adobe reader, it rendered some strange thin lines\n\ni don't kow why, the pic is below\n\n![p](https://cloud.githubusercontent.com/assets/11623232/18738013/235135d2-80ca-11e6-8d58-c4f6b6fc776c.PNG)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/353", "id": 174777458, "node_id": "MDU6SXNzdWUxNzQ3Nzc0NTg=", "number": 353, "title": "parse() got an unexpected keyword argument 'override_encoding'", "user": {"login": "MaxBear", "id": 1416049, "node_id": "MDQ6VXNlcjE0MTYwNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1416049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaxBear", "html_url": "https://github.com/MaxBear", "followers_url": "https://api.github.com/users/MaxBear/followers", "following_url": "https://api.github.com/users/MaxBear/following{/other_user}", "gists_url": "https://api.github.com/users/MaxBear/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaxBear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaxBear/subscriptions", "organizations_url": "https://api.github.com/users/MaxBear/orgs", "repos_url": "https://api.github.com/users/MaxBear/repos", "events_url": "https://api.github.com/users/MaxBear/events{/privacy}", "received_events_url": "https://api.github.com/users/MaxBear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-09-02T14:48:19Z", "updated_at": "2017-10-04T22:29:04Z", "closed_at": "2016-09-20T11:37:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I follow tutorial and run \nweasyprint http://weasyprint.org /tmp/weasyprint-website.pdf\n\nI got following error: \nTypeError: parse() got an unexpected keyword argument 'override_encoding'\n\nHas anyone else run into the same error ? The version I installed is WeasyPrint-0.31\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/349", "id": 172931542, "node_id": "MDU6SXNzdWUxNzI5MzE1NDI=", "number": 349, "title": "Crash when generating PDF of site with relative font sizing", "user": {"login": "rcarmo", "id": 392683, "node_id": "MDQ6VXNlcjM5MjY4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/392683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcarmo", "html_url": "https://github.com/rcarmo", "followers_url": "https://api.github.com/users/rcarmo/followers", "following_url": "https://api.github.com/users/rcarmo/following{/other_user}", "gists_url": "https://api.github.com/users/rcarmo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcarmo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcarmo/subscriptions", "organizations_url": "https://api.github.com/users/rcarmo/orgs", "repos_url": "https://api.github.com/users/rcarmo/repos", "events_url": "https://api.github.com/users/rcarmo/events{/privacy}", "received_events_url": "https://api.github.com/users/rcarmo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/1", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1/labels", "id": 1947816, "node_id": "MDk6TWlsZXN0b25lMTk0NzgxNg==", "number": 1, "title": "v0.31", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2016-08-17T16:32:27Z", "updated_at": "2016-08-28T14:26:56Z", "due_on": null, "closed_at": "2016-08-28T14:26:56Z"}, "comments": 1, "created_at": "2016-08-24T11:49:56Z", "updated_at": "2016-08-24T13:22:38Z", "closed_at": "2016-08-24T13:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to do:\n\n```\nweasyprint http://taoofmac.com test.pdf\n```\n\nI get:\n\n```\nParse error at 1:19962, unknown at-rule in stylesheet context: @-ms-keyframes\nParse error at 1:20119, unknown at-rule in stylesheet context: @keyframes\nIgnored `columns: 2` at 1:1, unknown property.\nTraceback (most recent call last):\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/bin/weasyprint\", line 11, in <module>\n    sys.exit(main())\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/__main__.py\", line 156, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/__init__.py\", line 167, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/__init__.py\", line 135, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/document.py\", line 315, in _render\n    for css in stylesheets or []])\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 508, in get_all_computed_styles\n    root=element_tree, parent=element.getparent())\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 285, in set_computed_styles\n    element, cascaded, parent_style, pseudo_type, root_style\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 336, in computed_from_cascaded\n    element, pseudo_type, specified, computed, parent_style, root_style\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/computed_values.py\", line 200, in compute\n    value = function(computer, name, value)\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/computed_values.py\", line 417, in font_size\n    font_size=parent_font_size)\n  File \"/Users/rcarmo/.pyenv/versions/2.7.10/lib/python2.7/site-packages/weasyprint/css/computed_values.py\", line 305, in length\n    result = value.value * computer.root_style.font_size\nAttributeError: 'dict' object has no attribute 'font_size'\n```\n\n...which I suppose is due to the site using `rem` instead of `px` or `em` for font sizing.\n\nI've reproduced the above in Mac OS X and Ubuntu Xenial 16.04.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/340", "id": 169372571, "node_id": "MDU6SXNzdWUxNjkzNzI1NzE=", "number": 340, "title": "media_type parameter not working with Bootstrap", "user": {"login": "andrius-senulis", "id": 1100012, "node_id": "MDQ6VXNlcjExMDAwMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1100012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrius-senulis", "html_url": "https://github.com/andrius-senulis", "followers_url": "https://api.github.com/users/andrius-senulis/followers", "following_url": "https://api.github.com/users/andrius-senulis/following{/other_user}", "gists_url": "https://api.github.com/users/andrius-senulis/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrius-senulis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrius-senulis/subscriptions", "organizations_url": "https://api.github.com/users/andrius-senulis/orgs", "repos_url": "https://api.github.com/users/andrius-senulis/repos", "events_url": "https://api.github.com/users/andrius-senulis/events{/privacy}", "received_events_url": "https://api.github.com/users/andrius-senulis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-04T13:20:47Z", "updated_at": "2016-09-09T09:51:39Z", "closed_at": "2016-08-26T13:43:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI'm trying to generate a PDF file using CSS media type \"screen\":\n\n``` python\nHTML(html_filepath, media_type=\"screen\")\n```\n\n... but the WeasyPrint doesn't seem to respect it - I still get Bootstrap's styling for printing.\n\nWhat I want to achieve is the same styling in the PDF as it is on the screen. The way around that I found is to download the customized Bootstrap distribution without print media styles. Then I can generate the PDF file with the default `media_type='print'` and I get the styling as in the screen. However, I don't actually want to remove that from Bootstrap.\n\nAm I using WeasyPrint wrong in this case or it really doesn't work?\n\nCheers,\nAndrius\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/338", "id": 167887042, "node_id": "MDU6SXNzdWUxNjc4ODcwNDI=", "number": 338, "title": "Installation of weasyprint on OS X 10.11.4 Python 2.7.10 is not working", "user": {"login": "prof-schacht", "id": 15263411, "node_id": "MDQ6VXNlcjE1MjYzNDEx", "avatar_url": "https://avatars.githubusercontent.com/u/15263411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prof-schacht", "html_url": "https://github.com/prof-schacht", "followers_url": "https://api.github.com/users/prof-schacht/followers", "following_url": "https://api.github.com/users/prof-schacht/following{/other_user}", "gists_url": "https://api.github.com/users/prof-schacht/gists{/gist_id}", "starred_url": "https://api.github.com/users/prof-schacht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prof-schacht/subscriptions", "organizations_url": "https://api.github.com/users/prof-schacht/orgs", "repos_url": "https://api.github.com/users/prof-schacht/repos", "events_url": "https://api.github.com/users/prof-schacht/events{/privacy}", "received_events_url": "https://api.github.com/users/prof-schacht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-07-27T15:43:12Z", "updated_at": "2017-04-27T18:43:01Z", "closed_at": "2016-08-26T13:44:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Guys,\n\nI followed the installation guide with the following commands:\n`brew install python cairo pango gdk-pixbuf libxml2 libxslt libffi`\n\nNo issues after this command\n\n`sudo pip install weasyprint`\n\nNo issues after this command\n\nBut when I try to import weasyprint in python script or try to call weasyprint --help in terminal I get the following error. \n\n```\n Traceback (most recent call last):\n  File \"/usr/local/bin/weasyprint\", line 7, in <module>\n    from weasyprint.__main__ import main\n  File \"/Library/Python/2.7/site-packages/weasyprint/__init__.py\", line 19, in <module>\n    import html5lib  # nova\n  File \"/Library/Python/2.7/site-packages/html5lib/__init__.py\", line 16, in <module>\n    from .html5parser import HTMLParser, parse, parseFragment\n  File \"/Library/Python/2.7/site-packages/html5lib/html5parser.py\", line 2, in <module>\n    from six import with_metaclass, viewkeys, PY3\nImportError: cannot import name view keys\n```\n\nDid somebody have an idea how to solve this?\n\nBR\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/334", "id": 165800546, "node_id": "MDU6SXNzdWUxNjU4MDA1NDY=", "number": 334, "title": "Newest html5lib 0.999999999 breaks rendering", "user": {"login": "OktarinTentakel", "id": 4561418, "node_id": "MDQ6VXNlcjQ1NjE0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/4561418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OktarinTentakel", "html_url": "https://github.com/OktarinTentakel", "followers_url": "https://api.github.com/users/OktarinTentakel/followers", "following_url": "https://api.github.com/users/OktarinTentakel/following{/other_user}", "gists_url": "https://api.github.com/users/OktarinTentakel/gists{/gist_id}", "starred_url": "https://api.github.com/users/OktarinTentakel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OktarinTentakel/subscriptions", "organizations_url": "https://api.github.com/users/OktarinTentakel/orgs", "repos_url": "https://api.github.com/users/OktarinTentakel/repos", "events_url": "https://api.github.com/users/OktarinTentakel/events{/privacy}", "received_events_url": "https://api.github.com/users/OktarinTentakel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-07-15T14:33:33Z", "updated_at": "2018-01-09T15:21:28Z", "closed_at": "2016-07-15T15:51:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tested on OS X according to install instructions with Python 2.7 and 3.4\n\nEvery rendering exits with:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/wsgiref/handlers.py\", line 85, in run\n    self.result = application(self.environ, self.start_response)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/weasyprint/navigator.py\", line 143, in app\n    return make_response(render_template(url))\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/weasyprint/navigator.py\", line 65, in render_template\n    html = HTML(url)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/weasyprint/__init__.py\", line 92, in __init__\n    namespaceHTMLElements=False)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/html5lib/html5parser.py\", line 35, in parse\n    return p.parse(doc, **kwargs)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/html5lib/html5parser.py\", line 235, in parse\n    self._parse(stream, False, None, *args, **kwargs)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/html5lib/html5parser.py\", line 85, in _parse\n    self.tokenizer = _tokenizer.HTMLTokenizer(stream, parser=self, **kwargs)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/html5lib/_tokenizer.py\", line 36, in __init__\n    self.stream = HTMLInputStream(stream, **kwargs)\n  File \"/Users/aw-sebastianschlapkohl/own-projects/weasyprint-test/venv/lib/python2.7/site-packages/html5lib/_inputstream.py\", line 151, in HTMLInputStream\n    return HTMLBinaryInputStream(source, **kwargs)\nTypeError: __init__() got an unexpected keyword argument 'encoding'\n```\n\nGoing back two versions (seven 9s after the dot oO) fixes this.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334/reactions", "total_count": 4, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 2, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/327", "id": 162122471, "node_id": "MDU6SXNzdWUxNjIxMjI0NzE=", "number": 327, "title": "Weasyprint hanging on image with percentage height style", "user": {"login": "mohag", "id": 1136567, "node_id": "MDQ6VXNlcjExMzY1Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/1136567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohag", "html_url": "https://github.com/mohag", "followers_url": "https://api.github.com/users/mohag/followers", "following_url": "https://api.github.com/users/mohag/following{/other_user}", "gists_url": "https://api.github.com/users/mohag/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohag/subscriptions", "organizations_url": "https://api.github.com/users/mohag/orgs", "repos_url": "https://api.github.com/users/mohag/repos", "events_url": "https://api.github.com/users/mohag/events{/privacy}", "received_events_url": "https://api.github.com/users/mohag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/5", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5/labels", "id": 2410166, "node_id": "MDk6TWlsZXN0b25lMjQxMDE2Ng==", "number": 5, "title": "v0.37", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-03-24T21:35:36Z", "updated_at": "2017-06-15T06:25:54Z", "due_on": null, "closed_at": "2017-06-15T06:25:54Z"}, "comments": 3, "created_at": "2016-06-24T10:48:55Z", "updated_at": "2017-03-25T22:03:54Z", "closed_at": "2017-03-25T22:03:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "This file manages to hang WeasyPrint 0.29 for me when converting to PDF: (Removing the style fixes it)\n\n```\n<!DOCTYPE html>\n<html>\n<head> <title></title> </head>\n<body>\n<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\" style=\"width:30%;height:30%;\" >\n</body>\n</html>\n```\n\nOS: Ubuntu 14.04 LTS\n\npip package listing\n\n```\n# pip list\napt-xapian-index (0.45)\nargparse (1.2.1)\ncairocffi (0.7.2)\nCairoSVG (1.0.22)\ncffi (1.7.0)\nchardet (2.0.1)\ncolorama (0.2.5)\ncssselect (0.9.2)\nCython (0.20.1post0)\nhtml5lib (0.9999999)\nlxml (3.6.0)\npip (1.5.4)\npycparser (2.14)\npycrypto (2.6.1)\nPyphen (0.9.4)\npython-apt (0.9.3.5ubuntu2)\npython-debian (0.1.21-nmu2ubuntu2)\nrequests (2.2.1)\nsetuptools (3.3)\nsix (1.10.0)\nssh-import-id (3.21)\ntinycss (0.3)\nurllib3 (1.7.1)\nWeasyPrint (0.29)\nwheel (0.24.0)\nwsgiref (0.1.2)\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/325", "id": 161029613, "node_id": "MDU6SXNzdWUxNjEwMjk2MTM=", "number": 325, "title": "Cutting lines is broken in page margin boxes", "user": {"login": "Kodiologist", "id": 322730, "node_id": "MDQ6VXNlcjMyMjczMA==", "avatar_url": "https://avatars.githubusercontent.com/u/322730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kodiologist", "html_url": "https://github.com/Kodiologist", "followers_url": "https://api.github.com/users/Kodiologist/followers", "following_url": "https://api.github.com/users/Kodiologist/following{/other_user}", "gists_url": "https://api.github.com/users/Kodiologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kodiologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kodiologist/subscriptions", "organizations_url": "https://api.github.com/users/Kodiologist/orgs", "repos_url": "https://api.github.com/users/Kodiologist/repos", "events_url": "https://api.github.com/users/Kodiologist/events{/privacy}", "received_events_url": "https://api.github.com/users/Kodiologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-06-18T15:29:47Z", "updated_at": "2016-06-25T01:34:57Z", "closed_at": "2016-06-25T01:34:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "With WeasyPrint 0.28, rendering the valid HTML5 document\n\n``` html\n<!DOCTYPE html>\n<html><head><title>foo</title><meta charset=\"utf-8\">\n\n<style type=\"text/css\">\n@page\n   {margin-top: 1in;\n    margin-bottom: 1in;\n    margin-left: .9in;\n    margin-right: .9in;\n    size: 6in 9in;\n    @top-center\n       {content: \"this parrot is dead\";}}\n</style>\n\n</head><body><p>hello world</p></body></html>\n```\n\nmakes a PDF that looks like this:\n\n![Screenshot](http://i.imgur.com/NYS5Cu4.png)\n\nNote the extra line break after the first word of the header. Whatever the header text, the line break seems to still occur after the first word. Different margin and page sizes can make the line break disappear, but it's not obvious to me what the logic is.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/322", "id": 160173471, "node_id": "MDU6SXNzdWUxNjAxNzM0NzE=", "number": 322, "title": "Percent-encoded Unicode in internal links", "user": {"login": "Kodiologist", "id": 322730, "node_id": "MDQ6VXNlcjMyMjczMA==", "avatar_url": "https://avatars.githubusercontent.com/u/322730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kodiologist", "html_url": "https://github.com/Kodiologist", "followers_url": "https://api.github.com/users/Kodiologist/followers", "following_url": "https://api.github.com/users/Kodiologist/following{/other_user}", "gists_url": "https://api.github.com/users/Kodiologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kodiologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kodiologist/subscriptions", "organizations_url": "https://api.github.com/users/Kodiologist/orgs", "repos_url": "https://api.github.com/users/Kodiologist/repos", "events_url": "https://api.github.com/users/Kodiologist/events{/privacy}", "received_events_url": "https://api.github.com/users/Kodiologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/1", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1/labels", "id": 1947816, "node_id": "MDk6TWlsZXN0b25lMTk0NzgxNg==", "number": 1, "title": "v0.31", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2016-08-17T16:32:27Z", "updated_at": "2016-08-28T14:26:56Z", "due_on": null, "closed_at": "2016-08-28T14:26:56Z"}, "comments": 1, "created_at": "2016-06-14T12:51:31Z", "updated_at": "2016-08-17T16:33:19Z", "closed_at": "2016-08-17T16:31:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "With WeasyPrint 0.28, trying to render the valid HTML5 document\n\n``` html\n<!DOCTYPE html><html><head><meta charset=\"UTF-8\"/><title>x</title></head><body>\n\n<p style=\"margin-bottom: 20in\">\nthe\n<a href=\"#x%CF%80\">link</a>\n</p>\n\n<p id=\"x\u03c0\">the target</p>\n\n</body></html>\n```\n\ncauses a fatal error while WeasyPrint is trying to print a warning:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/weasyprint\", line 9, in <module>\n    load_entry_point('WeasyPrint==0.28', 'console_scripts', 'weasyprint')()\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__main__.py\", line 156, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 165, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/document.py\", line 492, in write_pdf\n    self.url_fetcher)\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/pdf.py\", line 597, in write_pdf_metadata\n    document, bookmark_root_id, scale)\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/pdf.py\", line 336, in prepare_metadata\n    for page_links, matrix in izip(document.resolve_links(), matrices):\n  File \"/usr/local/lib/python2.7/dist-packages/weasyprint/document.py\", line 398, in resolve_links\n    'at line %s' % (anchor_name, link.sourceline))\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcf in position 1: ordinal not in range(128\n```\n\nThe warning is that no target was found for the link, so I think there are two separate bugs here:\n1. WeasyPrint can't find the target of a percent-encoded link.\n2. WeasyPrint crashes when trying to include Unicode in a warning.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/320", "id": 158401560, "node_id": "MDU6SXNzdWUxNTg0MDE1NjA=", "number": 320, "title": "Html text disappears from pdf", "user": {"login": "GeyseR", "id": 1364479, "node_id": "MDQ6VXNlcjEzNjQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1364479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeyseR", "html_url": "https://github.com/GeyseR", "followers_url": "https://api.github.com/users/GeyseR/followers", "following_url": "https://api.github.com/users/GeyseR/following{/other_user}", "gists_url": "https://api.github.com/users/GeyseR/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeyseR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeyseR/subscriptions", "organizations_url": "https://api.github.com/users/GeyseR/orgs", "repos_url": "https://api.github.com/users/GeyseR/repos", "events_url": "https://api.github.com/users/GeyseR/events{/privacy}", "received_events_url": "https://api.github.com/users/GeyseR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-06-03T16:07:50Z", "updated_at": "2016-06-24T11:04:19Z", "closed_at": "2016-06-24T11:04:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there!\n\nI hope someone can help with weird weasyprint behaviour, what i have found.\nI want to convert next html document to pdf:\n\n``` html\n<!DOCTYPE html>\n<html>\n  <head>\n    <style>\n      @page {\n        size: A4 portrait;\n        margin: 0;\n        border: 8.5mm #222b67 solid;\n      }\n      .working {\n        border: 1px solid green;\n      }\n      .broken {\n        border: 1px solid red;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"working\">\n      Some example text Some example text Some example text Some example tex\n    </div>\n    <div class=\"broken\">\n      Some example text Some example text Some example text Some example text Some example text\n    </div>\n    <div class=\"broken\">\n      Some example text Some example text Some example text Some example text Some\n    </div>\n  </body>\n</html>\n```\n\nBut inside result pdf text in broken divs just disappeared.\n<img width=\"824\" alt=\"broken-pdf\" src=\"https://cloud.githubusercontent.com/assets/1364479/15785113/4ca90d3c-29be-11e6-9de1-b43754200488.png\">\n\nWhat i'm doing wrong? Can it be related to some internal bug in weasyprint or in dependencies?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/315", "id": 155064474, "node_id": "MDU6SXNzdWUxNTUwNjQ0NzQ=", "number": 315, "title": "Problem rendering images with CMYK colorspace", "user": {"login": "garnieretienne", "id": 223963, "node_id": "MDQ6VXNlcjIyMzk2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/223963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnieretienne", "html_url": "https://github.com/garnieretienne", "followers_url": "https://api.github.com/users/garnieretienne/followers", "following_url": "https://api.github.com/users/garnieretienne/following{/other_user}", "gists_url": "https://api.github.com/users/garnieretienne/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnieretienne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnieretienne/subscriptions", "organizations_url": "https://api.github.com/users/garnieretienne/orgs", "repos_url": "https://api.github.com/users/garnieretienne/repos", "events_url": "https://api.github.com/users/garnieretienne/events{/privacy}", "received_events_url": "https://api.github.com/users/garnieretienne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-16T16:16:52Z", "updated_at": "2017-10-19T08:16:55Z", "closed_at": "2017-10-19T08:16:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\n\nWhen using images with the CMYK colorspace, the color are changed (like a dark background).\n\nSample image (from google image):\n\n![Sample CMYK](http://towerofbabel.free.fr/test/SLW_LOGO_CMYK.jpg)\n\nSample HTML:\n\n``` html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Test CMYK</title>\n    <style>\n      @page {\n        size: 6in 9in;\n        margin: 0;\n      }\n\n      .image {\n        max-width: 100%;\n        max-height: 100%;\n      }\n    </style>\n  </head>\n  <body>\n    <img class=\"image\" src=\"http://towerofbabel.free.fr/test/SLW_LOGO_CMYK.jpg\" alt=\"CMYK Test Image\" />\n  </body>\n</html>\n```\n\nSample command:\n\n`weasyprint test.html test.pdf`\n\nResult: \n\n![html_pdf](https://cloud.githubusercontent.com/assets/223963/15295695/ff5f0f52-1b91-11e6-86d1-bdaa58f1d157.jpg)\n\nSystem:\n\nUbuntu 14.04 / WeasyPrint version 0.27\nEdit: Ubuntu 16.04 / Weasyprint version 0.28 affected too\n\nAnyone having this problem too?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/314", "id": 154989007, "node_id": "MDU6SXNzdWUxNTQ5ODkwMDc=", "number": 314, "title": "WeasyPrint pdf not displaying characters just display a box per characters on Linux Centos ", "user": {"login": "Hollows76", "id": 19385604, "node_id": "MDQ6VXNlcjE5Mzg1NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/19385604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hollows76", "html_url": "https://github.com/Hollows76", "followers_url": "https://api.github.com/users/Hollows76/followers", "following_url": "https://api.github.com/users/Hollows76/following{/other_user}", "gists_url": "https://api.github.com/users/Hollows76/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hollows76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hollows76/subscriptions", "organizations_url": "https://api.github.com/users/Hollows76/orgs", "repos_url": "https://api.github.com/users/Hollows76/repos", "events_url": "https://api.github.com/users/Hollows76/events{/privacy}", "received_events_url": "https://api.github.com/users/Hollows76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2016-05-16T09:05:21Z", "updated_at": "2020-04-13T06:50:42Z", "closed_at": "2016-05-18T17:24:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Initially WeasyPrint failed to install on Linux Centos but this was resolved by installing python-devel and libffi-devel via the following command:\n\n`sudo yum install python-devel libffi-devel`\n\nNow WeasyPrint pdf will not display characters in the output PDF from simple html input.\n\nThe PDF written  just displays a box per character.\n\nI even tried this with a very simple html input like <p>Test</p> and I still get the same boxes and no characters.\n\nAny thoughts?\n\nChris\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/313", "id": 152503217, "node_id": "MDU6SXNzdWUxNTI1MDMyMTc=", "number": 313, "title": "AssertionError: Got 'Counter-' between two lines. Expected nothing or a preserved line break", "user": {"login": "robinschoss", "id": 5612016, "node_id": "MDQ6VXNlcjU2MTIwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5612016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinschoss", "html_url": "https://github.com/robinschoss", "followers_url": "https://api.github.com/users/robinschoss/followers", "following_url": "https://api.github.com/users/robinschoss/following{/other_user}", "gists_url": "https://api.github.com/users/robinschoss/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinschoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinschoss/subscriptions", "organizations_url": "https://api.github.com/users/robinschoss/orgs", "repos_url": "https://api.github.com/users/robinschoss/repos", "events_url": "https://api.github.com/users/robinschoss/events{/privacy}", "received_events_url": "https://api.github.com/users/robinschoss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-02T08:26:31Z", "updated_at": "2016-11-22T00:31:54Z", "closed_at": "2016-11-22T00:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "On my production server, I get the above error in this context:\n\n> Got 'Counter-' between two lines. Expected nothing or a preserved line break\n> site-packages/uwsgidecorators.py in manage_spool_request at line 60\n> \n> ret = f(vars) \n> file = HTML(string=string).write_pdf()\n\nI can NOT reproduce this on the same setup locally, despite the OS, packages, and even database being identical. Any ideas where to start debugging this?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/307", "id": 145156750, "node_id": "MDU6SXNzdWUxNDUxNTY3NTA=", "number": 307, "title": "local variable 'lower_guess' referenced before assignment", "user": {"login": "jgelens", "id": 2479, "node_id": "MDQ6VXNlcjI0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/2479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgelens", "html_url": "https://github.com/jgelens", "followers_url": "https://api.github.com/users/jgelens/followers", "following_url": "https://api.github.com/users/jgelens/following{/other_user}", "gists_url": "https://api.github.com/users/jgelens/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgelens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgelens/subscriptions", "organizations_url": "https://api.github.com/users/jgelens/orgs", "repos_url": "https://api.github.com/users/jgelens/repos", "events_url": "https://api.github.com/users/jgelens/events{/privacy}", "received_events_url": "https://api.github.com/users/jgelens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-04-01T11:37:39Z", "updated_at": "2016-04-08T11:17:06Z", "closed_at": "2016-04-01T17:34:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following error occured using 0.26. Version 0.25 was working fine.\n\n```\nFile \"python2.7/site-packages/weasyprint/layout/tables.py\", line 582, in auto_table_layout\n    if upper_guess == lower_guess:\nUnboundLocalError: local variable 'lower_guess' referenced before assignment\n\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/305", "id": 140725376, "node_id": "MDU6SXNzdWUxNDA3MjUzNzY=", "number": 305, "title": "OverflowError: cannot convert float infinity to integer", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-03-14T16:29:14Z", "updated_at": "2016-04-11T23:10:27Z", "closed_at": "2016-04-11T22:57:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Example:\n\n``` html\n<table>\n  <tr>\n    <td>\n      <table>\n        <tr>\n          <th>Test</th>\n        </tr>\n        <tr>\n          <td style=\"min-width: 100%;\"></td>\n          <td style=\"width: 48px;\"></td>\n        </tr>\n      </table>\n    </td>\n  </tr>\n</table>\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/303", "id": 140532791, "node_id": "MDExOlB1bGxSZXF1ZXN0NjI2ODQ2NTk=", "number": 303, "title": "Fixed error of MAX_WIDTH IS NAN.", "user": {"login": "elenberg", "id": 6035725, "node_id": "MDQ6VXNlcjYwMzU3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6035725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elenberg", "html_url": "https://github.com/elenberg", "followers_url": "https://api.github.com/users/elenberg/followers", "following_url": "https://api.github.com/users/elenberg/following{/other_user}", "gists_url": "https://api.github.com/users/elenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/elenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elenberg/subscriptions", "organizations_url": "https://api.github.com/users/elenberg/orgs", "repos_url": "https://api.github.com/users/elenberg/repos", "events_url": "https://api.github.com/users/elenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/elenberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-03-13T21:48:26Z", "updated_at": "2016-04-18T21:54:16Z", "closed_at": "2016-04-18T21:54:15Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/303", "html_url": "https://github.com/Kozea/WeasyPrint/pull/303", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/303.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/303.patch", "merged_at": null}, "body": "Found an error where if the max_width is set to a non-numerical value it causes the program to crash. This fixes that error. \n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/303/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/292", "id": 126603000, "node_id": "MDU6SXNzdWUxMjY2MDMwMDA=", "number": 292, "title": "font-family works in pango-view doesn't work from weasyprint", "user": {"login": "BodhiSukha", "id": 4272281, "node_id": "MDQ6VXNlcjQyNzIyODE=", "avatar_url": "https://avatars.githubusercontent.com/u/4272281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BodhiSukha", "html_url": "https://github.com/BodhiSukha", "followers_url": "https://api.github.com/users/BodhiSukha/followers", "following_url": "https://api.github.com/users/BodhiSukha/following{/other_user}", "gists_url": "https://api.github.com/users/BodhiSukha/gists{/gist_id}", "starred_url": "https://api.github.com/users/BodhiSukha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BodhiSukha/subscriptions", "organizations_url": "https://api.github.com/users/BodhiSukha/orgs", "repos_url": "https://api.github.com/users/BodhiSukha/repos", "events_url": "https://api.github.com/users/BodhiSukha/events{/privacy}", "received_events_url": "https://api.github.com/users/BodhiSukha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-14T08:16:28Z", "updated_at": "2016-01-15T01:19:34Z", "closed_at": "2016-01-15T01:19:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm experiencing a similar problem to #231. When I test like this `pango-view --no-display --output out.png --text '0123456789 - @ The lazy fox something something' --font 'Neuton'` it produces image with correct font, however when I use weasyprint render (via django) it some how can't find the fonts and falls back to some default font. And I tried many different name combinations ('Neutron', Neutron-Regular etc.)\n\nWhat is right approach to debug this? Is there a way to, for example from pyhon shell, to check/list which fonts are available for weasyprint font-family (and I read it's passed directly to pango, so in other words available to pango)? \n\nThanks,\n\nUsing OSX (dev) and Ubuntu (prod) \n- WeasyPrint (0.23)\n- cairocffi (0.5.4)\n- cffi (0.8.6)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/289", "id": 124914379, "node_id": "MDU6SXNzdWUxMjQ5MTQzNzk=", "number": 289, "title": "counter-increment in '@page'? ", "user": {"login": "xuhdev", "id": 325476, "node_id": "MDQ6VXNlcjMyNTQ3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/325476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuhdev", "html_url": "https://github.com/xuhdev", "followers_url": "https://api.github.com/users/xuhdev/followers", "following_url": "https://api.github.com/users/xuhdev/following{/other_user}", "gists_url": "https://api.github.com/users/xuhdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuhdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuhdev/subscriptions", "organizations_url": "https://api.github.com/users/xuhdev/orgs", "repos_url": "https://api.github.com/users/xuhdev/repos", "events_url": "https://api.github.com/users/xuhdev/events{/privacy}", "received_events_url": "https://api.github.com/users/xuhdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/10", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/10/labels", "id": 3016712, "node_id": "MDk6TWlsZXN0b25lMzAxNjcxMg==", "number": 10, "title": "43", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2018-01-06T17:09:32Z", "updated_at": "2019-01-16T22:40:56Z", "due_on": null, "closed_at": "2018-11-12T09:37:46Z"}, "comments": 13, "created_at": "2016-01-05T07:50:26Z", "updated_at": "2018-05-24T16:25:49Z", "closed_at": "2018-05-24T15:59:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that `counter-increment` does not work in `@page` currently (increase 1 for each page). It would be a nice feature to implement, can even work as a workaround for #93 at this point. Plus, it is useful to maintain multiple counters.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289/reactions", "total_count": 6, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/288", "id": 124043697, "node_id": "MDU6SXNzdWUxMjQwNDM2OTc=", "number": 288, "title": "Unwanted line-breaks in bold text", "user": {"login": "zopyx", "id": 594239, "node_id": "MDQ6VXNlcjU5NDIzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/594239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zopyx", "html_url": "https://github.com/zopyx", "followers_url": "https://api.github.com/users/zopyx/followers", "following_url": "https://api.github.com/users/zopyx/following{/other_user}", "gists_url": "https://api.github.com/users/zopyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zopyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zopyx/subscriptions", "organizations_url": "https://api.github.com/users/zopyx/orgs", "repos_url": "https://api.github.com/users/zopyx/repos", "events_url": "https://api.github.com/users/zopyx/events{/privacy}", "received_events_url": "https://api.github.com/users/zopyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-12-28T09:49:04Z", "updated_at": "2016-01-01T19:53:10Z", "closed_at": "2016-01-01T18:37:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "See the attached PDF/screenshot. There is an unwanted line break in the last row of table - likely to the fact that the text is marked as span.bold. \n\n![screenshot 2015-12-28 10 47 50](https://cloud.githubusercontent.com/assets/594239/12016867/7acf0b48-ad50-11e5-9058-50411424d3e1.png)\n\n[xx.zip](https://github.com/Kozea/WeasyPrint/files/73085/xx.zip)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/286", "id": 123988272, "node_id": "MDU6SXNzdWUxMjM5ODgyNzI=", "number": 286, "title": "AttributeError: 'Namespace' object has no attribute 'attachments'", "user": {"login": "zopyx", "id": 594239, "node_id": "MDQ6VXNlcjU5NDIzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/594239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zopyx", "html_url": "https://github.com/zopyx", "followers_url": "https://api.github.com/users/zopyx/followers", "following_url": "https://api.github.com/users/zopyx/following{/other_user}", "gists_url": "https://api.github.com/users/zopyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zopyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zopyx/subscriptions", "organizations_url": "https://api.github.com/users/zopyx/orgs", "repos_url": "https://api.github.com/users/zopyx/repos", "events_url": "https://api.github.com/users/zopyx/events{/privacy}", "received_events_url": "https://api.github.com/users/zopyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-12-27T17:17:29Z", "updated_at": "2015-12-31T12:30:31Z", "closed_at": "2015-12-27T20:38:38Z", "author_association": "NONE", "active_lock_reason": null, "body": " bin/weasyprint  -a test.svg  index.html index.pdf\nTraceback (most recent call last):\n  File \"bin/weasyprint\", line 9, in <module>\n    load_entry_point('WeasyPrint==0.25', 'console_scripts', 'weasyprint')()\n  File \"/Users/ajung/src/enbit/lib/python3.4/site-packages/weasyprint/**main**.py\", line 150, in main\n    kwargs['attachments'] = args.attachments\nAttributeError: 'Namespace' object has no attribute 'attachments'\n\nHow about quality control and unit tests?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/285", "id": 122539117, "node_id": "MDU6SXNzdWUxMjI1MzkxMTc=", "number": 285, "title": "UnicodeDecodeError when running html.write_pdf()", "user": {"login": "acouette", "id": 2664094, "node_id": "MDQ6VXNlcjI2NjQwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2664094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acouette", "html_url": "https://github.com/acouette", "followers_url": "https://api.github.com/users/acouette/followers", "following_url": "https://api.github.com/users/acouette/following{/other_user}", "gists_url": "https://api.github.com/users/acouette/gists{/gist_id}", "starred_url": "https://api.github.com/users/acouette/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acouette/subscriptions", "organizations_url": "https://api.github.com/users/acouette/orgs", "repos_url": "https://api.github.com/users/acouette/repos", "events_url": "https://api.github.com/users/acouette/events{/privacy}", "received_events_url": "https://api.github.com/users/acouette/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-12-16T16:03:40Z", "updated_at": "2015-12-16T21:31:38Z", "closed_at": "2015-12-16T18:05:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello and thank you for the tool.\n\nWe are running validation tests on different sets of data. \nWith one specific HTML : [input.txt](https://github.com/Kozea/WeasyPrint/files/64207/input.txt)\nThe PDF generation fails with the following error : \n\n```\nERROR:root:'utf-8' codec can't decode byte 0xc2 in position 1: unexpected end of data\nTraceback (most recent call last):\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/PdfServer-0.1-py3.3.egg/fluidtopics/app.py\", line 16, in generate_pdf\n    return render_pdf(html, stylesheets=[CSS(file_obj=resource_stream(__name__, 'pdf-base-styles.css'))])\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/PdfServer-0.1-py3.3.egg/fluidtopics/app.py\", line 22, in render_pdf\n    pdf = html.write_pdf(stylesheets=stylesheets)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/__init__.py\", line 164, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/document.py\", line 322, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/document.py\", line 322, in <listcomp>\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/__init__.py\", line 51, in layout_document\n    pages = list(make_all_pages(context, root_box))\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/pages.py\", line 553, in make_all_pages\n    page_number)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/pages.py\", line 505, in make_page\n    positioned_boxes, positioned_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/blocks.py\", line 321, in block_container_layout\n    for line, resume_at in lines_iterator:\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 48, in iter_line_boxes\n    device_size, absolute_boxes, fixed_boxes)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 100, in get_next_linebox\n    line_fixed, line_placeholders, waiting_floats)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 605, in split_inline_box\n    waiting_floats)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 516, in split_inline_level\n    waiting_floats)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 605, in split_inline_box\n    waiting_floats)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 502, in split_inline_level\n    context, box, max_x - position_x, max_x, skip)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/layout/inlines.py\", line 685, in split_text_box\n    text, box.style, context.enable_hinting, available_width, line_width)\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/text.py\", line 563, in split_first_line\n    first_part = utf8_slice(text, slice(temp_second_line_index))\n  File \"/usr/local/afs7/contrib/v7.7/python/3.3/lib/python3.3/site-packages/weasyprint/text.py\", line 249, in utf8_slice\n    return string.encode('utf-8')[slice_].decode('utf-8')\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc2 in position 1: unexpected end of data\n```\n\nApparently, string.encode('utf-8')[slice_] slices an utf-8 character in half.\n\nThis issue has also been raised on stackoverflow : http://stackoverflow.com/questions/32097104/unicode-decode-error-for-weasyprint\n\nAlso, \"it works on my machine\" (osx), but not in QA env (debian)\n\nAny idea ?\n\nThanks\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/284", "id": 121923633, "node_id": "MDU6SXNzdWUxMjE5MjM2MzM=", "number": 284, "title": "closing bracket in URI should be escaped", "user": {"login": "nbeisert", "id": 2470595, "node_id": "MDQ6VXNlcjI0NzA1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2470595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbeisert", "html_url": "https://github.com/nbeisert", "followers_url": "https://api.github.com/users/nbeisert/followers", "following_url": "https://api.github.com/users/nbeisert/following{/other_user}", "gists_url": "https://api.github.com/users/nbeisert/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbeisert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbeisert/subscriptions", "organizations_url": "https://api.github.com/users/nbeisert/orgs", "repos_url": "https://api.github.com/users/nbeisert/repos", "events_url": "https://api.github.com/users/nbeisert/events{/privacy}", "received_events_url": "https://api.github.com/users/nbeisert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-12-13T14:50:39Z", "updated_at": "2015-12-16T16:17:31Z", "closed_at": "2015-12-16T16:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "An html link `<a>` whose `href` contains a closing bracket `)` leads to a PDF with a slightly corrupted structure because the bracket is not escaped as `\\)` in the PDF element. In practice the link is terminated at the bracket (and the following text might get interpreted as further PDF elements)\n\nExample:\n\n``` html\n<html><head><title>test</title></head>\n<body>\n<a href=\"http://test/closing)bracket\">link</a>\n</body>\n</html>\n```\n\nThis is translated to a PDF with the element `/URI (http://test/closing)bracket)` which should rather be `/URI (http://test/closing\\)bracket)`. \nChecking the integrity of the PDF leads to a warning/error, e.g.: `qpdf --check test.pdf` outputs:\n\n```\ntest.pdf (file position 4990): unknown token while reading object (bracket)\n```\n\nTried with version 0.23 and present version on github.\n\nPotentially, some other characters are affected as well? E.g., the backslash `\\` itself is converted to `%5C`.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/278", "id": 116263456, "node_id": "MDU6SXNzdWUxMTYyNjM0NTY=", "number": 278, "title": "SVG getting mangled when I export to pdf", "user": {"login": "kennedydane", "id": 8559534, "node_id": "MDQ6VXNlcjg1NTk1MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8559534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennedydane", "html_url": "https://github.com/kennedydane", "followers_url": "https://api.github.com/users/kennedydane/followers", "following_url": "https://api.github.com/users/kennedydane/following{/other_user}", "gists_url": "https://api.github.com/users/kennedydane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennedydane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennedydane/subscriptions", "organizations_url": "https://api.github.com/users/kennedydane/orgs", "repos_url": "https://api.github.com/users/kennedydane/repos", "events_url": "https://api.github.com/users/kennedydane/events{/privacy}", "received_events_url": "https://api.github.com/users/kennedydane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-11-11T04:38:47Z", "updated_at": "2017-10-05T11:08:47Z", "closed_at": "2016-04-16T10:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Simon,\n\nI've put my test case [here](https://github.com/kennedydane/IssueWithWeasy). Essentially the html output is from a jinja2 script and the svg is from ggplot (python's one, not R). I can't imagine why it would make a difference, and it didn't, but I used weasyprint in both CLI and in python. The pdf is just fine if I export my image to png (except the png is uglier and bigger).\n\nThanks for any help you can give,\nDane.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/263", "id": 99559288, "node_id": "MDU6SXNzdWU5OTU1OTI4OA==", "number": 263, "title": "Crash with floats with percents in positions", "user": {"login": "humphrey", "id": 229874, "node_id": "MDQ6VXNlcjIyOTg3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/229874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/humphrey", "html_url": "https://github.com/humphrey", "followers_url": "https://api.github.com/users/humphrey/followers", "following_url": "https://api.github.com/users/humphrey/following{/other_user}", "gists_url": "https://api.github.com/users/humphrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/humphrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/humphrey/subscriptions", "organizations_url": "https://api.github.com/users/humphrey/orgs", "repos_url": "https://api.github.com/users/humphrey/repos", "events_url": "https://api.github.com/users/humphrey/events{/privacy}", "received_events_url": "https://api.github.com/users/humphrey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-08-07T01:49:18Z", "updated_at": "2016-05-16T12:58:28Z", "closed_at": "2016-05-16T12:57:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "From the command:\n\n```\nweasyprint http://getbootstrap.com/components/ ./bs.pdf\n```\n\nIf I run `pip freeze` my enviroment is:\n\n```\nBeautifulSoup==3.2.1\nbeautifulsoup4==4.4.0\nboto==2.38.0\ncairocffi==0.7.2\nCairoSVG==1.0.16\ncffi==1.1.2\ncouchbase==2.0.3\ncssselect==0.9.1\ncssutils==1.0\nDjango==1.7.9\ndjango-appconf==1.0.1\ndjango-debug-toolbar==1.3.2\ndjango-email-login==0.2.3\ndjango-imagekit==2.0.4\ndjango-impersonate==0.9.1\ndjango-localflavor==1.1\ndjango-pipeline==1.3.16\ndjango-simple-history==1.6.3\ndjango-social-auth==0.7.28\ndjango-taggit==0.16.2\nfactory-boy==2.5.2\nfutures==3.0.3\nhtml5lib==0.999999\nhttplib2==0.9.1\ninlinestyler==0.2.1\nlxml==3.4.4\noauth2==1.5.211\nPillow==2.9.0\npsycopg2==2.6.1\npycparser==2.14\nPyPDF2==1.25.1\nPyphen==0.9.1\npython-memcached==1.57\npython-openid==2.2.5\nrequests==2.7.0\nsimplejson==3.8.0\nsix==1.9.0\nsqlparse==0.1.16\ntinycss==0.3\ntornado==2.4\nWeasyPrint==0.24\nwheel==0.24.0\n```\n\nAnd here is the exception:\n\n```\nException while render\nTraceback (most recent call last):\n  File \"/Users/humphrey/Django/songlib/venv/bin/weasyprint\", line 11, in <module>\n    sys.exit(main())\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/__main__.py\", line 156, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/__init__.py\", line 164, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/document.py\", line 322, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/__init__.py\", line 51, in layout_document\n    pages = list(make_all_pages(context, root_box))\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 553, in make_all_pages\n    page_number)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/pages.py\", line 505, in make_page\n    positioned_boxes, positioned_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/blocks.py\", line 284, in block_container_layout\n    context, child, box, absolute_boxes, fixed_boxes)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/float.py\", line 37, in float_layout\n    box, (containing_block.width, containing_block.height))\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/percentages.py\", line 52, in resolve_position_percentages\n    resolve_one_percentage(box, 'top', cb_height)\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/percentages.py\", line 45, in resolve_one_percentage\n    setattr(box, property_name, _percentage(value, refer_to))\n  File \"/Users/humphrey/Django/songlib/venv/lib/python2.7/site-packages/weasyprint/layout/percentages.py\", line 31, in _percentage\n    result = value.value * refer_to / 100.\nTypeError: unsupported operand type(s) for /: 'unicode' and 'float'\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/261", "id": 97737345, "node_id": "MDU6SXNzdWU5NzczNzM0NQ==", "number": 261, "title": "Under Windows pathname2url.pathname2url raises \"TypeError: 'str' does not support the buffer interface\"", "user": {"login": "marangonico", "id": 3797790, "node_id": "MDQ6VXNlcjM3OTc3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3797790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marangonico", "html_url": "https://github.com/marangonico", "followers_url": "https://api.github.com/users/marangonico/followers", "following_url": "https://api.github.com/users/marangonico/following{/other_user}", "gists_url": "https://api.github.com/users/marangonico/gists{/gist_id}", "starred_url": "https://api.github.com/users/marangonico/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marangonico/subscriptions", "organizations_url": "https://api.github.com/users/marangonico/orgs", "repos_url": "https://api.github.com/users/marangonico/repos", "events_url": "https://api.github.com/users/marangonico/events{/privacy}", "received_events_url": "https://api.github.com/users/marangonico/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/1", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/1/labels", "id": 1947816, "node_id": "MDk6TWlsZXN0b25lMTk0NzgxNg==", "number": 1, "title": "v0.31", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2016-08-17T16:32:27Z", "updated_at": "2016-08-28T14:26:56Z", "due_on": null, "closed_at": "2016-08-28T14:26:56Z"}, "comments": 7, "created_at": "2015-07-28T15:37:16Z", "updated_at": "2018-08-31T08:24:00Z", "closed_at": "2016-08-17T14:52:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under Windows, the function path2url defined in urls.py encodes the path using 'mbcs'\n\n```\nif isinstance(path, unicode):\n    path = path.encode(FILESYSTEM_ENCODING)\n```\n\nThe subsequent call to pathname2url raises _TypeError: 'str' does not support the buffer interface_\n\n```\nFile \"c:\\Python34\\Lib\\nturl2path.py\", line 46, in pathname2url\n    if not ':' in p:\nTypeError: 'str' does not support the buffer interface\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/260", "id": 93234276, "node_id": "MDU6SXNzdWU5MzIzNDI3Ng==", "number": 260, "title": "TypeError: unsupported operand type(s) for +: 'float' and 'str'", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-06T09:40:05Z", "updated_at": "2016-01-17T14:04:33Z", "closed_at": "2016-01-17T14:04:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`weasyprint http://foundation.zurb.com/docs/ out.pdf`\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/255", "id": 86943738, "node_id": "MDU6SXNzdWU4Njk0MzczOA==", "number": 255, "title": "page-break-inside: avoid on tall elements leads to infinite loop", "user": {"login": "knyttl", "id": 401107, "node_id": "MDQ6VXNlcjQwMTEwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/401107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knyttl", "html_url": "https://github.com/knyttl", "followers_url": "https://api.github.com/users/knyttl/followers", "following_url": "https://api.github.com/users/knyttl/following{/other_user}", "gists_url": "https://api.github.com/users/knyttl/gists{/gist_id}", "starred_url": "https://api.github.com/users/knyttl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knyttl/subscriptions", "organizations_url": "https://api.github.com/users/knyttl/orgs", "repos_url": "https://api.github.com/users/knyttl/repos", "events_url": "https://api.github.com/users/knyttl/events{/privacy}", "received_events_url": "https://api.github.com/users/knyttl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-06-10T11:58:49Z", "updated_at": "2017-08-18T15:28:19Z", "closed_at": "2017-08-18T15:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When you create a very tall element with `page-break-inside: avoid` which does not fit to page, it leads to infinite looping and weasyprint never produce any result.\n\nTest case:\n\n```\n<div style=\"page-break-inside: avoid;\">\n... lot of contents\n</div>\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/254", "id": 83670050, "node_id": "MDU6SXNzdWU4MzY3MDA1MA==", "number": 254, "title": "Pixelated SVG on PNG output", "user": {"login": "atarantini", "id": 860288, "node_id": "MDQ6VXNlcjg2MDI4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/860288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atarantini", "html_url": "https://github.com/atarantini", "followers_url": "https://api.github.com/users/atarantini/followers", "following_url": "https://api.github.com/users/atarantini/following{/other_user}", "gists_url": "https://api.github.com/users/atarantini/gists{/gist_id}", "starred_url": "https://api.github.com/users/atarantini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atarantini/subscriptions", "organizations_url": "https://api.github.com/users/atarantini/orgs", "repos_url": "https://api.github.com/users/atarantini/repos", "events_url": "https://api.github.com/users/atarantini/events{/privacy}", "received_events_url": "https://api.github.com/users/atarantini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2015-06-01T20:03:37Z", "updated_at": "2015-06-02T22:02:32Z", "closed_at": "2015-06-02T12:58:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an issue with an SVG inside HTML when rendering PNG files. On the PDF format, the SVG is rendered perfectly. PNG is blured.\n\nThis is my HTML (no external sources):\n\n``` html\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"UTF-8\">\n        <style type=\"style/css\">\n            .barcodecode img {\n                width:10cm;\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"barcode\">\n            <img src=\"data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZwogIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nCiAgJ2h0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCc+CjxzdmcgaGVpZ2h0PSIyMy4wMDBtbSIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iOTEuMDAwbW0iIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8IS0tQXV0b2dlbmVyYXRlZCB3aXRoIHB5QmFyY29kZSAwLjhiZXRhMS0tPgogICAgPGcgaWQ9ImJhcmNvZGVfZ3JvdXAiPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGw6d2hpdGUiIHdpZHRoPSIxMDAlIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNi40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjYuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNy4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjcuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNy42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjcuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI4LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iOC41MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjkuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI5LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTAuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxMC4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjEwLjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTAuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxMC44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjExLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMTEuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIxMS43MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjEyLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMTIuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxMy4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjEzLjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTMuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxMy44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjE0LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTQuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIxNC40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjE0LjkwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMTUuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIxNS45MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjE2LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTYuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxNi44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjE3LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTcuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxNy40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjE3LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMTguMTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIxOC42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjE5LjEwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMTkuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIxOS44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjIwLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjAuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyMC40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjIwLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMjAuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIyMS4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjIxLjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMjIuMzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyMi44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjIzLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjMuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyMy40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjIzLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjMuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIyNC4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjI0LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMjUuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIyNS41MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjI2LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjYuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyNi40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjI2LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjYuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyNy4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjI3LjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMjcuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIyOC4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjI4LjcwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjkuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIyOS40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjI5LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMjkuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzMC4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjMwLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMzAuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIzMC45MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjMxLjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMzEuOTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzMi40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjMyLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzIuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzMy4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjMzLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzMuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIzMy42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjM0LjEwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iMzQuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSIzNS4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjM1LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzUuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzNi4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjM2LjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzYuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzNi42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjM2LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iMzcuMzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSIzNy44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjM4LjMwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzguODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzOS4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjM5LjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iMzkuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSIzOS42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjM5LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNDAuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI0MC41MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjQxLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNDEuNTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0Mi4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQyLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDIuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0Mi42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQyLjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDMuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI0My4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjQzLjcwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNDQuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI0NC43MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQ1LjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDUuNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0NS42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQ1LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDYuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0Ni4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjQ2LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNDYuOTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI0Ny40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjQ3LjkwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDguNDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0OC42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQ4LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNDkuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI0OS4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjQ5LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNDkuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1MC4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjUwLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNTEuMTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI1MS42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjUxLjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTIuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI1Mi4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjUyLjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTIuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1Mi44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjUzLjMwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNTMuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1NC4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjU0LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTUuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI1NS4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjU1LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNTUuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1Ni4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjU2LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTYuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1Ny4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjU3LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTguMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI1OC4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjU4LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTguNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1OC44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjU5LjMwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNTkuNTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI1OS43MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjYwLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjAuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2MS4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjYxLjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjEuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI2Mi4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjYyLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNjIuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2My4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjYzLjIwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNjMuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2My45MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjY0LjEwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNjQuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2NC44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjY1LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjUuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2NS43MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjY1LjkwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjYuMTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2Ni42MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjY2LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjcuMzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2Ny44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjY4LjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNjguMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI2OC40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjY4LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNjguODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI2OS4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjY5LjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzAuMzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3MC44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjcxLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNzEuMjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3MS40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjcxLjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzEuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI3Mi4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjcyLjgwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzMuMDAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3My41MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjczLjcwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzMuOTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI3NC40MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijc0LjkwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNzUuMTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3NS4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijc1LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzUuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI3Ni4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijc2LjcwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNzYuOTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjUwMG1tIiB4PSI3Ny4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijc3LjYwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzcuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3OC4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijc4LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iNzguNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI3OS4yMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9Ijc5LjQwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iNzkuOTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI4MC4xMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjgwLjMwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC41MDBtbSIgeD0iODAuODAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI4MS4zMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuMjAwbW0iIHg9IjgxLjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC4yMDBtbSIgeD0iODEuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjIwMG1tIiB4PSI4MS45MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjgyLjEwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iODIuNjAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDp3aGl0ZTsiIHdpZHRoPSIwLjIwMG1tIiB4PSI4Mi44MDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOmJsYWNrOyIgd2lkdGg9IjAuNTAwbW0iIHg9IjgzLjAwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6d2hpdGU7IiB3aWR0aD0iMC41MDBtbSIgeD0iODMuNTAwbW0iIHk9IjEuMDAwbW0iLz4KICAgICAgICA8cmVjdCBoZWlnaHQ9IjE1LjAwMG1tIiBzdHlsZT0iZmlsbDpibGFjazsiIHdpZHRoPSIwLjUwMG1tIiB4PSI4NC4wMDBtbSIgeT0iMS4wMDBtbSIvPgogICAgICAgIDxyZWN0IGhlaWdodD0iMTUuMDAwbW0iIHN0eWxlPSJmaWxsOndoaXRlOyIgd2lkdGg9IjAuMjAwbW0iIHg9Ijg0LjUwMG1tIiB5PSIxLjAwMG1tIi8+CiAgICAgICAgPHJlY3QgaGVpZ2h0PSIxNS4wMDBtbSIgc3R5bGU9ImZpbGw6YmxhY2s7IiB3aWR0aD0iMC4yMDBtbSIgeD0iODQuNzAwbW0iIHk9IjEuMDAwbW0iLz4KICAgIDwvZz4KPC9zdmc+Cg==\" />\n        </div>\n    </body>\n```\n\nI've runned this example with:\n\n``` bash\n$ weasyprint -f pdf debug-template.html debug.pdf\n$ weasyprint -r 192 -f png debug-template.html debug.png\n```\n\nAnd the PNG result is:\n\n![debug](https://cloud.githubusercontent.com/assets/860288/7922005/d3860140-087f-11e5-8237-a86ebe2d0b4e.png)\n\nThe PDF result is flawless, the barcode in the resulting document is clear.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/245", "id": 60260616, "node_id": "MDU6SXNzdWU2MDI2MDYxNg==", "number": 245, "title": "Border spacing is not working", "user": {"login": "ddeath", "id": 2537379, "node_id": "MDQ6VXNlcjI1MzczNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/2537379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddeath", "html_url": "https://github.com/ddeath", "followers_url": "https://api.github.com/users/ddeath/followers", "following_url": "https://api.github.com/users/ddeath/following{/other_user}", "gists_url": "https://api.github.com/users/ddeath/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddeath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddeath/subscriptions", "organizations_url": "https://api.github.com/users/ddeath/orgs", "repos_url": "https://api.github.com/users/ddeath/repos", "events_url": "https://api.github.com/users/ddeath/events{/privacy}", "received_events_url": "https://api.github.com/users/ddeath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-03-08T15:11:57Z", "updated_at": "2019-12-17T10:11:56Z", "closed_at": "2016-02-25T17:19:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "between 2 td is gap even when I add border-spacing: 0px; to my css\n\n**CSS Example**\n\n```\n@page {\n    margin: 0;\n}\n\n/*--------- Graphs ---------*/ \n\n.graphs table {\n    height: 2.7em;\n    border-spacing: 0px;\n}\n\n.graph-real, .graph-ideal {\n    width: 0.2cm;\n    display: inline-block\n}\n\n.energy .graph-real {\n    background-color: #3ba03b;\n}\n\n.energy .graph-ideal {\n    background-color: #8fd48f;\n}\n```\n\n**HTML example**\n\n```\n<html>\n    <body>\n        <div class=\"graphs energy\">\n            <table>\n                <tbody>\n                    <tr>\n                        <td class=\"graph-real\" style=\"height:2.6708571428571em\"></td>\n                        <td class=\"graph-ideal\" style=\"height:2.7em\"></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </body>\n</html>\n```\n\n**wrong PDF output:**\n![wrong output](https://cloud.githubusercontent.com/assets/2537379/6546265/b5ab3a56-c5ad-11e4-931e-2dc5d87d7531.png)\n\n**desired PDF output:**\n![desired](https://cloud.githubusercontent.com/assets/2537379/6546266/ba51cbce-c5ad-11e4-8f5a-7ff37a333ace.png)\n**css hack which solve the problem:**\n\n```\n.graphs table td:first-child {\n    position: relative;\n    left: 5px;\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/234", "id": 55919655, "node_id": "MDU6SXNzdWU1NTkxOTY1NQ==", "number": 234, "title": "The size of fixed boxes in fixed boxes are not calculated on second pages", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-29T16:14:19Z", "updated_at": "2016-09-12T22:41:55Z", "closed_at": "2016-09-12T22:41:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Example:\n\n``` html\n<html>\n  <head>\n    <style>\n      div {position:fixed}\n      div::before {content:'test'; position:fixed}\n      p {height:200000cm}\n    </style>\n  </head>\n  <body>\n    <div></div>\n    <p><p>\n  </body>\n<html>\n```\n\ncrashes with\n\n```\nTraceback (most recent call last):\n  File \"./weasyprint.py\", line 5, in <module>\n    main()\n  File \"/home/lize/Informatique/weasyprint/weasyprint/__main__.py\", line 141, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/__init__.py\", line 160, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/document.py\", line 308, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/home/lize/Informatique/weasyprint/weasyprint/document.py\", line 308, in <listcomp>\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/__init__.py\", line 62, in layout_document\n    layout_backgrounds(page, get_image_from_uri)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/backgrounds.py\", line 213, in layout_backgrounds\n    layout_box_backgrounds(page, page, get_image_from_uri)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/backgrounds.py\", line 56, in layout_box_backgrounds\n    resolve_radii_percentages(box)\n  File \"/home/lize/Informatique/weasyprint/weasyprint/layout/percentages.py\", line 125, in resolve_radii_percentages\n    ry = _percentage(ry, box.border_height())\n  File \"/home/lize/Informatique/weasyprint/weasyprint/formatting_structure/boxes.py\", line 151, in border_height\n    return self.padding_height() + self.border_top_width + \\\n  File \"/home/lize/Informatique/weasyprint/weasyprint/formatting_structure/boxes.py\", line 142, in padding_height\n    return self.height + self.padding_top + self.padding_bottom\nTypeError: Can't convert 'int' object to str implicitly\n```\n\nIt's not related to border-radius, even if it crashes when calculating it: it crashes later even if this code is removed.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/233", "id": 52009306, "node_id": "MDU6SXNzdWU1MjAwOTMwNg==", "number": 233, "title": "Paragraph content is truncated on different environments", "user": {"login": "commx", "id": 2342384, "node_id": "MDQ6VXNlcjIzNDIzODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2342384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/commx", "html_url": "https://github.com/commx", "followers_url": "https://api.github.com/users/commx/followers", "following_url": "https://api.github.com/users/commx/following{/other_user}", "gists_url": "https://api.github.com/users/commx/gists{/gist_id}", "starred_url": "https://api.github.com/users/commx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/commx/subscriptions", "organizations_url": "https://api.github.com/users/commx/orgs", "repos_url": "https://api.github.com/users/commx/repos", "events_url": "https://api.github.com/users/commx/events{/privacy}", "received_events_url": "https://api.github.com/users/commx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2014-12-15T16:46:37Z", "updated_at": "2019-11-07T09:43:51Z", "closed_at": "2015-03-26T09:46:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A few weeks ago I noticed that my Web application is generating invalid PDF files; While most PDF viewers can open the files, Adobe's Acrobat can't. Another side effect is that some parts of the contents is truncated for some reason.\n\nI have a sample HTML file located at [here](http://www.commx.ws/devel/weasyprint_test1.html). It renders correctly on my Mac, but it doesn't on the Linux server that runs my web application. html5lib/tinycss/weasyprint/cairosvg/pango are the very same versions on both machines. For me, it looks like a fontconfig issue, but I was not able to solve it yet. Did anyone else had this issues as well?\n\nI have attached two generated PDF files: The first one generated on the Mac (looks correct) and the second one generated on the Linux server (with truncated content).\n\nAny hints that help me solving this issue is greatly appreciated. I absolutely like WeasyPrint and like to keep it as the PDF generator backend for my apps.\n\nThanks.\n\nAttachments:\n- [http://www.commx.ws/devel/out_mac.pdf](http://www.commx.ws/devel/out_mac.pdf)\n- [http://www.commx.ws/devel/out_linux.pdf](http://www.commx.ws/devel/out_linux.pdf)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/227", "id": 48479621, "node_id": "MDU6SXNzdWU0ODQ3OTYyMQ==", "number": 227, "title": "img width is ignored inside tables", "user": {"login": "aquavitae", "id": 5753990, "node_id": "MDQ6VXNlcjU3NTM5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5753990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aquavitae", "html_url": "https://github.com/aquavitae", "followers_url": "https://api.github.com/users/aquavitae/followers", "following_url": "https://api.github.com/users/aquavitae/following{/other_user}", "gists_url": "https://api.github.com/users/aquavitae/gists{/gist_id}", "starred_url": "https://api.github.com/users/aquavitae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aquavitae/subscriptions", "organizations_url": "https://api.github.com/users/aquavitae/orgs", "repos_url": "https://api.github.com/users/aquavitae/repos", "events_url": "https://api.github.com/users/aquavitae/events{/privacy}", "received_events_url": "https://api.github.com/users/aquavitae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 4, "created_at": "2014-11-12T06:57:17Z", "updated_at": "2017-10-11T09:17:47Z", "closed_at": "2017-10-11T09:13:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "With html of the following form:\n\n```\n<table>\n  <tbody>\n    <tr>\n      <td><img ...></img></td>\n    </tr>\n  </tbody>\n</table>\n```\n\nAnd css:\n\n```\ntable img {max-width: 100%; width:100%}\n```\n\nThe width spec is ignored, and the image displays full size\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/225", "id": 47542942, "node_id": "MDU6SXNzdWU0NzU0Mjk0Mg==", "number": 225, "title": "TypeError: unsupported operand type(s) for -: 'Dimension' and 'float'", "user": {"login": "amarsahinovic", "id": 352603, "node_id": "MDQ6VXNlcjM1MjYwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/352603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amarsahinovic", "html_url": "https://github.com/amarsahinovic", "followers_url": "https://api.github.com/users/amarsahinovic/followers", "following_url": "https://api.github.com/users/amarsahinovic/following{/other_user}", "gists_url": "https://api.github.com/users/amarsahinovic/gists{/gist_id}", "starred_url": "https://api.github.com/users/amarsahinovic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amarsahinovic/subscriptions", "organizations_url": "https://api.github.com/users/amarsahinovic/orgs", "repos_url": "https://api.github.com/users/amarsahinovic/repos", "events_url": "https://api.github.com/users/amarsahinovic/events{/privacy}", "received_events_url": "https://api.github.com/users/amarsahinovic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2014-11-02T17:42:04Z", "updated_at": "2015-07-06T09:43:50Z", "closed_at": "2015-04-28T21:57:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can reproduce this error by running: `weasyprint http://foundation.zurb.com/docs/ out.pdf`\nIt also crashes on my other website (which also uses foundation) with the same error. There is also a bunch of parse errors before the exception is raised.\n\n```\nTraceback (most recent call last):\n  File \"/home/amar/.virtualenvs/weasyprinttest/bin/weasyprint\", line 9, in <module>\n    load_entry_point('WeasyPrint==0.23', 'console_scripts', 'weasyprint')()\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/__main__.py\", line 156, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/__init__.py\", line 164, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom, attachments)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/document.py\", line 319, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/document.py\", line 319, in <listcomp>\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/__init__.py\", line 50, in layout_document\n    pages = list(make_all_pages(context, root_box))\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/pages.py\", line 541, in make_all_pages\n    context, root_box, page_type, resume_at, content_empty)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/pages.py\", line 503, in make_page\n    positioned_boxes, positioned_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 435, in block_container_layout\n    adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/blocks.py\", line 321, in block_container_layout\n    for line, resume_at in lines_iterator:\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/inlines.py\", line 48, in iter_line_boxes\n    device_size, absolute_boxes, fixed_boxes)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/layout/inlines.py\", line 78, in get_next_linebox\n    linebox.height, _ = strut_layout(linebox.style, context.enable_hinting)\n  File \"/home/amar/.virtualenvs/weasyprinttest/lib/python3.4/site-packages/weasyprint/css/computed_values.py\", line 536, in strut_layout\n    return value, baseline + (value - pango_height) / 2\nTypeError: unsupported operand type(s) for -: 'Dimension' and 'float'\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/209", "id": 38992183, "node_id": "MDU6SXNzdWUzODk5MjE4Mw==", "number": 209, "title": "page-break-* style properties do not work inside tables", "user": {"login": "szlend", "id": 7301807, "node_id": "MDQ6VXNlcjczMDE4MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7301807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/szlend", "html_url": "https://github.com/szlend", "followers_url": "https://api.github.com/users/szlend/followers", "following_url": "https://api.github.com/users/szlend/following{/other_user}", "gists_url": "https://api.github.com/users/szlend/gists{/gist_id}", "starred_url": "https://api.github.com/users/szlend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/szlend/subscriptions", "organizations_url": "https://api.github.com/users/szlend/orgs", "repos_url": "https://api.github.com/users/szlend/repos", "events_url": "https://api.github.com/users/szlend/events{/privacy}", "received_events_url": "https://api.github.com/users/szlend/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/17", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/17/labels", "id": 4653064, "node_id": "MDk6TWlsZXN0b25lNDY1MzA2NA==", "number": 17, "title": "50", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-09-12T06:37:54Z", "updated_at": "2019-09-20T12:20:28Z", "due_on": null, "closed_at": "2019-09-20T12:20:28Z"}, "comments": 3, "created_at": "2014-07-29T14:10:00Z", "updated_at": "2019-12-17T10:11:56Z", "closed_at": "2019-09-16T15:17:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "WeasyPrint handles automatic page breaks for tables, but any page-break-\\* properties inside the table are ignored. This would be useful for adding manual page breaks before or after a row or grouping certain rows together so they're not separated between pages.\n\nEdit: Row groups can be done by applying page-break-inside: avoid on tbody so that already works. But there's still a case for other page-break properties.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/207", "id": 37446668, "node_id": "MDU6SXNzdWUzNzQ0NjY2OA==", "number": 207, "title": "border-radius doesn't work on img elements", "user": {"login": "seven7seven", "id": 169333, "node_id": "MDQ6VXNlcjE2OTMzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/169333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seven7seven", "html_url": "https://github.com/seven7seven", "followers_url": "https://api.github.com/users/seven7seven/followers", "following_url": "https://api.github.com/users/seven7seven/following{/other_user}", "gists_url": "https://api.github.com/users/seven7seven/gists{/gist_id}", "starred_url": "https://api.github.com/users/seven7seven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seven7seven/subscriptions", "organizations_url": "https://api.github.com/users/seven7seven/orgs", "repos_url": "https://api.github.com/users/seven7seven/repos", "events_url": "https://api.github.com/users/seven7seven/events{/privacy}", "received_events_url": "https://api.github.com/users/seven7seven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-07-09T09:16:03Z", "updated_at": "2015-09-04T19:13:04Z", "closed_at": "2015-04-25T18:00:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When setting \n\n> border-radius: 200px; \n>    border: 6px solid gray;\n\non an img element, it doesn't produce a border, even if I set\n\n> width: 4.6cm;\n>       height: 4.6cm;\n>       display: block;\n\nthe img remains rendered as a square.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/207/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/206", "id": 36979276, "node_id": "MDU6SXNzdWUzNjk3OTI3Ng==", "number": 206, "title": "AssertionError When using overflow-wrap", "user": {"login": "chirinosky", "id": 2205694, "node_id": "MDQ6VXNlcjIyMDU2OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2205694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chirinosky", "html_url": "https://github.com/chirinosky", "followers_url": "https://api.github.com/users/chirinosky/followers", "following_url": "https://api.github.com/users/chirinosky/following{/other_user}", "gists_url": "https://api.github.com/users/chirinosky/gists{/gist_id}", "starred_url": "https://api.github.com/users/chirinosky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chirinosky/subscriptions", "organizations_url": "https://api.github.com/users/chirinosky/orgs", "repos_url": "https://api.github.com/users/chirinosky/repos", "events_url": "https://api.github.com/users/chirinosky/events{/privacy}", "received_events_url": "https://api.github.com/users/chirinosky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2014-07-02T13:00:39Z", "updated_at": "2016-07-28T23:34:51Z", "closed_at": "2016-07-28T23:34:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'm trying to break long lines that sometimes span multiple rows and am using `overflow-wrap: break-word` to do so.  However, it is creating the error below:\n\n```\nException Type: AssertionError\nException Value:    \nGot u'name=\"KEY_USER_ID\">7oItbkd8h2J2Aettn3WHNj5LJ8G9TM8quKiTi0u0m0WLBJ304oI' between two lines. Expected nothing or a preserved line break\n```\n\nIt seems to be triggered by line 175 in weasyprint\\layout\\inlines.py.\n\nIs the break-all supported, or just normal?\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/202", "id": 34767424, "node_id": "MDU6SXNzdWUzNDc2NzQyNA==", "number": 202, "title": "Unreachable area/border at bottom of page", "user": {"login": "jdus", "id": 5982613, "node_id": "MDQ6VXNlcjU5ODI2MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5982613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdus", "html_url": "https://github.com/jdus", "followers_url": "https://api.github.com/users/jdus/followers", "following_url": "https://api.github.com/users/jdus/following{/other_user}", "gists_url": "https://api.github.com/users/jdus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdus/subscriptions", "organizations_url": "https://api.github.com/users/jdus/orgs", "repos_url": "https://api.github.com/users/jdus/repos", "events_url": "https://api.github.com/users/jdus/events{/privacy}", "received_events_url": "https://api.github.com/users/jdus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2014-06-02T12:20:25Z", "updated_at": "2015-04-28T17:20:45Z", "closed_at": "2015-04-28T17:20:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There seems to be a small area/fine border at the bottom of a page, that weasyprint cannot reach, at least nothing is drawn there. Maybe someone could confirm this.\n\n```\n<html>\n\n<head>\n<title>Bottom  test</title>\n\n<style>\n\n* {\n    margin: 0;\n    padding: 0;\n}\n\n.bottomDiv{\n    position: absolute;\n    bottom:0;\n    width: 100%;\n    height: 20px;\n    background-color: #000;\n}\n\n@page{\n    margin: 0;\n    padding: 0;\n}\n\n</style>\n</head>\n\n<body>\n<div class=\"bottomDiv\"></div>\n</body>\n\n</html>\n```\n\nIn the PDF produced by weasyprint, there is a fine white line at the bottom of the page. With \"position: absolute; bottom: 0;\" this shouldn't happen, should it?\n\n![bottom_area](https://cloud.githubusercontent.com/assets/5982613/3147063/a56eb862-ea51-11e3-8b73-e73cf6ec40e8.png)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/171", "id": 28088579, "node_id": "MDU6SXNzdWUyODA4ODU3OQ==", "number": 171, "title": "Nested fixed elements produce error on multi-page layouts", "user": {"login": "iabw", "id": 1054569, "node_id": "MDQ6VXNlcjEwNTQ1Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/1054569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iabw", "html_url": "https://github.com/iabw", "followers_url": "https://api.github.com/users/iabw/followers", "following_url": "https://api.github.com/users/iabw/following{/other_user}", "gists_url": "https://api.github.com/users/iabw/gists{/gist_id}", "starred_url": "https://api.github.com/users/iabw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iabw/subscriptions", "organizations_url": "https://api.github.com/users/iabw/orgs", "repos_url": "https://api.github.com/users/iabw/repos", "events_url": "https://api.github.com/users/iabw/events{/privacy}", "received_events_url": "https://api.github.com/users/iabw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 1, "created_at": "2014-02-22T03:50:00Z", "updated_at": "2019-03-07T17:52:19Z", "closed_at": "2019-03-07T17:52:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "When content is only 1 page in length, nested fixed position elements work as I expect. When content is more than 1 page in length, Weasyprint throws a TypeError.\n\n**Error Produced:**\nTypeError: coercing to Unicode: need string or buffer, int found\n\n**Reduced test case:**\n\n```\n<style>\n    .header{ position: fixed; top: 0 }\n    .footer { position: fixed; bottom: 0; }\n</style>\n\n<div>Text</div> <!-- Repeated enough to produce more than 1 page of content -->\n\n<div class='header'>\n    <div class='footer'>Footer</div>\n</div>\n```\n\n**Traceback:**\n\n```\n  File \"/weasyprint/__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/weasyprint/document.py\", line 308, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"/weasyprint/layout/__init__.py\", line 62, in layout_document\n    layout_backgrounds(page, get_image_from_uri)\n  File \"/weasyprint/layout/backgrounds.py\", line 213, in layout_backgrounds\n    layout_box_backgrounds(page, page, get_image_from_uri)\n  File \"/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/weasyprint/layout/backgrounds.py\", line 59, in layout_box_backgrounds\n    layout_box_backgrounds(page, child, get_image_from_uri)\n  File \"/weasyprint/layout/backgrounds.py\", line 56, in layout_box_backgrounds\n    resolve_radiii_percentages(box)\n  File \"/weasyprint/layout/percentages.py\", line 125, in resolve_radiii_percentages\n    ry = _percentage(ry, box.border_height())\n  File \"/weasyprint/formatting_structure/boxes.py\", line 151, in border_height\n    return self.padding_height() + self.border_top_width + \\\n  File \"/weasyprint/formatting_structure/boxes.py\", line 142, in padding_height\n    return self.height + self.padding_top + self.padding_bottom\nTypeError: coercing to Unicode: need string or buffer, int found\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/169", "id": 27500065, "node_id": "MDU6SXNzdWUyNzUwMDA2NQ==", "number": 169, "title": "Exception is thrown when table with defined columns has no explicit width", "user": {"login": "daio", "id": 139397, "node_id": "MDQ6VXNlcjEzOTM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daio", "html_url": "https://github.com/daio", "followers_url": "https://api.github.com/users/daio/followers", "following_url": "https://api.github.com/users/daio/following{/other_user}", "gists_url": "https://api.github.com/users/daio/gists{/gist_id}", "starred_url": "https://api.github.com/users/daio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daio/subscriptions", "organizations_url": "https://api.github.com/users/daio/orgs", "repos_url": "https://api.github.com/users/daio/repos", "events_url": "https://api.github.com/users/daio/events{/privacy}", "received_events_url": "https://api.github.com/users/daio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-02-13T07:51:56Z", "updated_at": "2014-02-19T16:53:36Z", "closed_at": "2014-02-16T18:42:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the following html source weasyprint throws exception\n\n``` html\n<html>\n<body>\n<table>\n<col style=\"width:25%\"><col>\n<tbody>\n<tr><td></td><td></td></tr>\n</tbody>\n</table>\n</body>\n</html>\n```\n\nAs a workaround one can modify this source by adding explicit width to table element:\n\n``` html\n<html>\n<body>\n<table style=\"width:100%\">\n<col style=\"width:25%\"><col>\n<tbody>\n<tr><td></td><td></td></tr>\n</tbody>\n</table>\n</body>\n</html>\n```\n\nHere's a traceback for the exception:\n\n```\nTraceback (most recent call last):\n  File \"C:\\Python33\\Scripts\\weasyprint-script.py\", line 9, in <module>\n    load_entry_point('WeasyPrint==0.21', 'console_scripts', 'weasyprint')()\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\__main__.py\", line 141, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\__init__.py\", line 160, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\__init__.py\", line 132, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\document.py\", line 308, in _render\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\document.py\", line 308, in <listcomp>\n    return cls([Page(p, enable_hinting) for p in page_boxes],\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\__init__.py\", line 50, in layout_document\n    pages = list(make_all_pages(context, root_box))\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\pages.py\", line 541, in make_all_pages\n    context, root_box, page_type, resume_at, content_empty)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\pages.py\", line 503, in make_page\n    positioned_boxes, positioned_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 414, in block_container_layout\n    adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 88, in block_box_layout\n    page_is_empty, absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 414, in block_container_layout\n    adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 60, in block_level_layout\n    absolute_boxes, fixed_boxes, adjoining_margins)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\blocks.py\", line 82, in block_box_layout\n    context, box, (containing_block.width, containing_block.height))\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\tables.py\", line 552, in table_wrapper_width\n    auto_table_layout(context, wrapper, containing_block)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\tables.py\", line 492, in auto_table_layout\n    context, box, resolved_table_width=True)\n  File \"C:\\Python33\\lib\\site-packages\\weasyprint\\layout\\preferred.py\", line 358, in table_and_columns_preferred_widths\n    column_width.value / 100. * table.width, widths[i])\nTypeError: can't multiply sequence by non-int of type 'float'\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/163", "id": 26569984, "node_id": "MDU6SXNzdWUyNjU2OTk4NA==", "number": 163, "title": "Spurious line breaks on tag borders at margin boundaries", "user": {"login": "alchemicalhydra", "id": 28852, "node_id": "MDQ6VXNlcjI4ODUy", "avatar_url": "https://avatars.githubusercontent.com/u/28852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alchemicalhydra", "html_url": "https://github.com/alchemicalhydra", "followers_url": "https://api.github.com/users/alchemicalhydra/followers", "following_url": "https://api.github.com/users/alchemicalhydra/following{/other_user}", "gists_url": "https://api.github.com/users/alchemicalhydra/gists{/gist_id}", "starred_url": "https://api.github.com/users/alchemicalhydra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alchemicalhydra/subscriptions", "organizations_url": "https://api.github.com/users/alchemicalhydra/orgs", "repos_url": "https://api.github.com/users/alchemicalhydra/repos", "events_url": "https://api.github.com/users/alchemicalhydra/events{/privacy}", "received_events_url": "https://api.github.com/users/alchemicalhydra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 8, "created_at": "2014-01-30T01:59:29Z", "updated_at": "2017-12-26T14:11:46Z", "closed_at": "2016-03-08T19:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "WeasyPrint generates spurious line breaks on tag borders at margin boundaries.\n\nThe following snippet illustrates the issue; there should be no breaks between the `<em>` tags and the `XX` text:\n\n``` python\nweasyprint.HTML(\n    string=\"\"\"\n<html>\n  <head>\n    <style type=\"text/css\">\n      body { width: 20em; }\n    </style>\n  </head>\n  <body>\n    <p>XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX XX<em>foobarbaz</em>XX</p>\n  </body>\n</html>\"\"\"\n).write_pdf('foobar.pdf')\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/158", "id": 26057973, "node_id": "MDU6SXNzdWUyNjA1Nzk3Mw==", "number": 158, "title": "Multiple font families not handled in OSX", "user": {"login": "carljparker", "id": 1108664, "node_id": "MDQ6VXNlcjExMDg2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1108664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carljparker", "html_url": "https://github.com/carljparker", "followers_url": "https://api.github.com/users/carljparker/followers", "following_url": "https://api.github.com/users/carljparker/following{/other_user}", "gists_url": "https://api.github.com/users/carljparker/gists{/gist_id}", "starred_url": "https://api.github.com/users/carljparker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carljparker/subscriptions", "organizations_url": "https://api.github.com/users/carljparker/orgs", "repos_url": "https://api.github.com/users/carljparker/repos", "events_url": "https://api.github.com/users/carljparker/events{/privacy}", "received_events_url": "https://api.github.com/users/carljparker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2014-01-22T00:46:04Z", "updated_at": "2018-11-06T20:54:06Z", "closed_at": "2018-11-06T20:54:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Specifying multiple comma-separated names in `font-family` doesn\u2019t work as intended.\n\nOriginal issue:\n\n---\n## Weasyprint Does Not Handle Multiple Font-Families in CSS for `<pre>` Tags\n\nPlease see the following StackOverflow question:\n\n http://stackoverflow.com/questions/21271711/how-do-i-specify-fallback-to-monospace-in-weasyprint\n\nI have become convinced that this is actually an issue in the way that weasyprint handles the specification of multiple font-family values in CSS formatting for text in &lt;pre> tags.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/151", "id": 25095462, "node_id": "MDU6SXNzdWUyNTA5NTQ2Mg==", "number": 151, "title": "Table background colour bleeds beyond table cell boundaries", "user": {"login": "RudolfCardinal", "id": 6329033, "node_id": "MDQ6VXNlcjYzMjkwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6329033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RudolfCardinal", "html_url": "https://github.com/RudolfCardinal", "followers_url": "https://api.github.com/users/RudolfCardinal/followers", "following_url": "https://api.github.com/users/RudolfCardinal/following{/other_user}", "gists_url": "https://api.github.com/users/RudolfCardinal/gists{/gist_id}", "starred_url": "https://api.github.com/users/RudolfCardinal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RudolfCardinal/subscriptions", "organizations_url": "https://api.github.com/users/RudolfCardinal/orgs", "repos_url": "https://api.github.com/users/RudolfCardinal/repos", "events_url": "https://api.github.com/users/RudolfCardinal/events{/privacy}", "received_events_url": "https://api.github.com/users/RudolfCardinal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-06T10:48:21Z", "updated_at": "2016-01-25T18:26:23Z", "closed_at": "2016-01-25T18:26:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm hoping to switch from xhtml2pdf to weasyprint and have been trying it out; generally it seems excellent, and many problems I've had have have come down to my own deficiencies in CSS understanding. However, I think this one's a bug:\n\nI find that for table rows (tr) with background-colour applied, the colour bleeds beyond the edge of the cell. For comparison, neither Chrome nor xhtml2pdf do this, and I don't think there's any CSS option that instructs this to happen (though I'm happy to be corrected!).\n\nI'm using a fresh install of weasyprint (from pip install weasyprint) as of 5 Jan 2014.\n\nHTML and corresponding PDF are at:\n    http://egret.psychol.cam.ac.uk/publicworkspace/test_weasyprint_bleed.html\n    http://egret.psychol.cam.ac.uk/publicworkspace/test_weasyprint_bleed.pdf\n\n... look particularly at the grey and black shadings bleeding to the right and below the table row to which it is applied.\n\n The CSS is embedded in the HTML, and the PDF was generated using \"weasyprint test_weasyprint_bleed.html test_weasyprint_bleed.pdf\". There are a couple of errors relating to the image links being dead, but that's for a different part of the document so I presume that's not relevant (and the bleed still occurs when the image links work). There's also an \"@frame\" error (relating to fact that this source was originally for xhtml2pdf) but I presume that's irrelevant as well.\n\nMany thanks for your attention, and congratulations again on a fine piece of software!\n\nall the best,\nRudolf.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/146", "id": 24487583, "node_id": "MDU6SXNzdWUyNDQ4NzU4Mw==", "number": 146, "title": "Crash when drawing really small boxes with dotted/dashed borders", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-12-18T12:45:38Z", "updated_at": "2013-12-18T14:33:48Z", "closed_at": "2013-12-18T14:33:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Example: `<div style=\"width: 0; height: 0; border-width: 0 1px 0 1px; border-style: dotted\"></div>`\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/145", "id": 24424940, "node_id": "MDU6SXNzdWUyNDQyNDk0MA==", "number": 145, "title": "Empty content for HTTP URLs", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-17T14:47:56Z", "updated_at": "2013-12-23T15:16:16Z", "closed_at": "2013-12-23T15:16:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Giving an HTTP URL to WeasyPrint on Python 3.x is broken because of https://github.com/html5lib/html5lib-python/issues/127.\n\nOne possible temporary work-around is to add `if source_type == 'file_obj': source = source.read()` before we call `html5lib.parse()`:\nhttps://github.com/Kozea/WeasyPrint/blob/a0829ecc36db9c4807a75667bf40192b9e8fec13/weasyprint/__init__.py#L89\n\nIt\u2019s not great for performance on big documents, but it\u2019s better than empty content.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/137", "id": 23584015, "node_id": "MDU6SXNzdWUyMzU4NDAxNQ==", "number": 137, "title": "mixing bookmark-label: contents and text-transform has unexpected results", "user": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}, {"id": 876622221, "node_id": "MDU6TGFiZWw4NzY2MjIyMjE=", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/good%20first%20issue", "name": "good first issue", "color": "0fc448", "default": true, "description": "Issues that can be quite easily solved by Python developers with a good CSS background"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 2, "created_at": "2013-12-02T16:35:09Z", "updated_at": "2021-09-06T19:47:00Z", "closed_at": "2021-09-06T19:47:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "mixing bookmark-label: contents and text-transform has unexpected results:\n\nIf you set text-transform on the element, I expect the untransformed element content to appear in the bookmarks.  I can't find what the specified behaviour should be.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/133", "id": 22412877, "node_id": "MDU6SXNzdWUyMjQxMjg3Nw==", "number": 133, "title": "WeasyPrint Navigator doesn't work", "user": {"login": "asyschikov", "id": 789812, "node_id": "MDQ6VXNlcjc4OTgxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/789812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asyschikov", "html_url": "https://github.com/asyschikov", "followers_url": "https://api.github.com/users/asyschikov/followers", "following_url": "https://api.github.com/users/asyschikov/following{/other_user}", "gists_url": "https://api.github.com/users/asyschikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/asyschikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asyschikov/subscriptions", "organizations_url": "https://api.github.com/users/asyschikov/orgs", "repos_url": "https://api.github.com/users/asyschikov/repos", "events_url": "https://api.github.com/users/asyschikov/events{/privacy}", "received_events_url": "https://api.github.com/users/asyschikov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/5", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/5/labels", "id": 2410166, "node_id": "MDk6TWlsZXN0b25lMjQxMDE2Ng==", "number": 5, "title": "v0.37", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-03-24T21:35:36Z", "updated_at": "2017-06-15T06:25:54Z", "due_on": null, "closed_at": "2017-06-15T06:25:54Z"}, "comments": 16, "created_at": "2013-11-10T17:55:59Z", "updated_at": "2017-03-26T05:25:18Z", "closed_at": "2017-03-25T22:42:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "weasyprint.navigator\n\n```\n * Running on http://127.0.0.1:5000/\n * Restarting with reloader\nTraceback (most recent call last):\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/weasyprint/navigator.py\", line 171, in <module>\n    run()\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/weasyprint/navigator.py\", line 156, in run\n    from werkzeug.serving import run_simple\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/werkzeug/__init__.py\", line 154, in <module>\n    __import__('werkzeug.exceptions')\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/werkzeug/exceptions.py\", line 71, in <module>\n    from werkzeug.wrappers import Response\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/werkzeug/wrappers.py\", line 36, in <module>\n    from werkzeug.utils import cached_property, environ_property, \\\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/werkzeug/utils.py\", line 18, in <module>\n    from html.entities import name2codepoint\n  File \"/var/www/toured_dev/lib/python2.6/site-packages/weasyprint/html.py\", line 22, in <module>\n    from .formatting_structure import boxes\nValueError: Attempted relative import in non-package\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/133/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/129", "id": 21377710, "node_id": "MDU6SXNzdWUyMTM3NzcxMA==", "number": 129, "title": "Table headers and footers are not displayed when nothing else is on the page", "user": {"login": "langusta", "id": 5746281, "node_id": "MDQ6VXNlcjU3NDYyODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5746281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/langusta", "html_url": "https://github.com/langusta", "followers_url": "https://api.github.com/users/langusta/followers", "following_url": "https://api.github.com/users/langusta/following{/other_user}", "gists_url": "https://api.github.com/users/langusta/gists{/gist_id}", "starred_url": "https://api.github.com/users/langusta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/langusta/subscriptions", "organizations_url": "https://api.github.com/users/langusta/orgs", "repos_url": "https://api.github.com/users/langusta/repos", "events_url": "https://api.github.com/users/langusta/events{/privacy}", "received_events_url": "https://api.github.com/users/langusta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/18", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/18/labels", "id": 4677144, "node_id": "MDk6TWlsZXN0b25lNDY3NzE0NA==", "number": 18, "title": "51", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-09-20T12:20:33Z", "updated_at": "2019-12-23T21:03:37Z", "due_on": "2019-12-23T08:00:00Z", "closed_at": "2019-12-23T21:03:37Z"}, "comments": 2, "created_at": "2013-10-22T12:12:20Z", "updated_at": "2019-12-20T13:43:49Z", "closed_at": "2019-12-20T13:43:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I print following webpage, the first table (with header) is not printed, unless I remove <thead> tags. I got the error when I was trying to print irregular tables (some of the tables were connected to look like one table).\n\nhttp://langust.x10.mx/test_wrongly_printed_header.html\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/118", "id": 18318055, "node_id": "MDU6SXNzdWUxODMxODA1NQ==", "number": 118, "title": "ValueError: list.remove(x): x not in list", "user": {"login": "gcarothers", "id": 118299, "node_id": "MDQ6VXNlcjExODI5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/118299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gcarothers", "html_url": "https://github.com/gcarothers", "followers_url": "https://api.github.com/users/gcarothers/followers", "following_url": "https://api.github.com/users/gcarothers/following{/other_user}", "gists_url": "https://api.github.com/users/gcarothers/gists{/gist_id}", "starred_url": "https://api.github.com/users/gcarothers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gcarothers/subscriptions", "organizations_url": "https://api.github.com/users/gcarothers/orgs", "repos_url": "https://api.github.com/users/gcarothers/repos", "events_url": "https://api.github.com/users/gcarothers/events{/privacy}", "received_events_url": "https://api.github.com/users/gcarothers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-08-20T20:05:16Z", "updated_at": "2013-12-30T13:44:30Z", "closed_at": "2013-12-30T13:44:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://gist.github.com/gcarothers/6284827\n\nPer the old issue #53 did try removing the one break-after rule but that had no effect.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/115", "id": 17144532, "node_id": "MDU6SXNzdWUxNzE0NDUzMg==", "number": 115, "title": "Suppress margins at page breaks", "user": {"login": "stephenstubbs", "id": 859639, "node_id": "MDQ6VXNlcjg1OTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/859639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephenstubbs", "html_url": "https://github.com/stephenstubbs", "followers_url": "https://api.github.com/users/stephenstubbs/followers", "following_url": "https://api.github.com/users/stephenstubbs/following{/other_user}", "gists_url": "https://api.github.com/users/stephenstubbs/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephenstubbs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephenstubbs/subscriptions", "organizations_url": "https://api.github.com/users/stephenstubbs/orgs", "repos_url": "https://api.github.com/users/stephenstubbs/repos", "events_url": "https://api.github.com/users/stephenstubbs/events{/privacy}", "received_events_url": "https://api.github.com/users/stephenstubbs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/13", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/13/labels", "id": 4073546, "node_id": "MDk6TWlsZXN0b25lNDA3MzU0Ng==", "number": 13, "title": "46", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2019-02-20T17:05:36Z", "updated_at": "2019-08-14T09:26:33Z", "due_on": null, "closed_at": "2019-03-22T15:33:08Z"}, "comments": 7, "created_at": "2013-07-24T08:18:23Z", "updated_at": "2019-12-17T10:12:11Z", "closed_at": "2019-03-18T17:14:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "When there is a (page) break between blocks, the (collapsed) margin at this point should be ignored. In particular, the content on the next page should start at the top of the page, ignoring any `margin-top` value.\n\nOriginally reported as:\n\n---\n\n`@page` inconsistent margin-top\n\nI'm using version 0.19.2\n\nIf I set the following:\n\n```\n    @page {\n        margin-top: 4cm;\n    }\n```\n\nThen I create a document with 5 pages in my example.\n\nI have inconsistent margins. All the odd pages seem to have the same top and bottom margins and all the even pages seem to have the same top and bottom margins but they are different from each other. I don't know if I'm doing something wrong or if this is a bug.  \n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/109", "id": 16578901, "node_id": "MDU6SXNzdWUxNjU3ODkwMQ==", "number": 109, "title": "Punctuation wrongly affects character count for hyphenation", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/12", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/12/labels", "id": 3929263, "node_id": "MDk6TWlsZXN0b25lMzkyOTI2Mw==", "number": 12, "title": "45", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2018-12-29T17:30:42Z", "updated_at": "2019-02-20T17:05:32Z", "due_on": null, "closed_at": "2019-02-20T17:05:32Z"}, "comments": 2, "created_at": "2013-07-10T14:05:18Z", "updated_at": "2019-12-17T10:12:10Z", "closed_at": "2019-01-02T16:46:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Normally short words aren't ever split across lines and hyphenated, but if they have adjacent punctuation then WeasyPrint (version 0.19.2) wrongly treats them as though they were a longer word.\n\nWe've found \u201c(LST)\u201d being split as \u201c(L-\u201d at the end of one line and \u201cST)\u201d at the start of the next. Evidence that the parens are being counted as word characters: setting this property avoids \u201c(LST)\u201d being split:\n\n```\n-weasy-hyphenate-limit-chars: 6 3;\n```\n\n(But obviously that could still hyphenate a 4-letter word with 2 adjacent punctuation marks. And in the general case requires setting `hyphenate-limit-chars` higher than you wish, thereby also disallowing hyphenating some words without punctuation which you'd wish to allow.)\n\nCSS says to strip punctuation characters between words for counting their characters: http://dev.w3.org/csswg/css-text-4/#hyphenate-char-limits\n\nPyphen say that punctuation-stripping should be done outside of Pyphen:\nhttps://github.com/Kozea/Pyphen/issues/4\n\nLet me know if you'd like a sample document showing this happening.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/109/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/100", "id": 15740839, "node_id": "MDU6SXNzdWUxNTc0MDgzOQ==", "number": 100, "title": "Crash on trailing spaces with font-size: 0", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-06-19T12:01:24Z", "updated_at": "2013-12-27T15:01:33Z", "closed_at": "2013-12-27T15:01:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "An assert is raised with:\n`<body style=\"font-size:0\">a </body>`\nRemoving the assert does not fix the bug (the box should not be in the linebox).\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/96", "id": 14986750, "node_id": "MDU6SXNzdWUxNDk4Njc1MA==", "number": 96, "title": "Table cells are not split between multiple pages", "user": {"login": "federicodalcastello", "id": 4578727, "node_id": "MDQ6VXNlcjQ1Nzg3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/4578727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/federicodalcastello", "html_url": "https://github.com/federicodalcastello", "followers_url": "https://api.github.com/users/federicodalcastello/followers", "following_url": "https://api.github.com/users/federicodalcastello/following{/other_user}", "gists_url": "https://api.github.com/users/federicodalcastello/gists{/gist_id}", "starred_url": "https://api.github.com/users/federicodalcastello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/federicodalcastello/subscriptions", "organizations_url": "https://api.github.com/users/federicodalcastello/orgs", "repos_url": "https://api.github.com/users/federicodalcastello/repos", "events_url": "https://api.github.com/users/federicodalcastello/events{/privacy}", "received_events_url": "https://api.github.com/users/federicodalcastello/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-05-31T10:07:06Z", "updated_at": "2017-03-25T22:54:37Z", "closed_at": "2017-03-25T22:54:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI am evaluating WeasyPrint for integration and I made tests converting specific pages. Unfortunately, I found an unexpected behaviour by converting the following page (italian holidays portal):\n\nhttp://www.arca-enel.it/go/55155?wp_fn=dettaglio&codice=23882&codCat=2013E\n\nIn fact, all the content is rendered in page 2. Page 1 and 3 are left blank. Main browsers' print preview correctly separates the text among pages.\n\nIs this a bug or is there something wrong in the page source?\n\nThankyou\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/96/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/95", "id": 14753710, "node_id": "MDU6SXNzdWUxNDc1MzcxMA==", "number": 95, "title": "Text encoding issue on OSX", "user": {"login": "mikhuang", "id": 206310, "node_id": "MDQ6VXNlcjIwNjMxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/206310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikhuang", "html_url": "https://github.com/mikhuang", "followers_url": "https://api.github.com/users/mikhuang/followers", "following_url": "https://api.github.com/users/mikhuang/following{/other_user}", "gists_url": "https://api.github.com/users/mikhuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikhuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikhuang/subscriptions", "organizations_url": "https://api.github.com/users/mikhuang/orgs", "repos_url": "https://api.github.com/users/mikhuang/repos", "events_url": "https://api.github.com/users/mikhuang/events{/privacy}", "received_events_url": "https://api.github.com/users/mikhuang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2013-05-25T07:35:56Z", "updated_at": "2019-01-24T17:14:45Z", "closed_at": "2019-01-24T17:14:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello again,\n\nThe PDFs I print are visually great, however when I try to copy and paste text, I end up with unknown characters, e.g. `\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd` when I copied `WeasyPrint converts HTML/CSS documents to PDF` after PDFing the WeasyPrint site. It also breaks searching the PDF. Any ideas why this might be happening? I'm using both Preview and Adobe Acrobat to view. Thanks!\n\nWeasyPrint==0.19.1\ncairocffi==0.4.3\nlxml==3.1beta1\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/95/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/82", "id": 14437477, "node_id": "MDU6SXNzdWUxNDQzNzQ3Nw==", "number": 82, "title": "Table with collapsed border and right aligned renders borders incorrectly", "user": {"login": "si13b", "id": 2208042, "node_id": "MDQ6VXNlcjIyMDgwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2208042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/si13b", "html_url": "https://github.com/si13b", "followers_url": "https://api.github.com/users/si13b/followers", "following_url": "https://api.github.com/users/si13b/following{/other_user}", "gists_url": "https://api.github.com/users/si13b/gists{/gist_id}", "starred_url": "https://api.github.com/users/si13b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/si13b/subscriptions", "organizations_url": "https://api.github.com/users/si13b/orgs", "repos_url": "https://api.github.com/users/si13b/repos", "events_url": "https://api.github.com/users/si13b/events{/privacy}", "received_events_url": "https://api.github.com/users/si13b/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-05-17T04:22:03Z", "updated_at": "2013-12-27T17:37:23Z", "closed_at": "2013-12-27T16:07:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following table has display: inline-block and is right aligned within its parent. Its borders are collapsed. A 2px border is set on the cells.\n\nIn the example below, the borders were rendered in the middle of the cell (right through the content), instead of on the right. It's as if the renderer is drawing the borders in the table's position prior to right alignment.\n\n```\n<div style=\"text-align: right; width: 60%;\">\n  <table style=\"display: inline-block; border-collapse: collapse;\" cellspacing=\"0\">\n    <tbody>\n      <tr>\n        <td style=\"width: 30px; background-color: pink; border-right: 2px solid #000\">\n        </td>\n        <td style=\"width: 30px; background-color: pink; border-right: 2px solid #000\">\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/82/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/74", "id": 13529962, "node_id": "MDU6SXNzdWUxMzUyOTk2Mg==", "number": 74, "title": "Crash on space followed by dot at line break.", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-04-23T11:25:28Z", "updated_at": "2013-12-14T13:06:05Z", "closed_at": "2013-12-14T13:06:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Test case:\n\n```\n% weasyprint 'data:text/html,<p style=\"width:0\">lol .a n' /tmp/a.pdf\n[...]\nAssertionError: Got ' .a ' between two lines. Expected nothing or a preserved line break\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/73", "id": 13129775, "node_id": "MDU6SXNzdWUxMzEyOTc3NQ==", "number": 73, "title": "Layout should use the actual resolution for text hinting", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/21", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/21/labels", "id": 6190024, "node_id": "MDk6TWlsZXN0b25lNjE5MDAyNA==", "number": 21, "title": "53.0b1", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2020-12-07T23:04:24Z", "updated_at": "2022-04-25T22:04:50Z", "due_on": null, "closed_at": "2021-04-26T09:31:26Z"}, "comments": 4, "created_at": "2013-04-12T17:06:16Z", "updated_at": "2021-04-26T20:06:15Z", "closed_at": "2021-04-26T20:06:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\u2026 otherwise, we get results like this:\n![text overflowing its container](https://f.cloud.github.com/assets/291359/374024/a58a5448-a392-11e2-9a7b-b39f6a7b521d.png)\n\nWell, this is actually with the patch below. v0.18 just drops some words at the end of the line.\n\n```\ndiff --git a/weasyprint/text.py b/weasyprint/text.py\nindex a43b1aa..acb636c 100644\n--- a/weasyprint/text.py\n+++ b/weasyprint/text.py\n@@ -476,6 +476,7 @@ def line_widths(box, enable_hinting, width, skip=None):\n def show_first_line(context, pango_layout, hinting):\n     \"\"\"Draw the given ``line`` to the Cairo ``context``.\"\"\"\n     context = ffi.cast('cairo_t *', context._pointer)\n+    pango.pango_layout_set_width(pango_layout.layout, -1)\n     if hinting:\n         pangocairo.pango_cairo_update_layout(context, pango_layout.layout)\n     pangocairo.pango_cairo_show_layout_line(\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/73/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/71", "id": 12880146, "node_id": "MDU6SXNzdWUxMjg4MDE0Ng==", "number": 71, "title": "Crash on parsing functional notation in 'content'", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-04-06T16:43:24Z", "updated_at": "2013-04-08T08:55:11Z", "closed_at": "2013-04-08T08:55:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Thanks to H\u00e5kon Wium Lie for the report.\n\n```\n(venv)howcome@uu:~/w/2013/tests$ weasyprint http://people.opera.com/howcome/2013/tests/paged-media.html foo.pdf\nIgnored `marks: crop cross` at 11:3, unknown property.\nIgnored `bleed: 2mm` at 15:3, unknown property.\nIgnored `position: running(header)` at 32:3, invalid value.\nIgnored `flow: static(header)` at 33:3, unknown property.\nIgnored `content: flow(header)` at 38:5, invalid value.\nIgnored `content: element(header)` at 39:5, invalid value.\nIgnored `content: flow(header)` at 57:5, invalid value.\nIgnored `content: element(header)` at 58:5, invalid value.\nIgnored `hyphens: auto` at 83:3, the property is experimental or non-standard, use -weasy-hyphens.\nIgnored `column-span: all` at 94:3, unknown property.\nIgnored `column-span: all` at 129:3, unknown property.\nIgnored `column-count: 2` at 133:3, unknown property.\nIgnored `-moz-column-count: 2` at 133:20, unknown property.\nIgnored `column-gap: 1.5em` at 134:3, unknown property.\nIgnored `-moz-column-gap: 1.5em` at 134:22, unknown property.\nIgnored `column-fill: auto` at 135:3, unknown property.\nTraceback (most recent call last):\n  File \"/home/howcome/venv/bin/weasyprint\", line 9, in <module>\n    load_entry_point('WeasyPrint==0.18', 'console_scripts', 'weasyprint')()\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/__main__.py\", line 141, in main\n    getattr(html, 'write_' + format_)(output, **kwargs)\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 159, in write_pdf\n    return self.render(stylesheets).write_pdf(target, zoom)\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 131, in render\n    return Document._render(self, stylesheets, enable_hinting)\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/document.py\", line 252, in _render\n    for css in stylesheets or []])\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 423, in get_all_computed_styles\n    element_tree, device_media_type, url_fetcher))\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 179, in find_stylesheets\n    url_fetcher=url_fetcher, media_type=device_media_type)\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/__init__.py\", line 237, in __init__\n    media_type, base_url, self.stylesheet.rules, url_fetcher))\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/__init__.py\", line 339, in preprocess_stylesheet\n    base_url, rule.declarations))\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/validation.py\", line 1487, in preprocess_declarations\n    result = list(expander_(base_url, name, tokens))\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/validation.py\", line 1438, in validate_non_shorthand\n    value = function(tokens, base_url)\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/validation.py\", line 488, in content\n    parsed_tokens = [validate_content_token(base_url, v) for v in tokens]\n  File \"/home/howcome/venv/local/lib/python2.7/site-packages/weasyprint/css/validation.py\", line 512, in validate_content_token\n    args = [a.value for a in args]\nAttributeError: 'FunctionToken' object has no attribute 'value'\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/71/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/67", "id": 12615350, "node_id": "MDU6SXNzdWUxMjYxNTM1MA==", "number": 67, "title": "cairocffi constants instead of literal strings", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-03-29T19:06:59Z", "updated_at": "2013-03-31T18:24:46Z", "closed_at": "2013-03-31T18:24:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Replace any literal strings representing an enum value passed to cairocffi, and use a constant imported from cairocffi instead. The constants will always work, but they will switch to integers rather than strings in cairocffi 0.4, to go along with backward-incompatible changes in CFF 0.6.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/67/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/62", "id": 12318055, "node_id": "MDU6SXNzdWUxMjMxODA1NQ==", "number": 62, "title": "Font-family with fallback values break margins on windows.", "user": {"login": "romaia", "id": 428053, "node_id": "MDQ6VXNlcjQyODA1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/428053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romaia", "html_url": "https://github.com/romaia", "followers_url": "https://api.github.com/users/romaia/followers", "following_url": "https://api.github.com/users/romaia/following{/other_user}", "gists_url": "https://api.github.com/users/romaia/gists{/gist_id}", "starred_url": "https://api.github.com/users/romaia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romaia/subscriptions", "organizations_url": "https://api.github.com/users/romaia/orgs", "repos_url": "https://api.github.com/users/romaia/repos", "events_url": "https://api.github.com/users/romaia/events{/privacy}", "received_events_url": "https://api.github.com/users/romaia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-03-22T13:04:48Z", "updated_at": "2016-08-17T15:09:03Z", "closed_at": "2016-08-17T15:09:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that when I specify font-family with more than one value, it will break the elements margins on windows (To be honest, I have being testing using wine). Happens with weasyprint 0.15 and 0.16 (I could not install 0.17 under wine yet).\n\n``` html\n<html><head>\n    <style>\n      @page {size: 500px ; background-color: white; }\n      .without { font-family: serif; } \n      .with { font-family: serif, sans-serif; } \n      h1 { margin: 0; } \n    </style>\n</head><body>\n      <div id=\"title\" class=\"without\">\n        <h1>Without fallback</h1>\n        <span class=\"subtitle\">Subtitle</span>\n      </div>\n\n      <div style=\"height: 50px\"></div>\n\n      <div id=\"title\" class=\"with\">\n        <h1>With fallback</h1>\n        <span class=\"subtitle\">Subtitle</span>\n      </div>\n</html>\n```\n\nOn ubuntu:\n![linux](https://f.cloud.github.com/assets/428053/290756/537c34c6-92f0-11e2-8fa6-2f7a7e65f754.png)\n\nOn windows:\n![win](https://f.cloud.github.com/assets/428053/290757/57419830-92f0-11e2-9127-fe41fc3e1362.png)\n\nOn wine:\ngtk version: (2, 28, 3)\ncairo version: 1.8.10\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/62/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/55", "id": 12226583, "node_id": "MDU6SXNzdWUxMjIyNjU4Mw==", "number": 55, "title": "Vertical align of images in list-style", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-03-20T13:23:47Z", "updated_at": "2019-07-19T08:56:36Z", "closed_at": "2019-07-19T08:56:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When the property `list-style` is set to an image, the image is not vertically aligned with the text.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/55/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/54", "id": 12219030, "node_id": "MDU6SXNzdWUxMjIxOTAzMA==", "number": 54, "title": "Image ratio ignored for large images with small max-width", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-03-20T09:45:19Z", "updated_at": "2013-04-02T10:42:09Z", "closed_at": "2013-04-02T10:42:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A 400\u00d7400px image with `max-width: 200px` is resized to 200\u00d7400px. It should be 200\u00d7200px.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/54/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/46", "id": 12013933, "node_id": "MDU6SXNzdWUxMjAxMzkzMw==", "number": 46, "title": "Encoding issue.", "user": {"login": "migrome", "id": 627009, "node_id": "MDQ6VXNlcjYyNzAwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/627009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/migrome", "html_url": "https://github.com/migrome", "followers_url": "https://api.github.com/users/migrome/followers", "following_url": "https://api.github.com/users/migrome/following{/other_user}", "gists_url": "https://api.github.com/users/migrome/gists{/gist_id}", "starred_url": "https://api.github.com/users/migrome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/migrome/subscriptions", "organizations_url": "https://api.github.com/users/migrome/orgs", "repos_url": "https://api.github.com/users/migrome/repos", "events_url": "https://api.github.com/users/migrome/events{/privacy}", "received_events_url": "https://api.github.com/users/migrome/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32803946, "node_id": "MDU6TGFiZWwzMjgwMzk0Ng==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/crash", "name": "crash", "color": "e10c02", "default": false, "description": "Problems preventing documents from being rendered"}, {"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-03-14T11:09:53Z", "updated_at": "2015-08-14T12:05:13Z", "closed_at": "2015-08-14T12:05:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "python 2.7\nI have weasyprint library stored inside the project. Path to the project has russian letters.\n\n```\nTraceback (most recent call last):\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\main.py\", line 6, in <module>\n    from weasyprint import HTML\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\weasyprint\\__init__.py\", line 304, in <module>\n    from .css import PARSER, preprocess_stylesheet\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\weasyprint\\css\\__init__.py\", line 30, in <module>\n    from . import computed_values\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\weasyprint\\css\\computed_values.py\", line 20, in <module>\n    from .. import text\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\weasyprint\\text.py\", line 18, in <module>\n    import pyphen\n  File \"D:\\\\_IDE\\eclipse\\workspace\\test\\src - \u043a\u043e\u043f\u0438\u044f\\src\\pyphen\\__init__.py\", line 44, in <module>\n    dictionaries_root = os.path.join(os.path.dirname(__file__), 'dictionaries')\n  File \"C:\\dev\\Python27\\lib\\ntpath.py\", line 108, in join\n    path += \"\\\\\" + b\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xea in position 70: ordinal not in range(128)\n```\n\nShould be something like:\n\n```\nencoding = sys.getfilesystemencoding()\n__file__.decode(encoding)\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/46/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45/events", "html_url": "https://github.com/Kozea/WeasyPrint/pull/45", "id": 11970800, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU5MDk5OQ==", "number": 45, "title": "Pyphen requires easy_install with Python 2.6", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-03-13T12:20:16Z", "updated_at": "2014-07-03T04:15:21Z", "closed_at": "2013-12-14T13:07:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/pulls/45", "html_url": "https://github.com/Kozea/WeasyPrint/pull/45", "diff_url": "https://github.com/Kozea/WeasyPrint/pull/45.diff", "patch_url": "https://github.com/Kozea/WeasyPrint/pull/45.patch", "merged_at": null}, "body": "I was installing WeasyPrint 0.17 on an Ubuntu 10.04 LTS server. This is still running Python 2.6, and the Pyphen install with pip failed there (full error message below). It looks to be a bug with the tar library on Python 2.6, which won't ever be fixed: http://bugs.python.org/issue10292\n\nUsing easy_install instead for Pyphen worked fine, then I was able to use pip to install WeasyPrint as normal.\n\nI mentioned this in the bit which covers old version of Ubuntu and Debian. If there are other platforms still using Python 2.6 then that may not be the best placed for it.\n\n```\nDownloading/unpacking Pyphen (from WeasyPrint)\n  Downloading Pyphen-0.7.tar.gz (933Kb): 933Kb downloaded\nException:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 252, in main\n    self.run(options, args)\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 408, in run\n    requirement_set.install_files(finder, force_root_egg_info=self.bundle)\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 1757, in install_files\n    self.unpack_url(url, location)\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 1901, in unpack_url\n    self.unpack_file(temp_location, location, content_type, link)\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 1919, in unpack_file\n    self.untar_file(filename, location)\n  File \"/usr/lib/python2.6/dist-packages/pip.py\", line 1988, in untar_file\n    fp = tar.extractfile(member)\n  File \"/usr/lib/python2.6/tarfile.py\", line 2122, in extractfile\n    tarinfo))\n  File \"/usr/lib/python2.6/tarfile.py\", line 2105, in extractfile\n    if tarinfo.isreg():\nAttributeError: 'NoneType' object has no attribute 'isreg'\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/45/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/40", "id": 11453953, "node_id": "MDU6SXNzdWUxMTQ1Mzk1Mw==", "number": 40, "title": "Hyphenation: handle eg. fr_FR vs. fr", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-27T12:50:32Z", "updated_at": "2019-12-17T10:12:09Z", "closed_at": "2013-12-27T00:25:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "WeasyPrint only enables hyphenation when the `lang` attribute matches exactly the dictionary name. It should be smarter when matching languages.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/39", "id": 11359329, "node_id": "MDU6SXNzdWUxMTM1OTMyOQ==", "number": 39, "title": "Floats inside inlines are broken", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/9", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/9/labels", "id": 2820082, "node_id": "MDk6TWlsZXN0b25lMjgyMDA4Mg==", "number": 9, "title": "v0.42", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-10-06T14:21:33Z", "updated_at": "2018-01-06T17:08:50Z", "due_on": null, "closed_at": "2018-01-06T17:08:50Z"}, "comments": 1, "created_at": "2013-02-25T13:56:15Z", "updated_at": "2017-11-19T10:49:09Z", "closed_at": "2017-11-19T10:43:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some cases are totally broken:\r\n\r\n``` html\r\n<style>\r\n@page { margin: 0 }\r\nbody { margin: 0 }\r\np { padding: 0 5em }\r\np:last-child, p:first-child { text-align: justify }\r\nspan { background-color: rgba(255, 0, 0, 0.2); float: left; margin-left: -5em }\r\nspan + span { background-color: rgba(0, 0, 255, 0.2) }\r\ni { background-color: rgba(0, 255, 0, 0.2); float: right; margin-right: -5em }\r\n</style>\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p><span>ShorterButVeryLong</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>Shorter</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p><span>Shorter</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>Shorter</span> Pig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort <span>ribs</span> brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>Shorter</span> Pig sirloin tenderloin salami tongue short <span>ribs</span> chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short <span>ribs</span> chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Start <strong>before<span>Test</span> middle <span>Shorter</span>after</strong>\r\nPig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Start <strong>before<span>Test</span> middle <span>ShorterButVeryLong</span>after</strong>\r\nPig sirloin tenderloin salami tongue short ribs chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short <i>Ribs</i> chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short <i>BigBigBigRibs</i> chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n\r\n<p>Test <span>VeryVeryVeryLong</span> Pig sirloin tenderloin salami tongue short <i>BigBigBigRibs</i> chicken\r\npork ground round ham hock kielbasa tail hamburger spare ribs. Rump sirloin\r\nshort ribs brisket jerky. Jowl pork chop ball tip spare ribs pancetta ham hock,\r\n```\r\n\r\n- [x] Justified, long float left.\r\n- [x] Long float left.\r\n- [x] Leading long float left.\r\n- [x] Short float left.\r\n- [x] Leading short float left.\r\n- [x] Two short floats left on two different lines.\r\n- [x] Two short floats left on the same line.\r\n- [x] Long and short floats left in the same line.\r\n- [x] Two short floats left, one in a nested tag.\r\n- [x] Long and short floats left, on in a nested tag.\r\n- [x] Long float left and short float right on the same line.\r\n- [x] Long float left and long float right on the same line.\r\n- [x] Justified, long float left and long float right on the same line.\r\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/39/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/38", "id": 11206699, "node_id": "MDU6SXNzdWUxMTIwNjY5OQ==", "number": 38, "title": "Table cell widths (sometimes) being ignored", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-02-20T17:25:31Z", "updated_at": "2014-05-02T10:41:51Z", "closed_at": "2014-05-02T10:11:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Have a look at http://www.stripey.com/demo/weasyprint/table_cell_width.html in a web browser and its rendering in WeasyPrint (version 0.16): http://www.stripey.com/demo/weasyprint/table_cell_width.pdf\n\nAll the tables have `width: 100%`.\n\nIn the second table WeasyPrint ignores `%` widths (applied to both columns, just to make sure), using the default widths for the content. Browsers (I checked Firefox and Chromium) behave as expected.\n\nIn the third table WeasyPrint ignores an `em` width setting on the left column, again using the default. Browsers behave as expected here: resizing the window only changes the (unspecified) width of the right column.\n\nThe fourth table shows the only way I've found of making WeasyPrint take note of cell widths: specifying an `em` width on each column. Despite the use of `em`, these are effectively proportional widths (obviously it isn't possible to use those specified widths while also having the entire table width add up to the required 100% of the page width). WeasyPrint matches browsers here: `10em` out of a total of (`10em + 15em`) gives 40% to the first column and 60% to the second; browsers render this the same as the second table, with those `%` widths specified.\n\nSo it seems that percentage widths are ignored entirely, and other units' widths only have any effect if they're specified for every column; I'm not sure if that's two independent bugs or just one \u2014 let me know if you want me to split this into two separate issues.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/38/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/37", "id": 11000563, "node_id": "MDU6SXNzdWUxMTAwMDU2Mw==", "number": 37, "title": "Line height and margin applied incorrectly", "user": {"login": "matthewkogan", "id": 3594657, "node_id": "MDQ6VXNlcjM1OTQ2NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3594657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewkogan", "html_url": "https://github.com/matthewkogan", "followers_url": "https://api.github.com/users/matthewkogan/followers", "following_url": "https://api.github.com/users/matthewkogan/following{/other_user}", "gists_url": "https://api.github.com/users/matthewkogan/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewkogan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewkogan/subscriptions", "organizations_url": "https://api.github.com/users/matthewkogan/orgs", "repos_url": "https://api.github.com/users/matthewkogan/repos", "events_url": "https://api.github.com/users/matthewkogan/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewkogan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2013-02-14T15:34:30Z", "updated_at": "2016-03-08T19:03:46Z", "closed_at": "2016-03-08T19:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n<head>\n    <style>\n        .numbered {\n            font-family: Verdana, Arial;\n            margin-left: 9em;\n        }\n        .numberspan {\n            float: left;\n            margin-left: -4em;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"numbered\"><span class=\"numberspan\">1.1.1.</span><span>The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog.</span></div>\n</body>\n```\n\nChrome renders it as:\n![Chrome rendering](https://f.cloud.github.com/assets/3594657/157256/33059bc0-76bb-11e2-8571-43caf2453152.png)\n\nWeasyPrint renders it as:\n![WeasyPrint rendering](https://f.cloud.github.com/assets/3594657/157313/6d6ba4b0-76bd-11e2-9072-7ff526828872.png)\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/37/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/36", "id": 10992605, "node_id": "MDU6SXNzdWUxMDk5MjYwNQ==", "number": 36, "title": "Allow page breaks in floats, absolute blocks, table-cells", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/27", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/27/labels", "id": 6938068, "node_id": "MDk6TWlsZXN0b25lNjkzODA2OA==", "number": 27, "title": "54.0", "description": "- Footnotes support\r\n- Parallel flows, with improved layout for columns and tables\r\n- Colored emojis", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-07-12T13:29:15Z", "updated_at": "2022-04-25T22:07:22Z", "due_on": null, "closed_at": "2022-01-08T14:45:23Z"}, "comments": 36, "created_at": "2013-02-14T11:54:38Z", "updated_at": "2022-11-26T15:57:55Z", "closed_at": "2021-12-12T17:58:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Floated elements that don't fit on the current page simply fall off the bottom, rather than being placed on the next page.\n\nHere's a handy long list of floated elements to demonstrate the problem: http://www.stripey.com/demo/weasyprint/float_off_bottom.html\n\nLook at it in Firefox and do \u2018Print Preview\u2019. You should see that there's a page break, with the list being continued on page 2. Similarly if you print from Chromium.\n\nBut WeasyPrint generates this file, where the elements simply run off the bottom of the first page: http://www.stripey.com/demo/weasyprint/float_off_bottom.pdf\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/36/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/35", "id": 10749937, "node_id": "MDU6SXNzdWUxMDc0OTkzNw==", "number": 35, "title": "Page margins are broken with \"body { overflow: auto }\" style", "user": {"login": "ksaylor", "id": 1017935, "node_id": "MDQ6VXNlcjEwMTc5MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1017935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ksaylor", "html_url": "https://github.com/ksaylor", "followers_url": "https://api.github.com/users/ksaylor/followers", "following_url": "https://api.github.com/users/ksaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ksaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ksaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ksaylor/subscriptions", "organizations_url": "https://api.github.com/users/ksaylor/orgs", "repos_url": "https://api.github.com/users/ksaylor/repos", "events_url": "https://api.github.com/users/ksaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ksaylor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19", "html_url": "https://github.com/Kozea/WeasyPrint/milestone/19", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/milestones/19/labels", "id": 4830306, "node_id": "MDk6TWlsZXN0b25lNDgzMDMwNg==", "number": 19, "title": "52", "description": "", "creator": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2019-11-09T14:59:31Z", "updated_at": "2020-11-02T20:42:33Z", "due_on": null, "closed_at": "2020-11-02T20:42:33Z"}, "comments": 9, "created_at": "2013-02-07T18:39:28Z", "updated_at": "2020-06-22T22:50:03Z", "closed_at": "2020-06-22T22:49:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a CSS file that defines headers and footers using @top-center, @bottom-center, and @top-right. When I use weasyprint the resulting PDF does not have the headers and footers. Here's a snippet from the CSS file:\n\n```\n@page\n{\n    size: letter;\n    margin: 27mm 16mm 27mm 16mm;\n    counter-increment: page;\n    @bottom-center\n    {\n        content: counter(page);\n        white-space: pre;\n        color: grey;\n        }\n    @top-center\n    {\n        content: 'Strategic Planning Concept';\n        color: grey;\n        border-bottom: solid 1px grey;\n    }\n    @top-left\n    {\n        content: ' \\a \\a \\a ';\n        white-space: pre;\n        color: grey;\n        border-bottom: solid 1px grey;\n    }\n    @top-right\n    {\n        content: ' \\a \\a \\a February 6, 2013';\n        white-space: pre;\n        color: grey;\n        border-bottom: solid 1px grey;\n    }\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/35/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/32", "id": 10027246, "node_id": "MDU6SXNzdWUxMDAyNzI0Ng==", "number": 32, "title": "height for table", "user": {"login": "Daisho", "id": 983269, "node_id": "MDQ6VXNlcjk4MzI2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/983269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daisho", "html_url": "https://github.com/Daisho", "followers_url": "https://api.github.com/users/Daisho/followers", "following_url": "https://api.github.com/users/Daisho/following{/other_user}", "gists_url": "https://api.github.com/users/Daisho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daisho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daisho/subscriptions", "organizations_url": "https://api.github.com/users/Daisho/orgs", "repos_url": "https://api.github.com/users/Daisho/repos", "events_url": "https://api.github.com/users/Daisho/events{/privacy}", "received_events_url": "https://api.github.com/users/Daisho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-01-16T17:24:20Z", "updated_at": "2013-12-30T13:59:22Z", "closed_at": "2013-12-30T13:59:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "height works like min height for table with fixed layout but it's not working with % in weasyprint. With cm it's ok.\nkind of the same with width.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/32/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/31", "id": 10027201, "node_id": "MDU6SXNzdWUxMDAyNzIwMQ==", "number": 31, "title": "Honor the vertical-align property in fixed-height cells", "user": {"login": "Daisho", "id": 983269, "node_id": "MDQ6VXNlcjk4MzI2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/983269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daisho", "html_url": "https://github.com/Daisho", "followers_url": "https://api.github.com/users/Daisho/followers", "following_url": "https://api.github.com/users/Daisho/following{/other_user}", "gists_url": "https://api.github.com/users/Daisho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daisho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daisho/subscriptions", "organizations_url": "https://api.github.com/users/Daisho/orgs", "repos_url": "https://api.github.com/users/Daisho/repos", "events_url": "https://api.github.com/users/Daisho/events{/privacy}", "received_events_url": "https://api.github.com/users/Daisho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2013-01-16T17:22:56Z", "updated_at": "2015-04-25T15:55:32Z", "closed_at": "2015-04-25T15:55:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "inside table cell vertical align is not working\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/31/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/30", "id": 9947125, "node_id": "MDU6SXNzdWU5OTQ3MTI1", "number": 30, "title": "Value for right: ignored on <img>", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-01-14T16:12:52Z", "updated_at": "2013-12-27T17:35:57Z", "closed_at": "2013-12-27T17:35:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Have a look at http://www.stripey.com/demo/weasyprint/abs_pos.html and its output in WeasyPrint: http://www.stripey.com/demo/weasyprint/abs_pos.pdf\n\nThe red squares are `<span>`s; the yellow ones `<img>`s.\n\nThe top pair have `right:\u00a05ex`, which positions the `<span>` correctly, but on the `<img>` is being treated as `right:\u00a00`.\n\nThe bottom pair show the workaround: using `right:\u00a00; margin-right:\u00a05ex`, which works on both the `<span>` and the `<img>`.\n\nAll 4 boxes are positioned as I'd expect in Firefox and Chromium.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/30/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/29", "id": 9879392, "node_id": "MDU6SXNzdWU5ODc5Mzky", "number": 29, "title": "Table header (maybe footer too) not repeated on each pages", "user": {"login": "Daisho", "id": 983269, "node_id": "MDQ6VXNlcjk4MzI2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/983269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daisho", "html_url": "https://github.com/Daisho", "followers_url": "https://api.github.com/users/Daisho/followers", "following_url": "https://api.github.com/users/Daisho/following{/other_user}", "gists_url": "https://api.github.com/users/Daisho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daisho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daisho/subscriptions", "organizations_url": "https://api.github.com/users/Daisho/orgs", "repos_url": "https://api.github.com/users/Daisho/repos", "events_url": "https://api.github.com/users/Daisho/events{/privacy}", "received_events_url": "https://api.github.com/users/Daisho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-01-11T13:10:27Z", "updated_at": "2022-03-09T10:16:36Z", "closed_at": "2013-05-01T06:50:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "With weasyprint 0.16 and an html document with a big table taking at least 2 pages, and a thead section, those header are not repeated on next pages.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/29/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/26", "id": 9464027, "node_id": "MDU6SXNzdWU5NDY0MDI3", "number": 26, "title": "min-width and max-width being ignored", "user": {"login": "Smylers", "id": 598534, "node_id": "MDQ6VXNlcjU5ODUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smylers", "html_url": "https://github.com/Smylers", "followers_url": "https://api.github.com/users/Smylers/followers", "following_url": "https://api.github.com/users/Smylers/following{/other_user}", "gists_url": "https://api.github.com/users/Smylers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smylers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smylers/subscriptions", "organizations_url": "https://api.github.com/users/Smylers/orgs", "repos_url": "https://api.github.com/users/Smylers/repos", "events_url": "https://api.github.com/users/Smylers/events{/privacy}", "received_events_url": "https://api.github.com/users/Smylers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-12-21T13:01:23Z", "updated_at": "2013-12-27T14:39:38Z", "closed_at": "2013-12-27T14:39:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`min-width` and `max-width` seem to be being ignored; the changelog says they've been supported since version 0.8.\n\nSee: http://www.stripey.com/demo/weasyprint/min_max-width.html and http://www.stripey.com/demo/weasyprint/min_max-width.pdf\n\nThe `min-width` should be stretching the second paragraph to be the same width as the `width` does one the first. And the `max-width` on the final paragraph should be constraining it like `width` does on the fourth one.\n\nThat's what happens in browsers, but in WeasyPrint (I checked with version 0.16), the `min-width` and `max-width` are having no affect.\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/26/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21", "repository_url": "https://api.github.com/repos/Kozea/WeasyPrint", "labels_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21/comments", "events_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21/events", "html_url": "https://github.com/Kozea/WeasyPrint/issues/21", "id": 8610155, "node_id": "MDU6SXNzdWU4NjEwMTU1", "number": 21, "title": "`url.startswith('data:')` should be case-insensitive", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32804032, "node_id": "MDU6TGFiZWwzMjgwNDAzMg==", "url": "https://api.github.com/repos/Kozea/WeasyPrint/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": "Existing features not working as expected"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-11-23T16:20:53Z", "updated_at": "2013-03-28T12:34:15Z", "closed_at": "2013-03-28T12:33:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`url.startswith('data:')` should be case-insensitive\n", "reactions": {"url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Kozea/WeasyPrint/issues/21/timeline", "performed_via_github_app": null, "state_reason": "completed"}]