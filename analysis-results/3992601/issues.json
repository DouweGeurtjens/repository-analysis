[{"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/10056", "id": 1648557260, "node_id": "PR_kwDOCK7AWs5NT4yg", "number": 10056, "title": "[Fix] Fix common/ms_3x_coco-instance.py", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-31T02:12:14Z", "updated_at": "2023-03-31T02:48:06Z", "closed_at": "2023-03-31T02:48:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/10056", "html_url": "https://github.com/open-mmlab/mmdetection/pull/10056", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/10056.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/10056.patch", "merged_at": "2023-03-31T02:48:06Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nresolve #10047\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10056/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/10047", "id": 1646913452, "node_id": "I_kwDOCK7AWs5iKees", "number": 10047, "title": "Why using repeated dataset in val_dataloader ?", "user": {"login": "jiarenyf", "id": 12405578, "node_id": "MDQ6VXNlcjEyNDA1NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/12405578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiarenyf", "html_url": "https://github.com/jiarenyf", "followers_url": "https://api.github.com/users/jiarenyf/followers", "following_url": "https://api.github.com/users/jiarenyf/following{/other_user}", "gists_url": "https://api.github.com/users/jiarenyf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiarenyf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiarenyf/subscriptions", "organizations_url": "https://api.github.com/users/jiarenyf/orgs", "repos_url": "https://api.github.com/users/jiarenyf/repos", "events_url": "https://api.github.com/users/jiarenyf/events{/privacy}", "received_events_url": "https://api.github.com/users/jiarenyf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-03-30T04:57:26Z", "updated_at": "2023-03-31T03:32:16Z", "closed_at": "2023-03-31T03:32:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\n\n### Task\n\nI'm using the official example scripts/configs for the officially supported tasks/models/datasets.\n\n### Branch\n\n3.x branch https://github.com/open-mmlab/mmdetection/tree/3.x\n\n### Environment\n\nhttps://github.com/open-mmlab/mmdetection/blob/3.x/configs/common/ms_3x_coco-instance.py#L53\n\n### Reproduces the problem - code sample\n\nhttps://github.com/open-mmlab/mmdetection/blob/3.x/configs/common/ms_3x_coco-instance.py#L53\n\n### Reproduces the problem - command or script\n\nhttps://github.com/open-mmlab/mmdetection/blob/3.x/configs/common/ms_3x_coco-instance.py#L53\n\n### Reproduces the problem - error message\n\nhttps://github.com/open-mmlab/mmdetection/blob/3.x/configs/common/ms_3x_coco-instance.py#L53\n\n### Additional information\n\nhttps://github.com/open-mmlab/mmdetection/blob/3.x/configs/common/ms_3x_coco-instance.py#L53", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/10047/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9992", "id": 1631623147, "node_id": "PR_kwDOCK7AWs5MbOKN", "number": 9992, "title": "[Fix] Fix YOLOv3 TTA", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371481368, "node_id": "LA_kwDOCK7AWs8AAAABBI-DGA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-2.x", "name": "v-2.x", "color": "7E2F6B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-20T08:28:14Z", "updated_at": "2023-03-22T02:12:29Z", "closed_at": "2023-03-22T02:12:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9992", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9992", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9992.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9992.patch", "merged_at": "2023-03-22T02:12:29Z"}, "body": "Resolve https://github.com/open-mmlab/mmdetection/issues/9962\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9992/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9966", "id": 1627381419, "node_id": "PR_kwDOCK7AWs5MNGly", "number": 9966, "title": "[Fix] Fix img_shape.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-03-16T12:30:04Z", "updated_at": "2023-03-17T06:56:34Z", "closed_at": "2023-03-17T06:56:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9966", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9966", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9966.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9966.patch", "merged_at": "2023-03-17T06:56:33Z"}, "body": "img_shape should be (h, w)\r\n\r\nTODO:\r\n\r\n- [x] Unit tests", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9966/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9964", "id": 1627333262, "node_id": "PR_kwDOCK7AWs5MM788", "number": 9964, "title": "[Fix] Fix RTMDetIns prior generator device.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-03-16T12:03:02Z", "updated_at": "2023-03-17T02:09:32Z", "closed_at": "2023-03-17T02:09:32Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9964", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9964", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9964.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9964.patch", "merged_at": "2023-03-17T02:09:32Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9964/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9962", "id": 1627081942, "node_id": "I_kwDOCK7AWs5g-0zW", "number": 9962, "title": "RuntimeError: shape '[-1, 4]' is invalid for input of size 95 when testing yolo(filp=true)", "user": {"login": "Murray-Yin", "id": 114552554, "node_id": "U_kgDOBtPu6g", "avatar_url": "https://avatars.githubusercontent.com/u/114552554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Murray-Yin", "html_url": "https://github.com/Murray-Yin", "followers_url": "https://api.github.com/users/Murray-Yin/followers", "following_url": "https://api.github.com/users/Murray-Yin/following{/other_user}", "gists_url": "https://api.github.com/users/Murray-Yin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Murray-Yin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Murray-Yin/subscriptions", "organizations_url": "https://api.github.com/users/Murray-Yin/orgs", "repos_url": "https://api.github.com/users/Murray-Yin/repos", "events_url": "https://api.github.com/users/Murray-Yin/events{/privacy}", "received_events_url": "https://api.github.com/users/Murray-Yin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-03-16T09:48:05Z", "updated_at": "2023-03-22T08:18:53Z", "closed_at": "2023-03-22T08:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Branch\n\nmaster branch  https://mmdetection.readthedocs.io/en/latest/\n\n### \ud83d\udcda The doc issue\n\n![2222222](https://user-images.githubusercontent.com/114552554/225578970-75b0ed6b-46bc-4ff3-a9a0-a060ed6a46aa.jpg)\r\n![1111111](https://user-images.githubusercontent.com/114552554/225579009-4310eca8-521c-433a-bb6d-69b61b7ac4f1.jpg)\r\n\u5f53\u6211\u60f3\u5728yolo\u4e0a\u8fdb\u884cmultiscaleFlipAug\uff08flip=true\uff09\u65f6\uff0c\u5374\u51fa\u73b0\u4e86\u4ee5\u4e0a\u95ee\u9898\uff0c\u5982\u4f55\u89e3\u51b3\uff0c\u8c22\u8c22\uff01\n\n### Suggest a potential alternative/fix\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9858", "id": 1606157899, "node_id": "PR_kwDOCK7AWs5LGDtK", "number": 9858, "title": "[Fix] Fix cropping polygon mask.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-02T05:58:05Z", "updated_at": "2023-03-07T11:14:48Z", "closed_at": "2023-03-07T11:14:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9858", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9858", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9858.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9858.patch", "merged_at": "2023-03-07T11:14:48Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nThe crop method of PolygonMasks is actually translating the coordinates, not actually clipping the polygon.\r\nFix this bug by applying geometrical intersection.\r\nThis solution refers to https://github.com/facebookresearch/fvcore/blob/main/fvcore/transforms/transform.py.\r\n\r\n## Modification\r\n\r\nFix the `crop` method of `PolygonMasks` with `shapely.geometry.intersection`.\r\nThe geometry intersection is a little bit slower than shifting coordinates after interpolating boundary. But interpolating will generate 1000x more points which will slow down other transforms.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9858/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9734", "id": 1573944264, "node_id": "PR_kwDOCK7AWs5JaVqo", "number": 9734, "title": "[Fix] Fix WIDERFace SSD loss NAN.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371481368, "node_id": "LA_kwDOCK7AWs8AAAABBI-DGA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-2.x", "name": "v-2.x", "color": "7E2F6B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-07T09:04:48Z", "updated_at": "2023-02-07T12:02:58Z", "closed_at": "2023-02-07T12:02:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9734", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9734", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9734.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9734.patch", "merged_at": "2023-02-07T12:02:57Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nSSD300 requires grad clip to avoid exploding gradients.\r\nResolve #9542\r\n\r\n## Modification\r\n\r\nAdd grad_clip in config.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9734/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9694", "id": 1561941345, "node_id": "PR_kwDOCK7AWs5Iye-r", "number": 9694, "title": "[Fix] Fix import error.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-01-30T08:09:21Z", "updated_at": "2023-01-30T08:13:22Z", "closed_at": "2023-01-30T08:13:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9694", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9694", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9694.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9694.patch", "merged_at": "2023-01-30T08:13:21Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nFix bug introduced by #9614.\r\n\r\nresolve #9691", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9694/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9624", "id": 1530531385, "node_id": "PR_kwDOCK7AWs5HPIXv", "number": 9624, "title": "[Fix] Fix use_depthwise in RTMDet.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-01-12T11:12:41Z", "updated_at": "2023-01-13T06:22:12Z", "closed_at": "2023-01-13T06:22:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9624", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9624", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9624.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9624.patch", "merged_at": "2023-01-13T06:22:12Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9624/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9542", "id": 1513492051, "node_id": "I_kwDOCK7AWs5aNg5T", "number": 9542, "title": "[Bug] WIDERFace official config training loss gets NAN", "user": {"login": "jin-s13", "id": 11788150, "node_id": "MDQ6VXNlcjExNzg4MTUw", "avatar_url": "https://avatars.githubusercontent.com/u/11788150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jin-s13", "html_url": "https://github.com/jin-s13", "followers_url": "https://api.github.com/users/jin-s13/followers", "following_url": "https://api.github.com/users/jin-s13/following{/other_user}", "gists_url": "https://api.github.com/users/jin-s13/gists{/gist_id}", "starred_url": "https://api.github.com/users/jin-s13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jin-s13/subscriptions", "organizations_url": "https://api.github.com/users/jin-s13/orgs", "repos_url": "https://api.github.com/users/jin-s13/repos", "events_url": "https://api.github.com/users/jin-s13/events{/privacy}", "received_events_url": "https://api.github.com/users/jin-s13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-12-29T08:11:34Z", "updated_at": "2023-02-08T11:50:59Z", "closed_at": "2023-02-08T11:50:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\n\n### Task\n\nI'm using the official example scripts/configs for the officially supported tasks/models/datasets.\n\n### Branch\n\nmaster branch https://github.com/open-mmlab/mmdetection\n\n### Environment\n\n```\r\nNo CUDA runtime is found, using CUDA_HOME='/mnt/lustre/share/cuda-9.0'\r\nsys.platform: linux\r\nPython: 3.6.13 |Anaconda, Inc.| (default, Jun  4 2021, 14:25:59) [GCC 7.5.0]\r\nCUDA available: False\r\nGCC: gcc (GCC) 5.4.0\r\nPyTorch: 1.8.1+cuda90.cudnn7.6.5\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 5.4\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - OpenMP 201307 (a.k.a. OpenMP 4.0)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=9.0, CUDNN_VERSION=7.6.5, CXX_COMPILER=/usr/local/bin/c++, CXX_FLAGS= -D_GLIBCXX_USE_CXX11_ABI=0 -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type\r\n-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -Wno-unused-but-set-variable -Wno-maybe-unini\r\ntialized -fno-math-errno -fno-trapping-math -Werror=format, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.1, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n```\r\n\r\nTorchVision: 0.8.0a0+2f40a48\r\nOpenCV: 4.6.0\r\nMMCV: 1.4.2\r\nMMCV Compiler: GCC 5.4\r\nMMCV CUDA Compiler: 9.0\r\nMMDetection: 2.26.0+31c8495\r\n\n\n### Reproduces the problem - code sample\n\n-\n\n### Reproduces the problem - command or script\n\n`GPUS_PER_NODE=8 GPUS=8 CPUS_PER_TASK=2 ./tools/slurm_train.sh Test train configs/wider_face/ssd300_wider_face.py work_dirs/ssd300_wider_face\r\n`\n\n### Reproduces the problem - error message\n\n```\r\n2022-12-29 15:58:42,698 - mmdet - INFO - Epoch(val) [3][404]    AP50: 0.0820, mAP: 0.0820                                                                                                  \r\n2022-12-29 15:58:51,194 - mmdet - INFO - Epoch [4][1/55]        lr: 1.990e-03, eta: 3:01:01, time: 7.665, data_time: 6.831, memory: 9269, loss_cls: 7.6470, loss_bbox: 3.2089, loss: 10.8559 \r\n2022-12-29 15:58:55,255 - mmdet - INFO - Epoch [4][2/55]        lr: 2.002e-03, eta: 3:00:15, time: 4.068, data_time: 3.281, memory: 9269, loss_cls: 5.7089, loss_bbox: 2.8437, loss: 8.5526\r\n2022-12-29 15:59:00,380 - mmdet - INFO - Epoch [4][3/55]        lr: 2.014e-03, eta: 2:59:36, time: 5.130, data_time: 4.199, memory: 9269, loss_cls: 4.7298, loss_bbox: 2.7796, loss: 7.5094  \r\n2022-12-29 15:59:12,074 - mmdet - INFO - Epoch [4][4/55]        lr: 2.026e-03, eta: 2:59:43, time: 11.684, data_time: 10.868, memory: 9269, loss_cls: 8.7619, loss_bbox: 3.1394, loss: 11.9013\r\n2022-12-29 15:59:19,008 - mmdet - INFO - Epoch [4][5/55]        lr: 2.038e-03, eta: 2:59:17, time: 6.948, data_time: 5.999, memory: 9269, loss_cls: 9.7502, loss_bbox: 3.8803, loss: 13.6304 \r\n2022-12-29 15:59:31,448 - mmdet - INFO - Epoch [4][6/55]        lr: 2.050e-03, eta: 2:59:28, time: 12.441, data_time: 11.668, memory: 9269, loss_cls: 11.5603, loss_bbox: 3.4775, loss: 15.0378\r\n2022-12-29 15:59:39,742 - mmdet - INFO - Epoch [4][7/55]        lr: 2.062e-03, eta: 2:59:12, time: 8.299, data_time: 7.516, memory: 9269, loss_cls: 11.2196, loss_bbox: 3.4839, loss: 14.7034\r\n2022-12-29 15:59:50,085 - mmdet - INFO - Epoch [4][8/55]        lr: 2.074e-03, eta: 2:59:09, time: 10.333, data_time: 9.528, memory: 9269, loss_cls: 10.2483, loss_bbox: 4.0472, loss: 14.2955\r\n2022-12-29 16:00:01,364 - mmdet - INFO - Epoch [4][9/55]        lr: 2.086e-03, eta: 2:59:12, time: 11.204, data_time: 10.436, memory: 9269, loss_cls: 5.0894, loss_bbox: 4.6891, loss: 9.7784\r\n2022-12-29 16:00:09,459 - mmdet - INFO - Epoch [4][10/55]       lr: 2.098e-03, eta: 2:58:54, time: 8.180, data_time: 7.360, memory: 9269, loss_cls: 27.2303, loss_bbox: 4.1039, loss: 31.3342\r\n2022-12-29 16:00:22,794 - mmdet - INFO - Epoch [4][11/55]       lr: 2.110e-03, eta: 2:59:11, time: 13.336, data_time: 12.508, memory: 9269, loss_cls: 17.0886, loss_bbox: 4.6867, loss: 21.7753\r\n2022-12-29 16:00:28,384 - mmdet - INFO - Epoch [4][12/55]       lr: 2.122e-03, eta: 2:58:37, time: 5.579, data_time: 4.766, memory: 9269, loss_cls: 17.4810, loss_bbox: 4.4995, loss: 21.9805\r\n2022-12-29 16:00:41,585 - mmdet - INFO - Epoch [4][13/55]       lr: 2.134e-03, eta: 2:58:52, time: 13.219, data_time: 12.392, memory: 9269, loss_cls: 19.9781, loss_bbox: 5.2929, loss: 25.2710\r\n2022-12-29 16:00:46,719 - mmdet - INFO - Epoch [4][14/55]       lr: 2.146e-03, eta: 2:58:15, time: 5.120, data_time: 4.322, memory: 9269, loss_cls: 47.5561, loss_bbox: 11.1209, loss: 58.6769              2022-12-29 16:01:00,184 - mmdet - INFO - Epoch [4][15/55]       lr: 2.158e-03, eta: 2:58:32, time: 13.465, data_time: 12.676, memory: 9269, loss_cls: 109.4393, loss_bbox: 9.6013, loss: 119.0406           \r\n2022-12-29 16:01:06,761 - mmdet - INFO - Epoch [4][16/55]       lr: 2.170e-03, eta: 2:58:05, time: 6.563, data_time: 5.801, memory: 9269, loss_cls: 46.4443, loss_bbox: 4.9081, loss: 51.3524               2022-12-29 16:01:20,119 - mmdet - INFO - Epoch [4][17/55]       lr: 2.182e-03, eta: 2:58:20, time: 13.379, data_time: 12.573, memory: 9269, loss_cls: 4942.5396, loss_bbox: 104.6648, loss: 5047.2051       \r\n2022-12-29 16:01:25,744 - mmdet - INFO - Epoch [4][18/55]       lr: 2.194e-03, eta: 2:57:47, time: 5.618, data_time: 4.786, memory: 9269, loss_cls: 9061150126477076856832.0000, loss_bbox: 618768130152895348736.0000, loss: 9679916567780111941632.0000                                                                                                                                                \r\n2022-12-29 16:01:38,900 - mmdet - INFO - Epoch [4][19/55]       lr: 2.206e-03, eta: 2:58:01, time: 13.167, data_time: 12.410, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan       \r\n2022-12-29 16:01:47,495 - mmdet - INFO - Epoch [4][20/55]       lr: 2.218e-03, eta: 2:57:47, time: 8.595, data_time: 7.856, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan           \r\n2022-12-29 16:01:57,279 - mmdet - INFO - Epoch [4][21/55]       lr: 2.230e-03, eta: 2:57:40, time: 9.783, data_time: 9.023, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan         \r\n2022-12-29 16:02:06,307 - mmdet - INFO - Epoch [4][22/55]       lr: 2.242e-03, eta: 2:57:28, time: 9.026, data_time: 8.243, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan           \r\n2022-12-29 16:02:15,655 - mmdet - INFO - Epoch [4][23/55]       lr: 2.254e-03, eta: 2:57:18, time: 9.347, data_time: 8.598, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan         \r\n2022-12-29 16:02:24,530 - mmdet - INFO - Epoch [4][24/55]       lr: 2.266e-03, eta: 2:57:06, time: 8.882, data_time: 8.122, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan           \r\n2022-12-29 16:02:34,867 - mmdet - INFO - Epoch [4][25/55]       lr: 2.278e-03, eta: 2:57:02, time: 10.331, data_time: 9.585, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan        \r\n2022-12-29 16:02:43,227 - mmdet - INFO - Epoch [4][26/55]       lr: 2.290e-03, eta: 2:56:47, time: 8.361, data_time: 7.602, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan           \r\n2022-12-29 16:02:54,472 - mmdet - INFO - Epoch [4][27/55]       lr: 2.302e-03, eta: 2:56:48, time: 11.245, data_time: 10.471, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan       \r\n2022-12-29 16:03:02,513 - mmdet - INFO - Epoch [4][28/55]       lr: 2.314e-03, eta: 2:56:31, time: 8.043, data_time: 7.290, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:03:16,707 - mmdet - INFO - Epoch [4][29/55]       lr: 2.326e-03, eta: 2:56:49, time: 14.195, data_time: 13.455, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:03:21,485 - mmdet - INFO - Epoch [4][30/55]       lr: 2.338e-03, eta: 2:56:13, time: 4.778, data_time: 4.021, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:03:40,089 - mmdet - INFO - Epoch [4][31/55]       lr: 2.350e-03, eta: 2:56:56, time: 18.605, data_time: 17.831, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:03:41,846 - mmdet - INFO - Epoch [4][32/55]       lr: 2.362e-03, eta: 2:56:03, time: 1.725, data_time: 0.818, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:03:58,572 - mmdet - INFO - Epoch [4][33/55]       lr: 2.374e-03, eta: 2:56:35, time: 16.757, data_time: 15.999, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:04:00,291 - mmdet - INFO - Epoch [4][34/55]       lr: 2.386e-03, eta: 2:55:42, time: 1.718, data_time: 0.796, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:04:17,374 - mmdet - INFO - Epoch [4][35/55]       lr: 2.398e-03, eta: 2:56:16, time: 17.080, data_time: 16.316, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n2022-12-29 16:04:19,015 - mmdet - INFO - Epoch [4][36/55]       lr: 2.410e-03, eta: 2:55:23, time: 1.645, data_time: 0.813, memory: 9269, loss_cls: nan, loss_bbox: nan, loss: nan\r\n\r\n```\n\n### Additional information\n\nI used the official ssd300_wider_face.config. At first it runs smoothly, but the loss becomes NAN in the 4th epoch.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9485", "id": 1493579918, "node_id": "I_kwDOCK7AWs5ZBjiO", "number": 9485, "title": "[Bug] I can't run DETR and deformable DETR", "user": {"login": "yuhua666", "id": 109885673, "node_id": "U_kgDOBoy46Q", "avatar_url": "https://avatars.githubusercontent.com/u/109885673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuhua666", "html_url": "https://github.com/yuhua666", "followers_url": "https://api.github.com/users/yuhua666/followers", "following_url": "https://api.github.com/users/yuhua666/following{/other_user}", "gists_url": "https://api.github.com/users/yuhua666/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuhua666/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuhua666/subscriptions", "organizations_url": "https://api.github.com/users/yuhua666/orgs", "repos_url": "https://api.github.com/users/yuhua666/repos", "events_url": "https://api.github.com/users/yuhua666/events{/privacy}", "received_events_url": "https://api.github.com/users/yuhua666/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/11", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/11", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/11/labels", "id": 8796797, "node_id": "MI_kwDOCK7AWs4Ahjp9", "number": 11, "title": "2.28.0", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2022-12-26T03:47:16Z", "updated_at": "2023-01-29T11:21:01Z", "due_on": "2023-01-20T08:00:00Z", "closed_at": "2023-01-29T11:19:18Z"}, "comments": 3, "created_at": "2022-12-13T07:30:23Z", "updated_at": "2023-01-29T11:18:10Z", "closed_at": "2023-01-29T11:18:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\n\n### Task\n\nI'm using the official example scripts/configs for the officially supported tasks/models/datasets.\n\n### Branch\n\nmaster branch https://github.com/open-mmlab/mmdetection\n\n### Environment\n\n# Copyright (c) OpenMMLab. All rights reserved.\r\nfrom mmcv.utils import collect_env as collect_base_env\r\nfrom mmcv.utils import get_git_hash\r\n\r\nimport mmdet\r\n\r\n\r\ndef collect_env():\r\n    \"\"\"Collect the information of the running environments.\"\"\"\r\n    env_info = collect_base_env()\r\n    env_info['MMDetection'] = mmdet.__version__ + '+' + get_git_hash()[:7]\r\n    return env_info\r\n\r\n\r\nif __name__ == '__main__':\r\n    for name, val in collect_env().items():\r\n        print(f'{name}: {val}')\r\n\n\n### Reproduces the problem - code sample\n\nWhen I run them , such error occurs.\r\n\"DETR: 'DETRHead is not in the head registry'\"\r\n'DeformableDETR is not in the detector registry'\n\n### Reproduces the problem - command or script\n\nCUDA_VISIBLE_DEVICES=2,3 PORT=29502 python tools/analysis_tools/get_flops.py configs/deformable_detr/deformable_detr_r50_16x2_50e_coco.py\n\n### Reproduces the problem - error message\n\n\"DETR: 'DETRHead is not in the head registry'\"\r\n'DeformableDETR is not in the detector registry'\n\n### Additional information\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9475", "id": 1488403480, "node_id": "I_kwDOCK7AWs5YtzwY", "number": 9475, "title": "[Bug] sparseinst can't demo", "user": {"login": "DDGRCF", "id": 63622528, "node_id": "MDQ6VXNlcjYzNjIyNTI4", "avatar_url": "https://avatars.githubusercontent.com/u/63622528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DDGRCF", "html_url": "https://github.com/DDGRCF", "followers_url": "https://api.github.com/users/DDGRCF/followers", "following_url": "https://api.github.com/users/DDGRCF/following{/other_user}", "gists_url": "https://api.github.com/users/DDGRCF/gists{/gist_id}", "starred_url": "https://api.github.com/users/DDGRCF/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DDGRCF/subscriptions", "organizations_url": "https://api.github.com/users/DDGRCF/orgs", "repos_url": "https://api.github.com/users/DDGRCF/repos", "events_url": "https://api.github.com/users/DDGRCF/events{/privacy}", "received_events_url": "https://api.github.com/users/DDGRCF/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/9", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9/labels", "id": 8625253, "node_id": "MI_kwDOCK7AWs4Ag5xl", "number": 9, "title": "3.0.0rc5", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 41, "state": "open", "created_at": "2022-11-07T14:11:19Z", "updated_at": "2023-03-21T01:31:55Z", "due_on": "2022-12-23T08:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2022-12-10T11:32:52Z", "updated_at": "2022-12-19T06:29:15Z", "closed_at": "2022-12-19T06:29:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\r\n\r\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\r\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\r\n\r\n### Task\r\n\r\nI'm using the official example scripts/configs for the officially supported tasks/models/datasets.\r\n\r\n### Branch\r\n\r\n3.x branch https://github.com/open-mmlab/mmdetection/tree/3.x\r\n\r\n### Environment\r\n\r\nsys.platform: linux\r\nPython: 3.7.15 (default, Nov  7 2022, 22:00:21) [GCC 11.2.0]\r\nCUDA available: True\r\nnumpy_random_seed: 2147483648\r\nGPU 0: NVIDIA GeForce RTX 3090\r\nGPU 1: Tesla V100-PCIE-32GB\r\nCUDA_HOME: /disk0/r/CUDA/cuda-11.1\r\nNVCC: Cuda compilation tools, release 11.1, V11.1.74\r\nGCC: gcc (Ubuntu 7.5.0-6ubuntu2) 7.5.0\r\nPyTorch: 1.8.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.4-Product Build 20210904 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.9.0\r\nOpenCV: 4.5.4\r\nMMEngine: 0.3.2\r\nMMDetection: 3.0.0rc4+34462a1\r\n\r\n### Reproduces the problem - code sample\r\n\r\nNone\r\n\r\n### Reproduces the problem - command or script\r\n\r\n```shell\r\npython demo/image_demo.py  demo/demo.jpg \\\r\n/home/r/Scripts/2022-winter-camp/mmdetection/projects/SparseInst/configs/sparseinst_r50_iam_8xb8-ms-270k_coco.py \\ \r\nhttps://download.openmmlab.com/mmdetection/v3.0/sparseinst/sparseinst_r50_iam_8xb8-ms-270k_coco/sparseinst_r50_iam_8xb8-ms-270k_coco_20221111_181051-72c711cd.pth \\\r\n--out-file sparseinst_demo.png\r\n```\r\n\r\n### Reproduces the problem - error message\r\n\r\n```shell\r\n\u2514\u2500[$]  /usr/bin/env /disk0/r/anaconda3/envs/mmdeploy/bin/python /home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher 45533 -- /home/r/Scripts/2022-winter-camp/mmdetection/tools/test.py projects/SparseInst/configs/sparseinst_r50_iam_8xb8-ms-270k_coco.py https://download.openmmlab.com/mmdetection/v3.0/sparseinst/sparseinst_r50_iam_8xb8-ms-270k_coco/sparseinst_r50_iam_8x\r\nb8-ms-270k_coco_20221111_181051-72c711cd.pth \r\nBackend TkAgg is interactive backend. Turning interactive mode on.\r\n12/10 19:25:54 - mmengine - INFO - \r\n------------------------------------------------------------\r\nSystem environment:\r\n    sys.platform: linux\r\n    Python: 3.7.15 (default, Nov  7 2022, 22:00:21) [GCC 11.2.0]\r\n    CUDA available: True\r\n    numpy_random_seed: 1356851497\r\n    GPU 0: NVIDIA GeForce RTX 3090\r\n    CUDA_HOME: /disk0/r/CUDA/cuda-11.1\r\n    NVCC: Cuda compilation tools, release 11.1, V11.1.74\r\n    GCC: gcc (Ubuntu 7.5.0-6ubuntu2) 7.5.0\r\n    PyTorch: 1.8.0\r\n    PyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.4-Product Build 20210904 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\n    TorchVision: 0.9.0\r\n    OpenCV: 4.5.4\r\n    MMEngine: 0.3.2\r\n\r\nRuntime environment:\r\n    cudnn_benchmark: False\r\n    mp_cfg: {'mp_start_method': 'fork', 'opencv_num_threads': 0}\r\n    dist_cfg: {'backend': 'nccl'}\r\n    seed: None\r\n    Distributed launcher: none\r\n    Distributed training: False\r\n    GPU number: 1\r\n------------------------------------------------------------\r\n\r\n12/10 19:25:55 - mmengine - INFO - Config:\r\ndataset_type = 'CocoDataset'\r\ndata_root = 'data/coco/'\r\nfile_client_args = dict(backend='disk')\r\ntrain_pipeline = [\r\n    dict(\r\n        type='LoadImageFromFile',\r\n        file_client_args=dict(backend='disk'),\r\n        imdecode_backend='pillow'),\r\n    dict(\r\n        type='LoadAnnotations',\r\n        with_bbox=True,\r\n        with_mask=True,\r\n        poly2mask=False),\r\n    dict(\r\n        type='RandomChoiceResize',\r\n        scales=[(416, 853), (448, 853), (480, 853), (512, 853), (544, 853),\r\n                (576, 853), (608, 853), (640, 853)],\r\n        keep_ratio=True,\r\n        backend='pillow'),\r\n    dict(type='RandomFlip', prob=0.5),\r\n    dict(type='PackDetInputs')\r\n]\r\ntest_pipeline = [\r\n    dict(\r\n        type='LoadImageFromFile',\r\n        file_client_args=dict(backend='disk'),\r\n        imdecode_backend='pillow'),\r\n    dict(type='Resize', scale=(640, 853), keep_ratio=True, backend='pillow'),\r\n    dict(\r\n        type='PackDetInputs',\r\n        meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                   'scale_factor'))\r\n]\r\ntrain_dataloader = dict(\r\n    batch_size=8,\r\n    num_workers=8,\r\n    persistent_workers=True,\r\n    sampler=dict(type='InfiniteSampler', shuffle=True, _scope_='mmdet'),\r\n    batch_sampler=dict(type='AspectRatioBatchSampler', _scope_='mmdet'),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/coco/',\r\n        ann_file='annotations/instances_train2017.json',\r\n        data_prefix=dict(img='train2017/'),\r\n        filter_cfg=dict(filter_empty_gt=True, min_size=32),\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk'),\r\n                imdecode_backend='pillow'),\r\n            dict(\r\n                type='LoadAnnotations',\r\n                with_bbox=True,\r\n                with_mask=True,\r\n                poly2mask=False),\r\n            dict(\r\n                type='RandomChoiceResize',\r\n                scales=[(416, 853), (448, 853), (480, 853), (512, 853),\r\n                        (544, 853), (576, 853), (608, 853), (640, 853)],\r\n                keep_ratio=True,\r\n                backend='pillow'),\r\n            dict(type='RandomFlip', prob=0.5),\r\n            dict(type='PackDetInputs')\r\n        ],\r\n        _scope_='mmdet'))\r\nval_dataloader = dict(\r\n    batch_size=1,\r\n    num_workers=2,\r\n    persistent_workers=True,\r\n    drop_last=False,\r\n    sampler=dict(type='DefaultSampler', shuffle=False, _scope_='mmdet'),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/coco/',\r\n        ann_file='annotations/instances_val2017.json',\r\n        data_prefix=dict(img='val2017/'),\r\n        test_mode=True,\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk'),\r\n                imdecode_backend='pillow'),\r\n            dict(\r\n                type='Resize',\r\n                scale=(640, 853),\r\n                keep_ratio=True,\r\n                backend='pillow'),\r\n            dict(\r\n                type='PackDetInputs',\r\n                meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                           'scale_factor'))\r\n        ],\r\n        _scope_='mmdet'))\r\ntest_dataloader = dict(\r\n    batch_size=1,\r\n    num_workers=2,\r\n    persistent_workers=True,\r\n    drop_last=False,\r\n    sampler=dict(type='DefaultSampler', shuffle=False, _scope_='mmdet'),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/coco/',\r\n        ann_file='annotations/instances_val2017.json',\r\n        data_prefix=dict(img='val2017/'),\r\n        test_mode=True,\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk'),\r\n                imdecode_backend='pillow'),\r\n            dict(\r\n                type='Resize',\r\n                scale=(640, 853),\r\n                keep_ratio=True,\r\n                backend='pillow'),\r\n            dict(\r\n                type='PackDetInputs',\r\n                meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                           'scale_factor'))\r\n        ],\r\n        _scope_='mmdet'))\r\nval_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='data/coco/annotations/instances_val2017.json',\r\n    metric='segm',\r\n    format_only=False,\r\n    _scope_='mmdet')\r\ntest_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='data/coco/annotations/instances_val2017.json',\r\n    metric='segm',\r\n    format_only=False,\r\n    _scope_='mmdet')\r\ntrain_cfg = dict(\r\n    type='IterBasedTrainLoop', max_iters=270000, val_interval=10000)\r\nval_cfg = dict(type='ValLoop', _scope_='mmdet')\r\ntest_cfg = dict(type='TestLoop', _scope_='mmdet')\r\nparam_scheduler = [\r\n    dict(\r\n        type='MultiStepLR',\r\n        begin=0,\r\n        end=270000,\r\n        by_epoch=False,\r\n        milestones=[210000, 250000],\r\n        gamma=0.1)\r\n]\r\noptim_wrapper = dict(\r\n    type='OptimWrapper',\r\n    optimizer=dict(type='AdamW', lr=5e-05, weight_decay=0.05),\r\n    _scope_='mmdet')\r\nauto_scale_lr = dict(enable=True, base_batch_size=64)\r\ndefault_scope = 'mmdet'\r\ndefault_hooks = dict(\r\n    timer=dict(type='IterTimerHook', _scope_='mmdet'),\r\n    logger=dict(type='LoggerHook', interval=50, _scope_='mmdet'),\r\n    param_scheduler=dict(type='ParamSchedulerHook', _scope_='mmdet'),\r\n    checkpoint=dict(\r\n        type='CheckpointHook',\r\n        interval=10000,\r\n        _scope_='mmdet',\r\n        by_epoch=False,\r\n        max_keep_ckpts=3),\r\n    sampler_seed=dict(type='DistSamplerSeedHook', _scope_='mmdet'),\r\n    visualization=dict(type='DetVisualizationHook', _scope_='mmdet'))\r\nenv_cfg = dict(\r\n    cudnn_benchmark=False,\r\n    mp_cfg=dict(mp_start_method='fork', opencv_num_threads=0),\r\n    dist_cfg=dict(backend='nccl'))\r\nvis_backends = [dict(type='LocalVisBackend', _scope_='mmdet')]\r\nvisualizer = dict(\r\n    type='DetLocalVisualizer',\r\n    vis_backends=[dict(type='LocalVisBackend')],\r\n    name='visualizer',\r\n    _scope_='mmdet')\r\nlog_processor = dict(\r\n    type='LogProcessor', window_size=50, by_epoch=False, _scope_='mmdet')\r\nlog_level = 'INFO'\r\nload_from = 'https://download.openmmlab.com/mmdetection/v3.0/sparseinst/sparseinst_r50_iam_8xb8-ms-270k_coco/sparseinst_r50_iam_8xb8-ms-270k_coco_20221111_181051-72c711cd.pth'\r\nresume = False\r\ncustom_imports = dict(\r\n    imports=['projects.SparseInst.sparseinst'], allow_failed_imports=False)\r\nmodel = dict(\r\n    type='SparseInst',\r\n    data_preprocessor=dict(\r\n        type='DetDataPreprocessor',\r\n        mean=[123.675, 116.28, 103.53],\r\n        std=[58.395, 57.12, 57.375],\r\n        bgr_to_rgb=True,\r\n        pad_mask=True,\r\n        pad_size_divisor=32),\r\n    backbone=dict(\r\n        type='ResNet',\r\n        depth=50,\r\n        num_stages=4,\r\n        out_indices=(1, 2, 3),\r\n        frozen_stages=0,\r\n        norm_cfg=dict(type='BN', requires_grad=False),\r\n        norm_eval=True,\r\n        style='pytorch',\r\n        init_cfg=dict(type='Pretrained', checkpoint='torchvision://resnet50')),\r\n    encoder=dict(\r\n        type='InstanceContextEncoder',\r\n        in_channels=[512, 1024, 2048],\r\n        out_channels=256),\r\n    decoder=dict(\r\n        type='BaseIAMDecoder',\r\n        in_channels=258,\r\n        num_classes=80,\r\n        ins_dim=256,\r\n        ins_conv=4,\r\n        mask_dim=256,\r\n        mask_conv=4,\r\n        kernel_dim=128,\r\n        scale_factor=2.0,\r\n        output_iam=False,\r\n        num_masks=100),\r\n    criterion=dict(\r\n        type='SparseInstCriterion',\r\n        num_classes=80,\r\n        assigner=dict(type='SparseInstMatcher', alpha=0.8, beta=0.2),\r\n        loss_cls=dict(\r\n            type='FocalLoss',\r\n            use_sigmoid=True,\r\n            alpha=0.25,\r\n            gamma=2.0,\r\n            reduction='sum',\r\n            loss_weight=2.0),\r\n        loss_obj=dict(\r\n            type='CrossEntropyLoss',\r\n            use_sigmoid=True,\r\n            reduction='mean',\r\n            loss_weight=1.0),\r\n        loss_mask=dict(\r\n            type='CrossEntropyLoss',\r\n            use_sigmoid=True,\r\n            reduction='mean',\r\n            loss_weight=5.0),\r\n        loss_dice=dict(\r\n            type='DiceLoss',\r\n            use_sigmoid=True,\r\n            reduction='sum',\r\n            eps=5e-05,\r\n            loss_weight=2.0)),\r\n    test_cfg=dict(score_thr=0.005, mask_thr_binary=0.45))\r\nbackend = 'pillow'\r\nlauncher = 'none'\r\nwork_dir = './work_dirs/sparseinst_r50_iam_8xb8-ms-270k_coco'\r\n\r\n12/10 19:25:55 - mmengine - INFO - Result has been saved to /home/r/Scripts/2022-winter-camp/mmdetection/work_dirs/sparseinst_r50_iam_8xb8-ms-270k_coco/modules_statistic_results.json\r\n(mmdeploy) \u250c\u2500[r@ubuntu-SYS-7049GP-TRT] - [~/Scripts/2022-winter-camp/mmdetection] - [8153]\r\n\u2514\u2500[$]  cd /home/r/Scripts/2022-winter-camp/mmdetection ; /usr/bin/env /disk0/r/anaconda3/envs/mmdeploy/bin/python /home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher 34451 -- /home/r/Scripts/2022-winter-camp/mmdetection/tools/test.py /home/r/Scripts/2022-winter-camp/mmdetection/projects/SparseInst/configs/sparseinst_r50_iam_8xb8-ms-270k_coco.py https://download.openmmlab.com/mmdetection/v3.0/sparseinst/sparsein\r\nst_r50_iam_8xb8-ms-270k_coco/sparseinst_r50_iam_8xb8-ms-270k_coco_20221111_181051-72c711cd.pth \r\nBackend TkAgg is interactive backend. Turning interactive mode on.\r\n(mmdeploy) \u250c\u2500[r@ubuntu-SYS-7049GP-TRT] - [~/Scripts/2022-winter-camp/mmdetection] - [8153]\r\n\u2514\u2500[$]  cd /home/r/Scripts/2022-winter-camp/mmdetection ; /usr/bin/env /disk0/r/anaconda3/envs/mmdeploy/bin/python /home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher 38893 -- /home/r/Scripts/2022-winter-camp/mmdetection/demo/image_demo.py demo/demo.jpg /home/r/Scripts/2022-winter-camp/mmdetection/projects/SparseInst/configs/sparseinst_r50_iam_8xb8-ms-270k_coco.py https://download.openmmlab.com/mmdetection/v3.0/\r\nsparseinst/sparseinst_r50_iam_8xb8-ms-270k_coco/sparseinst_r50_iam_8xb8-ms-270k_coco_20221111_181051-72c711cd.pth --out-file /home/r/Test/test_openvino/sparseinst_d\r\nemo.png \r\nBackend TkAgg is interactive backend. Turning interactive mode on.\r\nTraceback (most recent call last):\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/site-packages/mmengine/registry/build_functions.py\", line 121, in build_from_cfg\r\n    obj = obj_cls(**args)  # type: ignore\r\nTypeError: __init__() got an unexpected keyword argument 'train_cfg'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher/../../debugpy/__main__.py\", line 39, in <module>\r\n    cli.main()\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher/../../debugpy/../debugpy/server/cli.py\", line 430, in main\r\n    run()\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/adapter/../../debugpy/launcher/../../debugpy/../debugpy/server/cli.py\", line 284, in run_file\r\n    runpy.run_path(target, run_name=\"__main__\")\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_runpy.py\", line 322, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_runpy.py\", line 136, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"/home/r/.vscode-server/extensions/ms-python.python-2022.19.13251009/pythonFiles/lib/python/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_runpy.py\", line 124, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/r/Scripts/2022-winter-camp/mmdetection/demo/image_demo.py\", line 98, in <module>\r\n    main(args)\r\n  File \"/home/r/Scripts/2022-winter-camp/mmdetection/demo/image_demo.py\", line 43, in main\r\n    args.config, args.checkpoint, palette=args.palette, device=args.device)\r\n  File \"/home/r/Scripts/2022-winter-camp/mmdetection/mmdet/apis/inference.py\", line 56, in init_detector\r\n    model = build_detector(config.model)\r\n  File \"/home/r/Scripts/2022-winter-camp/mmdetection/mmdet/models/builder.py\", line 69, in build_detector\r\n    cfg, default_args=dict(train_cfg=train_cfg, test_cfg=test_cfg))\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/site-packages/mmengine/registry/registry.py\", line 454, in build\r\n    return self.build_func(cfg, *args, **kwargs, registry=self)\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/site-packages/mmengine/registry/build_functions.py\", line 240, in build_model_from_cfg\r\n    return build_from_cfg(cfg, registry, default_args)\r\n  File \"/disk0/r/anaconda3/envs/mmdeploy/lib/python3.7/site-packages/mmengine/registry/build_functions.py\", line 136, in build_from_cfg\r\n    f'class `{obj_cls.__name__}` in '  # type: ignore\r\nTypeError: class `SparseInst` in projects/SparseInst/sparseinst/sparseinst.py: __init__() got an unexpected keyword argument 'train_cfg'\r\n```\r\n\r\n\r\n\r\n### Additional information\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9400", "id": 1465747453, "node_id": "PR_kwDOCK7AWs5DxGGX", "number": 9400, "title": "[Fix] Fix Condinst predict error when val batch_size>1", "user": {"login": "liuyanyi", "id": 11705038, "node_id": "MDQ6VXNlcjExNzA1MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/11705038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuyanyi", "html_url": "https://github.com/liuyanyi", "followers_url": "https://api.github.com/users/liuyanyi/followers", "following_url": "https://api.github.com/users/liuyanyi/following{/other_user}", "gists_url": "https://api.github.com/users/liuyanyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuyanyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuyanyi/subscriptions", "organizations_url": "https://api.github.com/users/liuyanyi/orgs", "repos_url": "https://api.github.com/users/liuyanyi/repos", "events_url": "https://api.github.com/users/liuyanyi/events{/privacy}", "received_events_url": "https://api.github.com/users/liuyanyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/9", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9/labels", "id": 8625253, "node_id": "MI_kwDOCK7AWs4Ag5xl", "number": 9, "title": "3.0.0rc5", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 41, "state": "open", "created_at": "2022-11-07T14:11:19Z", "updated_at": "2023-03-21T01:31:55Z", "due_on": "2022-12-23T08:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-11-28T03:30:53Z", "updated_at": "2022-11-29T02:15:42Z", "closed_at": "2022-11-29T02:15:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9400", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9400", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9400.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9400.patch", "merged_at": "2022-11-29T02:15:41Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nWhen set batch_size>1 in val_dataloader, got an error like this:\r\n\r\n```\r\n  File \"/workspace/mmdetection/mmdet/models/detectors/single_stage_instance_seg.py\", line 175, in predict\r\n    results_list = self.mask_head.predict(\r\n  File \"/workspace/mmdetection/mmdet/models/dense_heads/base_mask_head.py\", line 121, in predict\r\n    results_list = self.predict_by_feat(\r\n  File \"/workspace/mmdetection/mmdet/models/dense_heads/condinst_head.py\", line 1191, in predict_by_feat\r\n    im_mask = self._predict_by_feat_single(\r\n  File \"/workspace/mmdetection/mmdet/models/dense_heads/condinst_head.py\", line 1234, in _predict_by_feat_single\r\n    mask_preds = aligned_bilinear(mask_preds, self.mask_out_stride)\r\n  File \"/workspace/mmdetection/mmdet/models/utils/misc.py\", line 611, in aligned_bilinear\r\n    assert tensor.dim() == 4\r\nAssertionError\r\n```\r\n\r\nI found the loop in `predict_by_feat` overrides the `mask_feats` so the second batch will got the error because the dim is wrong.\r\n\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9400/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9386", "id": 1464977121, "node_id": "I_kwDOCK7AWs5XUcbh", "number": 9386, "title": "Cannot re-initialize CUDA in forked subprocess when loading model in seldon-core", "user": {"login": "rlleshi", "id": 46654505, "node_id": "MDQ6VXNlcjQ2NjU0NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/46654505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlleshi", "html_url": "https://github.com/rlleshi", "followers_url": "https://api.github.com/users/rlleshi/followers", "following_url": "https://api.github.com/users/rlleshi/following{/other_user}", "gists_url": "https://api.github.com/users/rlleshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlleshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlleshi/subscriptions", "organizations_url": "https://api.github.com/users/rlleshi/orgs", "repos_url": "https://api.github.com/users/rlleshi/repos", "events_url": "https://api.github.com/users/rlleshi/events{/privacy}", "received_events_url": "https://api.github.com/users/rlleshi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}, {"id": 4540674103, "node_id": "LA_kwDOCK7AWs8AAAABDqUwNw", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-11-25T23:27:16Z", "updated_at": "2022-12-12T11:28:45Z", "closed_at": "2022-12-12T11:28:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a [seldon-core](https://docs.seldon.io/projects/seldon-core/en/latest/python/python_component.html) microservice to serve a fast-rcnn detection model. However, when passing the model to the desired Cuda device with torch `model.to(device)` (at [init_detector](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/apis/inference.py#L55)) the following error is thrown:\r\n\r\n```Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method.```\r\n\r\nThis is different from [this](https://github.com/SeldonIO/seldon-core/issues/2680) existing where the problem was that the `load()` method of the microservice was not being used properly. Also, the specific suggestions at [this](https://github.com/pytorch/pytorch/issues/40403) torch do not work in this context.\r\n\r\nI am attaching a minimal reproducible example in the below zip file.\r\n[cuda_error.zip](https://github.com/open-mmlab/mmdetection/files/10095314/cuda_error.zip)\r\n\r\nThe contents are:\r\n\r\n- `Detection.py` - seldon python wrapper\r\n- `Dockerfile` - the dockerfile for the environment\r\n- `download_model.sh` - script to download the detection model\r\n- `faster_rcnn_r50_caffe_fpn_mstrain_1x_coco-person.py` - model config file\r\n\r\nFirst, create the image: `nvidia-docker build -f Dockerfile . -t seldontest`\r\nThen run the container: `nvidia-docker run -p 5000:5000 -p 9000:9000 --name seldontest -it seldontest`\r\n\r\nI am not sure what the problem is because I've been able to deploy other models with `gunicorn` on a cuda device.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9376", "id": 1461270474, "node_id": "PR_kwDOCK7AWs5DiTuk", "number": 9376, "title": "[Fix] Fix mmdet.utils.typing error in CondInst", "user": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/8", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8/labels", "id": 8471838, "node_id": "MI_kwDOCK7AWs4AgUUe", "number": 8, "title": "3.0.0rc4", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 40, "state": "open", "created_at": "2022-09-28T02:42:21Z", "updated_at": "2023-03-22T02:41:22Z", "due_on": "2022-11-21T08:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-11-23T08:28:21Z", "updated_at": "2022-11-23T11:37:42Z", "closed_at": "2022-11-23T11:37:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9376", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9376", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9376.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9376.patch", "merged_at": "2022-11-23T11:37:42Z"}, "body": "Relative Issue: https://github.com/open-mmlab/mmdetection/issues/9375", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9376/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9358", "id": 1457435335, "node_id": "PR_kwDOCK7AWs5DVFfG", "number": 9358, "title": "[Fix] Fix bbox refine bug with sigmoid activation.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-11-21T07:24:05Z", "updated_at": "2022-11-22T06:48:38Z", "closed_at": "2022-11-22T06:48:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9358", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9358", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9358.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9358.patch", "merged_at": "2022-11-22T06:48:38Z"}, "body": "Resolve #9327\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9358/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9327", "id": 1449631340, "node_id": "I_kwDOCK7AWs5WZ55s", "number": 9327, "title": "[Reimplementation] IndexError :argmax()  in refine_bboxes function of sparse-rcnn (latest version (3.x).)", "user": {"login": "laCorse", "id": 49437933, "node_id": "MDQ6VXNlcjQ5NDM3OTMz", "avatar_url": "https://avatars.githubusercontent.com/u/49437933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laCorse", "html_url": "https://github.com/laCorse", "followers_url": "https://api.github.com/users/laCorse/followers", "following_url": "https://api.github.com/users/laCorse/following{/other_user}", "gists_url": "https://api.github.com/users/laCorse/gists{/gist_id}", "starred_url": "https://api.github.com/users/laCorse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laCorse/subscriptions", "organizations_url": "https://api.github.com/users/laCorse/orgs", "repos_url": "https://api.github.com/users/laCorse/repos", "events_url": "https://api.github.com/users/laCorse/events{/privacy}", "received_events_url": "https://api.github.com/users/laCorse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/9", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/9/labels", "id": 8625253, "node_id": "MI_kwDOCK7AWs4Ag5xl", "number": 9, "title": "3.0.0rc5", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 41, "state": "open", "created_at": "2022-11-07T14:11:19Z", "updated_at": "2023-03-21T01:31:55Z", "due_on": "2022-12-23T08:00:00Z", "closed_at": null}, "comments": 7, "created_at": "2022-11-15T11:31:04Z", "updated_at": "2022-11-24T02:22:40Z", "closed_at": "2022-11-24T02:22:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\n\n### \ud83d\udcac Describe the reimplementation questions\n\nWhen I try to train the sparse-rcnn series in the latest version (3. x) mmdet with my personal dataset (only 1 class), the following errors always occur:\r\n```\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\detectors\\base.py\", line 92, in forward\r\n    return self.loss(inputs, data_samples)\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\detectors\\two_stage.py\", line 187, in loss\r\n    roi_losses = self.roi_head.loss(x, rpn_results_list,\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\roi_heads\\sparse_roi_head.py\", line 344, in loss\r\n    bbox_results = self.bbox_loss(\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\roi_heads\\sparse_roi_head.py\", line 122, in bbox_loss\r\n    bbox_results = self._bbox_forward(stage, x, rois, object_feats,\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\roi_heads\\sparse_roi_head.py\", line 230, in _bbox_forward\r\n    results_list = bbox_head.refine_bboxes(\r\n  File \"I:\\mmdetection-3.x\\mmdetection\\mmdet\\models\\roi_heads\\bbox_heads\\bbox_head.py\", line 645, in refine_bboxes\r\n    cls_scores[:, :-1].argmax(1), labels)\r\nIndexError: argmax(): Expected reduction dim 1 to have non-zero size.\r\n\r\nProcess finished with exit code 1\r\n```\r\nAnd the class_scores's shape is (100,1).100 is num_proposals. **I guess this 1 should be 2. Because there are two categories: foreground and background.**\r\n![image](https://user-images.githubusercontent.com/49437933/201906282-e2090252-de70-44e9-a633-905910e9b8f8.png)\r\n\r\nIn the config file, I only modified the num_classes option in the head part and dataset address.\n\n### Environment\n\n```\r\nsys.platform: win32\r\nPython: 3.8.12 (default, Oct 12 2021, 03:01:40) [MSC v.1916 64 bit (AMD64)]\r\nCUDA available: True\r\nnumpy_random_seed: 2147483648\r\nGPU 0: NVIDIA GeForce RTX 3090\r\nCUDA_HOME: C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.4\r\nNVCC: Cuda compilation tools, release 11.4, V11.4.152\r\nGCC: n/a\r\nPyTorch: 1.11.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - C++ Version: 199711\r\n  - MSVC 192829337\r\n  - Intel(R) Math Kernel Library Version 2020.0.2 Product Build 20200624 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.5.2 (Git Hash a9302535553c73243c632ad3c4c80beec3d19a1e)\r\n  - OpenMP 2019\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - CPU capability usage: AVX512\r\n  - CUDA Runtime 11.3\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.2\r\n  - Magma 2.5.4\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.3, CUDNN_VERSION=8.2.0, CXX_COMPILER=C:/cb/pytorch_1000000000000/work/tmp_bin/sccache-cl.exe, CXX_FLAGS=/DWIN32 /D_WINDOWS /GR /EHsc /w /bigobj -DUSE_PTHREADPOOL -openmp:experimental -IC:/cb/pytorch_1000000000000/work/mkl/include -DNDEBUG -DUSE_KINETO -DLIBKINETO_NOCUPTI -DUSE_FBGEMM -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.11.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=OFF, USE_NNPACK=OFF, USE_OPENMP=ON, USE_ROCM=OFF,\r\n\r\nTorchVision: 0.12.0\r\nOpenCV: 4.1.2\r\nMMEngine: 0.3.1\r\nMMDetection: 3.0.0rc3+5b0d5b4\r\n```\n\n### Expected results\n\n_No response_\n\n### Additional information\n\n1.In config: \r\n- changed the data and annotation path\r\n- added metainfo to add my 'CLASSES'\r\n- changed 'num_classes' from 80 to 1.\r\n\r\n2.I also test mmdet3.0 with my dataset in cascade rcnn.And the second dim of `cls_scores` is 2. So I suppose is there some problems in `DIIHead`? Or just I use the wrong way to train sparse rcnn?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9287", "id": 1441499862, "node_id": "PR_kwDOCK7AWs5Cfi-h", "number": 9287, "title": "[Fix] Fix resume arg conflict.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/8", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8/labels", "id": 8471838, "node_id": "MI_kwDOCK7AWs4AgUUe", "number": 8, "title": "3.0.0rc4", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 40, "state": "open", "created_at": "2022-09-28T02:42:21Z", "updated_at": "2023-03-22T02:41:22Z", "due_on": "2022-11-21T08:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-11-09T06:52:27Z", "updated_at": "2022-11-09T09:01:09Z", "closed_at": "2022-11-09T09:01:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9287", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9287", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9287.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9287.patch", "merged_at": "2022-11-09T09:01:04Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nIf `args.resume` is None, `cfg.resume = args.resume` will always set `resume` to `None` even if you set `resume=True` in config or through `--cfg-options`.\r\n\r\n## Modification\r\n\r\nOnly overwrite the cfg.resume when args.resume is not None.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9287/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9241", "id": 1435799348, "node_id": "PR_kwDOCK7AWs5CMjIu", "number": 9241, "title": "[Fix] Fix dump results.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-11-04T09:39:10Z", "updated_at": "2022-11-04T11:45:56Z", "closed_at": "2022-11-04T11:45:56Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9241", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9241", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9241.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9241.patch", "merged_at": "2022-11-04T11:45:56Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nFix incorrect hard code of adding DumpResults in config.\r\n\r\n## Modification\r\n\r\nDirectly add the DumpResults objects to the runner's evaluator.\r\n\r\nresolve #9237", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9241/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9237", "id": 1435679041, "node_id": "I_kwDOCK7AWs5VkrlB", "number": 9237, "title": "[Bug] metric should be one of \\\\\\'bbox\\\\\\' when using tools/test.py", "user": {"login": "sanbuphy", "id": 96160062, "node_id": "U_kgDOBbtJPg", "avatar_url": "https://avatars.githubusercontent.com/u/96160062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanbuphy", "html_url": "https://github.com/sanbuphy", "followers_url": "https://api.github.com/users/sanbuphy/followers", "following_url": "https://api.github.com/users/sanbuphy/following{/other_user}", "gists_url": "https://api.github.com/users/sanbuphy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanbuphy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanbuphy/subscriptions", "organizations_url": "https://api.github.com/users/sanbuphy/orgs", "repos_url": "https://api.github.com/users/sanbuphy/repos", "events_url": "https://api.github.com/users/sanbuphy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanbuphy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-11-04T07:38:42Z", "updated_at": "2022-11-04T12:05:28Z", "closed_at": "2022-11-04T12:05:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Prerequisite\r\n\r\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\r\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\r\n\r\n### Task\r\n\r\nI have modified the scripts/configs, or I'm working on my own tasks/models/datasets.\r\n\r\n### Branch\r\n\r\n3.x branch https://github.com/open-mmlab/mmdetection/tree/3.x\r\n\r\n### Environment\r\n\r\nOrderedDict([('sys.platform', 'linux'),\r\n             ('Python',\r\n              '3.7.12 | packaged by conda-forge | (default, Oct 26 2021, 06:08:21) [GCC 9.4.0]'),\r\n             ('CUDA available', True),\r\n             ('numpy_random_seed', 2147483648),\r\n             ('GPU 0', 'NVIDIA GeForce RTX 3080'),\r\n             ('CUDA_HOME', '/usr/local/cuda-11.5'),\r\n             ('NVCC', 'Cuda compilation tools, release 11.5, V11.5.50'),\r\n             ('GCC', 'gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0'),\r\n             ('PyTorch', '1.12.1+cu113'),\r\n             ('PyTorch compiling details',\r\n              'PyTorch built with:\\n  - GCC 9.3\\n  - C++ Version: 201402\\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\\n  - Intel(R) MKL-DNN v2.6.0 (Git Hash 52b5f107dd9cf10910aaa19cb47f3abf9b349815)\\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\\n  - LAPACK is enabled (usually provided by MKL)\\n  - NNPACK is enabled\\n  - CPU capability usage: AVX2\\n  - CUDA Runtime 11.3\\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86\\n  - CuDNN 8.3.2  (built against CUDA 11.5)\\n  - Magma 2.5.2\\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.3, CUDNN_VERSION=8.3.2, CXX_COMPILER=/opt/rh/devtoolset-9/root/usr/bin/c++, CXX_FLAGS= -fabi-version=11 -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-unused-parameter -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.12.1, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_ROCM=OFF, \\n'),\r\n             ('TorchVision', '0.13.1+cu113'),\r\n             ('OpenCV', '4.6.0'),\r\n             ('MMEngine', '0.2.0'),\r\n             ('MMDetection', '3.0.0rc2+5897b32')])\r\n\r\n### Reproduces the problem - code sample\r\n\r\nHere is my config:\r\n```python\r\ntest_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='./ballondatasets/balloon/val/annotation_coco.json',\r\n    metric=['bbox', 'segm'],\r\n    format_only=False)\r\n```\r\n\r\nif i use `python config checkpoint --out result.pkl`, it will be modified to \r\n```\r\n```python\r\ntest_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='./ballondatasets/balloon/val/annotation_coco.json',\r\n    metric=[None, {\r\n        'type': 'DumpResults',\r\n        'out_file_path': 'ceshi.pkl'\r\n    }],\r\n    format_only=False)\r\n```\r\n\r\n\r\n### Reproduces the problem - error message\r\n\r\n```\r\n  File \"/home/sanbu/anaconda3/envs/mmlab2/lib/python3.7/site-packages/mmengine/runner/runner.py\", line 1533, in build_test_loop\r\n    evaluator=self._test_evaluator))\r\n  File \"/home/sanbu/anaconda3/envs/mmlab2/lib/python3.7/site-packages/mmengine/registry/registry.py\", line 421, in build\r\n    return self.build_func(cfg, *args, **kwargs, registry=self)\r\n  File \"/home/sanbu/anaconda3/envs/mmlab2/lib/python3.7/site-packages/mmengine/registry/build_functions.py\", line 136, in build_from_cfg\r\n    f'class `{obj_cls.__name__}` in '  # type: ignore\r\nKeyError: 'class `TestLoop` in mmengine/runner/loops.py: \\'class `CocoMetric` in mmdet/evaluation/metrics/coco_metric.py: \"metric should be one of \\\\\\'bbox\\\\\\', \\\\\\'segm\\\\\\', \\\\\\'proposal\\\\\\', \\\\\\'proposal_fast\\\\\\', but got {\\\\\\'type\\\\\\': \\\\\\'DumpResults\\\\\\', \\\\\\'out_file_path\\\\\\': \\\\\\'ceshi.pkl\\\\\\'}.\"\\''\r\n\r\n```\r\n### Additional information\r\n\r\nI use the tools/test.py to output pkl file but i got the problem,the python file will modify my conifg.\r\n\r\nI see the mmdet documentation says that we can use --eval bbox or segm to specify the metric parameter. But the tools/test.py doesn't has the `--eval` option.I don't know if 3.x have implemented the function.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9185", "id": 1429142072, "node_id": "PR_kwDOCK7AWs5B2OXK", "number": 9185, "title": "[Fix] Fix solov2 cannot dealing with empty gt image", "user": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371481368, "node_id": "LA_kwDOCK7AWs8AAAABBI-DGA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-2.x", "name": "v-2.x", "color": "7E2F6B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-31T02:15:02Z", "updated_at": "2023-04-27T18:04:08Z", "closed_at": "2022-10-31T08:14:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9185", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9185", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9185.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9185.patch", "merged_at": "2022-10-31T08:14:47Z"}, "body": "Solve PR: https://github.com/open-mmlab/mmdetection/issues/9159\r\n\r\n`loss_mask` may empty when `num_pos = 0`. Hence, fix the num_pos=0  case to support dealing with empty gt image", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9185/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9176", "id": 1427037678, "node_id": "PR_kwDOCK7AWs5BvRn-", "number": 9176, "title": "[Fix] Fix `pixel_decoder_type` discrimination in MaskFormer Head.", "user": {"login": "MengzhangLI", "id": 24582831, "node_id": "MDQ6VXNlcjI0NTgyODMx", "avatar_url": "https://avatars.githubusercontent.com/u/24582831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MengzhangLI", "html_url": "https://github.com/MengzhangLI", "followers_url": "https://api.github.com/users/MengzhangLI/followers", "following_url": "https://api.github.com/users/MengzhangLI/following{/other_user}", "gists_url": "https://api.github.com/users/MengzhangLI/gists{/gist_id}", "starred_url": "https://api.github.com/users/MengzhangLI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MengzhangLI/subscriptions", "organizations_url": "https://api.github.com/users/MengzhangLI/orgs", "repos_url": "https://api.github.com/users/MengzhangLI/repos", "events_url": "https://api.github.com/users/MengzhangLI/events{/privacy}", "received_events_url": "https://api.github.com/users/MengzhangLI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/8", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8/labels", "id": 8471838, "node_id": "MI_kwDOCK7AWs4AgUUe", "number": 8, "title": "3.0.0rc4", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 40, "state": "open", "created_at": "2022-09-28T02:42:21Z", "updated_at": "2023-03-22T02:41:22Z", "due_on": "2022-11-21T08:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2022-10-28T10:18:11Z", "updated_at": "2022-11-09T09:02:20Z", "closed_at": "2022-11-09T09:02:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9176", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9176", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9176.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9176.patch", "merged_at": "2022-11-09T09:02:20Z"}, "body": "## Motivation\r\n\r\nCurrently, MMDetection does not treat inter-codebases using modules very well. For example, in upstream codebase which `pip install mmdet` and uses type `mmdet.PixelDecoder`, the error would happen in this line because this `if else` would discriminate `mmdet.PixelDecoder` and `PixelDecoder` although they are the same.\r\n\r\n![image](https://user-images.githubusercontent.com/24582831/198564261-9c62b315-d4da-4297-a029-c9d58e4413d4.png)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9176/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9159", "id": 1425870407, "node_id": "I_kwDOCK7AWs5U_Q5H", "number": 9159, "title": "SoloV2 dealing with empty images at Train Time", "user": {"login": "Ahmed14974", "id": 45025124, "node_id": "MDQ6VXNlcjQ1MDI1MTI0", "avatar_url": "https://avatars.githubusercontent.com/u/45025124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ahmed14974", "html_url": "https://github.com/Ahmed14974", "followers_url": "https://api.github.com/users/Ahmed14974/followers", "following_url": "https://api.github.com/users/Ahmed14974/following{/other_user}", "gists_url": "https://api.github.com/users/Ahmed14974/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ahmed14974/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ahmed14974/subscriptions", "organizations_url": "https://api.github.com/users/Ahmed14974/orgs", "repos_url": "https://api.github.com/users/Ahmed14974/repos", "events_url": "https://api.github.com/users/Ahmed14974/events{/privacy}", "received_events_url": "https://api.github.com/users/Ahmed14974/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-27T15:51:01Z", "updated_at": "2022-11-01T01:26:01Z", "closed_at": "2022-11-01T01:26:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [Issues](https://github.com/open-mmlab/mmdetection/issues) and [Discussions](https://github.com/open-mmlab/mmdetection/discussions) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version (master)](https://github.com/open-mmlab/mmdetection) or [latest version (3.x)](https://github.com/open-mmlab/mmdetection/tree/dev-3.x).\n\n### \ud83d\udcac Describe the reimplementation questions\n\nOur use case has a custom dataset, where we want to use SoloV2 for instance segmentation. \r\nFor some of the images in the training set, there are no objects to be detected, and so the COCO dataset json file we create has no annotations to correspond to that image. If we run any SoloV2 model with such a training set, it gives an error. \r\n\r\nDoes current SoloV2 implementation have support for empty training images? If not then how should we implement it?\n\n### Environment\n\nsys.platform: linux\r\nPython: 3.9.11 (main, Mar 29 2022, 19:08:29) [GCC 7.5.0]\r\nCUDA available: True\r\nGPU 0,1,2,3: NVIDIA RTX A4000\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 11.1, V11.1.105\r\nGCC: gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0\r\nPyTorch: 1.12.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 9.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.4-Product Build 20210904 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.6.0 (Git Hash 52b5f107dd9cf10910aaa19cb47f3abf9b349815)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.3\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.3.2  (built against CUDA 11.5)\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.3, CUDNN_VERSION=8.3.2, CXX_COMPILER=/opt/rh/devtoolset-9/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-unused-parameter -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.12.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_ROCM=OFF, \r\n\r\nTorchVision: 0.13.0\r\nOpenCV: 4.6.0\r\nMMCV: 1.6.0\r\nMMCV Compiler: GCC 9.3\r\nMMCV CUDA Compiler: 11.3\r\nMMDetection: 2.25.2+7ad77a9\n\n### Expected results\n\nFunctioning SoloV2 training\n\n### Additional information\n\nHere is the traceback of the error: \r\n\r\n`\r\n  File \"/deep2/u/mahmedc/mmdetection/tools/train.py\", line 257, in <module>\r\n    main()\r\n  File \"/deep2/u/mahmedc/mmdetection/tools/train.py\", line 246, in main\r\n    train_detector(\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/apis/train.py\", line 244, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 136, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 53, in train\r\n    self.run_iter(data_batch, train_mode=True, **kwargs)\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 31, in run_iter\r\n    outputs = self.model.train_step(data_batch, self.optimizer,\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/parallel/data_parallel.py\", line 77, in train_step\r\n    return self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/models/detectors/base.py\", line 248, in train_step\r\n    losses = self(**data)\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1130, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/runner/fp16_utils.py\", line 116, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/models/detectors/base.py\", line 172, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/models/detectors/single_stage_instance_seg.py\", line 127, in forward_train\r\n    mask_loss = self.mask_head.forward_train(\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/models/dense_heads/base_mask_head.py\", line 62, in forward_train\r\n    loss = self.loss(\r\n  File \"/deep/group/aicc-bootcamp/packages/miniconda3/envs/cloud-pollution/lib/python3.9/site-packages/mmcv/runner/fp16_utils.py\", line 205, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/deep2/u/mahmedc/mmdetection/mmdet/models/dense_heads/solov2_head.py\", line 545, in loss\r\n    loss_mask = torch.cat(loss_mask).mean()\r\nRuntimeError: torch.cat(): expected a non-empty list of Tensors\r\n`\r\n\r\nWe are able to train MaskRCNN models with the same dataset", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9151", "id": 1424986934, "node_id": "PR_kwDOCK7AWs5Boecb", "number": 9151, "title": "[Fix] Fix RPN visualization", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371481368, "node_id": "LA_kwDOCK7AWs8AAAABBI-DGA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-2.x", "name": "v-2.x", "color": "7E2F6B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/7", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/7", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/7/labels", "id": 8357091, "node_id": "MI_kwDOCK7AWs4Af4Tj", "number": 7, "title": "2.27.0", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 13, "closed_issues": 16, "state": "open", "created_at": "2022-08-28T09:21:47Z", "updated_at": "2023-02-07T16:42:41Z", "due_on": "2022-11-30T08:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2022-10-27T03:49:51Z", "updated_at": "2022-10-28T02:14:19Z", "closed_at": "2022-10-28T02:14:19Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9151", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9151", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9151.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9151.patch", "merged_at": "2022-10-28T02:14:18Z"}, "body": "Resolve #9083\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9151/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/9083", "id": 1415816806, "node_id": "I_kwDOCK7AWs5UY6Zm", "number": 9083, "title": "run image_demo.py with cascade_rpn model show error", "user": {"login": "bewithme", "id": 3349954, "node_id": "MDQ6VXNlcjMzNDk5NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3349954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bewithme", "html_url": "https://github.com/bewithme", "followers_url": "https://api.github.com/users/bewithme/followers", "following_url": "https://api.github.com/users/bewithme/following{/other_user}", "gists_url": "https://api.github.com/users/bewithme/gists{/gist_id}", "starred_url": "https://api.github.com/users/bewithme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bewithme/subscriptions", "organizations_url": "https://api.github.com/users/bewithme/orgs", "repos_url": "https://api.github.com/users/bewithme/repos", "events_url": "https://api.github.com/users/bewithme/events{/privacy}", "received_events_url": "https://api.github.com/users/bewithme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/4", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/4", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/4/labels", "id": 8305337, "node_id": "MI_kwDOCK7AWs4Afrq5", "number": 4, "title": "2.26.0", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 10, "closed_issues": 11, "state": "open", "created_at": "2022-08-15T05:58:46Z", "updated_at": "2022-12-12T03:55:20Z", "due_on": "2022-10-31T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2022-10-20T02:13:23Z", "updated_at": "2022-11-04T02:07:29Z", "closed_at": "2022-11-04T02:07:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [the existing and past issues](https://github.com/open-mmlab/mmdetection/issues) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version](https://github.com/open-mmlab/mmdetection).\n\n### \ud83d\udc1e Describe the bug\n\n``` python demo/image_demo.py demo/demo.jpg configs/cascade_rpn/crpn_r50_caffe_fpn_1x_coco.py checkpoints/cascade_rpn_r50_caffe_fpn_1x_coco-7aa93cef.pth```\r\n\r\n```\r\nUserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  ../aten/src/ATen/native/TensorShape.cpp:2895.)\r\n  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\r\nTraceback (most recent call last):\r\n  File \"demo/image_demo.py\", line 68, in <module>\r\n    main(args)\r\n  File \"demo/image_demo.py\", line 38, in main\r\n    show_result_pyplot(\r\n  File \"/home/ngi/IdeaProjects/mmlab/mmdetection/mmdet/apis/inference.py\", line 241, in show_result_pyplot\r\n    model.show_result(\r\n  File \"/home/ngi/IdeaProjects/mmlab/mmdetection/mmdet/models/detectors/rpn.py\", line 159, in show_result\r\n    mmcv.imshow_bboxes(data, result, top_k=top_k, **kwargs)\r\nTypeError: imshow_bboxes() got an unexpected keyword argument 'mask_color'\r\n\r\n```\n\n### Environment\n\n```\r\nPython: 3.8.13 (default, Mar 28 2022, 11:38:47) [GCC 7.5.0]\r\nCUDA available: True\r\nGPU 0: GeForce RTX 2080 SUPER\r\nCUDA_HOME: /usr/local/cuda-10.2\r\nNVCC: Cuda compilation tools, release 10.2, V10.2.8\r\nGCC: gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609\r\nPyTorch: 1.12.1+cu102\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.6.0 (Git Hash 52b5f107dd9cf10910aaa19cb47f3abf9b349815)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=10.2, CUDNN_VERSION=7.6.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -fabi-version=11 -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-unused-parameter -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.12.1, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_ROCM=OFF, \r\n\r\nTorchVision: 0.13.1+cu102\r\nOpenCV: 4.6.0\r\nMMCV: 1.6.2\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 10.2\r\nMMDetection: 2.25.2+9d3e162\r\n```\n\n### Additional information\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9015", "id": 1407517966, "node_id": "PR_kwDOCK7AWs5AuJI8", "number": 9015, "title": "[Fix] Fix bugs of `empty_instances` when predicting without nms in roi_head.", "user": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/8", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/8/labels", "id": 8471838, "node_id": "MI_kwDOCK7AWs4AgUUe", "number": 8, "title": "3.0.0rc4", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 40, "state": "open", "created_at": "2022-09-28T02:42:21Z", "updated_at": "2023-03-22T02:41:22Z", "due_on": "2022-11-21T08:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-10-13T10:05:44Z", "updated_at": "2022-11-01T08:40:05Z", "closed_at": "2022-11-01T08:40:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/9015", "html_url": "https://github.com/open-mmlab/mmdetection/pull/9015", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/9015.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/9015.patch", "merged_at": "2022-11-01T08:40:04Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nWhen `rcnn_test_cfg is None` the score of a empty instance need to have shape of (0, num_classes + 1). But now, it has shape (0, ). This will cause soft teacher crashes sometimes.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/9015/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8993", "id": 1404069016, "node_id": "PR_kwDOCK7AWs5Ainxy", "number": 8993, "title": "[Fix] Fix bitmap mask translate when out_shape is different.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/6", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/6", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/6/labels", "id": 8320523, "node_id": "MI_kwDOCK7AWs4AfvYL", "number": 6, "title": "3.0.0rc2", "description": "", "creator": {"login": "chqirene", "id": 92711396, "node_id": "U_kgDOBYap5A", "avatar_url": "https://avatars.githubusercontent.com/u/92711396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chqirene", "html_url": "https://github.com/chqirene", "followers_url": "https://api.github.com/users/chqirene/followers", "following_url": "https://api.github.com/users/chqirene/following{/other_user}", "gists_url": "https://api.github.com/users/chqirene/gists{/gist_id}", "starred_url": "https://api.github.com/users/chqirene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chqirene/subscriptions", "organizations_url": "https://api.github.com/users/chqirene/orgs", "repos_url": "https://api.github.com/users/chqirene/repos", "events_url": "https://api.github.com/users/chqirene/events{/privacy}", "received_events_url": "https://api.github.com/users/chqirene/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2022-08-18T08:49:40Z", "updated_at": "2022-10-21T12:07:09Z", "due_on": "2022-10-26T07:00:00Z", "closed_at": "2022-10-21T12:07:09Z"}, "comments": 1, "created_at": "2022-10-11T06:22:40Z", "updated_at": "2022-10-12T07:07:11Z", "closed_at": "2022-10-12T07:06:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8993", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8993", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8993.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8993.patch", "merged_at": "2022-10-12T07:06:24Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nFix bug of bitmap mask translate when `out_shape` is different.\r\n\r\n## Modification\r\n\r\nPadding the mask before translating.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8993/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8945", "id": 1398034144, "node_id": "I_kwDOCK7AWs5TVE7g", "number": 8945, "title": "No device argument provided in tutorial MMDet_Tutorial.ipynb", "user": {"login": "Godofnothing", "id": 29793750, "node_id": "MDQ6VXNlcjI5NzkzNzUw", "avatar_url": "https://avatars.githubusercontent.com/u/29793750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Godofnothing", "html_url": "https://github.com/Godofnothing", "followers_url": "https://api.github.com/users/Godofnothing/followers", "following_url": "https://api.github.com/users/Godofnothing/following{/other_user}", "gists_url": "https://api.github.com/users/Godofnothing/gists{/gist_id}", "starred_url": "https://api.github.com/users/Godofnothing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Godofnothing/subscriptions", "organizations_url": "https://api.github.com/users/Godofnothing/orgs", "repos_url": "https://api.github.com/users/Godofnothing/repos", "events_url": "https://api.github.com/users/Godofnothing/events{/privacy}", "received_events_url": "https://api.github.com/users/Godofnothing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wanghonglie", "id": 33799979, "node_id": "MDQ6VXNlcjMzNzk5OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33799979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanghonglie", "html_url": "https://github.com/wanghonglie", "followers_url": "https://api.github.com/users/wanghonglie/followers", "following_url": "https://api.github.com/users/wanghonglie/following{/other_user}", "gists_url": "https://api.github.com/users/wanghonglie/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanghonglie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanghonglie/subscriptions", "organizations_url": "https://api.github.com/users/wanghonglie/orgs", "repos_url": "https://api.github.com/users/wanghonglie/repos", "events_url": "https://api.github.com/users/wanghonglie/events{/privacy}", "received_events_url": "https://api.github.com/users/wanghonglie/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/4", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/4", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/4/labels", "id": 8305337, "node_id": "MI_kwDOCK7AWs4Afrq5", "number": 4, "title": "2.26.0", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 10, "closed_issues": 11, "state": "open", "created_at": "2022-08-15T05:58:46Z", "updated_at": "2022-12-12T03:55:20Z", "due_on": "2022-10-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-10-05T16:01:55Z", "updated_at": "2022-11-08T08:09:41Z", "closed_at": "2022-11-08T08:09:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Prerequisite\n\n- [X] I have searched [the existing and past issues](https://github.com/open-mmlab/mmdetection/issues) but cannot get the expected help.\n- [X] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\n- [X] The bug has not been fixed in the [latest version](https://github.com/open-mmlab/mmdetection).\n\n### \ud83d\udc1e Describe the bug\n\nIn the tutorial `MMDet_Tutorial.ipynb` the cell with detector training crashes with the error:\r\n```\r\n'ConfigDict' object has no attribute 'device'\r\n```\r\nIn order to fix this issue one needs to add to the cell editing config `./configs/faster_rcnn/faster_rcnn_r50_caffe_fpn_mstrain_1x_coco.py`:\r\n```\r\ncfg.device = 'cuda'\r\n```\r\nThis is the same issue raised [here](https://github.com/open-mmlab/mmdetection/issues/7901).\n\n### Environment\n\nIt was run on the colab environment with following specs:\r\n\r\n'sys.platform': 'linux',\r\n 'Python': '3.7.14 (default, Sep  8 2022, 00:06:44) [GCC 7.5.0]',\r\n 'CUDA available': True,\r\n 'GPU 0': 'Tesla T4',\r\n 'CUDA_HOME': '/usr/local/cuda',\r\n 'NVCC': 'Cuda compilation tools, release 11.1, V11.1.105',\r\n 'GCC': 'x86_64-linux-gnu-gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0',\r\n 'PyTorch': '1.9.0+cu111'\r\n\n\n### Additional information\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8784", "id": 1371533218, "node_id": "PR_kwDOCK7AWs4-3o2d", "number": 8784, "title": "Update loading.py", "user": {"login": "shuxp", "id": 7609868, "node_id": "MDQ6VXNlcjc2MDk4Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/7609868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shuxp", "html_url": "https://github.com/shuxp", "followers_url": "https://api.github.com/users/shuxp/followers", "following_url": "https://api.github.com/users/shuxp/following{/other_user}", "gists_url": "https://api.github.com/users/shuxp/gists{/gist_id}", "starred_url": "https://api.github.com/users/shuxp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shuxp/subscriptions", "organizations_url": "https://api.github.com/users/shuxp/orgs", "repos_url": "https://api.github.com/users/shuxp/repos", "events_url": "https://api.github.com/users/shuxp/events{/privacy}", "received_events_url": "https://api.github.com/users/shuxp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/5", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/5", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/5/labels", "id": 8305369, "node_id": "MI_kwDOCK7AWs4AfrrZ", "number": 5, "title": "3.0.0rc1", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-08-15T06:16:31Z", "updated_at": "2022-09-28T02:35:05Z", "due_on": "2022-09-23T07:00:00Z", "closed_at": "2022-09-28T02:35:05Z"}, "comments": 0, "created_at": "2022-09-13T14:17:02Z", "updated_at": "2022-09-21T07:10:37Z", "closed_at": "2022-09-21T07:10:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8784", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8784", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8784.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8784.patch", "merged_at": "2022-09-21T07:10:37Z"}, "body": "fix bug in test_dataloader. \r\nbecause test_dataloader has no 'instance' key.\r\ncheck 'instance' whether in results.keys()\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8784/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8723", "id": 1360912801, "node_id": "I_kwDOCK7AWs5RHeGh", "number": 8723, "title": "[MMDet 3.x] RuntimeError: PytorchStreamReader failed reading zip archive: failed finding central directory", "user": {"login": "vansin", "id": 25839884, "node_id": "MDQ6VXNlcjI1ODM5ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/25839884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vansin", "html_url": "https://github.com/vansin", "followers_url": "https://api.github.com/users/vansin/followers", "following_url": "https://api.github.com/users/vansin/following{/other_user}", "gists_url": "https://api.github.com/users/vansin/gists{/gist_id}", "starred_url": "https://api.github.com/users/vansin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vansin/subscriptions", "organizations_url": "https://api.github.com/users/vansin/orgs", "repos_url": "https://api.github.com/users/vansin/repos", "events_url": "https://api.github.com/users/vansin/events{/privacy}", "received_events_url": "https://api.github.com/users/vansin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/5", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/5", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/5/labels", "id": 8305369, "node_id": "MI_kwDOCK7AWs4AfrrZ", "number": 5, "title": "3.0.0rc1", "description": "", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-08-15T06:16:31Z", "updated_at": "2022-09-28T02:35:05Z", "due_on": "2022-09-23T07:00:00Z", "closed_at": "2022-09-28T02:35:05Z"}, "comments": 2, "created_at": "2022-09-03T16:46:17Z", "updated_at": "2022-09-04T06:23:04Z", "closed_at": "2022-09-04T06:23:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I can train faster-rcnn_r101_fpn_1x_coco.py success but train  faster-rcnn_r50_fpn_1x_coco.py  failed~\r\n\r\n```shell\r\n(mmdetbp-3.x) \u279c  mmdet-best-practices-3.x git:(3.x) python tools/train.py configs/balloon/faster_rcnn/faster-rcnn_r50_fpn_1x_coco.py \r\n09/04 00:42:50 - mmengine - INFO - \r\n------------------------------------------------------------\r\nSystem environment:\r\n    sys.platform: linux\r\n    Python: 3.9.13 (main, Aug 25 2022, 23:26:10) [GCC 11.2.0]\r\n    CUDA available: True\r\n    numpy_random_seed: 1889004364\r\n    GPU 0: Tesla T4\r\n    CUDA_HOME: /usr/local/cuda\r\n    NVCC: Cuda compilation tools, release 11.7, V11.7.99\r\n    GCC: gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0\r\n    PyTorch: 1.11.0+cu113\r\n    PyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.5.2 (Git Hash a9302535553c73243c632ad3c4c80beec3d19a1e)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.3\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86\r\n  - CuDNN 8.2\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.3, CUDNN_VERSION=8.2.0, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.11.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_ROCM=OFF, \r\n\r\n    TorchVision: 0.12.0+cu113\r\n    OpenCV: 4.6.0\r\n    MMEngine: 0.1.0\r\n\r\nRuntime environment:\r\n    cudnn_benchmark: False\r\n    mp_cfg: {'mp_start_method': 'fork', 'opencv_num_threads': 0}\r\n    dist_cfg: {'backend': 'nccl'}\r\n    seed: None\r\n    Distributed launcher: none\r\n    Distributed training: False\r\n    GPU number: 1\r\n------------------------------------------------------------\r\n\r\n09/04 00:42:50 - mmengine - INFO - Config:\r\nmodel = dict(\r\n    type='FasterRCNN',\r\n    data_preprocessor=dict(\r\n        type='DetDataPreprocessor',\r\n        mean=[123.675, 116.28, 103.53],\r\n        std=[58.395, 57.12, 57.375],\r\n        bgr_to_rgb=True,\r\n        pad_size_divisor=32),\r\n    backbone=dict(\r\n        type='ResNet',\r\n        depth=50,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        norm_eval=True,\r\n        style='pytorch',\r\n        init_cfg=dict(type='Pretrained', checkpoint='torchvision://resnet50')),\r\n    neck=dict(\r\n        type='FPN',\r\n        in_channels=[256, 512, 1024, 2048],\r\n        out_channels=256,\r\n        num_outs=5),\r\n    rpn_head=dict(\r\n        type='RPNHead',\r\n        in_channels=256,\r\n        feat_channels=256,\r\n        anchor_generator=dict(\r\n            type='AnchorGenerator',\r\n            scales=[8],\r\n            ratios=[0.5, 1.0, 2.0],\r\n            strides=[4, 8, 16, 32, 64]),\r\n        bbox_coder=dict(\r\n            type='DeltaXYWHBBoxCoder',\r\n            target_means=[0.0, 0.0, 0.0, 0.0],\r\n            target_stds=[1.0, 1.0, 1.0, 1.0]),\r\n        loss_cls=dict(\r\n            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\r\n        loss_bbox=dict(type='L1Loss', loss_weight=1.0)),\r\n    roi_head=dict(\r\n        type='StandardRoIHead',\r\n        bbox_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        bbox_head=dict(\r\n            type='Shared2FCBBoxHead',\r\n            in_channels=256,\r\n            fc_out_channels=1024,\r\n            roi_feat_size=7,\r\n            num_classes=80,\r\n            bbox_coder=dict(\r\n                type='DeltaXYWHBBoxCoder',\r\n                target_means=[0.0, 0.0, 0.0, 0.0],\r\n                target_stds=[0.1, 0.1, 0.2, 0.2]),\r\n            reg_class_agnostic=False,\r\n            loss_cls=dict(\r\n                type='CrossEntropyLoss', use_sigmoid=False, loss_weight=1.0),\r\n            loss_bbox=dict(type='L1Loss', loss_weight=1.0))),\r\n    train_cfg=dict(\r\n        rpn=dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.7,\r\n                neg_iou_thr=0.3,\r\n                min_pos_iou=0.3,\r\n                match_low_quality=True,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=256,\r\n                pos_fraction=0.5,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=False),\r\n            allowed_border=-1,\r\n            pos_weight=-1,\r\n            debug=False),\r\n        rpn_proposal=dict(\r\n            nms_pre=2000,\r\n            max_per_img=1000,\r\n            nms=dict(type='nms', iou_threshold=0.7),\r\n            min_bbox_size=0),\r\n        rcnn=dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.5,\r\n                neg_iou_thr=0.5,\r\n                min_pos_iou=0.5,\r\n                match_low_quality=False,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=512,\r\n                pos_fraction=0.25,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=True),\r\n            pos_weight=-1,\r\n            debug=False)),\r\n    test_cfg=dict(\r\n        rpn=dict(\r\n            nms_pre=1000,\r\n            max_per_img=1000,\r\n            nms=dict(type='nms', iou_threshold=0.7),\r\n            min_bbox_size=0),\r\n        rcnn=dict(\r\n            score_thr=0.05,\r\n            nms=dict(type='nms', iou_threshold=0.5),\r\n            max_per_img=100)))\r\ndataset_type = 'CocoDataset'\r\ndata_root = 'data/balloon/'\r\nmetainfo = dict(CLASSES=('balloon', ), PALETTE=[(220, 20, 60)])\r\nfile_client_args = dict(backend='disk')\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile', file_client_args=dict(backend='disk')),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='Resize', scale=(1333, 800), keep_ratio=True),\r\n    dict(type='RandomFlip', prob=0.5),\r\n    dict(type='PackDetInputs')\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile', file_client_args=dict(backend='disk')),\r\n    dict(type='Resize', scale=(1333, 800), keep_ratio=True),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(\r\n        type='PackDetInputs',\r\n        meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                   'scale_factor'))\r\n]\r\ntrain_dataloader = dict(\r\n    batch_size=1,\r\n    num_workers=2,\r\n    persistent_workers=True,\r\n    sampler=dict(type='DefaultSampler', shuffle=True),\r\n    batch_sampler=dict(type='AspectRatioBatchSampler'),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/balloon/',\r\n        metainfo=dict(CLASSES=('balloon', ), PALETTE=[(220, 20, 60)]),\r\n        ann_file='train.json',\r\n        data_prefix=dict(img='train/'),\r\n        filter_cfg=dict(filter_empty_gt=True, min_size=32),\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk')),\r\n            dict(type='LoadAnnotations', with_bbox=True),\r\n            dict(type='Resize', scale=(1333, 800), keep_ratio=True),\r\n            dict(type='RandomFlip', prob=0.5),\r\n            dict(type='PackDetInputs')\r\n        ]))\r\nval_dataloader = dict(\r\n    batch_size=1,\r\n    num_workers=2,\r\n    persistent_workers=True,\r\n    drop_last=False,\r\n    sampler=dict(type='DefaultSampler', shuffle=False),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/balloon/',\r\n        metainfo=dict(CLASSES=('balloon', ), PALETTE=[(220, 20, 60)]),\r\n        ann_file='val.json',\r\n        data_prefix=dict(img='val/'),\r\n        test_mode=True,\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk')),\r\n            dict(type='Resize', scale=(1333, 800), keep_ratio=True),\r\n            dict(type='LoadAnnotations', with_bbox=True),\r\n            dict(\r\n                type='PackDetInputs',\r\n                meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                           'scale_factor'))\r\n        ]))\r\ntest_dataloader = dict(\r\n    batch_size=1,\r\n    num_workers=2,\r\n    persistent_workers=True,\r\n    drop_last=False,\r\n    sampler=dict(type='DefaultSampler', shuffle=False),\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        data_root='data/balloon/',\r\n        metainfo=dict(CLASSES=('balloon', ), PALETTE=[(220, 20, 60)]),\r\n        ann_file='val.json',\r\n        data_prefix=dict(img='val/'),\r\n        test_mode=True,\r\n        pipeline=[\r\n            dict(\r\n                type='LoadImageFromFile',\r\n                file_client_args=dict(backend='disk')),\r\n            dict(type='Resize', scale=(1333, 800), keep_ratio=True),\r\n            dict(type='LoadAnnotations', with_bbox=True),\r\n            dict(\r\n                type='PackDetInputs',\r\n                meta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape',\r\n                           'scale_factor'))\r\n        ]))\r\nval_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='data/balloon/val.json',\r\n    metric='bbox',\r\n    format_only=False)\r\ntest_evaluator = dict(\r\n    type='CocoMetric',\r\n    ann_file='data/balloon/val.json',\r\n    metric='bbox',\r\n    format_only=False)\r\ntrain_cfg = dict(type='EpochBasedTrainLoop', max_epochs=12, val_interval=1)\r\nval_cfg = dict(type='ValLoop')\r\ntest_cfg = dict(type='TestLoop')\r\nparam_scheduler = [\r\n    dict(\r\n        type='LinearLR', start_factor=0.001, by_epoch=False, begin=0, end=500),\r\n    dict(\r\n        type='MultiStepLR',\r\n        begin=0,\r\n        end=12,\r\n        by_epoch=True,\r\n        milestones=[8, 11],\r\n        gamma=0.1)\r\n]\r\noptim_wrapper = dict(\r\n    type='OptimWrapper',\r\n    optimizer=dict(type='SGD', lr=0.0025, momentum=0.9, weight_decay=0.0001))\r\nauto_scale_lr = dict(enable=False, base_batch_size=2)\r\ndefault_scope = 'mmdet'\r\ndefault_hooks = dict(\r\n    timer=dict(type='IterTimerHook'),\r\n    logger=dict(type='LoggerHook', interval=5),\r\n    param_scheduler=dict(type='ParamSchedulerHook'),\r\n    checkpoint=dict(type='CheckpointHook', interval=1),\r\n    sampler_seed=dict(type='DistSamplerSeedHook'),\r\n    visualization=dict(type='DetVisualizationHook'))\r\nenv_cfg = dict(\r\n    cudnn_benchmark=False,\r\n    mp_cfg=dict(mp_start_method='fork', opencv_num_threads=0),\r\n    dist_cfg=dict(backend='nccl'))\r\nvis_backends = [dict(type='LocalVisBackend'), dict(type='WandbVisBackend')]\r\nvisualizer = dict(\r\n    type='DetLocalVisualizer',\r\n    vis_backends=[dict(type='LocalVisBackend'),\r\n                  dict(type='WandbVisBackend')],\r\n    name='visualizer')\r\nlog_processor = dict(type='LogProcessor', window_size=50, by_epoch=True)\r\nlog_level = 'INFO'\r\nload_from = None\r\nresume = False\r\nlauncher = 'none'\r\nwork_dir = './work_dirs/faster-rcnn_r50_fpn_1x_coco'\r\n\r\nResult has been saved to /project/openmmlab2/mmdet-best-practices-3.x/work_dirs/faster-rcnn_r50_fpn_1x_coco/modules_statistic_results.json\r\n09/04 00:42:55 - mmengine - INFO - Distributed training is not used, all SyncBatchNorm (SyncBN) layers in the model will be automatically reverted to BatchNormXd layers if they are used.\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\n09/04 00:42:55 - mmengine - INFO - load model from: torchvision://resnet50\r\n09/04 00:42:55 - mmengine - INFO - torchvision loads checkpoint from path: torchvision://resnet50\r\nTraceback (most recent call last):\r\n  File \"/project/openmmlab2/mmdet-best-practices-3.x/tools/train.py\", line 120, in <module>\r\n    main()\r\n  File \"/project/openmmlab2/mmdet-best-practices-3.x/tools/train.py\", line 116, in main\r\n    runner.train()\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/runner.py\", line 1621, in train\r\n    self._init_model_weights()\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/runner.py\", line 872, in _init_model_weights\r\n    model.init_weights()\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/model/base_module.py\", line 114, in init_weights\r\n    m.init_weights()\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/model/base_module.py\", line 103, in init_weights\r\n    initialize(self, self.init_cfg)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/model/weight_init.py\", line 607, in initialize\r\n    _initialize(module, cp_cfg)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/model/weight_init.py\", line 515, in _initialize\r\n    func(module)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/model/weight_init.py\", line 487, in __call__\r\n    load_checkpoint(\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/checkpoint.py\", line 569, in load_checkpoint\r\n    checkpoint = _load_checkpoint(filename, map_location, logger)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/checkpoint.py\", line 482, in _load_checkpoint\r\n    return CheckpointLoader.load_checkpoint(filename, map_location, logger)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/checkpoint.py\", line 257, in load_checkpoint\r\n    return checkpoint_loader(filename, map_location)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/checkpoint.py\", line 400, in load_from_torchvision\r\n    return load_from_http(model_urls[model_name], map_location=map_location)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/mmengine/runner/checkpoint.py\", line 295, in load_from_http\r\n    checkpoint = load_url(\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/torch/hub.py\", line 595, in load_state_dict_from_url\r\n    return torch.load(cached_file, map_location=map_location)\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/torch/serialization.py\", line 705, in load\r\n    with _open_zipfile_reader(opened_file) as opened_zipfile:\r\n  File \"/home/ubuntu/miniconda3/envs/mmdetbp-3.x/lib/python3.9/site-packages/torch/serialization.py\", line 243, in __init__\r\n    super(_open_zipfile_reader, self).__init__(torch._C.PyTorchFileReader(name_or_buffer))\r\nRuntimeError: PytorchStreamReader failed reading zip archive: failed finding central directory\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8597", "id": 1343960301, "node_id": "PR_kwDOCK7AWs49b-jh", "number": 8597, "title": "[Fix] Clean repeated import of CascadeRPNHead", "user": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-08-19T05:27:22Z", "updated_at": "2022-08-19T06:17:48Z", "closed_at": "2022-08-19T06:17:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8597", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8597", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8597.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8597.patch", "merged_at": "2022-08-19T06:17:48Z"}, "body": "Close issue: #8595\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8597/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8595", "id": 1343899418, "node_id": "I_kwDOCK7AWs5QGkca", "number": 8595, "title": "Clean repeated import of CascadeRPNHead in `dev-3.x`.", "user": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/3", "html_url": "https://github.com/open-mmlab/mmdetection/milestone/3", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/milestones/3/labels", "id": 8305333, "node_id": "MI_kwDOCK7AWs4Afrq1", "number": 3, "title": "3.0.0rc0", "description": "Release of 3.0.0rc0, with the full support of all algorithms in MMDet 2.x and complete English documentations.", "creator": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-08-15T05:52:20Z", "updated_at": "2022-09-05T02:33:16Z", "due_on": "2022-08-31T07:00:00Z", "closed_at": "2022-09-05T02:33:16Z"}, "comments": 0, "created_at": "2022-08-19T03:46:51Z", "updated_at": "2022-08-21T04:28:17Z", "closed_at": "2022-08-21T04:28:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Got same problem in branch `dev-3.x`.\r\n\r\n_Originally posted by @BIGWangYuDong in https://github.com/open-mmlab/mmdetection/issues/8578#issuecomment-1218905793_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8469", "id": 1325417008, "node_id": "I_kwDOCK7AWs5PAEIw", "number": 8469, "title": "SOLOv2 light R34  pre-trained model is missing", "user": {"login": "ChHanXiao", "id": 24456969, "node_id": "MDQ6VXNlcjI0NDU2OTY5", "avatar_url": "https://avatars.githubusercontent.com/u/24456969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChHanXiao", "html_url": "https://github.com/ChHanXiao", "followers_url": "https://api.github.com/users/ChHanXiao/followers", "following_url": "https://api.github.com/users/ChHanXiao/following{/other_user}", "gists_url": "https://api.github.com/users/ChHanXiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChHanXiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChHanXiao/subscriptions", "organizations_url": "https://api.github.com/users/ChHanXiao/orgs", "repos_url": "https://api.github.com/users/ChHanXiao/repos", "events_url": "https://api.github.com/users/ChHanXiao/events{/privacy}", "received_events_url": "https://api.github.com/users/ChHanXiao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-08-02T07:35:31Z", "updated_at": "2022-10-19T03:13:40Z", "closed_at": "2022-10-19T03:13:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "[SOLOv2 light R34 ](https://github.com/open-mmlab/mmdetection/blob/master/configs/solov2/metafile.yml#L106)pre-trained model is missing", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8450", "id": 1320312247, "node_id": "PR_kwDOCK7AWs48N78i", "number": 8450, "title": "[Fix] Bug related to PixelData", "user": {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-07-28T02:32:29Z", "updated_at": "2022-07-28T11:13:20Z", "closed_at": "2022-07-28T11:13:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8450", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8450", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8450.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8450.patch", "merged_at": "2022-07-28T11:13:20Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8450/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8447", "id": 1319740411, "node_id": "PR_kwDOCK7AWs48MJ2O", "number": 8447, "title": "Fix bug of GFL in dev-3.x", "user": {"login": "zytx121", "id": 10410257, "node_id": "MDQ6VXNlcjEwNDEwMjU3", "avatar_url": "https://avatars.githubusercontent.com/u/10410257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zytx121", "html_url": "https://github.com/zytx121", "followers_url": "https://api.github.com/users/zytx121/followers", "following_url": "https://api.github.com/users/zytx121/following{/other_user}", "gists_url": "https://api.github.com/users/zytx121/gists{/gist_id}", "starred_url": "https://api.github.com/users/zytx121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zytx121/subscriptions", "organizations_url": "https://api.github.com/users/zytx121/orgs", "repos_url": "https://api.github.com/users/zytx121/repos", "events_url": "https://api.github.com/users/zytx121/events{/privacy}", "received_events_url": "https://api.github.com/users/zytx121/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-07-27T15:32:32Z", "updated_at": "2022-07-28T14:36:44Z", "closed_at": "2022-07-28T14:36:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8447", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8447", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8447.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8447.patch", "merged_at": null}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8447/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8443", "id": 1319454502, "node_id": "I_kwDOCK7AWs5OpUcm", "number": 8443, "title": "[BUG] With new versions of torch many of model heads needs to be changed like that", "user": {"login": "mzillag", "id": 46089813, "node_id": "MDQ6VXNlcjQ2MDg5ODEz", "avatar_url": "https://avatars.githubusercontent.com/u/46089813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzillag", "html_url": "https://github.com/mzillag", "followers_url": "https://api.github.com/users/mzillag/followers", "following_url": "https://api.github.com/users/mzillag/following{/other_user}", "gists_url": "https://api.github.com/users/mzillag/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzillag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzillag/subscriptions", "organizations_url": "https://api.github.com/users/mzillag/orgs", "repos_url": "https://api.github.com/users/mzillag/repos", "events_url": "https://api.github.com/users/mzillag/events{/privacy}", "received_events_url": "https://api.github.com/users/mzillag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-07-27T11:55:56Z", "updated_at": "2022-08-04T01:20:16Z", "closed_at": "2022-08-04T01:20:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "> Solov2 head returns the same problem for me. Has anyone fixed that yet?\r\n\r\nYeap, [here](https://github.com/open-mmlab/mmdetection/blob/ca11860f4f3c3ca2ce8340e2686eeaec05b29111/mmdet/models/dense_heads/solov2_head.py#:~:text=%2B%3D%20self.-,convs_all_levels,-%5Bi%5D( ) change to `feature_add_all_level = feature_add_all_level + self.convs_all_levels[i](input_p)`\r\n\r\n_Originally posted by @mzillag in https://github.com/open-mmlab/mmdetection/issues/7933#issuecomment-1196629481_", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8441", "id": 1319247657, "node_id": "I_kwDOCK7AWs5Ooh8p", "number": 8441, "title": "How can i get the AR?", "user": {"login": "gzxy-0102", "id": 8954610, "node_id": "MDQ6VXNlcjg5NTQ2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/8954610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gzxy-0102", "html_url": "https://github.com/gzxy-0102", "followers_url": "https://api.github.com/users/gzxy-0102/followers", "following_url": "https://api.github.com/users/gzxy-0102/following{/other_user}", "gists_url": "https://api.github.com/users/gzxy-0102/gists{/gist_id}", "starred_url": "https://api.github.com/users/gzxy-0102/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gzxy-0102/subscriptions", "organizations_url": "https://api.github.com/users/gzxy-0102/orgs", "repos_url": "https://api.github.com/users/gzxy-0102/repos", "events_url": "https://api.github.com/users/gzxy-0102/events{/privacy}", "received_events_url": "https://api.github.com/users/gzxy-0102/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-07-27T09:03:52Z", "updated_at": "2022-08-01T06:04:10Z", "closed_at": "2022-08-01T06:04:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I configured metric as bbox and proposal, but the evaluation method only prints AR parameters, and there are no AR parameters in the returned dict\r\n\r\n![image](https://user-images.githubusercontent.com/8954610/181207919-7935946d-ac0e-4827-b417-4f75d10f256e.png)\r\n\r\n![image](https://user-images.githubusercontent.com/8954610/181207950-abaf00e3-8d99-4aed-a89d-61630e4b027f.png)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8419", "id": 1316338380, "node_id": "PR_kwDOCK7AWs48A6HG", "number": 8419, "title": "[Fix] update polygon mask and bitmap mask", "user": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4371480408, "node_id": "LA_kwDOCK7AWs8AAAABBI9_WA", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/v-3.x", "name": "v-3.x", "color": "57EB9E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-07-25T06:31:09Z", "updated_at": "2022-08-12T02:47:22Z", "closed_at": "2022-08-12T01:26:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/8419", "html_url": "https://github.com/open-mmlab/mmdetection/pull/8419", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/8419.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/8419.patch", "merged_at": "2022-08-12T01:26:19Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8419/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8260", "id": 1283544117, "node_id": "I_kwDOCK7AWs5MgVQ1", "number": 8260, "title": "`KeyError: 'conv1_w'` When converting from Detectron2 to MMDetection", "user": {"login": "justlike-prog", "id": 55004292, "node_id": "MDQ6VXNlcjU1MDA0Mjky", "avatar_url": "https://avatars.githubusercontent.com/u/55004292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justlike-prog", "html_url": "https://github.com/justlike-prog", "followers_url": "https://api.github.com/users/justlike-prog/followers", "following_url": "https://api.github.com/users/justlike-prog/following{/other_user}", "gists_url": "https://api.github.com/users/justlike-prog/gists{/gist_id}", "starred_url": "https://api.github.com/users/justlike-prog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justlike-prog/subscriptions", "organizations_url": "https://api.github.com/users/justlike-prog/orgs", "repos_url": "https://api.github.com/users/justlike-prog/repos", "events_url": "https://api.github.com/users/justlike-prog/events{/privacy}", "received_events_url": "https://api.github.com/users/justlike-prog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-06-24T09:59:16Z", "updated_at": "2022-11-28T02:01:50Z", "closed_at": "2022-11-03T11:33:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I would like to convert a Detectron2 into a MMDetection model. Running the `detectron2pytorch.py` script leads to an error though,\r\n\r\n`python detectron2pytorch.py model_final_f10217.pkl test123.pth 50\r\nTraceback (most recent call last):\r\n  File \"detectron2pytorch.py\", line 83, in <module>\r\n    main()\r\n  File \"detectron2pytorch.py\", line 79, in main\r\n    convert(args.src, args.dst, args.depth)\r\n  File \"detectron2pytorch.py\", line 47, in convert\r\n    convert_conv_fc(blobs, state_dict, 'conv1', 'conv1', converted_names)\r\n  File \"detectron2pytorch.py\", line 26, in convert_conv_fc\r\n    state_dict[torch_name + '.weight'] = torch.from_numpy(blobs[caffe_name +\r\nKeyError: 'conv1_w'`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8212", "id": 1275085910, "node_id": "I_kwDOCK7AWs5MAERW", "number": 8212, "title": "Demo not working", "user": {"login": "alejopaullier96", "id": 65294021, "node_id": "MDQ6VXNlcjY1Mjk0MDIx", "avatar_url": "https://avatars.githubusercontent.com/u/65294021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alejopaullier96", "html_url": "https://github.com/alejopaullier96", "followers_url": "https://api.github.com/users/alejopaullier96/followers", "following_url": "https://api.github.com/users/alejopaullier96/following{/other_user}", "gists_url": "https://api.github.com/users/alejopaullier96/gists{/gist_id}", "starred_url": "https://api.github.com/users/alejopaullier96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alejopaullier96/subscriptions", "organizations_url": "https://api.github.com/users/alejopaullier96/orgs", "repos_url": "https://api.github.com/users/alejopaullier96/repos", "events_url": "https://api.github.com/users/alejopaullier96/events{/privacy}", "received_events_url": "https://api.github.com/users/alejopaullier96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-06-17T14:16:16Z", "updated_at": "2022-06-19T23:17:56Z", "closed_at": "2022-06-19T23:17:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I followed the steps from [get_started.md](https://github.com/open-mmlab/mmdetection/blob/master/docs/en/get_started.md).\r\n\r\nWhen executing the command:\r\n```\r\nmim download mmdet --config yolov3_mobilenetv2_320_300e_coco --dest .\r\n```\r\nI got the following error :\r\n```\r\n/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/_distutils_hack/__init__.py:30: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/envs/openmmlab/bin/mim\", line 8, in <module>\r\n    sys.exit(cli())\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/mim/commands/download.py\", line 44, in cli\r\n    download(package, configs, dest_root)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/mim/commands/download.py\", line 75, in download\r\n    model_info = get_model_info(\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/mim/commands/search.py\", line 170, in get_model_info\r\n    dataframe = convert2df(metadata)\r\n  File \"/opt/anaconda3/envs/openmmlab/lib/python3.8/site-packages/mim/commands/search.py\", line 396, in convert2df\r\n    for key, value in name2collection[collection_name].items():\r\nKeyError: 'Cascade Mask R-CNN'\r\n```\r\n\r\nI am running it on a MacBook Pro with an M1 chip.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8212/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8159", "id": 1266063872, "node_id": "I_kwDOCK7AWs5LdpoA", "number": 8159, "title": "solov2 error: Non-empty 4D data tensor expected but got a tensor with sizes [1, 0, 136, 328]", "user": {"login": "star379814385", "id": 49085517, "node_id": "MDQ6VXNlcjQ5MDg1NTE3", "avatar_url": "https://avatars.githubusercontent.com/u/49085517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/star379814385", "html_url": "https://github.com/star379814385", "followers_url": "https://api.github.com/users/star379814385/followers", "following_url": "https://api.github.com/users/star379814385/following{/other_user}", "gists_url": "https://api.github.com/users/star379814385/gists{/gist_id}", "starred_url": "https://api.github.com/users/star379814385/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/star379814385/subscriptions", "organizations_url": "https://api.github.com/users/star379814385/orgs", "repos_url": "https://api.github.com/users/star379814385/repos", "events_url": "https://api.github.com/users/star379814385/events{/privacy}", "received_events_url": "https://api.github.com/users/star379814385/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-09T12:33:51Z", "updated_at": "2022-07-13T07:40:03Z", "closed_at": "2022-07-13T07:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "a error in solov2.head.py line733\r\nkeep_inds may be [] after mask_matrix_nms, mask_preds.shape[0] may be 0, which can not be used in F.interpolate.\r\n\r\nTraceback (most recent call last):\r\n  File \"D:/project/0_PanopticSeg/mmdetection-2.25.0/custom_tools/scripts/vis_from_mmdet_infer.py\", line 50, in <module>\r\n    result = inference_detector(model, img)\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\apis\\inference.py\", line 151, in inference_detector\r\n    results = model(return_loss=False, rescale=True, **data)\r\n  File \"D:\\winPrpgram\\anaconda3\\envs\\mmdet38\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1110, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"D:\\winPrpgram\\anaconda3\\envs\\mmdet38\\lib\\site-packages\\mmcv\\runner\\fp16_utils.py\", line 110, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\models\\detectors\\base.py\", line 174, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\models\\detectors\\base.py\", line 147, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\models\\detectors\\single_stage_instance_seg.py\", line 175, in simple_test\r\n    results_list = self.mask_head.simple_test(\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\models\\dense_heads\\base_mask_head.py\", line 107, in simple_test\r\n    results_list = self.get_results(\r\n  File \"D:\\winPrpgram\\anaconda3\\envs\\mmdet38\\lib\\site-packages\\mmcv\\runner\\fp16_utils.py\", line 198, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\mmdet\\models\\dense_heads\\solov2_head.py\", line 622, in get_results\r\n    result = self._get_results_single(\r\n  File \"D:\\project\\0_PanopticSeg\\mmdetection-2.25.0\\custom_modules\\qiti_solov2_head.py\", line 126, in _get_results_single\r\n    mask_preds = F.interpolate(\r\n  File \"D:\\winPrpgram\\anaconda3\\envs\\mmdet38\\lib\\site-packages\\torch\\nn\\functional.py\", line 3919, in interpolate\r\n    return torch._C._nn.upsample_bilinear2d(input, output_size, align_corners, scale_factors)\r\nRuntimeError: Non-empty 4D data tensor expected but got a tensor with sizes [1, 0, 136, 328]", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8131", "id": 1260784199, "node_id": "I_kwDOCK7AWs5LJgpH", "number": 8131, "title": "FilterAnnotations does not work properly with PolygonMasks", "user": {"login": "MiXaiLL76", "id": 31501945, "node_id": "MDQ6VXNlcjMxNTAxOTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/31501945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiXaiLL76", "html_url": "https://github.com/MiXaiLL76", "followers_url": "https://api.github.com/users/MiXaiLL76/followers", "following_url": "https://api.github.com/users/MiXaiLL76/following{/other_user}", "gists_url": "https://api.github.com/users/MiXaiLL76/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiXaiLL76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiXaiLL76/subscriptions", "organizations_url": "https://api.github.com/users/MiXaiLL76/orgs", "repos_url": "https://api.github.com/users/MiXaiLL76/repos", "events_url": "https://api.github.com/users/MiXaiLL76/events{/privacy}", "received_events_url": "https://api.github.com/users/MiXaiLL76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-06-04T14:40:54Z", "updated_at": "2022-06-19T03:09:46Z", "closed_at": "2022-06-19T03:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Checklist\r\n\r\n1. [x] I have searched related issues but cannot get the expected [DONE] (Didn't see similar bug reports)\r\n2. [x] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help. [DONE] \r\n3. [x] The bug has not been fixed in the latest version. [DONE] (bug not fixed)\r\n\r\n## Describe\r\nWhen working with datasets in PolygonMasks mode, indexes are transferred incorrectly.\r\n\r\n## Reproduction\r\n\r\n1. What command or script did you run?\r\n\r\nDataset loader pipeline and use poly2mask=False\r\n```\r\n [{'type': 'LoadImageFromFile'},\r\n  {'type': 'LoadAnnotations',\r\n   'with_bbox': True,\r\n   'with_mask': True,\r\n   'poly2mask': False},\r\n  {'type': 'FilterAnnotations', 'min_gt_bbox_wh': (5, 5)},\r\n  {'type': 'Collect',\r\n   'keys': ['img', 'gt_bboxes', 'gt_labels', 'gt_masks'],\r\n   'meta_keys': ('filename', 'img_shape')}]\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n> I didn't modify anything\r\n\r\n3. What dataset did you use?\r\n> Custom dataset in coco format.   \r\n> I will attach a simple code to test  \r\n\r\n## Environment\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n\r\n```\r\n\r\n/bin/sh: 1: /usr/local/cuda/bin/nvcc: not found\r\nfatal: not a git repository (or any parent up to mount point /)\r\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\nsys.platform: linux\r\nPython: 3.8.10 (default, Mar 15 2022, 12:22:08) [GCC 9.4.0]\r\nCUDA available: True\r\nGPU 0: NVIDIA GeForce RTX 3080 Ti\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Not Available\r\nGCC: x86_64-linux-gnu-gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0\r\nPyTorch: 1.10.0+cu113\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.2.3 (Git Hash 7336ca9f055cf1bfa13efb658fe15dc9b41f0740)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.3\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86\r\n  - CuDNN 8.2\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.3, CUDNN_VERSION=8.2.0, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.10.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.11.1+cu113\r\nOpenCV: 4.5.5\r\nMMCV: 1.5.2\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 11.3\r\nMMDetection: 2.25.0+\r\n\r\n```\r\n\r\n2. You may add addition that may be helpful for locating the problem:  \r\nI add dataset and bug example file\r\n\r\n## Error traceback\r\nbug have not traceback\r\n\r\n## Why did the bug happen?\r\nThe PolygonMasks module does not support numpy binary arrays for selection.\r\n\r\n## Bug fix\r\nI have already fixed this bug by adding a boolean mask conversion to indexes in the function.  \r\n\r\nYou need to add the following code to line 627 in the file:\r\nhttps://github.com/open-mmlab/mmdetection/blob/ca11860f4f3c3ca2ce8340e2686eeaec05b29111/mmdet/datasets/pipelines/loading.py#L627\r\n\r\nCODE:\r\n\r\n```\r\nkeep = np.where(keep == True)[0]\r\n```\r\n\r\n\r\n\r\n## PS...\r\nThere is still a small typo in the output of information about the function in line 410 of the file =)  \r\n\r\nhttps://github.com/open-mmlab/mmdetection/blob/ca11860f4f3c3ca2ce8340e2686eeaec05b29111/mmdet/datasets/pipelines/loading.py#L410\r\n\r\nCODE to fix:\r\n```\r\nrepr_str += f'file_client_args={self.file_client_args})'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8081", "id": 1251824155, "node_id": "I_kwDOCK7AWs5KnVIb", "number": 8081, "title": "RuntimeError: Input type (torch.cuda.HalfTensor) and weight type (torch.FloatTensor) should be the same", "user": {"login": "vansin", "id": 25839884, "node_id": "MDQ6VXNlcjI1ODM5ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/25839884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vansin", "html_url": "https://github.com/vansin", "followers_url": "https://api.github.com/users/vansin/followers", "following_url": "https://api.github.com/users/vansin/following{/other_user}", "gists_url": "https://api.github.com/users/vansin/gists{/gist_id}", "starred_url": "https://api.github.com/users/vansin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vansin/subscriptions", "organizations_url": "https://api.github.com/users/vansin/orgs", "repos_url": "https://api.github.com/users/vansin/repos", "events_url": "https://api.github.com/users/vansin/events{/privacy}", "received_events_url": "https://api.github.com/users/vansin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-05-29T08:24:57Z", "updated_at": "2023-02-21T09:18:09Z", "closed_at": "2023-02-21T09:18:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "\r\nlad/lad_r101_paa_r50_fpn_coco_1x.py\r\n\r\n```shell\r\n    train_detector(\r\n  File \"/project/mmlab_template/mmdetection/mmdet/apis/train.py\", line 208, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 127, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True, **kwargs)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 29, in run_iter\r\n    outputs = self.model.train_step(data_batch, self.optimizer,\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/mmcv/parallel/data_parallel.py\", line 75, in train_step\r\n    return self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"/project/mmlab_template/mmdetection/mmdet/models/detectors/base.py\", line 248, in train_step\r\n    losses = self(**data)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/mmcv/runner/fp16_utils.py\", line 139, in new_func\r\n    output = old_func(*new_args, **new_kwargs)\r\n  File \"/project/mmlab_template/mmdetection/mmdet/models/detectors/base.py\", line 172, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"/project/mmlab_template/mmdetection/mmdet/models/detectors/lad.py\", line 80, in forward_train\r\n    x_teacher = self.extract_teacher_feat(img)\r\n  File \"/project/mmlab_template/mmdetection/mmdet/models/detectors/lad.py\", line 49, in extract_teacher_feat\r\n    x = self.teacher_model.backbone(img)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/project/mmlab_template/mmdetection/mmdet/models/backbones/resnet.py\", line 636, in forward\r\n    x = self.conv1(x)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/torch/nn/modules/conv.py\", line 443, in forward\r\n    return self._conv_forward(input, self.weight, self.bias)\r\n  File \"/home/elaine/miniconda3/envs/cvmart/lib/python3.9/site-packages/torch/nn/modules/conv.py\", line 439, in _conv_forward\r\n    return F.conv2d(input, weight, bias, self.stride,\r\nRuntimeError: Input type (torch.cuda.HalfTensor) and weight type (torch.FloatTensor) should be the same\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8037", "id": 1246248928, "node_id": "I_kwDOCK7AWs5KSD_g", "number": 8037, "title": "YOLOX-S", "user": {"login": "wenguduo", "id": 48727971, "node_id": "MDQ6VXNlcjQ4NzI3OTcx", "avatar_url": "https://avatars.githubusercontent.com/u/48727971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wenguduo", "html_url": "https://github.com/wenguduo", "followers_url": "https://api.github.com/users/wenguduo/followers", "following_url": "https://api.github.com/users/wenguduo/following{/other_user}", "gists_url": "https://api.github.com/users/wenguduo/gists{/gist_id}", "starred_url": "https://api.github.com/users/wenguduo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wenguduo/subscriptions", "organizations_url": "https://api.github.com/users/wenguduo/orgs", "repos_url": "https://api.github.com/users/wenguduo/repos", "events_url": "https://api.github.com/users/wenguduo/events{/privacy}", "received_events_url": "https://api.github.com/users/wenguduo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-05-24T09:17:11Z", "updated_at": "2022-10-19T03:15:17Z", "closed_at": "2022-10-19T03:15:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I change the loss_cls from cross_entropy_loss to FocalLoss in yolox_s_8x8_300e_coco.py \uff0cthe error show the follow error: \r\n\r\nFile \"/opt/conda/lib/python3.7/site-packages/mmcv/ops/focal_loss.py\", line 37, in forward\r\n    assert isinstance(target, (torch.LongTensor, torch.cuda.LongTensor))\r\nAssertionError\r\n\r\nHow can I solve it, I have tried to change target type to LongTensor before train,but still error.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8035", "id": 1246205362, "node_id": "I_kwDOCK7AWs5KR5Wy", "number": 8035, "title": "When running analyze_results.py", "user": {"login": "galaxyGGG", "id": 45815385, "node_id": "MDQ6VXNlcjQ1ODE1Mzg1", "avatar_url": "https://avatars.githubusercontent.com/u/45815385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galaxyGGG", "html_url": "https://github.com/galaxyGGG", "followers_url": "https://api.github.com/users/galaxyGGG/followers", "following_url": "https://api.github.com/users/galaxyGGG/following{/other_user}", "gists_url": "https://api.github.com/users/galaxyGGG/gists{/gist_id}", "starred_url": "https://api.github.com/users/galaxyGGG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galaxyGGG/subscriptions", "organizations_url": "https://api.github.com/users/galaxyGGG/orgs", "repos_url": "https://api.github.com/users/galaxyGGG/repos", "events_url": "https://api.github.com/users/galaxyGGG/events{/privacy}", "received_events_url": "https://api.github.com/users/galaxyGGG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-05-24T08:45:41Z", "updated_at": "2022-05-25T01:57:04Z", "closed_at": "2022-05-25T01:57:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running analyze_results.py, i met this problem:\r\n\r\n_the data pipeline in your config file must include loading image and annotations related pipeline._\r\n\r\nI don't know what went wrong, but everything(train or test) seems good so far, until i met this problem. I used the yolox-s config file and trained my own dataset. And in order to get the pickle file \"results.pkl\", i actually used the dist_test.sh.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8007", "id": 1239698584, "node_id": "I_kwDOCK7AWs5J5EyY", "number": 8007, "title": "Error in the tutorial", "user": {"login": "fredericschmidt", "id": 19569693, "node_id": "MDQ6VXNlcjE5NTY5Njkz", "avatar_url": "https://avatars.githubusercontent.com/u/19569693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredericschmidt", "html_url": "https://github.com/fredericschmidt", "followers_url": "https://api.github.com/users/fredericschmidt/followers", "following_url": "https://api.github.com/users/fredericschmidt/following{/other_user}", "gists_url": "https://api.github.com/users/fredericschmidt/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredericschmidt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredericschmidt/subscriptions", "organizations_url": "https://api.github.com/users/fredericschmidt/orgs", "repos_url": "https://api.github.com/users/fredericschmidt/repos", "events_url": "https://api.github.com/users/fredericschmidt/events{/privacy}", "received_events_url": "https://api.github.com/users/fredericschmidt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-05-18T09:42:14Z", "updated_at": "2022-10-25T08:46:32Z", "closed_at": "2022-10-25T08:46:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThank you for sharing your fantastic tool.\r\n\r\nI made the installation and the get_started is working fine.\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/docs/en/get_started.md\r\n\r\nWhen I want to run the tutorial for learning, I get the following error :\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/demo/MMDet_Tutorial.ipynb\r\n\r\n===========\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/envs/swin/lib/python3.7/site-packages/mmcv/utils/registry.py\", line 52, in build_from_cfg\r\n    return obj_cls(**args)\r\nTypeError: __init__() got an unexpected keyword argument 'times'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"mmdet_tuto3.py\", line 298, in <module>\r\n    datasets = [build_dataset(cfg.data.train)]\r\n  File \"/data/mmdetection/mmdet/datasets/builder.py\", line 82, in build_dataset\r\n    dataset = build_from_cfg(cfg, DATASETS, default_args)\r\n  File \"/opt/anaconda3/envs/swin/lib/python3.7/site-packages/mmcv/utils/registry.py\", line 55, in build_from_cfg\r\n    raise type(e)(f'{obj_cls.__name__}: {e}')\r\nTypeError: KittiTinyDataset: __init__() got an unexpected keyword argument 'times'\r\n===========\r\n\r\nThis seemed to be related to the type, which should (or not) be \"RepeatDataset\". Could you help me please ?\r\n\r\nThank you !\r\n\r\nFr\u00e9d\u00e9ric", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/8003", "id": 1239056045, "node_id": "I_kwDOCK7AWs5J2n6t", "number": 8003, "title": "AssertionError: The length of palette should not be less than `num_classes`.", "user": {"login": "JeanD1983", "id": 93908521, "node_id": "U_kgDOBZjuKQ", "avatar_url": "https://avatars.githubusercontent.com/u/93908521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeanD1983", "html_url": "https://github.com/JeanD1983", "followers_url": "https://api.github.com/users/JeanD1983/followers", "following_url": "https://api.github.com/users/JeanD1983/following{/other_user}", "gists_url": "https://api.github.com/users/JeanD1983/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeanD1983/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeanD1983/subscriptions", "organizations_url": "https://api.github.com/users/JeanD1983/orgs", "repos_url": "https://api.github.com/users/JeanD1983/repos", "events_url": "https://api.github.com/users/JeanD1983/events{/privacy}", "received_events_url": "https://api.github.com/users/JeanD1983/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699763, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYz", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-05-17T19:15:48Z", "updated_at": "2022-10-19T03:15:57Z", "closed_at": "2022-10-19T03:15:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI trained my RetinaNet successful. \r\nNow I tried to visualize the resulted bbox in the validation image.\r\nMy dataset is COCO, I know that it is pretrained with 80 classes, so the I changed to my 314 Classes instead in my config.\r\n\r\n**Reproduction**\r\nI run the follwoing script:\r\n```none\r\npython tools/test.py configs/retinanet/retinanet_r50_fpn_1x_BrickTest.py work_dirs/retinanet_r50_fpn_1x_BrickTest/latest.pth --out work_dirs/retinanet_r50_fpn_1x_BrickTest/result/result.pkl --eval bbox --show-dir work_dirs/retinanet_r50_fpn_1x_BrickTest/result/img\r\n\r\n```\r\n\r\nThis results in the Error seen in the Screenshot below.\r\n![Screenshot 2022-05-17 210511](https://user-images.githubusercontent.com/93908521/168891644-ad9ae56e-26cb-4fff-b0b3-4c39ea74fc20.png)\r\n\r\nAs I understand there are not enough colors to show the bbox for the number of classes I have. Is this right?\r\nIf I am right: Is their a possibility to change this?\r\nIf I am not:  what ist the problem?\r\n\r\nWould be thankful for hints or solutions.\r\n\r\nKind regards,\r\nJean\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/8003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7859", "id": 1218424407, "node_id": "I_kwDOCK7AWs5In65X", "number": 7859, "title": "Wandb Documentation is outdated", "user": {"login": "MaxVanDijck", "id": 50382570, "node_id": "MDQ6VXNlcjUwMzgyNTcw", "avatar_url": "https://avatars.githubusercontent.com/u/50382570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaxVanDijck", "html_url": "https://github.com/MaxVanDijck", "followers_url": "https://api.github.com/users/MaxVanDijck/followers", "following_url": "https://api.github.com/users/MaxVanDijck/following{/other_user}", "gists_url": "https://api.github.com/users/MaxVanDijck/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaxVanDijck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaxVanDijck/subscriptions", "organizations_url": "https://api.github.com/users/MaxVanDijck/orgs", "repos_url": "https://api.github.com/users/MaxVanDijck/repos", "events_url": "https://api.github.com/users/MaxVanDijck/events{/privacy}", "received_events_url": "https://api.github.com/users/MaxVanDijck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2953960233, "node_id": "MDU6TGFiZWwyOTUzOTYwMjMz", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/Doc", "name": "Doc", "color": "B0FE63", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-04-28T09:03:03Z", "updated_at": "2022-04-28T21:09:32Z", "closed_at": "2022-04-28T21:09:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Wandb Documentation](https://docs.wandb.ai/guides/integrations/mmdetection) for wandb logger hook is outdated. Should be changed to correctly reflect the current MMCV implementation https://github.com/open-mmlab/mmcv/blob/83df7c4b00197b40c3debdb7f388a256640e13b4/mmcv/runner/hooks/logger/wandb.py\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7848", "id": 1217792367, "node_id": "I_kwDOCK7AWs5Ilglv", "number": 7848, "title": "'ConfigDict' object has no attribute 'device' with swin and sparse rcnn", "user": {"login": "amparobetancourt", "id": 74368835, "node_id": "MDQ6VXNlcjc0MzY4ODM1", "avatar_url": "https://avatars.githubusercontent.com/u/74368835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amparobetancourt", "html_url": "https://github.com/amparobetancourt", "followers_url": "https://api.github.com/users/amparobetancourt/followers", "following_url": "https://api.github.com/users/amparobetancourt/following{/other_user}", "gists_url": "https://api.github.com/users/amparobetancourt/gists{/gist_id}", "starred_url": "https://api.github.com/users/amparobetancourt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amparobetancourt/subscriptions", "organizations_url": "https://api.github.com/users/amparobetancourt/orgs", "repos_url": "https://api.github.com/users/amparobetancourt/repos", "events_url": "https://api.github.com/users/amparobetancourt/events{/privacy}", "received_events_url": "https://api.github.com/users/amparobetancourt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-04-27T19:28:58Z", "updated_at": "2022-04-28T10:46:41Z", "closed_at": "2022-04-28T10:46:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to train sparse rcnn with swin backbone on my own dataset, I already trained for some epochs using this config but now I get this error and I don't understand why . Please help!\r\n\r\n### config:\r\n```\r\n_base_ = '/content/mmdetection/configs/sparse_rcnn/sparse_rcnn_r50_fpn_1x_coco.py'\r\n\r\nnum_stages = 6\r\npretrained = 'https://github.com/SwinTransformer/storage/releases/download/v1.0.0/swin_tiny_patch4_window7_224.pth'  # noqa\r\nnum_proposals = 300\r\n\r\nmodel = dict(\r\n    backbone=dict(\r\n        _delete_=True, # Delete the backbone field in _base_\r\n        type='SwinTransformer',\r\n        embed_dims=96,\r\n        depths=[2, 2, 6, 2],\r\n        num_heads=[3, 6, 12, 24],\r\n        window_size=7,\r\n        mlp_ratio=4,\r\n        qkv_bias=True,\r\n        qk_scale=None,\r\n        drop_rate=0.,\r\n        attn_drop_rate=0.,\r\n        drop_path_rate=0.2,\r\n        patch_norm=True,\r\n        out_indices=(0,1, 2, 3),\r\n        with_cp=False,\r\n        convert_weights=True,\r\n        init_cfg=dict(type='Pretrained', checkpoint=pretrained)\r\n        ),\r\n    neck=dict(in_channels=[96,192, 384, 768], start_level=0, num_outs=4),\r\n    roi_head=dict(bbox_head=[\r\n            dict(\r\n                type='DIIHead',\r\n                num_classes=1,\r\n                num_ffn_fcs=2,\r\n                num_heads=8,\r\n                num_cls_fcs=1,\r\n                num_reg_fcs=3,\r\n                feedforward_channels=2048,\r\n                in_channels=256,\r\n                dropout=0.0,\r\n                ffn_act_cfg=dict(type='ReLU', inplace=True),\r\n                dynamic_conv_cfg=dict(\r\n                    type='DynamicConv',\r\n                    in_channels=256,\r\n                    feat_channels=64,\r\n                    out_channels=256,\r\n                    input_feat_shape=7,\r\n                    act_cfg=dict(type='ReLU', inplace=True),\r\n                    norm_cfg=dict(type='LN')),\r\n                loss_bbox=dict(type='L1Loss', loss_weight=5.0),\r\n                loss_iou=dict(type='GIoULoss', loss_weight=2.0),\r\n                loss_cls=dict(\r\n                    type='FocalLoss',\r\n                    use_sigmoid=True,\r\n                    gamma=2.0,\r\n                    alpha=0.25,\r\n                    loss_weight=2.0),\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    clip_border=False,\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.5, 0.5, 1., 1.])) for _ in range(num_stages)\r\n        ]),\r\n    rpn_head=dict(num_proposals=num_proposals),\r\n    test_cfg=dict(_delete_=True, rpn=None, rcnn=dict(max_per_img=num_proposals))\r\n    )\r\n\r\ndataset_type = 'COCODataset'\r\n\r\nclasses = ('mass',)\r\n\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\n\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5,direction='horizontal'),\r\n    # augmentation strategy originates from DETR / Sparse RCNN\r\n    dict(type='AutoAugment',\r\n        policies=[[\r\n            dict(\r\n                type='Resize',\r\n                img_scale=[(480, 1333), (512, 1333), (544, 1333), (576, 1333),\r\n                           (608, 1333), (640, 1333), (672, 1333), (704, 1333),\r\n                           (736, 1333), (768, 1333), (800, 1333)],\r\n                multiscale_mode='value',\r\n                keep_ratio=True)\r\n        ],\r\n                  [\r\n                      dict(\r\n                          type='Resize',\r\n                          img_scale=[(400, 1333), (500, 1333), (600, 1333)],\r\n                          multiscale_mode='value',\r\n                          keep_ratio=True),\r\n                      dict(\r\n                          type='RandomCrop',\r\n                          crop_type='absolute_range',\r\n                          crop_size=(384, 600),\r\n                          allow_negative_crop=True),\r\n                      dict(\r\n                          type='Resize',\r\n                          img_scale=[(480, 1333), (512, 1333), (544, 1333),\r\n                                     (576, 1333), (608, 1333), (640, 1333),\r\n                                     (672, 1333), (704, 1333), (736, 1333),\r\n                                     (768, 1333), (800, 1333)],\r\n                          multiscale_mode='value',\r\n                          override=True,\r\n                          keep_ratio=True)\r\n                  ]]),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels']),\r\n]\r\n\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(1333, 800),\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip',flip_ratio=0.0),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img']),\r\n        ])\r\n]\r\n\r\ndata = dict(\r\n    samples_per_gpu=2,  \r\n    workers_per_gpu=2,  \r\n    train=dict(\r\n        pipeline=train_pipeline,\r\n        img_prefix='/content/drive/MyDrive/OPTIMAM_7626/all_train/',\r\n        classes=classes,\r\n        ann_file='/content/drive/MyDrive/OPTIMAM_7626/Annotations/OPTIMAM_TRAIN.json',\r\n        filter_empty_gt=False),\r\n    val=dict(\r\n        pipeline=test_pipeline,\r\n        img_prefix='/content/drive/MyDrive/OPTIMAM_7626/all_val/',\r\n        classes=classes,\r\n        ann_file='/content/drive/MyDrive/OPTIMAM_7626/Annotations/OPTIMAM_VAL.json',\r\n        filter_empty_gt=False),\r\n    test=dict(\r\n        pipeline=test_pipeline,\r\n        img_prefix='/content/drive/MyDrive/OPTIMAM_7626/all_test/',\r\n        classes=classes,\r\n        ann_file='/content/drive/MyDrive/OPTIMAM_7626/Annotations/OPTIMAM_TEST.json',\r\n        filter_empty_gt=False))\r\n\r\nload_from = '/content/drive/MyDrive/OPTIMAM_7626/pretrained_checkpoints/sparse_rcnn_r50_fpn_300_proposals_crop_mstrain_480-800_3x_coco_20201223_024605-9fe92701.pth'\r\n\r\nwork_dir = '/content/drive/MyDrive/OPTIMAM_7626/to_save_files_and_logs_sparsercnn'\r\n\r\noptimizer = dict(\r\n    _delete_=True,\r\n    type='AdamW',\r\n    lr=0.0000125,\r\n    betas=(0.9, 0.999),\r\n    weight_decay=0.05,\r\n    paramwise_cfg=dict(\r\n        custom_keys={\r\n            'absolute_pos_embed': dict(decay_mult=0.),\r\n            'relative_position_bias_table': dict(decay_mult=0.),\r\n            'norm': dict(decay_mult=0.)\r\n        }))\r\n\r\nlr_config = dict(\r\n    policy='step',\r\n    gamma=0.1,\r\n    warmup='linear',\r\n    warmup_iters=8010,\r\n    #warmup_ratio=1.0 / 3,\r\n    step=[27,33])\r\n    \r\ncheckpoint_config = dict(interval=5)\r\n\r\nlog_config = dict(\r\n    interval=267,\r\n    hooks=[\r\n        dict(type='TextLoggerHook')\r\n    ])\r\nrunner = dict(type='EpochBasedRunner', max_epochs=36)\r\nevaluation = dict(  \r\n    interval=1,  \r\n    save_best='bbox_mAP',\r\n    iou_thrs=[0.1, 0.15, 0.20, 0.25, 0.30, 0.35, 0.40, 0.45, 0.50]\r\n    )  \r\n```\r\n-------------------------------------------------------------------------------------------\r\nAlso in the notebook I add :\r\ncfg.gpu_ids = range(1)\r\n-----------------------------------------------------------------------------------------\r\n**I get the following error:**\r\n**_AttributeError: 'ConfigDict' object has no attribute 'device'_**\r\n\r\nMy mmdetection version is 2.24.0,  1.11.0+cu113\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7824", "id": 1214013301, "node_id": "I_kwDOCK7AWs5IXF91", "number": 7824, "title": "`to_rgb` is called twice in centernet", "user": {"login": "LinkHS", "id": 8181823, "node_id": "MDQ6VXNlcjgxODE4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/8181823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinkHS", "html_url": "https://github.com/LinkHS", "followers_url": "https://api.github.com/users/LinkHS/followers", "following_url": "https://api.github.com/users/LinkHS/following{/other_user}", "gists_url": "https://api.github.com/users/LinkHS/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinkHS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinkHS/subscriptions", "organizations_url": "https://api.github.com/users/LinkHS/orgs", "repos_url": "https://api.github.com/users/LinkHS/repos", "events_url": "https://api.github.com/users/LinkHS/events{/privacy}", "received_events_url": "https://api.github.com/users/LinkHS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Czm369", "id": 40661020, "node_id": "MDQ6VXNlcjQwNjYxMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/40661020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Czm369", "html_url": "https://github.com/Czm369", "followers_url": "https://api.github.com/users/Czm369/followers", "following_url": "https://api.github.com/users/Czm369/following{/other_user}", "gists_url": "https://api.github.com/users/Czm369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Czm369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Czm369/subscriptions", "organizations_url": "https://api.github.com/users/Czm369/orgs", "repos_url": "https://api.github.com/users/Czm369/repos", "events_url": "https://api.github.com/users/Czm369/events{/privacy}", "received_events_url": "https://api.github.com/users/Czm369/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-25T06:04:10Z", "updated_at": "2022-05-09T06:43:15Z", "closed_at": "2022-05-09T06:43:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "centernet\u7684\u914d\u7f6e\u6587\u4ef6\"configs/centernet/centernet_resnet18_dcnv2_140e_coco.py\"\u4e2d\u8c03\u7528\u4e86\u4e24\u6b21`to_rgb`\r\n\r\n1. `RandomCenterCropPad`\r\n```\r\ndict(\r\n    type='RandomCenterCropPad',\r\n    crop_size=(512, 512),\r\n    ratios=(0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3),\r\n    mean=[0, 0, 0],\r\n    std=[1, 1, 1],\r\n    to_rgb=True,\r\n    test_pad_mode=None),\r\n```\r\n\r\n\u8fd9\u4e2a\u914d\u7f6e\u5728\"mmdet/datasets/pipelines/transforms.py\"\u4e2d`class RandomCenterCropPad`\u7684`__init__()`\u4e2d\u6267\u884c\uff1a\r\n```\r\n  if to_rgb:\r\n      self.mean = mean[::-1]\r\n      self.std = std[::-1]\r\n```\r\n\r\n2. Normalize:\r\n```\r\ndict(type='Normalize', ..., to_rgb=True,),\r\n```\r\n\r\n\u6700\u7ec8\u5728\"mmcv/image/photometric.py\"\u4e2d\u7684`imnormalize_()`\u4e2d\u8c03\u7528\uff1a\r\n```\r\n    if to_rgb:\r\n        cv2.cvtColor(img, cv2.COLOR_BGR2RGB, img)  # inplace\r\n    cv2.subtract(img, mean, img)  # inplace\r\n    cv2.multiply(img, stdinv, img)  # inplace\r\n```\r\n\r\n\u8c03\u7528\u4e24\u6b21\u662f\u4e2abug\uff0c\u800c\u4e14normalize\u7684`mean`\uff0c`stdinv`\u548crgb\u901a\u9053\u4e5f\u5339\u914d\u4e0d\u4e0a\u5427\uff1f\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7795", "id": 1213205339, "node_id": "I_kwDOCK7AWs5IUAtb", "number": 7795, "title": "[Bug] Bug in resnet's plugin", "user": {"login": "Mountchicken", "id": 65173622, "node_id": "MDQ6VXNlcjY1MTczNjIy", "avatar_url": "https://avatars.githubusercontent.com/u/65173622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mountchicken", "html_url": "https://github.com/Mountchicken", "followers_url": "https://api.github.com/users/Mountchicken/followers", "following_url": "https://api.github.com/users/Mountchicken/following{/other_user}", "gists_url": "https://api.github.com/users/Mountchicken/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mountchicken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mountchicken/subscriptions", "organizations_url": "https://api.github.com/users/Mountchicken/orgs", "repos_url": "https://api.github.com/users/Mountchicken/repos", "events_url": "https://api.github.com/users/Mountchicken/events{/privacy}", "received_events_url": "https://api.github.com/users/Mountchicken/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-23T05:29:48Z", "updated_at": "2022-04-24T05:59:41Z", "closed_at": "2022-04-24T05:59:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n- In the ResNet implementation of MMDET, there seems to be a problem in function [forward_function](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/models/backbones/resnet.py#L242)\r\n```python\r\n  def forward_plugin(self, x, plugin_names):\r\n      out = x\r\n      for name in plugin_names:\r\n          out = getattr(self, name)(x)\r\n      return \r\n```\r\n- If we have multiple plugins at one position, then, only the last one is valid\r\n\r\n**Bug fix**\r\n```python\r\n  def forward_plugin(self, x, plugin_names):\r\n      out = x\r\n      for name in plugin_names:\r\n          out = getattr(self, name)(out)\r\n      return \r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7795/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7776", "id": 1210770452, "node_id": "I_kwDOCK7AWs5IKuQU", "number": 7776, "title": "Error in LoadAnnotations with polygons with four vertices", "user": {"login": "javierdelapuente", "id": 2047402, "node_id": "MDQ6VXNlcjIwNDc0MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2047402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javierdelapuente", "html_url": "https://github.com/javierdelapuente", "followers_url": "https://api.github.com/users/javierdelapuente/followers", "following_url": "https://api.github.com/users/javierdelapuente/following{/other_user}", "gists_url": "https://api.github.com/users/javierdelapuente/gists{/gist_id}", "starred_url": "https://api.github.com/users/javierdelapuente/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javierdelapuente/subscriptions", "organizations_url": "https://api.github.com/users/javierdelapuente/orgs", "repos_url": "https://api.github.com/users/javierdelapuente/repos", "events_url": "https://api.github.com/users/javierdelapuente/events{/privacy}", "received_events_url": "https://api.github.com/users/javierdelapuente/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-04-21T09:35:28Z", "updated_at": "2022-09-15T08:46:41Z", "closed_at": "2022-09-15T08:07:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nIn the LoadAnnotations class, when the input is a polygon in a list format, if the polygon has four vertices, cocoapi\r\nlibrary interprets it as a bounding box instead of a polygon, failing with error:\r\n```\r\n...\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/custom.py\", line 241, in prepare_train_img\r\n    return self.pipeline(results)\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/pipelines/compose.py\", line 41, in __call__\r\n    data = t(data)\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/pipelines/loading.py\", line 399, in __call__\r\n    results = self._load_masks(results)\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/pipelines/loading.py\", line 351, in _load_masks\r\n    [self._poly2mask(mask, h, w) for mask in gt_masks], h, w)\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/pipelines/loading.py\", line 351, in <listcomp>\r\n    [self._poly2mask(mask, h, w) for mask in gt_masks], h, w)\r\n  File \"/home/trunkfinder/mmdetection/mmdet/datasets/pipelines/loading.py\", line 306, in _poly2mask\r\n    rles = maskUtils.frPyObjects(mask_ann, img_h, img_w)\r\n  File \"pycocotools/_mask.pyx\", line 294, in pycocotools._mask.frPyObjects\r\nTypeError: Argument 'bb' has incorrect type (expected numpy.ndarray, got list)\r\n```\r\n\r\nIt looks like an error will also happen if the polygon has three vertices.\r\n\r\nSee \r\nhttps://github.com/open-mmlab/mmdetection/blob/3e2693151add9b5d6db99b944da020cba837266b/mmdet/datasets/pipelines/loading.py#L307\r\nand \r\nhttps://github.com/cocodataset/cocoapi/blob/8c9bcc3cf640524c4c20a9c40e89cb6a2f2fa0e9/PythonAPI/pycocotools/_mask.pyx#L292\r\n\r\n**Bug fix**\r\n\r\nAs a quick fix, the function frPoly in _mask.pyx could be used istead of maskUtils.frPyObjects.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7776/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7754", "id": 1208248355, "node_id": "I_kwDOCK7AWs5IBGgj", "number": 7754, "title": "Raise TypeError when no bbox in mosaic transform", "user": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-04-19T11:52:52Z", "updated_at": "2022-10-19T03:16:22Z", "closed_at": "2022-10-19T03:16:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/mmdet/datasets/pipelines/transforms.py#L2111\r\n\r\n```python\r\n        if len(mosaic_labels) > 0:\r\n            mosaic_bboxes = np.concatenate(mosaic_bboxes, 0)\r\n            mosaic_labels = np.concatenate(mosaic_labels, 0)\r\n\r\n            if self.bbox_clip_border:\r\n                mosaic_bboxes[:, 0::2] = np.clip(mosaic_bboxes[:, 0::2], 0,\r\n                                                 2 * self.img_scale[1])\r\n                mosaic_bboxes[:, 1::2] = np.clip(mosaic_bboxes[:, 1::2], 0,\r\n                                                 2 * self.img_scale[0])\r\n\r\n            if not self.skip_filter:\r\n                mosaic_bboxes, mosaic_labels = \\\r\n                    self._filter_box_candidates(mosaic_bboxes, mosaic_labels)\r\n\r\n        # remove outside bboxes\r\n        inside_inds = find_inside_bboxes(mosaic_bboxes, 2 * self.img_scale[0],\r\n                                         2 * self.img_scale[1])\r\n```\r\nif `len(mosaic_labels) > 0`, the `mosaic_bboxes` type is list, `TypeError: list indices must be integers or slices, not tuple` will appear when the find_inside_bboxes function is called.\r\n\r\nIt should be noted that the probability of this happening is very low.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7754/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7521", "id": 1179113643, "node_id": "PR_kwDOCK7AWs407jHQ", "number": 7521, "title": "Bug fix: RuntimeError: Expected all tensors to be on the same device,\u2026", "user": {"login": "Youth-Got", "id": 53550307, "node_id": "MDQ6VXNlcjUzNTUwMzA3", "avatar_url": "https://avatars.githubusercontent.com/u/53550307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Youth-Got", "html_url": "https://github.com/Youth-Got", "followers_url": "https://api.github.com/users/Youth-Got/followers", "following_url": "https://api.github.com/users/Youth-Got/following{/other_user}", "gists_url": "https://api.github.com/users/Youth-Got/gists{/gist_id}", "starred_url": "https://api.github.com/users/Youth-Got/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Youth-Got/subscriptions", "organizations_url": "https://api.github.com/users/Youth-Got/orgs", "repos_url": "https://api.github.com/users/Youth-Got/repos", "events_url": "https://api.github.com/users/Youth-Got/events{/privacy}", "received_events_url": "https://api.github.com/users/Youth-Got/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3889726533, "node_id": "LA_kwDOCK7AWs7n2IRF", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/size/XS", "name": "size/XS", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-03-24T07:24:29Z", "updated_at": "2023-04-07T12:21:49Z", "closed_at": "2022-03-24T11:06:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7521", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7521", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7521.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7521.patch", "merged_at": "2022-03-24T11:06:59Z"}, "body": "RuntimeError: Expected all tensors to be on the same device but found at least two devices, cuda:0 and cuda:2!\r\n\r\n\u4fee\u590dFree anchor Retinanet\u7f51\u7edc\u8bad\u7ec3\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u8ba1\u7b97\u5f97\u5230\u7684anchor\u4e0epre_bboxes\u4e0d\u5728\u540c\u4e00\u4e2acuda device\u7684bug\u3002\r\n\r\n## Motivation\r\n\r\n\u4fee\u590dFree anchor RetinaNet\u5728\u975e0\u5361\u4e0a\u8fdb\u884c\u8bad\u7ec3\u51fa\u9519\u7684bug\u3002\r\n\r\n## Modification\r\n\r\n\u4fee\u590dFree anchor Retinanet\u7f51\u7edc\u8bad\u7ec3\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u8ba1\u7b97\u5f97\u5230\u7684anchor\u4e0epre_bboxes\u4e0d\u5728\u540c\u4e00\u4e2acuda device\u7684bug\u3002\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7521/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7449", "id": 1172433061, "node_id": "PR_kwDOCK7AWs40mhH3", "number": 7449, "title": "[Fix] Fix reduction=mean in CELoss.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-17T14:20:59Z", "updated_at": "2022-12-17T03:42:32Z", "closed_at": "2022-03-25T15:01:32Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7449", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7449", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7449.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7449.patch", "merged_at": "2022-03-25T15:01:32Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nresolve #7367 \r\n\r\n## Modification\r\n\r\nFix avg_factor in CELoss with ignore index.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7449/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7437", "id": 1171893644, "node_id": "I_kwDOCK7AWs5F2a2M", "number": 7437, "title": "Deformable Detr with mmcv>=1.4.5", "user": {"login": "Ixiaohuihuihui", "id": 26215859, "node_id": "MDQ6VXNlcjI2MjE1ODU5", "avatar_url": "https://avatars.githubusercontent.com/u/26215859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ixiaohuihuihui", "html_url": "https://github.com/Ixiaohuihuihui", "followers_url": "https://api.github.com/users/Ixiaohuihuihui/followers", "following_url": "https://api.github.com/users/Ixiaohuihuihui/following{/other_user}", "gists_url": "https://api.github.com/users/Ixiaohuihuihui/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ixiaohuihuihui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ixiaohuihuihui/subscriptions", "organizations_url": "https://api.github.com/users/Ixiaohuihuihui/orgs", "repos_url": "https://api.github.com/users/Ixiaohuihuihui/repos", "events_url": "https://api.github.com/users/Ixiaohuihuihui/events{/privacy}", "received_events_url": "https://api.github.com/users/Ixiaohuihuihui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-03-17T03:41:31Z", "updated_at": "2022-04-17T05:47:04Z", "closed_at": "2022-04-17T05:47:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI want to train deformable detr with mmcv >=1.4.5, but something went wrong. If I downgrade mmcv version to 1.4.2 (or <=1.4.2), it can run train normally and report no mistakes.\r\n\r\nHowever, I don't want to use a lower version of mmcv. Since the higher version of mmcv provides the necessary operators, I want to use mmcv >=1.4.5.\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```none\r\npython tools/train.py configs/deformable_detr/deformable_detr_r50_16x2_50e_coco.py\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\nNo\r\n\r\n3. What dataset did you use?\r\nCOCO dataset\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\nPython: 3.7.11 (default, Jul 27 2021, 14:32:16) [GCC 7.5.0]\r\nCUDA available: True\r\nGPU 0,1,2,3,4,5,6,7: GeForce RTX 3090\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Build cuda_11.1.TC455_06.29069683_0\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.7.1+cu110\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.3-Product Build 20210617 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.6.0 (Git Hash 5ef631a030a6f73131c77892041042805a06064f)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.0\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_VULKAN_WRAPPER -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON,\r\n\r\nTorchVision: 0.8.2+cu110\r\nOpenCV: 4.5.3\r\nMMCV: 1.4.5\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 11.0\r\nMMDetection: 2.19.1+HEAD\r\n\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source] pip\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\n  File \"/home/dailh/Project/mmrotate-main/tools/train.py\", line 182, in <module>\r\n    main()\r\n  File \"/home/dailh/Project/mmrotate-main/tools/train.py\", line 178, in main\r\n    meta=meta)\r\n  File \"/home/dailh/Project/mmrotate-main/mmrotate/apis/train.py\", line 156, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 127, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 51, in train\r\n    self.call_hook('after_train_iter')\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/mmcv/runner/base_runner.py\", line 309, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/mmcv/runner/hooks/optimizer.py\", line 56, in after_train_iter\r\n    runner.outputs['loss'].backward()\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/torch/tensor.py\", line 245, in backward\r\n    torch.autograd.backward(self, gradient, retain_graph, create_graph, inputs=inputs)\r\n  File \"/home/dailh/anaconda3/envs/mmrotate/lib/python3.7/site-packages/torch/autograd/__init__.py\", line 147, in backward\r\n    allow_unreachable=True, accumulate_grad=True)  # allow_unreachable flag\r\nRuntimeError: cuDNN error: CUDNN_STATUS_NOT_INITIALIZED\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7437/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7408", "id": 1169514653, "node_id": "I_kwDOCK7AWs5FtWCd", "number": 7408, "title": "The font tag does not render properly on pypi.org", "user": {"login": "osbm", "id": 74963545, "node_id": "MDQ6VXNlcjc0OTYzNTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/74963545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osbm", "html_url": "https://github.com/osbm", "followers_url": "https://api.github.com/users/osbm/followers", "following_url": "https://api.github.com/users/osbm/following{/other_user}", "gists_url": "https://api.github.com/users/osbm/gists{/gist_id}", "starred_url": "https://api.github.com/users/osbm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osbm/subscriptions", "organizations_url": "https://api.github.com/users/osbm/orgs", "repos_url": "https://api.github.com/users/osbm/repos", "events_url": "https://api.github.com/users/osbm/events{/privacy}", "received_events_url": "https://api.github.com/users/osbm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-03-15T10:57:53Z", "updated_at": "2022-03-30T10:48:19Z", "closed_at": "2022-03-30T10:48:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The font tag in README.md file on [pypi](https://pypi.org/project/mmdet/) doesn't render right.\r\n![image](https://user-images.githubusercontent.com/74963545/158362720-37070d68-4ef1-4f8b-8609-f271beb0a603.png)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7367", "id": 1165016108, "node_id": "I_kwDOCK7AWs5FcLws", "number": 7367, "title": "Inconsistency with loss function of PyTorch when using ingore_index arg", "user": {"login": "singal95", "id": 23034456, "node_id": "MDQ6VXNlcjIzMDM0NDU2", "avatar_url": "https://avatars.githubusercontent.com/u/23034456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/singal95", "html_url": "https://github.com/singal95", "followers_url": "https://api.github.com/users/singal95/followers", "following_url": "https://api.github.com/users/singal95/following{/other_user}", "gists_url": "https://api.github.com/users/singal95/gists{/gist_id}", "starred_url": "https://api.github.com/users/singal95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/singal95/subscriptions", "organizations_url": "https://api.github.com/users/singal95/orgs", "repos_url": "https://api.github.com/users/singal95/repos", "events_url": "https://api.github.com/users/singal95/events{/privacy}", "received_events_url": "https://api.github.com/users/singal95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2010593798, "node_id": "MDU6TGFiZWwyMDEwNTkzNzk4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20discussion", "name": "community discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-03-10T10:10:32Z", "updated_at": "2022-04-08T03:09:27Z", "closed_at": "2022-04-08T03:09:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\uff0cI'm a user of mmdet3d, as this toolbox import a lot of funcs from mmdet, which is the reason why I report here.\r\n\r\nFor example the commly used module  `CrossEntropyLoss` with `ignore_index`\r\n\r\nHere is the definition from PyTorch\r\n\r\n```\r\n        ignore_index (int, optional): Specifies a target value that is ignored\r\n            and does not contribute to the input gradient. When :attr:`size_average` is\r\n            ``True``, the loss is averaged over non-ignored targets.\r\n```\r\n\r\nAnd the following is from MMDetection\r\n\r\n```\r\n        ignore_index (int | None): The label index to be ignored.\r\n            If None, it will be set to default value. Default: -100.\r\n```\r\n\r\n\r\n\r\nThis is the [code segment](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/models/losses/cross_entropy_loss.py) from mmdet \r\n\r\n```python\r\ndef cross_entropy(pred,\r\n                  label,\r\n                  weight=None,\r\n                  reduction='mean',\r\n                  avg_factor=None,\r\n                  class_weight=None,\r\n                  ignore_index=-100):\r\n    \"\"\"Calculate the CrossEntropy loss.\r\n\r\n    Args:\r\n        pred (torch.Tensor): The prediction with shape (N, C), C is the number\r\n            of classes.\r\n        label (torch.Tensor): The learning label of the prediction.\r\n        weight (torch.Tensor, optional): Sample-wise loss weight.\r\n        reduction (str, optional): The method used to reduce the loss.\r\n        avg_factor (int, optional): Average factor that is used to average\r\n            the loss. Defaults to None.\r\n        class_weight (list[float], optional): The weight for each class.\r\n        ignore_index (int | None): The label index to be ignored.\r\n            If None, it will be set to default value. Default: -100.\r\n\r\n    Returns:\r\n        torch.Tensor: The calculated loss\r\n    \"\"\"\r\n    # The default value of ignore_index is the same as F.cross_entropy\r\n    ignore_index = -100 if ignore_index is None else ignore_index\r\n    # element-wise losses\r\n    loss = F.cross_entropy(\r\n        pred,\r\n        label,\r\n        weight=class_weight,\r\n        reduction='none',\r\n        ignore_index=ignore_index)\r\n\r\n    # apply weights and do the reduction\r\n    if weight is not None:\r\n        weight = weight.float()\r\n    loss = weight_reduce_loss(\r\n        loss, weight=weight, reduction=reduction, avg_factor=avg_factor)\r\n\r\n    return loss\r\n```\r\n\r\n\r\n\r\nThe key is that, the results are inconsistent. If someone uses mmdets `CrossEntropyLoss` by default and give a param of `ignore_index` such as 255, torch version will ignores the ignored elements, while mmdet version will first caclulate element-wise loss, then apply `mean` reduction for all elements by default. \r\n\r\nIn my scenario of point cloud segmentation, the ground truth is a voxelized tensor with most of the labels ignored. By torch version, `mean` reduction will be performed over only no-ingored voxels while mmdet version over all elements.\r\n\r\nIt troubles me for days  because of this tiny, sort of, 'bugs'?\r\n\r\nPls figure it out and keep consistency with common funcs of torch\r\n\r\nBests\r\n\r\nSingal\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7362", "id": 1164714060, "node_id": "I_kwDOCK7AWs5FbCBM", "number": 7362, "title": "Failed to download the FPG model", "user": {"login": "namelzya", "id": 85550992, "node_id": "MDQ6VXNlcjg1NTUwOTky", "avatar_url": "https://avatars.githubusercontent.com/u/85550992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/namelzya", "html_url": "https://github.com/namelzya", "followers_url": "https://api.github.com/users/namelzya/followers", "following_url": "https://api.github.com/users/namelzya/following{/other_user}", "gists_url": "https://api.github.com/users/namelzya/gists{/gist_id}", "starred_url": "https://api.github.com/users/namelzya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/namelzya/subscriptions", "organizations_url": "https://api.github.com/users/namelzya/orgs", "repos_url": "https://api.github.com/users/namelzya/repos", "events_url": "https://api.github.com/users/namelzya/events{/privacy}", "received_events_url": "https://api.github.com/users/namelzya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-03-10T03:43:33Z", "updated_at": "2022-04-17T05:47:28Z", "closed_at": "2022-04-17T05:47:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<Error>\r\n           <Code>NoSuchKey</Code>\r\n           <Message>The specified key does not exist.</Message>\r\n           <RequestId>6229711BC25A1C98AB14C89B</RequestId>\r\n           <HostId>download.openmmlab.com</HostId>\r\n           <Key>mmdetection/v2.0/fpg/faster_rcnn_r50_fpg_crop640_50e_coco/faster_rcnn_r50_fpg_crop640_50e_coco-76220505.pth</Key>\r\n</Error>\r\n\r\n\r\nCan you help me\uff1f", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7307", "id": 1157619527, "node_id": "I_kwDOCK7AWs5E_99H", "number": 7307, "title": "Official Colab not working", "user": {"login": "ayulockin", "id": 31141479, "node_id": "MDQ6VXNlcjMxMTQxNDc5", "avatar_url": "https://avatars.githubusercontent.com/u/31141479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayulockin", "html_url": "https://github.com/ayulockin", "followers_url": "https://api.github.com/users/ayulockin/followers", "following_url": "https://api.github.com/users/ayulockin/following{/other_user}", "gists_url": "https://api.github.com/users/ayulockin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayulockin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayulockin/subscriptions", "organizations_url": "https://api.github.com/users/ayulockin/orgs", "repos_url": "https://api.github.com/users/ayulockin/repos", "events_url": "https://api.github.com/users/ayulockin/events{/privacy}", "received_events_url": "https://api.github.com/users/ayulockin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-03-02T19:51:47Z", "updated_at": "2022-03-06T09:35:04Z", "closed_at": "2022-03-06T09:35:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nThe [official colab for mmdetection](https://colab.research.google.com/github/ZwwWayne/mmdetection/blob/update-colab/demo/MMDet_Tutorial.ipynb#scrollTo=gi9zw03oM4CH) seems to not be working. \r\n\r\nIt's not able to install mmcv-full. \r\n\r\n<img width=\"473\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31141479/156438732-1407a516-fc48-4348-b5f1-4299534813a6.png\">\r\n\r\n<img width=\"749\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31141479/156438966-3264919e-a012-4d9c-bc90-f1e5159ed7a3.png\">\r\n\r\n\r\nUpon going through the mmcv repository, I found this [issue](https://github.com/open-mmlab/mmcv/issues/1752) that seems relevant. \r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7298", "id": 1155386727, "node_id": "I_kwDOCK7AWs5E3c1n", "number": 7298, "title": "`find_unused_parameters` after several epoch training when training YOLOX", "user": {"login": "igo312", "id": 28484395, "node_id": "MDQ6VXNlcjI4NDg0Mzk1", "avatar_url": "https://avatars.githubusercontent.com/u/28484395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igo312", "html_url": "https://github.com/igo312", "followers_url": "https://api.github.com/users/igo312/followers", "following_url": "https://api.github.com/users/igo312/following{/other_user}", "gists_url": "https://api.github.com/users/igo312/gists{/gist_id}", "starred_url": "https://api.github.com/users/igo312/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igo312/subscriptions", "organizations_url": "https://api.github.com/users/igo312/orgs", "repos_url": "https://api.github.com/users/igo312/repos", "events_url": "https://api.github.com/users/igo312/events{/privacy}", "received_events_url": "https://api.github.com/users/igo312/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}, {"id": 2131786684, "node_id": "MDU6TGFiZWwyMTMxNzg2Njg0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P1", "name": "P1", "color": "c62764", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2022-03-01T14:09:36Z", "updated_at": "2022-10-25T08:32:54Z", "closed_at": "2022-10-25T08:32:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nWhen training YOLOX, there is a `find_unused_parameters` after several epoch training\r\nAnd I follow [link1](https://github.com/open-mmlab/mmdetection/issues/6617) that set `detect_anomalous_params=True`\r\nAfter that, there produce some hint said the weight and bias of `multi_level_conv_reg` does not join the loss computation, it is really weird. All I change is using my dataset and it's fine when I train a Faster RCNN \r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```none\r\npython ./tools/train.py ./configs/alpha_mot0220/yolox_s_8x8_300e_coco_car.py \r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n a own dataset that using COCO format \r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n```\r\nsys.platform: linux\r\nPython: 3.7.11 (default, Jul 27 2021, 14:32:16) [GCC 7.5.0]\r\nCUDA available: False\r\nGCC: gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0\r\nPyTorch: 1.9.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.4-Product Build 20210904 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.1.2 (Git Hash 98be7e8afa711dc9b66c8ff3504129cb82013cdb)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=10.2, CUDNN_VERSION=7.6.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.10.0\r\nOpenCV: 4.5.5\r\nMMCV: 1.4.6\r\nMMCV Compiler: GCC 7.4\r\nMMCV CUDA Compiler: 10.2\r\nMMDetection: 2.21.0+e359d3f\r\n```\r\n\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7270", "id": 1153073345, "node_id": "PR_kwDOCK7AWs4znIQc", "number": 7270, "title": "Fix VOC unit test not to remove data directory", "user": {"login": "shinya7y", "id": 42844407, "node_id": "MDQ6VXNlcjQyODQ0NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/42844407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shinya7y", "html_url": "https://github.com/shinya7y", "followers_url": "https://api.github.com/users/shinya7y/followers", "following_url": "https://api.github.com/users/shinya7y/following{/other_user}", "gists_url": "https://api.github.com/users/shinya7y/gists{/gist_id}", "starred_url": "https://api.github.com/users/shinya7y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shinya7y/subscriptions", "organizations_url": "https://api.github.com/users/shinya7y/orgs", "repos_url": "https://api.github.com/users/shinya7y/repos", "events_url": "https://api.github.com/users/shinya7y/events{/privacy}", "received_events_url": "https://api.github.com/users/shinya7y/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-27T08:55:51Z", "updated_at": "2022-06-25T08:28:49Z", "closed_at": "2022-03-01T08:00:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7270", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7270", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7270.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7270.patch", "merged_at": "2022-03-01T08:00:41Z"}, "body": "## Motivation\r\n\r\nFix https://github.com/open-mmlab/mmdetection/issues/7269\r\n\r\n## Modification\r\n\r\n- Fix and simplify `test_dataset_init`\r\n- Fix CI: `mmcv: 1.10` == `mmcv: 1.1` causes a wrong URL https://download.openmmlab.com/mmcv/dist/cpu/torch1.1/index.html", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7270/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7104", "id": 1118417413, "node_id": "I_kwDOCK7AWs5CqbIF", "number": 7104, "title": "`Failed to parse doctest in _package_groups` returned during unit testing", "user": {"login": "del-zhenwu", "id": 56623710, "node_id": "MDQ6VXNlcjU2NjIzNzEw", "avatar_url": "https://avatars.githubusercontent.com/u/56623710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/del-zhenwu", "html_url": "https://github.com/del-zhenwu", "followers_url": "https://api.github.com/users/del-zhenwu/followers", "following_url": "https://api.github.com/users/del-zhenwu/following{/other_user}", "gists_url": "https://api.github.com/users/del-zhenwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/del-zhenwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/del-zhenwu/subscriptions", "organizations_url": "https://api.github.com/users/del-zhenwu/orgs", "repos_url": "https://api.github.com/users/del-zhenwu/repos", "events_url": "https://api.github.com/users/del-zhenwu/events{/privacy}", "received_events_url": "https://api.github.com/users/del-zhenwu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2953960233, "node_id": "MDU6TGFiZWwyOTUzOTYwMjMz", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/Doc", "name": "Doc", "color": "B0FE63", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-01-30T05:18:21Z", "updated_at": "2022-09-15T09:16:11Z", "closed_at": "2022-09-15T09:16:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n```\r\nroot@mmdetection-build-test-63-4bff73-mwrnf:/opt/mmdetection# pytest . -s -v\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.7.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 -- /opt/conda/bin/python\r\ncachedir: .pytest_cache\r\nbenchmark: 3.4.1 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\r\nrootdir: /opt/mmdetection, configfile: pytest.ini\r\nplugins: benchmark-3.4.1, xdoctest-0.15.10\r\ncollecting 526 items                                                           msg = Cannot scrape callname=ClassificationCost in modpath=/opt/mmdetection/mmdet/core/bbox/match_costs/match_cost.py line=122.\r\nCaused by: DoctestParseError('Failed to parse doctest in _package_groups')\r\nClsSoftmaxCost.\r\n\r\n     Args:\r\n         weight (int | float, optional): loss_weight\r\n\r\n     Examples:\r\n         >>> from mmdet.core.bbox.match_costs.match_cost import          ... ClassificationCost\r\n         >>> import torch\r\n         >>> self = ClassificationCost()\r\n         >>> cls_pred = torch.rand(4, 3)\r\n         >>> gt_labels = torch.tensor([0, 1, 2])\r\n         >>> factor = torch.tensor([10, 8, 10, 8])\r\n         >>> self(cls_pred, gt_labels)\r\n         tensor([[-0.3430, -0.3525, -0.3045],\r\n                [-0.3077, -0.2931, -0.3992],\r\n                [-0.3664, -0.3455, -0.2881],\r\n                [-0.3343, -0.2701, -0.3956]])\r\n    \r\nOriginal Error: SyntaxError('invalid syntax', ('<source_block>', 1, 63, 'from mmdet.core.bbox.match_costs.match_cost import          ... ClassificationCost\\n'))\r\n\r\nfrom mmdet.core.bbox.match_costs.match_cost import          ... ClassificationCost\r\n                                                              ^\r\ncollecting 548 items                                                           msg = Cannot scrape callname=get_loading_pipeline in modpath=/opt/mmdetection/mmdet/datasets/utils.py line=101.\r\nCaused by: DoctestParseError('Failed to parse doctest in _package_groups')\r\nOnly keep loading image and annotations related configuration.\r\n\r\n    Args:\r\n        pipeline (list[dict]): Data pipeline configs.\r\n\r\n    Returns:\r\n        list[dict]: The new pipeline list with only keep\r\n            loading image and annotations related configuration.\r\n\r\n    Examples:\r\n        >>> pipelines = [\r\n        ...    dict(type='LoadImageFromFile'),\r\n        ...    dict(type='LoadAnnotations', with_bbox=True),\r\n        ...    dict(type='Resize', img_scale=(1333, 800), keep_ratio=True),\r\n        ...    dict(type='RandomFlip', flip_ratio=0.5),\r\n        ...    dict(type='Normalize', **img_norm_cfg),\r\n        ...    dict(type='Pad', size_divisor=32),\r\n        ...    dict(type='DefaultFormatBundle'),\r\n        ...    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n        ...    ]\r\n        >>> expected_pipelines = [\r\n        ...    dict(type='LoadImageFromFile'),\r\n        ...    dict(type='LoadAnnotations', with_bbox=True)\r\n        ...    ]\r\n        >>> assert expected_pipelines ==        ...        get_loading_pipeline(pipelines)\r\n    \r\nOriginal Error: SyntaxError('invalid syntax', ('<source_block>', 15, 67, 'assert expected_pipelines ==        ...        get_loading_pipeline(pipelines)\\n'))\r\n\r\nassert expected_pipelines ==        ...        get_loading_pipeline(pipelines)\r\n                                                                  ^\r\ncollecting 813 items / 9 errors / 804 selected                                 [libprotobuf ERROR google/protobuf/descriptor_database.cc:57] File already exists in database: google/protobuf/descriptor.proto\r\n[libprotobuf FATAL google/protobuf/descriptor.cc:1018] CHECK failed: generated_database_->Add(encoded_file_descriptor, size): \r\nterminate called after throwing an instance of 'google::protobuf::FatalException'\r\n  what():  CHECK failed: generated_database_->Add(encoded_file_descriptor, size): \r\nFatal Python error: Aborted\r\n\r\nCurrent thread 0x00007f36de65b740 (most recent call first):\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 1043 in create_module\r\n  File \"<frozen importlib._bootstrap>\", line 583 in module_from_spec\r\n  File \"<frozen importlib._bootstrap>\", line 670 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1035 in _handle_fromlist\r\n  File \"/opt/conda/lib/python3.7/site-packages/google/protobuf/descriptor.py\", line 47 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1035 in _handle_fromlist\r\n  File \"/opt/conda/lib/python3.7/site-packages/onnx/onnx_ONNX_REL_1_7_ml_pb2.py\", line 7 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/opt/conda/lib/python3.7/site-packages/onnx/onnx_pb.py\", line 8 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/opt/conda/lib/python3.7/site-packages/onnx/external_data_helper.py\", line 10 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/opt/conda/lib/python3.7/site-packages/onnx/__init__.py\", line 9 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/opt/mmdetection/tests/test_onnx/utils.py\", line 7 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/opt/mmdetection/tests/test_onnx/__init__.py\", line 2 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006 in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 953 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006 in _gcd_import\r\n  File \"/opt/conda/lib/python3.7/importlib/__init__.py\", line 127 in import_module\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/pathlib.py\", line 524 in import_path\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/python.py\", line 578 in _importtestmodule\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/python.py\", line 500 in _getobj\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/python.py\", line 291 in obj\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/python.py\", line 516 in _inject_setup_module_fixture\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/python.py\", line 503 in collect\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/runner.py\", line 341 in <lambda>\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/runner.py\", line 311 in from_call\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/runner.py\", line 341 in pytest_make_collect_report\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_callers.py\", line 39 in _multicall\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_manager.py\", line 80 in _hookexec\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_hooks.py\", line 265 in __call__\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/runner.py\", line 458 in collect_one_node\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 808 in genitems\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 811 in genitems\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 634 in perform_collect\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 333 in pytest_collection\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_callers.py\", line 39 in _multicall\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_manager.py\", line 80 in _hookexec\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_hooks.py\", line 265 in __call__\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 322 in _main\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 269 in wrap_session\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/main.py\", line 316 in pytest_cmdline_main\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_callers.py\", line 39 in _multicall\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_manager.py\", line 80 in _hookexec\r\n  File \"/opt/conda/lib/python3.7/site-packages/pluggy/_hooks.py\", line 265 in __call__\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/config/__init__.py\", line 163 in main\r\n  File \"/opt/conda/lib/python3.7/site-packages/_pytest/config/__init__.py\", line 185 in console_main\r\n  File \"/opt/conda/bin/pytest\", line 8 in <module>\r\nAborted (core dumped)\r\n```\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```none\r\nA placeholder for the command.\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\n```\r\nsys.platform: linux\r\nPython: 3.7.10 (default, Feb 26 2021, 18:47:35) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0: Tesla T4\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.2, V10.2.89\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.9.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.2-Product Build 20210312 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.1.2 (Git Hash 98be7e8afa711dc9b66c8ff3504129cb82013cdb)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=10.2, CUDNN_VERSION=7.6.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.10.0\r\nOpenCV: 4.5.5\r\nMMCV: 1.4.4\r\nMMCV Compiler: GCC 7.5\r\nMMCV CUDA Compiler: 10.2\r\nMMDetection: 2.20.0+f9d294f\r\n```\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7096", "id": 1118015698, "node_id": "I_kwDOCK7AWs5Co5DS", "number": 7096, "title": "[eval_hooks.py] TypeError: '>' not supported between instances of 'Nonetype' and 'float'", "user": {"login": "LuooChen", "id": 33743370, "node_id": "MDQ6VXNlcjMzNzQzMzcw", "avatar_url": "https://avatars.githubusercontent.com/u/33743370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LuooChen", "html_url": "https://github.com/LuooChen", "followers_url": "https://api.github.com/users/LuooChen/followers", "following_url": "https://api.github.com/users/LuooChen/following{/other_user}", "gists_url": "https://api.github.com/users/LuooChen/gists{/gist_id}", "starred_url": "https://api.github.com/users/LuooChen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LuooChen/subscriptions", "organizations_url": "https://api.github.com/users/LuooChen/orgs", "repos_url": "https://api.github.com/users/LuooChen/repos", "events_url": "https://api.github.com/users/LuooChen/events{/privacy}", "received_events_url": "https://api.github.com/users/LuooChen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-01-29T03:30:53Z", "updated_at": "2022-02-10T03:42:34Z", "closed_at": "2022-02-10T03:42:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help. I think i got the same issue with [ERROR - The testing results of the whole dataset is empty - YOLOX and COCO](https://github.com/open-mmlab/mmdetection/issues/6265) that [fixed](https://github.com/open-mmlab/mmcv/pull/1398/files) for mmcv, but doesn't resovled in [eval_hooks.py](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/core/evaluation/eval_hooks.py#L126)\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nI think i got the same issue with [ERROR - The testing results of the whole dataset is empty - YOLOX and COCO](https://github.com/open-mmlab/mmdetection/issues/6265) that [fixed](https://github.com/open-mmlab/mmcv/pull/1398/files) for mmcv, but doesn't resovled in [eval_hooks.py](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/core/evaluation/eval_hooks.py#L126).\r\n\r\n**Reproduction**\r\n\r\n1. I just train with yolox-l and coco, here is the configs below:\r\n\r\n```none\r\n_base_ = './yolox_s_8x8_300e_coco.py'\r\nimg_scale = (1280, 1280)\r\n# model settings\r\nmodel = dict(\r\n    input_size=img_scale,\r\n    backbone=dict(deepen_factor=1.0, widen_factor=1.0),\r\n    neck=dict(\r\n        in_channels=[256, 512, 1024], out_channels=256, num_csp_blocks=3),\r\n    bbox_head=dict(\r\n        type='YOLOXHead', num_classes=1, in_channels=256, feat_channels=256),)\r\n\r\n# Modify dataset related settings\r\ndata_root = 'data/tgbr_tile/'\r\ndataset_type = 'CocoDataset'\r\nclasses = ('my_class',)\r\n\r\n# Modify pipeline\r\nalbu_train_transforms = [\r\n    # dict(type='RandomRotate90', always_apply=False, p=0.5),\r\n    dict(\r\n        type='OneOf',\r\n        transforms=[\r\n            dict(type='Blur', blur_limit=3, p=1.0),\r\n            dict(type='MedianBlur', blur_limit=3, p=1.0)\r\n        ],\r\n        p=0.3),\r\n    dict(\r\n        type='RandomBrightnessContrast',\r\n        brightness_limit=[-0.3, 0.3],\r\n        contrast_limit=[-0.3, 0.3],\r\n        p=0.3),\r\n]\r\ntrain_pipeline = [\r\n    dict(type='Rotate', level=10, prob=0.5, max_rotate_angle=90),\r\n    dict(type='Albu',\r\n         transforms=albu_train_transforms,\r\n         bbox_params=dict(type='BboxParams',\r\n                          format='pascal_voc',\r\n                          label_fields=['gt_labels'],\r\n                          min_visibility=0.0,\r\n                          filter_lost_elements=True),\r\n         keymap={'img': 'image', 'gt_bboxes': 'bboxes'},\r\n         update_pad_shape=False,\r\n         skip_img_without_anno=False),\r\n    dict(\r\n        type='RandomAffine',\r\n        max_rotate_degree=0,\r\n        scaling_ratio_range=(0.5, 1.5),\r\n        border=(0, 0)),\r\n    dict(\r\n        type='CutOut',\r\n        n_holes=(0, 3),\r\n        cutout_shape=[(20, 20), (30, 30)]),\r\n    dict(\r\n        type='MinIoURandomCrop',\r\n        min_ious=(0.7, 0.9,),\r\n        min_crop_size=0.2),\r\n    dict(type='CLAHE_or_HE_HSV', prob=0.7),\r\n    dict(type='YOLOXHSVRandomAug'),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    # According to the official implementation, multi-scale\r\n    # training is not considered here but in the\r\n    # 'mmdet/models/detectors/yolox.py'.\r\n    # dict(type='Resize', img_scale=img_scale, keep_ratio=True),\r\n    dict(type='Resize',\r\n         img_scale=img_scale,\r\n         keep_ratio=True\r\n         ),\r\n    dict(\r\n        type='Pad',\r\n        pad_to_square=True,\r\n        # If the image is three-channel, the pad value needs\r\n        # to be set separately for each channel.\r\n        pad_val=dict(img=(114.0, 114.0, 114.0))),\r\n    dict(type='FilterAnnotations', min_gt_bbox_wh=(1, 1), keep_empty=False),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n]\r\n\r\ntrain_dataset = dict(\r\n    type='MultiImageMixDataset',\r\n    dataset=dict(\r\n        type=dataset_type,\r\n        img_prefix='train_images/',\r\n        ann_file='labels/coco_train.json',\r\n        classes=classes,\r\n        data_root=data_root,\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(type='LoadAnnotations', with_bbox=True)\r\n        ],\r\n        filter_empty_gt=False,\r\n    ),\r\n    pipeline=train_pipeline)\r\n\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=img_scale,\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize',\r\n                 keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(\r\n                type='Pad',\r\n                pad_to_square=True,\r\n                pad_val=dict(img=(114.0, 114.0, 114.0))),\r\n            dict(type='DefaultFormatBundle'),\r\n            dict(type='Collect', keys=['img'])\r\n        ])\r\n]\r\n\r\ndata = dict(\r\n    samples_per_gpu=2,\r\n    workers_per_gpu=4,\r\n    train=train_dataset,\r\n    val=dict(\r\n        type=dataset_type,\r\n        img_prefix='train_images/',\r\n        ann_file='labels/coco_val.json',\r\n        classes=classes,\r\n        data_root=data_root,\r\n        pipeline=test_pipeline),\r\n    test=dict(\r\n        type=dataset_type,\r\n        img_prefix='train_images/',\r\n        ann_file='labels/coco_val.json',\r\n        classes=classes,\r\n        data_root=data_root,\r\n        pipeline=test_pipeline))\r\n\r\n# optimizer\r\n# default 8 gpu because we only 1 gpu so lr = (0.01/8)\r\noptimizer = dict(\r\n    type='SGD',\r\n    lr=(0.01/(8*2*2)),\r\n    momentum=0.9,\r\n    weight_decay=5e-4,\r\n    nesterov=True,\r\n    paramwise_cfg=dict(norm_decay_mult=0., bias_decay_mult=0.))\r\noptimizer_config = dict(grad_clip=None)\r\n\r\n# the max_epochs and step in lr_config need specifically tuned for the customized dataset\r\nmax_epochs = 100\r\nnum_last_epochs = 5\r\nresume_from = None\r\ninterval = 2\r\n\r\n# learning policy\r\nlr_config = dict(\r\n    _delete_=True,\r\n    policy='YOLOX',\r\n    warmup='exp',\r\n    by_epoch=False,\r\n    warmup_by_epoch=True,\r\n    warmup_ratio=1,\r\n    warmup_iters=5,  # 5 epoch\r\n    num_last_epochs=num_last_epochs,\r\n    min_lr_ratio=0.05)\r\n\r\nrunner = dict(type='EpochBasedRunner', max_epochs=max_epochs)\r\n\r\ncustom_hooks = [\r\n    dict(\r\n        type='YOLOXModeSwitchHook',\r\n        num_last_epochs=num_last_epochs,\r\n        priority=48),\r\n    dict(\r\n        type='SyncNormHook',\r\n        num_last_epochs=num_last_epochs,\r\n        interval=interval,\r\n        priority=48),\r\n    dict(\r\n        type='ExpMomentumEMAHook',\r\n        resume_from=resume_from,\r\n        momentum=0.0001,\r\n        priority=49)\r\n]\r\ncheckpoint_config = dict(interval=interval)\r\nevaluation = dict(\r\n    save_best='auto',\r\n    # The evaluation interval is 'interval' when running epoch is\r\n    # less than \u2018max_epochs - num_last_epochs\u2019.\r\n    # The evaluation interval is 1 when running epoch is greater than\r\n    # or equal to \u2018max_epochs - num_last_epochs\u2019.\r\n    interval=interval,\r\n    dynamic_intervals=[(max_epochs - num_last_epochs, 1)],\r\n    metric='bbox')\r\nlog_config = dict(interval=40)\r\n# We can use the pre-trained model to obtain higher performance\r\nload_from = 'checkpoints/yolox_l_8x8_300e_coco_20211126_140236-d3bd2b23.pth'\r\n```\r\n\r\n**Environment**\r\n\r\nnecessary environment information:\r\n```none\r\nsys.platform: linux\r\nPython: 3.9.7 (default, Sep 16 2021, 13:09:58) [GCC 7.5.0]\r\nCUDA available: True\r\nGPU 0: Quadro RTX 8000\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.2, V10.2.89\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.10.1\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.4-Product Build 20210904 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.2.3 (Git Hash 7336ca9f055cf1bfa13efb658fe15dc9b41f0740)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - LAPACK is enabled (usually provided by MKL)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=10.2, CUDNN_VERSION=7.6.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -DEDGE_PROFILER_USE_KINETO -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.10.1, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.11.2\r\nOpenCV: 4.5.5\r\nMMCV: 1.4.0\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 10.2\r\nMMDetection: 2.19.0+4d41c05\r\n```\r\n\r\n**Error traceback**\r\n**The error logs below:**\r\n```\r\n2022-01-28 22:33:24,528 - mmdet - INFO - Evaluating bbox...\r\nLoading and preparing results...2022-01-28 22:33:24,529 - mmdet - ERROR - The testing results of the whole dataset is empty.\r\n/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/hooks/evaluation.py:374: UserWarning: Since `eval_res` is an empty dict, the behavior to save the best checkpoint will be skipped in this evaluation.  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"/home/superdisk/tensorflow-great-barrier-reef/tools/train.py\", line 185, in <module>    main()\r\n  File \"/home/superdisk/tensorflow-great-barrier-reef/tools/train.py\", line 174, in main\r\n    train_detector(  File \"/home/superdisk/tensorflow-great-barrier-reef/mmdet/apis/train.py\", line 203, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 127, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/epoch_based_runner.py\", line 54, in train\r\n    self.call_hook('after_train_epoch')\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/base_runner.py\", line 307, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/hooks/evaluation.py\", line 267, in after_train_epoch\r\n    self._do_evaluate(runner)\r\n  File \"/home/superdisk/tensorflow-great-barrier-reef/mmdet/core/evaluation/eval_hooks.py\", line 60, in _do_evaluate\r\n    self._save_ckpt(runner, key_score)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/hooks/evaluation.py\", line 330, in _save_ckpt\r\n    if self.compare_func(key_score, best_score):\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/mmcv/runner/hooks/evaluation.py\", line 77, in <lambda>\r\n    rule_map = {'greater': lambda x, y: x > y, 'less': lambda x, y: x < y}\r\n  TypeError: '>' not supported between instances of 'Nonetype' and 'float'\r\n```\r\n\r\n**Bug fix**\r\n\r\nI think we can fixed with modify the [eval_hooks.py](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/core/evaluation/eval_hooks.py#L126) , but i'm not sure that's right.\r\n```python\r\n    def _do_evaluate(self, runner):\r\n        \"\"\"perform evaluation and save ckpt.\"\"\"\r\n        if not self._should_evaluate(runner):\r\n            return\r\n\r\n        from mmdet.apis import single_gpu_test\r\n        results = single_gpu_test(runner.model, self.dataloader, show=False)\r\n        runner.log_buffer.output['eval_iter_num'] = len(self.dataloader)\r\n        key_score = self.evaluate(runner, results)\r\n        # the key_score may be `None` so it needs to skip the action to save\r\n        # the best checkpoint\r\n        if self.save_best and key_score:\r\n            self._save_ckpt(runner, key_score)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7085", "id": 1116119532, "node_id": "PR_kwDOCK7AWs4xq8Cq", "number": 7085, "title": "[Fix] Relax the requirement of PALETTE in dataset wrappers", "user": {"login": "gaotongxiao", "id": 22607038, "node_id": "MDQ6VXNlcjIyNjA3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/22607038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaotongxiao", "html_url": "https://github.com/gaotongxiao", "followers_url": "https://api.github.com/users/gaotongxiao/followers", "following_url": "https://api.github.com/users/gaotongxiao/following{/other_user}", "gists_url": "https://api.github.com/users/gaotongxiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaotongxiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaotongxiao/subscriptions", "organizations_url": "https://api.github.com/users/gaotongxiao/orgs", "repos_url": "https://api.github.com/users/gaotongxiao/repos", "events_url": "https://api.github.com/users/gaotongxiao/events{/privacy}", "received_events_url": "https://api.github.com/users/gaotongxiao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-27T11:53:45Z", "updated_at": "2022-01-29T02:19:00Z", "closed_at": "2022-01-29T02:19:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7085", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7085", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7085.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7085.patch", "merged_at": "2022-01-29T02:19:00Z"}, "body": "## Motivation\r\n\r\nThe recent new feature https://github.com/open-mmlab/mmdetection/pull/6716 introduced a new assumption on the `PALETTE` attribute in all dataset wrappers, which breaks external references to these wrappers without such an attribute in their datasets. This PR turns this requirement optional.\r\n\r\n## Modification\r\n\r\nDataset wrappers take `PALETTE` from their dataset classes only if available, or None will be used to fill out the attribute otherwise.\r\n\r\n## BC-breaking (Optional)\r\n\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7085/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/7079", "id": 1115233312, "node_id": "I_kwDOCK7AWs5CeRwg", "number": 7079, "title": "analyze_results.py ", "user": {"login": "crepuscularlight", "id": 48251435, "node_id": "MDQ6VXNlcjQ4MjUxNDM1", "avatar_url": "https://avatars.githubusercontent.com/u/48251435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crepuscularlight", "html_url": "https://github.com/crepuscularlight", "followers_url": "https://api.github.com/users/crepuscularlight/followers", "following_url": "https://api.github.com/users/crepuscularlight/following{/other_user}", "gists_url": "https://api.github.com/users/crepuscularlight/gists{/gist_id}", "starred_url": "https://api.github.com/users/crepuscularlight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crepuscularlight/subscriptions", "organizations_url": "https://api.github.com/users/crepuscularlight/orgs", "repos_url": "https://api.github.com/users/crepuscularlight/repos", "events_url": "https://api.github.com/users/crepuscularlight/events{/privacy}", "received_events_url": "https://api.github.com/users/crepuscularlight/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1697074884, "node_id": "MDU6TGFiZWwxNjk3MDc0ODg0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/usage", "name": "usage", "color": "fef2c0", "default": false, "description": "About how to use/change the configs/codes etc."}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-01-26T16:43:24Z", "updated_at": "2023-03-22T02:46:03Z", "closed_at": "2023-03-22T02:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "AttributeError: 'ConcatDataset' object has no attribute 'prepare_train_img'\r\n\r\n**Reproduction**\r\n\r\n_base_='../swin/mask_rcnn_swin-t-p4-w7_fpn_1x_coco.py'\r\ndataset_type='CocoDataset'\r\n\r\nprefix='./data/taco/'\r\n\r\nclasses=('Can', 'Carton', 'Cup', 'GlassBottle',\r\n         'Other', 'Paper','PlasticBottle', 'PlasticContainer', 'Wrapper')\r\n\r\ntest_prefix='data/test105'\r\n\r\nmodel = dict(\r\n    roi_head=dict(\r\n        bbox_head=dict(num_classes=9),\r\n        mask_head=dict(num_classes=9)))\r\ndata=dict(\r\n    train=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=[\r\n            'data/week17/fixed_annotations.json'\r\n        ],\r\n        img_prefix=prefix\r\n    ),\r\n\r\n    val=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=[\r\n            'data/week17/fixed_annotations.json'\r\n        ],\r\n        img_prefix=prefix\r\n    ),\r\n\r\n    test=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=[\r\n                    \"data/test105/fixed_annotations.json\"\r\n                  ],\r\n        img_prefix=test_prefix\r\n    )\r\n)\r\n\r\n\r\n\r\n\r\n\r\n**Environment**\r\n\r\nTorchVision: 0.2.1\r\nOpenCV: 4.5.3\r\nMMCV: 1.3.15\r\nMMCV Compiler: GCC 9.3\r\nMMCV CUDA Compiler: 11.4\r\nMMDetection: 2.17.0+78e3ec8\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7074", "id": 1113522029, "node_id": "PR_kwDOCK7AWs4xil4s", "number": 7074, "title": "[Fix] Fix bbox clamp in pt1.10", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-25T07:26:33Z", "updated_at": "2022-12-17T03:42:21Z", "closed_at": "2022-01-26T12:09:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7074", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7074", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7074.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7074.patch", "merged_at": "2022-01-26T12:09:20Z"}, "body": "## Motivation\r\nFCOS and AutoAssign cannot run with PyTorch 1.10. \r\nError message:\r\n```\r\nRuntimeError: one of the variables needed for gradient computation has been modified by an inplace operation: [torch.cuda.FloatTensor [2, 4, 20, 20]], which is output 0 of ReluBackward0, is at version 1; expected version 0 instead.\r\n```\r\n\r\nAfter using  `with torch.autograd.set_detect_anomaly(True):` to debug and find out that it was caused by the ReLU in bbox branch.\r\n\r\n## Modification\r\n\r\nReplace `F.relu(bbox_pred)` with `bbox_pred.clamp(min=0)`\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7074/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7032", "id": 1107558608, "node_id": "PR_kwDOCK7AWs4xPGJu", "number": 7032, "title": "[Fix] Keep the same weights before reassign in the PAA head", "user": {"login": "zimoqingfeng", "id": 22272184, "node_id": "MDQ6VXNlcjIyMjcyMTg0", "avatar_url": "https://avatars.githubusercontent.com/u/22272184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zimoqingfeng", "html_url": "https://github.com/zimoqingfeng", "followers_url": "https://api.github.com/users/zimoqingfeng/followers", "following_url": "https://api.github.com/users/zimoqingfeng/following{/other_user}", "gists_url": "https://api.github.com/users/zimoqingfeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/zimoqingfeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zimoqingfeng/subscriptions", "organizations_url": "https://api.github.com/users/zimoqingfeng/orgs", "repos_url": "https://api.github.com/users/zimoqingfeng/repos", "events_url": "https://api.github.com/users/zimoqingfeng/events{/privacy}", "received_events_url": "https://api.github.com/users/zimoqingfeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-19T02:13:18Z", "updated_at": "2023-04-03T11:31:21Z", "closed_at": "2022-02-08T08:24:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/7032", "html_url": "https://github.com/open-mmlab/mmdetection/pull/7032", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/7032.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/7032.patch", "merged_at": "2022-02-08T08:24:18Z"}, "body": "## Motivation\r\n\r\nWorried about \"Fix wrong bbox loss_weight of the PAA head (#6744)\" in MMDetection V2.20.0.\r\n\r\nAccording to the PAA's source code, it seems that the authors calculated the cls_loss and reg_loss with the same weight (always equal to 1.0) before reassignment, and calculated the final loss with different loss_weight\r\n\r\nhttps://github.com/kkhoot/PAA/blob/master/paa_core/modeling/rpn/paa/loss.py#L306\r\nhttps://github.com/kkhoot/PAA/blob/master/paa_core/modeling/rpn/paa/loss.py#L356\r\n\r\n## Modification\r\n\r\nBefore reassignment, always set loss_weight as 1.0 (maybe it will lead to some confusion for setting all losses as self.loss_cls.loss_weight)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/7032/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6976", "id": 1097574999, "node_id": "I_kwDOCK7AWs5Ba6pX", "number": 6976, "title": "Using FP16,YoloX,softnms got RuntimeError: expected scalar type Float but found Half", "user": {"login": "Klawens", "id": 21036757, "node_id": "MDQ6VXNlcjIxMDM2NzU3", "avatar_url": "https://avatars.githubusercontent.com/u/21036757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Klawens", "html_url": "https://github.com/Klawens", "followers_url": "https://api.github.com/users/Klawens/followers", "following_url": "https://api.github.com/users/Klawens/following{/other_user}", "gists_url": "https://api.github.com/users/Klawens/gists{/gist_id}", "starred_url": "https://api.github.com/users/Klawens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Klawens/subscriptions", "organizations_url": "https://api.github.com/users/Klawens/orgs", "repos_url": "https://api.github.com/users/Klawens/repos", "events_url": "https://api.github.com/users/Klawens/events{/privacy}", "received_events_url": "https://api.github.com/users/Klawens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, {"login": "jbwang1997", "id": 32032453, "node_id": "MDQ6VXNlcjMyMDMyNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/32032453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwang1997", "html_url": "https://github.com/jbwang1997", "followers_url": "https://api.github.com/users/jbwang1997/followers", "following_url": "https://api.github.com/users/jbwang1997/following{/other_user}", "gists_url": "https://api.github.com/users/jbwang1997/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwang1997/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwang1997/subscriptions", "organizations_url": "https://api.github.com/users/jbwang1997/orgs", "repos_url": "https://api.github.com/users/jbwang1997/repos", "events_url": "https://api.github.com/users/jbwang1997/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwang1997/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-01-10T08:14:49Z", "updated_at": "2022-04-23T01:50:30Z", "closed_at": "2022-03-30T04:52:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "  File \"/home/lsc/mmdet-2.20/mmdet/models/detectors/base.py\", line 174, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/detectors/base.py\", line 147, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/detectors/single_stage.py\", line 102, in simple_test\r\n    results_list = self.bbox_head.simple_test(\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/dense_heads/base_dense_head.py\", line 360, in simple_test\r\n    return self.simple_test_bboxes(feats, img_metas, rescale=rescale)\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/dense_heads/dense_test_mixins.py\", line 37, in simple_test_bboxes\r\n    results_list = self.get_bboxes(\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/dense_heads/yolox_head.py\", line 294, in get_bboxes\r\n    self._bboxes_nms(cls_scores, bboxes, score_factor, cfg))\r\n  File \"/home/lsc/mmdet-2.20/mmdet/models/dense_heads/yolox_head.py\", line 321, in _bboxes_nms\r\n    dets, keep = batched_nms(bboxes, scores, labels, cfg.nms)\r\n  File \"/home/lsc/anaconda3/envs/mmdet/lib/python3.8/site-packages/mmcv/ops/nms.py\", line 340, in batched_nms\r\n    dets, keep = nms_op(boxes_for_nms[mask], scores[mask], **nms_cfg_)\r\n  File \"/home/lsc/anaconda3/envs/mmdet/lib/python3.8/site-packages/mmcv/utils/misc.py\", line 340, in new_func\r\n    output = old_func(*args, **kwargs)\r\n  File \"/home/lsc/anaconda3/envs/mmdet/lib/python3.8/site-packages/mmcv/ops/nms.py\", line 245, in soft_nms\r\n    dets, inds = SoftNMSop.apply(boxes.cpu(), scores.cpu(),\r\n  File \"/home/lsc/anaconda3/envs/mmdet/lib/python3.8/site-packages/mmcv/ops/nms.py\", line 88, in forward\r\n    inds = ext_module.softnms(\r\nRuntimeError: expected scalar type Float but found Half", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6965", "id": 1095885615, "node_id": "I_kwDOCK7AWs5BUeMv", "number": 6965, "title": "Confusion matrix error", "user": {"login": "zunction", "id": 9048944, "node_id": "MDQ6VXNlcjkwNDg5NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9048944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zunction", "html_url": "https://github.com/zunction", "followers_url": "https://api.github.com/users/zunction/followers", "following_url": "https://api.github.com/users/zunction/following{/other_user}", "gists_url": "https://api.github.com/users/zunction/gists{/gist_id}", "starred_url": "https://api.github.com/users/zunction/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zunction/subscriptions", "organizations_url": "https://api.github.com/users/zunction/orgs", "repos_url": "https://api.github.com/users/zunction/repos", "events_url": "https://api.github.com/users/zunction/events{/privacy}", "received_events_url": "https://api.github.com/users/zunction/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-01-07T01:17:23Z", "updated_at": "2022-04-27T03:21:46Z", "closed_at": "2022-04-27T03:21:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "While trying to generate the confusion matrix with this command:\r\n```\r\npython tools/analysis_tools/confusion_matrix.py ./work_dirs/perception-types--D06-01-2022--T09-23-45/perception-types.py results.pkl ./temp  --show\r\n```\r\nI ran into this error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/analysis_tools/confusion_matrix.py\", line 261, in <module>\r\n    main()\r\n  File \"tools/analysis_tools/confusion_matrix.py\", line 257, in main\r\n    show=args.show)\r\n  File \"tools/analysis_tools/confusion_matrix.py\", line 210, in plot_confusion_matrix\r\n    '{}%'.format(int(confusion_matrix[i, j])),\r\nValueError: cannot convert float NaN to integer\r\n```\r\nWould appreciate any help or suggestions! Thanks\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6965/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6933", "id": 1091142635, "node_id": "I_kwDOCK7AWs5BCYPr", "number": 6933, "title": "\u8fd0\u884ctools/analysis_tools/analyze_logs.py\u7ed8\u5236\u63a5\u7740checkpoint\u8bad\u7ec3\u4ea7\u751f\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u62a5\u9519", "user": {"login": "jt-z", "id": 17123223, "node_id": "MDQ6VXNlcjE3MTIzMjIz", "avatar_url": "https://avatars.githubusercontent.com/u/17123223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jt-z", "html_url": "https://github.com/jt-z", "followers_url": "https://api.github.com/users/jt-z/followers", "following_url": "https://api.github.com/users/jt-z/following{/other_user}", "gists_url": "https://api.github.com/users/jt-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/jt-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jt-z/subscriptions", "organizations_url": "https://api.github.com/users/jt-z/orgs", "repos_url": "https://api.github.com/users/jt-z/repos", "events_url": "https://api.github.com/users/jt-z/events{/privacy}", "received_events_url": "https://api.github.com/users/jt-z/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-12-30T14:36:21Z", "updated_at": "2022-04-02T09:32:45Z", "closed_at": "2022-04-02T09:32:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4f1a\u5728\u8fed\u4ee3\u5230checkpoint\u5bf9\u5e94\u7684\u7b2c\u4e00\u4e2aepoch\u65f6\u627e\u4e0d\u5230\u5bf9\u5e94\u7684metric\u952e\uff0c\u628aepochs\u4e2d\u7684checkpoint\u5bf9\u5e94\u7684\u503c\u53bb\u6389\u540e\u6b63\u5e38\u4e86\u3002\r\n\u56e0\u4e3a\u81ea\u5df1\u7684log\u6587\u4ef6\u65f6\u4eceepoch4\u5bf9\u5e94\u7684checkpoint\u6587\u4ef6\u7ee7\u7eed\u8bad\u7ec3\u7684\uff0c\u800cepoch4\u7684log\u5185\u5bb9\u6ca1\u6709\u8bb0\u5f55\u4e0b\u6765\uff0c\u6240\u4ee5\u5bfc\u81f4\u4e86\u8be5\u62a5\u9519\u3002\u4e8e\u662f\u5220\u9664checkpoint4\u7684\u90a3\u4e2aepoch\u540e\u6b63\u5e38,\u5728`tools/analysis_tools/analyze_logs.py`\u6587\u4ef6\u4e2d49\u884c\u4e0b\u6dfb\u52a0\u4e0b\u9762\u7684\u4ee3\u7801\u540e\u6b63\u5e38\uff1a` epochs = epochs[1:]`\uff0c\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u4e00\u4e2acheckpoint\u7684\u53c2\u6570\uff1f", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6933/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6821", "id": 1083141945, "node_id": "I_kwDOCK7AWs5Aj285", "number": 6821, "title": "Incorrect assignment (match) of low-quality boxes", "user": {"login": "tooHotSpot", "id": 36488875, "node_id": "MDQ6VXNlcjM2NDg4ODc1", "avatar_url": "https://avatars.githubusercontent.com/u/36488875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tooHotSpot", "html_url": "https://github.com/tooHotSpot", "followers_url": "https://api.github.com/users/tooHotSpot/followers", "following_url": "https://api.github.com/users/tooHotSpot/following{/other_user}", "gists_url": "https://api.github.com/users/tooHotSpot/gists{/gist_id}", "starred_url": "https://api.github.com/users/tooHotSpot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tooHotSpot/subscriptions", "organizations_url": "https://api.github.com/users/tooHotSpot/orgs", "repos_url": "https://api.github.com/users/tooHotSpot/repos", "events_url": "https://api.github.com/users/tooHotSpot/events{/privacy}", "received_events_url": "https://api.github.com/users/tooHotSpot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-12-17T11:01:15Z", "updated_at": "2022-04-17T05:23:09Z", "closed_at": "2022-04-17T05:23:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, dear viewers! \r\nThanks for a great framework! An ecosystem is truly impressive in general. \r\n\r\nI work on a few-shot detector and in the task I want to solve amount of objects I want neural network to find on an image may be reduced to 1, which results in a much severe imbalance of possible positive/negative boxes for RPNHead classification loss than usual. My neural network is based on the Mask R-CNN, I use a standard RPNHead. During training, RPNHead classification loss does not drop to zeros even after days of a training time. This leads to a severe training problem for second-stage Mack R-CNN components.\r\n\r\nIt seems that `MaxIoUAssigner` does not match boxes correctly for `RPNHead`. The reason is an additional check for low-quality boxes if the IoU is higher than `min_pos_iou`. See code line [here](https://github.com/open-mmlab/mmdetection/blob/83eea4bec684708171f0b6433636df0873e50dac/mmdet/core/bbox/assigners/max_iou_assigner.py#L195). \r\n\r\nI have found implementation of the same method in Detectron2 ([link](https://github.com/facebookresearch/detectron2/blob/1315c8977e867b9979b4fa712638c1975ca8c78f/detectron2/modeling/matcher.py#L106)) where this check is absent.\r\n\r\nMoreover, in Sec. 3.1.2 of Faster R-CNN paper, set of boxes with max overlap with a GT box are all considered positive not considering IoU lower `min_pos_iou`. These boxes in truth may be called `low-quality` but FAIR does not tell a word about comparison to IoU.  \r\n\r\nAlso, there is a complete `Guide to build Faster RCNN in PyTorch`  on [Medium](https://fractaldle.medium.com/guide-to-build-faster-rcnn-in-pytorch-95b10c273439) where authors tell in details how to match the boxes, read after words \"Faster_R-CNN has some guidelines to assign labels to the anchor boxes...\".\r\n\r\nIt would great to reveal if it`s a bug or a specific functionality. In the last case, I propose to add some additional flags to control the selection of low-quality boxes.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6821/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6799", "id": 1080918202, "node_id": "I_kwDOCK7AWs5AbYC6", "number": 6799, "title": "The English version of the docs are not displayed", "user": {"login": "JackRio", "id": 38080705, "node_id": "MDQ6VXNlcjM4MDgwNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/38080705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JackRio", "html_url": "https://github.com/JackRio", "followers_url": "https://api.github.com/users/JackRio/followers", "following_url": "https://api.github.com/users/JackRio/following{/other_user}", "gists_url": "https://api.github.com/users/JackRio/gists{/gist_id}", "starred_url": "https://api.github.com/users/JackRio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JackRio/subscriptions", "organizations_url": "https://api.github.com/users/JackRio/orgs", "repos_url": "https://api.github.com/users/JackRio/repos", "events_url": "https://api.github.com/users/JackRio/events{/privacy}", "received_events_url": "https://api.github.com/users/JackRio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-12-15T11:22:06Z", "updated_at": "2021-12-16T13:09:44Z", "closed_at": "2021-12-16T13:09:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to change the language of the docs to the English version it still shows me the Chinese version of the docs. This was not the case yesterday.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6766", "id": 1077862952, "node_id": "PR_kwDOCK7AWs4vubLP", "number": 6766, "title": "Fix dtype bug in base_dense_head", "user": {"login": "shinya7y", "id": 42844407, "node_id": "MDQ6VXNlcjQyODQ0NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/42844407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shinya7y", "html_url": "https://github.com/shinya7y", "followers_url": "https://api.github.com/users/shinya7y/followers", "following_url": "https://api.github.com/users/shinya7y/following{/other_user}", "gists_url": "https://api.github.com/users/shinya7y/gists{/gist_id}", "starred_url": "https://api.github.com/users/shinya7y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shinya7y/subscriptions", "organizations_url": "https://api.github.com/users/shinya7y/orgs", "repos_url": "https://api.github.com/users/shinya7y/repos", "events_url": "https://api.github.com/users/shinya7y/events{/privacy}", "received_events_url": "https://api.github.com/users/shinya7y/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-12T17:30:54Z", "updated_at": "2022-06-25T08:30:42Z", "closed_at": "2021-12-13T02:22:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6766", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6766", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6766.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6766.patch", "merged_at": "2021-12-13T02:22:14Z"}, "body": "Fix https://github.com/open-mmlab/mmdetection/issues/6718", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6766/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6709", "id": 1072991369, "node_id": "I_kwDOCK7AWs4_9IyJ", "number": 6709, "title": "Build mmdet failed on Windows with python3.6", "user": {"login": "del-zhenwu", "id": 56623710, "node_id": "MDQ6VXNlcjU2NjIzNzEw", "avatar_url": "https://avatars.githubusercontent.com/u/56623710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/del-zhenwu", "html_url": "https://github.com/del-zhenwu", "followers_url": "https://api.github.com/users/del-zhenwu/followers", "following_url": "https://api.github.com/users/del-zhenwu/following{/other_user}", "gists_url": "https://api.github.com/users/del-zhenwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/del-zhenwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/del-zhenwu/subscriptions", "organizations_url": "https://api.github.com/users/del-zhenwu/orgs", "repos_url": "https://api.github.com/users/del-zhenwu/repos", "events_url": "https://api.github.com/users/del-zhenwu/events{/privacy}", "received_events_url": "https://api.github.com/users/del-zhenwu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1477444992, "node_id": "MDU6TGFiZWwxNDc3NDQ0OTky", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/windows", "name": "windows", "color": "c2dff9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-12-07T07:06:14Z", "updated_at": "2022-06-01T02:33:29Z", "closed_at": "2022-06-01T02:33:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n```\r\n14:46:57  Installed c:\\users\\user\\miniconda3\\envs\\mmdetv2.19.0_mmcvv1.4.0_cuda111_py36_torch1.9.0\\lib\\site-packages\\terminaltables-3.1.7-py3.6.egg\r\n14:46:57  Searching for matplotlib\r\n14:46:57  Reading https://pypi.org/simple/matplotlib/\r\n14:46:58  Downloading https://files.pythonhosted.org/packages/78/cf/96af81ef2c15682a020a992cb0f1291bb8ee0b3c296f5cd7978348a72993/matplotlib-3.5.0.tar.gz#sha256=38892a254420d95594285077276162a5e9e9c30b6da08bdc2a4d53331ad9a6fa\r\n14:47:00  Best match: matplotlib 3.5.0\r\n14:47:00  Processing matplotlib-3.5.0.tar.gz\r\n14:47:11  Writing C:\\Users\\user\\AppData\\Local\\Temp\\easy_install-7yj4dwx8\\matplotlib-3.5.0\\setup.cfg\r\n14:47:11  Running matplotlib-3.5.0\\setup.py -q bdist_egg --dist-dir C:\\Users\\user\\AppData\\Local\\Temp\\easy_install-7yj4dwx8\\matplotlib-3.5.0\\egg-dist-tmp-d6n875vc\r\n14:47:13  error: Setup script exited with \r\n14:47:13  Beginning with Matplotlib 3.4, Python 3.7 or above is required.\r\n14:47:13  You are using Python 3.6.13.\r\n14:47:13  \r\n```\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```\r\n    CheckMMCV $mmcv\r\n    # Start installation\r\n    pip install -r .\\requirements\\/build.txt\r\n    if ($LASTEXITCODE -ne 0) {\r\n        Write-Host \"Install package failed\"\r\n        throw;\r\n    }\r\n    Write-Host \"Install build.txt successfully.\"\r\n    # python setup.py develop\r\n    python setup.py install\r\n    if ($LASTEXITCODE -ne 0) {\r\n        Write-Host \"Python setup.py install failed.\"\r\n        return $LASTEXITCODE\r\n    }\r\n    Write-Host \"Install setup.py install successfully.\"\r\n    pip list\r\n    python setup.py bdist_wheel\r\n    if ($LASTEXITCODE -ne 0) {\r\n        Write-Host \"Python setup.py bdist_wheel failed.\"\r\n        return $LASTEXITCODE\r\n    }\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source]\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6678", "id": 1070314490, "node_id": "I_kwDOCK7AWs4_y7P6", "number": 6678, "title": "an install error", "user": {"login": "fsted", "id": 36927198, "node_id": "MDQ6VXNlcjM2OTI3MTk4", "avatar_url": "https://avatars.githubusercontent.com/u/36927198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fsted", "html_url": "https://github.com/fsted", "followers_url": "https://api.github.com/users/fsted/followers", "following_url": "https://api.github.com/users/fsted/following{/other_user}", "gists_url": "https://api.github.com/users/fsted/gists{/gist_id}", "starred_url": "https://api.github.com/users/fsted/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fsted/subscriptions", "organizations_url": "https://api.github.com/users/fsted/orgs", "repos_url": "https://api.github.com/users/fsted/repos", "events_url": "https://api.github.com/users/fsted/events{/privacy}", "received_events_url": "https://api.github.com/users/fsted/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-12-03T07:54:00Z", "updated_at": "2021-12-16T08:31:43Z", "closed_at": "2021-12-16T08:31:43Z", "author_association": "NONE", "active_lock_reason": null, "body": " I install mmdet by:\r\n`./home/anaconda3/envs/mm/bin/pip install openmim\r\nmim install mmdet`\r\nbut when i import it by:\r\n`from mmdet.apis import init_detector, inference_detector`\r\nIt tells me:\r\nAssertionError: MMCV==1.3.18 is used but incompatible. Please install mmcv>=1.1.5, <=1.3.\r\nbut my mmdet  version==2.19.0 and MMCV==1.3.18\uff0cFrom the table, there is no conflict  (\u3112o\u3112)\r\nplease help me , how i should do?\r\n\r\nit is my environment:\r\n\r\n_libgcc_mutex             0.1                        main  \r\n_openmp_mutex             4.5                       1_gnu  \r\naddict                    2.4.0                    pypi_0    pypi\r\nblas                      1.0                         mkl  \r\nca-certificates           2021.10.26           h06a4308_2  \r\ncertifi                   2021.10.8        py37h06a4308_0  \r\ncharset-normalizer        2.0.8                    pypi_0    pypi\r\nclick                     7.1.2                    pypi_0    pypi\r\ncolorama                  0.4.4                    pypi_0    pypi\r\ncudatoolkit               10.1.243             h6bb024c_0  \r\ncycler                    0.11.0                   pypi_0    pypi\r\ncython                    0.29.24                  pypi_0    pypi\r\nfonttools                 4.28.2                   pypi_0    pypi\r\nfreetype                  2.11.0               h70c0345_0  \r\ngiflib                    5.2.1                h7b6447c_0  \r\nidna                      3.3                      pypi_0    pypi\r\nimportlib-metadata        4.8.2                    pypi_0    pypi\r\nintel-openmp              2021.4.0          h06a4308_3561  \r\njpeg                      9d                   h7f8727e_0  \r\nkiwisolver                1.3.2                    pypi_0    pypi\r\nlcms2                     2.12                 h3be6417_0  \r\nld_impl_linux-64          2.35.1               h7274673_9  \r\nlibffi                    3.3                  he6710b0_2  \r\nlibgcc-ng                 9.3.0               h5101ec6_17  \r\nlibgomp                   9.3.0               h5101ec6_17  \r\nlibpng                    1.6.37               hbc83047_0  \r\nlibstdcxx-ng              9.3.0               hd4cf53a_17  \r\nlibtiff                   4.2.0                h85742a9_0  \r\nlibwebp                   1.2.0                h89dd481_0  \r\nlibwebp-base              1.2.0                h27cfd23_0  \r\nlz4-c                     1.9.3                h295c915_1  \r\nmarkdown                  3.3.6                    pypi_0    pypi\r\nmatplotlib                3.5.0                    pypi_0    pypi\r\nmkl                       2021.4.0           h06a4308_640  \r\nmkl-service               2.4.0            py37h7f8727e_0  \r\nmkl_fft                   1.3.1            py37hd3c417c_0  \r\nmkl_random                1.2.2            py37h51133e4_0  \r\nmmcv-full                 1.3.18                   pypi_0    pypi\r\nmmdet                     2.19.0                   pypi_0    pypi\r\nmodel-index               0.1.11                   pypi_0    pypi\r\nncurses                   6.3                  h7f8727e_2  \r\nninja                     1.10.2           py37hd09550d_3  \r\nnumpy                     1.21.2           py37h20f2e39_0  \r\nnumpy-base                1.21.2           py37h79a1101_0  \r\nolefile                   0.46                     py37_0  \r\nopencv-python             4.5.4.60                 pypi_0    pypi\r\nopenmim                   0.1.5                    pypi_0    pypi\r\nopenssl                   1.1.1l               h7f8727e_0  \r\nordered-set               4.0.2                    pypi_0    pypi\r\npackaging                 21.3                     pypi_0    pypi\r\npandas                    1.3.4                    pypi_0    pypi\r\npillow                    8.4.0            py37h5aabda8_0  \r\npip                       21.2.2           py37h06a4308_0  \r\npycocotools               2.0.3                    pypi_0    pypi\r\npyparsing                 3.0.6                    pypi_0    pypi\r\npython                    3.7.11               h12debd9_0  \r\npython-dateutil           2.8.2                    pypi_0    pypi\r\npytorch                   1.5.0           py3.7_cuda10.1.243_cudnn7.6.3_0    pytorch\r\npytz                      2021.3                   pypi_0    pypi\r\npyyaml                    6.0                      pypi_0    pypi\r\nreadline                  8.1                  h27cfd23_0  \r\nrequests                  2.26.0                   pypi_0    pypi\r\nsetuptools                58.0.4           py37h06a4308_0  \r\nsetuptools-scm            6.3.2                    pypi_0    pypi\r\nsix                       1.16.0             pyhd3eb1b0_0  \r\nsqlite                    3.36.0               hc218d9a_0  \r\ntabulate                  0.8.9                    pypi_0    pypi\r\nterminaltables            3.1.0                    pypi_0    pypi\r\ntk                        8.6.11               h1ccaba5_0  \r\ntomli                     1.2.2                    pypi_0    pypi\r\ntorchvision               0.6.0                py37_cu101    pytorch\r\ntyping-extensions         4.0.1                    pypi_0    pypi\r\nurllib3                   1.26.7                   pypi_0    pypi\r\nwheel                     0.37.0             pyhd3eb1b0_1  \r\nxz                        5.2.5                h7b6447c_0  \r\nyapf                      0.31.0                   pypi_0    pypi\r\nzipp                      3.6.0                    pypi_0    pypi\r\nzlib                      1.2.11               h7b6447c_3  \r\nzstd                      1.4.9                haebb681_0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6665", "id": 1069205776, "node_id": "I_kwDOCK7AWs4_uskQ", "number": 6665, "title": "The default value of gt_semantic_seg padding has potential problems", "user": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-12-02T07:12:40Z", "updated_at": "2021-12-26T15:21:31Z", "closed_at": "2021-12-26T15:21:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nSince 255 in gt_semantic_seg means ignoring pixels and 0 means effective area, the default value of 0 will be used for padding when to stack a batch which will bring potential bugs.\r\n\r\n**Bug fix**\r\nDefaultFormatBundle supports custom padding values.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6663", "id": 1069164156, "node_id": "PR_kwDOCK7AWs4vScV_", "number": 6663, "title": "[Fix] Fix init weights in Swin and PVT.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-02T06:03:45Z", "updated_at": "2022-01-13T08:16:35Z", "closed_at": "2021-12-07T11:56:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6663", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6663", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6663.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6663.patch", "merged_at": "2021-12-07T11:56:44Z"}, "body": "## Motivation\r\n\r\n`constant_init` and `normal_init` in mmcv can only initialize nn.Module with weight and bias.\r\n\r\n## Modification\r\n\r\nFix `init_weights` in both Swin and PVT\r\n\r\n## BC-breaking (Optional)\r\n\r\nNone\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6663/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6641", "id": 1067066261, "node_id": "I_kwDOCK7AWs4_miOV", "number": 6641, "title": "MMDet Tutorial not working on Colab", "user": {"login": "rogargon", "id": 1313870, "node_id": "MDQ6VXNlcjEzMTM4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1313870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rogargon", "html_url": "https://github.com/rogargon", "followers_url": "https://api.github.com/users/rogargon/followers", "following_url": "https://api.github.com/users/rogargon/following{/other_user}", "gists_url": "https://api.github.com/users/rogargon/gists{/gist_id}", "starred_url": "https://api.github.com/users/rogargon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rogargon/subscriptions", "organizations_url": "https://api.github.com/users/rogargon/orgs", "repos_url": "https://api.github.com/users/rogargon/repos", "events_url": "https://api.github.com/users/rogargon/events{/privacy}", "received_events_url": "https://api.github.com/users/rogargon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2021-11-30T10:33:00Z", "updated_at": "2022-03-06T09:35:04Z", "closed_at": "2022-03-06T09:35:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nMMDet Tutorial no working on Colab.\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\nFollowed the link to open the tutorial on Colab. Then tried to run the cells starting from the top. However, the cell that is checking mmcv installation fails with error:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-2-fad1b02c85b9> in <module>()\r\n      8 \r\n      9 # Check mmcv installation\r\n---> 10 from mmcv.ops import get_compiling_cuda_version\r\n     11 print(get_compiling_cuda_version())\r\n     12 print(get_compiler_version())\r\n\r\n3 frames\r\n/usr/lib/python3.7/importlib/__init__.py in import_module(name, package)\r\n    125                 break\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n    129 \r\n\r\nImportError: /usr/local/lib/python3.7/dist-packages/mmcv/_ext.cpython-37m-x86_64-linux-gnu.so: undefined symbol: _Z27points_in_boxes_cpu_forwardN2at6TensorES0_S0_\r\n---------------------------------------------------------------------------\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n \r\nThe issue might be related with Colab using now CUDA 11.1. Tried to use:\r\n```\r\n!pip install -U torch==1.8.1+cu111 torchvision==0.9.1+cu111 -f https://download.pytorch.org/whl/torch_stable.html\r\n ``` \r\nHowever, this didn't solve the issue.\r\n\r\n3. What dataset did you use?\r\n\r\nNone\r\n\r\n**Environment**\r\n\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2020 NVIDIA Corporation\r\nBuilt on Mon_Oct_12_20:09:46_PDT_2020\r\nCuda compilation tools, release 11.1, V11.1.105\r\nBuild cuda_11.1.TC455_06.29190527_0\r\ngcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nCopyright (C) 2017 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6625", "id": 1065807600, "node_id": "PR_kwDOCK7AWs4vHcSU", "number": 6625, "title": "[Fix]fix init when densehead contains dcn", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-29T09:34:18Z", "updated_at": "2021-12-02T07:01:17Z", "closed_at": "2021-12-02T07:01:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6625", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6625", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6625.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6625.patch", "merged_at": "2021-12-02T07:01:17Z"}, "body": "## Motivation\r\n\r\nWhen there is DCN in `DenseHead`, the zero initialization for `conv_offset` would be overwide.\r\n\r\n## Modification\r\n\r\nAdd specific process for `conv_offset` of DCN and DCNv2 in `BaseDenseHead`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6625/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6622", "id": 1065736446, "node_id": "PR_kwDOCK7AWs4vHNzP", "number": 6622, "title": "[Fix]fix pseudosampler", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-29T08:18:04Z", "updated_at": "2021-12-02T07:04:00Z", "closed_at": "2021-12-02T07:03:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6622", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6622", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6622.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6622.patch", "merged_at": "2021-12-02T07:03:59Z"}, "body": "## Motivation\r\n\r\nThe interface of `PseudoSampler` is not consistent with other samplers(do not `gt_labels` ), which causes the error when combining it with RCNN.\r\n\r\nhttps://github.com/open-mmlab/mmdetection/blob/a7a16afbf2a4bdb4d023094da73d325cb864838b/mmdet/models/roi_heads/standard_roi_head.py#L93\r\n\r\n\r\n## Modification\r\n\r\nAdd `*args` to the interface\r\n\r\n## BC-breaking (Optional)\r\n\r\nNone", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6622/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6595", "id": 1064118008, "node_id": "I_kwDOCK7AWs4_bSb4", "number": 6595, "title": "subprocess.CalledProcessError: Command\uff0c\uff0c\uff0c\uff0c\uff0c\uff0c\uff0c\uff0c\uff0c returned non-zero exit status 1", "user": {"login": "Williamlizl", "id": 24259779, "node_id": "MDQ6VXNlcjI0MjU5Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/24259779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Williamlizl", "html_url": "https://github.com/Williamlizl", "followers_url": "https://api.github.com/users/Williamlizl/followers", "following_url": "https://api.github.com/users/Williamlizl/following{/other_user}", "gists_url": "https://api.github.com/users/Williamlizl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Williamlizl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Williamlizl/subscriptions", "organizations_url": "https://api.github.com/users/Williamlizl/orgs", "repos_url": "https://api.github.com/users/Williamlizl/repos", "events_url": "https://api.github.com/users/Williamlizl/events{/privacy}", "received_events_url": "https://api.github.com/users/Williamlizl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-11-26T05:33:24Z", "updated_at": "2021-12-23T02:34:26Z", "closed_at": "2021-12-23T02:34:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "`Traceback (most recent call last):\r\n  File \"./tools/train.py\", line 189, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 121, in main\r\n    init_dist(args.launcher, **cfg.dist_params)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 18, in init_dist\r\n    _init_dist_pytorch(backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 32, in _init_dist_pytorch\r\n    dist.init_process_group(backend=backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 455, in init_process_group\r\n    barrier()\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 1960, in barrier\r\n    work = _default_pg.barrier()\r\nRuntimeError: CUDA error: unknown error\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 189, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 121, in main\r\n    init_dist(args.launcher, **cfg.dist_params)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 18, in init_dist\r\n    _init_dist_pytorch(backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 32, in _init_dist_pytorch\r\n    dist.init_process_group(backend=backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 455, in init_process_group\r\n    barrier()\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 1960, in barrier\r\n    work = _default_pg.barrier()\r\nRuntimeError: CUDA error: unknown error\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 189, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 121, in main\r\n    init_dist(args.launcher, **cfg.dist_params)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 18, in init_dist\r\n    _init_dist_pytorch(backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 32, in _init_dist_pytorch\r\n    dist.init_process_group(backend=backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 455, in init_process_group\r\n    barrier()\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 1960, in barrier\r\n    work = _default_pg.barrier()\r\nRuntimeError: CUDA error: unknown error\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 189, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 121, in main\r\n    init_dist(args.launcher, **cfg.dist_params)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 18, in init_dist\r\n    _init_dist_pytorch(backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/mmcv/runner/dist_utils.py\", line 32, in _init_dist_pytorch\r\n    dist.init_process_group(backend=backend, **kwargs)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 455, in init_process_group\r\n    barrier()\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 1960, in barrier\r\n    work = _default_pg.barrier()\r\nRuntimeError: CUDA error: unknown error\r\nTraceback (most recent call last):\r\n  File \"/home/lbc/yes/envs/openmmlab/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/lbc/yes/envs/openmmlab/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/launch.py\", line 260, in <module>\r\n    main()\r\n  File \"/home/lbc/.local/lib/python3.7/site-packages/torch/distributed/launch.py\", line 256, in main\r\n    cmd=cmd)\r\nsubprocess.CalledProcessError: Command '['/home/lbc/yes/envs/openmmlab/bin/python3.7', '-u', './tools/train.py', '--local_rank=3', 'configs/deformable_detr/deformable_detr_twostage_refine_r50_16x2_50e_coco.py', '--launcher', 'pytorch', '--resume-from', './work_dirs/deformable_detr_twostage_refine_r50_16x2_50e_coco/latest.pth']' returned non-zero exit status 1.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6574", "id": 1061935614, "node_id": "PR_kwDOCK7AWs4u8MkY", "number": 6574, "title": "Fix SSD512 config error", "user": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-24T02:40:40Z", "updated_at": "2022-03-19T05:23:58Z", "closed_at": "2021-11-24T07:02:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6574", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6574", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6574.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6574.patch", "merged_at": "2021-11-24T07:02:40Z"}, "body": "## Motivation\r\n\r\n`assert len(featmap_sizes) == self.prior_generator.num_levels` failed.\r\n\r\n## Modification\r\n\r\nUse the correct `ssd512 neck` configuration.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6574/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6555", "id": 1059290483, "node_id": "I_kwDOCK7AWs4_I31z", "number": 6555, "title": "Bug crash when \"sampler\" is not in `train_cfg`", "user": {"login": "qingswu", "id": 2965834, "node_id": "MDQ6VXNlcjI5NjU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2965834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qingswu", "html_url": "https://github.com/qingswu", "followers_url": "https://api.github.com/users/qingswu/followers", "following_url": "https://api.github.com/users/qingswu/following{/other_user}", "gists_url": "https://api.github.com/users/qingswu/gists{/gist_id}", "starred_url": "https://api.github.com/users/qingswu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qingswu/subscriptions", "organizations_url": "https://api.github.com/users/qingswu/orgs", "repos_url": "https://api.github.com/users/qingswu/repos", "events_url": "https://api.github.com/users/qingswu/events{/privacy}", "received_events_url": "https://api.github.com/users/qingswu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-11-21T04:40:39Z", "updated_at": "2021-11-24T06:12:57Z", "closed_at": "2021-11-24T06:12:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/a7a16afbf2a4bdb4d023094da73d325cb864838b/mmdet/models/dense_heads/anchor_head.py#L84\r\n\r\nAfter recent commits, even `'sampler'` is not in `train_cfg`, the first `hasattr` condition will always be met for an `addict.Dict` (and `train_cfg.sampler` will be an empty dict `{}`, and it will crash on calling `self.train_cfg.sampler.type`.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6501", "id": 1053179342, "node_id": "PR_kwDOCK7AWs4ughMo", "number": 6501, "title": "[Fix] Avoid infinite GPU waiting in dist training", "user": {"login": "fingertap", "id": 7274689, "node_id": "MDQ6VXNlcjcyNzQ2ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/7274689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fingertap", "html_url": "https://github.com/fingertap", "followers_url": "https://api.github.com/users/fingertap/followers", "following_url": "https://api.github.com/users/fingertap/following{/other_user}", "gists_url": "https://api.github.com/users/fingertap/gists{/gist_id}", "starred_url": "https://api.github.com/users/fingertap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fingertap/subscriptions", "organizations_url": "https://api.github.com/users/fingertap/orgs", "repos_url": "https://api.github.com/users/fingertap/repos", "events_url": "https://api.github.com/users/fingertap/events{/privacy}", "received_events_url": "https://api.github.com/users/fingertap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-11-15T03:44:47Z", "updated_at": "2023-03-31T09:42:39Z", "closed_at": "2021-11-24T07:10:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6501", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6501", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6501.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6501.patch", "merged_at": "2021-11-24T07:10:42Z"}, "body": "See #6495 for details. Here I just add an assertion before reducing the log_vars to ensure every GPU has the same length of log_vars to prevent infinite waiting.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6501/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6495", "id": 1052529762, "node_id": "I_kwDOCK7AWs4-vFRi", "number": 6495, "title": "Distributed training will hang if log_vars has different length among GPUs", "user": {"login": "fingertap", "id": 7274689, "node_id": "MDQ6VXNlcjcyNzQ2ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/7274689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fingertap", "html_url": "https://github.com/fingertap", "followers_url": "https://api.github.com/users/fingertap/followers", "following_url": "https://api.github.com/users/fingertap/following{/other_user}", "gists_url": "https://api.github.com/users/fingertap/gists{/gist_id}", "starred_url": "https://api.github.com/users/fingertap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fingertap/subscriptions", "organizations_url": "https://api.github.com/users/fingertap/orgs", "repos_url": "https://api.github.com/users/fingertap/repos", "events_url": "https://api.github.com/users/fingertap/events{/privacy}", "received_events_url": "https://api.github.com/users/fingertap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-11-13T03:15:34Z", "updated_at": "2021-12-29T01:35:11Z", "closed_at": "2021-12-29T01:35:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Similar to the [issue in mmseg](https://github.com/open-mmlab/mmsegmentation/issues/1030). Here I just quote:\r\n\r\n> In the `_parse_log` function of the `mmseg.segmentors.base.BaseSegmentor`, it attempts to synchronize the loss values among all GPUs. What happened is that in this loop ([line 194](https://github.com/open-mmlab/mmsegmentation/blob/master/mmseg/models/segmentors/base.py#L194)):\r\n>\r\n> ```python\r\n> for loss_name, loss_value in log_vars.items():\r\n>    # reduce loss when distributed training\r\n>    if dist.is_available() and dist.is_initialized():\r\n>        loss_value = loss_value.data.clone()\r\n>        dist.all_reduce(loss_value.div_(dist.get_world_size()))\r\n>    log_vars[loss_name] = loss_value.item()\r\n>```\r\n>\r\n>One GPU A does not have a `\"roi_acc\"` as `loss_name` (suppose it is the last key in `log_vars`). Then this GPU A thinks it has done all its work, and jump out of the loop. Other GPUs with the last `\"roi_acc\"` will try to call `torch.distributed.all_reduce`, which infinitely waits for the reply from GPU A.\r\n\r\nThis bug is hard to debug, as it just gets blocked without error messages.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6488", "id": 1051566356, "node_id": "PR_kwDOCK7AWs4ub7gg", "number": 6488, "title": "[Fix] Fix SpatialReductionAttention in PVT.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-12T04:11:14Z", "updated_at": "2022-01-13T08:16:34Z", "closed_at": "2021-11-15T11:08:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6488", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6488", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6488.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6488.patch", "merged_at": "2021-11-15T11:08:51Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nThe latest MMCV(v1.3.17) include a commit https://github.com/open-mmlab/mmcv/pull/1418, which break the compatibility of `SpatialReductionAttention` in PVT.\r\n\r\n## Modification\r\n\r\nChange the forward of SpatialReductionAttention and add a legacy_forward.\r\n\r\nHandle the mmcv version by this:\r\n\r\n```python\r\n  # handle the BC-breaking from https://github.com/open-mmlab/mmcv/pull/1418 # noqa\r\n  from mmdet import mmcv_version, digit_version\r\n  if mmcv_version < digit_version('1.3.17'):\r\n      self.forward = self.legacy_forward\r\n\r\n```\r\n\r\n## BC-breaking (Optional)\r\n\r\nNone\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6488/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6482", "id": 1050523672, "node_id": "PR_kwDOCK7AWs4uYi9c", "number": 6482, "title": "Catch symlink failure on Windows", "user": {"login": "del-zhenwu", "id": 56623710, "node_id": "MDQ6VXNlcjU2NjIzNzEw", "avatar_url": "https://avatars.githubusercontent.com/u/56623710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/del-zhenwu", "html_url": "https://github.com/del-zhenwu", "followers_url": "https://api.github.com/users/del-zhenwu/followers", "following_url": "https://api.github.com/users/del-zhenwu/following{/other_user}", "gists_url": "https://api.github.com/users/del-zhenwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/del-zhenwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/del-zhenwu/subscriptions", "organizations_url": "https://api.github.com/users/del-zhenwu/orgs", "repos_url": "https://api.github.com/users/del-zhenwu/repos", "events_url": "https://api.github.com/users/del-zhenwu/events{/privacy}", "received_events_url": "https://api.github.com/users/del-zhenwu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-11-11T03:05:51Z", "updated_at": "2021-11-24T07:05:40Z", "closed_at": "2021-11-24T07:05:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6482", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6482", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6482.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6482.patch", "merged_at": "2021-11-24T07:05:40Z"}, "body": "Signed-off-by: del-zhenwu <dele.zhenwu@gmail.com>\r\n\r\nThanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nFix #6480\r\n## Modification\r\nTry to catch the exception raised by `os.symlink` on Windows\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6482/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6432", "id": 1043050238, "node_id": "PR_kwDOCK7AWs4uA6rd", "number": 6432, "title": "[BugFixed] fix wrong trunc_normal_init use", "user": {"login": "vealocia", "id": 45201863, "node_id": "MDQ6VXNlcjQ1MjAxODYz", "avatar_url": "https://avatars.githubusercontent.com/u/45201863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vealocia", "html_url": "https://github.com/vealocia", "followers_url": "https://api.github.com/users/vealocia/followers", "following_url": "https://api.github.com/users/vealocia/following{/other_user}", "gists_url": "https://api.github.com/users/vealocia/gists{/gist_id}", "starred_url": "https://api.github.com/users/vealocia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vealocia/subscriptions", "organizations_url": "https://api.github.com/users/vealocia/orgs", "repos_url": "https://api.github.com/users/vealocia/repos", "events_url": "https://api.github.com/users/vealocia/events{/privacy}", "received_events_url": "https://api.github.com/users/vealocia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-03T03:31:44Z", "updated_at": "2021-12-02T04:02:31Z", "closed_at": "2021-11-08T12:32:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6432", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6432", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6432.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6432.patch", "merged_at": "2021-11-08T12:32:55Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nImplementation of SwinTransformer and PVT use trunc_normal_init incorrectly which may decrease the performance when training from scratch.\r\n\r\n## Modification\r\n\r\nThe use of trunc_normal_init of SwinTransformer and PVT\r\n\r\n## Checklist\r\n\r\n- [x] Pre-commit or other linting tools are used to fix the potential lint issues.\r\n- [x] The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n- [x] If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n- [x] The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6432/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6416", "id": 1040448256, "node_id": "I_kwDOCK7AWs4-A_sA", "number": 6416, "title": "weight here will lead to zero loss in the dice loss", "user": {"login": "Boyden", "id": 17848474, "node_id": "MDQ6VXNlcjE3ODQ4NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/17848474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Boyden", "html_url": "https://github.com/Boyden", "followers_url": "https://api.github.com/users/Boyden/followers", "following_url": "https://api.github.com/users/Boyden/following{/other_user}", "gists_url": "https://api.github.com/users/Boyden/gists{/gist_id}", "starred_url": "https://api.github.com/users/Boyden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Boyden/subscriptions", "organizations_url": "https://api.github.com/users/Boyden/orgs", "repos_url": "https://api.github.com/users/Boyden/repos", "events_url": "https://api.github.com/users/Boyden/events{/privacy}", "received_events_url": "https://api.github.com/users/Boyden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699763, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYz", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-31T11:48:37Z", "updated_at": "2023-02-07T03:54:56Z", "closed_at": "2023-02-07T03:54:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/db256a14bb7018ad36eed104ea0ce178a0d4050c/mmdet/models/losses/utils.py#L43\r\nIn the `mmdet.models.roi_heads.mask_heads.fcn_mask_head.py#L173`, the weight was initialized to zeros using `torch.zeros_like(labels)`. \r\n\r\nIt will lead to zero loss when call `loss = weight_reduce_loss(loss, weight, reduction, avg_factor).` in the `mmdet.models.losses.dice_loss.py#L44`\r\n\r\nI suggest that add \r\n```python\r\n    if weight.sum() == 0:\r\n        weight = torch.ones_like(weight)\r\n    else:\r\n        weight = weight/weight.sum()\r\n```\r\nbefore call `mmdet.models.losses.dice_loss.py#L44` ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6371", "id": 1035198157, "node_id": "I_kwDOCK7AWs49s97N", "number": 6371, "title": "Upsample error", "user": {"login": "Boyden", "id": 17848474, "node_id": "MDQ6VXNlcjE3ODQ4NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/17848474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Boyden", "html_url": "https://github.com/Boyden", "followers_url": "https://api.github.com/users/Boyden/followers", "following_url": "https://api.github.com/users/Boyden/following{/other_user}", "gists_url": "https://api.github.com/users/Boyden/gists{/gist_id}", "starred_url": "https://api.github.com/users/Boyden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Boyden/subscriptions", "organizations_url": "https://api.github.com/users/Boyden/orgs", "repos_url": "https://api.github.com/users/Boyden/repos", "events_url": "https://api.github.com/users/Boyden/events{/privacy}", "received_events_url": "https://api.github.com/users/Boyden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-10-25T14:18:19Z", "updated_at": "2021-11-01T03:50:44Z", "closed_at": "2021-11-01T03:50:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/d145b0eab083eb6f2004ca37d704536cec882d16/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py#L124\r\nThe upsample cfg in the FCNMaskHead supports the bilinear and nearest upsample type. However, in the L124, using bilinear or nearest upsample methods will cause the error `AttributeError: 'Upsample' object has no attribute 'weight'` due to no weight in the torch.nn.Upsample object.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6318", "id": 1030035586, "node_id": "I_kwDOCK7AWs49ZRiC", "number": 6318, "title": "error in tools/test.py", "user": {"login": "Chop1", "id": 22441193, "node_id": "MDQ6VXNlcjIyNDQxMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/22441193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chop1", "html_url": "https://github.com/Chop1", "followers_url": "https://api.github.com/users/Chop1/followers", "following_url": "https://api.github.com/users/Chop1/following{/other_user}", "gists_url": "https://api.github.com/users/Chop1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chop1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chop1/subscriptions", "organizations_url": "https://api.github.com/users/Chop1/orgs", "repos_url": "https://api.github.com/users/Chop1/repos", "events_url": "https://api.github.com/users/Chop1/events{/privacy}", "received_events_url": "https://api.github.com/users/Chop1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-19T08:53:24Z", "updated_at": "2021-11-04T06:20:29Z", "closed_at": "2021-11-04T06:20:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "In tools/test.py, when using the --show-dir option, their is an error in mmdet/apis/test.py.\r\n\r\nline 49, img_meta['ori_filename'] is an invalide key.\r\n\r\nA workaround:\r\n\r\n```python\r\n                if out_dir:\r\n                    #out_file = osp.join(out_dir, img_meta['ori_filename'])\r\n                    out_file = osp.join(out_dir, img_metas[0][\"filename\"].split(\"/\")[-1])\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6317", "id": 1029997948, "node_id": "PR_kwDOCK7AWs4tXp3J", "number": 6317, "title": "[Fix]: Remove sampling hardcode.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-19T08:15:14Z", "updated_at": "2022-01-13T08:16:23Z", "closed_at": "2021-10-25T04:04:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6317", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6317", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6317.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6317.patch", "merged_at": "2021-10-25T04:04:56Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nRemove hardcode of determining sampling by loss type. \r\n\r\nResolve #5717 [Bug]: Can not using custom loss when determine sampling by loss type.\r\n\r\n## Modification\r\n\r\nSampling or not is determined by `sampler` in `train_cfg` now. \r\n\r\nIf there is no `sampler` or setting `PseudoSampler` in train_cfg, sampling will be False, otherwise, be True.\r\n\r\nAnd to avoid BC-breaking, when `sampler` is set in `train_cfg`, we still keep the loss type logic and raise a warning. These codes will be removed after several versions.\r\n\r\n## BC-breaking (Optional)\r\n\r\nYes. sampling will not be determined by loss type in the future.\r\n\r\nNeed to check backward compatibility.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6317/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6293", "id": 1027928808, "node_id": "PR_kwDOCK7AWs4tRj-6", "number": 6293, "title": "randomaffine bbox coordinate recorrection", "user": {"login": "DapangpangX", "id": 40031552, "node_id": "MDQ6VXNlcjQwMDMxNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/40031552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DapangpangX", "html_url": "https://github.com/DapangpangX", "followers_url": "https://api.github.com/users/DapangpangX/followers", "following_url": "https://api.github.com/users/DapangpangX/following{/other_user}", "gists_url": "https://api.github.com/users/DapangpangX/gists{/gist_id}", "starred_url": "https://api.github.com/users/DapangpangX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DapangpangX/subscriptions", "organizations_url": "https://api.github.com/users/DapangpangX/orgs", "repos_url": "https://api.github.com/users/DapangpangX/repos", "events_url": "https://api.github.com/users/DapangpangX/events{/privacy}", "received_events_url": "https://api.github.com/users/DapangpangX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-10-16T02:32:48Z", "updated_at": "2023-03-31T09:12:57Z", "closed_at": "2021-10-25T03:07:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6293", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6293", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6293.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6293.patch", "merged_at": "2021-10-25T03:07:13Z"}, "body": "Thanks for your contribution and we appreciate it a lot. The following instructions would make your pull request more healthy and more easily get feedback. If you do not understand some items, don't worry, just make the pull request and seek help from maintainers.\r\n\r\n## Motivation\r\n\r\nPlease describe the motivation of this PR and the goal you want to achieve through this PR.\r\n\r\n## Modification\r\n\r\nPlease briefly describe what modification is made in this PR.\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6293/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6279", "id": 1026056088, "node_id": "PR_kwDOCK7AWs4tLymV", "number": 6279, "title": "[BUG]fix init of convfc head", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-14T07:25:46Z", "updated_at": "2021-10-20T05:23:06Z", "closed_at": "2021-10-20T05:23:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/6279", "html_url": "https://github.com/open-mmlab/mmdetection/pull/6279", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/6279.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/6279.patch", "merged_at": "2021-10-20T05:23:06Z"}, "body": "# Motivation\r\nhttps://github.com/open-mmlab/mmdetection/blob/c88509cb9a73d6bd1edcba64eb924d3cf3cfe85d/mmdet/models/roi_heads/bbox_heads/convfc_bbox_head.py#L103\r\n\r\nThis line will override initializers for fc_cls and fc_reg because they are also `nn.Linear`. \r\nwhich is not consistent with the old way to initialize `fc_cls` and `fc_reg` before #4750.\r\n\r\nCloses #6238 \r\n\r\n# BC breaking\r\nNone", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6279/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6265", "id": 1023890439, "node_id": "I_kwDOCK7AWs49B1QH", "number": 6265, "title": "ERROR - The testing results of the whole dataset is empty - YOLOX and COCO", "user": {"login": "tikitong", "id": 86666280, "node_id": "MDQ6VXNlcjg2NjY2Mjgw", "avatar_url": "https://avatars.githubusercontent.com/u/86666280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tikitong", "html_url": "https://github.com/tikitong", "followers_url": "https://api.github.com/users/tikitong/followers", "following_url": "https://api.github.com/users/tikitong/following{/other_user}", "gists_url": "https://api.github.com/users/tikitong/gists{/gist_id}", "starred_url": "https://api.github.com/users/tikitong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tikitong/subscriptions", "organizations_url": "https://api.github.com/users/tikitong/orgs", "repos_url": "https://api.github.com/users/tikitong/repos", "events_url": "https://api.github.com/users/tikitong/events{/privacy}", "received_events_url": "https://api.github.com/users/tikitong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-10-12T14:26:17Z", "updated_at": "2022-02-10T02:29:16Z", "closed_at": "2021-11-15T06:38:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I have searched related issues but cannot get the expected help.\r\n- [x] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n\r\n**The evaluation of the results does not take place**. It seems that it can come from here:  \r\n`evaluation = dict(interval=1, metric='bbox', classwise=True)`\r\n\r\nAn error is also raised when I set the save_best argument like this:\r\n`evaluation = dict(interval=1, classwise=True, metric='bbox', save_best='bbox_mAP')`\r\n```python\r\n...\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 189, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 185, in main\r\n    meta=meta)\r\n  File \"/home/tiki/mmdetection/mmdet/apis/train.py\", line 174, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/home/tiki/.conda/envs/new/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 127, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/tiki/.conda/envs/new/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 54, in train\r\n    self.call_hook('after_train_epoch')\r\n  File \"/home/tiki/.conda/envs/new/lib/python3.7/site-packages/mmcv/runner/base_runner.py\", line 307, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/home/tiki/.conda/envs/new/lib/python3.7/site-packages/mmcv/runner/hooks/evaluation.py\", line 237, in after_train_epoch\r\n    self._do_evaluate(runner)\r\n  File \"/home/tiki/mmdetection/mmdet/core/evaluation/eval_hooks.py\", line 20, in _do_evaluate\r\n    key_score = self.evaluate(runner, results)\r\n  File \"/home/tiki/.conda/envs/new/lib/python3.7/site-packages/mmcv/runner/hooks/evaluation.py\", line 334, in evaluate\r\n    return eval_res[self.key_indicator]\r\nKeyError: 'bbox_mAP'\r\n```\r\nI'm using the same dataset with the same annotations in COCO format for models like VFNET and Faster-RCNN and it works fine. I don't see the error in my setting for YOLOX, do you have an idea? Thanks a lot!\r\n\r\n```\r\nRunning python script...\r\n2021-10-12 17:02:39,537 - mmdet - INFO - Environment info:\r\n------------------------------------------------------------\r\nsys.platform: linux\r\nPython: 3.7.11 (default, Jul 27 2021, 14:32:16) [GCC 7.5.0]\r\nCUDA available: True\r\nGPU 0: NVIDIA Tesla V100-SXM2-32GB\r\nCUDA_HOME: None\r\nGCC: gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44)\r\nPyTorch: 1.9.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.2 Product Build 20200624 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.1.2 (Git Hash 98be7e8afa711dc9b66c8ff3504129cb82013cdb)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.2.1\r\nOpenCV: 4.5.3\r\nMMCV: 1.3.13\r\nMMCV Compiler: GCC 10.2\r\nMMCV CUDA Compiler: 11.1\r\nMMDetection: 2.16.0+b1f97c1\r\n------------------------------------------------------------\r\n\r\n2021-10-12 17:02:39,885 - mmdet - INFO - Distributed training: False\r\n2021-10-12 17:02:40,103 - mmdet - INFO - Config:\r\noptimizer = dict(\r\n    type='SGD',\r\n    lr=0.00125,\r\n    momentum=0.9,\r\n    weight_decay=0.0005,\r\n    nesterov=True,\r\n    paramwise_cfg=dict(norm_decay_mult=0.0, bias_decay_mult=0.0))\r\noptimizer_config = dict(grad_clip=dict(max_norm=35, norm_type=2))\r\nlr_config = dict(\r\n    policy='YOLOX',\r\n    warmup='exp',\r\n    by_epoch=False,\r\n    warmup_by_epoch=True,\r\n    warmup_ratio=1,\r\n    warmup_iters=5,\r\n    num_last_epochs=15,\r\n    min_lr_ratio=0.05)\r\nrunner = dict(type='EpochBasedRunner', max_epochs=120)\r\ncheckpoint_config = None\r\nlog_config = dict(interval=50, hooks=[dict(type='TextLoggerHook')])\r\ncustom_hooks = [\r\n    dict(type='YOLOXModeSwitchHook', num_last_epochs=15, priority=48),\r\n    dict(\r\n        type='SyncRandomSizeHook',\r\n        ratio_range=(10, 20),\r\n        img_scale=(640, 640),\r\n        interval=10,\r\n        priority=48),\r\n    dict(type='SyncNormHook', num_last_epochs=15, interval=10, priority=48),\r\n    dict(type='ExpMomentumEMAHook', resume_from=None, priority=49)\r\n]\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nload_from = 'weight/yolox_tiny_8x8_300e_coco_20210806_234250-4ff3b67e.pth'\r\nresume_from = None\r\nworkflow = [('train', 1)]\r\nmodel = dict(\r\n    type='YOLOX',\r\n    backbone=dict(type='CSPDarknet', deepen_factor=0.33, widen_factor=0.375),\r\n    neck=dict(\r\n        type='YOLOXPAFPN',\r\n        in_channels=[96, 192, 384],\r\n        out_channels=96,\r\n        num_csp_blocks=1),\r\n    bbox_head=dict(\r\n        type='YOLOXHead', num_classes=3, in_channels=96, feat_channels=96),\r\n    train_cfg=dict(assigner=dict(type='SimOTAAssigner', center_radius=2.5)),\r\n    test_cfg=dict(score_thr=0.01, nms=dict(type='nms', iou_threshold=0.65)))\r\ndata_root = 'mainset107'\r\ndataset_type = 'CocoDataset'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\nimg_scale = (640, 640)\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='Resize', img_scale=(640, 640), keep_ratio=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(\r\n        type='RandomAffine', max_rotate_degree=180.0,\r\n        max_translate_ratio=0.25),\r\n    dict(\r\n        type='Normalize',\r\n        mean=[123.675, 116.28, 103.53],\r\n        std=[58.395, 57.12, 57.375],\r\n        to_rgb=True),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n]\r\ntrain_dataset = dict(\r\n    type='MultiImageMixDataset',\r\n    dataset=dict(\r\n        type='CocoDataset',\r\n        ann_file='mainset107/set/train.json',\r\n        img_prefix='mainset107/image',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile', to_float32=True),\r\n            dict(type='LoadAnnotations', with_bbox=True)\r\n        ],\r\n        filter_empty_gt=False),\r\n    pipeline=[\r\n        dict(type='LoadImageFromFile'),\r\n        dict(type='LoadAnnotations', with_bbox=True),\r\n        dict(type='Resize', img_scale=(640, 640), keep_ratio=True),\r\n        dict(type='RandomFlip', flip_ratio=0.5),\r\n        dict(\r\n            type='RandomAffine',\r\n            max_rotate_degree=180.0,\r\n            max_translate_ratio=0.25),\r\n        dict(\r\n            type='Normalize',\r\n            mean=[123.675, 116.28, 103.53],\r\n            std=[58.395, 57.12, 57.375],\r\n            to_rgb=True),\r\n        dict(type='DefaultFormatBundle'),\r\n        dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n    ],\r\n    dynamic_scale=(640, 640))\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(640, 640),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(\r\n                type='Normalize',\r\n                mean=[123.675, 116.28, 103.53],\r\n                std=[58.395, 57.12, 57.375],\r\n                to_rgb=True),\r\n            dict(type='DefaultFormatBundle'),\r\n            dict(type='Collect', keys=['img'])\r\n        ])\r\n]\r\ndata = dict(\r\n    samples_per_gpu=8,\r\n    workers_per_gpu=2,\r\n    train=dict(\r\n        type='MultiImageMixDataset',\r\n        dataset=dict(\r\n            type='CocoDataset',\r\n            ann_file='mainset107/set/train.json',\r\n            img_prefix='mainset107/image',\r\n            pipeline=[\r\n                dict(type='LoadImageFromFile', to_float32=True),\r\n                dict(type='LoadAnnotations', with_bbox=True)\r\n            ],\r\n            filter_empty_gt=False),\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(type='LoadAnnotations', with_bbox=True),\r\n            dict(type='Resize', img_scale=(640, 640), keep_ratio=True),\r\n            dict(type='RandomFlip', flip_ratio=0.5),\r\n            dict(\r\n                type='RandomAffine',\r\n                max_rotate_degree=180.0,\r\n                max_translate_ratio=0.25),\r\n            dict(\r\n                type='Normalize',\r\n                mean=[123.675, 116.28, 103.53],\r\n                std=[58.395, 57.12, 57.375],\r\n                to_rgb=True),\r\n            dict(type='DefaultFormatBundle'),\r\n            dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n        ],\r\n        dynamic_scale=(640, 640)),\r\n    val=dict(\r\n        type='CocoDataset',\r\n        ann_file='mainset107/set/val.json',\r\n        img_prefix='mainset107/image',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(640, 640),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='DefaultFormatBundle'),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ]),\r\n    test=dict(\r\n        type='CocoDataset',\r\n        ann_file='mainset107/set/val.json',\r\n        img_prefix='mainset107/image',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(640, 640),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='DefaultFormatBundle'),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ]))\r\ninterval = 10\r\nevaluation = dict(interval=1, metric='bbox', classwise=True)\r\nclasses = ('circle', 'triangle', 'rectangle')\r\ntotal_epochs = 120\r\nseed = 0\r\ngpu_ids = range(0, 1)\r\nwork_dir = './work_dirs/yolox'\r\n\r\n2021-10-12 17:02:40,544 - mmdet - INFO - initialize CSPDarknet with init_cfg {'type': 'Kaiming', 'layer': 'Conv2d', 'a': 2.23606797749979, 'distribution': 'uniform', 'mode': 'fan_in', 'nonlinearity': 'leaky_relu'}\r\n2021-10-12 17:02:40,565 - mmdet - INFO - initialize YOLOXPAFPN with init_cfg {'type': 'Kaiming', 'layer': 'Conv2d', 'a': 2.23606797749979, 'distribution': 'uniform', 'mode': 'fan_in', 'nonlinearity': 'leaky_relu'}\r\n2021-10-12 17:02:40,580 - mmdet - INFO - initialize YOLOXHead with init_cfg {'type': 'Kaiming', 'layer': 'Conv2d', 'a': 2.23606797749979, 'distribution': 'uniform', 'mode': 'fan_in', 'nonlinearity': 'leaky_relu'}\r\n2021-10-12 17:02:43,759 - mmdet - INFO - load checkpoint from weight/yolox_tiny_8x8_300e_coco_20210806_234250-4ff3b67e.pth\r\n2021-10-12 17:02:43,759 - mmdet - INFO - Use load_from_local loader\r\n2021-10-12 17:02:44,396 - mmdet - WARNING - The model and loaded state dict do not match exactly\r\n\r\nsize mismatch for bbox_head.multi_level_conv_cls.0.weight: copying a param with shape torch.Size([80, 96, 1, 1]) from checkpoint, the shape in current model is torch.Size([3, 96, 1, 1]).\r\nsize mismatch for bbox_head.multi_level_conv_cls.0.bias: copying a param with shape torch.Size([80]) from checkpoint, the shape in current model is torch.Size([3]).\r\nsize mismatch for bbox_head.multi_level_conv_cls.1.weight: copying a param with shape torch.Size([80, 96, 1, 1]) from checkpoint, the shape in current model is torch.Size([3, 96, 1, 1]).\r\nsize mismatch for bbox_head.multi_level_conv_cls.1.bias: copying a param with shape torch.Size([80]) from checkpoint, the shape in current model is torch.Size([3]).\r\nsize mismatch for bbox_head.multi_level_conv_cls.2.weight: copying a param with shape torch.Size([80, 96, 1, 1]) from checkpoint, the shape in current model is torch.Size([3, 96, 1, 1]).\r\nsize mismatch for bbox_head.multi_level_conv_cls.2.bias: copying a param with shape torch.Size([80]) from checkpoint, the shape in current model is torch.Size([3]).\r\n2021-10-12 17:02:44,397 - mmdet - INFO - Start running, host: tiki@gpu609-03, work_dir: /home/tiki/mmdetection/work_dirs/yolox\r\n2021-10-12 17:02:44,397 - mmdet - INFO - Hooks will be executed in the following order:\r\nbefore_run:\r\n(VERY_HIGH   ) YOLOXLrUpdaterHook                 \r\n(49          ) ExpMomentumEMAHook                 \r\n(LOW         ) EvalHook                           \r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\nbefore_train_epoch:\r\n(VERY_HIGH   ) YOLOXLrUpdaterHook                 \r\n(48          ) YOLOXModeSwitchHook                \r\n(48          ) SyncNormHook                       \r\n(49          ) ExpMomentumEMAHook                 \r\n(LOW         ) IterTimerHook                      \r\n(LOW         ) EvalHook                           \r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\nbefore_train_iter:\r\n(VERY_HIGH   ) YOLOXLrUpdaterHook                 \r\n(LOW         ) IterTimerHook                      \r\n(LOW         ) EvalHook                           \r\n -------------------- \r\nafter_train_iter:\r\n(ABOVE_NORMAL) OptimizerHook                      \r\n(48          ) SyncRandomSizeHook                 \r\n(49          ) ExpMomentumEMAHook                 \r\n(LOW         ) IterTimerHook                      \r\n(LOW         ) EvalHook                           \r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\nafter_train_epoch:\r\n(48          ) SyncNormHook                       \r\n(49          ) ExpMomentumEMAHook                 \r\n(LOW         ) EvalHook                           \r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\nbefore_val_epoch:\r\n(LOW         ) IterTimerHook                      \r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\nbefore_val_iter:\r\n(LOW         ) IterTimerHook                      \r\n -------------------- \r\nafter_val_iter:\r\n(LOW         ) IterTimerHook                      \r\n -------------------- \r\nafter_val_epoch:\r\n(VERY_LOW    ) TextLoggerHook                     \r\n -------------------- \r\n2021-10-12 17:02:44,397 - mmdet - INFO - workflow: [('train', 1)], max: 120 epochs\r\nloading annotations into memory...\r\nDone (t=0.02s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.01s)\r\ncreating index...\r\nindex created!\r\n/home/tiki/.conda/envs/new/lib/python3.7/site-packages/torch/nn/functional.py:718: UserWarning: Named tensors and all their associated APIs are an experimental feature and subject to change. Please do not use them for anything important until they are released as stable. (Triggered internally at  /opt/conda/conda-bld/pytorch_1623448265233/work/c10/core/TensorImpl.h:1156.)\r\n  return torch.max_pool2d(input, kernel_size, stride, padding, dilation, ceil_mode)\r\n2021-10-12 17:03:30,246 - mmdet - INFO - Epoch [1][50/157]\tlr: 5.071e-06, eta: 4:46:53, time: 0.916, data_time: 0.725, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 123.8029, loss: 123.8029, grad_norm: 6465.0170\r\n2021-10-12 17:04:13,861 - mmdet - INFO - Epoch [1][100/157]\tlr: 2.028e-05, eta: 4:39:17, time: 0.872, data_time: 0.700, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 38.6317, loss: 38.6317, grad_norm: 2347.8628\r\n2021-10-12 17:04:57,390 - mmdet - INFO - Epoch [1][150/157]\tlr: 4.564e-05, eta: 4:36:05, time: 0.871, data_time: 0.697, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 3.5303, loss: 3.5303, grad_norm: 104.8619\r\n[                                                  ] 0/538, elapsed: 0s, ETA:\r\n[                                 ] 1/538, 2.7 task/s, elapsed: 0s, ETA:   202s\r\n[                                 ] 2/538, 4.9 task/s, elapsed: 0s, ETA:   110s\r\n[                                 ] 3/538, 6.4 task/s, elapsed: 0s, ETA:    83s\r\n[                                 ] 4/538, 8.2 task/s, elapsed: 0s, ETA:    65s\r\n[                                 ] 5/538, 8.9 task/s, elapsed: 1s, ETA:    60s\r\n[                                ] 6/538, 10.2 task/s, elapsed: 1s, ETA:    52s\r\n[                                ] 7/538, 10.8 task/s, elapsed: 1s, ETA:    49s\r\n[                                ] 8/538, 12.0 task/s, elapsed: 1s, ETA:    44s\r\n[                                ] 9/538, 12.3 task/s, elapsed: 1s, ETA:    43s\r\n[                               ] 10/538, 13.2 task/s, elapsed: 1s, ETA:    40s\r\n[                               ] 11/538, 13.4 task/s, elapsed: 1s, ETA:    39s\r\n[                               ] 12/538, 14.1 task/s, elapsed: 1s, ETA:    37s\r\n[                               ] 13/538, 14.3 task/s, elapsed: 1s, ETA:    37s\r\n[                               ] 14/538, 15.1 task/s, elapsed: 1s, ETA:    35s\r\n[                               ] 15/538, 14.9 task/s, elapsed: 1s, ETA:    35s\r\n[                               ] 16/538, 15.5 task/s, elapsed: 1s, ETA:    34s\r\n[                               ] 17/538, 15.3 task/s, elapsed: 1s, ETA:    34s\r\n[>                              ] 18/538, 15.8 task/s, elapsed: 1s, ETA:    33s\r\n[>                              ] 19/538, 16.0 task/s, elapsed: 1s, ETA:    32s\r\n[>                              ] 20/538, 16.5 task/s, elapsed: 1s, ETA:    31s\r\n[>                              ] 21/538, 16.3 task/s, elapsed: 1s, ETA:    32s\r\n[>                              ] 22/538, 16.7 task/s, elapsed: 1s, ETA:    31s\r\n[>                              ] 23/538, 16.7 task/s, elapsed: 1s, ETA:    31s\r\n[>                              ] 24/538, 17.0 task/s, elapsed: 1s, ETA:    30s\r\n[>                              ] 25/538, 17.3 task/s, elapsed: 1s, ETA:    30s\r\n[>                              ] 26/538, 17.6 task/s, elapsed: 1s, ETA:    29s\r\n[>                              ] 27/538, 18.0 task/s, elapsed: 2s, ETA:    28s\r\n[>                              ] 28/538, 18.3 task/s, elapsed: 2s, ETA:    28s\r\n[>                              ] 29/538, 18.4 task/s, elapsed: 2s, ETA:    28s\r\n[>                              ] 30/538, 18.7 task/s, elapsed: 2s, ETA:    27s\r\n[>                              ] 31/538, 18.8 task/s, elapsed: 2s, ETA:    27s\r\n[>                              ] 32/538, 19.0 task/s, elapsed: 2s, ETA:    27s\r\n[>                              ] 33/538, 19.1 task/s, elapsed: 2s, ETA:    27s\r\n[>                              ] 34/538, 19.3 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 35/538, 18.9 task/s, elapsed: 2s, ETA:    27s\r\n[>>                             ] 36/538, 19.1 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 37/538, 19.1 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 38/538, 19.4 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 39/538, 19.1 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 40/538, 19.4 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 41/538, 18.9 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 42/538, 19.1 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 43/538, 18.6 task/s, elapsed: 2s, ETA:    27s\r\n[>>                             ] 44/538, 18.8 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 45/538, 18.8 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 46/538, 19.0 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 47/538, 19.0 task/s, elapsed: 2s, ETA:    26s\r\n[>>                             ] 48/538, 19.2 task/s, elapsed: 3s, ETA:    26s\r\n[>>                             ] 49/538, 19.0 task/s, elapsed: 3s, ETA:    26s\r\n[>>                             ] 50/538, 19.1 task/s, elapsed: 3s, ETA:    26s\r\n[>>                             ] 51/538, 19.1 task/s, elapsed: 3s, ETA:    25s\r\n[>>                             ] 52/538, 19.3 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 53/538, 19.2 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 54/538, 19.4 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 55/538, 19.1 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 56/538, 19.2 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 57/538, 19.3 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 58/538, 19.4 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 59/538, 19.3 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 60/538, 19.5 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 61/538, 19.5 task/s, elapsed: 3s, ETA:    25s\r\n[>>>                            ] 62/538, 19.6 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 63/538, 19.6 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 64/538, 19.8 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 65/538, 19.7 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 66/538, 19.8 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 67/538, 19.9 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 68/538, 19.9 task/s, elapsed: 3s, ETA:    24s\r\n[>>>                            ] 69/538, 20.0 task/s, elapsed: 3s, ETA:    23s\r\n[>>>>                           ] 70/538, 19.9 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 71/538, 20.0 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 72/538, 20.0 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 73/538, 20.1 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 74/538, 19.7 task/s, elapsed: 4s, ETA:    24s\r\n[>>>>                           ] 75/538, 19.8 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 76/538, 19.8 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 77/538, 20.0 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 78/538, 20.1 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 79/538, 20.0 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 80/538, 20.1 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 81/538, 20.2 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 82/538, 20.2 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 83/538, 20.2 task/s, elapsed: 4s, ETA:    23s\r\n[>>>>                           ] 84/538, 20.2 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>                           ] 85/538, 20.2 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>                           ] 86/538, 20.3 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>>                          ] 87/538, 20.2 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>>                          ] 88/538, 20.3 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>>                          ] 89/538, 20.2 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>>                          ] 90/538, 20.3 task/s, elapsed: 4s, ETA:    22s\r\n[>>>>>                          ] 91/538, 20.2 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 92/538, 20.3 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 93/538, 20.2 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 94/538, 20.2 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 95/538, 20.2 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 96/538, 20.3 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 97/538, 20.2 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 98/538, 20.3 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                          ] 99/538, 20.3 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                         ] 100/538, 20.4 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                         ] 101/538, 20.3 task/s, elapsed: 5s, ETA:    22s\r\n[>>>>>                         ] 102/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>                         ] 103/538, 20.3 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>                         ] 104/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>                         ] 105/538, 20.3 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>                         ] 106/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>                         ] 107/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 108/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 109/538, 20.3 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 110/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 111/538, 20.4 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 112/538, 20.5 task/s, elapsed: 5s, ETA:    21s\r\n[>>>>>>                        ] 113/538, 20.5 task/s, elapsed: 6s, ETA:    21s\r\n[>>>>>>                        ] 114/538, 20.6 task/s, elapsed: 6s, ETA:    21s\r\n[>>>>>>                        ] 115/538, 20.5 task/s, elapsed: 6s, ETA:    21s\r\n[>>>>>>                        ] 116/538, 20.6 task/s, elapsed: 6s, ETA:    21s\r\n[>>>>>>                        ] 117/538, 20.5 task/s, elapsed: 6s, ETA:    21s\r\n[>>>>>>                        ] 118/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 119/538, 20.5 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 120/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 121/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 122/538, 20.7 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 123/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 124/538, 20.7 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>                        ] 125/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 126/538, 20.7 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 127/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 128/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 129/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 130/538, 20.7 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 131/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 132/538, 20.7 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 133/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 134/538, 20.6 task/s, elapsed: 6s, ETA:    20s\r\n[>>>>>>>                       ] 135/538, 20.6 task/s, elapsed: 7s, ETA:    20s\r\n[>>>>>>>                       ] 136/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 137/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 138/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 139/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 140/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 141/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 142/538, 20.8 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>                       ] 143/538, 20.7 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 144/538, 20.8 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 145/538, 20.8 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 146/538, 20.9 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 147/538, 20.9 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 148/538, 20.9 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 149/538, 20.9 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 150/538, 21.0 task/s, elapsed: 7s, ETA:    19s\r\n[>>>>>>>>                      ] 151/538, 21.0 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 152/538, 21.1 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 153/538, 21.0 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 154/538, 21.1 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 155/538, 21.1 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 156/538, 21.1 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 157/538, 21.1 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 158/538, 21.2 task/s, elapsed: 7s, ETA:    18s\r\n[>>>>>>>>                      ] 159/538, 21.2 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>                      ] 160/538, 21.2 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>                      ] 161/538, 21.2 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>>                     ] 162/538, 21.3 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>>                     ] 163/538, 21.3 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>>                     ] 164/538, 21.3 task/s, elapsed: 8s, ETA:    18s\r\n[>>>>>>>>>                     ] 165/538, 21.3 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 166/538, 21.4 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 167/538, 21.4 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 168/538, 21.4 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 169/538, 21.4 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 170/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 171/538, 21.4 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 172/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 173/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 174/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 175/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 176/538, 21.5 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 177/538, 21.6 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 178/538, 21.6 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>                     ] 179/538, 21.6 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>>                    ] 180/538, 21.7 task/s, elapsed: 8s, ETA:    17s\r\n[>>>>>>>>>>                    ] 181/538, 21.7 task/s, elapsed: 8s, ETA:    16s\r\n[>>>>>>>>>>                    ] 182/538, 21.7 task/s, elapsed: 8s, ETA:    16s\r\n[>>>>>>>>>>                    ] 183/538, 21.7 task/s, elapsed: 8s, ETA:    16s\r\n[>>>>>>>>>>                    ] 184/538, 21.8 task/s, elapsed: 8s, ETA:    16s\r\n[>>>>>>>>>>                    ] 185/538, 21.7 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 186/538, 21.8 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 187/538, 21.8 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 188/538, 21.8 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 189/538, 21.8 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 190/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 191/538, 21.8 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 192/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 193/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 194/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 195/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 196/538, 21.9 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>                    ] 197/538, 22.0 task/s, elapsed: 9s, ETA:    16s\r\n[>>>>>>>>>>>                   ] 198/538, 22.0 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 199/538, 22.0 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 200/538, 22.0 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 201/538, 22.0 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 202/538, 22.0 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 203/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 204/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 205/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 206/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 207/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 208/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 209/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                   ] 210/538, 22.1 task/s, elapsed: 9s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 211/538, 22.2 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 212/538, 22.1 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 213/538, 22.2 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 214/538, 22.2 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 215/538, 22.2 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 216/538, 22.2 task/s, elapsed: 10s, ETA:    15s\r\n[>>>>>>>>>>>                  ] 217/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>                  ] 218/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>                  ] 219/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>                  ] 220/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>                  ] 221/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>                  ] 222/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 223/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 224/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 225/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 226/538, 22.2 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 227/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 228/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 229/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 230/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 231/538, 22.4 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 232/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 233/538, 22.3 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 234/538, 22.4 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 235/538, 22.4 task/s, elapsed: 10s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 236/538, 22.4 task/s, elapsed: 11s, ETA:    14s\r\n[>>>>>>>>>>>>                 ] 237/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>                 ] 238/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>                 ] 239/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>                 ] 240/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>                 ] 241/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 242/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 243/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 244/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 245/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 246/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 247/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 248/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 249/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 250/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 251/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 252/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 253/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 254/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 255/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 256/538, 22.4 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 257/538, 22.5 task/s, elapsed: 11s, ETA:    13s\r\n[>>>>>>>>>>>>>                ] 258/538, 22.5 task/s, elapsed: 11s, ETA:    12s\r\n[>>>>>>>>>>>>>                ] 259/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 260/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 261/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 262/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 263/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 264/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 265/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 266/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 267/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 268/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 269/538, 22.4 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 270/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 271/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 272/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 273/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 274/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 275/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 276/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 277/538, 22.5 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>               ] 278/538, 22.6 task/s, elapsed: 12s, ETA:    12s\r\n[>>>>>>>>>>>>>>>              ] 279/538, 22.5 task/s, elapsed: 12s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 280/538, 22.5 task/s, elapsed: 12s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 281/538, 22.6 task/s, elapsed: 12s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 282/538, 22.6 task/s, elapsed: 12s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 283/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 284/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 285/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 286/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 287/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 288/538, 22.7 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 289/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 290/538, 22.7 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 291/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 292/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 293/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 294/538, 22.6 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 295/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>              ] 296/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 297/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 298/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 299/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 300/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 301/538, 22.4 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 302/538, 22.5 task/s, elapsed: 13s, ETA:    11s\r\n[>>>>>>>>>>>>>>>>             ] 303/538, 22.5 task/s, elapsed: 13s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 304/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 305/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 306/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 307/538, 22.4 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 308/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 309/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 310/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 311/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 312/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 313/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 314/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>             ] 315/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 316/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 317/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 318/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 319/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 320/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 321/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 322/538, 22.4 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 323/538, 22.5 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 324/538, 22.4 task/s, elapsed: 14s, ETA:    10s\r\n[>>>>>>>>>>>>>>>>>            ] 325/538, 22.5 task/s, elapsed: 14s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 326/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 327/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 328/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 329/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 330/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 331/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 332/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>            ] 333/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 334/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 335/538, 22.5 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 336/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 337/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 338/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 339/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 340/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 341/538, 22.4 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 342/538, 22.3 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 343/538, 22.3 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 344/538, 22.3 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 345/538, 22.3 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 346/538, 22.3 task/s, elapsed: 15s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 347/538, 22.4 task/s, elapsed: 16s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 348/538, 22.3 task/s, elapsed: 16s, ETA:     9s\r\n[>>>>>>>>>>>>>>>>>>           ] 349/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>           ] 350/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>           ] 351/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>           ] 352/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 353/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 354/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 355/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 356/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 357/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 358/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 359/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 360/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 361/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 362/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 363/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 364/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 365/538, 22.3 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 366/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 367/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 368/538, 22.4 task/s, elapsed: 16s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 369/538, 22.3 task/s, elapsed: 17s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 370/538, 22.4 task/s, elapsed: 17s, ETA:     8s\r\n[>>>>>>>>>>>>>>>>>>>          ] 371/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 372/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 373/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 374/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 375/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 376/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 377/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 378/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 379/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 380/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 381/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 382/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 383/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 384/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 385/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 386/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 387/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 388/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>         ] 389/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 390/538, 22.4 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 391/538, 22.3 task/s, elapsed: 17s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 392/538, 22.4 task/s, elapsed: 18s, ETA:     7s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 393/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 394/538, 22.4 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 395/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 396/538, 22.4 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 397/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 398/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 399/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 400/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 401/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 402/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 403/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 404/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 405/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 406/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 407/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>        ] 408/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 409/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 410/538, 22.2 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 411/538, 22.3 task/s, elapsed: 18s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 412/538, 22.2 task/s, elapsed: 19s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 413/538, 22.2 task/s, elapsed: 19s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 414/538, 22.2 task/s, elapsed: 19s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 415/538, 22.3 task/s, elapsed: 19s, ETA:     6s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 416/538, 22.2 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 417/538, 22.2 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 418/538, 22.2 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 419/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 420/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 421/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 422/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 423/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 424/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 425/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>       ] 426/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 427/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 428/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 429/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 430/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 431/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 432/538, 22.3 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 433/538, 22.4 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 434/538, 22.4 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 435/538, 22.4 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 436/538, 22.4 task/s, elapsed: 19s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 437/538, 22.4 task/s, elapsed: 20s, ETA:     5s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 438/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 439/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 440/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 441/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 442/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 443/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 444/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>      ] 445/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 446/538, 22.4 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 447/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 448/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 449/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 450/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 451/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 452/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 453/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 454/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 455/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 456/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 457/538, 22.6 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 458/538, 22.5 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 459/538, 22.6 task/s, elapsed: 20s, ETA:     4s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 460/538, 22.6 task/s, elapsed: 20s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 461/538, 22.6 task/s, elapsed: 20s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 462/538, 22.6 task/s, elapsed: 20s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>     ] 463/538, 22.6 task/s, elapsed: 20s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 464/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 465/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 466/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 467/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 468/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 469/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 470/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 471/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 472/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 473/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 474/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 475/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 476/538, 22.5 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 477/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 478/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 479/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 480/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 481/538, 22.6 task/s, elapsed: 21s, ETA:     3s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>    ] 482/538, 22.6 task/s, elapsed: 21s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 483/538, 22.6 task/s, elapsed: 21s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 484/538, 22.6 task/s, elapsed: 21s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 485/538, 22.6 task/s, elapsed: 21s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 486/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 487/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 488/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 489/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 490/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 491/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 492/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 493/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 494/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 495/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 496/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 497/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 498/538, 22.6 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 499/538, 22.7 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>   ] 500/538, 22.7 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 501/538, 22.7 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 502/538, 22.7 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 503/538, 22.7 task/s, elapsed: 22s, ETA:     2s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 504/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 505/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 506/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 507/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 508/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 509/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 510/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 511/538, 22.7 task/s, elapsed: 22s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 512/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 513/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 514/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 515/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 516/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 517/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 518/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>  ] 519/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 520/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 521/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 522/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 523/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 524/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 525/538, 22.7 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 526/538, 22.6 task/s, elapsed: 23s, ETA:     1s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 527/538, 22.7 task/s, elapsed: 23s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 528/538, 22.6 task/s, elapsed: 23s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 529/538, 22.7 task/s, elapsed: 23s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 530/538, 22.6 task/s, elapsed: 23s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 531/538, 22.6 task/s, elapsed: 23s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 532/538, 22.6 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 533/538, 22.6 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 534/538, 22.6 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 535/538, 22.7 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 536/538, 22.6 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>> ] 537/538, 22.7 task/s, elapsed: 24s, ETA:     0s\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>>>>>] 538/538, 22.7 task/s, elapsed: 24s, ETA:     0s2021-10-12 17:05:26,696 - mmdet - INFO - Evaluating bbox...\r\n2021-10-12 17:05:26,697 - mmdet - ERROR - The testing results of the whole dataset is empty.\r\n2021-10-12 17:05:26,700 - mmdet - INFO - Exp name: yolox.py\r\n2021-10-12 17:05:26,700 - mmdet - INFO - Epoch(val) [1][538]\t\r\nLoading and preparing results...\r\n2021-10-12 17:06:11,531 - mmdet - INFO - Epoch [2][50/157]\tlr: 8.692e-05, eta: 4:26:39, time: 0.896, data_time: 0.775, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 0.3131, loss: 0.3131, grad_norm: 5.3416\r\n2021-10-12 17:06:51,297 - mmdet - INFO - Epoch [2][100/157]\tlr: 1.340e-04, eta: 4:22:07, time: 0.795, data_time: 0.676, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 0.2228, loss: 0.2228, grad_norm: 3.0542\r\n2021-10-12 17:07:30,941 - mmdet - INFO - Epoch [2][150/157]\tlr: 1.912e-04, eta: 4:18:43, time: 0.793, data_time: 0.671, memory: 2987, loss_cls: 0.0000, loss_bbox: 0.0000, loss_obj: 0.1744, loss: 0.1744, grad_norm: 2.0940\r\n[                                                  ] 0/538, elapsed: 0s, ETA:\r\n[                                 ] 1/538, 3.4 task/s, elapsed: 0s, ETA:   158s\r\n...\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6261", "id": 1023310465, "node_id": "I_kwDOCK7AWs48_nqB", "number": 6261, "title": "TypeError: multi_scale_deformable_attn_pytorch() takes 4 positional arguments but 6 were given", "user": {"login": "shripaddeshmukh", "id": 36957402, "node_id": "MDQ6VXNlcjM2OTU3NDAy", "avatar_url": "https://avatars.githubusercontent.com/u/36957402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shripaddeshmukh", "html_url": "https://github.com/shripaddeshmukh", "followers_url": "https://api.github.com/users/shripaddeshmukh/followers", "following_url": "https://api.github.com/users/shripaddeshmukh/following{/other_user}", "gists_url": "https://api.github.com/users/shripaddeshmukh/gists{/gist_id}", "starred_url": "https://api.github.com/users/shripaddeshmukh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shripaddeshmukh/subscriptions", "organizations_url": "https://api.github.com/users/shripaddeshmukh/orgs", "repos_url": "https://api.github.com/users/shripaddeshmukh/repos", "events_url": "https://api.github.com/users/shripaddeshmukh/events{/privacy}", "received_events_url": "https://api.github.com/users/shripaddeshmukh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-12T03:12:02Z", "updated_at": "2021-10-14T03:08:17Z", "closed_at": "2021-10-14T03:08:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n- [x] I have searched related issues but cannot get the expected help.\r\n- [x] I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n- [x] The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nI trained Deformable-DETR model on a custom dataset. While the training was done on GPUs, I tried running CPU inference on a single image, and got the aforementioned TypeError.\r\n\r\n**Reproduction**\r\n\r\nI ran following command :\r\n\r\n`python demo/image_demo.py <image path> <path to deformable_detr config>  <path to deformable_detr checkpoint> --device cpu`\r\n\r\n\r\n**Environment**\r\n\r\nEnvironment information after running`python mmdet/utils/collect_env.py` : \r\n\r\n```\r\nConfigured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/4.2.1\r\nsys.platform: darwin\r\nPython: 3.7.11 (default, Jul 27 2021, 07:03:16) [Clang 10.0.0 ]\r\nCUDA available: False\r\nGCC: Apple clang version 12.0.5 (clang-1205.0.22.11)\r\nPyTorch: 1.9.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 4.2\r\n  - C++ Version: 201402\r\n  - clang 12.0.0\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.3-Product Build 20210617 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.1.2 (Git Hash 98be7e8afa711dc9b66c8ff3504129cb82013cdb)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CXX_COMPILER=/Applications/Xcode-12.0.1.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -DUSE_PTHREADPOOL -DNDEBUG -DUSE_KINETO -DLIBKINETO_NOCUPTI -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-invalid-partial-specialization -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unused-private-field -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-missing-braces -Qunused-arguments -fcolor-diagnostics -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=0, USE_CUDNN=OFF, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=OFF, USE_NNPACK=ON, USE_OPENMP=OFF, \r\n\r\nTorchVision: 0.10.0\r\nOpenCV: 4.5.3\r\nMMCV: 1.3.14\r\nMMCV Compiler: clang 12.0.5\r\nMMCV CUDA Compiler: not available\r\nMMDetection: 2.17.0+bc32705\r\n```\r\n\r\n**Error traceback**\r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"demo/image_demo.py\", line 50, in <module>\r\n    main(args)\r\n  File \"demo/image_demo.py\", line 30, in main\r\n    result = inference_detector(model, args.img)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/apis/inference.py\", line 148, in inference_detector\r\n    results = model(return_loss=False, rescale=True, **data)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 98, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/detectors/base.py\", line 174, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/detectors/base.py\", line 147, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/detectors/single_stage.py\", line 103, in simple_test\r\n    feat, img_metas, rescale=rescale)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/dense_heads/base_dense_head.py\", line 79, in simple_test\r\n    return self.simple_test_bboxes(feats, img_metas, rescale=rescale)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/dense_heads/detr_head.py\", line 703, in simple_test_bboxes\r\n    outs = self.forward(feats, img_metas)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/dense_heads/deformable_detr_head.py\", line 150, in forward\r\n    cls_branches=self.cls_branches if self.as_two_stage else None  # noqa:E501\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/utils/transformer.py\", line 995, in forward\r\n    **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmdet/models/utils/transformer.py\", line 479, in forward\r\n    x = super(DetrTransformerEncoder, self).forward(*args, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/cnn/bricks/transformer.py\", line 601, in forward\r\n    **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/cnn/bricks/transformer.py\", line 490, in forward\r\n    **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/utils/misc.py\", line 330, in new_func\r\n    output = old_func(*args, **kwargs)\r\n  File \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/ops/multi_scale_deform_attn.py\", line 350, in forward\r\n    attention_weights, self.im2col_step)\r\nTypeError: multi_scale_deformable_attn_pytorch() takes 4 positional arguments but 6 were given\r\n```\r\n\r\n**Bug fix**\r\n\r\n*Diagnosis:*\r\n\r\nIn package 'mmcv/ops/multi_scale_deform_attn.py', line number 350, which applies multi-scale deformable attention when CPU inference is run, is as follows:\r\n\r\n`output = multi_scale_deformable_attn_pytorch(value, spatial_shapes, level_start_index, sampling_locations, attention_weights, self.im2col_step)\r\n`\r\nBut the function 'multi_scale_deformable_attn_pytorch' (line 94, mmcv/ops/multi_scale_deform_attn.py) expects only 4 arguments - value, value_spatial_shapes, sampling_locations, attention_weights.\r\n\r\n*Fix:*\r\n\r\nChange line 350 in \"/usr/local/anaconda3/envs/openmmlab/lib/python3.7/site-packages/mmcv/ops/multi_scale_deform_attn.py\" to :\r\n\r\n`output = multi_scale_deformable_attn_pytorch(value, spatial_shapes, sampling_locations, attention_weights)`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6238", "id": 1019591040, "node_id": "I_kwDOCK7AWs48xbmA", "number": 6238, "title": "[BUG]bug in ConvFCBBoxHead's init cfg.", "user": {"login": "thisisi3", "id": 11859874, "node_id": "MDQ6VXNlcjExODU5ODc0", "avatar_url": "https://avatars.githubusercontent.com/u/11859874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thisisi3", "html_url": "https://github.com/thisisi3", "followers_url": "https://api.github.com/users/thisisi3/followers", "following_url": "https://api.github.com/users/thisisi3/following{/other_user}", "gists_url": "https://api.github.com/users/thisisi3/gists{/gist_id}", "starred_url": "https://api.github.com/users/thisisi3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thisisi3/subscriptions", "organizations_url": "https://api.github.com/users/thisisi3/orgs", "repos_url": "https://api.github.com/users/thisisi3/repos", "events_url": "https://api.github.com/users/thisisi3/events{/privacy}", "received_events_url": "https://api.github.com/users/thisisi3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-10-07T04:08:44Z", "updated_at": "2021-10-20T05:23:06Z", "closed_at": "2021-10-20T05:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/c88509cb9a73d6bd1edcba64eb924d3cf3cfe85d/mmdet/models/roi_heads/bbox_heads/convfc_bbox_head.py#L103\r\n\r\nThis line will override initializers for fc_cls and fc_reg because they are also nn.Linear. \r\nOr is it what's intended? But I see the old way to initialize fc_cls and fc_reg is using Normal.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238/reactions", "total_count": 4, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6238/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6211", "id": 1013157844, "node_id": "I_kwDOCK7AWs48Y4_U", "number": 6211, "title": "The link to the config documentation in  TUTORIAL 5: CUSTOMIZE RUNTIME SETTINGS is broken", "user": {"login": "AndreaPi", "id": 8233615, "node_id": "MDQ6VXNlcjgyMzM2MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8233615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreaPi", "html_url": "https://github.com/AndreaPi", "followers_url": "https://api.github.com/users/AndreaPi/followers", "following_url": "https://api.github.com/users/AndreaPi/following{/other_user}", "gists_url": "https://api.github.com/users/AndreaPi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreaPi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreaPi/subscriptions", "organizations_url": "https://api.github.com/users/AndreaPi/orgs", "repos_url": "https://api.github.com/users/AndreaPi/repos", "events_url": "https://api.github.com/users/AndreaPi/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreaPi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-01T10:06:39Z", "updated_at": "2021-10-11T02:13:22Z", "closed_at": "2021-10-11T02:13:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nNavigate to \r\n\r\nhttps://mmdetection.readthedocs.io/en/latest/tutorials/customize_runtime.html\r\n\r\nsearch and click the link [config documenetation](https://mmdetection.readthedocs.io/en/latest/config.html) (the typo is not mine, it's verbatim in the docs). As you can see, the link is broken.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6211/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6096", "id": 995203688, "node_id": "MDU6SXNzdWU5OTUyMDM2ODg=", "number": 6096, "title": "Shape of ONNX export dynamic batch", "user": {"login": "aravind-anantha", "id": 5662962, "node_id": "MDQ6VXNlcjU2NjI5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5662962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aravind-anantha", "html_url": "https://github.com/aravind-anantha", "followers_url": "https://api.github.com/users/aravind-anantha/followers", "following_url": "https://api.github.com/users/aravind-anantha/following{/other_user}", "gists_url": "https://api.github.com/users/aravind-anantha/gists{/gist_id}", "starred_url": "https://api.github.com/users/aravind-anantha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aravind-anantha/subscriptions", "organizations_url": "https://api.github.com/users/aravind-anantha/orgs", "repos_url": "https://api.github.com/users/aravind-anantha/repos", "events_url": "https://api.github.com/users/aravind-anantha/events{/privacy}", "received_events_url": "https://api.github.com/users/aravind-anantha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-13T18:36:50Z", "updated_at": "2021-09-15T06:16:13Z", "closed_at": "2021-09-15T06:16:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/tools/deployment/pytorch2onnx.py#L71\r\n\r\nThis line should be \r\n```\r\n    if dynamic_export:\r\n        dynamic_axes = {\r\n            input_name: {\r\n                0: 'batch',\r\n                2: 'height',\r\n                3: 'width'\r\n            },\r\n            'dets': {\r\n                0: 'batch',\r\n                1: 'num_dets',\r\n            },\r\n            'labels': {\r\n                0: 'batch',\r\n                1: 'num_dets',\r\n            },\r\n        }\r\n```\r\n\r\nBased on the way the line below is implemented the dynamic axis should be `bs x c x h x w`. \r\nhttps://github.com/open-mmlab/mmdetection/blob/master/tools/deployment/pytorch2onnx.py#L139\r\n\r\n\r\nI can create a quick PR for this if needed. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6057", "id": 990071934, "node_id": "MDU6SXNzdWU5OTAwNzE5MzQ=", "number": 6057, "title": "demo\u62a5\u9519", "user": {"login": "bingo789", "id": 40812718, "node_id": "MDQ6VXNlcjQwODEyNzE4", "avatar_url": "https://avatars.githubusercontent.com/u/40812718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bingo789", "html_url": "https://github.com/bingo789", "followers_url": "https://api.github.com/users/bingo789/followers", "following_url": "https://api.github.com/users/bingo789/following{/other_user}", "gists_url": "https://api.github.com/users/bingo789/gists{/gist_id}", "starred_url": "https://api.github.com/users/bingo789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bingo789/subscriptions", "organizations_url": "https://api.github.com/users/bingo789/orgs", "repos_url": "https://api.github.com/users/bingo789/repos", "events_url": "https://api.github.com/users/bingo789/events{/privacy}", "received_events_url": "https://api.github.com/users/bingo789/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-09-07T14:53:47Z", "updated_at": "2021-09-22T03:25:29Z", "closed_at": "2021-09-22T03:25:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8fd0\u884c\u547d\u4ee4\r\n\r\n`python demo/image_demo.py demo/demo.jpg  configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py  checkpoints/faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pth --device=cpu`\r\n\r\n### \u62a5\u9519\r\n```\r\nTraceback (most recent call last):\r\n  File \"demo/image_demo.py\", line 50, in <module>\r\n    main(args)\r\n  File \"demo/image_demo.py\", line 32, in main\r\n    show_result_pyplot(model, args.img, result, score_thr=args.score_thr)\r\n  File \"/Users/bingo/opt/anaconda3/envs/ai/lib/python3.7/site-packages/mmdet/apis/inference.py\", line 241, in show_result_pyplot\r\n    text_color=(72, 101, 241))\r\n  File \"/Users/bingo/opt/anaconda3/envs/ai/lib/python3.7/site-packages/mmdet/models/detectors/base.py\", line 343, in show_result\r\n    out_file=out_file)\r\n  File \"/Users/bingo/opt/anaconda3/envs/ai/lib/python3.7/site-packages/mmdet/core/visualization/image.py\", line 172, in imshow_det_bboxes\r\n    img_rgba = buffer.reshape(height, width, 4)\r\nValueError: cannot reshape array of size 1090560 into shape (427,640,4)\r\n```\r\n### \u7248\u672c\u4fe1\u606f\r\n`mmdet: 2.16.0`\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6040", "id": 988470136, "node_id": "MDU6SXNzdWU5ODg0NzAxMzY=", "number": 6040, "title": "softmax focal loss", "user": {"login": "Taotaoxu", "id": 39411212, "node_id": "MDQ6VXNlcjM5NDExMjEy", "avatar_url": "https://avatars.githubusercontent.com/u/39411212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Taotaoxu", "html_url": "https://github.com/Taotaoxu", "followers_url": "https://api.github.com/users/Taotaoxu/followers", "following_url": "https://api.github.com/users/Taotaoxu/following{/other_user}", "gists_url": "https://api.github.com/users/Taotaoxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Taotaoxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Taotaoxu/subscriptions", "organizations_url": "https://api.github.com/users/Taotaoxu/orgs", "repos_url": "https://api.github.com/users/Taotaoxu/repos", "events_url": "https://api.github.com/users/Taotaoxu/events{/privacy}", "received_events_url": "https://api.github.com/users/Taotaoxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-09-05T10:01:48Z", "updated_at": "2022-03-20T16:02:48Z", "closed_at": "2022-03-20T16:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I encountered a problem when traing the RetinaNet with the **softmax_focal_loss**.\r\nHere are my step:\r\n\r\n1. Create a new script in the folder of  'mmdetection/models/losses/', named 'softmax_focal_loss.py'.\r\n2. Create a new class '**SoftmaxFocalLoss**', just following the style of mmdetection/models/losses/focal_loss.py'. The main difference is the focal loss, I use the **mmcv.ops.softmax_focal_loss** instead of the  **mmcv.ops.sigmoid_focal_loss** anymore.\r\n3. Parameter are set correctly, such as 'use_sigmoid=False', gamma=2, alpha=0.25.\r\n4. I create tensor x, y to test this code. Then I can confirm that:   **py_softmax_focal_loss(x, y) == SoftmaxFocalLoss.Forward(x, y) == mmcv.ops.softmax_focal_loss**.\r\n5. I change the config.py file at the bbox_head.loss_cls as:  **type=SoftmaxFocalLoss, use_sigmoid=False', gamma=2, alpha=0.25**.\r\n6. I start to train the RetinaNet with this config.py. \r\n7. A problem is reported: '**variable is unreachable**'.\r\n8. I replace the **mmcv.ops.softmax_focal_loss** with **py_softmax_focal_loss**. And train this model, it turns out a pretty good results with a high mAP.\r\n\r\n### I wander why does this happen? Is the back-forward function of **mmcv.ops.softmax_focal_loss** crorrect ?\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6040/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/6031", "id": 987598550, "node_id": "MDU6SXNzdWU5ODc1OTg1NTA=", "number": 6031, "title": "Plot Curve, x and y must have the same first dimension but have different shapes.", "user": {"login": "aliceinland", "id": 30385910, "node_id": "MDQ6VXNlcjMwMzg1OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/30385910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aliceinland", "html_url": "https://github.com/aliceinland", "followers_url": "https://api.github.com/users/aliceinland/followers", "following_url": "https://api.github.com/users/aliceinland/following{/other_user}", "gists_url": "https://api.github.com/users/aliceinland/gists{/gist_id}", "starred_url": "https://api.github.com/users/aliceinland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aliceinland/subscriptions", "organizations_url": "https://api.github.com/users/aliceinland/orgs", "repos_url": "https://api.github.com/users/aliceinland/repos", "events_url": "https://api.github.com/users/aliceinland/events{/privacy}", "received_events_url": "https://api.github.com/users/aliceinland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-09-03T09:44:22Z", "updated_at": "2022-04-27T03:23:32Z", "closed_at": "2022-04-27T03:23:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen plotting the data with the analysis tool, an error on the mismatch of the array is generated.\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```python \r\npython3 tools/analysis_tools/analyze_logs.py plot_curve work_dirs/currect_classes/20210826_141250.log.json --keys loss_cls\r\n```\r\n\r\nError: \r\n```python \r\nplot curve of work_dirs/currect_classes/20210826_141250.log.json, metric is loss_cls\r\nTraceback (most recent call last):\r\n  File \"tools/analysis_tools/analyze_logs.py\", line 179, in <module>\r\n    main()\r\n  File \"tools/analysis_tools/analyze_logs.py\", line 175, in main\r\n    eval(args.task)(log_dicts, args)\r\n  File \"tools/analysis_tools/analyze_logs.py\", line 79, in plot_curve\r\n    plt.plot(\r\n  File \"/opt/conda/lib/python3.8/site-packages/matplotlib/pyplot.py\", line 2840, in plot\r\n    return gca().plot(\r\n  File \"/opt/conda/lib/python3.8/site-packages/matplotlib/axes/_axes.py\", line 1743, in plot\r\n    lines = [*self._get_lines(*args, data=data, **kwargs)]\r\n  File \"/opt/conda/lib/python3.8/site-packages/matplotlib/axes/_base.py\", line 273, in __call__\r\n    yield from self._plot_args(this, kwargs)\r\n  File \"/opt/conda/lib/python3.8/site-packages/matplotlib/axes/_base.py\", line 399, in _plot_args\r\n    raise ValueError(f\"x and y must have same first dimension, but \"\r\nValueError: x and y must have same first dimension, but have shapes (6050,) and (50,)\r\n```\r\n\r\n**Environment**\r\n\r\nsys.platform: linux\r\nPython: 3.8.5 (default, Sep  4 2020, 07:30:14) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0,1,2,3,4,5,6,7: Tesla T4\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Build cuda_11.2.r11.2/compiler.29373293_0\r\nGCC: gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0\r\nPyTorch: 1.8.0a0+52ea372\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 9.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.2\r\n  - NVCC architecture flags: -gencode;arch=compute_52,code=sm_52;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_86,code=compute_86\r\n  - CuDNN 8.1\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.2, CUDNN_VERSION=8.1.0, CXX_COMPILER=/usr/bin/c++, CXX_FLAGS= -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, FORCE_FALLBACK_CUDA_MPI=1, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=OFF, USE_MPI=ON, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.9.0a0\r\nOpenCV: 4.5.3\r\nMMCV: 1.3.12\r\nMMCV Compiler: GCC 9.3\r\nMMCV CUDA Compiler: 11.2\r\nMMDetection: 2.16.0+1a39e5e", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/6031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5994", "id": 984545886, "node_id": "MDU6SXNzdWU5ODQ1NDU4ODY=", "number": 5994, "title": "yolact error  mismatch dims   for  prediction and  gt", "user": {"login": "zymale", "id": 9433815, "node_id": "MDQ6VXNlcjk0MzM4MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9433815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zymale", "html_url": "https://github.com/zymale", "followers_url": "https://api.github.com/users/zymale/followers", "following_url": "https://api.github.com/users/zymale/following{/other_user}", "gists_url": "https://api.github.com/users/zymale/gists{/gist_id}", "starred_url": "https://api.github.com/users/zymale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zymale/subscriptions", "organizations_url": "https://api.github.com/users/zymale/orgs", "repos_url": "https://api.github.com/users/zymale/repos", "events_url": "https://api.github.com/users/zymale/events{/privacy}", "received_events_url": "https://api.github.com/users/zymale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-09-01T02:52:55Z", "updated_at": "2021-09-09T00:29:26Z", "closed_at": "2021-09-09T00:29:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "mmdet  version  2.15.1   yolact_head.py  function loss  line176-192  filter out invalid anchors and  GT  just match the  valid  anchor\uff1bbut   line196-232  prediction  for  all  anchors .There is an error  about  dims  mismatch  for loss  calculation.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5981", "id": 983390279, "node_id": "MDU6SXNzdWU5ODMzOTAyNzk=", "number": 5981, "title": "YOLOX support FP16", "user": {"login": "RaymondByc", "id": 11907000, "node_id": "MDQ6VXNlcjExOTA3MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/11907000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RaymondByc", "html_url": "https://github.com/RaymondByc", "followers_url": "https://api.github.com/users/RaymondByc/followers", "following_url": "https://api.github.com/users/RaymondByc/following{/other_user}", "gists_url": "https://api.github.com/users/RaymondByc/gists{/gist_id}", "starred_url": "https://api.github.com/users/RaymondByc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RaymondByc/subscriptions", "organizations_url": "https://api.github.com/users/RaymondByc/orgs", "repos_url": "https://api.github.com/users/RaymondByc/repos", "events_url": "https://api.github.com/users/RaymondByc/events{/privacy}", "received_events_url": "https://api.github.com/users/RaymondByc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-31T03:06:32Z", "updated_at": "2021-09-07T09:39:21Z", "closed_at": "2021-09-07T09:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the feature**\r\n\r\nwhen I add the line\r\n\r\n> \" fp16 = dict(loss_scale=512.) \" \r\n\r\nto the config yolox, I encounter a problem, which is shown as follows:\r\n\r\n![\u622a\u56fe](https://user-images.githubusercontent.com/11907000/131435152-b08f4298-3380-49c7-9fcb-95e4c6408c26.PNG)\r\n\r\nDoes the YOLOX support FP16?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5978", "id": 982872657, "node_id": "MDU6SXNzdWU5ODI4NzI2NTc=", "number": 5978, "title": "Issue when training YOLACT with val step in the workflow", "user": {"login": "AgatheMo", "id": 60713294, "node_id": "MDQ6VXNlcjYwNzEzMjk0", "avatar_url": "https://avatars.githubusercontent.com/u/60713294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AgatheMo", "html_url": "https://github.com/AgatheMo", "followers_url": "https://api.github.com/users/AgatheMo/followers", "following_url": "https://api.github.com/users/AgatheMo/following{/other_user}", "gists_url": "https://api.github.com/users/AgatheMo/gists{/gist_id}", "starred_url": "https://api.github.com/users/AgatheMo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AgatheMo/subscriptions", "organizations_url": "https://api.github.com/users/AgatheMo/orgs", "repos_url": "https://api.github.com/users/AgatheMo/repos", "events_url": "https://api.github.com/users/AgatheMo/events{/privacy}", "received_events_url": "https://api.github.com/users/AgatheMo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-30T14:44:48Z", "updated_at": "2021-09-04T01:00:44Z", "closed_at": "2021-09-04T01:00:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I ran into an issue when trying to train YOLACT with a workflow including a val step : `workflow = [('train',1),('val',1)]`\r\nThe code works fine when the workflow contains the training step only : `workflow = [('train',1)]`\r\nThe issue happens during the first val step, after the first training epoch is executed. \r\nThe error traceback is:\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    meta=meta)\r\n  File \"/local/user/yolact_mm/mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/local/user/yolact_mm/mmcv-1.3.8/mmcv/runner/epoch_based_runner.py\", line 127, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/localscratch/user/yolact_mm/lib/python3.7/site-packages/torch/autograd/grad_mode.py\", line 26, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/local/user/yolact_mm/mmcv-1.3.8/mmcv/runner/epoch_based_runner.py\", line 67, in val\r\n    self.run_iter(data_batch, train_mode=False)\r\n  File \"/local/user/yolact_mm/mmcv-1.3.8/mmcv/runner/epoch_based_runner.py\", line 32, in run_iter\r\n    outputs = self.model.val_step(data_batch, self.optimizer, **kwargs)\r\n  File \"/local/user/yolact_mm/mmcv-1.3.8/mmcv/parallel/data_parallel.py\", line 89, in val_step\r\n    return self.module.val_step(*inputs[0], **kwargs[0])\r\n  File \"/local/user/yolact_mm/mmdetection/mmdet/models/detectors/base.py\", line 252, in val_step\r\n    losses = self(**data)\r\n  File \"/localscratch/user/yolact_mm/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 727, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/local/user/yolact_mm/mmcv-1.3.8/mmcv/runner/fp16_utils.py\", line 97, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/local/user/yolact_mm/mmdetection/mmdet/models/detectors/base.py\", line 171, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"/local/user/yolact_mm/mmdetection/mmdet/models/detectors/yolact.py\", line 80, in forward_train\r\n    sampling_results)\r\n  File \"/localscratch/user/yolact_mm/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 727, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/local/user/yolact_mm/mmdetection/mmdet/models/dense_heads/yolact_head.py\", line 722, in forward\r\n    mask_pred = cur_prototypes @ cur_coeff_pred.t()\r\nRuntimeError: t() expects a tensor with <= 2 dimensions, but self is 4D\r\n```\r\nMy environment is :\r\n```\r\nsys.platform: linux\r\nPython: 3.7.4 (default, Jul 18 2019, 19:34:02) [GCC 5.4.0]\r\nCUDA available: True\r\nGPU 0: Tesla P100-PCIE-12GB\r\nCUDA_HOME: /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/cudacore/10.1.243\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243\r\nGCC: gcc (20190410 gcc-8-branch revision 270244) 8.3.0\r\nPyTorch: 1.7.1+cu101\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2019.0.2 Product Build 20190118 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.6.0 (Git Hash 5ef631a030a6f73131c77892041042805a06064f)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75\r\n  - CuDNN 7.6.3\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_VULKAN_WRAPPER -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.8.2+cu101\r\nOpenCV: 4.1.2\r\nMMCV: 1.3.8\r\nMMCV Compiler: GCC 8.3\r\nMMCV CUDA Compiler: 10.1\r\nMMDetection: 2.14.0+\r\n```\r\nI think #5362 ran into the same issue. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5966", "id": 982040941, "node_id": "MDU6SXNzdWU5ODIwNDA5NDE=", "number": 5966, "title": "Yolox training error when using L1 Loss", "user": {"login": "maxrumi", "id": 17705768, "node_id": "MDQ6VXNlcjE3NzA1NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/17705768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxrumi", "html_url": "https://github.com/maxrumi", "followers_url": "https://api.github.com/users/maxrumi/followers", "following_url": "https://api.github.com/users/maxrumi/following{/other_user}", "gists_url": "https://api.github.com/users/maxrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxrumi/subscriptions", "organizations_url": "https://api.github.com/users/maxrumi/orgs", "repos_url": "https://api.github.com/users/maxrumi/repos", "events_url": "https://api.github.com/users/maxrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/maxrumi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-08-29T09:02:28Z", "updated_at": "2021-09-04T01:02:58Z", "closed_at": "2021-09-04T01:02:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I ran into some problems when training Yolox.\r\nYolox used extra L1 Loss for the last 15 epochs. I used a customized voc format data set with only one category. 100 epochs were set in the configuration file, and there was no problem with the previous 85 epochs.  But when training for the last 15 epoch, something went wrong. I checked the source code and the asset statement caused the training to go wrong: assert pred.size() == target.size() and target.numel() > 0 .\r\nHere is the error traceback:\r\n![error](https://user-images.githubusercontent.com/17705768/131244847-f21b2716-b302-4638-b2ca-9353fd9fc14c.PNG)\r\n**And this is my yolox-s setting:**\r\n\r\nmodel = dict(\r\n    type='YOLOX',\r\n    backbone=dict(type='CSPDarknet', deepen_factor=0.33, widen_factor=0.5),\r\n    neck=dict(\r\n        type='YOLOXPAFPN',\r\n        in_channels=[128, 256, 512],\r\n        out_channels=128,\r\n        num_csp_blocks=1),\r\n    bbox_head=dict(\r\n        type='YOLOXHead', num_classes=1, in_channels=128, feat_channels=128),\r\n    train_cfg=dict(assigner=dict(type='SimOTAAssigner', center_radius=2.5)),\r\n    test_cfg=dict(score_thr=0.01, nms=dict(type='nms', iou_threshold=0.65)))\r\n\r\nimg_scale = (640, 640)\r\ndataset_type = 'CustomVOCDataset'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\ntrain_pipeline = [\r\n    dict(type='Mosaic', img_scale=img_scale, pad_val=114.0),\r\n    dict(\r\n        type='RandomAffine',\r\n        scaling_ratio_range=(0.1, 2),\r\n        border=(-img_scale[0] // 2, -img_scale[1] // 2)),\r\n    dict(\r\n        type='MixUp',\r\n        img_scale=img_scale,\r\n        ratio_range=(0.8, 1.6),\r\n        pad_val=114.0),\r\n    dict(\r\n        type='PhotoMetricDistortion',\r\n        brightness_delta=32,\r\n        contrast_range=(0.5, 1.5),\r\n        saturation_range=(0.5, 1.5),\r\n        hue_delta=18),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(type='Resize', keep_ratio=True),\r\n    dict(type='Pad', pad_to_square=True, pad_val=114.0),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n]\r\n\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(640, 640),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img'])\r\n        ])\r\n]\r\ntrain_dataset = dict(\r\n    type='MultiImageMixDataset',\r\n    dataset=dict(\r\n        type=dataset_type,\r\n        ann_file='train.txt',\r\n        data_root='/home/data',\r\n        img_prefix='',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile', to_float32=True),\r\n            dict(type='LoadAnnotations', with_bbox=True)\r\n        ],\r\n        filter_empty_gt=False,\r\n    ),\r\n    pipeline=train_pipeline,\r\n    dynamic_scale=img_scale)\r\n\r\ndata = dict(\r\n    samples_per_gpu=32,\r\n    workers_per_gpu=2,\r\n    train=train_dataset,\r\n    val=dict(\r\n        data_root='/sde/val/',\r\n        type=dataset_type,\r\n        ann_file='val.txt',\r\n        img_prefix='',\r\n        pipeline=test_pipeline),\r\n    test=dict(\r\n        data_root='/sde/mxx/dataset/xi/val',\r\n        type=dataset_type,\r\n        ann_file='test.txt',\r\n        img_prefix='',\r\n        pipeline=test_pipeline))\r\n\r\noptimizer = dict(\r\n    type='SGD',\r\n    lr=0.01,\r\n    momentum=0.9,\r\n    weight_decay=5e-4,\r\n    nesterov=True,\r\n    paramwise_cfg=dict(norm_decay_mult=0., bias_decay_mult=0.))\r\noptimizer_config = dict(grad_clip=None)\r\nlr_config = dict(\r\n    policy='YOLOX',\r\n    warmup='exp',\r\n    by_epoch=False,\r\n    warmup_by_epoch=True,\r\n    warmup_ratio=1,\r\n    warmup_iters=5,  # 5 epoch\r\n    num_last_epochs=15,\r\n    min_lr_ratio=0.05)\r\nrunner = dict(type='EpochBasedRunner', max_epochs=100)\r\nresume_from = None\r\ninterval = 1\r\ntotal_epochs = 100\r\nevaluation = dict(interval=1, metric=['bbox'])\r\n\r\ncustom_hooks = [\r\n    dict(type='YOLOXModeSwitchHook', num_last_epochs=15, priority=48),\r\n    dict(\r\n        type='SyncRandomSizeHook',\r\n        ratio_range=(14, 26),\r\n        img_scale=img_scale,\r\n        interval=interval,\r\n        priority=48),\r\n    dict(\r\n        type='SyncNormHook',\r\n        num_last_epochs=15,\r\n        interval=interval,\r\n        priority=48),\r\n    dict(type='ExpMomentumEMAHook', resume_from=resume_from, priority=49)\r\n]\r\ncheckpoint_config = dict(interval=1)\r\nlog_config = dict(\r\n    interval=50,\r\n    hooks=[\r\n        dict(type='TextLoggerHook'),\r\n    ])\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nload_from = None\r\nresume_from = None\r\nworkflow = [('train', 1)]\r\nwork_dir = '/home/yolox-s_error'\r\n\r\n**This is my custom datasets:**\r\n\r\n\r\n`\r\nfrom collections import OrderedDict\r\nimport os.path as osp\r\nfrom PIL import Image\r\nimport xml.etree.ElementTree as ET\r\n\r\nimport mmcv\r\nfrom mmdet.core import eval_map, eval_recalls\r\nfrom .builder import DATASETS\r\nfrom .xml_style import XMLDataset\r\n\r\n\r\n@DATASETS.register_module()\r\nclass CustomVOCDataset(XMLDataset):\r\n\r\n    def __init__(self, **kwargs):\r\n        super(CustomVOCDataset, self).__init__(**kwargs)\r\n\r\n    def evaluate(self,\r\n                 results,\r\n                 metric='mAP',\r\n                 logger=None,\r\n                 proposal_nums=(100, 300, 1000),\r\n                 iou_thr=0.5,\r\n                 scale_ranges=None):\r\n        \"\"\"Evaluate in VOC protocol.\r\n\r\n        Args:\r\n            results (list[list | tuple]): Testing results of the dataset.\r\n            metric (str | list[str]): Metrics to be evaluated. Options are\r\n                'mAP', 'recall'.\r\n            logger (logging.Logger | str, optional): Logger used for printing\r\n                related information during evaluation. Default: None.\r\n            proposal_nums (Sequence[int]): Proposal number used for evaluating\r\n                recalls, such as recall@100, recall@1000.\r\n                Default: (100, 300, 1000).\r\n            iou_thr (float | list[float]): IoU threshold. It must be a float\r\n                when evaluating mAP, and can be a list when evaluating recall.\r\n                Default: 0.5.\r\n            scale_ranges (list[tuple], optional): Scale ranges for evaluating\r\n                mAP. If not specified, all bounding boxes would be included in\r\n                evaluation. Default: None.\r\n\r\n        Returns:\r\n            dict[str, float]: AP/recall metrics.\r\n        \"\"\"\r\n\r\n        if not isinstance(metric, str):\r\n            assert len(metric) == 1\r\n            metric = metric[0]\r\n        allowed_metrics = ['mAP', 'recall']\r\n        if metric not in allowed_metrics:\r\n            raise KeyError(f'metric {metric} is not supported')\r\n        annotations = [self.get_ann_info(i) for i in range(len(self))]\r\n        eval_results = OrderedDict()\r\n        if metric == 'mAP':\r\n            assert isinstance(iou_thr, float)\r\n            ds_name = self.CLASSES\r\n            mean_ap, _ = eval_map(\r\n                results,\r\n                annotations,\r\n                scale_ranges=None,\r\n                iou_thr=iou_thr,\r\n                dataset=ds_name,\r\n                logger=logger)\r\n            eval_results['mAP'] = mean_ap\r\n        elif metric == 'recall':\r\n            gt_bboxes = [ann['bboxes'] for ann in annotations]\r\n            if isinstance(iou_thr, float):\r\n                iou_thr = [iou_thr]\r\n            recalls = eval_recalls(\r\n                gt_bboxes, results, proposal_nums, iou_thr, logger=logger)\r\n            for i, num in enumerate(proposal_nums):\r\n                for j, iou in enumerate(iou_thr):\r\n                    eval_results[f'recall@{num}@{iou}'] = recalls[i, j]\r\n            if recalls.shape[1] > 1:\r\n                ar = recalls.mean(axis=1)\r\n                for i, num in enumerate(proposal_nums):\r\n                    eval_results[f'AR@{num}'] = ar[i]\r\n        return eval_results\r\n\r\n    def load_annotations(self, ann_file):\r\n        \"\"\"Load annotation from XML style ann_file.\r\n\r\n        Args:\r\n            ann_file (str): Path of XML file.\r\n\r\n        Returns:\r\n            list[dict]: Annotation info from XML file.\r\n        \"\"\"\r\n\r\n        data_infos = []\r\n        img_names = mmcv.list_from_file(ann_file)\r\n        for img_name in img_names:\r\n            filename = f'JPEGImages/{img_name}'\r\n            img_id = osp.splitext(img_name)[0]\r\n            xml_path = osp.join(self.img_prefix, 'Annotations',\r\n                                f'{img_id}.xml')\r\n            tree = ET.parse(xml_path)\r\n            root = tree.getroot()\r\n            size = root.find('size')\r\n            width = 0\r\n            height = 0\r\n            if size is not None:\r\n                width = int(size.find('width').text)\r\n                height = int(size.find('height').text)\r\n            else:\r\n                img_path = osp.join(self.img_prefix, 'JPEGImages',\r\n                                    '{}'.format(img_name))\r\n                img = Image.open(img_path)\r\n                width, height = img.size\r\n            data_infos.append(\r\n                dict(id=img_id, filename=filename, width=width, height=height))\r\n\r\n        return data_infos`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5959", "id": 980818527, "node_id": "MDU6SXNzdWU5ODA4MTg1Mjc=", "number": 5959, "title": "\u7528VOC\u6570\u636e\u96c6\u6d4b\u8bd5faster_rcnn\u6027\u80fd\uff0c--eval recall\u65f6\u62a5\u9519\uff0c--eval mAP\u4e0d\u62a5\u9519", "user": {"login": "XFFwin", "id": 46950770, "node_id": "MDQ6VXNlcjQ2OTUwNzcw", "avatar_url": "https://avatars.githubusercontent.com/u/46950770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XFFwin", "html_url": "https://github.com/XFFwin", "followers_url": "https://api.github.com/users/XFFwin/followers", "following_url": "https://api.github.com/users/XFFwin/following{/other_user}", "gists_url": "https://api.github.com/users/XFFwin/gists{/gist_id}", "starred_url": "https://api.github.com/users/XFFwin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XFFwin/subscriptions", "organizations_url": "https://api.github.com/users/XFFwin/orgs", "repos_url": "https://api.github.com/users/XFFwin/repos", "events_url": "https://api.github.com/users/XFFwin/events{/privacy}", "received_events_url": "https://api.github.com/users/XFFwin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-08-27T02:53:21Z", "updated_at": "2021-09-01T15:26:38Z", "closed_at": "2021-09-01T15:26:38Z", "author_association": "NONE", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5959/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5930", "id": 976890246, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3NzEzNTk4", "number": 5930, "title": "[Fix]: Fix dtype of bbox in RandomAffine.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-08-23T10:42:16Z", "updated_at": "2022-01-13T08:18:10Z", "closed_at": "2021-08-25T11:51:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5930", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5930", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5930.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5930.patch", "merged_at": "2021-08-25T11:51:59Z"}, "body": "Bug: dtype of bbox change to float64 after multiply by the affine matrix.\r\n\r\nThis PR fixes this.\r\n\r\nresolve #5870", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5930/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5925", "id": 975426628, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NTc3NzQw", "number": 5925, "title": "fix dynamic shape bug", "user": {"login": "www516717402", "id": 30460509, "node_id": "MDQ6VXNlcjMwNDYwNTA5", "avatar_url": "https://avatars.githubusercontent.com/u/30460509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/www516717402", "html_url": "https://github.com/www516717402", "followers_url": "https://api.github.com/users/www516717402/followers", "following_url": "https://api.github.com/users/www516717402/following{/other_user}", "gists_url": "https://api.github.com/users/www516717402/gists{/gist_id}", "starred_url": "https://api.github.com/users/www516717402/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/www516717402/subscriptions", "organizations_url": "https://api.github.com/users/www516717402/orgs", "repos_url": "https://api.github.com/users/www516717402/repos", "events_url": "https://api.github.com/users/www516717402/events{/privacy}", "received_events_url": "https://api.github.com/users/www516717402/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-20T09:17:36Z", "updated_at": "2021-10-13T02:48:05Z", "closed_at": "2021-10-13T02:48:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5925", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5925", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5925.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5925.patch", "merged_at": null}, "body": "Cant modify dataset param when dataloader multiprocessing running.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925/reactions", "total_count": 7, "+1": 2, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 2, "eyes": 1}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5925/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5921", "id": 975359574, "node_id": "MDU6SXNzdWU5NzUzNTk1NzQ=", "number": 5921, "title": "Potiential bug when thers is multiple elements in `results['seg_fields']`", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2010593798, "node_id": "MDU6TGFiZWwyMDEwNTkzNzk4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20discussion", "name": "community discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-08-20T07:50:49Z", "updated_at": "2021-09-28T02:21:15Z", "closed_at": "2021-09-28T02:21:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/3280d43b813eb1cc7f77f270114a33de5a92fba9/mmdet/datasets/pipelines/transforms.py#L271\r\nWe overwrite the same key `gt_semantic_seg` in a loop, which may cause potential bugs when \r\nthere are multiple elements in the length of results[\"seg_fileds\"].\r\n\r\n#5747 gives a temporary solution, we need to remove `gt_semantic_seg` in the future.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5917", "id": 974415355, "node_id": "MDU6SXNzdWU5NzQ0MTUzNTU=", "number": 5917, "title": "Zero proposals for bbox head during training", "user": {"login": "Hussni-V", "id": 63623571, "node_id": "MDQ6VXNlcjYzNjIzNTcx", "avatar_url": "https://avatars.githubusercontent.com/u/63623571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hussni-V", "html_url": "https://github.com/Hussni-V", "followers_url": "https://api.github.com/users/Hussni-V/followers", "following_url": "https://api.github.com/users/Hussni-V/following{/other_user}", "gists_url": "https://api.github.com/users/Hussni-V/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hussni-V/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hussni-V/subscriptions", "organizations_url": "https://api.github.com/users/Hussni-V/orgs", "repos_url": "https://api.github.com/users/Hussni-V/repos", "events_url": "https://api.github.com/users/Hussni-V/events{/privacy}", "received_events_url": "https://api.github.com/users/Hussni-V/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-08-19T08:35:36Z", "updated_at": "2021-09-15T01:43:29Z", "closed_at": "2021-09-15T01:43:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nWhen I am training tridentnet on my custom dataset. During the first iteration, the model produces 0 proposals for the box head.\r\nI will be given this error:\r\n`File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/roi_heads/bbox_heads/bbox_head.py\", line 113, in forward`\r\n`x = x.view(x.size(0), -1)`\r\n`RuntimeError: cannot reshape tensor of 0 elements into shape [0, -1] because the unspecified dimension size -1 can be any value and is ambiguous`\r\n\r\nWhen I try to print the shape of x it is\r\n`x.shape torch.Size([0, 2048, 1, 1])`\r\n\r\nHowever, this error goes away if I change the backbone depth & init_cfg checkpoint of tridentnet or if I use another dataset.\r\nSo I know this is an edge case.\r\n\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```none\r\nA placeholder for the command.\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\n```\r\nsys.platform: linux\r\nPython: 3.8.8 (default, Feb 24 2021, 21:46:12) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0,1: NVIDIA Tesla P100-SXM2-16GB\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Build cuda_11.3.r11.3/compiler.29745058_0\r\nGCC: gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0\r\nPyTorch: 1.9.0+cu111\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v2.1.2 (Git Hash 98be7e8afa711dc9b66c8ff3504129cb82013cdb)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DSYMBOLICATE_MOBILE_DEBUG_HANDLE -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.10.0+cu111\r\nOpenCV: 4.5.3\r\nMMCV: 1.3.10\r\nMMCV Compiler: GCC 9.3\r\nMMCV CUDA Compiler: 11.3\r\nMMDetection: 2.15.1+909a753\r\n\r\n```\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/detectors/base.py\", line 171, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/detectors/trident_faster_rcnn.py\", line 66, in forward_train\r\n    return super(TridentFasterRCNN,\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/detectors/two_stage.py\", line 145, in forward_train\r\n    roi_losses = self.roi_head.forward_train(x, img_metas, proposal_list,\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 102, in forward_train\r\n    bbox_results = self._bbox_forward_train(x, sampling_results,\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 133, in _bbox_forward_train\r\n    bbox_results = self._bbox_forward(x, rois)\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 123, in _bbox_forward\r\n    cls_score, bbox_pred = self.bbox_head(bbox_feats)\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"/home/jovyan/work/vdetection/mmcv/mmcv/runner/fp16_utils.py\", line 98, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/jovyan/work/vdetection/mmdetection/mmdet/models/roi_heads/bbox_heads/bbox_head.py\", line 113, in forward\r\n    x = x.view(x.size(0), -1)\r\nRuntimeError: cannot reshape tensor of 0 elements into shape [0, -1] because the unspecified dimension size -1 can be any value and is ambiguous\r\n```\r\n\r\n**Bug fix**\r\nI believe this error is in the same nature as this error\r\nhttps://github.com/open-mmlab/mmdetection/issues/5037#issue-863591281\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5899", "id": 972270285, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzODg5MDY3", "number": 5899, "title": "[Fix] fix a yolox bug when applying bbox rescaling in test mode (reopened)", "user": {"login": "viibridges", "id": 3130229, "node_id": "MDQ6VXNlcjMxMzAyMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3130229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viibridges", "html_url": "https://github.com/viibridges", "followers_url": "https://api.github.com/users/viibridges/followers", "following_url": "https://api.github.com/users/viibridges/following{/other_user}", "gists_url": "https://api.github.com/users/viibridges/gists{/gist_id}", "starred_url": "https://api.github.com/users/viibridges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viibridges/subscriptions", "organizations_url": "https://api.github.com/users/viibridges/orgs", "repos_url": "https://api.github.com/users/viibridges/repos", "events_url": "https://api.github.com/users/viibridges/events{/privacy}", "received_events_url": "https://api.github.com/users/viibridges/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-08-17T03:39:38Z", "updated_at": "2023-04-03T07:13:04Z", "closed_at": "2021-08-25T07:51:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5899", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5899", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5899.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5899.patch", "merged_at": "2021-08-25T07:51:29Z"}, "body": "This bug is triggered only when batch_size > 1. For example, given batch_size = 20,\r\nthe tensor on the left side has shape [20, x, 4], while the tensor on the right size\r\nhas shape [20, 4]\r\n\r\n## Motivation\r\n\r\nfix a yolox bug when applying bbox rescaling in test mode.\r\n\r\n## Modification\r\n\r\nreshape a tensor so that the assignment can be carried on successfully. (code had been tested on both batch_size = 1 and batch_size > 1)\r\n\r\n## BC-breaking (Optional)\r\n\r\nDoes the modification introduce changes that break the backward-compatibility of the downstream repos?\r\nIf so, please describe how it breaks the compatibility and how the downstream projects should modify their code to keep compatibility with this PR.\r\n\r\n## Use cases (Optional)\r\n\r\nIf this PR introduces a new feature, it is better to list some use cases here, and update the documentation.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5899/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5898", "id": 972154873, "node_id": "MDU6SXNzdWU5NzIxNTQ4NzM=", "number": 5898, "title": "Class mismatch during evaluation", "user": {"login": "pcicales", "id": 9851953, "node_id": "MDQ6VXNlcjk4NTE5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9851953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcicales", "html_url": "https://github.com/pcicales", "followers_url": "https://api.github.com/users/pcicales/followers", "following_url": "https://api.github.com/users/pcicales/following{/other_user}", "gists_url": "https://api.github.com/users/pcicales/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcicales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcicales/subscriptions", "organizations_url": "https://api.github.com/users/pcicales/orgs", "repos_url": "https://api.github.com/users/pcicales/repos", "events_url": "https://api.github.com/users/pcicales/events{/privacy}", "received_events_url": "https://api.github.com/users/pcicales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-08-16T22:48:18Z", "updated_at": "2021-08-24T03:06:15Z", "closed_at": "2021-08-24T03:06:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI seem to have found a bug in the evaluation scripts. When I save my formatted predictions, everything is correct (classes are assigned correctly). However, when I use the classwise evaluation and visualization scripts (following the instructions you provided precisely) some of the classes are incorrectly assigned. I noticed that only classes with similar characters are incorrectly assigned. For example, I have a class called 'personal_mobility' and 'person' of which all predictions get grouped as 'personal_mobility' in both the classwise and visualization results. This also happened in 'bicycle_rack' and 'bicycle' for which all predictions were assigned 'bicycle_rack'. All other classes are correct. Again, my formatted json outputs do not have this problem.\r\n\r\nI did not use the bug template because I currently dont have time to produce the proper documentation of the issue, but wanted to bring this to your attention. I can add the error info later when I have more time (although it may not be necessary).\r\n\r\nIs this something mmdetection is aware of?\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5887", "id": 970916101, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyNzgwNzU1", "number": 5887, "title": "[Fix] The interface `multiscale_output` is defined but not used ", "user": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-08-14T13:50:16Z", "updated_at": "2021-08-31T07:20:49Z", "closed_at": "2021-08-25T07:48:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5887", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5887", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5887.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5887.patch", "merged_at": "2021-08-25T07:48:36Z"}, "body": "The interface `multiscale_output` is defined in `_make_stage` but never used.\r\n\r\nHRNet should be allowed to output a one-level feature in stage 4.\r\nSo we should use `multiscale_output` while making stage 4 and add interface  `multiscale_output` in the initialization function of HRNet.\r\n\r\nAdd unit test for HRNet in this PR, too.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5887/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5860", "id": 966132181, "node_id": "MDU6SXNzdWU5NjYxMzIxODE=", "number": 5860, "title": "use the resume function in training but not save new mAP values ", "user": {"login": "alaa-shubbak", "id": 10245810, "node_id": "MDQ6VXNlcjEwMjQ1ODEw", "avatar_url": "https://avatars.githubusercontent.com/u/10245810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alaa-shubbak", "html_url": "https://github.com/alaa-shubbak", "followers_url": "https://api.github.com/users/alaa-shubbak/followers", "following_url": "https://api.github.com/users/alaa-shubbak/following{/other_user}", "gists_url": "https://api.github.com/users/alaa-shubbak/gists{/gist_id}", "starred_url": "https://api.github.com/users/alaa-shubbak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alaa-shubbak/subscriptions", "organizations_url": "https://api.github.com/users/alaa-shubbak/orgs", "repos_url": "https://api.github.com/users/alaa-shubbak/repos", "events_url": "https://api.github.com/users/alaa-shubbak/events{/privacy}", "received_events_url": "https://api.github.com/users/alaa-shubbak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2021-08-11T07:30:47Z", "updated_at": "2021-08-24T03:17:49Z", "closed_at": "2021-08-24T03:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear All , \r\nI try to use the resume function in training mode , as i want to have more epoch than what i had , \r\ni did the training first using Faster_RCNN with only 60 epoch , then plot the performance and find the mAP values not enough , so i return back to the model and run this function with resume from latest epoch \r\n\r\n`python tools/train.py configs/human/my_custom_config.py --gpus 1 --work-dir training_data/faster_rcnn_epoch60 --resume-from training_data/faster_rcnn_epoch60/latest.pth\r\n`\r\nmy problem and question is that , when using resume , i got more epoch saved in my machine , but without saving the value of mAP for validation for such epoch , and i need such value to evaluate the training process and choice the higher one to pick its weight for doing the test mode . \r\n\r\nwhen try to plot the performance using this function with new (.json) file  \r\n\r\n`python tools/analysis_tools/analyze_logs.py plot_curve training_data/faster_rcnn_epoch60/20210811_012551.log.json --keys bbox_mAP --legend mAP_bbox`\r\n\r\nI got this error massage: \r\n\r\nKeyError: 'training_data/faster_rcnn_epoch60/20210811_012551.log.json does not contain metric bbox_mAP'\r\n\r\nwhich is strange ,as i can plot the performance when using the json file of training in first time , but after resume i can not ..\r\nalthough , i did not change any thing in config file except the max_epoch value to be 120 instead of 60 \r\n\r\nany help please? \r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5860/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5793", "id": 960680282, "node_id": "MDU6SXNzdWU5NjA2ODAyODI=", "number": 5793, "title": "Inference phase generates wrong classification prediction", "user": {"login": "aliceinland", "id": 30385910, "node_id": "MDQ6VXNlcjMwMzg1OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/30385910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aliceinland", "html_url": "https://github.com/aliceinland", "followers_url": "https://api.github.com/users/aliceinland/followers", "following_url": "https://api.github.com/users/aliceinland/following{/other_user}", "gists_url": "https://api.github.com/users/aliceinland/gists{/gist_id}", "starred_url": "https://api.github.com/users/aliceinland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aliceinland/subscriptions", "organizations_url": "https://api.github.com/users/aliceinland/orgs", "repos_url": "https://api.github.com/users/aliceinland/repos", "events_url": "https://api.github.com/users/aliceinland/events{/privacy}", "received_events_url": "https://api.github.com/users/aliceinland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-08-04T16:07:43Z", "updated_at": "2021-11-16T02:50:01Z", "closed_at": "2021-11-16T02:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I have used the CBNetV2 model, based upon mmdetection and now I am facing some problems during the inference phase.\r\nThis is the code that I have used, since I need to perform this operations without using the test.json file (I'm using a CocoDataset type).\r\n``` {python}\r\nfrom mmcv import Config\r\nfrom mmdet.apis import set_random_seed\r\nfrom mmdet.datasets import build_dataset\r\nfrom mmdet.models import build_detector\r\nfrom mmdet.apis import train_detector, init_detector, inference_detector, show_result_pyplot\r\nimport torch\r\nimport matplotlib.pyplot as plt\r\n\r\nmodel_path = '/workspace/CBNetV2/configs/cbnet/mask_rcnn_cbv2_swin_tiny_patch4_window7_mstrain_480-800_adamw_3x_coco.py'\r\n\r\ncfg = Config.fromfile(model_path)\r\ncfg.classes = ('short sleeve top', 'long sleeve top', 'short sleeve outwear', 'long sleeve outwear', 'vest', 'sling', 'shorts', 'trousers', 'skirt', 'short sleeve dress', 'long sleeve dress', 'vest dress', 'sling dress')\r\nfrom PIL import Image\r\n\r\nimg_path = 'img.jpg'\r\nimg = Image.open(img_path)\r\n\r\ninference_detector(model, img_path)\r\nshow_result_pyplot(model, img_path, res, score_thr=0.25)\r\n```\r\n\r\nThe problem is that the mask are correctly predicted but the classes predicted are wrong (e.g. the pants are perfectly masked but the prediction is another one such as long sleeve shirt). Do you have any idea why? Or where I can look to find the main problem. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5793/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5747", "id": 957495522, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwOTExNTcz", "number": 5747, "title": "add support for resizing multiple sem segs", "user": {"login": "HarborYuan", "id": 25056573, "node_id": "MDQ6VXNlcjI1MDU2NTcz", "avatar_url": "https://avatars.githubusercontent.com/u/25056573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HarborYuan", "html_url": "https://github.com/HarborYuan", "followers_url": "https://api.github.com/users/HarborYuan/followers", "following_url": "https://api.github.com/users/HarborYuan/following{/other_user}", "gists_url": "https://api.github.com/users/HarborYuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/HarborYuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HarborYuan/subscriptions", "organizations_url": "https://api.github.com/users/HarborYuan/orgs", "repos_url": "https://api.github.com/users/HarborYuan/repos", "events_url": "https://api.github.com/users/HarborYuan/events{/privacy}", "received_events_url": "https://api.github.com/users/HarborYuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-08-01T13:40:38Z", "updated_at": "2021-09-27T12:07:17Z", "closed_at": "2021-09-27T12:07:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5747", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5747", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5747.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5747.patch", "merged_at": "2021-09-27T12:07:17Z"}, "body": "## Motivation\r\n\r\nAdd support for resizing multiple semantic segmentation. The current version of _resize_seg seems that the \"seg_fields\" has no use and is different rom _resize_masks.\r\n\r\n## Modification\r\n\r\n+.  results[key] = gt_seg\r\n\r\n## BC-breaking (Optional)\r\n\r\n## Use cases (Optional)\r\n\r\nWhen there are multiple segmentations of a data sample need to be resized.\r\n\r\n## Checklist\r\n\r\n1. Pre-commit or other linting tools are used to fix the potential lint issues.\r\nDone.\r\n2. The modification is covered by complete unit tests. If not, please add more unit test to ensure the correctness.\r\n3. If the modification has potential influence on downstream projects, this PR should be tested with downstream projects, like MMDet or MMCls.\r\n4. The documentation has been modified accordingly, like docstring or example tutorials.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5747/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5717", "id": 955406120, "node_id": "MDU6SXNzdWU5NTU0MDYxMjA=", "number": 5717, "title": "[Bug]: Can not using custom loss when determine sampling by loss type.", "user": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-07-29T02:51:46Z", "updated_at": "2021-10-25T04:04:57Z", "closed_at": "2021-10-25T04:04:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This hardcode has caused some bugs when using custom loss.\r\n\r\nhttps://github.com/open-mmlab/mmdetection/blob/2295154d0413a5d9df26579c56ef067be30e48b9/mmdet/models/dense_heads/anchor_head.py#L65-L68", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5717/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5694", "id": 952969284, "node_id": "MDU6SXNzdWU5NTI5NjkyODQ=", "number": 5694, "title": "During how training how do I show BOTH val loss and compute mAP?", "user": {"login": "andrewmellinger", "id": 5805856, "node_id": "MDQ6VXNlcjU4MDU4NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5805856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewmellinger", "html_url": "https://github.com/andrewmellinger", "followers_url": "https://api.github.com/users/andrewmellinger/followers", "following_url": "https://api.github.com/users/andrewmellinger/following{/other_user}", "gists_url": "https://api.github.com/users/andrewmellinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewmellinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewmellinger/subscriptions", "organizations_url": "https://api.github.com/users/andrewmellinger/orgs", "repos_url": "https://api.github.com/users/andrewmellinger/repos", "events_url": "https://api.github.com/users/andrewmellinger/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewmellinger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-07-26T14:30:55Z", "updated_at": "2022-05-12T10:15:25Z", "closed_at": "2021-08-30T09:41:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found this issue:\r\n\r\nhttps://github.com/open-mmlab/mmdetection/issues/171\r\n\r\nWhere it says \"For validation there are two options.\".  How do I do both at the same time? Can I just give it val and test datasets/dataloaders and have it do both?  \r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5657", "id": 948731745, "node_id": "MDU6SXNzdWU5NDg3MzE3NDU=", "number": 5657, "title": "ValueError: Expected x_min for bbox (-0.001953125, 0.18359375, 0.158203125, 0.640625, 0) to be in the range [0.0, 1.0], got -0.001953125.", "user": {"login": "Ycrazyprimitive", "id": 28592394, "node_id": "MDQ6VXNlcjI4NTkyMzk0", "avatar_url": "https://avatars.githubusercontent.com/u/28592394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ycrazyprimitive", "html_url": "https://github.com/Ycrazyprimitive", "followers_url": "https://api.github.com/users/Ycrazyprimitive/followers", "following_url": "https://api.github.com/users/Ycrazyprimitive/following{/other_user}", "gists_url": "https://api.github.com/users/Ycrazyprimitive/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ycrazyprimitive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ycrazyprimitive/subscriptions", "organizations_url": "https://api.github.com/users/Ycrazyprimitive/orgs", "repos_url": "https://api.github.com/users/Ycrazyprimitive/repos", "events_url": "https://api.github.com/users/Ycrazyprimitive/events{/privacy}", "received_events_url": "https://api.github.com/users/Ycrazyprimitive/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}, {"id": 4540674103, "node_id": "LA_kwDOCK7AWs8AAAABDqUwNw", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chhluo", "id": 26483343, "node_id": "MDQ6VXNlcjI2NDgzMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/26483343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chhluo", "html_url": "https://github.com/chhluo", "followers_url": "https://api.github.com/users/chhluo/followers", "following_url": "https://api.github.com/users/chhluo/following{/other_user}", "gists_url": "https://api.github.com/users/chhluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chhluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chhluo/subscriptions", "organizations_url": "https://api.github.com/users/chhluo/orgs", "repos_url": "https://api.github.com/users/chhluo/repos", "events_url": "https://api.github.com/users/chhluo/events{/privacy}", "received_events_url": "https://api.github.com/users/chhluo/received_events", "type": "User", "site_admin": false}, {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-07-20T14:48:40Z", "updated_at": "2022-09-28T11:32:29Z", "closed_at": "2022-09-28T11:32:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I use \u2018Albu\u2019 for data enhancement, the following bug occurs\uff1a\r\nValueError: Expected x_min for bbox (-0.001953125, 0.18359375, 0.158203125, 0.640625, 0) to be in the range [0.0, 1.0], got -0.001953125.\r\n\r\n**Reproduction**\r\nMy Albu\u2018s configs\uff1a\r\nalbu_train_transforms = [\r\n    dict(\r\n        type='HorizontalFlip',\r\n        p=0.5\r\n    ),\r\n    dict(\r\n        type='VerticalFlip',\r\n        p=0.5\r\n    )\r\n]\r\n    dict(type='Albu',\r\n         transforms=albu_train_transforms,\r\n         bbox_params=dict(\r\n             type='BboxParams',\r\n             format='pascal_voc',\r\n             label_fields=['gt_labels'],\r\n             min_visibility=0.1,\r\n             min_area=0.1,\r\n             filter_lost_elements=True),\r\n         keymap={\r\n             'img': 'image',\r\n             'gt_bboxes': 'bboxes'\r\n         },\r\n         update_pad_shape=False,\r\n         skip_img_without_anno=True), \r\n\r\nMy dataset is a SAR image dataset in VOC format.\r\n\r\n**Environment**\r\n\r\n1. environment information:\r\nsys.platform: linux\r\nPython: 3.7.10 | packaged by conda-forge | (default, Feb 19 2021, 16:07:37) [GCC 9.3.0]\r\nCUDA available: True\r\nGPU 0: GeForce RTX 3090\r\nCUDA_HOME: /usr/local/cuda-11.0\r\nNVCC: Build cuda_11.0_bu.TC445_37.28540450_0\r\nGCC: gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0\r\nPyTorch: 1.7.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.2-Product Build 20210312 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.6.0 (Git Hash 5ef631a030a6f73131c77892041042805a06064f)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.0\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.3\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_VULKAN_WRAPPER -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.8.0\r\nOpenCV: 4.5.2\r\nMMCV: 1.3.7\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 11.0\r\nMMDetection: 2.13.0+87ad480\r\n\r\n**Error traceback**\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 196, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 192, in main\r\n    meta=meta)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 47, in train\r\n    for i, data_batch in enumerate(self.data_loader):\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 435, in __next__\r\n    data = self._next_data()\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 1085, in _next_data\r\n    return self._process_data(data)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 1111, in _process_data\r\n    data.reraise()\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/_utils.py\", line 428, in reraise\r\n    raise self.exc_type(msg)\r\nValueError: Caught ValueError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/_utils/worker.py\", line 198, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/datasets/dataset_wrappers.py\", line 151, in __getitem__\r\n    return self.dataset[idx % self._ori_len]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/torch/utils/data/dataset.py\", line 218, in __getitem__\r\n    return self.datasets[dataset_idx][sample_idx]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/datasets/custom.py\", line 194, in __getitem__\r\n    data = self.prepare_train_img(idx)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/datasets/custom.py\", line 217, in prepare_train_img\r\n    return self.pipeline(results)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/datasets/pipelines/compose.py\", line 40, in __call__\r\n    data = t(data)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/mmdet-2.13.0-py3.7.egg/mmdet/datasets/pipelines/transforms.py\", line 1441, in __call__\r\n    results = self.aug(**results)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/core/composition.py\", line 188, in __call__\r\n    p.preprocess(data)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/core/utils.py\", line 62, in preprocess\r\n    data[data_name] = self.check_and_convert(data[data_name], rows, cols, direction=\"to\")\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/core/utils.py\", line 70, in check_and_convert\r\n    return self.convert_to_albumentations(data, rows, cols)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/augmentations/bbox_utils.py\", line 51, in convert_to_albumentations\r\n    return convert_bboxes_to_albumentations(data, self.params.format, rows, cols, check_validity=True)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/augmentations/bbox_utils.py\", line 306, in convert_bboxes_to_albumentations\r\n    return [convert_bbox_to_albumentations(bbox, source_format, rows, cols, check_validity) for bbox in bboxes]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/augmentations/bbox_utils.py\", line 306, in <listcomp>\r\n    return [convert_bbox_to_albumentations(bbox, source_format, rows, cols, check_validity) for bbox in bboxes]\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/augmentations/bbox_utils.py\", line 254, in convert_bbox_to_albumentations\r\n    check_bbox(bbox)\r\n  File \"/home/ytx/soft/anaconda3/envs/ipen-mmlab/lib/python3.7/site-packages/albumentations/augmentations/bbox_utils.py\", line 333, in check_bbox\r\n    \"to be in the range [0.0, 1.0], got {value}.\".format(bbox=bbox, name=name, value=value)\r\nValueError: Expected x_min for bbox (-0.001953125, 0.18359375, 0.158203125, 0.640625, 0) to be in the range [0.0, 1.0], got -0.001953125.\r\n\r\nthank you !\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5648", "id": 948080258, "node_id": "MDU6SXNzdWU5NDgwODAyNTg=", "number": 5648, "title": "Error get params DETR/ Deformable DETR", "user": {"login": "tikitong", "id": 86666280, "node_id": "MDQ6VXNlcjg2NjY2Mjgw", "avatar_url": "https://avatars.githubusercontent.com/u/86666280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tikitong", "html_url": "https://github.com/tikitong", "followers_url": "https://api.github.com/users/tikitong/followers", "following_url": "https://api.github.com/users/tikitong/following{/other_user}", "gists_url": "https://api.github.com/users/tikitong/gists{/gist_id}", "starred_url": "https://api.github.com/users/tikitong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tikitong/subscriptions", "organizations_url": "https://api.github.com/users/tikitong/orgs", "repos_url": "https://api.github.com/users/tikitong/repos", "events_url": "https://api.github.com/users/tikitong/events{/privacy}", "received_events_url": "https://api.github.com/users/tikitong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-19T22:35:35Z", "updated_at": "2021-07-20T07:15:47Z", "closed_at": "2021-07-20T07:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Despite my attempts to modify, also just testing with the basic config detr file. \r\nMaybe this issue has already been raised?\r\nmmdet==2.13.0\r\nmmcv=1.3.3\r\n\r\n```python\r\npython tools/analysis_tools/get_flops.py configs/detr/detr_r50_8x2_150e_coco.py\r\n```\r\n\r\n```python\r\n/home/bluav/mmdetection/mmdet/models/backbones/resnet.py:400: UserWarning: DeprecationWarning: pretrained is a deprecated, please use \"init_cfg\" instead\r\n  warnings.warn('DeprecationWarning: pretrained is a deprecated, '\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nWarning: variables __flops__ or __params__ are already defined for the moduleReLU ptflops can affect your code!\r\nTraceback (most recent call last):\r\n  File \"tools/analysis_tools/get_flops.py\", line 81, in <module>\r\n    main()\r\n  File \"tools/analysis_tools/get_flops.py\", line 71, in main\r\n    flops, params = get_model_complexity_info(model, input_shape)\r\n  File \"/home/bluav/.conda/envs/open-mmlab/lib/python3.7/site-packages/mmcv/cnn/utils/flops_counter.py\", line 104, in get_model_complexity_info\r\n    _ = flops_model(batch)\r\n  File \"/home/bluav/.conda/envs/open-mmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/bluav/mmdetection/mmdet/models/detectors/single_stage.py\", line 48, in forward_dummy\r\n    outs = self.bbox_head(x)\r\n  File \"/home/bluav/.conda/envs/open-mmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\nTypeError: forward() missing 1 required positional argument: 'img_metas'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5592", "id": 941933307, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg3NzMyNTMw", "number": 5592, "title": "The `multiclass_nms` should return the global indices.", "user": {"login": "zeakey", "id": 6763078, "node_id": "MDQ6VXNlcjY3NjMwNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6763078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zeakey", "html_url": "https://github.com/zeakey", "followers_url": "https://api.github.com/users/zeakey/followers", "following_url": "https://api.github.com/users/zeakey/following{/other_user}", "gists_url": "https://api.github.com/users/zeakey/gists{/gist_id}", "starred_url": "https://api.github.com/users/zeakey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zeakey/subscriptions", "organizations_url": "https://api.github.com/users/zeakey/orgs", "repos_url": "https://api.github.com/users/zeakey/repos", "events_url": "https://api.github.com/users/zeakey/events{/privacy}", "received_events_url": "https://api.github.com/users/zeakey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-07-12T10:56:52Z", "updated_at": "2021-07-16T06:44:22Z", "closed_at": "2021-07-16T06:44:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5592", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5592", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5592.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5592.patch", "merged_at": "2021-07-16T06:44:21Z"}, "body": "## Motivation\r\nThis PR improves the codes for multi_class bbox NMS by returning the global indice.\r\n\r\nCurrently [multiclass_nms](https://github.com/open-mmlab/mmdetection/blob/b9dedfdc8b660804bb31ae031a251e86a4905ade/mmdet/core/post_processing/bbox_nms.py#L7-L94) returns the local indices after batched_nms:\r\n\r\n<https://github.com/open-mmlab/mmdetection/blob/b9dedfdc8b660804bb31ae031a251e86a4905ade/mmdet/core/post_processing/bbox_nms.py#L85-L92>\r\n\r\nThe returned indices is useless outside the function unless it's a global indice w.r.t the inputs.\r\n\r\n## Modification\r\nThe modification is quite slight: change <https://github.com/open-mmlab/mmdetection/blob/b9dedfdc8b660804bb31ae031a251e86a4905ade/mmdet/core/post_processing/bbox_nms.py#L92>\r\n\r\nto `return dets, labels[keep], inds[keep]`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5592/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5540", "id": 937490359, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg0MDM2MjI3", "number": 5540, "title": "[Fix] Use `warnings.warn` instead of `logger.warning`", "user": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-06T03:40:47Z", "updated_at": "2021-08-31T07:20:52Z", "closed_at": "2021-08-25T07:49:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5540", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5540", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5540.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5540.patch", "merged_at": "2021-08-25T07:49:40Z"}, "body": "Logger.warning() will report a warning message every time during inference.\r\nWe should fix it.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5540/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5523", "id": 936495716, "node_id": "MDU6SXNzdWU5MzY0OTU3MTY=", "number": 5523, "title": "It's this code have logic error?", "user": {"login": "wywywy01", "id": 22450352, "node_id": "MDQ6VXNlcjIyNDUwMzUy", "avatar_url": "https://avatars.githubusercontent.com/u/22450352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wywywy01", "html_url": "https://github.com/wywywy01", "followers_url": "https://api.github.com/users/wywywy01/followers", "following_url": "https://api.github.com/users/wywywy01/following{/other_user}", "gists_url": "https://api.github.com/users/wywywy01/gists{/gist_id}", "starred_url": "https://api.github.com/users/wywywy01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wywywy01/subscriptions", "organizations_url": "https://api.github.com/users/wywywy01/orgs", "repos_url": "https://api.github.com/users/wywywy01/repos", "events_url": "https://api.github.com/users/wywywy01/events{/privacy}", "received_events_url": "https://api.github.com/users/wywywy01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, {"login": "BIGWangYuDong", "id": 48282753, "node_id": "MDQ6VXNlcjQ4MjgyNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/48282753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BIGWangYuDong", "html_url": "https://github.com/BIGWangYuDong", "followers_url": "https://api.github.com/users/BIGWangYuDong/followers", "following_url": "https://api.github.com/users/BIGWangYuDong/following{/other_user}", "gists_url": "https://api.github.com/users/BIGWangYuDong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BIGWangYuDong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BIGWangYuDong/subscriptions", "organizations_url": "https://api.github.com/users/BIGWangYuDong/orgs", "repos_url": "https://api.github.com/users/BIGWangYuDong/repos", "events_url": "https://api.github.com/users/BIGWangYuDong/events{/privacy}", "received_events_url": "https://api.github.com/users/BIGWangYuDong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-07-04T16:39:23Z", "updated_at": "2021-08-26T14:24:11Z", "closed_at": "2021-08-26T14:24:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,  i saw this comment in hrnet, while there's no input for change the status, and the 'reset_multiscale_output ' variable always True.\r\n\r\nhttps://github.com/open-mmlab/mmdetection/blob/HEAD/mmdet/models/backbones/hrnet.py#L499\r\n\r\n`\r\n#####  multi_scale_output is only used for the last module\r\n            if not multiscale_output and i == num_modules - 1:  # \u4e00\u76f4\u4e3aFalse\r\n                reset_multiscale_output = False\r\n            else:\r\n                reset_multiscale_output = True\r\n`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5505", "id": 935367728, "node_id": "MDU6SXNzdWU5MzUzNjc3Mjg=", "number": 5505, "title": "Resume Training Issue", "user": {"login": "yan-roo", "id": 49684416, "node_id": "MDQ6VXNlcjQ5Njg0NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/49684416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yan-roo", "html_url": "https://github.com/yan-roo", "followers_url": "https://api.github.com/users/yan-roo/followers", "following_url": "https://api.github.com/users/yan-roo/following{/other_user}", "gists_url": "https://api.github.com/users/yan-roo/gists{/gist_id}", "starred_url": "https://api.github.com/users/yan-roo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yan-roo/subscriptions", "organizations_url": "https://api.github.com/users/yan-roo/orgs", "repos_url": "https://api.github.com/users/yan-roo/repos", "events_url": "https://api.github.com/users/yan-roo/events{/privacy}", "received_events_url": "https://api.github.com/users/yan-roo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-07-02T03:03:15Z", "updated_at": "2021-07-05T01:14:54Z", "closed_at": "2021-07-05T01:14:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nWhen I used the command to resume training from epoch 76\r\n`bash tools/dist_train.sh configs 8 --resume-from epoch_76.pth`\r\n\r\nThe training resume from epoch 64 instead.\r\n```\r\n2021-07-02 10:24:28,325 - mmdet - INFO - load checkpoint from work_dirs/model/epoch_76.pth\r\n2021-07-02 10:24:28,325 - mmdet - INFO - Use load_from_local loader\r\n2021-07-02 10:24:30,810 - mmdet - INFO - resumed epoch 64, iter 156416\r\n2021-07-02 10:24:30,811 - mmdet - INFO - Start running, host: u8485326@ppsox5ctr1624351441275-pnh75, work_dir: /home/u8485326/mmdetection/work_dirs/model\r\n2021-07-02 10:24:30,811 - mmdet - INFO - workflow: [('train', 1)], max: 280 epochs\r\n```\r\nAny suggention?\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5463", "id": 930875408, "node_id": "MDU6SXNzdWU5MzA4NzU0MDg=", "number": 5463, "title": "Some error in dataset visualization code", "user": {"login": "xychen9459", "id": 20590117, "node_id": "MDQ6VXNlcjIwNTkwMTE3", "avatar_url": "https://avatars.githubusercontent.com/u/20590117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xychen9459", "html_url": "https://github.com/xychen9459", "followers_url": "https://api.github.com/users/xychen9459/followers", "following_url": "https://api.github.com/users/xychen9459/following{/other_user}", "gists_url": "https://api.github.com/users/xychen9459/gists{/gist_id}", "starred_url": "https://api.github.com/users/xychen9459/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xychen9459/subscriptions", "organizations_url": "https://api.github.com/users/xychen9459/orgs", "repos_url": "https://api.github.com/users/xychen9459/repos", "events_url": "https://api.github.com/users/xychen9459/events{/privacy}", "received_events_url": "https://api.github.com/users/xychen9459/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-06-27T08:11:59Z", "updated_at": "2021-08-16T06:15:01Z", "closed_at": "2021-08-16T06:15:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found that `tools/misc/browse_dataset.py` has some error when loading config dict in the line 55-58\r\n```\r\ntrain_data_cfg = cfg.data.train\r\ntrain_data_cfg['pipeline'] = [\r\n    x for x in train_data_cfg.pipeline if x['type'] not in skip_type\r\n]\r\n```\r\nIf the training data is wrapped with 'RepeatDataset', the above codes can report the following error:\r\n```\r\n......\r\nFile \"tools/misc/browse_dataset.py\", line 57, in retrieve_data_cfg\r\n    x for x in train_data_cfg.pipeline if x['type'] not in skip_type\r\n......\r\nAttributeError: 'ConfigDict' object has no attribute 'pipeline'\r\n```\r\nIn fact, the real dataset config is contained in the key 'dataset' of 'RepeatDataset' (see `mmdet/datasets/dataset_wrappers.py`). I tried to fix the error with the following codes:\r\n```\r\ntrain_data_cfg = cfg.data.train\r\nif isinstance(train_data_cfg, ConfigDict):           # unwrap the real dataset config from RepeatDataset\r\n    train_data_cfg = train_data_cfg['dataset']\r\ntrain_data_cfg['pipeline'] = [\r\n    x for x in train_data_cfg.pipeline if x['type'] not in skip_type\r\n]\r\n```\r\nNow I can visualize the dataset properly. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5416", "id": 927173642, "node_id": "MDU6SXNzdWU5MjcxNzM2NDI=", "number": 5416, "title": "Can't download pretrained model", "user": {"login": "MarcusNerva", "id": 37070207, "node_id": "MDQ6VXNlcjM3MDcwMjA3", "avatar_url": "https://avatars.githubusercontent.com/u/37070207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcusNerva", "html_url": "https://github.com/MarcusNerva", "followers_url": "https://api.github.com/users/MarcusNerva/followers", "following_url": "https://api.github.com/users/MarcusNerva/following{/other_user}", "gists_url": "https://api.github.com/users/MarcusNerva/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcusNerva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcusNerva/subscriptions", "organizations_url": "https://api.github.com/users/MarcusNerva/orgs", "repos_url": "https://api.github.com/users/MarcusNerva/repos", "events_url": "https://api.github.com/users/MarcusNerva/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcusNerva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-06-22T12:21:18Z", "updated_at": "2021-06-24T06:21:12Z", "closed_at": "2021-06-24T06:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/37070207/122923340-33f2ba80-d397-11eb-8327-b31ebf3201d2.png)\r\nI can't download [faster_rcnn_x101_32x4d_fpn_mstrain_3x_coco](https://download.openmmlab.com/mmdetection/v2.0/faster_rcnn/faster_rcnn_x101_32x4d_fpn_mstrain_3x_coco/faster_rcnn_x101_32x4d_fpn_mstrain_3x_coco_20210524_124151-e8595dde.pth)\r\n\r\nCan anyone help me?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5396", "id": 925398393, "node_id": "MDU6SXNzdWU5MjUzOTgzOTM=", "number": 5396, "title": "A small bug about  plot_curve fucntion in tools/analysis_tools/analyze_logs.py", "user": {"login": "Y-M-Y", "id": 44496446, "node_id": "MDQ6VXNlcjQ0NDk2NDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/44496446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Y-M-Y", "html_url": "https://github.com/Y-M-Y", "followers_url": "https://api.github.com/users/Y-M-Y/followers", "following_url": "https://api.github.com/users/Y-M-Y/following{/other_user}", "gists_url": "https://api.github.com/users/Y-M-Y/gists{/gist_id}", "starred_url": "https://api.github.com/users/Y-M-Y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Y-M-Y/subscriptions", "organizations_url": "https://api.github.com/users/Y-M-Y/orgs", "repos_url": "https://api.github.com/users/Y-M-Y/repos", "events_url": "https://api.github.com/users/Y-M-Y/events{/privacy}", "received_events_url": "https://api.github.com/users/Y-M-Y/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-06-19T13:50:16Z", "updated_at": "2021-09-28T02:22:45Z", "closed_at": "2021-09-28T02:22:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_Thank you very much_ for bringing great help to my research. I encountered a small problem in the process of using it, and I also proposed my own solution for your reference.\r\n\r\n**Describe the bug**\r\nWhen using the `plot_curve` function `tools/analysis_tools/analyze_logs.py` to plot the curve of loss-iteration, loss values with a large number of iterations will be misplaced in front of the loss with a small number of iterations. Therefore, some details of the loss-iteration curve are disorderly.\r\n![Figure_1](https://user-images.githubusercontent.com/44496446/122661946-ef61f600-d1c1-11eb-938a-d7e6b10b3ef3.png)\r\n\r\nThere could be some problems with the setting of abscissa(iters). I checked the `plot_curve` fucntion in `tools/analysis_tools/analyze_logs.py` and found that `num_iters_per_epoch` could not return the right value. It returns the iter of `mode:val` instead of the last/biggest number of `mode:train` in log.json file.\r\n\r\n\r\n**Reproduction**\r\nUsing `python tools/analysis_tools/analyze_logs.py plot_curve log.json --keys loss_cls --legend loss_cls` to plot curve.\r\nHere's my log and log.json file.\r\n[logandlogjason20210619_165226.zip](https://github.com/open-mmlab/mmdetection/files/6681733/logandlogjason20210619_165226.zip)\r\n\r\n\r\n**Environment**\r\nmmdet 2.13\r\n\r\n\r\n**Bug fix**\r\nI tried a method that can solve my problem, but it may not work for all related problems.\r\n\r\nln `line 68` of `tools/analysis_tools/analyze_logs.py`, I changed `num_iters_per_epoch = log_dict[epochs[0]]['iter'][-1]` to `num_iters_per_epoch = log_dict[epochs[0]]['iter'][-2]`. After the change, `num_iters_per_epoch` could return the last value of `mode:train` instead of the value of `mode:val`.\r\n![Figure_2](https://user-images.githubusercontent.com/44496446/122661955-fee13f00-d1c1-11eb-988c-eaa5e49903cf.png)\r\n\r\n\r\nThe solution only works when there is only one value of `mode:val`.\r\n\r\nThanks again.\r\n\r\n**PS**\r\nI am totally a freshman on this. If there is any problem, please don't hesitate to correct me.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5382", "id": 923337074, "node_id": "MDU6SXNzdWU5MjMzMzcwNzQ=", "number": 5382, "title": " val loss log not show using IterBasedRunner", "user": {"login": "fangwudi", "id": 20792612, "node_id": "MDQ6VXNlcjIwNzkyNjEy", "avatar_url": "https://avatars.githubusercontent.com/u/20792612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fangwudi", "html_url": "https://github.com/fangwudi", "followers_url": "https://api.github.com/users/fangwudi/followers", "following_url": "https://api.github.com/users/fangwudi/following{/other_user}", "gists_url": "https://api.github.com/users/fangwudi/gists{/gist_id}", "starred_url": "https://api.github.com/users/fangwudi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fangwudi/subscriptions", "organizations_url": "https://api.github.com/users/fangwudi/orgs", "repos_url": "https://api.github.com/users/fangwudi/repos", "events_url": "https://api.github.com/users/fangwudi/events{/privacy}", "received_events_url": "https://api.github.com/users/fangwudi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-06-17T02:30:30Z", "updated_at": "2021-07-13T09:52:05Z", "closed_at": "2021-07-13T09:52:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nconfig like below:\r\ndataset_type = 'MyCustomDataset'\r\nworkflow = [('train', 1), ('val', 1)]\r\nrunner = dict(type='IterBasedRunner' , max_iters=10)\r\n\r\nsh dist_train.sh and result (val loss not print out):\r\n![image](https://user-images.githubusercontent.com/20792612/122321654-c984e900-cf56-11eb-8fea-b75325826204.png)\r\n\r\nBy the way, when I use EpochBasedRunner, it works fine\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```none\r\nA placeholder for the command.\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\nTorchVision: 0.6.1+cu101\r\nOpenCV: 4.5.1\r\nMMCV: 1.3.6\r\nMMCV Compiler: GCC 7.5\r\nMMCV CUDA Compiler: 10.1\r\nMMDetection: 2.13.0+f34a9a1\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5362", "id": 921129112, "node_id": "MDU6SXNzdWU5MjExMjkxMTI=", "number": 5362, "title": "Using a 1280x720 dataset with YOLACT", "user": {"login": "pcicales", "id": 9851953, "node_id": "MDQ6VXNlcjk4NTE5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9851953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcicales", "html_url": "https://github.com/pcicales", "followers_url": "https://api.github.com/users/pcicales/followers", "following_url": "https://api.github.com/users/pcicales/following{/other_user}", "gists_url": "https://api.github.com/users/pcicales/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcicales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcicales/subscriptions", "organizations_url": "https://api.github.com/users/pcicales/orgs", "repos_url": "https://api.github.com/users/pcicales/repos", "events_url": "https://api.github.com/users/pcicales/events{/privacy}", "received_events_url": "https://api.github.com/users/pcicales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2021-06-15T08:13:04Z", "updated_at": "2021-09-04T01:00:44Z", "closed_at": "2021-09-04T01:00:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, it seems like I cant train YOLACT on a single GPU when using a custom dataset that isn't 550 x 550. I am going through the configs to understand why this may be. Is this an issue you encountered before?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5356", "id": 920914323, "node_id": "MDU6SXNzdWU5MjA5MTQzMjM=", "number": 5356, "title": "gcnet x101-32x4d checkpoint is wrong", "user": {"login": "greathope", "id": 30383377, "node_id": "MDQ6VXNlcjMwMzgzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/30383377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greathope", "html_url": "https://github.com/greathope", "followers_url": "https://api.github.com/users/greathope/followers", "following_url": "https://api.github.com/users/greathope/following{/other_user}", "gists_url": "https://api.github.com/users/greathope/gists{/gist_id}", "starred_url": "https://api.github.com/users/greathope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greathope/subscriptions", "organizations_url": "https://api.github.com/users/greathope/orgs", "repos_url": "https://api.github.com/users/greathope/repos", "events_url": "https://api.github.com/users/greathope/events{/privacy}", "received_events_url": "https://api.github.com/users/greathope/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-06-15T01:56:50Z", "updated_at": "2021-06-20T12:55:09Z", "closed_at": "2021-06-20T12:55:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please see https://github.com/open-mmlab/mmdetection/issues/4654#issue-813190257.\r\nThe backbone corresponding to this weight is resnet50. When I changed it, I can load it, but the ap is very poor in coco validation, below 0.1.\r\nplease check it, thanks.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5343", "id": 919736650, "node_id": "MDU6SXNzdWU5MTk3MzY2NTA=", "number": 5343, "title": "With default setting in mmdet, priority of EvalHook  is higher than CheckpointHook", "user": {"login": "zhiqi-li", "id": 27915819, "node_id": "MDQ6VXNlcjI3OTE1ODE5", "avatar_url": "https://avatars.githubusercontent.com/u/27915819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiqi-li", "html_url": "https://github.com/zhiqi-li", "followers_url": "https://api.github.com/users/zhiqi-li/followers", "following_url": "https://api.github.com/users/zhiqi-li/following{/other_user}", "gists_url": "https://api.github.com/users/zhiqi-li/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiqi-li/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiqi-li/subscriptions", "organizations_url": "https://api.github.com/users/zhiqi-li/orgs", "repos_url": "https://api.github.com/users/zhiqi-li/repos", "events_url": "https://api.github.com/users/zhiqi-li/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiqi-li/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-06-13T07:22:52Z", "updated_at": "2021-06-30T03:28:05Z", "closed_at": "2021-06-30T03:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The EvalHook is registered in `apis/train.py` by `runner.register_hook(eval_hook(val_dataloader, **eval_cfg))`\r\n\r\nThen mmcv will give EvalHook a default  \"NORMAL\" priority, (NORMAL=50), But the CheckpointHook's default priority is 70.\r\n\r\nThis means the runner will eval firstly and then save the checkpoint. If there is a bug in the eval-code, and the program crashes, this checkpoint will not be saved.  This will cause waste, especially for the time-consuming epoch.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5326", "id": 916210578, "node_id": "MDU6SXNzdWU5MTYyMTA1Nzg=", "number": 5326, "title": "\"init_detector()\" and \"inference_detector()\u201d API BUG", "user": {"login": "Hr-Song", "id": 48303845, "node_id": "MDQ6VXNlcjQ4MzAzODQ1", "avatar_url": "https://avatars.githubusercontent.com/u/48303845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hr-Song", "html_url": "https://github.com/Hr-Song", "followers_url": "https://api.github.com/users/Hr-Song/followers", "following_url": "https://api.github.com/users/Hr-Song/following{/other_user}", "gists_url": "https://api.github.com/users/Hr-Song/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hr-Song/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hr-Song/subscriptions", "organizations_url": "https://api.github.com/users/Hr-Song/orgs", "repos_url": "https://api.github.com/users/Hr-Song/repos", "events_url": "https://api.github.com/users/Hr-Song/events{/privacy}", "received_events_url": "https://api.github.com/users/Hr-Song/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RangiLyu", "id": 12907710, "node_id": "MDQ6VXNlcjEyOTA3NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/12907710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RangiLyu", "html_url": "https://github.com/RangiLyu", "followers_url": "https://api.github.com/users/RangiLyu/followers", "following_url": "https://api.github.com/users/RangiLyu/following{/other_user}", "gists_url": "https://api.github.com/users/RangiLyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RangiLyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RangiLyu/subscriptions", "organizations_url": "https://api.github.com/users/RangiLyu/orgs", "repos_url": "https://api.github.com/users/RangiLyu/repos", "events_url": "https://api.github.com/users/RangiLyu/events{/privacy}", "received_events_url": "https://api.github.com/users/RangiLyu/received_events", "type": "User", "site_admin": false}, {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-06-09T13:35:50Z", "updated_at": "2021-11-01T04:49:47Z", "closed_at": "2021-11-01T04:49:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I tried using \"init_detector()\" and \"inference_detector()\" API to inference **deformable_detr_refine_r50_16x2_50e_coco**  network, I set the argument'--device' to 'cuda:1'. However,  nvidia-smi shows that the program is running on both GPU0 and GPU1 instead of just GPU1 as I set.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5257", "id": 907343681, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU4MjA1Nzc1", "number": 5257, "title": "fix the return bbox of `multiclass_nms`  when no any bboxes", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-31T10:33:42Z", "updated_at": "2021-06-01T12:57:06Z", "closed_at": "2021-05-31T13:51:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5257", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5257", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5257.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5257.patch", "merged_at": null}, "body": "## Motivation\r\nIn the original implementation of `multiclass_nms`, \r\nhttps://github.com/open-mmlab/mmdetection/blob/52c935d27bb5873bc2821090178428f58a287554/mmdet/core/post_processing/bbox_nms.py#L82\r\n\r\n the return bboxes when  `bboxes.numel() == 0` has shape (num_bboxs, 4) which is not consistent with normal return tensor with shape (num_bbox, 5).\r\n\r\n\r\n## BC-breaking (Optional)\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5257/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5243", "id": 904960947, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU2MDczNTkx", "number": 5243, "title": "fix `get_cat_ids` of coco_api", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-28T08:40:53Z", "updated_at": "2021-05-28T10:32:11Z", "closed_at": "2021-05-28T10:32:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5243", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5243", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5243.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5243.patch", "merged_at": "2021-05-28T10:32:11Z"}, "body": "## Motivation\r\nIn https://github.com/open-mmlab/mmdetection/pull/5227/ , the modification about the `get_cat_ids` would  make the return `keep_order_cat_ids`  contains duplicate categories.\r\nWe have to pass a tuple of string instead of string\uff0c otherwise the function would return the same id for some categories such as 'bear' and 'teddy bear' \r\n\r\n## BC-breaking (Optional)\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5243/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5242", "id": 904929991, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU2MDQ1MDU5", "number": 5242, "title": "fix get_cat_ids", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-28T08:21:19Z", "updated_at": "2021-05-28T08:30:50Z", "closed_at": "2021-05-28T08:30:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5242", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5242", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5242.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5242.patch", "merged_at": null}, "body": "\r\n## Motivation\r\nIn https://github.com/open-mmlab/mmdetection/pull/5227/ , the modification about the `get_cat_ids` would  make the return `keep_order_cat_ids`  contains duplicate categories.\r\n\r\n\r\n\r\n## BC-breaking (Optional)\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5242/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5227", "id": 902088127, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUzNDkwNjE2", "number": 5227, "title": "Make `cat_ids` be consistent with the order of `CLASSES`", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-05-26T09:27:19Z", "updated_at": "2021-08-23T03:05:58Z", "closed_at": "2021-05-27T14:19:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5227", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5227", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5227.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5227.patch", "merged_at": "2021-05-27T14:19:18Z"}, "body": "## Motivation\r\nIn pycocotools, \r\nhttps://github.com/cocodataset/cocoapi/blob/8c9bcc3cf640524c4c20a9c40e89cb6a2f2fa0e9/PythonAPI/pycocotools/coco.py#L173\r\nThe `ids`  can be not consistent with the order of `catNms` which is we do not expect,\r\nthis can results in a wrong visualization result when you specify a list of classes that is not consistent with the order of inner  `cats`.\r\n\r\n## BC-breaking (Optional)\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5227/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5226", "id": 901982510, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUzMzk0MjU3", "number": 5226, "title": "fix py3.8 dict changed during iteration", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-26T08:22:15Z", "updated_at": "2021-06-01T12:57:27Z", "closed_at": "2021-05-26T13:42:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5226", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5226", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5226.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5226.patch", "merged_at": "2021-05-26T13:42:50Z"}, "body": "## Motivation\r\nIn python3.8, changing the key of a dictionary during iteration is forbidden.\r\n\r\n## BC-breaking (Optional)\r\nNone\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5226/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5221", "id": 901802168, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUzMjMxMjUx", "number": 5221, "title": "Fix AugTest  of Cascade_MaskRCNN when len(det_bboxes) is 0", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-26T05:47:12Z", "updated_at": "2021-06-01T12:57:28Z", "closed_at": "2021-05-27T02:11:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5221", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5221", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5221.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5221.patch", "merged_at": "2021-05-27T02:11:35Z"}, "body": "\r\n## Motivation\r\nIn the original implementation, when do the AugTest of `cascade_mask`,   \r\nhttps://github.com/open-mmlab/mmdetection/blob/68c2c1192a3e16987c8100d2d75abd15d7c39ea2/mmdet/models/roi_heads/cascade_roi_head.py#L462\r\nThe outermost `[]`  which means the `num_img`  should be deleted.\r\n\r\n## BC-breaking (Optional)\r\nNone\r\n\r\nresolve #5110 ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5221/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5197", "id": 897877993, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ5ODIzMjgy", "number": 5197, "title": "[Fix] Faster R-CNN fix in ONNX Runtime ", "user": {"login": "SemyonBevzuk", "id": 10177297, "node_id": "MDQ6VXNlcjEwMTc3Mjk3", "avatar_url": "https://avatars.githubusercontent.com/u/10177297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SemyonBevzuk", "html_url": "https://github.com/SemyonBevzuk", "followers_url": "https://api.github.com/users/SemyonBevzuk/followers", "following_url": "https://api.github.com/users/SemyonBevzuk/following{/other_user}", "gists_url": "https://api.github.com/users/SemyonBevzuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/SemyonBevzuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SemyonBevzuk/subscriptions", "organizations_url": "https://api.github.com/users/SemyonBevzuk/orgs", "repos_url": "https://api.github.com/users/SemyonBevzuk/repos", "events_url": "https://api.github.com/users/SemyonBevzuk/events{/privacy}", "received_events_url": "https://api.github.com/users/SemyonBevzuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1593017863, "node_id": "MDU6TGFiZWwxNTkzMDE3ODYz", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/ONNX", "name": "ONNX", "color": "c9672a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "RunningLeon", "id": 28671653, "node_id": "MDQ6VXNlcjI4NjcxNjUz", "avatar_url": "https://avatars.githubusercontent.com/u/28671653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RunningLeon", "html_url": "https://github.com/RunningLeon", "followers_url": "https://api.github.com/users/RunningLeon/followers", "following_url": "https://api.github.com/users/RunningLeon/following{/other_user}", "gists_url": "https://api.github.com/users/RunningLeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RunningLeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RunningLeon/subscriptions", "organizations_url": "https://api.github.com/users/RunningLeon/orgs", "repos_url": "https://api.github.com/users/RunningLeon/repos", "events_url": "https://api.github.com/users/RunningLeon/events{/privacy}", "received_events_url": "https://api.github.com/users/RunningLeon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RunningLeon", "id": 28671653, "node_id": "MDQ6VXNlcjI4NjcxNjUz", "avatar_url": "https://avatars.githubusercontent.com/u/28671653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RunningLeon", "html_url": "https://github.com/RunningLeon", "followers_url": "https://api.github.com/users/RunningLeon/followers", "following_url": "https://api.github.com/users/RunningLeon/following{/other_user}", "gists_url": "https://api.github.com/users/RunningLeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RunningLeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RunningLeon/subscriptions", "organizations_url": "https://api.github.com/users/RunningLeon/orgs", "repos_url": "https://api.github.com/users/RunningLeon/repos", "events_url": "https://api.github.com/users/RunningLeon/events{/privacy}", "received_events_url": "https://api.github.com/users/RunningLeon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-21T09:44:50Z", "updated_at": "2021-05-24T02:06:07Z", "closed_at": "2021-05-24T02:06:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/5197", "html_url": "https://github.com/open-mmlab/mmdetection/pull/5197", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/5197.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/5197.patch", "merged_at": "2021-05-24T02:06:07Z"}, "body": "## Motivation\r\nIn the current version of mmdetection, the quality of the Faster R-CNN model in ONNX Runtime has dropped.\r\nThis PR will fix it and return the quality as in the [table](https://github.com/open-mmlab/mmdetection/blob/master/docs/tutorials/pytorch2onnx.md#results-and-models).\r\n\r\nTo get the results I used `tools/deployment/test.py configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py --eval bbox`:\r\n|   | master | fix_faster_rcnn |\r\n|---|:------:|:---------------:|\r\n| Average Precision  (AP) @[ IoU=0.50:0.95 , area=   all , maxDets=100 ]  | 0.370 | 0.374 |\r\n| Average Precision  (AP) @[ IoU=0.75      , area=   all , maxDets=1000 ] | 0.575 | 0.582 |\r\n| Average Precision  (AP) @[ IoU=0.50:0.95 , area= small , maxDets=1000 ] | 0.402 | 0.406 |\r\n| Average Precision  (AP) @[ IoU=0.50      , area=   all , maxDets=1000 ] | 0.207 | 0.212 |\r\n| Average Precision  (AP) @[ IoU=0.50:0.95 , area=medium , maxDets=1000 ] | 0.404 | 0.409 |\r\n| Average Precision  (AP) @[ IoU=0.50:0.95 , area= large , maxDets=1000 ] | 0.481 | 0.481 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area=   all , maxDets=100 ]  | 0.502 | 0.517 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area=   all , maxDets=300 ]  | 0.502 | 0.517 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area=   all , maxDets=1000 ] | 0.502 | 0.517 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area= small , maxDets=1000 ] | 0.306 | 0.325 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area=medium , maxDets=1000 ] | 0.540 | 0.557 |\r\n| Average Recall     (AR) @[ IoU=0.50:0.95 , area= large , maxDets=1000 ] | 0.641 | 0.648 |\r\n\r\n\r\n## Modification\r\n\r\n1. `mmdet/models/dense_heads/rpn_head.py`: Removed re-filtering with `nms_pre` before nms.\r\n2. `tools/deployment/pytorch2onnx.py`: Moved the input name into a variable, since it is used twice.\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5197/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5110", "id": 875921669, "node_id": "MDU6SXNzdWU4NzU5MjE2Njk=", "number": 5110, "title": "Multiscale test error when testing Cascade-Mask RCNN: \"TypeError: list indices must be integers or slices, not tuple\"", "user": {"login": "amobiny", "id": 25069412, "node_id": "MDQ6VXNlcjI1MDY5NDEy", "avatar_url": "https://avatars.githubusercontent.com/u/25069412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amobiny", "html_url": "https://github.com/amobiny", "followers_url": "https://api.github.com/users/amobiny/followers", "following_url": "https://api.github.com/users/amobiny/following{/other_user}", "gists_url": "https://api.github.com/users/amobiny/gists{/gist_id}", "starred_url": "https://api.github.com/users/amobiny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amobiny/subscriptions", "organizations_url": "https://api.github.com/users/amobiny/orgs", "repos_url": "https://api.github.com/users/amobiny/repos", "events_url": "https://api.github.com/users/amobiny/events{/privacy}", "received_events_url": "https://api.github.com/users/amobiny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-04T23:32:02Z", "updated_at": "2021-05-27T02:11:35Z", "closed_at": "2021-05-27T02:11:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nI've successfully trained a Cascade-Mask RCNN model on my custom data. For testing, it works fine if I perform the inference on only one scale, but fails when performing the multi-scale test. The weird part is that it runs properly and breaks halfway through as you can see in the Traceback down here (not on the same image; it changes randomly every time and never reaches the end).\r\n\r\n@yhcao6 \r\nI found https://github.com/open-mmlab/mmdetection/issues/2308 and https://github.com/open-mmlab/mmdetection/pull/2349/files which are closely related to this issue, but I think the error I'm getting is a completely different issue and happens when trying to convert the bitmap mask into RLE code in /mmdet/core/mask/utils.py\r\n\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\nI ran\r\n```\r\n./tools/dist_test.sh /lhome/amobiny/config.py /lhome1/amobiny/work_dir/epoch_1.pth 4 --eval segm bbox\r\n```\r\n\r\nand here is a copy of my full config.py file\r\n\r\n```\r\n# model settings\r\nmodel = dict(\r\n    type='CascadeRCNN',\r\n    pretrained='open-mmlab://resnext101_64x4d',\r\n    backbone=dict(\r\n        type='ResNeXt',\r\n        depth=101,\r\n        groups=64,\r\n        base_width=4,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        norm_eval=True,\r\n        style='pytorch'),\r\n    neck=dict(\r\n        type='FPN',\r\n        in_channels=[256, 512, 1024, 2048],\r\n        out_channels=256,\r\n        num_outs=5),\r\n    rpn_head=dict(\r\n        type='RPNHead',\r\n        in_channels=256,\r\n        feat_channels=256,\r\n        anchor_generator=dict(\r\n            type='AnchorGenerator',\r\n            scales=[8],\r\n            ratios=[0.5, 1.0, 2.0],\r\n            strides=[4, 8, 16, 32, 64]),\r\n        bbox_coder=dict(\r\n            type='DeltaXYWHBBoxCoder',\r\n            target_means=[.0, .0, .0, .0],\r\n            target_stds=[1.0, 1.0, 1.0, 1.0]),\r\n        loss_cls=dict(\r\n            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\r\n        loss_bbox=dict(type='SmoothL1Loss', beta=1.0 / 9.0, loss_weight=1.0)),\r\n    roi_head=dict(\r\n        type='CascadeRoIHead',\r\n        num_stages=3,\r\n        stage_loss_weights=[1, 0.5, 0.25],\r\n        bbox_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        bbox_head=[\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=3,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.1, 0.1, 0.2, 0.2]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=3,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.05, 0.05, 0.1, 0.1]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=3,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.033, 0.033, 0.067, 0.067]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0, loss_weight=1.0))\r\n        ],\r\n        mask_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', output_size=14, sampling_ratio=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        mask_head=dict(\r\n            type='FCNMaskHead',\r\n            num_convs=4,\r\n            in_channels=256,\r\n            conv_out_channels=256,\r\n            num_classes=3,\r\n            loss_mask=dict(\r\n                type='CrossEntropyLoss', use_mask=True, loss_weight=1.0))),\r\n    # model training and testing settings\r\n    train_cfg=dict(\r\n        rpn=dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.7,\r\n                neg_iou_thr=0.3,\r\n                min_pos_iou=0.3,\r\n                match_low_quality=True,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=256,\r\n                pos_fraction=0.5,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=False),\r\n            allowed_border=0,\r\n            pos_weight=-1,\r\n            debug=False),\r\n        rpn_proposal=dict(\r\n            nms_pre=2000,\r\n            max_per_img=2000,\r\n            nms=dict(type='nms', iou_threshold=0.7),\r\n            min_bbox_size=0),\r\n        rcnn=[\r\n            dict(\r\n                assigner=dict(\r\n                    type='MaxIoUAssigner',\r\n                    pos_iou_thr=0.5,\r\n                    neg_iou_thr=0.5,\r\n                    min_pos_iou=0.5,\r\n                    match_low_quality=False,\r\n                    ignore_iof_thr=-1),\r\n                sampler=dict(\r\n                    type='RandomSampler',\r\n                    num=512,\r\n                    pos_fraction=0.25,\r\n                    neg_pos_ub=-1,\r\n                    add_gt_as_proposals=True),\r\n                mask_size=28,\r\n                pos_weight=-1,\r\n                debug=False),\r\n            dict(\r\n                assigner=dict(\r\n                    type='MaxIoUAssigner',\r\n                    pos_iou_thr=0.6,\r\n                    neg_iou_thr=0.6,\r\n                    min_pos_iou=0.6,\r\n                    match_low_quality=False,\r\n                    ignore_iof_thr=-1),\r\n                sampler=dict(\r\n                    type='RandomSampler',\r\n                    num=512,\r\n                    pos_fraction=0.25,\r\n                    neg_pos_ub=-1,\r\n                    add_gt_as_proposals=True),\r\n                mask_size=28,\r\n                pos_weight=-1,\r\n                debug=False),\r\n            dict(\r\n                assigner=dict(\r\n                    type='MaxIoUAssigner',\r\n                    pos_iou_thr=0.7,\r\n                    neg_iou_thr=0.7,\r\n                    min_pos_iou=0.7,\r\n                    match_low_quality=False,\r\n                    ignore_iof_thr=-1),\r\n                sampler=dict(\r\n                    type='RandomSampler',\r\n                    num=512,\r\n                    pos_fraction=0.25,\r\n                    neg_pos_ub=-1,\r\n                    add_gt_as_proposals=True),\r\n                mask_size=28,\r\n                pos_weight=-1,\r\n                debug=False)\r\n        ]),\r\n    test_cfg=dict(\r\n        rpn=dict(\r\n            nms_pre=1000,\r\n            max_per_img=1000,\r\n            nms=dict(type='nms', iou_threshold=0.7),\r\n            min_bbox_size=0),\r\n        rcnn=dict(\r\n            score_thr=0.05,\r\n            nms=dict(type='nms', iou_threshold=0.5),\r\n            max_per_img=100,\r\n            mask_thr_binary=0.5)))\r\n\r\n# dataset settings\r\ndataset_type = 'CocoDataset'\r\ndata_root = '/lhome1/amobiny/datasets/Pole_1.2_SC5_SRM_rotated/'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True, with_mask=True),\r\n    dict(type='Resize',\r\n         img_scale=[(1024, 992), (1024, 512)],     # original was (992, 1024)\r\n         multiscale_mode='range',\r\n         keep_ratio=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels', 'gt_masks']),\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=[(1024, 992), (1024, 752), (1024, 512)],\r\n        # img_scale=(1024, 992),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip', flip_ratio=0.0),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img']),\r\n        ])\r\n]\r\ndata = dict(\r\n    samples_per_gpu=1,\r\n    workers_per_gpu=1,\r\n    train=dict(\r\n        type=dataset_type,\r\n        ann_file=data_root + 'annotations/coco_pole_srm_1.2_validation.json',\r\n        img_prefix=data_root + 'images/',\r\n        classes=['pole', 'delineator_post', 'inverse_U'],\r\n        pipeline=train_pipeline),\r\n    val=dict(\r\n        type=dataset_type,\r\n        ann_file=data_root + 'annotations/coco_pole_srm_1.2_validation.json',\r\n        # ann_file=data_root + 'annotations/coco_arrow_subset_lrm_sc5_validation.json',\r\n        img_prefix=data_root + 'images/',\r\n        classes=['pole', 'delineator_post', 'inverse_U'],\r\n        pipeline=test_pipeline),\r\n    test=dict(\r\n        type=dataset_type,\r\n        ann_file=data_root + 'annotations/coco_pole_srm_1.2_validation.json',\r\n        # ann_file=data_root + 'annotations/coco_arrow_subset_lrm_sc5_validation.json',\r\n        img_prefix=data_root + 'images/',\r\n        classes=['pole', 'delineator_post', 'inverse_U'],\r\n        pipeline=test_pipeline))\r\nevaluation = dict(metric=['bbox', 'segm'])\r\n\r\n# optimizer\r\noptimizer = dict(type='SGD', lr=0.02, momentum=0.9, weight_decay=0.0001)\r\noptimizer_config = dict(grad_clip=None)\r\n# learning policy\r\nlr_config = dict(\r\n    policy='step',\r\n    warmup='linear',\r\n    warmup_iters=500,\r\n    warmup_ratio=0.001,\r\n    step=[16, 19])\r\nrunner = dict(type='EpochBasedRunner', max_epochs=20)\r\n\r\n\r\ncheckpoint_config = dict(interval=1)\r\n# yapf:disable\r\nlog_config = dict(\r\n    interval=50,\r\n    hooks=[\r\n        dict(type='TextLoggerHook'),\r\n        # dict(type='TensorboardLoggerHook')\r\n    ])\r\n# yapf:enable\r\ncustom_hooks = [dict(type='NumClassCheckHook')]\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nwork_dir = './work_dirs/run3_mmdet2'\r\nload_from = None\r\nresume_from = None\r\nworkflow = [('train', 1)]\r\n\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n\r\nI've made no major change to the default Cascade-Mask RCNN model. \r\n\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n\r\nfatal: Not a git repository (or any parent up to mount point /lhome1)\r\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\nsys.platform: linux\r\nPython: 3.7.10 (default, Feb 26 2021, 18:47:35) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0,1,2,3: Quadro RTX 8000\r\nCUDA_HOME: /usr/local/cuda-10.1\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243\r\nGCC: gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609\r\nPyTorch: 1.7.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) oneAPI Math Kernel Library Version 2021.2-Product Build 20210312 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.6.0 (Git Hash 5ef631a030a6f73131c77892041042805a06064f)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.3\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_VULKAN_WRAPPER -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON,\r\n\r\nTorchVision: 0.8.0\r\nOpenCV: 4.5.1\r\nMMCV: 1.3.3\r\nMMCV Compiler: GCC 7.3\r\nMMCV CUDA Compiler: 10.1\r\nMMDetection: 2.11.0+\r\n\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source]\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```\r\n[>>>>>>>>>>>>>>>>>>>>>>>>>                         ] 5056/10009, 10.5 task/s, elapsed: 481s, ETA:   471sTraceback (most recent call last):\r\n  File \"/dump/algossd/ary/mmdetection2/tools/test.py\", line 220, in <module>\r\n    main()\r\n  File \"/dump/algossd/ary/mmdetection2/tools/test.py\", line 197, in main\r\n    args.gpu_collect)\r\n  File \"/dump/algossd/ary/mmdetection2/mmdet/apis/test.py\", line 101, in multi_gpu_test\r\n    for bbox_results, mask_results in result]\r\n  File \"/dump/algossd/ary/mmdetection2/mmdet/apis/test.py\", line 101, in <listcomp>\r\n    for bbox_results, mask_results in result]\r\n  File \"/dump/algossd/ary/mmdetection2/mmdet/core/mask/utils.py\", line 58, in encode_mask_results\r\n    cls_segm[:, :, np.newaxis], order='F',\r\nTypeError: list indices must be integers or slices, not tuple\r\nTraceback (most recent call last):\r\n  File \"/dump/algossd/ary/anaconda3/envs/mmlab2/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/dump/algossd/ary/anaconda3/envs/mmlab2/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/dump/algossd/ary/anaconda3/envs/mmlab2/lib/python3.7/site-packages/torch/distributed/launch.py\", line 260, in <module>\r\n    main()\r\n  File \"/dump/algossd/ary/anaconda3/envs/mmlab2/lib/python3.7/site-packages/torch/distributed/launch.py\", line 256, in main\r\n    cmd=cmd)\r\nsubprocess.CalledProcessError: Command '['/dump/algossd/ary/anaconda3/envs/mmlab2/bin/python', '-u', '/dump/algossd/ary/mmdetection2/tools/test.py', '--local_rank=3', '/lhome1/amobiny/workspace/Pole_1.2_SC5_SRM/config_mmdet2.py', '/lhome1/amobiny/workspace/Pole_1.2_SC5_SRM/work_dirs/run3_mmdet2/epoch_1.pth', '--launcher', 'pytorch', '--eval', 'segm', 'bbox']' returned non-zero exit status 1.\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5083", "id": 870579030, "node_id": "MDU6SXNzdWU4NzA1NzkwMzA=", "number": 5083, "title": "UnboundLocalError: local variable 'beta1' referenced before assignment", "user": {"login": "CharlesChen24", "id": 61905043, "node_id": "MDQ6VXNlcjYxOTA1MDQz", "avatar_url": "https://avatars.githubusercontent.com/u/61905043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CharlesChen24", "html_url": "https://github.com/CharlesChen24", "followers_url": "https://api.github.com/users/CharlesChen24/followers", "following_url": "https://api.github.com/users/CharlesChen24/following{/other_user}", "gists_url": "https://api.github.com/users/CharlesChen24/gists{/gist_id}", "starred_url": "https://api.github.com/users/CharlesChen24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CharlesChen24/subscriptions", "organizations_url": "https://api.github.com/users/CharlesChen24/orgs", "repos_url": "https://api.github.com/users/CharlesChen24/repos", "events_url": "https://api.github.com/users/CharlesChen24/events{/privacy}", "received_events_url": "https://api.github.com/users/CharlesChen24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-04-29T03:33:25Z", "updated_at": "2021-05-21T13:42:18Z", "closed_at": "2021-05-12T11:47:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run 'python tools/train.py configs/detr/detr_r50_8x2_150e_coco.py\u2018\uff0cAn UnboundLocalError occured. Please help me.\r\n\r\nMy env:\r\nGCC: gcc (GCC) 6.4.0\r\nPyTorch: 1.8.0+cu111\r\nTorchVision: 0.9.0+cu111\r\nOpenCV: 4.5.1\r\nMMCV: 1.2.4\r\nMMCV Compiler: GCC 6.4\r\nMMCV CUDA Compiler: 11.1\r\nMMDetection: 2.11.0+\r\n\r\nError Information:\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 187, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 183, in main\r\n    meta=meta)\r\n  File \".../mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \".../lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \".../lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 51, in train\r\n    self.call_hook('after_train_iter')\r\n  File \".../lib/python3.7/site-packages/mmcv/runner/base_runner.py\", line 307, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \".../lib/python3.7/site-packages/mmcv/runner/hooks/optimizer.py\", line 34, in after_train_iter\r\n    runner.optimizer.step()\r\n  File \".../lib/python3.7/site-packages/torch/optim/optimizer.py\", line 89, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \".../lib/python3.7/site-packages/torch/autograd/grad_mode.py\", line 27, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \".../lib/python3.7/site-packages/torch/optim/adamw.py\", line 117, in step\r\n    beta1,\r\nUnboundLocalError: local variable 'beta1' referenced before assignment\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5032", "id": 863075931, "node_id": "MDU6SXNzdWU4NjMwNzU5MzE=", "number": 5032, "title": "MaskRCNN - IndexError: list index out of range after training 1 epoch", "user": {"login": "manhph2211", "id": 61444616, "node_id": "MDQ6VXNlcjYxNDQ0NjE2", "avatar_url": "https://avatars.githubusercontent.com/u/61444616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manhph2211", "html_url": "https://github.com/manhph2211", "followers_url": "https://api.github.com/users/manhph2211/followers", "following_url": "https://api.github.com/users/manhph2211/following{/other_user}", "gists_url": "https://api.github.com/users/manhph2211/gists{/gist_id}", "starred_url": "https://api.github.com/users/manhph2211/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manhph2211/subscriptions", "organizations_url": "https://api.github.com/users/manhph2211/orgs", "repos_url": "https://api.github.com/users/manhph2211/repos", "events_url": "https://api.github.com/users/manhph2211/events{/privacy}", "received_events_url": "https://api.github.com/users/manhph2211/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2021-04-20T17:52:02Z", "updated_at": "2021-04-29T07:23:12Z", "closed_at": "2021-04-29T07:23:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'm having trouble  with this kinda weird error:\r\n```\r\n  File \"./mmdetection/mmdet/datasets/coco.py\", line 259, in _segm2json\r\n    if isinstance(segms[i]['counts'], bytes):\r\nIndexError: list index out of range\r\n```\r\nShowing up right after I trained 1 epoch :cry: \r\n\r\nCould anyone help me to handle it :love_letter:  Thanks in advance! ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 4}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5032/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/5009", "id": 860859694, "node_id": "MDU6SXNzdWU4NjA4NTk2OTQ=", "number": 5009, "title": "Dead lock still exists in vfnet_head.py", "user": {"login": "zlin3000", "id": 16071749, "node_id": "MDQ6VXNlcjE2MDcxNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/16071749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zlin3000", "html_url": "https://github.com/zlin3000", "followers_url": "https://api.github.com/users/zlin3000/followers", "following_url": "https://api.github.com/users/zlin3000/following{/other_user}", "gists_url": "https://api.github.com/users/zlin3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/zlin3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zlin3000/subscriptions", "organizations_url": "https://api.github.com/users/zlin3000/orgs", "repos_url": "https://api.github.com/users/zlin3000/repos", "events_url": "https://api.github.com/users/zlin3000/events{/privacy}", "received_events_url": "https://api.github.com/users/zlin3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-04-19T03:23:35Z", "updated_at": "2021-04-26T05:36:24Z", "closed_at": "2021-04-26T05:36:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n Whiling training vfnet with multiple-GPU and  filter_empty_gt=False, it still possible to meet deadlock.\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\nbash dist_train.sh vfnet_config.py 8\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n\r\nYes\r\n\r\n3. What dataset did you use?\r\n\r\nvoc+custom\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source]\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```none\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nhttps://github.com/open-mmlab/mmdetection/blob/a2d9047e9a3d70430011895e62764372b3780bc5/mmdet/models/dense_heads/vfnet_head.py#L428\r\n\r\nguess should modify this line.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/5009/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4956", "id": 856922242, "node_id": "MDU6SXNzdWU4NTY5MjIyNDI=", "number": 4956, "title": "Rotate Albu Augmentation Error ", "user": {"login": "mdatres", "id": 80750571, "node_id": "MDQ6VXNlcjgwNzUwNTcx", "avatar_url": "https://avatars.githubusercontent.com/u/80750571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdatres", "html_url": "https://github.com/mdatres", "followers_url": "https://api.github.com/users/mdatres/followers", "following_url": "https://api.github.com/users/mdatres/following{/other_user}", "gists_url": "https://api.github.com/users/mdatres/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdatres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdatres/subscriptions", "organizations_url": "https://api.github.com/users/mdatres/orgs", "repos_url": "https://api.github.com/users/mdatres/repos", "events_url": "https://api.github.com/users/mdatres/events{/privacy}", "received_events_url": "https://api.github.com/users/mdatres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1093859582, "node_id": "MDU6TGFiZWwxMDkzODU5NTgy", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/awaiting%20response", "name": "awaiting response", "color": "fcdcbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-04-13T12:40:45Z", "updated_at": "2021-09-15T03:52:41Z", "closed_at": "2021-09-15T03:52:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear all,\r\n\r\ni'm facing a strange behavior with the data augmentation type ShiftScaleRotate (Albu augmentation). I'm training VFNet. The training procedure works well in general, but when I add the ShiftScaleRotate transform my loss goes to NaN and so I receive\r\nthe ERROR-The testing results of the whole dataset is empty. This is the part of the config file regarding the transformation: \r\n\r\n```\r\nalbu_train_transforms = [\r\n    dict(\r\n         type='ShiftScaleRotate',\r\n         shift_limit=0.0625,\r\n         scale_limit=0.0,\r\n         rotate_limit=45,\r\n         interpolation=1,\r\n         p=0.5),\r\n    dict(\r\n        type='RandomBrightnessContrast',\r\n        brightness_limit=[0.5, 0.5],\r\n        contrast_limit=[0.1, 0.3],\r\n        p=0.5),\r\n\r\n    dict(type='Blur', blur_limit=3, p=0.4)\r\n    ]\r\n\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='Resize', img_scale=(1152, 1152), keep_ratio=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(\r\n        type='Albu',\r\n        transforms=albu_train_transforms,\r\n        bbox_params=dict(\r\n            type='BboxParams',\r\n            format='coco',\r\n            label_fields=['gt_labels'],\r\n            min_visibility=0.0,\r\n            filter_lost_elements=True),\r\n        keymap={\r\n            'img': 'image',\r\n            'gt_bboxes': 'bboxes'\r\n        },\r\n        update_pad_shape=False,\r\n        skip_img_without_anno=True),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels']),\r\n]\r\n\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(4608, 3456),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='DefaultFormatBundle'),\r\n            dict(type='Collect', keys=['img']),\r\n        ])\r\n]\r\n```\r\nDo you know how to fix this error? The rotation transform is important for my task. \r\n\r\nBest regard, \r\nmdatres\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4956/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4926", "id": 854199545, "node_id": "MDU6SXNzdWU4NTQxOTk1NDU=", "number": 4926, "title": "verification image demo got ValueError: cannot reshape array of size 1090560 into shape (427,640,4)", "user": {"login": "bityigoss", "id": 6988886, "node_id": "MDQ6VXNlcjY5ODg4ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/6988886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bityigoss", "html_url": "https://github.com/bityigoss", "followers_url": "https://api.github.com/users/bityigoss/followers", "following_url": "https://api.github.com/users/bityigoss/following{/other_user}", "gists_url": "https://api.github.com/users/bityigoss/gists{/gist_id}", "starred_url": "https://api.github.com/users/bityigoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bityigoss/subscriptions", "organizations_url": "https://api.github.com/users/bityigoss/orgs", "repos_url": "https://api.github.com/users/bityigoss/repos", "events_url": "https://api.github.com/users/bityigoss/events{/privacy}", "received_events_url": "https://api.github.com/users/bityigoss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2021-04-09T06:13:55Z", "updated_at": "2022-07-27T02:38:51Z", "closed_at": "2022-07-27T02:38:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. I have read the [FAQ documentation](https://mmdetection.readthedocs.io/en/latest/faq.html) but cannot get the expected help.\r\n3. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nrun the verification demo code, ValueError: cannot reshape array of size 1090560 into shape (427,640,4)\r\n\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n![image](https://user-images.githubusercontent.com/6988886/114136701-b98ccf80-993d-11eb-996b-dd33c6ce16f5.png)\r\n\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n**change device='cuda:0' to device='cpu'**\r\n3. What dataset did you use?\r\n\r\n**macos, python3.7 mmcv-full==1.3.0 mmdet==2.11.0**\r\n\r\nConfigured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/c++/4.2.1\r\nsys.platform: darwin\r\nPython: 3.7.10 (default, Feb 26 2021, 10:16:00) [Clang 10.0.0 ]\r\nCUDA available: False\r\nGCC: Apple clang version 12.0.0 (clang-1200.0.32.29)\r\nPyTorch: 1.8.1\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 4.2\r\n  - C++ Version: 201402\r\n  - clang 12.0.0\r\n  - Intel(R) Math Kernel Library Version 2020.0.1 Product Build 20200208 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CXX_COMPILER=/Applications/Xcode-12.GM.seed.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -DUSE_PTHREADPOOL -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-invalid-partial-specialization -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unused-private-field -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-missing-braces -Qunused-arguments -fcolor-diagnostics -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.1, USE_CUDA=OFF, USE_CUDNN=OFF, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=OFF, USE_NNPACK=ON, USE_OPENMP=OFF,\r\n\r\nTorchVision: 0.9.1\r\nOpenCV: 4.5.1\r\nMMCV: 1.3.0\r\nMMCV Compiler: clang 12.0.0\r\nMMCV CUDA Compiler: not available\r\nMMDetection: 2.11.0+5ebba9a\r\n\r\n**Error traceback**\r\nTraceback (most recent call last):\r\n  File \"demo/demo.py\", line 24, in <module>\r\n    text_color=(72, 101, 241))\r\n  File \"/Users/yiqi/anaconda3/envs/open-mmlab/lib/python3.7/site-packages/mmdet/models/detectors/base.py\", line 352, in show_result\r\n    out_file=out_file)\r\n  File \"/Users/yiqi/anaconda3/envs/open-mmlab/lib/python3.7/site-packages/mmdet/core/visualization/image.py\", line 166, in imshow_det_bboxes\r\n    img_rgba = buffer.reshape(height, width, 4)\r\nValueError: cannot reshape array of size 1090560 into shape (427,640,4)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4925", "id": 854124419, "node_id": "MDU6SXNzdWU4NTQxMjQ0MTk=", "number": 4925, "title": "Error of datasets/pipelines/transforms.py resize function in instance segmentation task", "user": {"login": "bladesaber", "id": 31960871, "node_id": "MDQ6VXNlcjMxOTYwODcx", "avatar_url": "https://avatars.githubusercontent.com/u/31960871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bladesaber", "html_url": "https://github.com/bladesaber", "followers_url": "https://api.github.com/users/bladesaber/followers", "following_url": "https://api.github.com/users/bladesaber/following{/other_user}", "gists_url": "https://api.github.com/users/bladesaber/gists{/gist_id}", "starred_url": "https://api.github.com/users/bladesaber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bladesaber/subscriptions", "organizations_url": "https://api.github.com/users/bladesaber/orgs", "repos_url": "https://api.github.com/users/bladesaber/repos", "events_url": "https://api.github.com/users/bladesaber/events{/privacy}", "received_events_url": "https://api.github.com/users/bladesaber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-04-09T03:46:40Z", "updated_at": "2021-04-19T10:11:40Z", "closed_at": "2021-04-19T10:11:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for all your work  \r\n\r\n**Describe the bug**\r\nwhen I use resize function to transform the image and set keep_ratio to False in instance segmentation task, it will cause the shift shadow. Below is the situation I meet:  \r\ncorrect one like:  \r\n![correct](https://user-images.githubusercontent.com/31960871/114125232-9572c380-9928-11eb-8ca8-0e42e27c1589.png)  \r\nbut I got one like:  \r\n![false](https://user-images.githubusercontent.com/31960871/114125313-c4893500-9928-11eb-953a-e8a5bfe34350.png)\r\n\r\n**Reproduction**  \r\nthe pipeline I use  \r\n`train_pipeline = [\r\n    dict(type='LoadImageFromFile', to_float32=True, use_auto_normail=False),\r\n    dict(type='LoadAnnotations', with_bbox=True, with_mask=True, with_seg=False),\r\n\r\n    ### when keep_ratio is False, it will cause shift shadow\r\n    dict(type='Resize', img_scale=img_scale, keep_ratio=False),\r\n\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=[\r\n        'img',\r\n        'gt_bboxes', 'gt_labels',\r\n        # 'gt_semantic_seg'\r\n        'gt_masks',\r\n    ]),\r\n]`  \r\nthe mini dataset upload below:  \r\n[test.zip](https://github.com/open-mmlab/mmdetection/files/6283025/test.zip)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4746", "id": 827520023, "node_id": "MDU6SXNzdWU4Mjc1MjAwMjM=", "number": 4746, "title": "get error when training detr with fp16", "user": {"login": "HaloTrouvaille", "id": 58016166, "node_id": "MDQ6VXNlcjU4MDE2MTY2", "avatar_url": "https://avatars.githubusercontent.com/u/58016166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HaloTrouvaille", "html_url": "https://github.com/HaloTrouvaille", "followers_url": "https://api.github.com/users/HaloTrouvaille/followers", "following_url": "https://api.github.com/users/HaloTrouvaille/following{/other_user}", "gists_url": "https://api.github.com/users/HaloTrouvaille/gists{/gist_id}", "starred_url": "https://api.github.com/users/HaloTrouvaille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HaloTrouvaille/subscriptions", "organizations_url": "https://api.github.com/users/HaloTrouvaille/orgs", "repos_url": "https://api.github.com/users/HaloTrouvaille/repos", "events_url": "https://api.github.com/users/HaloTrouvaille/events{/privacy}", "received_events_url": "https://api.github.com/users/HaloTrouvaille/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-03-10T10:43:20Z", "updated_at": "2021-03-19T09:55:37Z", "closed_at": "2021-03-19T09:55:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "when training detr with fp16 \uff0cget error \u201cexpected object of scalar type half but got scalar type float for argument #2 'other' in call to _th_equal\u201d", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4734", "id": 825581418, "node_id": "MDU6SXNzdWU4MjU1ODE0MTg=", "number": 4734, "title": "A bug of mmcv when using pytorch 1.8.0", "user": {"login": "Zhoukuntao", "id": 30820350, "node_id": "MDQ6VXNlcjMwODIwMzUw", "avatar_url": "https://avatars.githubusercontent.com/u/30820350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zhoukuntao", "html_url": "https://github.com/Zhoukuntao", "followers_url": "https://api.github.com/users/Zhoukuntao/followers", "following_url": "https://api.github.com/users/Zhoukuntao/following{/other_user}", "gists_url": "https://api.github.com/users/Zhoukuntao/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zhoukuntao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zhoukuntao/subscriptions", "organizations_url": "https://api.github.com/users/Zhoukuntao/orgs", "repos_url": "https://api.github.com/users/Zhoukuntao/repos", "events_url": "https://api.github.com/users/Zhoukuntao/events{/privacy}", "received_events_url": "https://api.github.com/users/Zhoukuntao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-03-09T09:11:52Z", "updated_at": "2021-05-26T06:30:24Z", "closed_at": "2021-05-26T06:30:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have run the code successfully when PyTorch version 1.7.1, cuda11.0\uff0cwhen i update the version of PyTorch, a bug appear. \r\n\r\n### **Reproduction**\r\n./tools/dist_train.sh configs/resnest/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco.py 4\r\n\r\n\r\n### **Environment**\r\n\r\nINFO:mmdet:Environment info:\r\n------------------------------------------------------------\r\nsys.platform: linux\r\nPython: 3.7.6 (default, Jan  8 2020, 19:59:22) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0,1,2,3: GeForce RTX 3080\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Build cuda_11.1.TC455_06.29190527_0\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.8.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.8.2\r\nOpenCV: 4.5.1\r\nMMCV: 1.2.7\r\nMMCV Compiler: GCC 7.5\r\nMMCV CUDA Compiler: 11.1\r\nMMDetection: 2.10.0+unknown\r\n------------------------------------------------------------\r\n\r\n2021-03-09 16:44:00,866 - mmdet - INFO - Distributed training: True\r\nINFO:mmdet:Distributed training: True\r\n### **Error traceback**\r\n2021-03-09 16:44:08,556 - mmdet - INFO - Start running, host: base@base, work_dir: mmdetection/work_dirs/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco\r\nINFO:mmdet:Start running, host: base@base, work_dir: mmdetection/work_dirs/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco\r\n2021-03-09 16:44:08,556 - mmdet - INFO - workflow: [('train', 1)], max: 20 epochs\r\nINFO:mmdet:workflow: [('train', 1)], max: 20 epochs\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 186, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 182, in main\r\n    meta=meta)\r\n  File \"mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 30, in run_iter\r\n    **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/parallel/distributed.py\", line 46, in train_step\r\n    output = self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 247, in train_step\r\n    losses = self(**data)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 181, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 156, in forward_train\r\n    proposal_cfg=proposal_cfg)\r\n  File \"mmdetection/mmdet/models/dense_heads/base_dense_head.py\", line 54, in forward_train\r\n    losses = self.loss(*loss_inputs, gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"mmdetection/mmdet/models/dense_heads/rpn_head.py\", line 78, in loss\r\n    gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 164, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 467, in loss\r\n    label_channels=label_channels)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 349, in get_targets\r\n    unmap_outputs=unmap_outputs)\r\n  File \"mmdetection/mmdet/core/utils/misc.py\", line 29, in multi_apply\r\n    return tuple(map(list, zip(*map_results)))\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 226, in _get_targets_single\r\n    gt_bboxes)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/base_sampler.py\", line 96, in sample\r\n    assign_result, num_expected_neg, bboxes=bboxes, **kwargs)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 78, in _sample_neg\r\n    return self.random_choice(neg_inds, num_expected)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 54, in random_choice\r\n    perm = torch.randperm(gallery.numel(), device=gallery.device)[:num]\r\nRuntimeError: radix_sort: failed on 1st step: cudaErrorInvalidDevice: invalid device ordinal\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 186, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 182, in main\r\n    meta=meta)\r\n  File \"mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 30, in run_iter\r\n    **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/parallel/distributed.py\", line 46, in train_step\r\n    output = self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 247, in train_step\r\n    losses = self(**data)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 181, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 156, in forward_train\r\n    proposal_cfg=proposal_cfg)\r\n  File \"mmdetection/mmdet/models/dense_heads/base_dense_head.py\", line 54, in forward_train\r\n    losses = self.loss(*loss_inputs, gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"mmdetection/mmdet/models/dense_heads/rpn_head.py\", line 78, in loss\r\n    gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 164, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 467, in loss\r\n    label_channels=label_channels)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 349, in get_targets\r\n    unmap_outputs=unmap_outputs)\r\n  File \"mmdetection/mmdet/core/utils/misc.py\", line 29, in multi_apply\r\n    return tuple(map(list, zip(*map_results)))\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 226, in _get_targets_single\r\n    gt_bboxes)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/base_sampler.py\", line 96, in sample\r\n    assign_result, num_expected_neg, bboxes=bboxes, **kwargs)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 78, in _sample_neg\r\n    return self.random_choice(neg_inds, num_expected)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 54, in random_choice\r\n    perm = torch.randperm(gallery.numel(), device=gallery.device)[:num]\r\nRuntimeError: radix_sort: failed on 1st step: cudaErrorInvalidDevice: invalid device ordinal\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 186, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 182, in main\r\n    meta=meta)\r\n  File \"mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 30, in run_iter\r\n    **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/parallel/distributed.py\", line 46, in train_step\r\n    output = self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 247, in train_step\r\n    losses = self(**data)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 181, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 156, in forward_train\r\n    proposal_cfg=proposal_cfg)\r\n  File \"mmdetection/mmdet/models/dense_heads/base_dense_head.py\", line 54, in forward_train\r\n    losses = self.loss(*loss_inputs, gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"mmdetection/mmdet/models/dense_heads/rpn_head.py\", line 78, in loss\r\n    gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 164, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 467, in loss\r\n    label_channels=label_channels)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 349, in get_targets\r\n    unmap_outputs=unmap_outputs)\r\n  File \"mmdetection/mmdet/core/utils/misc.py\", line 29, in multi_apply\r\n    return tuple(map(list, zip(*map_results)))\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 226, in _get_targets_single\r\n    gt_bboxes)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/base_sampler.py\", line 96, in sample\r\n    assign_result, num_expected_neg, bboxes=bboxes, **kwargs)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 78, in _sample_neg\r\n    return self.random_choice(neg_inds, num_expected)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 54, in random_choice\r\n    perm = torch.randperm(gallery.numel(), device=gallery.device)[:num]\r\nRuntimeError: radix_sort: failed on 1st step: cudaErrorInvalidDevice: invalid device ordinal\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 186, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 182, in main\r\n    meta=meta)\r\n  File \"mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 30, in run_iter\r\n    **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/parallel/distributed.py\", line 46, in train_step\r\n    output = self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 247, in train_step\r\n    losses = self(**data)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 181, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 156, in forward_train\r\n    proposal_cfg=proposal_cfg)\r\n  File \"mmdetection/mmdet/models/dense_heads/base_dense_head.py\", line 54, in forward_train\r\n    losses = self.loss(*loss_inputs, gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"mmdetection/mmdet/models/dense_heads/rpn_head.py\", line 78, in loss\r\n    gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 164, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 467, in loss\r\n    label_channels=label_channels)\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 349, in get_targets\r\n    unmap_outputs=unmap_outputs)\r\n  File \"mmdetection/mmdet/core/utils/misc.py\", line 29, in multi_apply\r\n    return tuple(map(list, zip(*map_results)))\r\n  File \"mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 226, in _get_targets_single\r\n    gt_bboxes)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/base_sampler.py\", line 96, in sample\r\n    assign_result, num_expected_neg, bboxes=bboxes, **kwargs)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 78, in _sample_neg\r\n    return self.random_choice(neg_inds, num_expected)\r\n  File \"mmdetection/mmdet/core/bbox/samplers/random_sampler.py\", line 54, in random_choice\r\n    perm = torch.randperm(gallery.numel(), device=gallery.device)[:num]\r\nRuntimeError: radix_sort: failed on 1st step: cudaErrorInvalidDevice: invalid device ordinal\r\nKilling subprocess 12397\r\nKilling subprocess 12398\r\nKilling subprocess 12399\r\nKilling subprocess 12400\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/opt/anaconda3/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/launch.py\", line 340, in <module>\r\n    main()\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/launch.py\", line 326, in main\r\n    sigkill_handler(signal.SIGTERM, None)  # not coming back\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/launch.py\", line 301, in sigkill_handler\r\n    raise subprocess.CalledProcessError(returncode=last_return_code, cmd=cmd)\r\nsubprocess.CalledProcessError: Command '['/opt/anaconda3/bin/python', '-u', './tools/train.py', '--local_rank=3', 'configs/resnest/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco.py', '--launcher', 'pytorch']' returned non-zero exit status 1.\r\n\r\n[END] 2021/3/9 16:44:45\r\n\r\n### **DDP**\r\npython tools/train.py configs/resnest/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco.py --gpu-ids 1\r\n\r\n2021-03-09 16:43:09,548 - mmdet - INFO - Environment info:\r\n------------------------------------------------------------\r\nsys.platform: linux\r\nPython: 3.7.6 (default, Jan  8 2020, 19:59:22) [GCC 7.3.0]\r\nCUDA available: True\r\nGPU 0,1,2,3: GeForce RTX 3080\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Build cuda_11.1.TC455_06.29190527_0\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.8.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.7.0 (Git Hash 7aed236906b1f7a05c0917e5257a1af05e9ff683)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 11.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_80,code=sm_80;-gencode;arch=compute_86,code=sm_86;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 8.0.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS_INFO=mkl, BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/opt/rh/devtoolset-7/root/usr/bin/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, LAPACK_INFO=mkl, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.8.0, USE_CUDA=ON, USE_CUDNN=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, \r\n\r\nTorchVision: 0.8.2\r\nOpenCV: 4.5.1\r\nMMCV: 1.2.7\r\nMMCV Compiler: GCC 7.5\r\nMMCV CUDA Compiler: 11.1\r\nMMDetection: 2.10.0+unknown\r\n------------------------------------------------------------\r\n\r\n2021-03-09 16:43:10,809 - mmdet - INFO - Distributed training: False\r\n\r\nrunner = dict(type='EpochBasedRunner', max_epochs=20)\r\ncheckpoint_config = dict(interval=1)\r\nlog_config = dict(interval=50, hooks=[dict(type='TextLoggerHook')])\r\ncustom_hooks = [dict(type='NumClassCheckHook')]\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nload_from = './checkpoints/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco_20201122_213640-763cc7b5.pth'\r\nresume_from = None\r\nworkflow = [('train', 1)]\r\nnorm_cfg = dict(type='SyncBN', requires_grad=True)\r\nwork_dir = './work_dirs/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco'\r\ngpu_ids = [1]\r\n\r\n2021-03-09 16:43:12,994 - mmdet - INFO - load model from: open-mmlab://resnest50\r\n2021-03-09 16:43:12,994 - mmdet - INFO - Use load_from_openmmlab loader\r\nloading annotations into memory...\r\nDone (t=0.80s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.41s)\r\ncreating index...\r\nindex created!\r\n2021-03-09 16:43:17,494 - mmdet - INFO - load checkpoint from ./checkpoints/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco_20201122_213640-763cc7b5.pth\r\n2021-03-09 16:43:17,494 - mmdet - INFO - Use load_from_local loader\r\n2021-03-09 16:43:17,767 - mmdet - WARNING - The model and loaded state dict do not match exactly\r\n\r\nsize mismatch for roi_head.bbox_head.0.fc_cls.weight: copying a param with shape torch.Size([81, 1024]) from checkpoint, the shape in current model is torch.Size([2, 1024]).\r\nsize mismatch for roi_head.bbox_head.0.fc_cls.bias: copying a param with shape torch.Size([81]) from checkpoint, the shape in current model is torch.Size([2]).\r\nsize mismatch for roi_head.bbox_head.1.fc_cls.weight: copying a param with shape torch.Size([81, 1024]) from checkpoint, the shape in current model is torch.Size([2, 1024]).\r\nsize mismatch for roi_head.bbox_head.1.fc_cls.bias: copying a param with shape torch.Size([81]) from checkpoint, the shape in current model is torch.Size([2]).\r\nsize mismatch for roi_head.bbox_head.2.fc_cls.weight: copying a param with shape torch.Size([81, 1024]) from checkpoint, the shape in current model is torch.Size([2, 1024]).\r\nsize mismatch for roi_head.bbox_head.2.fc_cls.bias: copying a param with shape torch.Size([81]) from checkpoint, the shape in current model is torch.Size([2]).\r\n2021-03-09 16:43:17,777 - mmdet - INFO - Start running, host: base@base, work_dir: mmdetection/work_dirs/cascade_rcnn_s50_fpn_syncbn-backbone+head_mstrain-range_1x_coco\r\n2021-03-09 16:43:17,777 - mmdet - INFO - workflow: [('train', 1)], max: 20 epochs\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 186, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 182, in main\r\n    meta=meta)\r\n  File \"mmdetection/mmdet/apis/train.py\", line 170, in train_detector\r\n    runner.run(data_loaders, cfg.workflow)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 50, in train\r\n    self.run_iter(data_batch, train_mode=True)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 30, in run_iter\r\n    **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/parallel/data_parallel.py\", line 67, in train_step\r\n    return self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 247, in train_step\r\n    losses = self(**data)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/base.py\", line 181, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 142, in forward_train\r\n    x = self.extract_feat(img)\r\n  File \"mmdetection/mmdet/models/detectors/two_stage.py\", line 82, in extract_feat\r\n    x = self.backbone(img)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"mmdetection/mmdet/models/backbones/resnet.py\", line 634, in forward\r\n    x = res_layer(x)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/container.py\", line 119, in forward\r\n    input = module(input)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"mmdetection/mmdet/models/backbones/resnest.py\", line 265, in forward\r\n    out = _inner_forward(x)\r\n  File \"mmdetection/mmdet/models/backbones/resnest.py\", line 235, in _inner_forward\r\n    out = self.norm1(out)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 889, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/nn/modules/batchnorm.py\", line 532, in forward\r\n    world_size = torch.distributed.get_world_size(process_group)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 711, in get_world_size\r\n    return _get_group_size(group)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 263, in _get_group_size\r\n    default_pg = _get_default_group()\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/torch/distributed/distributed_c10d.py\", line 347, in _get_default_group\r\n    raise RuntimeError(\"Default process group has not been initialized, \"\r\nRuntimeError: Default process group has not been initialized, please make sure to call init_process_group.\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720/events", "html_url": "https://github.com/open-mmlab/mmdetection/pull/4720", "id": 823032436, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1NTU3NDEz", "number": 4720, "title": "fix `RuntimeError` due to two tensor are not on the same device", "user": {"login": "RunningLeon", "id": 28671653, "node_id": "MDQ6VXNlcjI4NjcxNjUz", "avatar_url": "https://avatars.githubusercontent.com/u/28671653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RunningLeon", "html_url": "https://github.com/RunningLeon", "followers_url": "https://api.github.com/users/RunningLeon/followers", "following_url": "https://api.github.com/users/RunningLeon/following{/other_user}", "gists_url": "https://api.github.com/users/RunningLeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RunningLeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RunningLeon/subscriptions", "organizations_url": "https://api.github.com/users/RunningLeon/orgs", "repos_url": "https://api.github.com/users/RunningLeon/repos", "events_url": "https://api.github.com/users/RunningLeon/events{/privacy}", "received_events_url": "https://api.github.com/users/RunningLeon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RunningLeon", "id": 28671653, "node_id": "MDQ6VXNlcjI4NjcxNjUz", "avatar_url": "https://avatars.githubusercontent.com/u/28671653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RunningLeon", "html_url": "https://github.com/RunningLeon", "followers_url": "https://api.github.com/users/RunningLeon/followers", "following_url": "https://api.github.com/users/RunningLeon/following{/other_user}", "gists_url": "https://api.github.com/users/RunningLeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RunningLeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RunningLeon/subscriptions", "organizations_url": "https://api.github.com/users/RunningLeon/orgs", "repos_url": "https://api.github.com/users/RunningLeon/repos", "events_url": "https://api.github.com/users/RunningLeon/events{/privacy}", "received_events_url": "https://api.github.com/users/RunningLeon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RunningLeon", "id": 28671653, "node_id": "MDQ6VXNlcjI4NjcxNjUz", "avatar_url": "https://avatars.githubusercontent.com/u/28671653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RunningLeon", "html_url": "https://github.com/RunningLeon", "followers_url": "https://api.github.com/users/RunningLeon/followers", "following_url": "https://api.github.com/users/RunningLeon/following{/other_user}", "gists_url": "https://api.github.com/users/RunningLeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RunningLeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RunningLeon/subscriptions", "organizations_url": "https://api.github.com/users/RunningLeon/orgs", "repos_url": "https://api.github.com/users/RunningLeon/repos", "events_url": "https://api.github.com/users/RunningLeon/events{/privacy}", "received_events_url": "https://api.github.com/users/RunningLeon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-03-05T12:17:10Z", "updated_at": "2022-07-12T02:56:08Z", "closed_at": "2021-03-05T12:19:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/pulls/4720", "html_url": "https://github.com/open-mmlab/mmdetection/pull/4720", "diff_url": "https://github.com/open-mmlab/mmdetection/pull/4720.diff", "patch_url": "https://github.com/open-mmlab/mmdetection/pull/4720.patch", "merged_at": "2021-03-05T12:19:43Z"}, "body": "This PR fix `RuntimeError` due to two tensor are not on the same device.\r\n\r\ntest scripts:\r\n```\r\npython demo/image_demo.py demo/demo.jpg configs/retinanet/retinanet_r50_fpn_1x_coco.py checkpoints/retinanet/retinanet_r50_fpn_1x_coco.pth\r\n```\r\nTrace info :\r\n```\r\nTraceback (most recent call last):\r\n  File \"demo/image_demo.py\", line 26, in <module>\r\n    main()\r\n  File \"demo/image_demo.py\", line 20, in main\r\n    result = inference_detector(model, args.img)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/apis/inference.py\", line 141, in inference_detector\r\n    results = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/SENSETIME/maningsheng/anaconda3/envs/pt1.6/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmcv/mmcv/runner/fp16_utils.py\", line 84, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/models/detectors/base.py\", line 183, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/models/detectors/base.py\", line 160, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/models/detectors/single_stage.py\", line 118, in simple_test\r\n    *outs, img_metas, rescale=rescale)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmcv/mmcv/runner/fp16_utils.py\", line 164, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 581, in get_bboxes\r\n    scale_factor, cfg, rescale)\r\n  File \"/home/SENSETIME/maningsheng/projects/open-mmlab/mmdetection/mmdet/models/dense_heads/anchor_head.py\", line 651, in _get_bboxes_single\r\n    nms_pre_tensor, num_anchor)\r\nRuntimeError: Expected condition, x and y to be on the same device, but condition is on cuda:0 and x and y are on cuda:0 and cpu respectively\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4720/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4708", "id": 821675004, "node_id": "MDU6SXNzdWU4MjE2NzUwMDQ=", "number": 4708, "title": "The return value's dimention is inconsistent in multiclass_nms() ", "user": {"login": "daleydeng", "id": 770506, "node_id": "MDQ6VXNlcjc3MDUwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/770506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daleydeng", "html_url": "https://github.com/daleydeng", "followers_url": "https://api.github.com/users/daleydeng/followers", "following_url": "https://api.github.com/users/daleydeng/following{/other_user}", "gists_url": "https://api.github.com/users/daleydeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/daleydeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daleydeng/subscriptions", "organizations_url": "https://api.github.com/users/daleydeng/orgs", "repos_url": "https://api.github.com/users/daleydeng/repos", "events_url": "https://api.github.com/users/daleydeng/events{/privacy}", "received_events_url": "https://api.github.com/users/daleydeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-03-04T01:57:44Z", "updated_at": "2021-05-26T06:37:01Z", "closed_at": "2021-05-26T06:37:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "mdetection/mmdet/core/post_processing/bbox_nms.py\r\n\r\nline 80~82: bboxes.numel() ==0 case, return the bboxes's last dim is 4\r\nbut in line 90-93, return the dets's last dim is 5(concated with extra score)\r\nthe two return value is not consistent, which will cause ERROR when empty case returned. e.g. passing an zero image\r\n\r\n![bug_mmdet](https://user-images.githubusercontent.com/770506/109898713-a730cd80-7ccf-11eb-8be2-87754ed19ab8.png)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4599", "id": 803343663, "node_id": "MDU6SXNzdWU4MDMzNDM2NjM=", "number": 4599, "title": "[BUG]Using Albumentations yield error  when specifc workflow as `workflow = [('train', 1), ('val', 1)]`", "user": {"login": "sarmientoj24", "id": 8830319, "node_id": "MDQ6VXNlcjg4MzAzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8830319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarmientoj24", "html_url": "https://github.com/sarmientoj24", "followers_url": "https://api.github.com/users/sarmientoj24/followers", "following_url": "https://api.github.com/users/sarmientoj24/following{/other_user}", "gists_url": "https://api.github.com/users/sarmientoj24/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarmientoj24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarmientoj24/subscriptions", "organizations_url": "https://api.github.com/users/sarmientoj24/orgs", "repos_url": "https://api.github.com/users/sarmientoj24/repos", "events_url": "https://api.github.com/users/sarmientoj24/events{/privacy}", "received_events_url": "https://api.github.com/users/sarmientoj24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-02-08T08:49:38Z", "updated_at": "2021-02-17T09:45:53Z", "closed_at": "2021-02-17T09:45:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using albumentations for Augmentation yields labels_field error\r\n\r\nError goes like this:\r\n```\r\nOriginal Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/content/mmdetection/mmdet/datasets/custom.py\", line 193, in __getitem__\r\n    data = self.prepare_train_img(idx)\r\n  File \"/content/mmdetection/mmdet/datasets/custom.py\", line 216, in prepare_train_img\r\n    return self.pipeline(results)\r\n  File \"/content/mmdetection/mmdet/datasets/pipelines/compose.py\", line 40, in __call__\r\n    data = t(data)\r\n  File \"/content/mmdetection/mmdet/datasets/pipelines/transforms.py\", line 1344, in __call__\r\n    results = self.aug(**results)\r\n  File \"/usr/local/lib/python3.6/dist-packages/albumentations/core/composition.py\", line 170, in __call__\r\n    p.ensure_data_valid(data)\r\n  File \"/usr/local/lib/python3.6/dist-packages/albumentations/augmentations/bbox_utils.py\", line 37, in ensure_data_valid\r\n    raise ValueError(\"Your 'label_fields' are not valid - them must have same names as params in dict\")\r\nValueError: Your 'label_fields' are not valid - them must have same names as params in dict\r\n```\r\n\r\n\r\nconfig.py\r\n```\r\n# VOC Dataset\r\n\r\nalbu_train_transforms = [\r\n    # dict(\r\n    #     type='ShiftScaleRotate',\r\n    #     shift_limit=0.0625,\r\n    #     scale_limit=0.0,\r\n    #     rotate_limit=0,\r\n    #     interpolation=1,\r\n    #     p=0.5),\r\n    dict(\r\n        type='RandomBrightnessContrast',\r\n        brightness_limit=[0.1, 0.3],\r\n        contrast_limit=[0.1, 0.3],\r\n        p=0.2),\r\n    dict(\r\n        type='OneOf',\r\n        transforms=[\r\n            dict(\r\n                type='RGBShift',\r\n                r_shift_limit=10,\r\n                g_shift_limit=10,\r\n                b_shift_limit=10,\r\n                p=1.0),\r\n            dict(\r\n                type='HueSaturationValue',\r\n                hue_shift_limit=20,\r\n                sat_shift_limit=30,\r\n                val_shift_limit=20,\r\n                p=1.0)\r\n        ],\r\n        p=0.1),\r\n    dict(type='JpegCompression', quality_lower=85, quality_upper=95, p=0.2),\r\n    dict(type='ChannelShuffle', p=0.1),\r\n    dict(\r\n        type='OneOf',\r\n        transforms=[\r\n            dict(type='Blur', blur_limit=3, p=1.0),\r\n            dict(type='MedianBlur', blur_limit=3, p=1.0)\r\n        ],\r\n        p=0.1),\r\n]\r\n\r\n\r\nmodel = dict(\r\n    type='FasterRCNN',\r\n    pretrained='torchvision://resnet50',\r\n    backbone=dict(\r\n        type='ResNet',\r\n        depth=50,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        norm_eval=True,\r\n        style='pytorch'),\r\n    neck=dict(\r\n        type='FPN',\r\n        in_channels=[256, 512, 1024, 2048],\r\n        out_channels=256,\r\n        num_outs=5),\r\n    rpn_head=dict(\r\n        type='RPNHead',\r\n        in_channels=256,\r\n        feat_channels=256,\r\n        anchor_generator=dict(\r\n            type='AnchorGenerator',\r\n            scales=[8],\r\n            ratios=[0.5, 1.0, 2.0],\r\n            strides=[4, 8, 16, 32, 64]),\r\n        bbox_coder=dict(\r\n            type='DeltaXYWHBBoxCoder',\r\n            target_means=[0.0, 0.0, 0.0, 0.0],\r\n            target_stds=[1.0, 1.0, 1.0, 1.0]),\r\n        loss_cls=dict(\r\n            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\r\n        loss_bbox=dict(type='L1Loss', loss_weight=1.0)),\r\n    roi_head=dict(\r\n        type='StandardRoIHead',\r\n        bbox_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        bbox_head=dict(\r\n            type='Shared2FCBBoxHead',\r\n            in_channels=256,\r\n            fc_out_channels=1024,\r\n            roi_feat_size=7,\r\n            num_classes=4,\r\n            bbox_coder=dict(\r\n                type='DeltaXYWHBBoxCoder',\r\n                target_means=[0.0, 0.0, 0.0, 0.0],\r\n                target_stds=[0.1, 0.1, 0.2, 0.2]),\r\n            reg_class_agnostic=False,\r\n            loss_cls=dict(\r\n                type='CrossEntropyLoss', use_sigmoid=False, loss_weight=1.0),\r\n            loss_bbox=dict(type='L1Loss', loss_weight=1.0))),\r\n    train_cfg=dict(\r\n        rpn=dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.7,\r\n                neg_iou_thr=0.3,\r\n                min_pos_iou=0.3,\r\n                match_low_quality=True,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=256,\r\n                pos_fraction=0.5,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=False),\r\n            allowed_border=-1,\r\n            pos_weight=-1,\r\n            debug=False),\r\n        rpn_proposal=dict(\r\n            nms_across_levels=False,\r\n            nms_pre=2000,\r\n            nms_post=1000,\r\n            max_num=1000,\r\n            nms_thr=0.7,\r\n            min_bbox_size=0),\r\n        rcnn=dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.5,\r\n                neg_iou_thr=0.5,\r\n                min_pos_iou=0.5,\r\n                match_low_quality=False,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=512,\r\n                pos_fraction=0.25,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=True),\r\n            pos_weight=-1,\r\n            debug=False)),\r\n    test_cfg=dict(\r\n        rpn=dict(\r\n            nms_across_levels=False,\r\n            nms_pre=1000,\r\n            nms_post=1000,\r\n            max_num=1000,\r\n            nms_thr=0.7,\r\n            min_bbox_size=0),\r\n        rcnn=dict(\r\n            score_thr=0.05,\r\n            nms=dict(type='nms', iou_threshold=0.5),\r\n            max_per_img=100)))\r\ndataset_type = 'VOCDataset'\r\ndata_root = 'VOC2012/'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='Resize', img_scale=(512, 512), keep_ratio=True),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(\r\n        type='Albu',\r\n        transforms=albu_train_transforms,\r\n        bbox_params=dict(\r\n            type='BboxParams',\r\n            format='pascal_voc',\r\n            label_fields=['gt_labels'],\r\n            min_visibility=0.0,\r\n            filter_lost_elements=True),\r\n        keymap={\r\n            'img': 'image',\r\n            # 'gt_masks': 'masks',\r\n            'gt_bboxes': 'bboxes'\r\n        },\r\n        update_pad_shape=False,\r\n        skip_img_without_anno=True),\r\n    dict(\r\n        type='Normalize',\r\n        mean=[123.675, 116.28, 103.53],\r\n        std=[58.395, 57.12, 57.375],\r\n        to_rgb=True),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(512, 512),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='RandomFlip'),\r\n            dict(\r\n                type='Normalize',\r\n                mean=[123.675, 116.28, 103.53],\r\n                std=[58.395, 57.12, 57.375],\r\n                to_rgb=True),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img'])\r\n        ])\r\n]\r\ndata = dict(\r\n    samples_per_gpu=32,\r\n    workers_per_gpu=2,\r\n    train=dict(\r\n        type='VOCDataset',\r\n        ann_file='VOC2012/ImageSets/Main/train.txt',\r\n        img_prefix='VOC2012/',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(type='LoadAnnotations', with_bbox=True),\r\n            dict(type='Resize', img_scale=(512, 512), keep_ratio=True),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='RandomFlip', flip_ratio=0.5),\r\n            dict(\r\n                type='Albu',\r\n                transforms=albu_train_transforms,\r\n                bbox_params=dict(\r\n                    type='BboxParams',\r\n                    format='pascal_voc',\r\n                    label_fields=['gt_labels'],\r\n                    min_visibility=0.0,\r\n                    filter_lost_elements=True),\r\n                keymap={\r\n                    'img': 'image',\r\n                    # 'gt_masks': 'masks',\r\n                    'gt_bboxes': 'bboxes'\r\n                },\r\n                update_pad_shape=False,\r\n                skip_img_without_anno=True),\r\n            dict(\r\n                type='Normalize',\r\n                mean=[123.675, 116.28, 103.53],\r\n                std=[58.395, 57.12, 57.375],\r\n                to_rgb=True),\r\n            dict(type='DefaultFormatBundle'),\r\n            dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n        ],\r\n        classes=('D00', 'D10', 'D20', 'D40')),\r\n    val=dict(\r\n        type='VOCDataset',\r\n        ann_file='VOC2012/ImageSets/Main/val.txt',\r\n        img_prefix='VOC2012/',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(512, 512),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='Pad', size_divisor=32),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='ImageToTensor', keys=['img']),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ],\r\n        classes=('D00', 'D10', 'D20', 'D40')),\r\n    test=dict(\r\n        type='VOCDataset',\r\n        ann_file='VOC2012/ImageSets/Main/test.txt',\r\n        img_prefix='VOC2012/',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(512, 512),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='Pad', size_divisor=32),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='ImageToTensor', keys=['img']),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ],\r\n        classes=('D00', 'D10', 'D20', 'D40'),\r\n        samples_per_gpu=2))\r\nevaluation = dict(interval=1, metric='mAP')\r\noptimizer = dict(type='SGD', lr=0.0025, momentum=0.9, weight_decay=0.0001)\r\noptimizer_config = dict(grad_clip=None)\r\nlr_config = dict(\r\n    policy='step',\r\n    warmup=None,\r\n    warmup_iters=500,\r\n    warmup_ratio=0.001,\r\n    step=[8, 11])\r\ntotal_epochs = 10\r\ncheckpoint_config = dict(interval=10)\r\nlog_config = dict(\r\n    interval=10,\r\n    hooks=[\r\n        dict(type='TensorboardLoggerHook'),\r\n        dict(type='TextLoggerHook'),\r\n        # dict(\r\n        #     type='WandbLoggerHook',\r\n        #     init_kwargs=dict(project='mmdetection-sample', name='exp4'))\r\n    ])\r\ncustom_hooks = [dict(type='NumClassCheckHook')]\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nload_from = '/content/mmdetection/checkpoint/faster_rcnn_r50_fpn_1x_20181010-3d1b3351.pth'\r\nresume_from = None\r\nworkflow = [('train', 1), ('val', 1)]\r\nclasses = ('D00', 'D10', 'D20', 'D40')\r\nwork_dir = './exps'\r\ngpu_ids = range(0, 1)\r\n\r\n```\r\nThere seems to be very little documentation on how to properly use albumentations.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4585", "id": 801230382, "node_id": "MDU6SXNzdWU4MDEyMzAzODI=", "number": 4585, "title": "VOCDataset that has object but with no difficult attribute returns an Error", "user": {"login": "sarmientoj24", "id": 8830319, "node_id": "MDQ6VXNlcjg4MzAzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8830319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarmientoj24", "html_url": "https://github.com/sarmientoj24", "followers_url": "https://api.github.com/users/sarmientoj24/followers", "following_url": "https://api.github.com/users/sarmientoj24/following{/other_user}", "gists_url": "https://api.github.com/users/sarmientoj24/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarmientoj24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarmientoj24/subscriptions", "organizations_url": "https://api.github.com/users/sarmientoj24/orgs", "repos_url": "https://api.github.com/users/sarmientoj24/repos", "events_url": "https://api.github.com/users/sarmientoj24/events{/privacy}", "received_events_url": "https://api.github.com/users/sarmientoj24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699764, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/community%20help%20wanted", "name": "community help wanted", "color": "008672", "default": false, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-02-04T12:16:39Z", "updated_at": "2021-04-27T03:17:02Z", "closed_at": "2021-04-27T03:17:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using a VOCDataset, those with annotations that do not have difficult attribute inside the object yields an error.\r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```\r\npython tools/train.py {config}\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified? Edited configuration\r\n3. What dataset did you use? Custom dataset\r\n\r\n\r\n**Environment**\r\nMMDet Colab Environment\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n\r\n```\r\n  File \"/content/mmdetection/mmdet/datasets/custom.py\", line 211, in prepare_train_img\r\n    ann_info = self.get_ann_info(idx)\r\n  File \"/content/mmdetection/mmdet/datasets/xml_style.py\", line 105, in get_ann_info\r\n    difficult = int(obj.find('difficult').text)\r\nAttributeError: 'NoneType' object has no attribute 'text\r\n```\r\n\r\n**Bug fix**\r\nThis yields the error.\r\nmmdet/datasets/xml_style.py\r\n```\r\n            difficult = int(obj.find('difficult').text)\r\n```\r\n\r\nI was able to do a workaround by adding a try-catch \r\n```\r\ntry:\r\n     difficult = int(obj.find('difficult').text) \r\ncatch:\r\n     difficult = 0", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4536", "id": 794748590, "node_id": "MDU6SXNzdWU3OTQ3NDg1OTA=", "number": 4536, "title": "There is an error occurring when calculating the flops of HRNET.", "user": {"login": "CanQixiaoLan", "id": 45086408, "node_id": "MDQ6VXNlcjQ1MDg2NDA4", "avatar_url": "https://avatars.githubusercontent.com/u/45086408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CanQixiaoLan", "html_url": "https://github.com/CanQixiaoLan", "followers_url": "https://api.github.com/users/CanQixiaoLan/followers", "following_url": "https://api.github.com/users/CanQixiaoLan/following{/other_user}", "gists_url": "https://api.github.com/users/CanQixiaoLan/gists{/gist_id}", "starred_url": "https://api.github.com/users/CanQixiaoLan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CanQixiaoLan/subscriptions", "organizations_url": "https://api.github.com/users/CanQixiaoLan/orgs", "repos_url": "https://api.github.com/users/CanQixiaoLan/repos", "events_url": "https://api.github.com/users/CanQixiaoLan/events{/privacy}", "received_events_url": "https://api.github.com/users/CanQixiaoLan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-01-27T04:03:01Z", "updated_at": "2021-09-10T08:54:43Z", "closed_at": "2021-09-10T08:54:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "RuntimeError: The size of tensor a (150) must match the size of tensor b (152) at non-singleton dimension 3", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4456", "id": 786009682, "node_id": "MDU6SXNzdWU3ODYwMDk2ODI=", "number": 4456, "title": "iou loss, pred and weight ndim not equal issue", "user": {"login": "ceykmc", "id": 11994664, "node_id": "MDQ6VXNlcjExOTk0NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/11994664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceykmc", "html_url": "https://github.com/ceykmc", "followers_url": "https://api.github.com/users/ceykmc/followers", "following_url": "https://api.github.com/users/ceykmc/following{/other_user}", "gists_url": "https://api.github.com/users/ceykmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceykmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceykmc/subscriptions", "organizations_url": "https://api.github.com/users/ceykmc/orgs", "repos_url": "https://api.github.com/users/ceykmc/repos", "events_url": "https://api.github.com/users/ceykmc/events{/privacy}", "received_events_url": "https://api.github.com/users/ceykmc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1031699767, "node_id": "MDU6TGFiZWwxMDMxNjk5NzY3", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-01-14T13:57:02Z", "updated_at": "2021-04-21T14:21:33Z", "closed_at": "2021-04-16T05:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "in mmdet/models/losses/iou_loss.py, exist 5 lines of:\r\n`return (pred * weight).sum()  # 0`\r\nbut if pred ndim is not equal to weight ndim, they can not multiply.\r\nit happened when i train gfl detector.\r\n\r\nwith the suggestion of @shinya7y  \r\nshould replace\r\n```\r\nreturn (pred * weight).sum()  # 0\r\n```\r\nwith\r\n```\r\nif pred.dim() == weight.dim() + 1:  \r\n    weight = weight.unsqueeze(1)\r\nreturn (pred * weight).sum()  # 0\r\n```\r\n??", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4322", "id": 770467316, "node_id": "MDU6SXNzdWU3NzA0NjczMTY=", "number": 4322, "title": "APs of YOLOv3 pretrained models drop over 0.9 after updating to v2.7 and some other detectors drop 0.1  ", "user": {"login": "hyz-xmaster", "id": 46875969, "node_id": "MDQ6VXNlcjQ2ODc1OTY5", "avatar_url": "https://avatars.githubusercontent.com/u/46875969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyz-xmaster", "html_url": "https://github.com/hyz-xmaster", "followers_url": "https://api.github.com/users/hyz-xmaster/followers", "following_url": "https://api.github.com/users/hyz-xmaster/following{/other_user}", "gists_url": "https://api.github.com/users/hyz-xmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyz-xmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyz-xmaster/subscriptions", "organizations_url": "https://api.github.com/users/hyz-xmaster/orgs", "repos_url": "https://api.github.com/users/hyz-xmaster/repos", "events_url": "https://api.github.com/users/hyz-xmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/hyz-xmaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-12-18T00:12:41Z", "updated_at": "2021-01-24T15:34:00Z", "closed_at": "2021-01-24T15:34:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Checklist**\r\n\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nIn MMDetection v2.7, the APs of pre-trained models of [YOLOv3](https://github.com/open-mmlab/mmdetection/tree/master/configs/yolo) drop significantly. For YOLOv3-320, the AP falls from 27.9 to 27.0; YOLOv3-416, the AP falls from 30.9 to 29.8; YOLOv3-608, 33.4 -> 32.3. \r\n\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = **0.270** \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.469 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.278 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.101 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.290 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.426 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.355 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.355 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.355 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.154 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.374 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.536 \r\n\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = **0.298** \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.502 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.313 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.136 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.321 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.438 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.386 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.386 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.386 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.189 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.410 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.549 \r\n\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = **0.323** \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.535 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.344 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.184 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.351 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.426 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.414 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.414 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.414 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.244 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.436 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.544 \r\n\r\nFor fcos_r50_caffe_fpn_gn-head_4x4_1x_coco.py, the AP drops from 36.6 to 36.5 and the same issue can be found with other detectors like Mask RCNN.\r\n\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = **0.365** \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.556 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.388 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.206 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.401 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.474 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.526 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.526 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.526 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = 0.318 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.570 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.670 \r\n\r\n**Reproduction**\r\n\r\n1. What command or script did you run?\r\n\r\n```\r\npython tools/test.py configs/yolo/yolov3_d53_320_273e_coco.py  checkpoints/yolov3/yolov3_d53_320_273e_coco-421362b6.pth --eval bbox\r\n\r\npython tools/test.py configs/yolo/yolov3_d53_mstrain-416_273e_coco.py  checkpoints/yolov3/yolov3_d53_mstrain-416_273e_coco-2b60fcd9.pth --eval bbox\r\n\r\npython tools/test.py configs/yolo/yolov3_d53_mstrain-608_273e_coco.py  checkpoints/yolov3/yolov3_d53_mstrain-608_273e_coco-139f5633.pth --eval bbox\r\n\r\npython tools/test.py configs/fcos/fcos_r50_caffe_fpn_gn-head_4x4_1x_coco.py  checkpoints/fcos/fcos_r50_caffe_fpn_gn-head_4x4_1x_coco/fcos_r50_caffe_fpn_gn_1x_4gpu_20200218-7831950c.pth --eval bbox\r\n\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\nNO\r\n\r\n3. What dataset did you use?\r\nCOCO\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n\r\nsys.platform: linux \r\n\r\nPython: 3.7.5 (default, Oct 25 2019, 15:51:11) [GCC 7.3.0] \r\n\r\nCUDA available: True \r\n\r\nGPU 0: GeForce GTX 1080 \r\n\r\nCUDA_HOME: /usr/local/cuda \r\n\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243 \r\n\r\nGCC: gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0 \r\n\r\nPyTorch: 1.6.0 \r\n\r\nPyTorch compiling details: PyTorch built with: \r\n\r\n  - GCC 7.3 \r\n\r\n  - C++ Version: 201402 \r\n\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications \r\n\r\n  - Intel(R) MKL-DNN v1.5.0 (Git Hash e2ac1fac44c5078ca927cb9b90e1b3066a0b2ed0) \r\n\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5) \r\n\r\n  - NNPACK is enabled \r\n\r\n  - CPU capability usage: AVX2 \r\n\r\n  - CUDA Runtime 10.1 \r\n\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37 \r\n\r\n  - CuDNN 7.6.3 \r\n\r\n  - Magma 2.5.2 \r\n\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_VULKAN_WRAPPER -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF,  \r\n\r\n  \r\n\r\nTorchVision: 0.7.0 \r\nOpenCV: 4.2.0 \r\nMMCV: 1.1.5 \r\nMMCV Compiler: GCC 7.3 \r\nMMCV CUDA Compiler: 10.1 \r\nMMDetection: 2.7.0+2983c05 \r\n\r\n\r\n**Bug fix**\r\nI think the bug might be related to evaluation code as the AP drop happens to many detectors. \r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4232", "id": 757518583, "node_id": "MDU6SXNzdWU3NTc1MTg1ODM=", "number": 4232, "title": "Different mean values of image normalization for HRNet", "user": {"login": "ycszen", "id": 6136494, "node_id": "MDQ6VXNlcjYxMzY0OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6136494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ycszen", "html_url": "https://github.com/ycszen", "followers_url": "https://api.github.com/users/ycszen/followers", "following_url": "https://api.github.com/users/ycszen/following{/other_user}", "gists_url": "https://api.github.com/users/ycszen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ycszen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ycszen/subscriptions", "organizations_url": "https://api.github.com/users/ycszen/orgs", "repos_url": "https://api.github.com/users/ycszen/repos", "events_url": "https://api.github.com/users/ycszen/events{/privacy}", "received_events_url": "https://api.github.com/users/ycszen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-12-05T02:49:01Z", "updated_at": "2020-12-05T07:58:56Z", "closed_at": "2020-12-05T07:58:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I find the different configs of HRNet experiments use different mean values for image normalization.\r\n\r\nFor example,\r\n[fcos_hrnetv2p_w32_gn-head_4x4_1x_coco.py](https://github.com/open-mmlab/mmdetection/blob/master/configs/hrnet/fcos_hrnetv2p_w32_gn-head_4x4_1x_coco.py) uses the `[102.9801, 115.9465, 122.7717]` as the mean value,\r\nwhile [fcos_hrnetv2p_w32_gn-head_mstrain_640-800_4x4_2x_coco.py](https://github.com/open-mmlab/mmdetection/blob/master/configs/hrnet/fcos_hrnetv2p_w32_gn-head_mstrain_640-800_4x4_2x_coco.py) uses the `[103.530, 116.280, 123.675]` as the mean value.\r\n\r\nWhich one is correct?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4228", "id": 756372341, "node_id": "MDU6SXNzdWU3NTYzNzIzNDE=", "number": 4228, "title": "Empirical attention with ResNext backbone", "user": {"login": "zvadaszi", "id": 24705627, "node_id": "MDQ6VXNlcjI0NzA1NjI3", "avatar_url": "https://avatars.githubusercontent.com/u/24705627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zvadaszi", "html_url": "https://github.com/zvadaszi", "followers_url": "https://api.github.com/users/zvadaszi/followers", "following_url": "https://api.github.com/users/zvadaszi/following{/other_user}", "gists_url": "https://api.github.com/users/zvadaszi/gists{/gist_id}", "starred_url": "https://api.github.com/users/zvadaszi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zvadaszi/subscriptions", "organizations_url": "https://api.github.com/users/zvadaszi/orgs", "repos_url": "https://api.github.com/users/zvadaszi/repos", "events_url": "https://api.github.com/users/zvadaszi/events{/privacy}", "received_events_url": "https://api.github.com/users/zvadaszi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-12-03T16:51:35Z", "updated_at": "2020-12-23T03:20:58Z", "closed_at": "2020-12-23T03:20:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "In mmdetectiom v1 I used ResNext backbone with empirical attention 0010_dcn but in v2 I got an error.\r\nAny ideas how to fix this?\r\n\r\nMy updated config file:\r\n```\r\n_base_ = '../faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py'\r\nmodel = dict(\r\n\r\n    pretrained='open-mmlab://resnext50_32x4d',\r\n    backbone=dict(\r\n        type='ResNeXt',\r\n        depth=50,\r\n        groups=32,\r\n        base_width=4,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        style='pytorch',\r\n        plugins=[\r\n            dict(\r\n                cfg=dict(\r\n                    type='GeneralizedAttention',\r\n                    spatial_range=-1,\r\n                    num_heads=8,\r\n                    attention_type='0010',\r\n                    kv_stride=2),\r\n                stages=(False, False, True, True),\r\n                position='after_conv2')\r\n        ],\r\n        dcn=dict(type='DCN', deform_groups=1, fallback_on_stride=False),\r\n        stage_with_dcn=(False, True, True, True)))\r\n```\r\n\r\nError:\r\n```\r\nRuntimeError: Given groups=1, weight of size [256, 256, 1, 1], expected input[2, 512, 41, 73] to have 256 channels, but got 512 channels instead\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4199", "id": 752869047, "node_id": "MDU6SXNzdWU3NTI4NjkwNDc=", "number": 4199, "title": "ValueError: need at least one array to concatenate", "user": {"login": "jevenail", "id": 31537009, "node_id": "MDQ6VXNlcjMxNTM3MDA5", "avatar_url": "https://avatars.githubusercontent.com/u/31537009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jevenail", "html_url": "https://github.com/jevenail", "followers_url": "https://api.github.com/users/jevenail/followers", "following_url": "https://api.github.com/users/jevenail/following{/other_user}", "gists_url": "https://api.github.com/users/jevenail/gists{/gist_id}", "starred_url": "https://api.github.com/users/jevenail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jevenail/subscriptions", "organizations_url": "https://api.github.com/users/jevenail/orgs", "repos_url": "https://api.github.com/users/jevenail/repos", "events_url": "https://api.github.com/users/jevenail/events{/privacy}", "received_events_url": "https://api.github.com/users/jevenail/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2020-11-29T08:45:47Z", "updated_at": "2022-04-17T06:59:17Z", "closed_at": "2021-01-18T01:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried it on windows 10 platform,and when I want to train my dataset,error occurs .And here is the log.\r\nHow can I solve my problem?\r\n\r\n'tail' \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\r\n\u6216\u6279\u5904\u7406\u6587\u4ef6\u3002\r\n'gcc' \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\r\n\u6216\u6279\u5904\u7406\u6587\u4ef6\u3002\r\nfatal: not a git repository (or any of the parent directories): .git\r\n2020-11-29 16:17:53,347 - mmdet - INFO - Environment info:\r\n------------------------------------------------------------\r\nsys.platform: win32\r\nPython: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nCUDA available: True\r\nGPU 0: GeForce RTX 2060 with Max-Q Design\r\nCUDA_HOME: C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.1\r\nNVCC: Not Available\r\nGCC: n/a\r\nPyTorch: 1.6.0+cu101\r\nPyTorch compiling details: PyTorch built with:\r\n  - C++ Version: 199711\r\n  - MSVC 192628806\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191125 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v1.5.0 (Git Hash e2ac1fac44c5078ca927cb9b90e1b3066a0b2ed0)\r\n  - OpenMP 2019\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.4\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS=/DWIN32 /D_WINDOWS /GR /EHsc /w /bigobj -openmp:experimental -DNDEBUG -DUSE_FBGEMM -DUSE_VULKAN_WRAPPER, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=OFF, USE_NNPACK=OFF, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF,\r\n\r\nTorchVision: 0.7.0+cu101\r\nOpenCV: 4.4.0\r\nMMCV: 1.1.5\r\nMMCV Compiler: MSVC 192729111\r\nMMCV CUDA Compiler: 10.1\r\nMMDetection: 2.6.0+\r\n------------------------------------------------------------\r\n\r\n2020-11-29 16:17:54,254 - mmdet - INFO - Distributed training: False\r\n2020-11-29 16:17:55,219 - mmdet - INFO - Config:\r\nmodel = dict(\r\n    type='CascadeRCNN',\r\n    pretrained='torchvision://resnet50',\r\n    backbone=dict(\r\n        type='ResNet',\r\n        depth=50,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        norm_eval=True,\r\n        style='pytorch'),\r\n    neck=dict(\r\n        type='FPN',\r\n        in_channels=[256, 512, 1024, 2048],\r\n        out_channels=256,\r\n        num_outs=5),\r\n    rpn_head=dict(\r\n        type='RPNHead',\r\n        in_channels=256,\r\n        feat_channels=256,\r\n        anchor_generator=dict(\r\n            type='AnchorGenerator',\r\n            scales=[8],\r\n            ratios=[0.5, 1.0, 2.0],\r\n            strides=[4, 8, 16, 32, 64]),\r\n        bbox_coder=dict(\r\n            type='DeltaXYWHBBoxCoder',\r\n            target_means=[0.0, 0.0, 0.0, 0.0],\r\n            target_stds=[1.0, 1.0, 1.0, 1.0]),\r\n        loss_cls=dict(\r\n            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\r\n        loss_bbox=dict(\r\n            type='SmoothL1Loss', beta=0.1111111111111111, loss_weight=1.0)),\r\n    roi_head=dict(\r\n        type='CascadeRoIHead',\r\n        num_stages=3,\r\n        stage_loss_weights=[1, 0.5, 0.25],\r\n        bbox_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        bbox_head=[\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=94,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0.0, 0.0, 0.0, 0.0],\r\n                    target_stds=[0.1, 0.1, 0.2, 0.2]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=94,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0.0, 0.0, 0.0, 0.0],\r\n                    target_stds=[0.05, 0.05, 0.1, 0.1]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=94,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0.0, 0.0, 0.0, 0.0],\r\n                    target_stds=[0.033, 0.033, 0.067, 0.067]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0, loss_weight=1.0))\r\n        ]))\r\ntrain_cfg = dict(\r\n    rpn=dict(\r\n        assigner=dict(\r\n            type='MaxIoUAssigner',\r\n            pos_iou_thr=0.7,\r\n            neg_iou_thr=0.3,\r\n            min_pos_iou=0.3,\r\n            match_low_quality=True,\r\n            ignore_iof_thr=-1),\r\n        sampler=dict(\r\n            type='RandomSampler',\r\n            num=256,\r\n            pos_fraction=0.5,\r\n            neg_pos_ub=-1,\r\n            add_gt_as_proposals=False),\r\n        allowed_border=0,\r\n        pos_weight=-1,\r\n        debug=False),\r\n    rpn_proposal=dict(\r\n        nms_across_levels=False,\r\n        nms_pre=2000,\r\n        nms_post=2000,\r\n        max_num=2000,\r\n        nms_thr=0.7,\r\n        min_bbox_size=0),\r\n    rcnn=[\r\n        dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.5,\r\n                neg_iou_thr=0.5,\r\n                min_pos_iou=0.5,\r\n                match_low_quality=False,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=512,\r\n                pos_fraction=0.25,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=True),\r\n            pos_weight=-1,\r\n            debug=False),\r\n        dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.6,\r\n                neg_iou_thr=0.6,\r\n                min_pos_iou=0.6,\r\n                match_low_quality=False,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=512,\r\n                pos_fraction=0.25,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=True),\r\n            pos_weight=-1,\r\n            debug=False),\r\n        dict(\r\n            assigner=dict(\r\n                type='MaxIoUAssigner',\r\n                pos_iou_thr=0.7,\r\n                neg_iou_thr=0.7,\r\n                min_pos_iou=0.7,\r\n                match_low_quality=False,\r\n                ignore_iof_thr=-1),\r\n            sampler=dict(\r\n                type='RandomSampler',\r\n                num=512,\r\n                pos_fraction=0.25,\r\n                neg_pos_ub=-1,\r\n                add_gt_as_proposals=True),\r\n            pos_weight=-1,\r\n            debug=False)\r\n    ])\r\ntest_cfg = dict(\r\n    rpn=dict(\r\n        nms_across_levels=False,\r\n        nms_pre=1000,\r\n        nms_post=1000,\r\n        max_num=1000,\r\n        nms_thr=0.7,\r\n        min_bbox_size=0),\r\n    rcnn=dict(\r\n        score_thr=0.05,\r\n        nms=dict(type='nms', iou_threshold=0.5),\r\n        max_per_img=100))\r\ndataset_type = 'VOCDataset'\r\ndata_root = 'data/VOCdevkit/'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='Resize', img_scale=(1000, 600), keep_ratio=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(\r\n        type='Normalize',\r\n        mean=[123.675, 116.28, 103.53],\r\n        std=[58.395, 57.12, 57.375],\r\n        to_rgb=True),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(1000, 600),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(\r\n                type='Normalize',\r\n                mean=[123.675, 116.28, 103.53],\r\n                std=[58.395, 57.12, 57.375],\r\n                to_rgb=True),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img'])\r\n        ])\r\n]\r\ndata = dict(\r\n    samples_per_gpu=2,\r\n    workers_per_gpu=2,\r\n    train=dict(\r\n        type='RepeatDataset',\r\n        times=3,\r\n        dataset=dict(\r\n            type='VOCDataset',\r\n            ann_file=['data/VOCdevkit/VOC2007/ImageSets/Main/trainval.txt'],\r\n            img_prefix=['data/VOCdevkit/VOC2007/'],\r\n            pipeline=[\r\n                dict(type='LoadImageFromFile'),\r\n                dict(type='LoadAnnotations', with_bbox=True),\r\n                dict(type='Resize', img_scale=(1000, 600), keep_ratio=True),\r\n                dict(type='RandomFlip', flip_ratio=0.5),\r\n                dict(\r\n                    type='Normalize',\r\n                    mean=[123.675, 116.28, 103.53],\r\n                    std=[58.395, 57.12, 57.375],\r\n                    to_rgb=True),\r\n                dict(type='Pad', size_divisor=32),\r\n                dict(type='DefaultFormatBundle'),\r\n                dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\r\n            ])),\r\n    val=dict(\r\n        type='VOCDataset',\r\n        ann_file='data/VOCdevkit/VOC2007/ImageSets/Main/trainval.txt',\r\n        img_prefix='data/VOCdevkit/VOC2007/',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(1000, 600),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='Pad', size_divisor=32),\r\n                    dict(type='ImageToTensor', keys=['img']),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ]),\r\n    test=dict(\r\n        type='VOCDataset',\r\n        ann_file='data/VOCdevkit/VOC2007/ImageSets/Main/trainval.txt',\r\n        img_prefix='data/VOCdevkit/VOC2007/',\r\n        pipeline=[\r\n            dict(type='LoadImageFromFile'),\r\n            dict(\r\n                type='MultiScaleFlipAug',\r\n                img_scale=(1000, 600),\r\n                flip=False,\r\n                transforms=[\r\n                    dict(type='Resize', keep_ratio=True),\r\n                    dict(type='RandomFlip'),\r\n                    dict(\r\n                        type='Normalize',\r\n                        mean=[123.675, 116.28, 103.53],\r\n                        std=[58.395, 57.12, 57.375],\r\n                        to_rgb=True),\r\n                    dict(type='Pad', size_divisor=32),\r\n                    dict(type='ImageToTensor', keys=['img']),\r\n                    dict(type='Collect', keys=['img'])\r\n                ])\r\n        ]))\r\nevaluation = dict(interval=1, metric='mAP')\r\noptimizer = dict(type='SGD', lr=0.02, momentum=0.9, weight_decay=0.0001)\r\noptimizer_config = dict(grad_clip=None)\r\nlr_config = dict(\r\n    policy='step',\r\n    warmup='linear',\r\n    warmup_iters=500,\r\n    warmup_ratio=0.001,\r\n    step=[8, 11])\r\ntotal_epochs = 12\r\ncheckpoint_config = dict(interval=1)\r\nlog_config = dict(interval=50, hooks=[dict(type='TextLoggerHook')])\r\ndist_params = dict(backend='nccl')\r\nlog_level = 'INFO'\r\nload_from = None\r\nresume_from = None\r\nworkflow = [('train', 1)]\r\nwork_dir = 'hudie_workdir'\r\ngpu_ids = range(0, 1)\r\n\r\n2020-11-29 16:17:56,399 - mmdet - INFO - load model from: torchvision://resnet50\r\n2020-11-29 16:17:56,992 - mmdet - WARNING - The model and loaded state dict do not match exactly\r\n\r\nunexpected key in source state_dict: fc.weight, fc.bias\r\n\r\nfatal: not a git repository (or any of the parent directories): .git\r\n2020-11-29 16:18:01,446 - mmdet - INFO - Start running, host: ASUS@LAPTOP-AC34UT2N, work_dir: D:\\PycharmProjects\\mmd2\\hudie_workdir\r\n2020-11-29 16:18:01,447 - mmdet - INFO - workflow: [('train', 1)], max: 12 epochs\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 181, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 177, in main\r\n    meta=meta)\r\n  File \"c:\\users\\asus\\mmdetection\\mmdet\\apis\\train.py\", line 150, in train_detector\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\mmcv\\runner\\epoch_based_runner.py\", line 125, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\mmcv\\runner\\epoch_based_runner.py\", line 47, in train\r\n    for i, data_batch in enumerate(self.data_loader):\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 291, in __iter__\r\n    return _MultiProcessingDataLoaderIter(self)\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 764, in __init__\r\n    self._try_put_index()\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 994, in _try_put_index\r\n    index = self._next_index()\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 357, in _next_index\r\n    return next(self._sampler_iter)  # may raise StopIteration\r\n  File \"D:\\anaconda\\envs\\mmd2\\lib\\site-packages\\torch\\utils\\data\\sampler.py\", line 208, in __iter__\r\n    for idx in self.sampler:\r\n  File \"c:\\users\\asus\\mmdetection\\mmdet\\datasets\\samplers\\group_sampler.py\", line 36, in __iter__\r\n    indices = np.concatenate(indices)\r\n  File \"<__array_function__ internals>\", line 6, in concatenate\r\nValueError: need at least one array to concatenate", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4158", "id": 748171581, "node_id": "MDU6SXNzdWU3NDgxNzE1ODE=", "number": 4158, "title": "error when calculate AP", "user": {"login": "Asperger12345", "id": 41863809, "node_id": "MDQ6VXNlcjQxODYzODA5", "avatar_url": "https://avatars.githubusercontent.com/u/41863809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Asperger12345", "html_url": "https://github.com/Asperger12345", "followers_url": "https://api.github.com/users/Asperger12345/followers", "following_url": "https://api.github.com/users/Asperger12345/following{/other_user}", "gists_url": "https://api.github.com/users/Asperger12345/gists{/gist_id}", "starred_url": "https://api.github.com/users/Asperger12345/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Asperger12345/subscriptions", "organizations_url": "https://api.github.com/users/Asperger12345/orgs", "repos_url": "https://api.github.com/users/Asperger12345/repos", "events_url": "https://api.github.com/users/Asperger12345/events{/privacy}", "received_events_url": "https://api.github.com/users/Asperger12345/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hhaAndroid", "id": 17425982, "node_id": "MDQ6VXNlcjE3NDI1OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/17425982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhaAndroid", "html_url": "https://github.com/hhaAndroid", "followers_url": "https://api.github.com/users/hhaAndroid/followers", "following_url": "https://api.github.com/users/hhaAndroid/following{/other_user}", "gists_url": "https://api.github.com/users/hhaAndroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhaAndroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhaAndroid/subscriptions", "organizations_url": "https://api.github.com/users/hhaAndroid/orgs", "repos_url": "https://api.github.com/users/hhaAndroid/repos", "events_url": "https://api.github.com/users/hhaAndroid/events{/privacy}", "received_events_url": "https://api.github.com/users/hhaAndroid/received_events", "type": "User", "site_admin": false}, {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-11-22T05:11:59Z", "updated_at": "2021-04-13T11:51:44Z", "closed_at": "2021-04-13T11:51:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,when I use tools/robustness_eval.py calculate AP ,there is an error.\r\n\r\nI use it in this way:\r\n`python tools/robustness_eval.py ./result10.pkl --dataset voc --metric AP`\r\n\r\nand the error message:\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/robustness_eval.py\", line 250, in <module>\r\n    main()\r\n  File \"tools/robustness_eval.py\", line 246, in main\r\n    aggregate=args.aggregate)\r\n  File \"tools/robustness_eval.py\", line 178, in get_results\r\n    filename, prints=prints, aggregate=aggregate)\r\n  File \"tools/robustness_eval.py\", line 124, in get_voc_style_results\r\n    num_distortions = len(list(eval_output.keys()))\r\nAttributeError: 'list' object has no attribute 'keys'\r\n```\r\n\r\nThank you very much!\r\n\r\n@anurag1paul @hachreak @DXist @ramkakarala @tjsongzw @", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/4046", "id": 734145494, "node_id": "MDU6SXNzdWU3MzQxNDU0OTQ=", "number": 4046, "title": "AttributeError: 'Tensor' object has no attribute 'true_divide_'", "user": {"login": "KeepGoing2019HaHa", "id": 45410033, "node_id": "MDQ6VXNlcjQ1NDEwMDMz", "avatar_url": "https://avatars.githubusercontent.com/u/45410033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KeepGoing2019HaHa", "html_url": "https://github.com/KeepGoing2019HaHa", "followers_url": "https://api.github.com/users/KeepGoing2019HaHa/followers", "following_url": "https://api.github.com/users/KeepGoing2019HaHa/following{/other_user}", "gists_url": "https://api.github.com/users/KeepGoing2019HaHa/gists{/gist_id}", "starred_url": "https://api.github.com/users/KeepGoing2019HaHa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KeepGoing2019HaHa/subscriptions", "organizations_url": "https://api.github.com/users/KeepGoing2019HaHa/orgs", "repos_url": "https://api.github.com/users/KeepGoing2019HaHa/repos", "events_url": "https://api.github.com/users/KeepGoing2019HaHa/events{/privacy}", "received_events_url": "https://api.github.com/users/KeepGoing2019HaHa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "v-qjqs", "id": 34116221, "node_id": "MDQ6VXNlcjM0MTE2MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/34116221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-qjqs", "html_url": "https://github.com/v-qjqs", "followers_url": "https://api.github.com/users/v-qjqs/followers", "following_url": "https://api.github.com/users/v-qjqs/following{/other_user}", "gists_url": "https://api.github.com/users/v-qjqs/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-qjqs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-qjqs/subscriptions", "organizations_url": "https://api.github.com/users/v-qjqs/orgs", "repos_url": "https://api.github.com/users/v-qjqs/repos", "events_url": "https://api.github.com/users/v-qjqs/events{/privacy}", "received_events_url": "https://api.github.com/users/v-qjqs/received_events", "type": "User", "site_admin": false}, {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-11-02T03:14:04Z", "updated_at": "2020-11-04T02:47:14Z", "closed_at": "2020-11-04T02:47:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I was trying to run vfnet config, but an error raised, \r\n\r\n```\r\n>   File \"/data/work/mmdetection/mmdet/models/dense_heads/vfnet_head.py\", line 403, in loss\r\n>     pos_inds.new_tensor(num_pos).float()).item()\r\n>   File \"/data/work/mmdetection/mmdet/models/dense_heads/vfnet_head.py\", line 24, in reduce_mean\r\n>     tensor.true_divide_(tensor.new_tensor(dist.get_world_size())),\r\n> AttributeError: 'Tensor' object has no attribute 'true_divide_'\r\n```\r\n\r\npackage version is :\r\nmmdet: latest version\r\npytroch: 1.3.1\r\nmmcv: 1.1.6\r\n\r\nCan someone help me? thanks in advance.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/4046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3898", "id": 717183234, "node_id": "MDU6SXNzdWU3MTcxODMyMzQ=", "number": 3898, "title": "RuntimeError: expected dtype Float but got dtype Half", "user": {"login": "puhan123", "id": 24897773, "node_id": "MDQ6VXNlcjI0ODk3Nzcz", "avatar_url": "https://avatars.githubusercontent.com/u/24897773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/puhan123", "html_url": "https://github.com/puhan123", "followers_url": "https://api.github.com/users/puhan123/followers", "following_url": "https://api.github.com/users/puhan123/following{/other_user}", "gists_url": "https://api.github.com/users/puhan123/gists{/gist_id}", "starred_url": "https://api.github.com/users/puhan123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/puhan123/subscriptions", "organizations_url": "https://api.github.com/users/puhan123/orgs", "repos_url": "https://api.github.com/users/puhan123/repos", "events_url": "https://api.github.com/users/puhan123/events{/privacy}", "received_events_url": "https://api.github.com/users/puhan123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-08T09:36:37Z", "updated_at": "2021-05-26T03:54:22Z", "closed_at": "2021-05-26T03:54:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\n**python tools/train.py configs/fp16/yolov3_d53_fp16_mstrain_273e_voc0712.py --work-dir experiments/fp16_test**\r\n![image](https://user-images.githubusercontent.com/24897773/95441452-bc0d6d00-098c-11eb-9c12-e154c2ef86f4.png)\r\n\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n\r\n**I add a new config file at file configs/pascal_voc/yolov3_d53_mstrain-416_273e_voc0712.py** \r\n\r\n3. What dataset did you use?\r\n**Pascal_VOC**\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n![image](https://user-images.githubusercontent.com/24897773/95440670-caa75480-098b-11eb-9114-36615aef14c2.png)\r\n\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source]\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3874", "id": 713500485, "node_id": "MDU6SXNzdWU3MTM1MDA0ODU=", "number": 3874, "title": "import error in async_benchmark.py", "user": {"login": "frnhfr", "id": 72253801, "node_id": "MDQ6VXNlcjcyMjUzODAx", "avatar_url": "https://avatars.githubusercontent.com/u/72253801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frnhfr", "html_url": "https://github.com/frnhfr", "followers_url": "https://api.github.com/users/frnhfr/followers", "following_url": "https://api.github.com/users/frnhfr/following{/other_user}", "gists_url": "https://api.github.com/users/frnhfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/frnhfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frnhfr/subscriptions", "organizations_url": "https://api.github.com/users/frnhfr/orgs", "repos_url": "https://api.github.com/users/frnhfr/repos", "events_url": "https://api.github.com/users/frnhfr/events{/privacy}", "received_events_url": "https://api.github.com/users/frnhfr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-10-02T10:00:26Z", "updated_at": "2021-01-02T04:34:08Z", "closed_at": "2021-01-02T04:34:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\nthe async_benchmark.py script isnt working anymore. im thinking its because the function name show_result() changed to show_result_pyplot() in mmdet.apis.inference.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3874/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3872", "id": 713106779, "node_id": "MDU6SXNzdWU3MTMxMDY3Nzk=", "number": 3872, "title": "Log is missing for faster rcnn with different losses", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-10-01T19:01:34Z", "updated_at": "2020-12-05T18:34:33Z", "closed_at": "2020-12-05T18:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe logs from these experiments are missing:\r\n\r\nhttps://github.com/open-mmlab/mmdetection/tree/master/configs/faster_rcnn\r\n\r\n\r\nR-50-FPN | IoULoss | \u00a0 | \u00a0 | 37.9 | model\u00a0\\|\u00a0log\r\n-- | -- | -- | -- | -- | --\r\nR-50-FPN | GIoULoss | \u00a0 | \u00a0 | 37.6 | model\u00a0\\|\u00a0log\r\nR-50-FPN | BoundedIoULoss | \u00a0 | \u00a0 | 37.4 | model\u00a0\\|\u00a0log\r\n\r\nCould you share this if available? I'm interested in reproducing the AP results on GIOU.\r\n\r\nThanks!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3859", "id": 710995190, "node_id": "MDU6SXNzdWU3MTA5OTUxOTA=", "number": 3859, "title": "dcn layer error ", "user": {"login": "as754770178", "id": 21017850, "node_id": "MDQ6VXNlcjIxMDE3ODUw", "avatar_url": "https://avatars.githubusercontent.com/u/21017850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/as754770178", "html_url": "https://github.com/as754770178", "followers_url": "https://api.github.com/users/as754770178/followers", "following_url": "https://api.github.com/users/as754770178/following{/other_user}", "gists_url": "https://api.github.com/users/as754770178/gists{/gist_id}", "starred_url": "https://api.github.com/users/as754770178/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/as754770178/subscriptions", "organizations_url": "https://api.github.com/users/as754770178/orgs", "repos_url": "https://api.github.com/users/as754770178/repos", "events_url": "https://api.github.com/users/as754770178/events{/privacy}", "received_events_url": "https://api.github.com/users/as754770178/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-09-29T10:52:38Z", "updated_at": "2021-08-10T22:27:41Z", "closed_at": "2020-10-13T14:45:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run `faster_rcnn_x101_32x4d_fpn_dconv_c3-c5_1x_coco` by mmdet:2.4.0 and mmcv:1.1.3, report error:\r\n```\r\n  File \"/usr/local/lib/python3.6/site-packages/torch/autograd/function.py\", line 77, in apply\r\n    return self._forward_cls.backward(self, *args)\r\n  File \"/usr/local/lib/python3.6/site-packages/torch/autograd/function.py\", line 189, in wrapper\r\n    outputs = fn(ctx, *args)\r\n  File \"/usr/local/lib/python3.6/site-packages/mmcv/ops/deform_conv.py\", line 126, in backward\r\n    im2col_step=cur_im2col_step)\r\nRuntimeError: shape '[1024, 1024, 3, 3]' is invalid for input of size 294912\r\n```\r\nI change to mmdet:2.3.0 and mmcv:1.0.5, not report error.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3785", "id": 703335958, "node_id": "MDU6SXNzdWU3MDMzMzU5NTg=", "number": 3785, "title": "Test mask rcnn failed", "user": {"login": "endy-see", "id": 13143336, "node_id": "MDQ6VXNlcjEzMTQzMzM2", "avatar_url": "https://avatars.githubusercontent.com/u/13143336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/endy-see", "html_url": "https://github.com/endy-see", "followers_url": "https://api.github.com/users/endy-see/followers", "following_url": "https://api.github.com/users/endy-see/following{/other_user}", "gists_url": "https://api.github.com/users/endy-see/gists{/gist_id}", "starred_url": "https://api.github.com/users/endy-see/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/endy-see/subscriptions", "organizations_url": "https://api.github.com/users/endy-see/orgs", "repos_url": "https://api.github.com/users/endy-see/repos", "events_url": "https://api.github.com/users/endy-see/events{/privacy}", "received_events_url": "https://api.github.com/users/endy-see/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-09-17T07:19:07Z", "updated_at": "2020-09-18T05:28:29Z", "closed_at": "2020-09-18T05:26:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I only have one gpu, so my test mask rcnn script is :\r\n\r\npython tools/test.py configs/mask_rcnn/mask_rcnn_r50_fpn_1x_coco.py checkpoints/mask_rcnn_r50_fpn_1x_coco_20200205-d4b0c5d6.pth --out results.pkl --eval bbox segm\r\n\r\nbut it run failed and reported error as below:\r\n![image](https://user-images.githubusercontent.com/13143336/93432685-7531d780-f8f8-11ea-8307-043677814079.png)\r\n\r\nMy environment info as follows:\r\npytorch: 1.6.0+cu101\r\ntorchvision: 0.7.0+cu101\r\ngcc: 5.4.0\r\ncuda: 10.1\r\nAddition\uff1aI test/train FasterRcnn successful, it's not any error, but MaskRcnn will crash when I test or train\r\n\r\nI don't know why, is there anyone can help me ? Thank you in advance\uff01", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3784", "id": 703309614, "node_id": "MDU6SXNzdWU3MDMzMDk2MTQ=", "number": 3784, "title": "mmdet/core/evaluation/mean_ap.py Line 256 might cause error", "user": {"login": "emergencyd", "id": 16423998, "node_id": "MDQ6VXNlcjE2NDIzOTk4", "avatar_url": "https://avatars.githubusercontent.com/u/16423998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emergencyd", "html_url": "https://github.com/emergencyd", "followers_url": "https://api.github.com/users/emergencyd/followers", "following_url": "https://api.github.com/users/emergencyd/following{/other_user}", "gists_url": "https://api.github.com/users/emergencyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/emergencyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emergencyd/subscriptions", "organizations_url": "https://api.github.com/users/emergencyd/orgs", "repos_url": "https://api.github.com/users/emergencyd/repos", "events_url": "https://api.github.com/users/emergencyd/events{/privacy}", "received_events_url": "https://api.github.com/users/emergencyd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RyanXLi", "id": 24720666, "node_id": "MDQ6VXNlcjI0NzIwNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/24720666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanXLi", "html_url": "https://github.com/RyanXLi", "followers_url": "https://api.github.com/users/RyanXLi/followers", "following_url": "https://api.github.com/users/RyanXLi/following{/other_user}", "gists_url": "https://api.github.com/users/RyanXLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanXLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanXLi/subscriptions", "organizations_url": "https://api.github.com/users/RyanXLi/orgs", "repos_url": "https://api.github.com/users/RyanXLi/repos", "events_url": "https://api.github.com/users/RyanXLi/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanXLi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-09-17T06:32:39Z", "updated_at": "2021-04-06T02:23:21Z", "closed_at": "2021-04-06T02:23:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "`cls_gts.append(ann['bboxes'][gt_inds, :])`\r\nwhen the gt_inds is False, this will turn the (1, 4) array to (0, 1, 4), thus causing error in future concatenation.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3784/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3769", "id": 701775201, "node_id": "MDU6SXNzdWU3MDE3NzUyMDE=", "number": 3769, "title": "UnboundLocalError: local variable 'pos_inds_temp' referenced before assignment", "user": {"login": "wlgcqh", "id": 8202002, "node_id": "MDQ6VXNlcjgyMDIwMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/8202002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wlgcqh", "html_url": "https://github.com/wlgcqh", "followers_url": "https://api.github.com/users/wlgcqh/followers", "following_url": "https://api.github.com/users/wlgcqh/following{/other_user}", "gists_url": "https://api.github.com/users/wlgcqh/gists{/gist_id}", "starred_url": "https://api.github.com/users/wlgcqh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wlgcqh/subscriptions", "organizations_url": "https://api.github.com/users/wlgcqh/orgs", "repos_url": "https://api.github.com/users/wlgcqh/repos", "events_url": "https://api.github.com/users/wlgcqh/events{/privacy}", "received_events_url": "https://api.github.com/users/wlgcqh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-15T09:38:34Z", "updated_at": "2020-09-18T09:36:27Z", "closed_at": "2020-09-18T09:36:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "./tools/dist_train.sh configs/paa/paa_r50_fpn_1x_coco.py 2\r\n2020-09-15 17:14:42,327 - mmdet - INFO - Epoch [1][50/7330]\tlr: 9.890e-04, eta: 3 days, 18:50:42, time: 3.720, data_time: 2.000, memory: 11812, loss_cls: 0.9872, loss_bbox: 0.6724, loss_iou: 0.3482, loss: 2.0078\r\n^@2020-09-15 17:16:09,193 - mmdet - INFO - Epoch [1][100/7330]\tlr: 1.988e-03, eta: 2 days, 18:35:57, time: 1.738, data_time: 0.023, memory: 11813, loss_cls: 0.8489, loss_bbox: 0.6244, loss_iou: 0.3464, loss: 1.8196\r\n^@^@2020-09-15 17:17:37,479 - mmdet - INFO - Epoch [1][150/7330]\tlr: 2.987e-03, eta: 2 days, 10:43:03, time: 1.764, data_time: 0.023, memory: 11815, loss_cls: 0.8256, loss_bbox: 0.5487, loss_iou: 0.3417, loss: 1.7161\r\n^@2020-09-15 17:19:06,118 - mmdet - INFO - Epoch [1][200/7330]\tlr: 3.986e-03, eta: 2 days, 6:49:09, time: 1.773, data_time: 0.024, memory: 11815, loss_cls: 0.7054, loss_bbox: 0.5139, loss_iou: 0.3378, loss: 1.5571\r\n^@^@2020-09-15 17:20:33,403 - mmdet - INFO - Epoch [1][250/7330]\tlr: 4.985e-03, eta: 2 days, 4:20:27, time: 1.747, data_time: 0.025, memory: 11815, loss_cls: 0.6756, loss_bbox: 0.4699, loss_iou: 0.3315, loss: 1.4770\r\n^@2020-09-15 17:22:01,437 - mmdet - INFO - Epoch [1][300/7330]\tlr: 5.984e-03, eta: 2 days, 2:44:20, time: 1.761, data_time: 0.023, memory: 11815, loss_cls: 0.6212, loss_bbox: 0.4469, loss_iou: 0.3261, loss: 1.3942\r\n^@^@2020-09-15 17:23:27,824 - mmdet - INFO - Epoch [1][350/7330]\tlr: 6.983e-03, eta: 2 days, 1:28:12, time: 1.727, data_time: 0.023, memory: 11815, loss_cls: 0.6295, loss_bbox: 0.4245, loss_iou: 0.3189, loss: 1.3729\r\n^@2020-09-15 17:24:57,139 - mmdet - INFO - Epoch [1][400/7330]\tlr: 7.982e-03, eta: 2 days, 0:41:41, time: 1.787, data_time: 0.024, memory: 11816, loss_cls: 0.6668, loss_bbox: 0.4194, loss_iou: 0.3183, loss: 1.4045\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 177, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 173, in main\r\n    meta=meta)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/apis/train.py\", line 143, in train_detector\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/home/beiqi.qh/mmcv/mmcv/runner/epoch_based_runner.py\", line 123, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/beiqi.qh/mmcv/mmcv/runner/epoch_based_runner.py\", line 32, in train\r\n    **kwargs)\r\n  File \"/home/beiqi.qh/mmcv/mmcv/parallel/distributed.py\", line 36, in train_step\r\n    output = self.module.train_step(*inputs[0], **kwargs[0])\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/detectors/base.py\", line 234, in train_step\r\n    losses = self(**data)\r\n  File \"/home/beiqi.qh/anaconda3/envs/open-mmlab/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/detectors/base.py\", line 168, in forward\r\n    return self.forward_train(img, img_metas, **kwargs)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/detectors/single_stage.py\", line 94, in forward_train\r\n    gt_labels, gt_bboxes_ignore)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/dense_heads/base_dense_head.py\", line 54, in forward_train\r\n    losses = self.loss(*loss_inputs, gt_bboxes_ignore=gt_bboxes_ignore)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/core/fp16/decorators.py\", line 131, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/dense_heads/paa_head.py\", line 138, in loss\r\n    anchor_list,\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/core/utils/misc.py\", line 54, in multi_apply\r\n    return tuple(map(list, zip(*map_results)))\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/dense_heads/paa_head.py\", line 321, in paa_reassign\r\n    gmm_assignment, scores, pos_inds_gmm)\r\n  File \"/home/beiqi.qh/mmdetection/mmdet/models/dense_heads/paa_head.py\", line 366, in gmm_separation_scheme\r\n    return pos_inds_temp, ignore_inds_temp\r\nUnboundLocalError: local variable 'pos_inds_temp' referenced before assignment\r\nTraceback (most recent call last):\r\n  File \"/home/beiqi.qh/anaconda3/envs/open-mmlab/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/beiqi.qh/anaconda3/envs/open-mmlab/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/beiqi.qh/anaconda3/envs/open-mmlab/lib/python3.7/site-packages/torch/distributed/launch.py\", line 261, in <module>\r\n    main()\r\n  File \"/home/beiqi.qh/anaconda3/envs/open-mmlab/lib/python3.7/site-packages/torch/distributed/launch.py\", line 257, in main\r\n    cmd=cmd)\r\nsubprocess.CalledProcessError: Command '['/home/beiqi.qh/anaconda3/envs/open-mmlab/bin/python', '-u', './tools/train.py', '--local_rank=1', 'configs/paa/paa_r50_fpn_1x_coco.py', '--launcher', 'pytorch']' returned non-zero exit status 1.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3709", "id": 695324178, "node_id": "MDU6SXNzdWU2OTUzMjQxNzg=", "number": 3709, "title": "Add GROIE into HTC network, the mask AP AR values are zero", "user": {"login": "minan19605", "id": 31590730, "node_id": "MDQ6VXNlcjMxNTkwNzMw", "avatar_url": "https://avatars.githubusercontent.com/u/31590730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minan19605", "html_url": "https://github.com/minan19605", "followers_url": "https://api.github.com/users/minan19605/followers", "following_url": "https://api.github.com/users/minan19605/following{/other_user}", "gists_url": "https://api.github.com/users/minan19605/gists{/gist_id}", "starred_url": "https://api.github.com/users/minan19605/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minan19605/subscriptions", "organizations_url": "https://api.github.com/users/minan19605/orgs", "repos_url": "https://api.github.com/users/minan19605/repos", "events_url": "https://api.github.com/users/minan19605/events{/privacy}", "received_events_url": "https://api.github.com/users/minan19605/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-09-07T18:17:09Z", "updated_at": "2022-07-12T03:42:35Z", "closed_at": "2022-07-12T03:42:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nI add GROIE configuration into HTC network.  when I do test, the BBOX have normal AP AR value, but segm part are zeros.\r\nEvaluating bbox...\r\nLoading and preparing results...\r\nDONE (t=0.03s)\r\ncreating index...\r\nindex created!\r\nRunning per image evaluation...\r\nEvaluate annotation type *bbox*\r\nDONE (t=9.60s).\r\nAccumulating evaluation results...\r\nDONE (t=0.15s).\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.559\r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.840\r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.644\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = -1.000\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.154\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.563\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.668\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.668\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.668\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = -1.000\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.184\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.672\r\n\r\nEvaluating segm...\r\nLoading and preparing results...\r\nDONE (t=0.12s)\r\ncreating index...\r\nindex created!\r\nRunning per image evaluation...\r\nEvaluate annotation type *segm*\r\nDONE (t=10.46s).\r\nAccumulating evaluation results...\r\nDONE (t=0.14s).\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.015\r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=1000 ] = 0.092\r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=1000 ] = 0.000\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = -1.000\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.030\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.015\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.070\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=300 ] = 0.070\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=1000 ] = 0.070\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=1000 ] = -1.000\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=1000 ] = 0.040\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=1000 ] = 0.070\r\n\r\nThen I used mmdet provided \"mask_rcnn_r50_fpn_groie_1x_coco.py\" to train my dataset, the test results are normal.\r\nBy the way, my dataset is correct. I already used my dataset train and test a lot of models provided by mmdet.\r\n\r\n\r\n**Environment**\r\n2020-09-05 18:34:17,418 - mmdet - INFO - Environment info:\r\n------------------------------------------------------------\r\nsys.platform: linux\r\nPython: 3.7.7 (default, May  7 2020, 21:25:33) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243\r\nGPU 0: GeForce RTX 2080 Ti\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.5.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.1 Product Build 20200208 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.21.1 (Git Hash 7d2fd500bc78936d1d648ca713b901012f470dbc)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_INTERNAL_THREADPOOL_IMPL -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.6.0a0+82fd1c8\r\nOpenCV: 4.3.0\r\nMMCV: 1.0.4\r\nMMDetection: 2.3.0rc0+d06b352\r\nMMDetection Compiler: GCC 7.5\r\nMMDetection CUDA Compiler: 10.2\r\n------------------------------------------------------------\r\n[20200905_195657.log.txt](https://github.com/open-mmlab/mmdetection/files/5184479/20200905_195657.log.txt)\r\n[htc_x50_32x4d_fpn_groie_mask_full_wheat_segm.py.txt](https://github.com/open-mmlab/mmdetection/files/5184480/htc_x50_32x4d_fpn_groie_mask_full_wheat_segm.py.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3697", "id": 694185514, "node_id": "MDU6SXNzdWU2OTQxODU1MTQ=", "number": 3697, "title": "Dead link and wrong link", "user": {"login": "shinya7y", "id": 42844407, "node_id": "MDQ6VXNlcjQyODQ0NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/42844407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shinya7y", "html_url": "https://github.com/shinya7y", "followers_url": "https://api.github.com/users/shinya7y/followers", "following_url": "https://api.github.com/users/shinya7y/following{/other_user}", "gists_url": "https://api.github.com/users/shinya7y/gists{/gist_id}", "starred_url": "https://api.github.com/users/shinya7y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shinya7y/subscriptions", "organizations_url": "https://api.github.com/users/shinya7y/orgs", "repos_url": "https://api.github.com/users/shinya7y/repos", "events_url": "https://api.github.com/users/shinya7y/events{/privacy}", "received_events_url": "https://api.github.com/users/shinya7y/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-05T21:19:10Z", "updated_at": "2020-09-07T09:12:38Z", "closed_at": "2020-09-07T09:12:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "(1) The model and log of ATSS R-101 in download.openmmlab.com cannot be accessed.\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/configs/atss/README.md\r\n`<Message>You have no right to access this object because of bucket acl.</Message>`\r\n\r\n(2) A log link of Cascade R-CNN is wrong.\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/configs/cascade_rcnn/README.md\r\n`[log](http://download.openmmlab.com/mmdetection/v2.0/cascade_rcnn/cascade_rcnn_x101_32x4d_fpn_20e_coco/cascade_rcnn_x101_32x4d_fpn_20e_coco_20200527_230735-2d48ab9e.pth)`", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3623", "id": 686072275, "node_id": "MDU6SXNzdWU2ODYwNzIyNzU=", "number": 3623, "title": "Passing image to detector gives \"File name too long\"", "user": {"login": "manybodycpa", "id": 51188795, "node_id": "MDQ6VXNlcjUxMTg4Nzk1", "avatar_url": "https://avatars.githubusercontent.com/u/51188795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manybodycpa", "html_url": "https://github.com/manybodycpa", "followers_url": "https://api.github.com/users/manybodycpa/followers", "following_url": "https://api.github.com/users/manybodycpa/following{/other_user}", "gists_url": "https://api.github.com/users/manybodycpa/gists{/gist_id}", "starred_url": "https://api.github.com/users/manybodycpa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manybodycpa/subscriptions", "organizations_url": "https://api.github.com/users/manybodycpa/orgs", "repos_url": "https://api.github.com/users/manybodycpa/repos", "events_url": "https://api.github.com/users/manybodycpa/events{/privacy}", "received_events_url": "https://api.github.com/users/manybodycpa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-26T07:11:01Z", "updated_at": "2020-08-28T11:14:45Z", "closed_at": "2020-08-28T11:14:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cloned the latest version yesterday. Looking at the webcam demo, I would expect to be able to pass an image grabbed from a video to the detector:\r\n\r\n```\r\ncapture = cv2.VideoCapture(file_video_in)\r\nrc = capture.grab()\r\nif not rc: \r\n   continue\r\n\r\n_, image = capture.retrieve()\r\nres = inference_detector(model, image)\r\n```\r\n\r\nHowever, the image (array) is interpreted as a filename, leading to\r\n\r\n`OSError: [Errno 36] File name too long '[[[ ...`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3552", "id": 678509279, "node_id": "MDU6SXNzdWU2Nzg1MDkyNzk=", "number": 3552, "title": "`benchmark.py`.  ModuleNotFoundError: No module named 'tools.fuse_conv_bn'.", "user": {"login": "sr-frost", "id": 45260868, "node_id": "MDQ6VXNlcjQ1MjYwODY4", "avatar_url": "https://avatars.githubusercontent.com/u/45260868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sr-frost", "html_url": "https://github.com/sr-frost", "followers_url": "https://api.github.com/users/sr-frost/followers", "following_url": "https://api.github.com/users/sr-frost/following{/other_user}", "gists_url": "https://api.github.com/users/sr-frost/gists{/gist_id}", "starred_url": "https://api.github.com/users/sr-frost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sr-frost/subscriptions", "organizations_url": "https://api.github.com/users/sr-frost/orgs", "repos_url": "https://api.github.com/users/sr-frost/repos", "events_url": "https://api.github.com/users/sr-frost/events{/privacy}", "received_events_url": "https://api.github.com/users/sr-frost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-13T15:03:14Z", "updated_at": "2020-08-23T04:17:50Z", "closed_at": "2020-08-23T04:17:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently the `tools/fuse_conv_bn.py`  was removed in #3529 . But the `benchmark.py`  is still trying to use the old script. \r\n\r\n[https://github.com/open-mmlab/mmdetection/blob/master/tools/benchmark.py#L8](https://github.com/open-mmlab/mmdetection/blob/master/tools/benchmark.py#L8)\r\n\r\nI think this might be causing the error.\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\ntools/benchmark.py\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3545", "id": 678167690, "node_id": "MDU6SXNzdWU2NzgxNjc2OTA=", "number": 3545, "title": "Filtering out the empty images by default", "user": {"login": "shanggdlk", "id": 7995741, "node_id": "MDQ6VXNlcjc5OTU3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/7995741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanggdlk", "html_url": "https://github.com/shanggdlk", "followers_url": "https://api.github.com/users/shanggdlk/followers", "following_url": "https://api.github.com/users/shanggdlk/following{/other_user}", "gists_url": "https://api.github.com/users/shanggdlk/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanggdlk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanggdlk/subscriptions", "organizations_url": "https://api.github.com/users/shanggdlk/orgs", "repos_url": "https://api.github.com/users/shanggdlk/repos", "events_url": "https://api.github.com/users/shanggdlk/events{/privacy}", "received_events_url": "https://api.github.com/users/shanggdlk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-13T05:39:55Z", "updated_at": "2020-10-16T14:53:53Z", "closed_at": "2020-09-30T15:50:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I notice that on the customized dataset, the data loader by default will filter out empty images (image without annotations) on the testing set during testing. Is there a particular reason for doing so? Thanks!\r\n\r\n```\r\n    CLASSES = None\r\n\r\n    def __init__(self,\r\n                 ann_file,\r\n                 pipeline,\r\n                 classes=None,\r\n                 data_root=None,\r\n                 img_prefix='',\r\n                 seg_prefix=None,\r\n                 proposal_file=None,\r\n                 test_mode=False,\r\n                 **filter_empty_gt=True):**\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3527", "id": 676575310, "node_id": "MDU6SXNzdWU2NzY1NzUzMTA=", "number": 3527, "title": "lr seting doesn't match actual lr,so confusing", "user": {"login": "GingerCohle", "id": 37873318, "node_id": "MDQ6VXNlcjM3ODczMzE4", "avatar_url": "https://avatars.githubusercontent.com/u/37873318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GingerCohle", "html_url": "https://github.com/GingerCohle", "followers_url": "https://api.github.com/users/GingerCohle/followers", "following_url": "https://api.github.com/users/GingerCohle/following{/other_user}", "gists_url": "https://api.github.com/users/GingerCohle/gists{/gist_id}", "starred_url": "https://api.github.com/users/GingerCohle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GingerCohle/subscriptions", "organizations_url": "https://api.github.com/users/GingerCohle/orgs", "repos_url": "https://api.github.com/users/GingerCohle/repos", "events_url": "https://api.github.com/users/GingerCohle/events{/privacy}", "received_events_url": "https://api.github.com/users/GingerCohle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-08-11T04:44:02Z", "updated_at": "2021-10-28T08:16:26Z", "closed_at": "2021-04-06T03:49:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/37873318/89858070-437a7200-dbd0-11ea-8454-81bfb68f3b78.png)\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3502", "id": 674115006, "node_id": "MDU6SXNzdWU2NzQxMTUwMDY=", "number": 3502, "title": "AttributeError: 'list' object has no attribute 'get'", "user": {"login": "lsabrinax", "id": 17122734, "node_id": "MDQ6VXNlcjE3MTIyNzM0", "avatar_url": "https://avatars.githubusercontent.com/u/17122734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lsabrinax", "html_url": "https://github.com/lsabrinax", "followers_url": "https://api.github.com/users/lsabrinax/followers", "following_url": "https://api.github.com/users/lsabrinax/following{/other_user}", "gists_url": "https://api.github.com/users/lsabrinax/gists{/gist_id}", "starred_url": "https://api.github.com/users/lsabrinax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lsabrinax/subscriptions", "organizations_url": "https://api.github.com/users/lsabrinax/orgs", "repos_url": "https://api.github.com/users/lsabrinax/repos", "events_url": "https://api.github.com/users/lsabrinax/events{/privacy}", "received_events_url": "https://api.github.com/users/lsabrinax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-06T08:11:25Z", "updated_at": "2020-08-22T12:35:49Z", "closed_at": "2020-08-22T12:35:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nwhen I test my trained libranet, it will report an  AttributeError: 'list' object has no attribute 'get'\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\npython tools/test.py configs/libra*\r\n```\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/test.py\", line 153, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 91, in main\r\n    if cfg.model.neck.get('rfp_backbone'):\r\nAttributeError: 'list' object has no attribute 'get'\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\nBecause the libranet neck config is a list, so it will report error show as title, you can fix it.\r\n```\r\nneck=[\r\n        dict(\r\n            type='FPN',\r\n            in_channels=[256, 512, 1024, 2048],\r\n            out_channels=256,\r\n            num_outs=5),\r\n        dict(\r\n            type='BFP',\r\n            in_channels=256,\r\n            num_levels=5,\r\n            refine_level=2,\r\n            refine_type='non_local')\r\n    ],\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3468", "id": 671677245, "node_id": "MDU6SXNzdWU2NzE2NzcyNDU=", "number": 3468, "title": "mAP@75 returns -1.", "user": {"login": "sr-frost", "id": 45260868, "node_id": "MDQ6VXNlcjQ1MjYwODY4", "avatar_url": "https://avatars.githubusercontent.com/u/45260868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sr-frost", "html_url": "https://github.com/sr-frost", "followers_url": "https://api.github.com/users/sr-frost/followers", "following_url": "https://api.github.com/users/sr-frost/following{/other_user}", "gists_url": "https://api.github.com/users/sr-frost/gists{/gist_id}", "starred_url": "https://api.github.com/users/sr-frost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sr-frost/subscriptions", "organizations_url": "https://api.github.com/users/sr-frost/orgs", "repos_url": "https://api.github.com/users/sr-frost/repos", "events_url": "https://api.github.com/users/sr-frost/events{/privacy}", "received_events_url": "https://api.github.com/users/sr-frost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-02T19:42:49Z", "updated_at": "2020-08-06T03:46:40Z", "closed_at": "2020-08-06T03:46:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `tools/test.py` was giving correct results a few days ago. Since I am working on google colab, I cloned the most recent  mmdetection repository today. But now the same code returns -1 for mAP@ 75.\r\n\r\n```\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.416\r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.571\r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = -1.000\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.070\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.473\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.842\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.048\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.382\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.458\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.096\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.526\r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.876\r\n```\r\nThe same code was returning 0.475 for mAP@75 a few days back.\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\npython tools/test.py\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\nAns: Yes, I modified the config to use custom coco format datastet with one class.\r\n\r\nI suspect recent changes to coco.py (#3407) may have something to do with it. But since I am a new user of mmdetection, I wouldn't know for sure.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3463", "id": 671588399, "node_id": "MDU6SXNzdWU2NzE1ODgzOTk=", "number": 3463, "title": "There may be an error in resize gt_masks when not keep_ratio", "user": {"login": "hedes1992", "id": 14728901, "node_id": "MDQ6VXNlcjE0NzI4OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/14728901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedes1992", "html_url": "https://github.com/hedes1992", "followers_url": "https://api.github.com/users/hedes1992/followers", "following_url": "https://api.github.com/users/hedes1992/following{/other_user}", "gists_url": "https://api.github.com/users/hedes1992/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedes1992/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedes1992/subscriptions", "organizations_url": "https://api.github.com/users/hedes1992/orgs", "repos_url": "https://api.github.com/users/hedes1992/repos", "events_url": "https://api.github.com/users/hedes1992/events{/privacy}", "received_events_url": "https://api.github.com/users/hedes1992/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-02T10:04:25Z", "updated_at": "2021-04-29T05:30:53Z", "closed_at": "2021-04-29T05:30:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nI find that the function mmcv.resize in https://github.com/open-mmlab/mmdetection/blob/master/mmdet/core/mask/structures.py#L208\r\nuses the params out_shape(which meaning is (h, w) in https://github.com/open-mmlab/mmdetection/blob/master/mmdet/core/mask/structures.py#L32).\r\nBut in fact, the out_shape param in mmcv.imresize function means (w, h) in https://github.com/open-mmlab/mmcv/blob/master/mmcv/image/geometric.py#L58\r\nSo there exists a in consistent param transfering.\r\nIf I use multi-scale(keep_ratio=False) training in mask rcnn, this function will resize gt_masks to wrong.\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\nA placeholder for the command.\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment information and paste it here.\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source]\r\n    - Other environment variables that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3444", "id": 669025825, "node_id": "MDU6SXNzdWU2NjkwMjU4MjU=", "number": 3444, "title": "Attribute error with RetinaNet and with_mask, with_bbox, with_neck, with_shared_head", "user": {"login": "Erotemic", "id": 3186211, "node_id": "MDQ6VXNlcjMxODYyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3186211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Erotemic", "html_url": "https://github.com/Erotemic", "followers_url": "https://api.github.com/users/Erotemic/followers", "following_url": "https://api.github.com/users/Erotemic/following{/other_user}", "gists_url": "https://api.github.com/users/Erotemic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Erotemic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Erotemic/subscriptions", "organizations_url": "https://api.github.com/users/Erotemic/orgs", "repos_url": "https://api.github.com/users/Erotemic/repos", "events_url": "https://api.github.com/users/Erotemic/events{/privacy}", "received_events_url": "https://api.github.com/users/Erotemic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-30T17:50:25Z", "updated_at": "2020-08-16T16:16:57Z", "closed_at": "2020-08-16T16:16:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n**Describe the bug**\r\n\r\nThe `with_mask`, `with_bbox`, `with_neck`, and `with_shared_head` attributes no longer seem to work. \r\n\r\n\r\n**Reproduction**\r\n\r\n```python\r\n    import sys, ubelt\r\n    sys.path.append(ubelt.expandpath('~/code/mmdetection/tests/test_models'))\r\n    from test_forward import *  # NOQA\r\n    from test_forward import _get_config_directory, _get_config_module, _get_detector_cfg, _demo_mm_inputs\r\n    model, train_cfg, test_cfg = _get_detector_cfg(\r\n        'rpn/rpn_r50_fpn_1x_coco.py')\r\n    model['pretrained'] = None\r\n\r\n    from mmdet.models import build_detector\r\n    detector = build_detector(model, train_cfg=train_cfg, test_cfg=test_cfg)\r\n\r\n    detector.with_bbox\r\n    detector.with_mask\r\n    detector.with_neck\r\n    detector.with_shared_head\r\n\r\n```\r\n\r\nAccessing the attributes raise attribute errors even though all are defined as properties in the BaseDetector \r\n\r\n**Environment**\r\n\r\n```\r\n(py38) joncrall@Ooo:~/code/mmdetection$ python mmdet/utils/collect_env.py\r\nsys.platform: linux\r\nPython: 3.8.3 (default, Jul  2 2020, 16:21:59) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /home/joncrall/.local/cuda\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243\r\nGPU 0: GeForce GTX 1080 Ti\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.5.1\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2019.0.5 Product Build 20190808 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.21.1 (Git Hash 7d2fd500bc78936d1d648ca713b901012f470dbc)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_INTERNAL_THREADPOOL_IMPL -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.6.1\r\nOpenCV: 4.3.0\r\nMMCV: 1.0.4\r\nMMDetection: 2.3.0rc0+595bf86\r\nMMDetection Compiler: GCC 7.3\r\nMMDetection CUDA Compiler: 10.2\r\n```\r\n\r\n**Bug fix**\r\n\r\nThe following code that checks for the existence of 'roi_head' seems to fix the issue: \r\n\r\n```python\r\n    @property\r\n    def with_shared_head(self):\r\n        \"\"\"bool: whether the detector has a shared head in the RoI Head\"\"\"\r\n        return (hasattr(self, 'roi_head') and\r\n                hasattr(self.roi_head, 'shared_head') and\r\n                self.roi_head.shared_head is not None)\r\n\r\n    @property\r\n    def with_bbox(self):\r\n        \"\"\"bool: whether the detector has a bbox head\"\"\"\r\n        return ((hasattr(self, 'roi_head') and hasattr(self.roi_head, 'bbox_head')\r\n                 and self.roi_head.bbox_head is not None)\r\n                or (hasattr(self, 'bbox_head') and self.bbox_head is not None))\r\n\r\n    @property\r\n    def with_mask(self):\r\n        \"\"\"bool: whether the detector has a mask head\"\"\"\r\n        return ((hasattr(self, 'roi_head') and hasattr(self.roi_head, 'mask_head')\r\n                 and self.roi_head.mask_head is not None)\r\n                or (hasattr(self, 'mask_head') and self.mask_head is not None))\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3352", "id": 661433776, "node_id": "MDU6SXNzdWU2NjE0MzM3NzY=", "number": 3352, "title": "why memory is always 0 in log ?", "user": {"login": "171339995", "id": 13502747, "node_id": "MDQ6VXNlcjEzNTAyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/13502747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/171339995", "html_url": "https://github.com/171339995", "followers_url": "https://api.github.com/users/171339995/followers", "following_url": "https://api.github.com/users/171339995/following{/other_user}", "gists_url": "https://api.github.com/users/171339995/gists{/gist_id}", "starred_url": "https://api.github.com/users/171339995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/171339995/subscriptions", "organizations_url": "https://api.github.com/users/171339995/orgs", "repos_url": "https://api.github.com/users/171339995/repos", "events_url": "https://api.github.com/users/171339995/events{/privacy}", "received_events_url": "https://api.github.com/users/171339995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-20T06:27:01Z", "updated_at": "2020-12-22T11:02:57Z", "closed_at": "2020-12-22T11:02:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "2020-07-20 13:02:27,784 - mmdet - INFO - Start running, host: XXXXXX, work_dir: /home/luow/mmdetection/output/tmp\r\n2020-07-20 13:02:27,785 - mmdet - INFO - workflow: [('train', 1)], max: 24 epochs\r\n2020-07-20 13:02:53,527 - mmdet - INFO - Epoch [1][50/6126]\tlr: 0.00025, eta: 17:49:11, time: 0.436, data_time: 0.048, memory: 0, loss_rpn_cls: 0.6848, loss_rpn_bbox: 0.0467, loss_cls: 0.2047, acc: 95.7793, loss_bbox: 0.0105, loss: 0.9466\r\n2020-07-20 13:03:23,268 - mmdet - INFO - Epoch [1][100/6126]\tlr: 0.00050, eta: 22:38:20, time: 0.673, data_time: 0.082, memory: 0, loss_rpn_cls: 0.4493, loss_rpn_bbox: 0.0533, loss_cls: 0.1425, acc: 98.7930, loss_bbox: 0.0228, loss: 0.6679\r\n2020-07-20 13:04:02,945 - mmdet - INFO - Epoch [1][150/6126]\tlr: 0.00075, eta: 1 day, 1:52:50, time: 0.794, data_time: 0.004, memory: 0, loss_rpn_cls: 0.1365, loss_rpn_bbox: 0.0439, loss_cls: 0.1483, acc: 97.0234, loss_bbox: 0.1000, loss: 0.4287\r\n2020-07-20 13:04:43,334 - mmdet - INFO - Epoch [1][200/6126]\tlr: 0.00100, eta: 1 day, 3:38:23, time: 0.808, data_time: 0.004, memory: 0, loss_rpn_cls: 0.1102, loss_rpn_bbox: 0.0419, loss_cls: 0.1744, acc: 95.5859, loss_bbox: 0.1597, loss: 0.4862\r\n2020-07-20 13:05:24,305 - mmdet - INFO - Epoch [1][250/6126]\tlr: 0.00125, eta: 1 day, 4:47:08, time: 0.819, data_time: 0.004, memory: 0, loss_rpn_cls: 0.1057, loss_rpn_bbox: 0.0453, loss_cls: 0.1839, acc: 95.1465, loss_bbox: 0.1813, loss: 0.5161\r\n2020-07-20 13:06:06,867 - mmdet - INFO - Epoch [1][300/6126]\tlr: 0.00150, eta: 1 day, 5:45:44, time: 0.851, data_time: 0.004, memory: 0, loss_rpn_cls: 0.0917, loss_rpn_bbox: 0.0416, loss_cls: 0.1574, acc: 95.5527, loss_bbox: 0.1628, loss: 0.4535\r\n2020-07-20 13:06:49,444 - mmdet - INFO - Epoch [1][350/6126]\tlr: 0.00175, eta: 1 day, 6:27:29, time: 0.852, data_time: 0.004, memory: 0, loss_rpn_cls: 0.0770, loss_rpn_bbox: 0.0381, loss_cls: 0.1825, acc: 95.0527, loss_bbox: 0.1809, loss: 0.4784\r\n2020-07-20 13:07:31,353 - mmdet - INFO - Epoch [1][400/6126]\tlr: 0.00200, eta: 1 day, 6:54:32, time: 0.838, data_time: 0.004, memory: 0, loss_rpn_cls: 0.0975, loss_rpn_bbox: 0.0485, loss_cls: 0.1670, acc: 95.3633, loss_bbox: 0.1667, loss: 0.4796\r\n2020-07-20 13:08:13,908 - mmdet - INFO - Epoch [1][450/6126]\tlr: 0.00225, eta: 1 day, 7:18:55, time: 0.851, data_time: 0.004, memory: 0, loss_rpn_cls: 0.0771, loss_rpn_bbox: 0.0506, loss_cls: 0.1793, acc: 94.5625, loss_bbox: 0.1999, loss: 0.5070\r\n\r\nYou can see,the data_time is always 0.004 and the memory is always 0,but the process of training is normal.What's wrong ?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3326", "id": 657827421, "node_id": "MDU6SXNzdWU2NTc4Mjc0MjE=", "number": 3326, "title": "When I tried Asynchronous interface, AttributeError: 'RPNHead' object has no attribute 'rpn_head'", "user": {"login": "blackCmd", "id": 13531174, "node_id": "MDQ6VXNlcjEzNTMxMTc0", "avatar_url": "https://avatars.githubusercontent.com/u/13531174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blackCmd", "html_url": "https://github.com/blackCmd", "followers_url": "https://api.github.com/users/blackCmd/followers", "following_url": "https://api.github.com/users/blackCmd/following{/other_user}", "gists_url": "https://api.github.com/users/blackCmd/gists{/gist_id}", "starred_url": "https://api.github.com/users/blackCmd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blackCmd/subscriptions", "organizations_url": "https://api.github.com/users/blackCmd/orgs", "repos_url": "https://api.github.com/users/blackCmd/repos", "events_url": "https://api.github.com/users/blackCmd/events{/privacy}", "received_events_url": "https://api.github.com/users/blackCmd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-07-16T04:02:01Z", "updated_at": "2020-09-22T06:51:20Z", "closed_at": "2020-09-22T06:51:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I tried `Asynchronous interface` in documentation I got an error like this.\r\n> **AttributeError: 'RPNHead' object has no attribute 'rpn_head'**\r\n>\r\n> ![image](https://user-images.githubusercontent.com/13531174/87625336-dc9aa200-c764-11ea-91c9-864f14d0a7a4.png)\r\n\r\n\r\nAnd this is the documentation link.\r\n> _https://mmdetection.readthedocs.io/en/latest/getting_started.html#asynchronous-interface-supported-for-python-3-7_\r\n\r\nMy python version is `3.7.5`. \r\nHow can I use `Asynchronous interface`?\r\nPlz help for solving the error.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3128", "id": 645839676, "node_id": "MDU6SXNzdWU2NDU4Mzk2NzY=", "number": 3128, "title": "VOCDataset object has no attribute dataset", "user": {"login": "sandylaker", "id": 30265066, "node_id": "MDQ6VXNlcjMwMjY1MDY2", "avatar_url": "https://avatars.githubusercontent.com/u/30265066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandylaker", "html_url": "https://github.com/sandylaker", "followers_url": "https://api.github.com/users/sandylaker/followers", "following_url": "https://api.github.com/users/sandylaker/following{/other_user}", "gists_url": "https://api.github.com/users/sandylaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandylaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandylaker/subscriptions", "organizations_url": "https://api.github.com/users/sandylaker/orgs", "repos_url": "https://api.github.com/users/sandylaker/repos", "events_url": "https://api.github.com/users/sandylaker/events{/privacy}", "received_events_url": "https://api.github.com/users/sandylaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T20:44:11Z", "updated_at": "2020-08-14T03:26:46Z", "closed_at": "2020-08-14T03:26:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nI tried to train my model on Pascal VOC 2012 dataset, and set the config for data as follows:\r\n```python3\r\nbatch_size = 8\r\n\r\ndata = dict(\r\n    samples_per_gpu=batch_size,\r\n    workers_per_gpu=4,\r\n    train=dict(\r\n        type=dataset_type,\r\n        ann_file=data_root + 'VOC2012/ImageSets/Main/train.txt',\r\n        img_prefix=data_root + 'VOC2012/',\r\n        pipeline=train_pipeline,),\r\n    val=dict(\r\n        type=dataset_type,\r\n        ann_file=data_root + 'VOC2012/ImageSets/Main/val.txt',\r\n        img_prefix=data_root + 'VOC2012/',\r\n        pipeline=test_pipeline,),\r\n)\r\n\r\nevaluation=dict(interval=1, metric='mAP')\r\n```\r\nBut during evaluation, it raised following error:\r\n```shell\r\nFile \"train.py\", line 166, in <module>\r\n    main()\r\n  File \"train.py\", line 162, in main\r\n    meta=meta)\r\n  File \"/home/lfc199471/mmdetection/mmdet/apis/train.py\", line 128, in train_detector\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/home/lfc199471/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 122, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/lfc199471/anaconda3/lib/python3.7/site-packages/mmcv/runner/epoch_based_runner.py\", line 46, in train\r\n    self.call_hook('after_train_epoch')\r\n  File \"/home/lfc199471/anaconda3/lib/python3.7/site-packages/mmcv/runner/base_runner.py\", line 282, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/home/lfc199471/mmdetection/mmdet/core/evaluation/eval_hooks.py\", line 28, in after_train_epoch\r\n    self.evaluate(runner, results)\r\n  File \"/home/lfc199471/mmdetection/mmdet/core/evaluation/eval_hooks.py\", line 32, in evaluate\r\n    results, logger=runner.logger, **self.eval_kwargs)\r\n  File \"/home/lfc199471/mmdetection/mmdet/datasets/voc.py\", line 43, in evaluate\r\n    ds_name = self.dataset.CLASSES\r\nAttributeError: 'VOCDataset' object has no attribute 'dataset'\r\n```\r\nI checked the `voc.py` in `mmdet` and found that in line 43, it was\r\n```python3\r\nds_name = self.dataset.CLASSES\r\n```\r\nbut `VOCDataset` and its superclasses `XMLDataset` and `CustomDataset` don't have this attribute.  Is it a bug or did I make some mistakes in the config?\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\npython tools/train.py --gpus 1 configs/<my_config_file>\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\nYes, please see above.\r\n\r\n3. What dataset did you use?\r\nPascal VOC 2012 detection\r\n**Environment**\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment infomation and paste it here.\r\n```shell\r\nsys.platform: linux\r\nPython: 3.7.6 (default, Jan  8 2020, 19:59:22) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.2, V10.2.89\r\nGPU 0: Tesla P100-PCIE-16GB\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.5.1\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2020.0.0 Product Build 20191122 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.21.1 (Git Hash 7d2fd500bc78936d1d648ca713b901012f470dbc)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_INTERNAL_THREADPOOL_IMPL -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.6.0a0+35d732a\r\nOpenCV: 4.2.0\r\nMMCV: 0.6.1\r\nMMDetection: 2.1.0+b44e78b\r\nMMDetection Compiler: GCC 7.5\r\nMMDetection CUDA Compiler: 10.2\r\n```\r\n\r\n2. You may add addition that may be helpful for locating the problem, such as\r\n    - How you installed PyTorch [e.g., pip, conda, source] : conda\r\n\r\n\r\nIf you need any log file or some source code from me, just let me know. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3123", "id": 645162719, "node_id": "MDU6SXNzdWU2NDUxNjI3MTk=", "number": 3123, "title": "wider face config, ssd300_wider_face.py , why num_classes is 2?", "user": {"login": "ceykmc", "id": 11994664, "node_id": "MDQ6VXNlcjExOTk0NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/11994664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceykmc", "html_url": "https://github.com/ceykmc", "followers_url": "https://api.github.com/users/ceykmc/followers", "following_url": "https://api.github.com/users/ceykmc/following{/other_user}", "gists_url": "https://api.github.com/users/ceykmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceykmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceykmc/subscriptions", "organizations_url": "https://api.github.com/users/ceykmc/orgs", "repos_url": "https://api.github.com/users/ceykmc/repos", "events_url": "https://api.github.com/users/ceykmc/events{/privacy}", "received_events_url": "https://api.github.com/users/ceykmc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-25T05:24:47Z", "updated_at": "2020-06-28T15:01:34Z", "closed_at": "2020-06-28T15:01:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "in mmdet/datasets/wider_face.py, CLASSES only have \"face\"\r\n\r\nusing the config to generate wider face dataset, each sample's label is zero\r\n\r\nshould the num_classes be 1 not 2 ?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3105", "id": 643229813, "node_id": "MDU6SXNzdWU2NDMyMjk4MTM=", "number": 3105, "title": "Bugs which Prevent Training Runs from Starting", "user": {"login": "CMobley7", "id": 10121829, "node_id": "MDQ6VXNlcjEwMTIxODI5", "avatar_url": "https://avatars.githubusercontent.com/u/10121829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CMobley7", "html_url": "https://github.com/CMobley7", "followers_url": "https://api.github.com/users/CMobley7/followers", "following_url": "https://api.github.com/users/CMobley7/following{/other_user}", "gists_url": "https://api.github.com/users/CMobley7/gists{/gist_id}", "starred_url": "https://api.github.com/users/CMobley7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CMobley7/subscriptions", "organizations_url": "https://api.github.com/users/CMobley7/orgs", "repos_url": "https://api.github.com/users/CMobley7/repos", "events_url": "https://api.github.com/users/CMobley7/events{/privacy}", "received_events_url": "https://api.github.com/users/CMobley7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-22T17:04:02Z", "updated_at": "2020-09-08T11:26:06Z", "closed_at": "2020-09-08T11:26:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "So, first off I want to thank you for making such a great platform for the training of object detectors. I used it in the past week and a half to train 100+ object detectors on several different PCs with different sets of GPUs. For the most part it works great; however, there are two common bugs I've run into at the beginning of training that prevent a run from starting. I can't figure out why these errors occur, but I figured I would let you know since I've seen them across different computers using 1.x, 2.0, and 2.1.\r\n\r\nThe first one occurs when the model finished downloading, showing 100%, but hangs there and training never starts, even after leaving it for a few hours. This happens like 1x for every 4-5 runs. The seconds, which I've included the error report below, happens like 1x for every 2-3 runs.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/podc/src/mmdet/tools/train.py\", line 161, in <module>\r\n    main()\r\n  File \"/podc/src/mmdet/tools/train.py\", line 92, in main\r\n    cfg.optimizer['lr'] = cfg.optimizer['lr'] * len(cfg.gpu_ids) / 8\r\n  File \"/usr/local/lib/python3.6/dist-packages/mmcv/utils/config.py\", line 324, in __getattr__\r\n    return getattr(self._cfg_dict, name)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mmcv/utils/config.py\", line 36, in __getattr__\r\n    raise ex\r\nAttributeError: 'ConfigDict' object has no attribute 'optimizer'\r\n```\r\n\r\nWith both of these issues, if I just restart the training job, the issue doesn't occur again, until another few models down the line.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3052", "id": 640117840, "node_id": "MDU6SXNzdWU2NDAxMTc4NDA=", "number": 3052, "title": "CUDA out of memory when testing", "user": {"login": "minan19605", "id": 31590730, "node_id": "MDQ6VXNlcjMxNTkwNzMw", "avatar_url": "https://avatars.githubusercontent.com/u/31590730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minan19605", "html_url": "https://github.com/minan19605", "followers_url": "https://api.github.com/users/minan19605/followers", "following_url": "https://api.github.com/users/minan19605/following{/other_user}", "gists_url": "https://api.github.com/users/minan19605/gists{/gist_id}", "starred_url": "https://api.github.com/users/minan19605/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minan19605/subscriptions", "organizations_url": "https://api.github.com/users/minan19605/orgs", "repos_url": "https://api.github.com/users/minan19605/repos", "events_url": "https://api.github.com/users/minan19605/events{/privacy}", "received_events_url": "https://api.github.com/users/minan19605/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2020-06-17T03:48:05Z", "updated_at": "2023-03-22T02:39:08Z", "closed_at": "2023-03-22T02:39:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I train an HTC model with ResNeXt 50 successfully, but when I test this model, I have CUDA out of memory issue.  Is there any method to resolve this problem. \r\nThe traceback is:\r\npython tools/test.py configs/my_config/htc_x50_32x4d_fpn_dconv_srcatch_coco_linux.py work_dirs/htc/20200618/epoch_2.pth --out work_dirs/htc/20200618/test_result_file.pkl --eval bbox segm\r\nloading annotations into memory...\r\nDone (t=0.09s)\r\ncreating index...\r\nindex created!\r\n[                                                  ] 0/166, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 127, in main\r\n    args.show_score_thr)\r\n  File \"/home/ceyang/mmdetection/mmdet/apis/test.py\", line 25, in single_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/ceyang/.conda/envs/dt2/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ceyang/.conda/envs/dt2/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 153, in forward\r\n    return self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/ceyang/.conda/envs/dt2/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ceyang/mmdetection/mmdet/core/fp16/decorators.py\", line 49, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/ceyang/mmdetection/mmdet/models/detectors/base.py\", line 150, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/ceyang/mmdetection/mmdet/models/detectors/base.py\", line 131, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/home/ceyang/mmdetection/mmdet/models/detectors/two_stage.py\", line 192, in simple_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/ceyang/mmdetection/mmdet/models/roi_heads/htc_roi_head.py\", line 369, in simple_test\r\n    ori_shape, scale_factor, rescale)\r\n  File \"/home/ceyang/mmdetection/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py\", line 224, in get_seg_masks\r\n    skip_empty=device.type == 'cpu')\r\n  File \"/home/ceyang/mmdetection/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py\", line 304, in _do_paste_mask\r\n    grid = torch.stack([gx, gy], dim=3)\r\nRuntimeError: CUDA out of memory. Tried to allocate 2.15 GiB (GPU 0; 7.79 GiB total capacity; 2.92 GiB already allocated; 2.13 GiB free; 4.87 GiB reserved in total by PyTorch)\r\n\r\nAnd my system information is as below:\r\n------------------------------------------------------------\r\nsys.platform: linux\r\nPython: 3.7.4 (default, Aug 13 2019, 20:35:49) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.2, V10.2.89\r\nGPU 0: GeForce RTX 2070\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.5.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - C++ Version: 201402\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.21.1 (Git Hash 7d2fd500bc78936d1d648ca713b901012f470dbc)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CPU capability usage: AVX2\r\n  - CUDA Runtime 10.2\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.5\r\n  - Magma 2.5.2\r\n  - Build settings: BLAS=MKL, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DNDEBUG -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -DUSE_XNNPACK -DUSE_INTERNAL_THREADPOOL_IMPL -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.6.0\r\nOpenCV: 3.4.2\r\nMMCV: 0.5.1\r\nMMDetection: 2.0.0+6603790\r\nMMDetection Compiler: GCC 7.5\r\nMMDetection CUDA Compiler: 10.2\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3052/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3048", "id": 640065683, "node_id": "MDU6SXNzdWU2NDAwNjU2ODM=", "number": 3048, "title": "TypeError: object of type 'DataContainer' has no len()", "user": {"login": "shliang0603", "id": 37186266, "node_id": "MDQ6VXNlcjM3MTg2MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/37186266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shliang0603", "html_url": "https://github.com/shliang0603", "followers_url": "https://api.github.com/users/shliang0603/followers", "following_url": "https://api.github.com/users/shliang0603/following{/other_user}", "gists_url": "https://api.github.com/users/shliang0603/gists{/gist_id}", "starred_url": "https://api.github.com/users/shliang0603/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shliang0603/subscriptions", "organizations_url": "https://api.github.com/users/shliang0603/orgs", "repos_url": "https://api.github.com/users/shliang0603/repos", "events_url": "https://api.github.com/users/shliang0603/events{/privacy}", "received_events_url": "https://api.github.com/users/shliang0603/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-17T01:04:39Z", "updated_at": "2020-08-19T06:22:41Z", "closed_at": "2020-08-19T06:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "@ZwwWayne I test in mmdetection2.0, I have only CPU. My test commad following:\r\n>python tools/test.py ./configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py ./work_dirs/latest.pth  --show-dir result --eval mAP\r\n\r\n I got the following output\uff1a\r\n```python\r\nwhich: no hipcc in (/HDD/anaconda3/envs/mmdetection/bin:/HDD/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)\r\n[                                                  ] 0/169, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 127, in main\r\n    args.show_score_thr)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/apis/test.py\", line 25, in single_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/HDD/anaconda3/envs/mmdetection/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/HDD/anaconda3/envs/mmdetection/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 143, in forward\r\n    return self.module(*inputs, **kwargs)\r\n  File \"/HDD/anaconda3/envs/mmdetection/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/models/detectors/base.py\", line 149, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/models/detectors/base.py\", line 130, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/models/detectors/two_stage.py\", line 187, in simple_test\r\n    proposal_list = self.simple_test_rpn(x, img_metas)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/models/detectors/test_mixins.py\", line 29, in simple_test_rpn\r\n    proposal_list = self.rpn_head.get_bboxes(*rpn_outs, img_metas)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/core/fp16/decorators.py\", line 131, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/HDD/project/mmdetection_hat/mmdet/models/dense_heads/anchor_head.py\", line 482, in get_bboxes\r\n    for img_id in range(len(img_metas)):\r\nTypeError: object of type 'DataContainer' has no len()\r\n```\r\nCan you give me some advice ?", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3035", "id": 639404234, "node_id": "MDU6SXNzdWU2Mzk0MDQyMzQ=", "number": 3035, "title": "scale_factor array breaks FCNMaskHead", "user": {"login": "dsuess", "id": 5870291, "node_id": "MDQ6VXNlcjU4NzAyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5870291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dsuess", "html_url": "https://github.com/dsuess", "followers_url": "https://api.github.com/users/dsuess/followers", "following_url": "https://api.github.com/users/dsuess/following{/other_user}", "gists_url": "https://api.github.com/users/dsuess/gists{/gist_id}", "starred_url": "https://api.github.com/users/dsuess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dsuess/subscriptions", "organizations_url": "https://api.github.com/users/dsuess/orgs", "repos_url": "https://api.github.com/users/dsuess/repos", "events_url": "https://api.github.com/users/dsuess/events{/privacy}", "received_events_url": "https://api.github.com/users/dsuess/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-16T06:24:52Z", "updated_at": "2020-08-22T09:51:39Z", "closed_at": "2020-08-22T09:51:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Describe the bug**\r\nFCNMaskHead raises an error if the model is run with `rescale=False` and `scale_factor` being an array (instead of just a scalar). The error is raised in [this line](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py#L200) and reads:\r\n\r\n```\r\nTypeError: only size-1 arrays can be converted to Python scalars\r\n```\r\n\r\n**Reproduction**\r\n\r\nJupyter notebook running inference on custom dataset.\r\n\r\n**Error traceback**\r\n\r\n```\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/torch/nn/modules/module.py:550: in __call__\r\n    result = self.forward(*input, **kwargs)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py:153: in forward\r\n    return self.module(*inputs[0], **kwargs[0])\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/torch/nn/modules/module.py:550: in __call__\r\n    result = self.forward(*input, **kwargs)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/core/fp16/decorators.py:51: in new_func\r\n    return old_func(*args, **kwargs)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/detectors/base.py:150: in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/detectors/base.py:131: in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/detectors/two_stage.py:192: in simple_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/roi_heads/standard_roi_head.py:253: in simple_test\r\n    x, img_metas, det_bboxes, det_labels, rescale=rescale)\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/roi_heads/test_mixins.py:172: in simple_test_mask\r\n    ori_shape, scale_factor, rescale)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = FCNMaskHead(\r\n  (loss_mask): CrossEntropyLoss()\r\n  (convs): ModuleList(\r\n    (0): ConvModule(\r\n      (conv): Conv2d(256, 2...2, 2), stride=(2, 2))\r\n  (conv_logits): Conv2d(256, 1, kernel_size=(1, 1), stride=(1, 1))\r\n  (relu): ReLU(inplace=True)\r\n)\r\nmask_pred = tensor([[[[0.3319, 0.4184, 0.3217,  ..., 0.4381, 0.4519, 0.6086],\r\n          [0.8833, 0.7837, 0.9758,  ..., 0.8660, 0.9..., 0.8995, 0.6574, 0.7129],\r\n          [0.5393, 0.4447, 0.4772,  ..., 0.8042, 0.5884, 0.8338]]]],\r\n       device='cuda:0')\r\ndet_bboxes = tensor([[6.6717e+01, 0.0000e+00, 4.9932e+02, 5.0000e+02, 1.3252e-01],\r\n        [2.8945e+02, 0.0000e+00, 4.9981e+02, 2.5...5.0000e+02, 5.8171e-02],\r\n        [7.6896e+01, 3.5935e+02, 4.3908e+02, 5.0000e+02, 5.5708e-02]],\r\n       device='cuda:0')\r\ndet_labels = tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0], device='cuda:0')\r\nrcnn_test_cfg = {'score_thr': 0.05, 'nms': {'type': 'nms', 'iou_thr': 0.5}, 'max_per_img': 100, 'mask_thr_binary': 0.5}\r\nori_shape = (416, 416, 3), scale_factor = 1.0, rescale = False\r\n\r\n    def get_seg_masks(self, mask_pred, det_bboxes, det_labels, rcnn_test_cfg,\r\n                      ori_shape, scale_factor, rescale):\r\n        \"\"\"Get segmentation masks from mask_pred and bboxes.\r\n\r\n        Args:\r\n            mask_pred (Tensor or ndarray): shape (n, #class, h, w).\r\n                For single-scale testing, mask_pred is the direct output of\r\n                model, whose type is Tensor, while for multi-scale testing,\r\n                it will be converted to numpy array outside of this method.\r\n            det_bboxes (Tensor): shape (n, 4/5)\r\n            det_labels (Tensor): shape (n, )\r\n            img_shape (Tensor): shape (3, )\r\n            rcnn_test_cfg (dict): rcnn testing config\r\n            ori_shape: original image size\r\n\r\n        Returns:\r\n            list[list]: encoded masks\r\n        \"\"\"\r\n        if isinstance(mask_pred, torch.Tensor):\r\n            mask_pred = mask_pred.sigmoid()\r\n        else:\r\n            mask_pred = det_bboxes.new_tensor(mask_pred)\r\n\r\n        device = mask_pred.device\r\n        cls_segms = [[] for _ in range(self.num_classes)\r\n                     ]  # BG is not included in num_classes\r\n        bboxes = det_bboxes[:, :4]\r\n        labels = det_labels\r\n\r\n        if rescale:\r\n            img_h, img_w = ori_shape[:2]\r\n        else:\r\n            img_h = np.round(ori_shape[0] * scale_factor).astype(np.int32)\r\n            img_w = np.round(ori_shape[1] * scale_factor).astype(np.int32)\r\n            scale_factor = 1.0\r\n\r\n        if not isinstance(scale_factor, (float, torch.Tensor)):\r\n            scale_factor = bboxes.new_tensor(scale_factor)\r\n        bboxes = bboxes / scale_factor\r\n\r\n        N = len(mask_pred)\r\n        # The actual implementation split the input into chunks,\r\n        # and paste them chunk by chunk.\r\n        if device.type == 'cpu':\r\n            # CPU is most efficient when they are pasted one by one with\r\n            # skip_empty=True, so that it performs minimal number of\r\n            # operations.\r\n            num_chunks = N\r\n        else:\r\n            # GPU benefits from parallelism for larger chunks,\r\n            # but may have memory issue\r\n            num_chunks = int(\r\n>               np.ceil(N * img_h * img_w * BYTES_PER_FLOAT / GPU_MEM_LIMIT))\r\nE           TypeError: only size-1 arrays can be converted to Python scalars\r\n\r\n../../.cache/pypoetry/virtualenvs/mmpond-6xAyU5_O-py3.7/lib/python3.7/site-packages/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py:201: TypeError\r\n```\r\n\r\n**Bug fix**\r\n\r\nThe calculation of `img_h` and `img_w` for `rescale=False` (see [this](https://github.com/open-mmlab/mmdetection/blob/master/mmdet/models/roi_heads/mask_heads/fcn_mask_head.py#L181)) hasn't been ported to work with scale_factor being a `(4,)` dim array. I'll try to submit a PR ASAP\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/3023", "id": 638835476, "node_id": "MDU6SXNzdWU2Mzg4MzU0NzY=", "number": 3023, "title": "DataLoader seems to ignore samples without objects", "user": {"login": "aabramovrepo", "id": 17107812, "node_id": "MDQ6VXNlcjE3MTA3ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/17107812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aabramovrepo", "html_url": "https://github.com/aabramovrepo", "followers_url": "https://api.github.com/users/aabramovrepo/followers", "following_url": "https://api.github.com/users/aabramovrepo/following{/other_user}", "gists_url": "https://api.github.com/users/aabramovrepo/gists{/gist_id}", "starred_url": "https://api.github.com/users/aabramovrepo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aabramovrepo/subscriptions", "organizations_url": "https://api.github.com/users/aabramovrepo/orgs", "repos_url": "https://api.github.com/users/aabramovrepo/repos", "events_url": "https://api.github.com/users/aabramovrepo/events{/privacy}", "received_events_url": "https://api.github.com/users/aabramovrepo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-15T13:02:02Z", "updated_at": "2020-09-30T15:50:25Z", "closed_at": "2020-09-30T15:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear All,\r\n\r\n   am I right that `DataLoader` ignores samples without objects? I have just noticed that the data set length shown in `INFO` during training is slightly lower than the actual data set length. Just for my understanding, how can I force `DataLoader` to load all images (I'm training `Faster RCNN` on data in `PASCAL VOC` format)? Setting `filter_empty_gt` to False does not make a difference.\r\n\r\nThanks!\r\n\r\nBest,\r\nAlexey", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/3023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2974", "id": 636168196, "node_id": "MDU6SXNzdWU2MzYxNjgxOTY=", "number": 2974, "title": "mabe a bug in version 2.1.0", "user": {"login": "heboyong", "id": 32918497, "node_id": "MDQ6VXNlcjMyOTE4NDk3", "avatar_url": "https://avatars.githubusercontent.com/u/32918497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heboyong", "html_url": "https://github.com/heboyong", "followers_url": "https://api.github.com/users/heboyong/followers", "following_url": "https://api.github.com/users/heboyong/following{/other_user}", "gists_url": "https://api.github.com/users/heboyong/gists{/gist_id}", "starred_url": "https://api.github.com/users/heboyong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heboyong/subscriptions", "organizations_url": "https://api.github.com/users/heboyong/orgs", "repos_url": "https://api.github.com/users/heboyong/repos", "events_url": "https://api.github.com/users/heboyong/events{/privacy}", "received_events_url": "https://api.github.com/users/heboyong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-06-10T11:26:37Z", "updated_at": "2020-07-03T03:37:22Z", "closed_at": "2020-06-23T17:18:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgrade mmdetection from 2.0.0 to 2.1.0, but I can't train with this error:ValueError: need at least one array to concatenate.\r\nSo I use version 2.0.0 and all work well, so I think maybe there is a bug in version 2.1.0", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2974/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2970", "id": 635991672, "node_id": "MDU6SXNzdWU2MzU5OTE2NzI=", "number": 2970, "title": "Segment Fault in test stage while training with GHM loss", "user": {"login": "Chrisfsj2051", "id": 34179691, "node_id": "MDQ6VXNlcjM0MTc5Njkx", "avatar_url": "https://avatars.githubusercontent.com/u/34179691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chrisfsj2051", "html_url": "https://github.com/Chrisfsj2051", "followers_url": "https://api.github.com/users/Chrisfsj2051/followers", "following_url": "https://api.github.com/users/Chrisfsj2051/following{/other_user}", "gists_url": "https://api.github.com/users/Chrisfsj2051/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chrisfsj2051/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chrisfsj2051/subscriptions", "organizations_url": "https://api.github.com/users/Chrisfsj2051/orgs", "repos_url": "https://api.github.com/users/Chrisfsj2051/repos", "events_url": "https://api.github.com/users/Chrisfsj2051/events{/privacy}", "received_events_url": "https://api.github.com/users/Chrisfsj2051/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2131786684, "node_id": "MDU6TGFiZWwyMTMxNzg2Njg0", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P1", "name": "P1", "color": "c62764", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-10T07:11:24Z", "updated_at": "2020-09-05T07:11:00Z", "closed_at": "2020-09-05T07:10:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I use [this config](https://github.com/open-mmlab/mmdetection/blob/master/configs/ghm/retinanet_ghm_r50_fpn_1x_coco.py) to train retinanet, everything seems fine in training stage (except for the low speed of gradient descent). However, at the beginning of test stage, I met **Segmentation fault**, which I have never seen in training models with other configs (i.e. without using ghm loss).\r\n\r\n\r\n**Reproduction**\r\n\r\n```\r\nsrun -p mediaf1 --job-name=retinanet_ghm_r50_fpn_1x_coco.py --gres=gpu:8 --ntasks=8 --ntasks-per-node=8 --cpus-per-task=1 --kill-on-bad-exit=1 -x 'SH-IDC2-172-20-20-[65,77]' python -u tools/train.py configs/ghm/retinanet_ghm_r50_fpn_1x_coco.py --work-dir=./mmdet_output/ghm/retinanet_ghm_r50_fpn_1x_coco.py --launcher=slurm\r\n```\r\nAlso, you can find the full training log [here](https://paste.ubuntu.com/p/MfG3WPZYQq/).\r\n\r\n**Environment**\r\n\r\n1. Please run `python mmdet/utils/collect_env.py` to collect necessary environment infomation and paste it here.\r\n\r\n```\r\n\r\nsys.platform: linux\r\nPython: 3.6.8 |Anaconda, Inc.| (default, Dec 30 2018, 01:22:34) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /mnt/lustre/share/platform/dep/cuda-9.0-cudnn7.6\r\nNVCC: Cuda compilation tools, release 9.0, V9.0.176\r\nGPU 0,1,2,3,4,5,6,7: GeForce GTX 1080\r\nGCC: gcc (GCC) 5.4.0\r\nPyTorch: 1.3.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 4.8\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.20.5 (Git Hash 0125f28c61c1f822fd48570b4c1066f96fcb9b2e)\r\n  - OpenMP 201107 (a.k.a. OpenMP 3.1)\r\n  - NNPACK is enabled\r\n  - CUDA Runtime 9.0\r\n  - NVCC architecture flags: -gencode;arch=compute_52,code=sm_52;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70\r\n  - CuDNN 7.6\r\n  - Magma 2.5.0\r\n  - Build settings: BLAS=MKL, BUILD_NAMEDTENSOR=OFF, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missi\r\nng-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -\r\nWno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math, DISABLE_NUMA=1, PERF_WITH\r\n_AVX=1, PERF_WITH_AVX2=1, USE_CUDA=True, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=ON, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.2.2\r\nOpenCV: 4.1.1\r\nMMCV: 0.5.9\r\nMMDetection: 2.0.0+unknown\r\nMMDetection Compiler: GCC 5.4\r\nMMDetection CUDA Compiler: 9.0\r\n\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2965", "id": 635488115, "node_id": "MDU6SXNzdWU2MzU0ODgxMTU=", "number": 2965, "title": "Custom dataset question - classes specification", "user": {"login": "we1pingyu", "id": 10093672, "node_id": "MDQ6VXNlcjEwMDkzNjcy", "avatar_url": "https://avatars.githubusercontent.com/u/10093672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/we1pingyu", "html_url": "https://github.com/we1pingyu", "followers_url": "https://api.github.com/users/we1pingyu/followers", "following_url": "https://api.github.com/users/we1pingyu/following{/other_user}", "gists_url": "https://api.github.com/users/we1pingyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/we1pingyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/we1pingyu/subscriptions", "organizations_url": "https://api.github.com/users/we1pingyu/orgs", "repos_url": "https://api.github.com/users/we1pingyu/repos", "events_url": "https://api.github.com/users/we1pingyu/events{/privacy}", "received_events_url": "https://api.github.com/users/we1pingyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2129443848, "node_id": "MDU6TGFiZWwyMTI5NDQzODQ4", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/P0", "name": "P0", "color": "db4015", "default": false, "description": "Highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-06-09T14:38:49Z", "updated_at": "2020-09-30T15:50:25Z", "closed_at": "2020-09-30T15:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nCannot modify classes in config.py. Have to modify hard code. And if you modify the config, the training will start with a evaluation. Only happens in mmdet v2.0.\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\n./tools/dist_train.sh configs/cascade_rcnn/cascade_rcnn_x101_64x4d_fpn.py  2  --work-dir /data/cascade_rcnn_x101_64x4d_fpn\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n```\r\n_base_ = './cascade_rcnn_r50_fpn_1x_coco.py'\r\nmodel = dict(\r\n    type='CascadeRCNN',\r\n    pretrained='open-mmlab://resnext101_64x4d',\r\n    backbone=dict(\r\n        type='ResNeXt',\r\n        depth=101,\r\n        groups=64,\r\n        base_width=4,\r\n        num_stages=4,\r\n        out_indices=(0, 1, 2, 3),\r\n        frozen_stages=1,\r\n        norm_cfg=dict(type='BN', requires_grad=True),\r\n        style='pytorch'),\r\n    rpn_head=dict(\r\n        type='RPNHead',\r\n        in_channels=256,\r\n        feat_channels=256,\r\n        anchor_generator=dict(\r\n            type='AnchorGenerator',\r\n            scales=[4],\r\n            ratios=[0.5, 1.0, 2.0],\r\n            strides=[4, 8, 16, 32, 64]),\r\n        bbox_coder=dict(\r\n            type='DeltaXYWHBBoxCoder',\r\n            target_means=[.0, .0, .0, .0],\r\n            target_stds=[1.0, 1.0, 1.0, 1.0]),\r\n        loss_cls=dict(\r\n            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\r\n        loss_bbox=dict(type='SmoothL1Loss', beta=1.0 / 9.0, loss_weight=1.0)),\r\n\r\n    roi_head=dict(\r\n        type='CascadeRoIHead',\r\n        num_stages=3,\r\n        stage_loss_weights=[1, 0.5, 0.25],\r\n        bbox_roi_extractor=dict(\r\n            type='SingleRoIExtractor',\r\n            roi_layer=dict(type='RoIAlign', out_size=7, sample_num=0),\r\n            out_channels=256,\r\n            featmap_strides=[4, 8, 16, 32]),\r\n        bbox_head=[\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=10,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.1, 0.1, 0.2, 0.2]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=10,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.05, 0.05, 0.1, 0.1]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,\r\n                               loss_weight=1.0)),\r\n            dict(\r\n                type='Shared2FCBBoxHead',\r\n                in_channels=256,\r\n                fc_out_channels=1024,\r\n                roi_feat_size=7,\r\n                num_classes=10,\r\n                bbox_coder=dict(\r\n                    type='DeltaXYWHBBoxCoder',\r\n                    target_means=[0., 0., 0., 0.],\r\n                    target_stds=[0.033, 0.033, 0.067, 0.067]),\r\n                reg_class_agnostic=True,\r\n                loss_cls=dict(\r\n                    type='CrossEntropyLoss',\r\n                    use_sigmoid=False,\r\n                    loss_weight=1.0),\r\n                loss_bbox=dict(type='SmoothL1Loss', beta=1.0, loss_weight=1.0))\r\n        ]))\r\n# dataset settings\r\ndataset_type = 'CocoDataset'\r\nclasses = ('pedestrian', 'people', 'bicycle', 'car', 'van', 'truck', 'tricycle', 'awning-tricycle', 'bus', 'motor')\r\ndata_root = '/data/'\r\nimg_norm_cfg = dict(\r\n    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(type='MinIoURandomCrop',\r\n         min_ious=(0.1, 0.3, 0.5, 0.7, 0.9),\r\n         min_crop_size=0.3),\r\n    dict(type='Resize', img_scale=(1520, 1002), keep_ratio=True),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='Pad', size_divisor=32),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels']),\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(1520, 1002),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=True),\r\n            dict(type='RandomFlip'),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='Pad', size_divisor=32),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img']),\r\n        ])\r\n]\r\ndata = dict(\r\n    samples_per_gpu=1,\r\n    workers_per_gpu=2,\r\n    train=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=data_root + 'xxx/train.json',\r\n        img_prefix=data_root + 'xxx/images/',\r\n        pipeline=train_pipeline),\r\n    val=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=data_root + 'xxx/val.json',\r\n        img_prefix=data_root + 'xxx/images/',\r\n        pipeline=test_pipeline),\r\n    test=dict(\r\n        type=dataset_type,\r\n        classes=classes,\r\n        ann_file=data_root + 'xxx/val.json',\r\n        img_prefix=data_root + 'xxx/images/',\r\n        pipeline=test_pipeline))\r\nevaluation = dict(interval=1, metric='bbox')\r\noptimizer = dict(type='SGD', lr=0.01, momentum=0.9, weight_decay=0.0001)\r\nlr_config = dict(\r\n    policy='step',\r\n    warmup='linear',\r\n    warmup_iters=500,\r\n    warmup_ratio=1.0 / 3,\r\n    step=[12, 18, 26])\r\ntotal_epochs = 30\r\n\r\n```\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n```\r\nsys.platform: linux\r\nPython: 3.7.7 (default, May  7 2020, 21:25:33) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /usr/local/cuda-10.1\r\nNVCC: Cuda compilation tools, release 10.1, V10.1.243\r\nGPU 0,1: GeForce GTX 1080 Ti\r\nGCC: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nPyTorch: 1.3.1\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.20.5 (Git Hash 0125f28c61c1f822fd48570b4c1066f96fcb9b2e)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CUDA Runtime 10.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.3\r\n  - Magma 2.5.1\r\n  - Build settings: BLAS=MKL, BUILD_NAMEDTENSOR=OFF, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Wno-stringop-overflow, DISABLE_NUMA=1, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=True, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.4.2\r\nOpenCV: 4.2.0\r\nMMCV: 0.5.9\r\nMMDetection: 2.0.0+204f751\r\nMMDetection Compiler: GCC 7.5\r\nMMDetection CUDA Compiler: 10.1\r\n```\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nTraceback (most recent call last):\r\n  File \"./tools/train.py\", line 161, in <module>\r\n    main()\r\n  File \"./tools/train.py\", line 157, in main\r\n    meta=meta)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/apis/train.py\", line 179, in train_detector\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/home/omnisky/anaconda3/envs/mmdet2/lib/python3.6/site-packages/mmcv/runner/runner.py\", line 384, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/omnisky/anaconda3/envs/mmdet2/lib/python3.6/site-packages/mmcv/runner/runner.py\", line 293, in train\r\n    self.call_hook('after_train_epoch')\r\n  File \"/home/omnisky/anaconda3/envs/mmdet2/lib/python3.6/site-packages/mmcv/runner/runner.py\", line 245, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/core/evaluation/eval_hooks.py\", line 74, in after_train_epoch\r\n    self.evaluate(runner, results)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/core/evaluation/eval_hooks.py\", line 32, in evaluate\r\n    results, logger=runner.logger, **self.eval_kwargs)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/datasets/coco.py\", line 343, in evaluate\r\n    result_files, tmp_dir = self.format_results(results, jsonfile_prefix)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/datasets/coco.py\", line 306, in format_results\r\n    result_files = self.results2json(results, jsonfile_prefix)\r\n  File \"/home/omnisky/yuweiping/mmdetection/mmdet/datasets/coco.py\", line 240, in results2json\r\n    if isinstance(results[0], list):\r\nIndexError: list index out of range\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2965/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2930", "id": 633414404, "node_id": "MDU6SXNzdWU2MzM0MTQ0MDQ=", "number": 2930, "title": "Error when test HTC model ", "user": {"login": "caidandaren", "id": 17716777, "node_id": "MDQ6VXNlcjE3NzE2Nzc3", "avatar_url": "https://avatars.githubusercontent.com/u/17716777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caidandaren", "html_url": "https://github.com/caidandaren", "followers_url": "https://api.github.com/users/caidandaren/followers", "following_url": "https://api.github.com/users/caidandaren/following{/other_user}", "gists_url": "https://api.github.com/users/caidandaren/gists{/gist_id}", "starred_url": "https://api.github.com/users/caidandaren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caidandaren/subscriptions", "organizations_url": "https://api.github.com/users/caidandaren/orgs", "repos_url": "https://api.github.com/users/caidandaren/repos", "events_url": "https://api.github.com/users/caidandaren/events{/privacy}", "received_events_url": "https://api.github.com/users/caidandaren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-07T13:26:32Z", "updated_at": "2020-06-08T13:40:09Z", "closed_at": "2020-06-08T13:40:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have trained HTC model on our own dataset. Train process is all right but I find error when test.\r\n\r\nTest command is \r\n``` \r\npython  tools/test.py configs/htc/htc_without_semantic_x101_64x4d_fpn_dconv_c3-c5_mstrain_400_1400_2x_Future3d.py /tools/work_dirs/htc_without_semantic_x101_64x4d_fpn_dconv_c3-c5_mstrain_400_1400_2x_Future3d/latest.pth --format-only --options \"jsonfile_prefix=./mask_rcnn_test-dev_results\"\r\n```\r\n\r\n\r\nError trackback here.\r\n```\r\nFile \"/remote-home/my/Future3d/tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"/remote-home/my/Future3d/tools/test.py\", line 127, in main\r\n    args.show_score_thr)\r\n  File \"/remote-home/my/Future3d/mmdet/apis/test.py\", line 48, in single_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/usr/local/miniconda3/envs/dl10/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/usr/local/miniconda3/envs/dl10/lib/python3.6/site-packages/torch/nn/parallel/data_parallel.py\", line 150, in forward\r\n    return self.module(*inputs[0], **kwargs[0])\r\n  File \"/usr/local/miniconda3/envs/dl10/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/remote-home/my/Future3d/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/remote-home/my/Future3d/mmdet/models/detectors/base.py\", line 150, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/remote-home/my/Future3d/mmdet/models/detectors/base.py\", line 135, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/remote-home/my/Future3d/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/remote-home/my/Future3d/mmdet/models/roi_heads/htc_roi_head.py\", line 393, in aug_test\r\n    proposal_list = self.aug_test_rpn(img_feats, img_metas,\r\n  File \"/usr/local/miniconda3/envs/dl10/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 585, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'HybridTaskCascadeRoIHead' object has no attribute 'aug_test_rpn'\r\n```\r\nActually, i can't find 'aug_test_rpn' in the class.\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2930/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2903", "id": 630866917, "node_id": "MDU6SXNzdWU2MzA4NjY5MTc=", "number": 2903, "title": " focal loss won't throw any error when model's num_classes is inconsistent with class number in ann_file", "user": {"login": "jshilong", "id": 61961338, "node_id": "MDQ6VXNlcjYxOTYxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/61961338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshilong", "html_url": "https://github.com/jshilong", "followers_url": "https://api.github.com/users/jshilong/followers", "following_url": "https://api.github.com/users/jshilong/following{/other_user}", "gists_url": "https://api.github.com/users/jshilong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshilong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshilong/subscriptions", "organizations_url": "https://api.github.com/users/jshilong/orgs", "repos_url": "https://api.github.com/users/jshilong/repos", "events_url": "https://api.github.com/users/jshilong/events{/privacy}", "received_events_url": "https://api.github.com/users/jshilong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-04T14:18:42Z", "updated_at": "2020-06-13T15:29:36Z", "closed_at": "2020-06-13T15:29:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/e05e85834c3162a8981dc5169ffd04b1c44d67d6/mmdet/ops/sigmoid_focal_loss/src/cuda/sigmoid_focal_loss_cuda.cu#L37\r\n\r\nWhen num_classes in bbox_head isn't  consistent with the max class number in ann_file,\r\nthis won't throw any error,  add a check like ``t < num_classes``  may avoid some mistakes", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2863", "id": 628072774, "node_id": "MDU6SXNzdWU2MjgwNzI3NzQ=", "number": 2863, "title": "_pickle.PicklingError: Can't pickle <class 'MemoryError'>: it's not the same object as builtins.MemoryError", "user": {"login": "lyy-fighting", "id": 38709345, "node_id": "MDQ6VXNlcjM4NzA5MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/38709345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lyy-fighting", "html_url": "https://github.com/lyy-fighting", "followers_url": "https://api.github.com/users/lyy-fighting/followers", "following_url": "https://api.github.com/users/lyy-fighting/following{/other_user}", "gists_url": "https://api.github.com/users/lyy-fighting/gists{/gist_id}", "starred_url": "https://api.github.com/users/lyy-fighting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lyy-fighting/subscriptions", "organizations_url": "https://api.github.com/users/lyy-fighting/orgs", "repos_url": "https://api.github.com/users/lyy-fighting/repos", "events_url": "https://api.github.com/users/lyy-fighting/events{/privacy}", "received_events_url": "https://api.github.com/users/lyy-fighting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-01T00:02:02Z", "updated_at": "2021-04-20T02:54:46Z", "closed_at": "2021-04-20T02:54:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**When I use  configs/ssd512_coco.py to train custom dataset,the error appears during training process even the batch size is 1**..My** config file as follows:( )\r\n**GPU:RTX 2070S  8G\r\nRAM:16G\r\nCPU:i5 and 6 cores**\r\n\r\n**configs/ssd512_coco.py:**\r\n\r\ntrain_pipeline = [\r\n    dict(type='LoadImageFromFile', to_float32=True),\r\n    dict(type='LoadAnnotations', with_bbox=True),\r\n    dict(\r\n        type='PhotoMetricDistortion',\r\n        brightness_delta=32,\r\n        contrast_range=(0.5, 1.5),\r\n        saturation_range=(0.5, 1.5),\r\n        hue_delta=18),\r\n    dict(\r\n        type='Expand',\r\n        mean=img_norm_cfg['mean'],\r\n        to_rgb=img_norm_cfg['to_rgb'],\r\n        ratio_range=(1, 4)),\r\n    dict(\r\n        type='MinIoURandomCrop',\r\n        min_ious=(0.1, 0.3, 0.5, 0.7, 0.9),\r\n        min_crop_size=0.3),\r\n    dict(type='Resize', img_scale=(512, 512), keep_ratio=False),\r\n    dict(type='Normalize', **img_norm_cfg),\r\n    dict(type='RandomFlip', flip_ratio=0.5),\r\n    dict(type='DefaultFormatBundle'),\r\n    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels']),\r\n]\r\ntest_pipeline = [\r\n    dict(type='LoadImageFromFile'),\r\n    dict(\r\n        type='MultiScaleFlipAug',\r\n        img_scale=(512, 512),\r\n        flip=False,\r\n        transforms=[\r\n            dict(type='Resize', keep_ratio=False),\r\n            dict(type='Normalize', **img_norm_cfg),\r\n            dict(type='ImageToTensor', keys=['img']),\r\n            dict(type='Collect', keys=['img']),\r\n        ])\r\n]\r\nThe error:\r\n.conda/envs/open-mmlab/lib/python3.7/multiprocessing/queues.py\", line 236, in _feed\r\n    obj = _ForkingPickler.dumps(obj)\r\n.conda/envs/open-mmlab/lib/python3.7/multiprocessing/reduction.py\", line 51, in dumps\r\n    cls(buf, protocol).dump(obj)\r\n_pickle.PicklingError: Can't pickle <class 'MemoryError'>: it's not the same object as builtins.MemoryError.\r\n\r\n**How can deal with it?Thanks!!!**\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 3}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2863/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2850", "id": 627252209, "node_id": "MDU6SXNzdWU2MjcyNTIyMDk=", "number": 2850, "title": "error happend when I try multiscale test", "user": {"login": "yustaub", "id": 40256410, "node_id": "MDQ6VXNlcjQwMjU2NDEw", "avatar_url": "https://avatars.githubusercontent.com/u/40256410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yustaub", "html_url": "https://github.com/yustaub", "followers_url": "https://api.github.com/users/yustaub/followers", "following_url": "https://api.github.com/users/yustaub/following{/other_user}", "gists_url": "https://api.github.com/users/yustaub/gists{/gist_id}", "starred_url": "https://api.github.com/users/yustaub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yustaub/subscriptions", "organizations_url": "https://api.github.com/users/yustaub/orgs", "repos_url": "https://api.github.com/users/yustaub/repos", "events_url": "https://api.github.com/users/yustaub/events{/privacy}", "received_events_url": "https://api.github.com/users/yustaub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-29T13:01:16Z", "updated_at": "2020-05-31T12:17:58Z", "closed_at": "2020-05-31T12:17:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I change the img_scale to `img_scale=[(1400, 1000), (1400, 800), (1400,600)]` in test_pipeline, my command is `CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 ./tools/dist_test.sh configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py ./checkpoints/faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pth 8 --eval bbox`\r\n# error log\r\n```\r\n[                                                  ] 0/5000, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"./tools/test.py\", line 149, in <module>\r\n    main()\r\n  File \"./tools/test.py\", line 134, in main\r\n    args.gpu_collect)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/apis/test.py\", line 114, in multi_gpu_test\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 447, in forward\r\n    output = self.module(*inputs[0], **kwargs[0])\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/fp16/decorators.py\", line 51, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 151, in forward\r\n    return self.forward_test(img, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/base.py\", line 136, in forward_test\r\n    return self.aug_test(imgs, img_metas, **kwargs)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/detectors/two_stage.py\", line 204, in aug_test\r\n    x, proposal_list, img_metas, rescale=rescale)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/standard_roi_head.py\", line 265, in aug_test\r\n    self.test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/models/roi_heads/test_mixins.py\", line 99, in aug_test_bboxes\r\n    aug_bboxes, aug_scores, img_metas, rcnn_test_cfg)\r\n  File \"/home/joseph/ml_test/mmdetection/mmdet/core/post_processing/merge_augs.py\", line 65, in merge_aug_bboxes\r\n    bboxes = torch.stack(recovered_bboxes).mean(dim=0)\r\nRuntimeError: stack expects a non-empty TensorList\r\nTraceback (most recent call last):\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/distributed/launch.py\", line 263, in <module>\r\n    main()\r\n  File \"/home/joseph/anaconda3/envs/open-mmlab/lib/python3.6/site-packages/torch/distributed/launch.py\", line 259, in main\r\n    cmd=cmd)\r\nsubprocess.CalledProcessError: Command '['/home/joseph/anaconda3/envs/open-mmlab/bin/python', '-u', './tools/test.py', '--local_rank=7', 'configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py', './checkpoints/faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pth', '--launcher', 'pytorch', '--eval', 'bbox']' returned non-zero exit status 1.\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2850/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2842", "id": 626962484, "node_id": "MDU6SXNzdWU2MjY5NjI0ODQ=", "number": 2842, "title": "TypeError: expected sequence object with len >= 0 or a single integer", "user": {"login": "lijain", "id": 18046568, "node_id": "MDQ6VXNlcjE4MDQ2NTY4", "avatar_url": "https://avatars.githubusercontent.com/u/18046568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lijain", "html_url": "https://github.com/lijain", "followers_url": "https://api.github.com/users/lijain/followers", "following_url": "https://api.github.com/users/lijain/following{/other_user}", "gists_url": "https://api.github.com/users/lijain/gists{/gist_id}", "starred_url": "https://api.github.com/users/lijain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lijain/subscriptions", "organizations_url": "https://api.github.com/users/lijain/orgs", "repos_url": "https://api.github.com/users/lijain/repos", "events_url": "https://api.github.com/users/lijain/events{/privacy}", "received_events_url": "https://api.github.com/users/lijain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-05-29T03:01:24Z", "updated_at": "2022-05-20T06:45:33Z", "closed_at": "2021-05-26T06:36:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "i run python tools/train.py --config example/dior/faster_rcnn_r101_fpn_1x.py --validate\r\n I see the explanation, but I don't suggest that I think it can be used, so I added a test during the training. Would you like to ask the reason for the error??\r\n\r\n_rpn_bbox: 0.0190, loss_cls: 0.1400, acc: 95.4509, loss_bbox: 0.0957, loss: 0.2879\r\n[                                                  ] 0/11738, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"tools/train.py\", line 154, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 150, in main\r\n    meta=meta)\r\n  File \"/data/maq/PycharmProjects/TSD-master/mmdet/apis/train.py\", line 169, in train_detector\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 380, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 288, in train\r\n    self.call_hook('after_train_epoch')\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 241, in call_hook\r\n    getattr(hook, fn_name)(self)\r\n  File \"/data/maq/PycharmProjects/TSD-master/mmdet/core/evaluation/eval_hooks.py\", line 28, in after_train_epoch\r\n    results = single_gpu_test(runner.model, self.dataloader, show=False)\r\n  File \"/data/maq/PycharmProjects/TSD-master/mmdet/apis/test.py\", line 19, in single_gpu_test\r\n    result = model(return_loss=False, rescale=not show, **data)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 153, in forward\r\n    return self.gather(outputs, self.output_device)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 165, in gather\r\n    return gather(outputs, output_device, dim=self.dim)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/parallel/scatter_gather.py\", line 68, in gather\r\n    res = gather_map(outputs)\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/parallel/scatter_gather.py\", line 63, in gather_map\r\n    return type(out)(map(gather_map, zip(*outputs)))\r\n  File \"/data/maq/anaconda3/envs/mmdetect/lib/python3.7/site-packages/torch/nn/parallel/scatter_gather.py\", line 63, in gather_map\r\n    return type(out)(map(gather_map, zip(*outputs)))\r\nTypeError: expected sequence object with len >= 0 or a single integer", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2805", "id": 623823125, "node_id": "MDU6SXNzdWU2MjM4MjMxMjU=", "number": 2805, "title": "bbox vertical flip is not handled correctly when aug test", "user": {"login": "asdiuzd", "id": 16054767, "node_id": "MDQ6VXNlcjE2MDU0NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/16054767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asdiuzd", "html_url": "https://github.com/asdiuzd", "followers_url": "https://api.github.com/users/asdiuzd/followers", "following_url": "https://api.github.com/users/asdiuzd/following{/other_user}", "gists_url": "https://api.github.com/users/asdiuzd/gists{/gist_id}", "starred_url": "https://api.github.com/users/asdiuzd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asdiuzd/subscriptions", "organizations_url": "https://api.github.com/users/asdiuzd/orgs", "repos_url": "https://api.github.com/users/asdiuzd/repos", "events_url": "https://api.github.com/users/asdiuzd/events{/privacy}", "received_events_url": "https://api.github.com/users/asdiuzd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xvjiarui", "id": 18479688, "node_id": "MDQ6VXNlcjE4NDc5Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/18479688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvjiarui", "html_url": "https://github.com/xvjiarui", "followers_url": "https://api.github.com/users/xvjiarui/followers", "following_url": "https://api.github.com/users/xvjiarui/following{/other_user}", "gists_url": "https://api.github.com/users/xvjiarui/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvjiarui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvjiarui/subscriptions", "organizations_url": "https://api.github.com/users/xvjiarui/orgs", "repos_url": "https://api.github.com/users/xvjiarui/repos", "events_url": "https://api.github.com/users/xvjiarui/events{/privacy}", "received_events_url": "https://api.github.com/users/xvjiarui/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-24T08:53:26Z", "updated_at": "2020-06-07T07:37:53Z", "closed_at": "2020-06-07T07:37:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The vertical flip process is the same as the horizontal flip.\r\nIf I set random vertical flip, bbox transform in mmdet/core/bbox/transforms.py handle the vertical flip via horizontal flip.\r\n\r\ndef bbox_flip(bboxes, img_shape):\r\n    \"\"\"Flip bboxes horizontally.\r\n\r\n    Args:\r\n        bboxes(Tensor or ndarray): Shape (..., 4*k)\r\n        img_shape(tuple): Image shape.\r\n\r\n    Returns:\r\n        Same type as `bboxes`: Flipped bboxes.\r\n    \"\"\"\r\n    if isinstance(bboxes, torch.Tensor):\r\n        assert bboxes.shape[-1] % 4 == 0\r\n        flipped = bboxes.clone()\r\n        flipped[:, 0::4] = img_shape[1] - bboxes[:, 2::4]\r\n        flipped[:, 2::4] = img_shape[1] - bboxes[:, 0::4]\r\n        return flipped\r\n    elif isinstance(bboxes, np.ndarray):\r\n        return mmcv.bbox_flip(bboxes, img_shape)\r\n\r\n\r\ndef bbox_mapping(bboxes, img_shape, scale_factor, flip):\r\n    \"\"\"Map bboxes from the original image scale to testing scale\"\"\"\r\n    new_bboxes = bboxes * bboxes.new_tensor(scale_factor)\r\n    if flip:\r\n        new_bboxes = bbox_flip(new_bboxes, img_shape)\r\n    return new_bboxes\r\n\r\n\r\ndef bbox_mapping_back(bboxes, img_shape, scale_factor, flip):\r\n    \"\"\"Map bboxes from testing scale to original image scale\"\"\"\r\n    new_bboxes = bbox_flip(bboxes, img_shape) if flip else bboxes\r\n    scale_factor = new_bboxes.new_tensor(scale_factor)\r\n    new_bboxes = (new_bboxes.view(new_bboxes.size(0), -1, 4) / scale_factor).view(\r\n        new_bboxes.size()[0], -1)\r\n    # print(new_bboxes.shape, new_bboxes.new_tensor(scale_factor))\r\n    # new_bboxes = new_bboxes / new_bboxes.new_tensor(scale_factor)\r\n    return new_bboxes\r\n\r\n\r\nI find another bbox transform in mmdet/datasets/pipelines/transforms.py is correct.\r\n\r\ndef bbox_flip(self, bboxes, img_shape, direction):\r\n        \"\"\"Flip bboxes horizontally.\r\n\r\n        Args:\r\n            bboxes(ndarray): shape (..., 4*k)\r\n            img_shape(tuple): (height, width)\r\n        \"\"\"\r\n        assert bboxes.shape[-1] % 4 == 0\r\n        flipped = bboxes.copy()\r\n        if direction == 'horizontal':\r\n            w = img_shape[1]\r\n            flipped[..., 0::4] = w - bboxes[..., 2::4]\r\n            flipped[..., 2::4] = w - bboxes[..., 0::4]\r\n        elif direction == 'vertical':\r\n            h = img_shape[0]\r\n            flipped[..., 1::4] = h - bboxes[..., 3::4]\r\n            flipped[..., 3::4] = h - bboxes[..., 1::4]\r\n        else:\r\n            raise ValueError(f\"Invalid flipping direction '{direction}'\")\r\n        return flipped", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2734", "id": 619366009, "node_id": "MDU6SXNzdWU2MTkzNjYwMDk=", "number": 2734, "title": "IndexError in pycocotools", "user": {"login": "Tord-Zhang", "id": 18326098, "node_id": "MDQ6VXNlcjE4MzI2MDk4", "avatar_url": "https://avatars.githubusercontent.com/u/18326098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tord-Zhang", "html_url": "https://github.com/Tord-Zhang", "followers_url": "https://api.github.com/users/Tord-Zhang/followers", "following_url": "https://api.github.com/users/Tord-Zhang/following{/other_user}", "gists_url": "https://api.github.com/users/Tord-Zhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tord-Zhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tord-Zhang/subscriptions", "organizations_url": "https://api.github.com/users/Tord-Zhang/orgs", "repos_url": "https://api.github.com/users/Tord-Zhang/repos", "events_url": "https://api.github.com/users/Tord-Zhang/events{/privacy}", "received_events_url": "https://api.github.com/users/Tord-Zhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2020-05-16T03:21:42Z", "updated_at": "2020-05-20T07:17:45Z", "closed_at": "2020-05-19T07:53:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Describe the bug**\r\nWhen running the image_demo.py, I get an error about numpy index.\r\n\r\n**Reproduction**\r\n```\r\npython demo/image_demo.py demo/demo.jpg configs/mask_rcnn/mask_rcnn_r50_fpn_1x_coco.py     checkpoints/mask_rcnn_r50_fpn_1x_coco_20200205-d4b0c5d6.pth --device cpu\r\n\r\n```\r\n\r\n**Environment**\r\n\r\n`ys.platform: linux\r\nPython: 3.7.4 (default, Aug 13 2019, 20:35:49) [GCC 7.3.0]\r\nCUDA available: True\r\nCUDA_HOME: /usr/local/cuda\r\nNVCC: Cuda compilation tools, release 10.0, V10.0.130\r\nGPU 0: GeForce GTX 1080 Ti\r\nGCC: gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609\r\nPyTorch: 1.4.0\r\nPyTorch compiling details: PyTorch built with:\r\n  - GCC 7.3\r\n  - Intel(R) Math Kernel Library Version 2019.0.4 Product Build 20190411 for Intel(R) 64 architecture applications\r\n  - Intel(R) MKL-DNN v0.21.1 (Git Hash 7d2fd500bc78936d1d648ca713b901012f470dbc)\r\n  - OpenMP 201511 (a.k.a. OpenMP 4.5)\r\n  - NNPACK is enabled\r\n  - CUDA Runtime 10.1\r\n  - NVCC architecture flags: -gencode;arch=compute_37,code=sm_37;-gencode;arch=compute_50,code=sm_50;-gencode;arch=compute_60,code=sm_60;-gencode;arch=compute_61,code=sm_61;-gencode;arch=compute_70,code=sm_70;-gencode;arch=compute_75,code=sm_75;-gencode;arch=compute_37,code=compute_37\r\n  - CuDNN 7.6.3\r\n  - Magma 2.5.1\r\n  - Build settings: BLAS=MKL, BUILD_NAMEDTENSOR=OFF, BUILD_TYPE=Release, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -DUSE_FBGEMM -DUSE_QNNPACK -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Wno-stringop-overflow, DISABLE_NUMA=1, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, USE_CUDA=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=ON, USE_MKLDNN=ON, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=ON, USE_OPENMP=ON, USE_STATIC_DISPATCH=OFF, \r\n\r\nTorchVision: 0.5.0\r\nOpenCV: 4.2.0\r\nMMCV: 0.5.4\r\nMMDetection: 2.0.0+unknown\r\nMMDetection Compiler: GCC 5.4\r\nMMDetection CUDA Compiler: 10.0\r\n\r\n**Error traceback**\r\n```\r\nTraceback (most recent call last):\r\n  File \"demo/image_demo.py\", line 26, in <module>\r\n    main()\r\n  File \"demo/image_demo.py\", line 22, in main\r\n    show_result_pyplot(model, args.img, result, score_thr=args.score_thr)\r\n  File \"/root/mmdetection-master/mmdet/apis/inference.py\", line 146, in show_result_pyplot\r\n    img = model.show_result(img, result, score_thr=score_thr, show=False)\r\n  File \"/root/mmdetection-master/mmdet/models/detectors/base.py\", line 211, in show_result\r\n    mask = maskUtils.decode(segms[i]).astype(np.bool)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/pycocotools-2.0-py3.7-linux-x86_64.egg/pycocotools/mask.py\", line 91, in decode\r\n    return _mask.decode([rleObjs])[:,:,0]\r\n  File \"pycocotools/_mask.pyx\", line 146, in pycocotools._mask.decode\r\n  File \"pycocotools/_mask.pyx\", line 128, in pycocotools._mask._frString\r\nIndexError: only integers, slices (`:`), ellipsis (`...`), numpy.newaxis (`None`) and integer or boolean arrays are valid indices\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2379", "id": 592574440, "node_id": "MDU6SXNzdWU1OTI1NzQ0NDA=", "number": 2379, "title": "reppoints_moment_r101_dcn_fpn_2x.pth seems not match reppoints_moment_r101_dcn_fpn_2x.py", "user": {"login": "hyz-xmaster", "id": 46875969, "node_id": "MDQ6VXNlcjQ2ODc1OTY5", "avatar_url": "https://avatars.githubusercontent.com/u/46875969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyz-xmaster", "html_url": "https://github.com/hyz-xmaster", "followers_url": "https://api.github.com/users/hyz-xmaster/followers", "following_url": "https://api.github.com/users/hyz-xmaster/following{/other_user}", "gists_url": "https://api.github.com/users/hyz-xmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyz-xmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyz-xmaster/subscriptions", "organizations_url": "https://api.github.com/users/hyz-xmaster/orgs", "repos_url": "https://api.github.com/users/hyz-xmaster/repos", "events_url": "https://api.github.com/users/hyz-xmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/hyz-xmaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-02T11:55:55Z", "updated_at": "2020-08-13T09:27:55Z", "closed_at": "2020-08-13T09:27:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for producing this great toolbox. \r\n\r\n**Describe the bug**\r\n\r\nI have tested the **reppoints_moment_r101_dcn_fpn_2x.py** with the model **reppoints_moment_r101_dcn_fpn_2x.pth** (https://github.com/open-mmlab/mmdetection/tree/master/configs/reppoints) on COCO Val2017, but found that the results (see below) do not match the reported 43.0 mAP. \r\n\r\n**reppoints_moment_r101_**dcn**_fpn_2x**\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = **0.056** \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.095 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.057 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.012 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.052 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.122 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.109 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.161 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.164 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.023 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.119 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.354 \r\n\r\nBTW, I have also run the **reppoints_moment_r101_dcn_fpn_2x_mt** and **reppoints_moment_r101_fpn_2x,** whose results match the reported ones. \r\n\r\n**reppoints_moment_r101_dcn_fpn_2x_mt** \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.447 \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.656 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.487 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.281 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.495 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.588 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.358 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.569 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.603 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.423 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.651 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.759 \r\n\r\n **reppoints_moment_r101_fpn_2x** \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.403 \r\nAverage Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.610 \r\nAverage Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.435 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.232 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.446 \r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.524 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.334 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.537 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.570 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.366 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.614 \r\nAverage Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.722 \r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n`python tools/test.py configs/reppoints/reppoints_moment_r101_dcn_fpn_2x.py checkpoints/reppoints_moment_r101_dcn_fpn_2x.pth --eval bbox`\r\n\r\n2. What dataset did you use?\r\n MS COCO Val2017\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2379/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2122", "id": 568237781, "node_id": "MDU6SXNzdWU1NjgyMzc3ODE=", "number": 2122, "title": "Error in inferencing HTC dconv_c3-c5", "user": {"login": "meghanakanapaneni", "id": 30812554, "node_id": "MDQ6VXNlcjMwODEyNTU0", "avatar_url": "https://avatars.githubusercontent.com/u/30812554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meghanakanapaneni", "html_url": "https://github.com/meghanakanapaneni", "followers_url": "https://api.github.com/users/meghanakanapaneni/followers", "following_url": "https://api.github.com/users/meghanakanapaneni/following{/other_user}", "gists_url": "https://api.github.com/users/meghanakanapaneni/gists{/gist_id}", "starred_url": "https://api.github.com/users/meghanakanapaneni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meghanakanapaneni/subscriptions", "organizations_url": "https://api.github.com/users/meghanakanapaneni/orgs", "repos_url": "https://api.github.com/users/meghanakanapaneni/repos", "events_url": "https://api.github.com/users/meghanakanapaneni/events{/privacy}", "received_events_url": "https://api.github.com/users/meghanakanapaneni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-20T11:34:44Z", "updated_at": "2020-03-14T04:56:06Z", "closed_at": "2020-03-14T04:56:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Facing error in dconv_c3-c5 model. The error is attached below.\r\nI think the problem is with the config file(Config file : configs/htc/htc_dconv_c3-c5_mstrain_400_1400_x101_64x4d_fpn_20e.py). Can you please help me with this?\r\n<img width=\"666\" alt=\"Screenshot 2020-02-20 at 5 05 23 PM\" src=\"https://user-images.githubusercontent.com/30812554/74930295-43f53580-5403-11ea-96e8-9d58f9a6c517.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/2115", "id": 567134197, "node_id": "MDU6SXNzdWU1NjcxMzQxOTc=", "number": 2115, "title": "Validation fails if there are no ignored boxes", "user": {"login": "melikovk", "id": 7233896, "node_id": "MDQ6VXNlcjcyMzM4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7233896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melikovk", "html_url": "https://github.com/melikovk", "followers_url": "https://api.github.com/users/melikovk/followers", "following_url": "https://api.github.com/users/melikovk/following{/other_user}", "gists_url": "https://api.github.com/users/melikovk/gists{/gist_id}", "starred_url": "https://api.github.com/users/melikovk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melikovk/subscriptions", "organizations_url": "https://api.github.com/users/melikovk/orgs", "repos_url": "https://api.github.com/users/melikovk/repos", "events_url": "https://api.github.com/users/melikovk/events{/privacy}", "received_events_url": "https://api.github.com/users/melikovk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-18T20:18:46Z", "updated_at": "2020-02-19T02:37:50Z", "closed_at": "2020-02-19T02:37:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nTraining encounters error during validation step if there are no ignored gt bboxes.\r\nOn line 179 in mean_ap.py\r\ngt_bboxes = np.vstack((gt_bboxes, gt_bboxes_ignore))\r\n\r\n**Bug fix**\r\n\r\nThis error is due to the bug on Line 261 in function get_cls_results\r\n\r\ncls_gts_ignore.append(np.array((0,4),  dtype=np.float32)) \r\n\r\nThis line append an array [0,4  ] of shape (2,), when empty array of shape (0,4) is expected.\r\nThe following substitution fixes the issue:\r\n\r\ncls_gts_ignore.append(np.empty((0, 4), dtype=np.float32))\r\n\r\nThank you.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/2115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1775", "id": 534780472, "node_id": "MDU6SXNzdWU1MzQ3ODA0NzI=", "number": 1775, "title": "why can't run testing on GPU 1\uff1f", "user": {"login": "johnnylecy", "id": 19411086, "node_id": "MDQ6VXNlcjE5NDExMDg2", "avatar_url": "https://avatars.githubusercontent.com/u/19411086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnnylecy", "html_url": "https://github.com/johnnylecy", "followers_url": "https://api.github.com/users/johnnylecy/followers", "following_url": "https://api.github.com/users/johnnylecy/following{/other_user}", "gists_url": "https://api.github.com/users/johnnylecy/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnnylecy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnnylecy/subscriptions", "organizations_url": "https://api.github.com/users/johnnylecy/orgs", "repos_url": "https://api.github.com/users/johnnylecy/repos", "events_url": "https://api.github.com/users/johnnylecy/events{/privacy}", "received_events_url": "https://api.github.com/users/johnnylecy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-12-09T08:53:55Z", "updated_at": "2020-02-16T11:49:02Z", "closed_at": "2020-02-16T11:49:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are 2 GPU in my computer. I run testing on GPU0\uff0ceverything is normal. But I run testing on GPU1\uff0cI got a error as follow. \r\nI use High-level APIs for testing images like this:\r\n    gpu_id = 1\r\n    device_id = 'cuda:' + str(gpu_id)\r\n    net = init_detector(config_file, checkpoint_file, device=device_id)\r\n    ... ...\r\n   predict_result = inference_detector(net, im_file)\r\n\r\nsomeone can help me, please? Thank you.\r\nerror:\r\nTHCudaCheck FAIL file=/pytorch/aten/src/THC/THCGeneral.cpp line=371 error=77 : an illegal memory access was encountered0:09,  2.57it/s]\r\nProcess Process-1:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/multiprocessing/process.py\", line 258, in _bootstrap\r\n    self.run()\r\n  File \"/opt/conda/lib/python3.6/multiprocessing/process.py\", line 93, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"evaluate_rcnn_base_mulscale_with_clsfy_mulprocess-4_stride_half.py\", line 263, in eval_net\r\n    evaluate(net, sub_dir, img_name, img_result_dir, det_result_txt)\r\n  File \"evaluate_rcnn_base_mulscale_with_clsfy_mulprocess-4_stride_half.py\", line 202, in evaluate\r\n    predict_result = inference_detector(net, im_file)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/apis/inference.py\", line 86, in inference_detector\r\n    result = model(return_loss=False, rescale=True, **data)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/core/fp16/decorators.py\", line 49, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/models/detectors/base.py\", line 119, in forward\r\n    return self.forward_test(img, img_meta, **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/models/detectors/base.py\", line 102, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/models/detectors/two_stage.py\", line 273, in simple_test\r\n    x, img_meta, proposal_list, self.test_cfg.rcnn, rescale=rescale)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/models/detectors/test_mixins.py\", line 49, in simple_test_bboxes\r\n    x[:len(self.bbox_roi_extractor.featmap_strides)], rois)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/core/fp16/decorators.py\", line 127, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/data/nas/workspace/jupyter/mmdetection-master/mmdet/models/roi_extractors/single_level.py\", line 106, in forward\r\n    roi_feats[inds] = roi_feats_t\r\nRuntimeError: cuda runtime error (77) : an illegal memory access was encountered at /pytorch/aten/src/THC/THCGeneral.cpp:371\r\nterminate called after throwing an instance of 'c10::Error'\r\n  what():  CUDA error: an illegal memory access was encountered (insert_events at /pytorch/c10/cuda/CUDACachingAllocator.cpp:569)\r\nframe #0: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x33 (0x7fb69c895813 in /opt/conda/lib/python3.6/site-packages/torch/lib/libc10.so)\r\nframe #1: <unknown function> + 0x16126 (0x7fb69eaeb126 in /opt/conda/lib/python3.6/site-packages/torch/lib/libc10_cuda.so)\r\nframe #2: <unknown function> + 0x16b11 (0x7fb69eaebb11 in /opt/conda/lib/python3.6/site-packages/torch/lib/libc10_cuda.so)\r\nframe #3: c10::TensorImpl::release_resources() + 0x4d (0x7fb69c885f0d in /opt/conda/lib/python3.6/site-packages/torch/lib/libc10.so)\r\nframe #4: <unknown function> + 0x4af752 (0x7fb68a3f6752 in /opt/conda/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\nframe #5: <unknown function> + 0x4af796 (0x7fb68a3f6796 in /opt/conda/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\n<omitting python frames>\r\nframe #50: __libc_start_main + 0xf5 (0x7fb6b1428b15 in /lib64/libc.so.6)", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1775/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1649", "id": 520245454, "node_id": "MDU6SXNzdWU1MjAyNDU0NTQ=", "number": 1649, "title": "Shuffle=True in build data loader", "user": {"login": "defqoon", "id": 20665707, "node_id": "MDQ6VXNlcjIwNjY1NzA3", "avatar_url": "https://avatars.githubusercontent.com/u/20665707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/defqoon", "html_url": "https://github.com/defqoon", "followers_url": "https://api.github.com/users/defqoon/followers", "following_url": "https://api.github.com/users/defqoon/following{/other_user}", "gists_url": "https://api.github.com/users/defqoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/defqoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/defqoon/subscriptions", "organizations_url": "https://api.github.com/users/defqoon/orgs", "repos_url": "https://api.github.com/users/defqoon/repos", "events_url": "https://api.github.com/users/defqoon/events{/privacy}", "received_events_url": "https://api.github.com/users/defqoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-11-08T21:37:49Z", "updated_at": "2019-11-25T09:23:56Z", "closed_at": "2019-11-25T09:23:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n1) When setting `shuffle=True` inb the non distributed training case, the `build_dataloader` function crashes. Because of `sampler = GroupSampler(dataset, imgs_per_gpu) if shuffle else None`, when `shuffle=True` the sampler is defined and pytorch dataloader cannot have both. \r\n\r\n2) more importantly, because of that logic, in non distributed training, the sampler is None and there is no shuffling which means that the training data is fed to the network in a deterministic fashion (which is really bad if the classes are not uniformly distributed in your dataset for example). \r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\npython train.py ../configs/faster_rcnn_r50_fpn_1x.py\r\n```\r\n\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\nIn `mmdet/apis/train.py`, line 203\" in the `_non_dist_train` function:\r\n```\r\n    data_loaders = [\r\n        build_dataloader(\r\n            ds,\r\n            cfg.data.imgs_per_gpu,\r\n            cfg.data.workers_per_gpu,\r\n            cfg.gpus,\r\n            dist=False,\r\n            shuffle=True) for ds in dataset\r\n    ]\r\n```\r\n\r\n3. What dataset did you use?\r\n`coco2017`\r\n\r\n**Environment**\r\n- provided docker image\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nValueError: sampler option is mutually exclusive with shuffle\r\n```\r\n\r\n**Bug fix**\r\nI can write the PR asap. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1582", "id": 511962324, "node_id": "MDU6SXNzdWU1MTE5NjIzMjQ=", "number": 1582, "title": "minIOURandomCrop transorm is possibly buggy", "user": {"login": "korabelnikov", "id": 3808833, "node_id": "MDQ6VXNlcjM4MDg4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3808833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/korabelnikov", "html_url": "https://github.com/korabelnikov", "followers_url": "https://api.github.com/users/korabelnikov/followers", "following_url": "https://api.github.com/users/korabelnikov/following{/other_user}", "gists_url": "https://api.github.com/users/korabelnikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/korabelnikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/korabelnikov/subscriptions", "organizations_url": "https://api.github.com/users/korabelnikov/orgs", "repos_url": "https://api.github.com/users/korabelnikov/repos", "events_url": "https://api.github.com/users/korabelnikov/events{/privacy}", "received_events_url": "https://api.github.com/users/korabelnikov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-10-24T13:55:31Z", "updated_at": "2021-07-15T03:52:48Z", "closed_at": "2021-07-15T03:52:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/open-mmlab/mmdetection/blob/d88ad8fc32a6cce46c72619a16b85226360a7ba2/mmdet/datasets/pipelines/transforms.py#L584\r\n\r\n1) docstring is wrong.\r\n2) Seems like such transformation may cause errors because may produce patch of various aspect ratios that will be resized to one on standard formats (VOC/COCO). \r\nSimply: vertical rectangle may become horizontal and vice-versa. Generally it's wrong and it's better to crop patch of same aspect ratio as full image.\r\n\r\nI can prepare PR if someone interested", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1566", "id": 509818138, "node_id": "MDU6SXNzdWU1MDk4MTgxMzg=", "number": 1566, "title": "Bug: wrong keyword in htc.", "user": {"login": "WangChuanYuan", "id": 31656547, "node_id": "MDQ6VXNlcjMxNjU2NTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/31656547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WangChuanYuan", "html_url": "https://github.com/WangChuanYuan", "followers_url": "https://api.github.com/users/WangChuanYuan/followers", "following_url": "https://api.github.com/users/WangChuanYuan/following{/other_user}", "gists_url": "https://api.github.com/users/WangChuanYuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/WangChuanYuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WangChuanYuan/subscriptions", "organizations_url": "https://api.github.com/users/WangChuanYuan/orgs", "repos_url": "https://api.github.com/users/WangChuanYuan/repos", "events_url": "https://api.github.com/users/WangChuanYuan/events{/privacy}", "received_events_url": "https://api.github.com/users/WangChuanYuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-21T08:43:16Z", "updated_at": "2019-10-24T00:31:27Z", "closed_at": "2019-10-24T00:31:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a slip of pen in the simple_test of htc.\r\nIn line 345, the keyword argument 'nms_cfg' should be cfg.\r\n[line 345 in htc](https://github.com/open-mmlab/mmdetection/blob/618dca0895f5f4ede19f5feebb064648e128e12e/mmdet/models/detectors/htc.py#L345)", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1501", "id": 503268734, "node_id": "MDU6SXNzdWU1MDMyNjg3MzQ=", "number": 1501, "title": "TypeError: object of type 'DataContainer' has no len()", "user": {"login": "prakharg24", "id": 20368770, "node_id": "MDQ6VXNlcjIwMzY4Nzcw", "avatar_url": "https://avatars.githubusercontent.com/u/20368770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prakharg24", "html_url": "https://github.com/prakharg24", "followers_url": "https://api.github.com/users/prakharg24/followers", "following_url": "https://api.github.com/users/prakharg24/following{/other_user}", "gists_url": "https://api.github.com/users/prakharg24/gists{/gist_id}", "starred_url": "https://api.github.com/users/prakharg24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prakharg24/subscriptions", "organizations_url": "https://api.github.com/users/prakharg24/orgs", "repos_url": "https://api.github.com/users/prakharg24/repos", "events_url": "https://api.github.com/users/prakharg24/events{/privacy}", "received_events_url": "https://api.github.com/users/prakharg24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZwwWayne", "id": 40779233, "node_id": "MDQ6VXNlcjQwNzc5MjMz", "avatar_url": "https://avatars.githubusercontent.com/u/40779233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZwwWayne", "html_url": "https://github.com/ZwwWayne", "followers_url": "https://api.github.com/users/ZwwWayne/followers", "following_url": "https://api.github.com/users/ZwwWayne/following{/other_user}", "gists_url": "https://api.github.com/users/ZwwWayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZwwWayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZwwWayne/subscriptions", "organizations_url": "https://api.github.com/users/ZwwWayne/orgs", "repos_url": "https://api.github.com/users/ZwwWayne/repos", "events_url": "https://api.github.com/users/ZwwWayne/events{/privacy}", "received_events_url": "https://api.github.com/users/ZwwWayne/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-10-07T07:04:52Z", "updated_at": "2021-07-17T08:10:00Z", "closed_at": "2020-08-19T06:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed the Docker image as mentioned in install.md and then tried testing the Faster RCNN model using the instructions provided in Getting_started.md\r\n\r\nI ran the following code\r\n```\r\npython tools/test.py configs/faster_rcnn_r50_fpn_1x.py checkpoints/faster_rcnn_r50_fpn_1x_20181010-3d1b3351.pth --show\r\n```\r\n\r\nI got the following output\r\n```\r\nloading annotations into memory...\r\nDone (t=0.59s)\r\ncreating index...\r\nindex created!\r\n[                                                  ] 0/5000, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"tools/test.py\", line 224, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 184, in main\r\n    outputs = single_gpu_test(model, data_loader, args.show)\r\n  File \"tools/test.py\", line 26, in single_gpu_test\r\n    result = model(return_loss=False, rescale=not show, **data)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/data_parallel.py\", line 140, in forward\r\n    return self.module(*inputs, **kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/mmdetection/mmdet/core/fp16/decorators.py\", line 49, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/mmdetection/mmdet/models/detectors/base.py\", line 88, in forward\r\n    return self.forward_test(img, img_meta, **kwargs)\r\n  File \"/mmdetection/mmdet/models/detectors/base.py\", line 79, in forward_test\r\n    return self.simple_test(imgs[0], img_metas[0], **kwargs)\r\n  File \"/mmdetection/mmdet/models/detectors/two_stage.py\", line 231, in simple_test\r\n    x, img_meta, self.test_cfg.rpn) if proposals is None else proposals\r\n  File \"/mmdetection/mmdet/models/detectors/test_mixins.py\", line 10, in simple_test_rpn\r\n    proposal_list = self.rpn_head.get_bboxes(*proposal_inputs)\r\n  File \"/mmdetection/mmdet/core/fp16/decorators.py\", line 127, in new_func\r\n    return old_func(*args, **kwargs)\r\n  File \"/mmdetection/mmdet/models/anchor_heads/anchor_head.py\", line 216, in get_bboxes\r\n    for img_id in range(len(img_metas)):\r\nTypeError: object of type 'DataContainer' has no len()\r\n```\r\n\r\nI have downloaded the checkpoint file and saved it in the checkpoints folder as mentioned above. I have also downloaded the COCO data and placed it in the directory as instructed in install.md\r\n\r\nI am not able to understand the exact reason of the error.\r\nWhat I can say is that this term is causing the error,\r\n```\r\nlen(img_metas)\r\n```\r\n\r\nSo I just printed the object right before where the error is caused\r\n```\r\nprint(img_metas)\r\n```\r\nand I got the output\r\n```\r\nDataContainer([[{'filename': 'data/coco/val2017/000000397133.jpg', 'ori_shape': (427, 640, 3), 'img_shape': (800, 1199, 3), 'pad_shape': (800, 1216, 3), 'scale_factor': 1.873536299765808, 'flip': False, 'img_norm_cfg': {'mean': array([123.675, 116.28 , 103.53 ], dtype=float32), 'std': array([58.395, 57.12 , 57.375], dtype=float32), 'to_rgb': True}}]])\r\n```\r\nif this helps in any way.\r\n\r\nPlease help me understand the error.\r\nThank you", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1489", "id": 501872678, "node_id": "MDU6SXNzdWU1MDE4NzI2Nzg=", "number": 1489, "title": "Random corp doesn't include in Semantc seg pipeline therefore not consistent", "user": {"login": "joeythegod", "id": 32563367, "node_id": "MDQ6VXNlcjMyNTYzMzY3", "avatar_url": "https://avatars.githubusercontent.com/u/32563367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeythegod", "html_url": "https://github.com/joeythegod", "followers_url": "https://api.github.com/users/joeythegod/followers", "following_url": "https://api.github.com/users/joeythegod/following{/other_user}", "gists_url": "https://api.github.com/users/joeythegod/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeythegod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeythegod/subscriptions", "organizations_url": "https://api.github.com/users/joeythegod/orgs", "repos_url": "https://api.github.com/users/joeythegod/repos", "events_url": "https://api.github.com/users/joeythegod/events{/privacy}", "received_events_url": "https://api.github.com/users/joeythegod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-10-03T06:09:03Z", "updated_at": "2019-12-27T11:58:32Z", "closed_at": "2019-12-27T11:58:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the transform.py, SegResizeFlipPadRescale will do the same thing that training image did, but when we apply random crop, the semantic seg won't change, therefor the shape will meet an error.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1438", "id": 497023777, "node_id": "MDU6SXNzdWU0OTcwMjM3Nzc=", "number": 1438, "title": "Why ga_shape_target_single() return (None,) *6", "user": {"login": "gyfastas", "id": 35861032, "node_id": "MDQ6VXNlcjM1ODYxMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/35861032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gyfastas", "html_url": "https://github.com/gyfastas", "followers_url": "https://api.github.com/users/gyfastas/followers", "following_url": "https://api.github.com/users/gyfastas/following{/other_user}", "gists_url": "https://api.github.com/users/gyfastas/gists{/gist_id}", "starred_url": "https://api.github.com/users/gyfastas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gyfastas/subscriptions", "organizations_url": "https://api.github.com/users/gyfastas/orgs", "repos_url": "https://api.github.com/users/gyfastas/repos", "events_url": "https://api.github.com/users/gyfastas/events{/privacy}", "received_events_url": "https://api.github.com/users/gyfastas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "hellock", "id": 9102141, "node_id": "MDQ6VXNlcjkxMDIxNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/9102141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hellock", "html_url": "https://github.com/hellock", "followers_url": "https://api.github.com/users/hellock/followers", "following_url": "https://api.github.com/users/hellock/following{/other_user}", "gists_url": "https://api.github.com/users/hellock/gists{/gist_id}", "starred_url": "https://api.github.com/users/hellock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hellock/subscriptions", "organizations_url": "https://api.github.com/users/hellock/orgs", "repos_url": "https://api.github.com/users/hellock/repos", "events_url": "https://api.github.com/users/hellock/events{/privacy}", "received_events_url": "https://api.github.com/users/hellock/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hellock", "id": 9102141, "node_id": "MDQ6VXNlcjkxMDIxNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/9102141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hellock", "html_url": "https://github.com/hellock", "followers_url": "https://api.github.com/users/hellock/followers", "following_url": "https://api.github.com/users/hellock/following{/other_user}", "gists_url": "https://api.github.com/users/hellock/gists{/gist_id}", "starred_url": "https://api.github.com/users/hellock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hellock/subscriptions", "organizations_url": "https://api.github.com/users/hellock/orgs", "repos_url": "https://api.github.com/users/hellock/repos", "events_url": "https://api.github.com/users/hellock/events{/privacy}", "received_events_url": "https://api.github.com/users/hellock/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-09-23T10:48:23Z", "updated_at": "2019-12-23T07:54:36Z", "closed_at": "2019-12-23T07:54:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got ValueError:not enough values to unpack(expected 5)  whe using ga_shape_target_single(), and found that \r\n`if not inside_flags.any(): return (None,) *6` but I notice that this function returns a 5-tuple in `inside_flags.any()=True` case.  ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1308", "id": 487466505, "node_id": "MDU6SXNzdWU0ODc0NjY1MDU=", "number": 1308, "title": "HTC memory grows also after closing issue#1185", "user": {"login": "michaelyyq", "id": 16754788, "node_id": "MDQ6VXNlcjE2NzU0Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/16754788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelyyq", "html_url": "https://github.com/michaelyyq", "followers_url": "https://api.github.com/users/michaelyyq/followers", "following_url": "https://api.github.com/users/michaelyyq/following{/other_user}", "gists_url": "https://api.github.com/users/michaelyyq/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelyyq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelyyq/subscriptions", "organizations_url": "https://api.github.com/users/michaelyyq/orgs", "repos_url": "https://api.github.com/users/michaelyyq/repos", "events_url": "https://api.github.com/users/michaelyyq/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelyyq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "AronLin", "id": 29054582, "node_id": "MDQ6VXNlcjI5MDU0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/29054582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AronLin", "html_url": "https://github.com/AronLin", "followers_url": "https://api.github.com/users/AronLin/followers", "following_url": "https://api.github.com/users/AronLin/following{/other_user}", "gists_url": "https://api.github.com/users/AronLin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AronLin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AronLin/subscriptions", "organizations_url": "https://api.github.com/users/AronLin/orgs", "repos_url": "https://api.github.com/users/AronLin/repos", "events_url": "https://api.github.com/users/AronLin/events{/privacy}", "received_events_url": "https://api.github.com/users/AronLin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-30T12:49:49Z", "updated_at": "2021-08-14T12:28:19Z", "closed_at": "2021-08-14T12:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "reopen the #1185 \r\n\r\nThe GPU memory grows anyway. The size of epoch_3 is 561.1MB\uff0c after stopping, resumming the checkpoint and training one epoch more, the size of epoch_4 becomes 934.3MB\uff0cwhile epoch_5 is 1.02GB correspondingly. I checkout the checkpoint '*.pth' file\uff0c let variable weight be the dict loaded from the file, I find that the length of weight['optimizer']['state'] become bigger and bigger when I resume the checkpoint and save it.  After some trials, I guess that the 'momentum_buffer' in weight['optimizer']['state'] become more and more while training proceeds, because the length of \r\nweight['optimizer']['state'] changes from 208 of epoch_3 to 862 of epoch and each of the weight['optimizer']['state'] is a large tensor named 'momentum_buffer'.\r\n\r\nI don't find the same problem when I train MS RCNN model with the same dataset.\r\nI don't know why the 'momentum_buffer' become more while training and make gpus memory leak even without mstrain.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1254", "id": 484940395, "node_id": "MDU6SXNzdWU0ODQ5NDAzOTU=", "number": 1254, "title": "KeyError: 'filename' running simple inference example", "user": {"login": "scasasso", "id": 5080849, "node_id": "MDQ6VXNlcjUwODA4NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5080849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scasasso", "html_url": "https://github.com/scasasso", "followers_url": "https://api.github.com/users/scasasso/followers", "following_url": "https://api.github.com/users/scasasso/following{/other_user}", "gists_url": "https://api.github.com/users/scasasso/gists{/gist_id}", "starred_url": "https://api.github.com/users/scasasso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scasasso/subscriptions", "organizations_url": "https://api.github.com/users/scasasso/orgs", "repos_url": "https://api.github.com/users/scasasso/repos", "events_url": "https://api.github.com/users/scasasso/events{/privacy}", "received_events_url": "https://api.github.com/users/scasasso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-25T14:55:05Z", "updated_at": "2019-08-25T15:58:49Z", "closed_at": "2019-08-25T15:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nafter successful installation, I am trying to go through the inference example in:\r\nhttps://github.com/open-mmlab/mmdetection/blob/master/docs/GETTING_STARTED.md#high-level-apis-for-testing-images\r\n\r\nHowever, at line:\r\n```python\r\nresult = inference_detector(model, img)\r\n```\r\n\r\nI get:\r\n```python\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-1-8b1fc4b49116> in <module>\r\n     10 # test a single image and show the results\r\n     11 img = 'test.jpg'  # or img = mmcv.imread(img), which will only load it once\r\n---> 12 result = inference_detector(model, img)\r\n\r\n~/Kaggle/open_images_2019_object_detection/mmdetection/mmdet/apis/inference.py in inference_detector(model, img)\r\n     75     # prepare data\r\n     76     data = dict(img=img)\r\n---> 77     data = test_pipeline(data)\r\n     78     data = scatter(collate([data], samples_per_gpu=1), [device])[0]\r\n     79     # forward the model\r\n\r\n~/Kaggle/open_images_2019_object_detection/mmdetection/mmdet/datasets/pipelines/compose.py in __call__(self, data)\r\n     22     def __call__(self, data):\r\n     23         for t in self.transforms:\r\n---> 24             data = t(data)\r\n     25             if data is None:\r\n     26                 return None\r\n\r\n~/Kaggle/open_images_2019_object_detection/mmdetection/mmdet/datasets/pipelines/test_aug.py in __call__(self, results)\r\n     23                 _results['scale'] = scale\r\n     24                 _results['flip'] = flip\r\n---> 25                 data = self.transforms(_results)\r\n     26                 aug_data.append(data)\r\n     27         # list of dict to dict of list\r\n\r\n~/Kaggle/open_images_2019_object_detection/mmdetection/mmdet/datasets/pipelines/compose.py in __call__(self, data)\r\n     22     def __call__(self, data):\r\n     23         for t in self.transforms:\r\n---> 24             data = t(data)\r\n     25             if data is None:\r\n     26                 return None\r\n\r\n~/Kaggle/open_images_2019_object_detection/mmdetection/mmdet/datasets/pipelines/formating.py in __call__(self, results)\r\n    147         img_meta = {}\r\n    148         for key in self.meta_keys:\r\n--> 149             img_meta[key] = results[key]\r\n    150         data['img_meta'] = DC(img_meta, cpu_only=True)\r\n    151         for key in self.keys:\r\n\r\nKeyError: 'filename'\r\n```\r\n\r\nAny idea what may cause this?\r\n\r\nThanks!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1253", "id": 484933856, "node_id": "MDU6SXNzdWU0ODQ5MzM4NTY=", "number": 1253, "title": "TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'", "user": {"login": "ZenFSheng", "id": 49142984, "node_id": "MDQ6VXNlcjQ5MTQyOTg0", "avatar_url": "https://avatars.githubusercontent.com/u/49142984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZenFSheng", "html_url": "https://github.com/ZenFSheng", "followers_url": "https://api.github.com/users/ZenFSheng/followers", "following_url": "https://api.github.com/users/ZenFSheng/following{/other_user}", "gists_url": "https://api.github.com/users/ZenFSheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZenFSheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZenFSheng/subscriptions", "organizations_url": "https://api.github.com/users/ZenFSheng/orgs", "repos_url": "https://api.github.com/users/ZenFSheng/repos", "events_url": "https://api.github.com/users/ZenFSheng/events{/privacy}", "received_events_url": "https://api.github.com/users/ZenFSheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-08-25T13:50:41Z", "updated_at": "2021-05-26T06:33:25Z", "closed_at": "2021-05-26T06:33:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS & Env\uff1a\r\nUbuntu 16.04.6\r\n64G memory\r\n4*GTX1080Ti\uff0810G\uff09\r\nPython 3.7.3\r\nGCC 5.4.0\r\nPyTorch  1.1.0 \uff08install with pip\uff09\r\nCUDA 10.1\r\n\r\n\r\nExcuse me, I use custom dataset to train.\r\nwhen I run the command `python tools/train.py configs/cascade_rcnn_r101_fpn_1x.py`  got an error below.\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 108, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 104, in main\r\n    logger=logger)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/apis/train.py\", line 60, in train_detector\r\n    _non_dist_train(model, dataset, cfg, validate=validate)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/apis/train.py\", line 221, in _non_dist_train\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/home/les/anaconda3/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 358, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/les/anaconda3/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 260, in train\r\n    for i, data_batch in enumerate(data_loader):\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 819, in __next__\r\n    return self._process_data(data)\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 846, in _process_data\r\n    data.reraise()\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/_utils.py\", line 369, in reraise\r\n    raise self.exc_type(msg)\r\nTypeError: Caught TypeError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/custom.py\", line 145, in __getitem__\r\n    data = self.prepare_train_img(idx)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/custom.py\", line 158, in prepare_train_img\r\n    return self.pipeline(results)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/compose.py\", line 24, in __call__\r\n    data = t(data)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/transforms.py\", line 152, in __call__\r\n    self._resize_bboxes(results)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/transforms.py\", line 125, in _resize_bboxes\r\n    bboxes = results[key] * results['scale_factor']\r\nTypeError: can't multiply sequence by non-int of type 'float'\r\n```\r\nI think it's because that my annotation is json file, the bboxes and labels are not numpy array. So I modified function `load_annotations` in `custom.py`.\r\n```\r\n    def load_annotations(self, ann_file):\r\n        if ann_file.endswith('.json'):\r\n            print('Using json format annotation.')\r\n            ann = mmcv.load(ann_file)\r\n            for item in ann:\r\n                item['ann']['bboxes'] = np.array(item['ann']['bboxes'], dtype=np.float32)\r\n                item['ann']['labels'] = np.array(item['ann']['labels'], dtype=np.int64)\r\n            return ann\r\n        else:\r\n            print('Using pickle format annotation.')\r\n            return mmcv.load(ann_file) \r\n```\r\n\r\nThen I run command `python tools/train.py configs/cascade_rcnn_r101_fpn_1x.py` again. The error becomes as follows: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 108, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 104, in main\r\n    logger=logger)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/apis/train.py\", line 60, in train_detector\r\n    _non_dist_train(model, dataset, cfg, validate=validate)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/apis/train.py\", line 221, in _non_dist_train\r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)\r\n  File \"/home/les/anaconda3/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 358, in run\r\n    epoch_runner(data_loaders[i], **kwargs)\r\n  File \"/home/les/anaconda3/lib/python3.7/site-packages/mmcv/runner/runner.py\", line 260, in train\r\n    for i, data_batch in enumerate(data_loader):\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 819, in __next__\r\n    return self._process_data(data)\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 846, in _process_data\r\n    data.reraise()\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/_utils.py\", line 369, in reraise\r\n    raise self.exc_type(msg)\r\nTypeError: Caught TypeError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/les/.local/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/custom.py\", line 158, in __getitem__\r\n    data = self.prepare_train_img(idx)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/custom.py\", line 171, in prepare_train_img\r\n    return self.pipeline(results)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/compose.py\", line 24, in __call__\r\n    data = t(data)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/transforms.py\", line 152, in __call__\r\n    self._resize_bboxes(results)\r\n  File \"/media/les/30a40184-b063-4ff9-9cba-6afcca5669b8/sheng_zf/mmdetection/mmdet/datasets/pipelines/transforms.py\", line 125, in _resize_bboxes\r\n    bboxes = results[key] * results['scale_factor']\r\nTypeError: unsupported operand type(s) for *: 'NoneType' and 'float'\r\n```\r\nI paste one slice of my annotations, hope it will be helpful for analysis.\r\n\r\n```\r\n   {\r\n      \"filename\": \"000002b66c9c498e.jpg\",\r\n      \"width\": 1024,\r\n      \"height\": 1024,\r\n      \"ann\": {\r\n         \"bboxes\": [\r\n            [\r\n               974.719970703125,\r\n               277.6135559082031,\r\n               1023.3599853515625,\r\n               736.7802734375\r\n            ],\r\n            [\r\n               797.4400024414062,\r\n               280.4951171875,\r\n               935.6799926757812,\r\n               549.4630126953125\r\n            ],\r\n            [\r\n               321.2799987792969,\r\n               94.13836669921875,\r\n               419.8399963378906,\r\n               294.90484619140625\r\n            ],\r\n            [\r\n               456.32000732421875,\r\n               158.49880981445312,\r\n               688.6400146484375,\r\n               205.5679931640625\r\n            ],\r\n            [\r\n               1015.0399780273438,\r\n               178.67161560058594,\r\n               1023.3599853515625,\r\n               199.804931640625\r\n            ],\r\n            [\r\n               580.47998046875,\r\n               66.2814712524414,\r\n               948.47998046875,\r\n               1009.59130859375\r\n            ],\r\n            [\r\n               816.0,\r\n               160.4198455810547,\r\n               974.719970703125,\r\n               210.37158203125\r\n            ],\r\n            [\r\n               807.6799926757812,\r\n               203.64697265625,\r\n               855.0399780273438,\r\n               278.5740661621094\r\n            ],\r\n            [\r\n               712.3200073242188,\r\n               121.03577423095703,\r\n               805.1199951171875,\r\n               304.50994873046875\r\n            ],\r\n            [\r\n               0.0,\r\n               109.50860595703125,\r\n               39.040000915527344,\r\n               223.8197784423828\r\n            ],\r\n            [\r\n               60.15999984741211,\r\n               146.97164916992188,\r\n               230.39999389648438,\r\n               192.11981201171875\r\n            ],\r\n            [\r\n               237.44000244140625,\r\n               145.05062866210938,\r\n               289.9200134277344,\r\n               243.0320587158203\r\n            ],\r\n            [\r\n               21.760000228881836,\r\n               161.38035583496094,\r\n               126.72000122070312,\r\n               324.6827392578125\r\n            ],\r\n            [\r\n               452.4800109863281,\r\n               172.90853881835938,\r\n               478.7200012207031,\r\n               249.75564575195312\r\n            ]\r\n         ],\r\n         \"labels\": [\r\n            339,\r\n            339,\r\n            327,\r\n            327,\r\n            327,\r\n            199,\r\n            327,\r\n            327,\r\n            327,\r\n            327,\r\n            327,\r\n            327,\r\n            339,\r\n            339\r\n         ],\r\n         \"bboxes_ignore\": null,\r\n         \"labels_ignore\": null\r\n      }\r\n   },\r\n``` ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1241", "id": 483976982, "node_id": "MDU6SXNzdWU0ODM5NzY5ODI=", "number": 1241, "title": "Error when using the faster_rcnn_fpn_attention_1111_dcn_1x.py with the fp16 mode.", "user": {"login": "runzeer", "id": 14292495, "node_id": "MDQ6VXNlcjE0MjkyNDk1", "avatar_url": "https://avatars.githubusercontent.com/u/14292495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/runzeer", "html_url": "https://github.com/runzeer", "followers_url": "https://api.github.com/users/runzeer/followers", "following_url": "https://api.github.com/users/runzeer/following{/other_user}", "gists_url": "https://api.github.com/users/runzeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/runzeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/runzeer/subscriptions", "organizations_url": "https://api.github.com/users/runzeer/orgs", "repos_url": "https://api.github.com/users/runzeer/repos", "events_url": "https://api.github.com/users/runzeer/events{/privacy}", "received_events_url": "https://api.github.com/users/runzeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-22T12:53:45Z", "updated_at": "2021-05-23T07:16:28Z", "closed_at": "2021-05-23T07:16:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**Reproduction**\r\n1. What command or script did you run?\r\n```\r\nA placeholder for the command.\r\n```\r\n2. Did you make any modifications on the code or config? Did you understand what you have modified?\r\n3. What dataset did you use?\r\n\r\n**Environment**\r\n - OS: [e.g., Ubuntu 16.04.6]\r\n - GCC [e.g., 5.4.0]\r\n - PyTorch version [e.g., 1.1.0]\r\n- How you installed PyTorch [e.g., pip, conda, source]\r\n- GPU model [e.g., 1080Ti, V100]\r\n- CUDA and CUDNN version\r\n- [optional] Other information that may be related (such as `$PATH`, `$LD_LIBRARY_PATH`, `$PYTHONPATH`, etc.)\r\n\r\n**Error traceback**\r\nIf applicable, paste the error trackback here.\r\n```\r\nA placeholder for trackback.\r\n```\r\n\r\n**Bug fix**\r\nIf you have already identified the reason, you can provide the information here. If you are willing to create a PR to fix it, please also leave a comment here and that would be much appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1229", "id": 483375035, "node_id": "MDU6SXNzdWU0ODMzNzUwMzU=", "number": 1229, "title": "CustomDataset bboxes are changed during training.", "user": {"login": "Ilya-Krylov", "id": 5610108, "node_id": "MDQ6VXNlcjU2MTAxMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5610108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ilya-Krylov", "html_url": "https://github.com/Ilya-Krylov", "followers_url": "https://api.github.com/users/Ilya-Krylov/followers", "following_url": "https://api.github.com/users/Ilya-Krylov/following{/other_user}", "gists_url": "https://api.github.com/users/Ilya-Krylov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ilya-Krylov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ilya-Krylov/subscriptions", "organizations_url": "https://api.github.com/users/Ilya-Krylov/orgs", "repos_url": "https://api.github.com/users/Ilya-Krylov/repos", "events_url": "https://api.github.com/users/Ilya-Krylov/events{/privacy}", "received_events_url": "https://api.github.com/users/Ilya-Krylov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-08-21T11:55:02Z", "updated_at": "2019-08-24T15:23:07Z", "closed_at": "2019-08-24T15:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "CustomDataset bboxes are changed during training at least because of Expand augmentation as they are mutable.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1223", "id": 482862037, "node_id": "MDU6SXNzdWU0ODI4NjIwMzc=", "number": 1223, "title": "assert len(indices) == self.total_size error during multiple GPU training", "user": {"login": "FilipLangr", "id": 24609298, "node_id": "MDQ6VXNlcjI0NjA5Mjk4", "avatar_url": "https://avatars.githubusercontent.com/u/24609298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FilipLangr", "html_url": "https://github.com/FilipLangr", "followers_url": "https://api.github.com/users/FilipLangr/followers", "following_url": "https://api.github.com/users/FilipLangr/following{/other_user}", "gists_url": "https://api.github.com/users/FilipLangr/gists{/gist_id}", "starred_url": "https://api.github.com/users/FilipLangr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FilipLangr/subscriptions", "organizations_url": "https://api.github.com/users/FilipLangr/orgs", "repos_url": "https://api.github.com/users/FilipLangr/repos", "events_url": "https://api.github.com/users/FilipLangr/events{/privacy}", "received_events_url": "https://api.github.com/users/FilipLangr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-08-20T13:29:36Z", "updated_at": "2019-09-25T07:35:44Z", "closed_at": "2019-09-25T07:35:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to train my dataset on 8 GPU's. However, after calling `./dist_train.sh` this error assertion appeares:\r\n\r\nTraceback (most recent call last):                \r\n  File \"./tools/train.py\", line 113, in <module>  \r\n    main()               \r\n  File \"./tools/train.py\", line 109, in main      \r\n    logger=logger)       \r\n  File \"/mmdetection/mmdet/apis/train.py\", line 58, in train_detector                                \r\n    _dist_train(model, dataset, cfg, validate=validate)                                              \r\n  File \"/mmdetection/mmdet/apis/train.py\", line 186, in _dist_train                                  \r\n    runner.run(data_loaders, cfg.workflow, cfg.total_epochs)                                         \r\n  File \"/opt/conda/lib/python3.6/site-packages/mmcv/runner/runner.py\", line 358, in run\r\n    epoch_runner(data_loaders[i], **kwargs)       \r\n  File \"/opt/conda/lib/python3.6/site-packages/mmcv/runner/runner.py\", line 260, in train\r\n    for i, data_batch in enumerate(data_loader):  \r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 193, in __iter__    return _DataLoaderIter(self)                  \r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 493, in __init__\r\n    self._put_indices()  \r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 591, in _put_indices\r\n    indices = next(self.sample_iter, None)        \r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/data/sampler.py\", line 172, in __iter__\r\n    for idx in self.sampler:                      \r\n  File \"/mmdetection/mmdet/datasets/loader/sampler.py\", line 138, in __iter__                        \r\n    assert len(indices) == self.total_size        \r\n...\r\n\r\nin the config I tried various values for `imgs_per_gpu` and `workers_per_gpu`, currently it is:\r\n`imgs_per_gpu=2,\r\nworkers_per_gpu=2,`\r\nno settings was working though. Single-GPU training works well.\r\n\r\nWhat is the meaning of this assert?\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1030", "id": 470263956, "node_id": "MDU6SXNzdWU0NzAyNjM5NTY=", "number": 1030, "title": "When resize_keep_ratio is False, rescaling for masks does not work.", "user": {"login": "wangg12", "id": 9958446, "node_id": "MDQ6VXNlcjk5NTg0NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/9958446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangg12", "html_url": "https://github.com/wangg12", "followers_url": "https://api.github.com/users/wangg12/followers", "following_url": "https://api.github.com/users/wangg12/following{/other_user}", "gists_url": "https://api.github.com/users/wangg12/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangg12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangg12/subscriptions", "organizations_url": "https://api.github.com/users/wangg12/orgs", "repos_url": "https://api.github.com/users/wangg12/repos", "events_url": "https://api.github.com/users/wangg12/events{/privacy}", "received_events_url": "https://api.github.com/users/wangg12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-19T10:51:52Z", "updated_at": "2019-07-27T09:38:44Z", "closed_at": "2019-07-27T09:38:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for your error report and we appreciate it a lot.\r\n\r\n**Checklist**\r\n1. I have searched related issues but cannot get the expected help.\r\n2. The bug has not been fixed in the latest version.\r\n\r\n**Describe the bug**\r\n\r\nWhen `resize_keep_ratio=False`, rescaling for masks in loading the dataset will not work. The error is:\r\n```\r\nScale must be a number or tuple of int, but got <class 'numpy.ndarray'>\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/1007", "id": 468551039, "node_id": "MDU6SXNzdWU0Njg1NTEwMzk=", "number": 1007, "title": "Maybe certain bugs exists in the RoIPool cuda source file \"roi_pool_kernel.cu\"", "user": {"login": "mangwang", "id": 9106240, "node_id": "MDQ6VXNlcjkxMDYyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/9106240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mangwang", "html_url": "https://github.com/mangwang", "followers_url": "https://api.github.com/users/mangwang/followers", "following_url": "https://api.github.com/users/mangwang/following{/other_user}", "gists_url": "https://api.github.com/users/mangwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/mangwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mangwang/subscriptions", "organizations_url": "https://api.github.com/users/mangwang/orgs", "repos_url": "https://api.github.com/users/mangwang/repos", "events_url": "https://api.github.com/users/mangwang/events{/privacy}", "received_events_url": "https://api.github.com/users/mangwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-16T09:38:52Z", "updated_at": "2020-08-11T07:06:11Z", "closed_at": "2020-08-11T07:05:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I change the `roi_layer` from `dict(type='RoIAlign', out_size=14, sample_num=2)` to `dict(type='RoIPool', out_size=14)` in the config file \"faster_rcnn_r50_caffe_c4_1x.py\" and remain other settings unchanged, there will be a cuda memory error occurs, which shows:\r\n\r\n> THCudaCheck FAIL file=/pytorch/aten/src/THC/THCCachingHostAllocator.cpp line=265 error=77 : an illegal memory access was encountered\r\n\r\nWhile if I switch to the Torchvision RoIPool by setting `roi_layer=dict(type='RoIPool', out_size=14, use_torchvision=True)`, there would be no errors.\r\n\r\nThus I guess there maybe certain bugs exists in the RoIPool cuda source file, could you please double check it? Thanks.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/1007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/837", "id": 458336573, "node_id": "MDU6SXNzdWU0NTgzMzY1NzM=", "number": 837, "title": "when i use ohem.RuntimeError", "user": {"login": "GYxiaOH", "id": 26561924, "node_id": "MDQ6VXNlcjI2NTYxOTI0", "avatar_url": "https://avatars.githubusercontent.com/u/26561924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GYxiaOH", "html_url": "https://github.com/GYxiaOH", "followers_url": "https://api.github.com/users/GYxiaOH/followers", "following_url": "https://api.github.com/users/GYxiaOH/following{/other_user}", "gists_url": "https://api.github.com/users/GYxiaOH/gists{/gist_id}", "starred_url": "https://api.github.com/users/GYxiaOH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GYxiaOH/subscriptions", "organizations_url": "https://api.github.com/users/GYxiaOH/orgs", "repos_url": "https://api.github.com/users/GYxiaOH/repos", "events_url": "https://api.github.com/users/GYxiaOH/events{/privacy}", "received_events_url": "https://api.github.com/users/GYxiaOH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-06-20T04:18:32Z", "updated_at": "2020-10-13T07:51:05Z", "closed_at": "2019-06-21T04:53:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i use ohem,it will show\r\n....\r\n File \"/search/odin/hongyuan/mmdetection-master/mmdet/core/bbox/samplers/ohem_sampler.py\", line 40, in hard_mining\r\n    _, topk_loss_inds = loss.topk(num_expected)\r\nRuntimeError: invalid argument 5: k not in range for dimension at /pytorch/aten/src/THC/generic/THCTensorTopK.cu:21\r\nwhen I use old version of mmdetection, the problem will not apper", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/837/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/824", "id": 457264921, "node_id": "MDU6SXNzdWU0NTcyNjQ5MjE=", "number": 824, "title": "Question about losses in the latest version", "user": {"login": "jylins", "id": 20221338, "node_id": "MDQ6VXNlcjIwMjIxMzM4", "avatar_url": "https://avatars.githubusercontent.com/u/20221338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jylins", "html_url": "https://github.com/jylins", "followers_url": "https://api.github.com/users/jylins/followers", "following_url": "https://api.github.com/users/jylins/following{/other_user}", "gists_url": "https://api.github.com/users/jylins/gists{/gist_id}", "starred_url": "https://api.github.com/users/jylins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jylins/subscriptions", "organizations_url": "https://api.github.com/users/jylins/orgs", "repos_url": "https://api.github.com/users/jylins/repos", "events_url": "https://api.github.com/users/jylins/events{/privacy}", "received_events_url": "https://api.github.com/users/jylins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhcao6", "id": 22662425, "node_id": "MDQ6VXNlcjIyNjYyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/22662425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhcao6", "html_url": "https://github.com/yhcao6", "followers_url": "https://api.github.com/users/yhcao6/followers", "following_url": "https://api.github.com/users/yhcao6/following{/other_user}", "gists_url": "https://api.github.com/users/yhcao6/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhcao6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhcao6/subscriptions", "organizations_url": "https://api.github.com/users/yhcao6/orgs", "repos_url": "https://api.github.com/users/yhcao6/repos", "events_url": "https://api.github.com/users/yhcao6/events{/privacy}", "received_events_url": "https://api.github.com/users/yhcao6/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-18T05:14:02Z", "updated_at": "2019-06-21T16:26:18Z", "closed_at": "2019-06-21T04:53:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the latest version, the losses set the mode of 'reduction' since initialization and it would result in some problems when we need sort losses, such as OHEM.\r\n```python\r\n@LOSSES.register_module\r\nclass CrossEntropyLoss(nn.Module):\r\n\r\n    def __init__(self,\r\n                 use_sigmoid=False,\r\n                 use_mask=False,\r\n                 reduction='mean',\r\n                 loss_weight=1.0):\r\n        super(CrossEntropyLoss, self).__init__()\r\n        ...\r\n\r\n    def forward(self, cls_score, label, weight=None, avg_factor=None,\r\n                **kwargs):\r\n        loss_cls = self.loss_weight * self.cls_criterion(\r\n            cls_score,\r\n            label,\r\n            weight,\r\n            reduction=self.reduction,  # it would result in some problems \r\n            avg_factor=avg_factor,\r\n            **kwargs)\r\n        return loss_cls\r\n```\r\nAnd I also find a bug in `mmdet/models/bbox_heads/bbox_head.py`.\r\n```python\r\ndef loss(self,\r\n         cls_score,\r\n         bbox_pred,\r\n         labels,\r\n         label_weights,\r\n         bbox_targets,\r\n         bbox_weights,\r\n         reduce=True):\r\n    losses = dict()\r\n    if cls_score is not None:\r\n        # TODO: when reduce == False\r\n        avg_factor = max(torch.sum(label_weights > 0).float().item(), 1.)\r\n        losses['loss_cls'] = self.loss_cls(\r\n            cls_score, labels, label_weights, avg_factor=avg_factor)\r\n        losses['acc'] = accuracy(cls_score, labels)\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/462", "id": 428583496, "node_id": "MDU6SXNzdWU0Mjg1ODM0OTY=", "number": 462, "title": "train error\uff1astruct.error: 'i' format requires -2147483648 <= number <= 2147483647", "user": {"login": "xiaoxiongli", "id": 13975044, "node_id": "MDQ6VXNlcjEzOTc1MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/13975044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoxiongli", "html_url": "https://github.com/xiaoxiongli", "followers_url": "https://api.github.com/users/xiaoxiongli/followers", "following_url": "https://api.github.com/users/xiaoxiongli/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoxiongli/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoxiongli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoxiongli/subscriptions", "organizations_url": "https://api.github.com/users/xiaoxiongli/orgs", "repos_url": "https://api.github.com/users/xiaoxiongli/repos", "events_url": "https://api.github.com/users/xiaoxiongli/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoxiongli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-04-03T06:12:32Z", "updated_at": "2021-04-19T03:24:17Z", "closed_at": "2021-04-19T03:24:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "2019-04-03 12:31:36,869 - INFO - Epoch [1][1600/4948]   lr: 0.02000, eta: 1 day, 1:12:43, time: 1.704, data_time: 0.855, loss_rpn_cls: 0.0640, loss_rpn_reg: 0.0370, s0.loss_cls: 0.2357, s0.acc: 92.2437, s0.loss_reg: 0.1221, s0.loss_mask: 0.2930, s1.loss_cls: 0.1102, s1.acc: 92.6602, s1.loss_reg: 0.1240, s1.loss_mask: 0.1231, s2.loss_cls: 0.0539, s2.acc: 92.6199, s2.loss_reg: 0.0676, s2.loss_mask: 0.0513, loss: 1.2820\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.conda/envs/pytorch1.0_py3.6/lib/python3.6/multiprocessing/queues.py\", line 240, in _feed\r\n    send_bytes(obj)\r\n  File \"/home/ubuntu/.conda/envs/pytorch1.0_py3.6/lib/python3.6/multiprocessing/connection.py\", line 200, in send_bytes\r\n    self._send_bytes(m[offset:offset + size])\r\n  File \"/home/ubuntu/.conda/envs/pytorch1.0_py3.6/lib/python3.6/multiprocessing/connection.py\", line 393, in _send_bytes\r\n    header = struct.pack(\"!i\", n)\r\n**struct.error: 'i' format requires -2147483648 <= number <= 2147483647**\r\n\r\n\r\n\r\nAnyone who met this crash issue During training? \r\nPlease Help...\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/356", "id": 415977369, "node_id": "MDU6SXNzdWU0MTU5NzczNjk=", "number": 356, "title": "Error in modulated_deformable_col2im_cuda: invalid argument", "user": {"login": "gasvn", "id": 20515144, "node_id": "MDQ6VXNlcjIwNTE1MTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/20515144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gasvn", "html_url": "https://github.com/gasvn", "followers_url": "https://api.github.com/users/gasvn/followers", "following_url": "https://api.github.com/users/gasvn/following{/other_user}", "gists_url": "https://api.github.com/users/gasvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gasvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gasvn/subscriptions", "organizations_url": "https://api.github.com/users/gasvn/orgs", "repos_url": "https://api.github.com/users/gasvn/repos", "events_url": "https://api.github.com/users/gasvn/events{/privacy}", "received_events_url": "https://api.github.com/users/gasvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-01T07:34:31Z", "updated_at": "2019-04-17T05:39:53Z", "closed_at": "2019-04-17T05:39:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I met an error of when using the  deformable conv with a large image size.\r\nWhen the input image is larger than 1024x1024 (1, 512, 128, 128 for that layer), the ` invalid argument` error occurs. I think the reason for this error is that the pre-allocated memory space is not enough. But I not familiar with the Cuda program in pytorch, so I can't find a solution yet.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/260", "id": 399416058, "node_id": "MDU6SXNzdWUzOTk0MTYwNTg=", "number": 260, "title": "bug in ssd_head.py", "user": {"login": "bigpo", "id": 9010202, "node_id": "MDQ6VXNlcjkwMTAyMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9010202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bigpo", "html_url": "https://github.com/bigpo", "followers_url": "https://api.github.com/users/bigpo/followers", "following_url": "https://api.github.com/users/bigpo/following{/other_user}", "gists_url": "https://api.github.com/users/bigpo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bigpo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bigpo/subscriptions", "organizations_url": "https://api.github.com/users/bigpo/orgs", "repos_url": "https://api.github.com/users/bigpo/repos", "events_url": "https://api.github.com/users/bigpo/events{/privacy}", "received_events_url": "https://api.github.com/users/bigpo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-15T16:07:06Z", "updated_at": "2019-01-16T06:03:54Z", "closed_at": "2019-01-16T06:03:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this [line](https://github.com/open-mmlab/mmdetection/blob/432c33206465d2526b097c28de57aad48090b1b7/mmdet/models/anchor_heads/ssd_head.py#L147) should be `label_channels` @hellock ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/202", "id": 393821489, "node_id": "MDU6SXNzdWUzOTM4MjE0ODk=", "number": 202, "title": "Cascade mask rcnn visualization error", "user": {"login": "Curry1201", "id": 43410903, "node_id": "MDQ6VXNlcjQzNDEwOTAz", "avatar_url": "https://avatars.githubusercontent.com/u/43410903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Curry1201", "html_url": "https://github.com/Curry1201", "followers_url": "https://api.github.com/users/Curry1201/followers", "following_url": "https://api.github.com/users/Curry1201/following{/other_user}", "gists_url": "https://api.github.com/users/Curry1201/gists{/gist_id}", "starred_url": "https://api.github.com/users/Curry1201/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Curry1201/subscriptions", "organizations_url": "https://api.github.com/users/Curry1201/orgs", "repos_url": "https://api.github.com/users/Curry1201/repos", "events_url": "https://api.github.com/users/Curry1201/events{/privacy}", "received_events_url": "https://api.github.com/users/Curry1201/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-24T06:48:22Z", "updated_at": "2018-12-24T11:07:46Z", "closed_at": "2018-12-24T11:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "An error occurred while executing the visualization code.\r\npython3 tools/test.py configs/cascade_mask_rcnn_r50_fpn_1x.py checkpoints/cascade\\ mask\\ r-cnn/cascade_mask_rcnn_r50_fpn_1x_20181123-88b170c9.pth --show\r\n\r\npower@ubuntu:~/mmdetection$ python3 tools/test.py configs/cascade_mask_rcnn_r50_fpn_1x.py checkpoints/cascade\\ mask\\ r-cnn/cascade_mask_rcnn_r50_fpn_1x_20181123-88b170c9.pth --show\r\nloading annotations into memory...\r\nDone (t=0.46s)\r\ncreating index...\r\nindex created!\r\n[                              ] 0/5000, elapsed: 0s, ETA:Traceback (most recent call last):\r\n  File \"tools/test.py\", line 124, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 86, in main\r\n    outputs = single_test(model, data_loader, args.show)\r\n  File \"tools/test.py\", line 26, in single_test\r\n    dataset.CLASSES)\r\nTypeError: show_result() takes 4 positional arguments but 5 were given\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/92", "id": 376658275, "node_id": "MDU6SXNzdWUzNzY2NTgyNzU=", "number": 92, "title": "error while using coco tools to show results", "user": {"login": "aimhabo", "id": 12708080, "node_id": "MDQ6VXNlcjEyNzA4MDgw", "avatar_url": "https://avatars.githubusercontent.com/u/12708080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aimhabo", "html_url": "https://github.com/aimhabo", "followers_url": "https://api.github.com/users/aimhabo/followers", "following_url": "https://api.github.com/users/aimhabo/following{/other_user}", "gists_url": "https://api.github.com/users/aimhabo/gists{/gist_id}", "starred_url": "https://api.github.com/users/aimhabo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aimhabo/subscriptions", "organizations_url": "https://api.github.com/users/aimhabo/orgs", "repos_url": "https://api.github.com/users/aimhabo/repos", "events_url": "https://api.github.com/users/aimhabo/events{/privacy}", "received_events_url": "https://api.github.com/users/aimhabo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-11-02T03:40:29Z", "updated_at": "2020-07-23T13:22:19Z", "closed_at": "2018-11-13T09:17:39Z", "author_association": "NONE", "active_lock_reason": null, "body": ">     coco=COCO(annFile)\r\n>   File \"/home/wit/anaconda2/envs/py36/lib/python3.6/site-packages/pycocotools-2.0.0-py3.6-linux-x86_64.egg/pycocotools/coco.py\", line 85, in __init__\r\n>     assert type(dataset)==dict, 'annotation file format {} not supported'.format(type(dataset))\r\n> AssertionError: annotation file format <class 'list'> not supported\r\n> \r\n\r\nIt seems that the method of writing the results in test is not the same as the standard coco format, because it can still run normally when reading the training dataSet directly. \r\n\r\nI think the problem lies in the outermost brackets and should be in braces. There is no line break for the entire document, which makes it very complicated to fix.", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/92/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/91", "id": 376647537, "node_id": "MDU6SXNzdWUzNzY2NDc1Mzc=", "number": 91, "title": "Xavier_init bugs when normorlize is enable?", "user": {"login": "iceload123", "id": 30043508, "node_id": "MDQ6VXNlcjMwMDQzNTA4", "avatar_url": "https://avatars.githubusercontent.com/u/30043508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iceload123", "html_url": "https://github.com/iceload123", "followers_url": "https://api.github.com/users/iceload123/followers", "following_url": "https://api.github.com/users/iceload123/following{/other_user}", "gists_url": "https://api.github.com/users/iceload123/gists{/gist_id}", "starred_url": "https://api.github.com/users/iceload123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iceload123/subscriptions", "organizations_url": "https://api.github.com/users/iceload123/orgs", "repos_url": "https://api.github.com/users/iceload123/repos", "events_url": "https://api.github.com/users/iceload123/events{/privacy}", "received_events_url": "https://api.github.com/users/iceload123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-02T02:46:32Z", "updated_at": "2019-01-25T05:50:44Z", "closed_at": "2019-01-25T05:50:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "In fpn structure, the repo uses xavier_init for convs.\r\nHowever, when normorlize is enable (I try to use nn.GroupNorm), It produces error \"Nonetype object has no attribute fill_\".\r\nI found this occured when initializing bias which does not exist.\r\nIn face, it seems that in the model/utils/weight_init.py, the \"hasattr(module, 'bias')\" expression is always right\r\n", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/91/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/72", "id": 373439545, "node_id": "MDU6SXNzdWUzNzM0Mzk1NDU=", "number": 72, "title": "ERROR: assert hasattr(dataset, 'flag')", "user": {"login": "jwwangchn", "id": 18238763, "node_id": "MDQ6VXNlcjE4MjM4NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/18238763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwwangchn", "html_url": "https://github.com/jwwangchn", "followers_url": "https://api.github.com/users/jwwangchn/followers", "following_url": "https://api.github.com/users/jwwangchn/following{/other_user}", "gists_url": "https://api.github.com/users/jwwangchn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwwangchn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwwangchn/subscriptions", "organizations_url": "https://api.github.com/users/jwwangchn/orgs", "repos_url": "https://api.github.com/users/jwwangchn/repos", "events_url": "https://api.github.com/users/jwwangchn/events{/privacy}", "received_events_url": "https://api.github.com/users/jwwangchn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-24T11:41:37Z", "updated_at": "2018-10-24T20:05:20Z", "closed_at": "2018-10-24T20:05:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used the command \r\n> python tools/test.py configs/mask_rcnn_r50_fpn_1x.py weights/mask_rcnn_r50_fpn_1x_20181010-069fa190.pth --gpus 1 --out result.pkl \r\n\r\nto test the pretrained model. But I meet one error.  The output is\r\n\r\n> loading annotations into memory...\r\nDone (t=0.61s)\r\ncreating index...\r\nindex created!\r\nTraceback (most recent call last):\r\n  File \"tools/test.py\", line 114, in <module>\r\n    main()\r\n  File \"tools/test.py\", line 84, in main\r\n    shuffle=False)\r\n  File \"/home/jwwangchn/anaconda2/lib/python2.7/site-packages/mmdet/datasets/loader/build_loader.py\", line 28, in build_dataloader\r\n    sampler = GroupSampler(dataset, imgs_per_gpu)\r\n  File \"/home/jwwangchn/anaconda2/lib/python2.7/site-packages/mmdet/datasets/loader/sampler.py\", line 14, in __init__\r\n    assert hasattr(dataset, 'flag')\r\nAssertionError\r\n\r\n\r\nI have installed `mmcv 0.2.0` by source. I want to know how to solve this problem. ", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/72/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52", "repository_url": "https://api.github.com/repos/open-mmlab/mmdetection", "labels_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52/comments", "events_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52/events", "html_url": "https://github.com/open-mmlab/mmdetection/issues/52", "id": 372280591, "node_id": "MDU6SXNzdWUzNzIyODA1OTE=", "number": 52, "title": "BUG REPORT for convfc_bbox_head.py", "user": {"login": "whyguu", "id": 26961073, "node_id": "MDQ6VXNlcjI2OTYxMDcz", "avatar_url": "https://avatars.githubusercontent.com/u/26961073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whyguu", "html_url": "https://github.com/whyguu", "followers_url": "https://api.github.com/users/whyguu/followers", "following_url": "https://api.github.com/users/whyguu/following{/other_user}", "gists_url": "https://api.github.com/users/whyguu/gists{/gist_id}", "starred_url": "https://api.github.com/users/whyguu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whyguu/subscriptions", "organizations_url": "https://api.github.com/users/whyguu/orgs", "repos_url": "https://api.github.com/users/whyguu/repos", "events_url": "https://api.github.com/users/whyguu/events{/privacy}", "received_events_url": "https://api.github.com/users/whyguu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1031699761, "node_id": "MDU6TGFiZWwxMDMxNjk5NzYx", "url": "https://api.github.com/repos/open-mmlab/mmdetection/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-21T05:15:38Z", "updated_at": "2018-10-21T06:21:21Z", "closed_at": "2018-10-21T06:21:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "# AttributeError: 'ConvFCRoIHead' object has no attribute 'normalize'/'with_bias':\r\nwhen i change type of bbox_head in cfg from  'SharedFCRoIHead' to  'ConvFCRoIHead'. the above error occurs.\r\n\r\n# i add the two attribute like below and run pip install . the  error fixed.\r\n```python\r\nclass ConvFCRoIHead(BBoxHead):\r\n    \"\"\"More general bbox head, with shared conv and fc layers and two optional\r\n    separated branches.\r\n\r\n                                /-> cls convs -> cls fcs -> cls\r\n    shared convs -> shared fcs\r\n                                \\-> reg convs -> reg fcs -> reg\r\n    \"\"\"\r\n\r\n    def __init__(self,\r\n                 num_shared_convs=0,\r\n                 num_shared_fcs=0,\r\n                 num_cls_convs=0,\r\n                 num_cls_fcs=0,\r\n                 num_reg_convs=0,\r\n                 num_reg_fcs=0,\r\n                 conv_out_channels=256,\r\n                 fc_out_channels=1024,\r\n                 normalize=None,  #  add this line\r\n                 with_bias=False,  #  add this line\r\n                 *args,\r\n                 **kwargs):\r\n        super(ConvFCRoIHead, self).__init__(*args, **kwargs)\r\n        assert (num_shared_convs + num_shared_fcs + num_cls_convs + num_cls_fcs\r\n                + num_reg_convs + num_reg_fcs > 0)\r\n        if num_cls_convs > 0 or num_reg_convs > 0:\r\n            assert num_shared_fcs == 0\r\n        if not self.with_cls:\r\n            assert num_cls_convs == 0 and num_cls_fcs == 0\r\n        if not self.with_reg:\r\n            assert num_reg_convs == 0 and num_reg_fcs == 0\r\n        self.num_shared_convs = num_shared_convs\r\n        self.num_shared_fcs = num_shared_fcs\r\n        self.num_cls_convs = num_cls_convs\r\n        self.num_cls_fcs = num_cls_fcs\r\n        self.num_reg_convs = num_reg_convs\r\n        self.num_reg_fcs = num_reg_fcs\r\n        self.conv_out_channels = conv_out_channels\r\n        self.fc_out_channels = fc_out_channels\r\n        self.normalize = normalize  #  add this line\r\n        self.with_bias = with_bias   #  add this line\r\n   ```\r\n\r\n# below is a config example for 'ConvFCRoIHead' in bbox_head\r\n```python\r\nbbox_head=dict(\r\n        type='ConvFCRoIHead',\r\n        num_shared_convs=2,\r\n        num_shared_fcs=0,\r\n        num_cls_convs=1,\r\n        num_cls_fcs=2,\r\n        num_reg_convs=1,\r\n        num_reg_fcs=2,\r\n        conv_out_channels=256,\r\n        fc_out_channels=1024,\r\n        normalize={'type': 'BN'},\r\n        # BBoxHead\r\n        in_channels=256,\r\n        roi_feat_size=7,\r\n        num_classes=11,\r\n        target_means=[0., 0., 0., 0.],\r\n        target_stds=[0.1, 0.1, 0.2, 0.2],\r\n        reg_class_agnostic=False))\r\n```", "reactions": {"url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/open-mmlab/mmdetection/issues/52/timeline", "performed_via_github_app": null, "state_reason": "completed"}]