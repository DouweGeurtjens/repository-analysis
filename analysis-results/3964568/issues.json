[{"url": "https://api.github.com/repos/pallets/flask/issues/4355", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/4355/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/4355/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/4355/events", "html_url": "https://github.com/pallets/flask/issues/4355", "id": 1064233764, "node_id": "I_kwDOAAkbnM4_busk", "number": 4355, "title": "Async/await\uff0c read file error: greenlet.error: cannot switch to a different thread", "user": {"login": "woods-dev", "id": 70872417, "node_id": "MDQ6VXNlcjcwODcyNDE3", "avatar_url": "https://avatars.githubusercontent.com/u/70872417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woods-dev", "html_url": "https://github.com/woods-dev", "followers_url": "https://api.github.com/users/woods-dev/followers", "following_url": "https://api.github.com/users/woods-dev/following{/other_user}", "gists_url": "https://api.github.com/users/woods-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/woods-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woods-dev/subscriptions", "organizations_url": "https://api.github.com/users/woods-dev/orgs", "repos_url": "https://api.github.com/users/woods-dev/repos", "events_url": "https://api.github.com/users/woods-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/woods-dev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-11-26T08:54:57Z", "updated_at": "2022-01-07T00:03:52Z", "closed_at": "2021-12-23T00:36:53Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "\r\nWhen i try to read file on windows 10, it is work,\r\nbut i try to read file on linux, it is error:\r\n\r\nTraceback (most recent call last):\r\n  File \"***.py\", line 75, in decorated\r\n    return await func(*args, **kwargs)\r\n  File \"***.py\", line 42, in design\r\n    file = request.files.get('file').read().decode(encoding='UTF-8')\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/werkzeug/utils.py\", line 97, in __get__\r\n    value = self.fget(obj)  # type: ignore\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/werkzeug/wrappers/request.py\", line 499, in files\r\n    self._load_form_data()\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/flask/wrappers.py\", line 113, in _load_form_data\r\n    RequestBase._load_form_data(self)\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/werkzeug/wrappers/request.py\", line 285, in _load_form_data\r\n    data = parser.parse(\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/werkzeug/formparser.py\", line 265, in parse\r\n    return parse_func(self, stream, mimetype, content_length, options)\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/werkzeug/formparser.py\", line 150, in wrapper\r\n    chunk = stream.read(1024 * 64)\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/gevent/pywsgi.py\", line 320, in read\r\n    return self._do_read(length)\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/gevent/pywsgi.py\", line 182, in _do_read\r\n    read = reader(length)\r\n  File \"/data/Python/python396/lib/python3.9/socket.py\", line 704, in readinto\r\n    return self._sock.recv_into(b)\r\n  File \"/data/Python/python396/lib/python3.9/site-packages/gevent/_socketcommon.py\", line 693, in recv_into\r\n    self._wait(self._read_event)\r\n  File \"src/gevent/_hub_primitives.py\", line 317, in gevent._gevent_c_hub_primitives.wait_on_socket\r\n  File \"src/gevent/_hub_primitives.py\", line 322, in gevent._gevent_c_hub_primitives.wait_on_socket\r\n  File \"src/gevent/_hub_primitives.py\", line 304, in gevent._gevent_c_hub_primitives._primitive_wait\r\n  File \"src/gevent/_hub_primitives.py\", line 46, in gevent._gevent_c_hub_primitives.WaitOperationsGreenlet.wait\r\n  File \"src/gevent/_hub_primitives.py\", line 46, in gevent._gevent_c_hub_primitives.WaitOperationsGreenlet.wait\r\n  File \"src/gevent/_hub_primitives.py\", line 55, in gevent._gevent_c_hub_primitives.WaitOperationsGreenlet.wait\r\n  File \"src/gevent/_waiter.py\", line 154, in gevent._gevent_c_waiter.Waiter.get\r\n  File \"src/gevent/_greenlet_primitives.py\", line 61, in gevent._gevent_c_greenlet_primitives.SwitchOutGreenletWithLoop.switch\r\n  File \"src/gevent/_greenlet_primitives.py\", line 61, in gevent._gevent_c_greenlet_primitives.SwitchOutGreenletWithLoop.switch\r\n  File \"src/gevent/_greenlet_primitives.py\", line 65, in gevent._gevent_c_greenlet_primitives.SwitchOutGreenletWithLoop.switch\r\n  File \"src/gevent/_gevent_c_greenlet_primitives.pxd\", line 35, in gevent._gevent_c_greenlet_primitives._greenlet_switch\r\ngreenlet.error: cannot switch to a different thread\r\n\r\n\r\nEnvironment:\r\n    Linux vm10-62-3-2 4.4.0-62-generic #83-Ubuntu SMP Wed Jan 18 14:10:15 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nPython version: \r\n    python3.9.6\r\nFlask version:\r\n    flask2.0\r\nServer:\r\n    from gevent.pywsgi import WSGIServer\r\n    from geventwebsocket.handler import WebSocketHandler            \r\n    http_server = WSGIServer(('127.0.0.1', 5000), app, handler_class=WebSocketHandler)\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/4355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/4355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/4297", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/4297/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/4297/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/4297/events", "html_url": "https://github.com/pallets/flask/issues/4297", "id": 1019963198, "node_id": "I_kwDOAAkbnM48y2c-", "number": 4297, "title": "Blueprint.errorhandler restricts type of result function which avoids chaining", "user": {"login": "Kritzefitz", "id": 8547449, "node_id": "MDQ6VXNlcjg1NDc0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/8547449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kritzefitz", "html_url": "https://github.com/Kritzefitz", "followers_url": "https://api.github.com/users/Kritzefitz/followers", "following_url": "https://api.github.com/users/Kritzefitz/following{/other_user}", "gists_url": "https://api.github.com/users/Kritzefitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kritzefitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kritzefitz/subscriptions", "organizations_url": "https://api.github.com/users/Kritzefitz/orgs", "repos_url": "https://api.github.com/users/Kritzefitz/repos", "events_url": "https://api.github.com/users/Kritzefitz/events{/privacy}", "received_events_url": "https://api.github.com/users/Kritzefitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 2997785562, "node_id": "MDU6TGFiZWwyOTk3Nzg1NTYy", "url": "https://api.github.com/repos/pallets/flask/labels/typing", "name": "typing", "color": "6087FE", "default": false, "description": ""}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/13", "html_url": "https://github.com/pallets/flask/milestone/13", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/13/labels", "id": 6751980, "node_id": "MDk6TWlsZXN0b25lNjc1MTk4MA==", "number": 13, "title": "2.1.0", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-05-12T12:38:08Z", "updated_at": "2022-03-28T19:16:37Z", "due_on": null, "closed_at": "2022-03-28T19:16:37Z"}, "comments": 6, "created_at": "2021-10-07T12:03:29Z", "updated_at": "2022-03-30T00:04:54Z", "closed_at": "2022-03-15T15:37:17Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "In flask 2.0.1 it was possible to chain multiple uses of `Blueprint.errorhandler` as a decorator. In 2.0.2 the type of `Blueprint.errorhandler` is too strict to allow this. Let's assume you start out with a plain handler function of type `ErrorHandlerCallable[Exception]` or similar, applying `some_blueprint.errorhandler(SomeExceptionA)` to it, changes the type of the handler to `ErrorHandlerCallable[SomeExceptionA]`. Applying `some_blueprint.errorHandler(SomeExceptionB)` is now no longer possible, because it expects a `ErrorHandlerCallable[SomeExceptionB]` which the existing error handler cannot fullfill.\r\n\r\nConsider this example program:\r\n\r\n```Python\r\nfrom flask import Blueprint\r\n\r\nblueprint = Blueprint('example', __name__)\r\n\r\nclass ExceptionA(Exception):\r\n    pass\r\n\r\nclass ExceptionB(Exception):\r\n    pass\r\n\r\n@blueprint.errorhandler(ExceptionB)\r\n@blueprint.errorhandler(ExceptionA)\r\ndef error(e):\r\n    return \"example\"\r\n```\r\n\r\nwith flask 2.0.1 this typechecked, with flask 2.0.2 I get the following error:\r\n\r\n```\r\n$ mypy test.py\r\ntest.py:11: error: Argument 1 has incompatible type \"ErrorHandlerCallable[ExceptionA]\"; expected \"ErrorHandlerCallable[ExceptionB]\"\r\nFound 1 error in 1 file (checked 1 source file)\r\n```\r\n\r\nI would expect this example to work in 2.0.2 just as well as it did in 2.0.1.\r\n\r\nI think the semantically most correct way to fix this, would be to to give `errorhandler` a type smilar to `Callable[[SomeOtherGenericException], Callable[[ErrorHandlerCallable[GenericException]], ErrorHandlerCallable[GenericException]]` where `SomeOtherGenericException` would be a type variable that would always need to be a subtype of `GenericException`, but I am not sure if Python's type system can express relations between type variables like that.\r\n\r\nEnvironment:\r\n\r\n- Python version: 3.9.7\r\n- Flask version: 2.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/4297/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/4297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/4295", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/4295/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/4295/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/4295/events", "html_url": "https://github.com/pallets/flask/issues/4295", "id": 1019220823, "node_id": "I_kwDOAAkbnM48wBNX", "number": 4295, "title": "error handler type check fails", "user": {"login": "delicb", "id": 131180, "node_id": "MDQ6VXNlcjEzMTE4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/131180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delicb", "html_url": "https://github.com/delicb", "followers_url": "https://api.github.com/users/delicb/followers", "following_url": "https://api.github.com/users/delicb/following{/other_user}", "gists_url": "https://api.github.com/users/delicb/gists{/gist_id}", "starred_url": "https://api.github.com/users/delicb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delicb/subscriptions", "organizations_url": "https://api.github.com/users/delicb/orgs", "repos_url": "https://api.github.com/users/delicb/repos", "events_url": "https://api.github.com/users/delicb/events{/privacy}", "received_events_url": "https://api.github.com/users/delicb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/17", "html_url": "https://github.com/pallets/flask/milestone/17", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/17/labels", "id": 7397362, "node_id": "MI_kwDOAAkbnM4AcN_y", "number": 17, "title": "2.0.3", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2021-11-15T21:06:52Z", "updated_at": "2022-02-14T20:01:36Z", "due_on": null, "closed_at": "2022-02-14T20:01:36Z"}, "comments": 6, "created_at": "2021-10-06T21:01:05Z", "updated_at": "2022-03-15T15:37:01Z", "closed_at": "2021-11-15T21:37:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "In my project, I had the same situation as described in #4095 and my workaround was the same (casting exception to appropriate type). Reading release notes for Flask 2.0.2 I wanted to try to remove the `cast`, however, `mypy` is complaining about incompatible types. \r\n\r\nThe example I am using is:\r\n```python\r\n    # other stuff omitted for brevity, e.g. log initialization, import jsonify, etc\r\n    from flask.typing import ResponseReturnValue\r\n\r\n    @app.errorhandler(Exception)\r\n    def handle_any_exception(e: Exception) -> ResponseReturnValue:\r\n        \"\"\"\r\n        Base exception handler, just log an exception and return 500\r\n        \"\"\"\r\n        log.exception(\"unexpected error\")\r\n        return jsonify({\r\n            \"message\": str(e)\r\n        }), 500\r\n```\r\n\r\nError `mypy` is reporting:\r\n```\r\nxxx/__init__.py: note: In function \"register_error_handlers\":\r\nxxx/__init__.py:115: error: Argument 1 has incompatible type\r\n\"Callable[[Exception], Union[Union[Response, Any, Dict[str, Any], Generator[Any, None, None]], Tuple[Union[Response, Any, Dict[str, Any], Generator[Any, None, None]], Union[Headers, Dict[str, Union[str, List[str], Tuple[str, ...]]], List[Tuple[str, Union[str, List[str], Tuple[str, ...]]]]]], Tuple[Union[Response, Any, Dict[str, Any], Generator[Any, None, None]], int], Tuple[Union[Response, Any, Dict[str, Any], Generator[Any, None, None]], int, Union[Headers, Dict[str, Union[str, List[str], Tuple[str, ...]]], List[Tuple[str, Union[str, List[str], Tuple[str, ...]]]]]], Callable[[Dict[str, Any], StartResponse], Iterable[bytes]]]]\";\r\nexpected \"ErrorHandlerCallable[Exception]\"  [arg-type]\r\n        @app.errorhandler(Exception)\r\n         ^\r\nFound 1 error in 1 file (checked 8 source files)\r\n```\r\n\r\nUsing `app.register_error_handler` gives the same result. \r\n\r\nWith 2.0.2 release, `cast` is not a workaround any more, since it fails before that. \r\n\r\nOf course, I did not need `cast` here earlier, since I am handling the base exception, but the same behavior exists when I am trying to handle `werkzeug.exceptions.HTTPException`. \r\n\r\nI expected `mypy` type check to pass with provided code.\r\n\r\nEnvironment:\r\n\r\n- Python version: 3.10.0 and 3.9.7\r\n- Flask version: 2.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/4295/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/4295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/4037", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/4037/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/4037/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/4037/events", "html_url": "https://github.com/pallets/flask/issues/4037", "id": 890927522, "node_id": "MDU6SXNzdWU4OTA5Mjc1MjI=", "number": 4037, "title": "The Blueprint(url_prefix) parameter is not working when using nesting blueprint", "user": {"login": "greyli", "id": 12967000, "node_id": "MDQ6VXNlcjEyOTY3MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/12967000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greyli", "html_url": "https://github.com/greyli", "followers_url": "https://api.github.com/users/greyli/followers", "following_url": "https://api.github.com/users/greyli/following{/other_user}", "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greyli/subscriptions", "organizations_url": "https://api.github.com/users/greyli/orgs", "repos_url": "https://api.github.com/users/greyli/repos", "events_url": "https://api.github.com/users/greyli/events{/privacy}", "received_events_url": "https://api.github.com/users/greyli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 357932495, "node_id": "MDU6TGFiZWwzNTc5MzI0OTU=", "url": "https://api.github.com/repos/pallets/flask/labels/blueprints", "name": "blueprints", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/12", "html_url": "https://github.com/pallets/flask/milestone/12", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/12/labels", "id": 6751979, "node_id": "MDk6TWlsZXN0b25lNjc1MTk3OQ==", "number": 12, "title": "2.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-05-12T12:38:04Z", "updated_at": "2021-05-24T19:32:12Z", "due_on": null, "closed_at": "2021-05-24T19:32:12Z"}, "comments": 0, "created_at": "2021-05-13T10:32:50Z", "updated_at": "2021-05-28T00:09:47Z", "closed_at": "2021-05-13T22:27:48Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "body": "Minimal example:\r\n\r\n```python\r\nfrom flask import Flask, Blueprint\r\n\r\napp = Flask(__name__)\r\nparent = Blueprint('parent', __name__, url_prefix='/child')\r\nchild = Blueprint('child', __name__, url_prefix='/parent')\r\n\r\n\r\n@child.get('/')\r\ndef index():\r\n    return 'hello'\r\n\r\n\r\nparent.register_blueprint(child)\r\napp.register_blueprint(parent)\r\n```\r\n\r\nThe output of `flask routes`:\r\n\r\n```\r\n$ flask routes\r\nEndpoint            Methods  Rule\r\n------------------  -------  -----------------------\r\nparent.child.index  GET      /\r\nstatic              GET      /static/<path:filename>\r\n```\r\n\r\nThe URL rule should be `/parent/child/` instead of `/`.\r\n\r\nP.S. The URL prefix works fine if set the prefix by using `register_blueprint(url_prefix)`.\r\n\r\nEnvironment:\r\n\r\n- Flask version: 2.0\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/4037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/4037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/3776", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/3776/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/3776/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/3776/events", "html_url": "https://github.com/pallets/flask/issues/3776", "id": 714071806, "node_id": "MDU6SXNzdWU3MTQwNzE4MDY=", "number": 3776, "title": "request.endpoint always None in SessionInterface.open_session", "user": {"login": "zeha", "id": 26175, "node_id": "MDQ6VXNlcjI2MTc1", "avatar_url": "https://avatars.githubusercontent.com/u/26175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zeha", "html_url": "https://github.com/zeha", "followers_url": "https://api.github.com/users/zeha/followers", "following_url": "https://api.github.com/users/zeha/following{/other_user}", "gists_url": "https://api.github.com/users/zeha/gists{/gist_id}", "starred_url": "https://api.github.com/users/zeha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zeha/subscriptions", "organizations_url": "https://api.github.com/users/zeha/orgs", "repos_url": "https://api.github.com/users/zeha/repos", "events_url": "https://api.github.com/users/zeha/events{/privacy}", "received_events_url": "https://api.github.com/users/zeha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/9", "html_url": "https://github.com/pallets/flask/milestone/9", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/9/labels", "id": 4325529, "node_id": "MDk6TWlsZXN0b25lNDMyNTUyOQ==", "number": 9, "title": "2.0.0", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 61, "state": "closed", "created_at": "2019-05-17T17:44:14Z", "updated_at": "2021-11-12T02:41:19Z", "due_on": null, "closed_at": "2021-05-12T12:37:59Z"}, "comments": 2, "created_at": "2020-10-03T11:42:30Z", "updated_at": "2021-05-14T14:05:21Z", "closed_at": "2021-02-02T04:45:03Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "<!-- **This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the Pallets Discord or Stack Overflow for general questions\r\nabout using Flask or issues not related to Flask.** -->\r\n\r\n<!-- If you'd like to report a bug in Flask, fill out the template below. Provide\r\nany extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](https://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code. -->\r\n\r\n### Expected Behavior\r\n\r\nSession Interface should have access to `request.endpoint` from `open_session`. In Versions before 1.1.0, this worked fine.\r\n\r\n### Actual Behavior\r\nOur SessionInterface subclass looks at `request.endpoint` to determine if it should open a new session - opening a new is only appropriate on some endpoints. Now this is always `None`, so it cannot make this distinction anymore.\r\n\r\nI believe #3104 (issue #3088) broke this.\r\n\r\n### Environment\r\n\r\n* Python version: 3.8.5\r\n* Flask version: 1.1.2\r\n* Werkzeug version: 0.16.1\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/3776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/3776/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/3523", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/3523/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/3523/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/3523/events", "html_url": "https://github.com/pallets/flask/issues/3523", "id": 573885840, "node_id": "MDU6SXNzdWU1NzM4ODU4NDA=", "number": 3523, "title": "Flask dev server not working with Python 3.6 on Anaconda", "user": {"login": "scribu", "id": 225715, "node_id": "MDQ6VXNlcjIyNTcxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/225715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scribu", "html_url": "https://github.com/scribu", "followers_url": "https://api.github.com/users/scribu/followers", "following_url": "https://api.github.com/users/scribu/following{/other_user}", "gists_url": "https://api.github.com/users/scribu/gists{/gist_id}", "starred_url": "https://api.github.com/users/scribu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scribu/subscriptions", "organizations_url": "https://api.github.com/users/scribu/orgs", "repos_url": "https://api.github.com/users/scribu/repos", "events_url": "https://api.github.com/users/scribu/events{/privacy}", "received_events_url": "https://api.github.com/users/scribu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-02T10:46:21Z", "updated_at": "2020-11-14T01:33:28Z", "closed_at": "2020-04-03T12:42:51Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "We are forced to use Python 3.6 due to some other dependencies that do not work with newer versions of Python.\r\n\r\nSteps to reproduce:\r\n\r\n1) Create `hello.py`, as described in the example:\r\n\r\n```python\r\nfrom flask import Flask\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route(\"/\")\r\ndef hello():\r\n    return \"Hello, World!\"\r\n```\r\n\r\n2) Try to run it:\r\n\r\n```bash\r\nFLASK_APP=hello.py flask run\r\n```\r\n\r\n### Expected Behavior\r\n\r\nI see \"Hello, World!\" in the browser.\r\n\r\n### Actual Behavior\r\n\r\n```bash\r\n * Serving Flask app \"hello.py\"\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\nUsage: flask run [OPTIONS]\r\n\r\nError: Could not import \"hello\".\r\n```\r\n\r\nRunning the same example in Python 3.7 works fine.\r\n\r\n### Environment\r\n\r\n* Python version: 3.6.10\r\n* Flask version: 1.1.1\r\n* Werkzeug version: 1.0.0\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/3523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/3523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/3320", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/3320/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/3320/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/3320/events", "html_url": "https://github.com/pallets/flask/issues/3320", "id": 475411162, "node_id": "MDU6SXNzdWU0NzU0MTExNjI=", "number": 3320, "title": "Version tag mismatch in link to example projects from docs", "user": {"login": "neirbowj", "id": 1879063, "node_id": "MDQ6VXNlcjE4NzkwNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1879063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neirbowj", "html_url": "https://github.com/neirbowj", "followers_url": "https://api.github.com/users/neirbowj/followers", "following_url": "https://api.github.com/users/neirbowj/following{/other_user}", "gists_url": "https://api.github.com/users/neirbowj/gists{/gist_id}", "starred_url": "https://api.github.com/users/neirbowj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neirbowj/subscriptions", "organizations_url": "https://api.github.com/users/neirbowj/orgs", "repos_url": "https://api.github.com/users/neirbowj/repos", "events_url": "https://api.github.com/users/neirbowj/events{/privacy}", "received_events_url": "https://api.github.com/users/neirbowj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32876, "node_id": "MDU6TGFiZWwzMjg3Ng==", "url": "https://api.github.com/repos/pallets/flask/labels/docs", "name": "docs", "color": "0e8a16", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "greyli", "id": 12967000, "node_id": "MDQ6VXNlcjEyOTY3MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/12967000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greyli", "html_url": "https://github.com/greyli", "followers_url": "https://api.github.com/users/greyli/followers", "following_url": "https://api.github.com/users/greyli/following{/other_user}", "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greyli/subscriptions", "organizations_url": "https://api.github.com/users/greyli/orgs", "repos_url": "https://api.github.com/users/greyli/repos", "events_url": "https://api.github.com/users/greyli/events{/privacy}", "received_events_url": "https://api.github.com/users/greyli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "greyli", "id": 12967000, "node_id": "MDQ6VXNlcjEyOTY3MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/12967000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greyli", "html_url": "https://github.com/greyli", "followers_url": "https://api.github.com/users/greyli/followers", "following_url": "https://api.github.com/users/greyli/following{/other_user}", "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greyli/subscriptions", "organizations_url": "https://api.github.com/users/greyli/orgs", "repos_url": "https://api.github.com/users/greyli/repos", "events_url": "https://api.github.com/users/greyli/events{/privacy}", "received_events_url": "https://api.github.com/users/greyli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-01T00:14:39Z", "updated_at": "2020-11-14T02:09:09Z", "closed_at": "2019-08-01T19:56:41Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "### Scenario\r\n\r\nAs of v1.1.1.\r\n\r\n1. Navigate to the Flask docs via the Pallets Project site.\r\n2. Progress to [Tutorial :: Keep Developing!](https://flask.palletsprojects.com/en/1.1.x/tutorial/next/)\r\n3. Follow the link to [example project](https://github.com/pallets/flask/tree/1.1.2.dev0/examples/tutorial)\r\n\r\n### Expected Behavior\r\n\r\nThe version tag in the link matches the documentation version tag, and/or the target URL leads somewhere useful.\r\n\r\n### Actual Behavior\r\n\r\nLink target version is not the same as the doc version, and it refers to a development version that has not yet been tagged (404).\r\n\r\n### Environment\r\n\r\nN/A", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/3320/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/3320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/3299", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/3299/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/3299/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/3299/events", "html_url": "https://github.com/pallets/flask/pull/3299", "id": 466462250, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk2Mjk3NDEy", "number": 3299, "title": "pass sys.argv to flask cli", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/11", "html_url": "https://github.com/pallets/flask/milestone/11", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/11/labels", "id": 4481129, "node_id": "MDk6TWlsZXN0b25lNDQ4MTEyOQ==", "number": 11, "title": "1.1.2", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-07-10T15:02:22Z", "updated_at": "2020-04-03T17:19:07Z", "due_on": null, "closed_at": "2020-04-03T17:19:07Z"}, "comments": 1, "created_at": "2019-07-10T18:47:10Z", "updated_at": "2020-11-14T01:52:50Z", "closed_at": "2019-07-10T19:42:59Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/3299", "html_url": "https://github.com/pallets/flask/pull/3299", "diff_url": "https://github.com/pallets/flask/pull/3299.diff", "patch_url": "https://github.com/pallets/flask/pull/3299.patch", "merged_at": "2019-07-10T19:42:59Z"}, "body": "closes #3297 \r\n\r\nCan be removed when pallets/click#536 is fixed.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/3299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/3299/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/3297", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/3297/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/3297/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/3297/events", "html_url": "https://github.com/pallets/flask/issues/3297", "id": 466392759, "node_id": "MDU6SXNzdWU0NjYzOTI3NTk=", "number": 3297, "title": "If arguments are re-written before flask is loaded it sees the original arguments on windows python 2.7", "user": {"login": "karthiknadig", "id": 3840081, "node_id": "MDQ6VXNlcjM4NDAwODE=", "avatar_url": "https://avatars.githubusercontent.com/u/3840081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karthiknadig", "html_url": "https://github.com/karthiknadig", "followers_url": "https://api.github.com/users/karthiknadig/followers", "following_url": "https://api.github.com/users/karthiknadig/following{/other_user}", "gists_url": "https://api.github.com/users/karthiknadig/gists{/gist_id}", "starred_url": "https://api.github.com/users/karthiknadig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karthiknadig/subscriptions", "organizations_url": "https://api.github.com/users/karthiknadig/orgs", "repos_url": "https://api.github.com/users/karthiknadig/repos", "events_url": "https://api.github.com/users/karthiknadig/events{/privacy}", "received_events_url": "https://api.github.com/users/karthiknadig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/11", "html_url": "https://github.com/pallets/flask/milestone/11", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/11/labels", "id": 4481129, "node_id": "MDk6TWlsZXN0b25lNDQ4MTEyOQ==", "number": 11, "title": "1.1.2", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-07-10T15:02:22Z", "updated_at": "2020-04-03T17:19:07Z", "due_on": null, "closed_at": "2020-04-03T17:19:07Z"}, "comments": 2, "created_at": "2019-07-10T05:55:01Z", "updated_at": "2020-11-14T01:33:27Z", "closed_at": "2019-07-10T19:42:59Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Previously flask (v1.0.3) was passing `sys.argv` to  `cli.main`:\r\n\r\nhttps://github.com/pallets/flask/blob/1.0.3/flask/cli.py#L889-L906\r\n\r\nNow flask (v1.1.1) is not passing `argv`, to `cli.main`.\r\n\r\nhttps://github.com/pallets/flask/blob/1.1.1/src/flask/cli.py#L965-L966\r\n\r\nThis causes it to always get args via `get_os_args` via `click`. \r\n\r\nhttps://github.com/pallets/click/blob/7.0/click/core.py#L700-L704 \r\n\r\nWhich is this issue in click https://github.com/pallets/click/issues/536 \r\n\r\nThis basically breaks debugging (on windows with python 2.7), where the debugger re-writes `sys.argv` before `click` or `flask` is loaded. So, attempting to debug flask using `ptvsd` or `pydevd` results in the error message below. \r\n\r\n### Expected\r\n```\r\n>python -m ptvsd --host localhost --port 5692 -m flask run --no-debugger --no-reload --with-threads --port 5014\r\n * Serving Flask app \"app\"\r\n * Environment: development\r\n * Debug mode: on\r\n * Running on http://127.0.0.1:5014/ (Press CTRL+C to quit)\r\n```\r\n\r\n### Actual\r\n```\r\n>python -m ptvsd --host localhost --port 5692 -m flask run --no-debugger --no-reload --with-threads --port 5014\r\nUsage: python -m flask [OPTIONS] COMMAND [ARGS]...\r\nTry \"python -m flask --help\" for help.\r\n\r\nError: no such option: --host\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 2.7\r\n* Flask version: 1.1.1\r\n* Werkzeug version: N/A\r\n* Platform: Windows\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/3297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/3297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2743", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2743/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2743/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2743/events", "html_url": "https://github.com/pallets/flask/issues/2743", "id": 318707851, "node_id": "MDU6SXNzdWUzMTg3MDc4NTE=", "number": 2743, "title": "Documentation search broken", "user": {"login": "lepture", "id": 290496, "node_id": "MDQ6VXNlcjI5MDQ5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/290496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lepture", "html_url": "https://github.com/lepture", "followers_url": "https://api.github.com/users/lepture/followers", "following_url": "https://api.github.com/users/lepture/following{/other_user}", "gists_url": "https://api.github.com/users/lepture/gists{/gist_id}", "starred_url": "https://api.github.com/users/lepture/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lepture/subscriptions", "organizations_url": "https://api.github.com/users/lepture/orgs", "repos_url": "https://api.github.com/users/lepture/repos", "events_url": "https://api.github.com/users/lepture/events{/privacy}", "received_events_url": "https://api.github.com/users/lepture/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 2, "created_at": "2018-04-29T10:57:08Z", "updated_at": "2020-11-14T03:19:56Z", "closed_at": "2018-04-30T00:55:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "## How to reproduce\r\n\r\n1. Try search \"request\", it goes to this page: `http://flask.pocoo.org/docs/1.0/search/?q=request`\r\n2. Click on the result, it will be 404\r\n\r\n---\r\n\r\nThe urls built on the search page are wrong, for instance:\r\n\r\n```\r\nhttp://flask.pocoo.org/docs/1.0/search/api/?highlight=request#flask.request\r\n```\r\n\r\nShould be\r\n\r\n```\r\nhttp://flask.pocoo.org/docs/1.0/api/?highlight=request#flask.request\r\n```\r\n\r\n@davidism this should be fixed in the pallets themes.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2739", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2739/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2739/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2739/events", "html_url": "https://github.com/pallets/flask/pull/2739", "id": 318638707, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0Nzg3MzM0", "number": 2739, "title": "Only trap key errors by default in debug, not all BadRequest errors", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 0, "created_at": "2018-04-28T13:55:15Z", "updated_at": "2020-11-14T03:27:20Z", "closed_at": "2018-04-28T14:01:43Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2739", "html_url": "https://github.com/pallets/flask/pull/2739", "diff_url": "https://github.com/pallets/flask/pull/2739.diff", "patch_url": "https://github.com/pallets/flask/pull/2739.patch", "merged_at": "2018-04-28T14:01:43Z"}, "body": "closes #2735 \r\n\r\nIn order to make debugging key errors from `request.form` easier, #2348 trapped `BadRequest` errors by default in debug mode. However, this caught *all* `BadRequest` errors, not just `BadRequestKeyError`. This changes the behavior so `BadRequestKeyError` is caught in debug mode, but `abort(400)` still passes through.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2739/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2738", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2738/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2738/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2738/events", "html_url": "https://github.com/pallets/flask/pull/2738", "id": 318524566, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0NzA4Njk1", "number": 2738, "title": "merge slashes between blueprint prefix and rule", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 357932495, "node_id": "MDU6TGFiZWwzNTc5MzI0OTU=", "url": "https://api.github.com/repos/pallets/flask/labels/blueprints", "name": "blueprints", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 0, "created_at": "2018-04-27T19:32:09Z", "updated_at": "2020-11-14T03:27:20Z", "closed_at": "2018-04-27T19:46:38Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2738", "html_url": "https://github.com/pallets/flask/pull/2738", "diff_url": "https://github.com/pallets/flask/pull/2738.diff", "patch_url": "https://github.com/pallets/flask/pull/2738.patch", "merged_at": "2018-04-27T19:46:38Z"}, "body": "closes #2731 \r\n\r\nWhen registering a blueprint, strip `/` from the right side of the prefix and the left side of each rule, then join to ensure there's only one slash. #2629 only considered the prefix, and only stripped one slash.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2738/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2738/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2735", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2735/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2735/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2735/events", "html_url": "https://github.com/pallets/flask/issues/2735", "id": 318458449, "node_id": "MDU6SXNzdWUzMTg0NTg0NDk=", "number": 2735, "title": "flask.abort() behavioral change in debug mode", "user": {"login": "pypingou", "id": 1240038, "node_id": "MDQ6VXNlcjEyNDAwMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1240038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypingou", "html_url": "https://github.com/pypingou", "followers_url": "https://api.github.com/users/pypingou/followers", "following_url": "https://api.github.com/users/pypingou/following{/other_user}", "gists_url": "https://api.github.com/users/pypingou/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypingou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypingou/subscriptions", "organizations_url": "https://api.github.com/users/pypingou/orgs", "repos_url": "https://api.github.com/users/pypingou/repos", "events_url": "https://api.github.com/users/pypingou/events{/privacy}", "received_events_url": "https://api.github.com/users/pypingou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 4, "created_at": "2018-04-27T15:44:05Z", "updated_at": "2020-11-14T03:07:55Z", "closed_at": "2018-04-28T14:01:55Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "### Expected Behavior\r\n\r\nIn flask 1.0, calling flask.abort(400) returns a 500 error in debug mode\r\n\r\n```python\r\nimport flask\r\nimport werkzeug\r\n\r\nAPP = flask.Flask(__name__)\r\nprint(flask.__version__)\r\nprint(werkzeug.__version__)\r\n\r\n@APP.route('/<arg>')\r\ndef index(arg):\r\n    return flask.abort(400)\r\n\r\nAPP.debug = True\r\nAPP.run()\r\n```\r\n\r\n### Actual Behavior\r\n\r\nWhen ``App.debug = True`` is set:\r\n````\r\n127.0.0.1 - - [27/Apr/2018 17:39:16] \"GET /tes HTTP/1.1\" 500 -\r\nTraceback (most recent call last):\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 2301, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 2287, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 1733, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 2284, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 1807, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 1710, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 1805, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/flask/app.py\", line 1791, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pingou/reproducer.py\", line 12, in index\r\n    return flask.abort(400)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/werkzeug/exceptions.py\", line 707, in abort\r\n    return _aborter(status, *args, **kwargs)\r\n  File \"/home/pingou/.local/share/virtualenvs/pag/lib/python2.7/site-packages/werkzeug/exceptions.py\", line 687, in __call__\r\n    raise self.mapping[code](*args, **kwargs)\r\nBadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.\r\n````\r\n\r\nCalling the endpoint via requests show:\r\n```\r\n>>> requests.get('http://127.0.0.1:5000/tes')\r\n<Response [500]>\r\n```\r\n\r\nWhen ``App.debug = True`` is commented out, I get the expected behavior:\r\n```\r\n>>> requests.get('http://127.0.0.1:5000/tes')\r\n<Response [400]>\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: in this case 2.7.14\r\n* Flask version: 1.0\r\n* Werkzeug version: 0.14.1\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2731", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2731/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2731/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2731/events", "html_url": "https://github.com/pallets/flask/issues/2731", "id": 318404450, "node_id": "MDU6SXNzdWUzMTg0MDQ0NTA=", "number": 2731, "title": "Flask 1.0 backwards-incompat with double-slash/no-slash re. #2629", "user": {"login": "brianmhunt", "id": 135528, "node_id": "MDQ6VXNlcjEzNTUyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/135528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianmhunt", "html_url": "https://github.com/brianmhunt", "followers_url": "https://api.github.com/users/brianmhunt/followers", "following_url": "https://api.github.com/users/brianmhunt/following{/other_user}", "gists_url": "https://api.github.com/users/brianmhunt/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianmhunt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianmhunt/subscriptions", "organizations_url": "https://api.github.com/users/brianmhunt/orgs", "repos_url": "https://api.github.com/users/brianmhunt/repos", "events_url": "https://api.github.com/users/brianmhunt/events{/privacy}", "received_events_url": "https://api.github.com/users/brianmhunt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 357932495, "node_id": "MDU6TGFiZWwzNTc5MzI0OTU=", "url": "https://api.github.com/repos/pallets/flask/labels/blueprints", "name": "blueprints", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 1, "created_at": "2018-04-27T13:12:55Z", "updated_at": "2020-11-14T03:19:57Z", "closed_at": "2018-04-27T19:47:01Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "This is a major backwards-compat breaking change, but I suspect not the intended design and hopefully easy to fix.\r\n\r\nThe issue is related to PR #2629, and this example follows from that:\r\n\r\nGiven blueprint `bp` and app `app`:\r\n\r\n```python\r\n@bp.route('b/')\r\ndef tmp():\r\n    return \"URI should be '/a/b/\"\r\n\r\napp.register_blueprint(bp, url_prefix='/a/')\r\n```\r\n\r\nIn Flask 0.12 the URL is correctly `/a/b`, but in Flask 1.0 it's `/ab`.\r\n\r\nSince issue #2629 relates to resolve double-slashes, I imagine this is a bug (and not a design decision) - and the correct solution would be to remove a slash only when there are two.\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2730", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2730/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2730/events", "html_url": "https://github.com/pallets/flask/pull/2730", "id": 318378815, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0NTk5MTA2", "number": 2730, "title": "Fix registering partials as view functions", "user": {"login": "ThiefMaster", "id": 179599, "node_id": "MDQ6VXNlcjE3OTU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/179599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThiefMaster", "html_url": "https://github.com/ThiefMaster", "followers_url": "https://api.github.com/users/ThiefMaster/followers", "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}", "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions", "organizations_url": "https://api.github.com/users/ThiefMaster/orgs", "repos_url": "https://api.github.com/users/ThiefMaster/repos", "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ThiefMaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/5", "html_url": "https://github.com/pallets/flask/milestone/5", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/5/labels", "id": 3304290, "node_id": "MDk6TWlsZXN0b25lMzMwNDI5MA==", "number": 5, "title": "1.0.1", "description": "", "creator": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2018-04-27T13:46:37Z", "updated_at": "2018-04-30T01:11:27Z", "due_on": null, "closed_at": "2018-04-30T01:11:27Z"}, "comments": 0, "created_at": "2018-04-27T11:44:50Z", "updated_at": "2020-11-14T03:27:21Z", "closed_at": "2018-04-27T11:55:39Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2730", "html_url": "https://github.com/pallets/flask/pull/2730", "diff_url": "https://github.com/pallets/flask/pull/2730.diff", "patch_url": "https://github.com/pallets/flask/pull/2730.patch", "merged_at": "2018-04-27T11:55:39Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2730/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2728", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2728/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2728/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2728/events", "html_url": "https://github.com/pallets/flask/issues/2728", "id": 318341243, "node_id": "MDU6SXNzdWUzMTgzNDEyNDM=", "number": 2728, "title": "Wrong wheel for Flask 0.12.3 in PyPI", "user": {"login": "lafrech", "id": 1767010, "node_id": "MDQ6VXNlcjE3NjcwMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1767010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lafrech", "html_url": "https://github.com/lafrech", "followers_url": "https://api.github.com/users/lafrech/followers", "following_url": "https://api.github.com/users/lafrech/following{/other_user}", "gists_url": "https://api.github.com/users/lafrech/gists{/gist_id}", "starred_url": "https://api.github.com/users/lafrech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lafrech/subscriptions", "organizations_url": "https://api.github.com/users/lafrech/orgs", "repos_url": "https://api.github.com/users/lafrech/repos", "events_url": "https://api.github.com/users/lafrech/events{/privacy}", "received_events_url": "https://api.github.com/users/lafrech/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 384871623, "node_id": "MDU6TGFiZWwzODQ4NzE2MjM=", "url": "https://api.github.com/repos/pallets/flask/labels/packaging", "name": "packaging", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-04-27T09:34:05Z", "updated_at": "2020-11-14T03:19:56Z", "closed_at": "2018-04-30T01:27:34Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "https://pypi.org/project/Flask/0.12.3/#files\r\n\r\n*Flask-0.12.3-py2.py3-none-any.whl* contains a `flask/json` directory.\r\n\r\nIt does not correspond to the `0.12.3` tag. Looks like it is a more recent revision.\r\n\r\nThe .tag.gz looks fine (I just checked it contains `flask/json.py` and no `flask/json` directory).", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2651", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2651/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2651/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2651/events", "html_url": "https://github.com/pallets/flask/issues/2651", "id": 302443416, "node_id": "MDU6SXNzdWUzMDI0NDM0MTY=", "number": 2651, "title": "get_json's silent option cache None and causes weird side-effect", "user": {"login": "RobertDeRose", "id": 388745, "node_id": "MDQ6VXNlcjM4ODc0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/388745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobertDeRose", "html_url": "https://github.com/RobertDeRose", "followers_url": "https://api.github.com/users/RobertDeRose/followers", "following_url": "https://api.github.com/users/RobertDeRose/following{/other_user}", "gists_url": "https://api.github.com/users/RobertDeRose/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobertDeRose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobertDeRose/subscriptions", "organizations_url": "https://api.github.com/users/RobertDeRose/orgs", "repos_url": "https://api.github.com/users/RobertDeRose/repos", "events_url": "https://api.github.com/users/RobertDeRose/events{/privacy}", "received_events_url": "https://api.github.com/users/RobertDeRose/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 398831866, "node_id": "MDU6TGFiZWwzOTg4MzE4NjY=", "url": "https://api.github.com/repos/pallets/flask/labels/json", "name": "json", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 7, "created_at": "2018-03-05T20:09:06Z", "updated_at": "2020-11-14T03:26:51Z", "closed_at": "2018-04-09T10:00:42Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "### Expected Behavior\r\n#### Sample Code\r\n\r\n```python\r\napp = Flask(__name__)\r\n\r\n@app.route(\"/\", methods=[\"POST\"])\r\ndef broke_behvior():\r\n    print(request.is_json)\r\n    rv = request.get_json(silent=True)\r\n    print(rv)\r\n    rv = request.get_json()\r\n    print(rv)\r\n    return \"\", 200\r\n\r\nclient = app.test_client()\r\nclient.post(\"/\", data=\"'invalid json'\")\r\n```\r\n\r\n#### Output\r\n\r\n```bash\r\nFalse\r\nNone\r\n<Response streamed [400 BAD REQUEST]>\r\n```\r\n\r\n### Actual Behavior\r\n\r\n```bash\r\nFalse\r\nNone\r\nNone\r\n<Response streamed [200 OK]>\r\n```\r\n\r\n\r\nThe fact that calling `get_json` with `silent` and then calling it without `silent` seems to break expected behavior. When I don't call `silent` I am depending on the exception being thrown, however, because the code `caches` even on error, you get this weird behavior.\r\n\r\nWhile this might be expected behavior by the authors, the docs don't make this clear.\r\n\r\nI would think, invalid json should not be cached, yet I can see the value of it, however, it adds an layer of uncertainty and therefore, I my opinion, is a bug.\r\n\r\n### Environment\r\n\r\n* Python version: 3.4\r\n* Flask version: 0.12.2\r\n* Werkzeug version: 0.14.1\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2549", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2549/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2549/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2549/events", "html_url": "https://github.com/pallets/flask/issues/2549", "id": 281111473, "node_id": "MDU6SXNzdWUyODExMTE0NzM=", "number": 2549, "title": "\"Request.is_xhr deprecated\" warning during jsonify()", "user": {"login": "simlu", "id": 1539747, "node_id": "MDQ6VXNlcjE1Mzk3NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1539747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simlu", "html_url": "https://github.com/simlu", "followers_url": "https://api.github.com/users/simlu/followers", "following_url": "https://api.github.com/users/simlu/following{/other_user}", "gists_url": "https://api.github.com/users/simlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/simlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simlu/subscriptions", "organizations_url": "https://api.github.com/users/simlu/orgs", "repos_url": "https://api.github.com/users/simlu/repos", "events_url": "https://api.github.com/users/simlu/events{/privacy}", "received_events_url": "https://api.github.com/users/simlu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-12-11T17:54:11Z", "updated_at": "2020-11-14T01:42:29Z", "closed_at": "2017-12-11T18:17:42Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "It seems `Request.is_xhr` is deprecated. Getting warnings here... How do we fix this?\r\n\r\n```\r\nflask.jsonify(**{...})\r\nFile \"/usr/local/lib/python2.7/site-packages/flask/json.py\", line 251, in jsonify\r\nif current_app.config['JSONIFY_PRETTYPRINT_REGULAR'] and not request.is_xhr:\r\nFile \"/usr/local/lib/python2.7/site-packages/werkzeug/local.py\", line 347, in __getattr__\r\nreturn getattr(self._get_current_object(), name)\r\nFile \"/usr/local/lib/python2.7/site-packages/werkzeug/wrappers.py\", line 689, in is_xhr\r\n), stacklevel=2)\r\nDeprecationWarning: Request.is_xhr is deprecated. Given that the X-Requested-With header is not a part of any spec, it is not reliable\r\n```", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2549/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2549/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2526", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2526/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2526/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2526/events", "html_url": "https://github.com/pallets/flask/issues/2526", "id": 276305025, "node_id": "MDU6SXNzdWUyNzYzMDUwMjU=", "number": 2526, "title": "Invalid range with send_file() and xsendfile causes ValueError", "user": {"login": "ThiefMaster", "id": 179599, "node_id": "MDQ6VXNlcjE3OTU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/179599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThiefMaster", "html_url": "https://github.com/ThiefMaster", "followers_url": "https://api.github.com/users/ThiefMaster/followers", "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}", "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions", "organizations_url": "https://api.github.com/users/ThiefMaster/orgs", "repos_url": "https://api.github.com/users/ThiefMaster/repos", "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ThiefMaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "ThiefMaster", "id": 179599, "node_id": "MDQ6VXNlcjE3OTU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/179599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThiefMaster", "html_url": "https://github.com/ThiefMaster", "followers_url": "https://api.github.com/users/ThiefMaster/followers", "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}", "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions", "organizations_url": "https://api.github.com/users/ThiefMaster/orgs", "repos_url": "https://api.github.com/users/ThiefMaster/repos", "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ThiefMaster/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ThiefMaster", "id": 179599, "node_id": "MDQ6VXNlcjE3OTU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/179599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThiefMaster", "html_url": "https://github.com/ThiefMaster", "followers_url": "https://api.github.com/users/ThiefMaster/followers", "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}", "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions", "organizations_url": "https://api.github.com/users/ThiefMaster/orgs", "repos_url": "https://api.github.com/users/ThiefMaster/repos", "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ThiefMaster/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-11-23T09:13:39Z", "updated_at": "2020-11-14T03:35:50Z", "closed_at": "2017-11-24T23:44:49Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "body": "```python\r\nfrom flask import Flask, send_file\r\n\r\napp = Flask(__name__)\r\napp.use_x_sendfile = True\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    return send_file('/etc/passwd', mimetype='text/plain', conditional=True)\r\n```\r\n\r\n`http get http://127.0.0.1:8009/ Range:bytes=10000-` (the range needs to be invalid, so depending on the file sent the number needs to be higher) fails with this ValueError:\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/adrian/dev/indico/src/flasktest.py\", line 10, in index\r\n    return send_file('/etc/passwd', mimetype='text/plain', conditional=True)\r\n  File \"/home/adrian/dev/indico/env/lib/python2.7/site-packages/flask/helpers.py\", line 594, in send_file\r\n    file.close()\r\nAttributeError: 'NoneType' object has no attribute 'close'\r\n```\r\n\r\nProbably just a missing `if file is not None` check.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2284", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2284/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2284/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2284/events", "html_url": "https://github.com/pallets/flask/pull/2284", "id": 228879030, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIwNzE5NTEz", "number": 2284, "title": "safe_join on Windows uses posixpath", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-05-16T00:00:08Z", "updated_at": "2020-11-14T04:09:30Z", "closed_at": "2017-05-16T00:11:35Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2284", "html_url": "https://github.com/pallets/flask/pull/2284", "diff_url": "https://github.com/pallets/flask/pull/2284.diff", "patch_url": "https://github.com/pallets/flask/pull/2284.patch", "merged_at": "2017-05-16T00:11:35Z"}, "body": "Python on Windows supports mixed `/` and `\\` separators, so this doesn't break anything. `/` is already assumed to be the safe separator anyway.\r\n\r\nfixes #2033, closes #2059", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2284/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2267", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2267/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2267/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2267/events", "html_url": "https://github.com/pallets/flask/issues/2267", "id": 225567264, "node_id": "MDU6SXNzdWUyMjU1NjcyNjQ=", "number": 2267, "title": "Flask error handler caching leads to inconsistent behavior", "user": {"login": "ngaya-ll", "id": 11203134, "node_id": "MDQ6VXNlcjExMjAzMTM0", "avatar_url": "https://avatars.githubusercontent.com/u/11203134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngaya-ll", "html_url": "https://github.com/ngaya-ll", "followers_url": "https://api.github.com/users/ngaya-ll/followers", "following_url": "https://api.github.com/users/ngaya-ll/following{/other_user}", "gists_url": "https://api.github.com/users/ngaya-ll/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngaya-ll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngaya-ll/subscriptions", "organizations_url": "https://api.github.com/users/ngaya-ll/orgs", "repos_url": "https://api.github.com/users/ngaya-ll/repos", "events_url": "https://api.github.com/users/ngaya-ll/events{/privacy}", "received_events_url": "https://api.github.com/users/ngaya-ll/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 1, "created_at": "2017-05-02T01:20:27Z", "updated_at": "2020-11-14T03:52:37Z", "closed_at": "2017-06-05T13:34:49Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "When Flask finds an error handler for a given exception, it caches it in the handler map.  This can lead to incorrect behavior for subclasses of the exception.\r\n\r\nHere is some code demonstrating the problem:\r\n```\r\nfrom flask import Flask\r\nfrom werkzeug.exceptions import InternalServerError\r\n\r\n\r\nclass E1(Exception):\r\n    pass\r\n\r\n\r\nclass E2(Exception):\r\n    pass\r\n\r\n\r\nclass E(E1, E2):\r\n    pass\r\n\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n@app.errorhandler(E2)\r\ndef handle_e2(e):\r\n    return \"E2\", 500\r\n\r\n\r\n@app.errorhandler(Exception)\r\ndef handle_exception(e):\r\n    return \"Exception\", 500\r\n\r\n\r\n@app.route(\"/<exception>\", methods=['POST'])\r\ndef raise_exception(exception):\r\n    exc = globals()[exception]\r\n    raise exc\r\n\r\n\r\ndef test_errorhandler_precedence():\r\n    client = app.test_client()\r\n\r\n    response1 = client.post('/E1')\r\n    assert response1.data == \"Exception\"\r\n\r\n    response2 = client.post('/E')\r\n    assert response2.data == \"E2\"\r\n```\r\n\r\nIn this example, we have two exception classes, `E1` and `E2`, and a third exception `E` that inherits from both.  We register error handlers for `E2` and `Exception`.  When `E` is raised, Flask should invoke the `E2` error handler as `E2` comes before `Exception` in the MRO of `E`.  But if `E1` has been raised in the past, then the `Exception` error handler will be \"cached\" as the handler for `E1`, so that handler will be invoked instead.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2254", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2254/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2254/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2254/events", "html_url": "https://github.com/pallets/flask/pull/2254", "id": 223592576, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3MTI1MDgx", "number": 2254, "title": "Ensure error while opening session pops context", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 398835124, "node_id": "MDU6TGFiZWwzOTg4MzUxMjQ=", "url": "https://api.github.com/repos/pallets/flask/labels/session", "name": "session", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 0, "created_at": "2017-04-22T21:00:49Z", "updated_at": "2020-11-14T03:52:49Z", "closed_at": "2017-04-22T21:43:22Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2254", "html_url": "https://github.com/pallets/flask/pull/2254", "diff_url": "https://github.com/pallets/flask/pull/2254.diff", "patch_url": "https://github.com/pallets/flask/pull/2254.patch", "merged_at": "2017-04-22T21:43:22Z"}, "body": "Reported in #1528. #1538 provided a solution, but can be simplified by only moving `ctx.push()` into the `try` block. Errors raised by `SessionInterface.open_session` and `.make_null_session` will be handled by the normal app error handling mechanism, and the context will be popped at the end of the request.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2254/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2242", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2242/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2242/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2242/events", "html_url": "https://github.com/pallets/flask/pull/2242", "id": 221693471, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE1ODUxNDA1", "number": 2242, "title": "get mtime in utc", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 386620463, "node_id": "MDU6TGFiZWwzODY2MjA0NjM=", "url": "https://api.github.com/repos/pallets/flask/labels/testing", "name": "testing", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 7, "created_at": "2017-04-13T21:58:27Z", "updated_at": "2020-11-14T03:52:48Z", "closed_at": "2017-04-13T22:14:26Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/pallets/flask/pulls/2242", "html_url": "https://github.com/pallets/flask/pull/2242", "diff_url": "https://github.com/pallets/flask/pull/2242.diff", "patch_url": "https://github.com/pallets/flask/pull/2242.patch", "merged_at": "2017-04-13T22:14:26Z"}, "body": "Test `test_helpers.TestSendfile.test_send_file_range_request` was failing on my machine but not on Travis. Turned out it was sending the mtime of the file as local time, but comparing to a UTC time. Local time on Travis was UTC, so it didn't get caught there. Use `utcfromtimestamp` instead of `fromtimestamp`.", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2242/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/pallets/flask/issues/2118", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2118/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2118/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2118/events", "html_url": "https://github.com/pallets/flask/issues/2118", "id": 196575138, "node_id": "MDU6SXNzdWUxOTY1NzUxMzg=", "number": 2118, "title": "config.from_pyfile crashes on Python 3 when source isn't encoded in default encoding", "user": {"login": "xinyvz", "id": 15099763, "node_id": "MDQ6VXNlcjE1MDk5NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/15099763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xinyvz", "html_url": "https://github.com/xinyvz", "followers_url": "https://api.github.com/users/xinyvz/followers", "following_url": "https://api.github.com/users/xinyvz/following{/other_user}", "gists_url": "https://api.github.com/users/xinyvz/gists{/gist_id}", "starred_url": "https://api.github.com/users/xinyvz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xinyvz/subscriptions", "organizations_url": "https://api.github.com/users/xinyvz/orgs", "repos_url": "https://api.github.com/users/xinyvz/repos", "events_url": "https://api.github.com/users/xinyvz/events{/privacy}", "received_events_url": "https://api.github.com/users/xinyvz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2016-12-20T03:01:50Z", "updated_at": "2020-11-14T04:32:55Z", "closed_at": "2016-12-26T02:51:24Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "when I read my instance config file, I get an error. \r\n\r\n> exec(compile(config_file.read(), filename, 'exec'), d.__dict__)\r\n> UnicodeDecodeError: 'gbk' codec can't decode byte 0x80 in position 437: illegal multibyte sequence\r\nThen I modify the code of config.from_pyfile to this\r\n\r\n> with open(filename, 'rb') as config_file:\r\nThe problem is resolved. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2033", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2033/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2033/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2033/events", "html_url": "https://github.com/pallets/flask/issues/2033", "id": 178296243, "node_id": "MDU6SXNzdWUxNzgyOTYyNDM=", "number": 2033, "title": "failing test for safe_join in windows", "user": {"login": "infinite-Joy", "id": 9998813, "node_id": "MDQ6VXNlcjk5OTg4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9998813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinite-Joy", "html_url": "https://github.com/infinite-Joy", "followers_url": "https://api.github.com/users/infinite-Joy/followers", "following_url": "https://api.github.com/users/infinite-Joy/following{/other_user}", "gists_url": "https://api.github.com/users/infinite-Joy/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinite-Joy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinite-Joy/subscriptions", "organizations_url": "https://api.github.com/users/infinite-Joy/orgs", "repos_url": "https://api.github.com/users/infinite-Joy/repos", "events_url": "https://api.github.com/users/infinite-Joy/events{/privacy}", "received_events_url": "https://api.github.com/users/infinite-Joy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 386620463, "node_id": "MDU6TGFiZWwzODY2MjA0NjM=", "url": "https://api.github.com/repos/pallets/flask/labels/testing", "name": "testing", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-21T09:41:07Z", "updated_at": "2020-11-14T04:22:20Z", "closed_at": "2017-05-16T00:11:35Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "This seems like a bug on windows:\nTest run on windows gave me the following error\n\n```\n\n> py.test tests\\test_helpers.py\n\u2190[1m============================= test session starts ==========================\n===\u2190[0m\nplatform win32 -- Python 2.7.10, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\nrootdir: , inifile: setup.cfg\ncollected 42 items \u2190[0m\u2190[1m\n\u2190[0m\ntests\\test_helpers.py ........................................F.\n\n================================== FAILURES ===================================\n\u2190[1m\u2190[31m_________________________ TestSafeJoin.test_safe_join _________________\n________\u2190[0m\n\nself = <test_helpers.TestSafeJoin object at 0x02F3F790>\n\n\u2190[1m    def test_safe_join(self):\u2190[0m\n\u2190[1m        # Valid combinations of *args and expected joined paths.\u2190[0m\n\u2190[1m        passing = (\u2190[0m\n\u2190[1m            (('a/b/c', ), 'a/b/c'),\u2190[0m\n\u2190[1m            (('/', 'a/', 'b/', 'c/', ), '/a/b/c'),\u2190[0m\n\u2190[1m            (('a', 'b', 'c', ), 'a/b/c'),\u2190[0m\n\u2190[1m            (('/a', 'b/c', ), '/a/b/c'),\u2190[0m\n\u2190[1m            (('a/b', 'X/../c'), 'a/b/c', ),\u2190[0m\n\u2190[1m            (('/a/b', 'c/X/..'), '/a/b/c', ),\u2190[0m\n\u2190[1m            # If last path is '' add a slash\u2190[0m\n\u2190[1m            (('/a/b/c', '', ), '/a/b/c/', ),\u2190[0m\n\u2190[1m            # Preserve dot slash\u2190[0m\n\u2190[1m            (('/a/b/c', './', ), '/a/b/c/.', ),\u2190[0m\n\u2190[1m            (('a/b/c', 'X/..'), 'a/b/c/.', ),\u2190[0m\n\u2190[1m            # Base directory is always considered safe\u2190[0m\n\u2190[1m            (('../', 'a/b/c'), '../a/b/c'),\u2190[0m\n\u2190[1m            (('/..', ), '/..'),\u2190[0m\n\u2190[1m        )\u2190[0m\n\u2190[1m    \u2190[0m\n\u2190[1m        for args, expected in passing:\u2190[0m\n\u2190[1m>           assert flask.safe_join(*args) == expected\u2190[0m\n\u2190[1m\u2190[31mE           assert '/a\\\\b\\\\c' == '/a/b/c'\u2190[0m\n\u2190[1m\u2190[31mE             - /a\\\\b\\\\c\u2190[0m\n\u2190[1m\u2190[31mE             + /a/b/c\u2190[0m\n\n\u2190[1m\u2190[31mtests\\test_helpers.py\u2190[0m:803: AssertionError\n\u2190[1m\u2190[31m===================== 1 failed, 41 passed in 1.33 seconds =============\n========\u2190[0m\n```\n\nIn windows the directories on an external location can be accessed using four back-slashes \"\\\\\\\\\" from python code. So I would suggest to return \"\\\\\\\\a\\\\b\\\\c\" if the env is windows. Of course this line of thinking can be na\u00efve and maybe there is a better approach there.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/2007", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/2007/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/2007/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/2007/events", "html_url": "https://github.com/pallets/flask/issues/2007", "id": 175236579, "node_id": "MDU6SXNzdWUxNzUyMzY1Nzk=", "number": 2007, "title": "Prevent setting `SERVER_NAME` and `SESSION_COOKIE_DOMAIN` to an IP address", "user": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 125213303, "node_id": "MDU6TGFiZWwxMjUyMTMzMDM=", "url": "https://api.github.com/repos/pallets/flask/labels/discussion", "name": "discussion", "color": "c5def5", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-09-06T12:39:36Z", "updated_at": "2023-04-12T14:23:22Z", "closed_at": "2017-05-14T05:13:57Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "body": "See #1946 and #1906. I think we should prevent setting those things to IP addresses in the first place and only allow `None` and domain names != `localhost`.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/2007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/2007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1995", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1995/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1995/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1995/events", "html_url": "https://github.com/pallets/flask/issues/1995", "id": 173580786, "node_id": "MDU6SXNzdWUxNzM1ODA3ODY=", "number": 1995, "title": "No response and No exception traceback when render_template failed and DEBUG=True", "user": {"login": "guyskk", "id": 6367792, "node_id": "MDQ6VXNlcjYzNjc3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/6367792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guyskk", "html_url": "https://github.com/guyskk", "followers_url": "https://api.github.com/users/guyskk/followers", "following_url": "https://api.github.com/users/guyskk/following{/other_user}", "gists_url": "https://api.github.com/users/guyskk/gists{/gist_id}", "starred_url": "https://api.github.com/users/guyskk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guyskk/subscriptions", "organizations_url": "https://api.github.com/users/guyskk/orgs", "repos_url": "https://api.github.com/users/guyskk/repos", "events_url": "https://api.github.com/users/guyskk/events{/privacy}", "received_events_url": "https://api.github.com/users/guyskk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 130597497, "node_id": "MDU6TGFiZWwxMzA1OTc0OTc=", "url": "https://api.github.com/repos/pallets/flask/labels/blocker", "name": "blocker", "color": "b60205", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2016-08-27T06:14:30Z", "updated_at": "2020-11-14T04:08:57Z", "closed_at": "2017-05-29T19:50:13Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Here is the code:\n\napp.py\n\n```\nfrom flask import Flask, render_template\n\napp = Flask(__name__)\napp.config['DEBUG'] = True\n\n@app.route('/')\ndef index():\n    return render_template('unknown')\n\nif __name__ == '__main__':\n    from werkzeug.serving import run_simple\n    run_simple('127.0.0.1', 5000, app)\n```\n\nRun it by \n\n```\npython app.py\n```\n\nor  \n\n```\nexport FLASK_APP=app.py \nflask run\n```\n\nthen visit `http://127.0.0.1:5000` will see `ERR_EMPTY_RESPONSE` in browser and nothing in console.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1980", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1980/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1980/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1980/events", "html_url": "https://github.com/pallets/flask/issues/1980", "id": 170229125, "node_id": "MDU6SXNzdWUxNzAyMjkxMjU=", "number": 1980, "title": "\"Larger Applications\" docs don't play nicely with flask run", "user": {"login": "aaronkavlie-wf", "id": 7768348, "node_id": "MDQ6VXNlcjc3NjgzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7768348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronkavlie-wf", "html_url": "https://github.com/aaronkavlie-wf", "followers_url": "https://api.github.com/users/aaronkavlie-wf/followers", "following_url": "https://api.github.com/users/aaronkavlie-wf/following{/other_user}", "gists_url": "https://api.github.com/users/aaronkavlie-wf/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronkavlie-wf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronkavlie-wf/subscriptions", "organizations_url": "https://api.github.com/users/aaronkavlie-wf/orgs", "repos_url": "https://api.github.com/users/aaronkavlie-wf/repos", "events_url": "https://api.github.com/users/aaronkavlie-wf/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronkavlie-wf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32876, "node_id": "MDU6TGFiZWwzMjg3Ng==", "url": "https://api.github.com/repos/pallets/flask/labels/docs", "name": "docs", "color": "0e8a16", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 7, "created_at": "2016-08-09T17:51:00Z", "updated_at": "2020-11-14T04:42:34Z", "closed_at": "2016-09-11T16:05:28Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "The [Larger Applications docs](http://flask.pocoo.org/docs/0.11/patterns/packages/) recommend creating a `runserver.py` as follows:\n\n``` python\nfrom yourapplication import app\napp.run(debug=True)\n```\n\nThis runs counter to the advice in the [Development Server](http://flask.pocoo.org/docs/0.11/server/) doc for working with the `flask run` command \u2014 the `app.run()` call should be under `if __name__ == '__main__'`.\n\nThat makes it work properly, anyway. But when using `flask run`, the `runserver.py` file can be removed altogether.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1980/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1911", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1911/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1911/events", "html_url": "https://github.com/pallets/flask/issues/1911", "id": 160130813, "node_id": "MDU6SXNzdWUxNjAxMzA4MTM=", "number": 1911, "title": "Wrong import json library", "user": {"login": "rearn", "id": 6223186, "node_id": "MDQ6VXNlcjYyMjMxODY=", "avatar_url": "https://avatars.githubusercontent.com/u/6223186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rearn", "html_url": "https://github.com/rearn", "followers_url": "https://api.github.com/users/rearn/followers", "following_url": "https://api.github.com/users/rearn/following{/other_user}", "gists_url": "https://api.github.com/users/rearn/gists{/gist_id}", "starred_url": "https://api.github.com/users/rearn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rearn/subscriptions", "organizations_url": "https://api.github.com/users/rearn/orgs", "repos_url": "https://api.github.com/users/rearn/repos", "events_url": "https://api.github.com/users/rearn/events{/privacy}", "received_events_url": "https://api.github.com/users/rearn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 170296925, "node_id": "MDU6TGFiZWwxNzAyOTY5MjU=", "url": "https://api.github.com/repos/pallets/flask/labels/good%20first%20issue", "name": "good first issue", "color": "fbca04", "default": true, "description": null}, {"id": 398831866, "node_id": "MDU6TGFiZWwzOTg4MzE4NjY=", "url": "https://api.github.com/repos/pallets/flask/labels/json", "name": "json", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2016-06-14T09:02:06Z", "updated_at": "2020-11-14T04:09:11Z", "closed_at": "2017-05-22T19:37:58Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "[This code](https://github.com/pallets/flask/blob/c5900a1adf8e868eca745225f3cf32218cdbbb23/flask/json.py#L23) is always import error.\n(`simplejson` is not included in the `itsdangerous`.)\nSee: https://github.com/pallets/itsdangerous/blob/master/itsdangerous.py\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1902", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1902/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1902/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1902/events", "html_url": "https://github.com/pallets/flask/issues/1902", "id": 159501827, "node_id": "MDU6SXNzdWUxNTk1MDE4Mjc=", "number": 1902, "title": "Import error with some examples", "user": {"login": "rnelsonchem", "id": 3750670, "node_id": "MDQ6VXNlcjM3NTA2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/3750670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rnelsonchem", "html_url": "https://github.com/rnelsonchem", "followers_url": "https://api.github.com/users/rnelsonchem/followers", "following_url": "https://api.github.com/users/rnelsonchem/following{/other_user}", "gists_url": "https://api.github.com/users/rnelsonchem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rnelsonchem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rnelsonchem/subscriptions", "organizations_url": "https://api.github.com/users/rnelsonchem/orgs", "repos_url": "https://api.github.com/users/rnelsonchem/repos", "events_url": "https://api.github.com/users/rnelsonchem/events{/privacy}", "received_events_url": "https://api.github.com/users/rnelsonchem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32876, "node_id": "MDU6TGFiZWwzMjg3Ng==", "url": "https://api.github.com/repos/pallets/flask/labels/docs", "name": "docs", "color": "0e8a16", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 30, "created_at": "2016-06-09T20:35:18Z", "updated_at": "2020-11-14T00:59:24Z", "closed_at": "2016-08-22T18:53:44Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I'm trying to run the \"flaskr\" and \"minitwit\" examples, but I'm running into an import error issue. I'm trying to follow the instructions from the README file. When running `flask initdb`, I get the following error:\n\n```\nTraceback (most recent call last):\n  File \"/home/nelson/apps/miniconda/bin/flask\", line 6, in <module>\n    sys.exit(flask.cli.main())\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/flask/cli.py\", line 478, in main\n    cli.main(args=args, prog_name=name)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/flask/cli.py\", line 345, in main\n    return AppGroup.main(self, *args, **kwargs)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/click/core.py\", line 696, in main\n    rv = self.invoke(ctx)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/click/core.py\", line 1055, in invoke\n    cmd_name, cmd, args = self.resolve_command(ctx, args)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/click/core.py\", line 1094, in resolve_command\n    cmd = self.get_command(ctx, cmd_name)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/flask/cli.py\", line 316, in get_command\n    rv = info.load_app().cli.get_command(ctx, name)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/flask/cli.py\", line 209, in load_app\n    rv = locate_app(self.app_import_path)\n  File \"/home/nelson/apps/miniconda/lib/python3.4/site-packages/flask/cli.py\", line 89, in locate_app\n    __import__(module)\nImportError: No module named 'flaskr'\n```\n\nI'm using an Anaconda Python install on both Windows 10 (Python 3.5) and Linux (Python 3.4) with either the stock flask 0.11 install or an install from the latest git repo.  I'm running this code from appropriate directory and am able to import flaskr or minitwit from a terminal Python session. I can run the other examples that do not require the flask script. \n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1902/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1893", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1893/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1893/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1893/events", "html_url": "https://github.com/pallets/flask/issues/1893", "id": 158967570, "node_id": "MDU6SXNzdWUxNTg5Njc1NzA=", "number": 1893, "title": "Travis 3.3-devel job fails with error about urllib2 in Werkzeug", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 386620463, "node_id": "MDU6TGFiZWwzODY2MjA0NjM=", "url": "https://api.github.com/repos/pallets/flask/labels/testing", "name": "testing", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-06-07T16:28:49Z", "updated_at": "2020-11-14T04:52:38Z", "closed_at": "2016-06-07T17:32:48Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "body": "https://travis-ci.org/pallets/flask/jobs/135626173\n\n``` python-traceback\nTraceback (most recent call last):\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/werkzeug/http.py\", line 26, in <module>\n    from urllib2 import parse_http_list as _parse_list_header, \\\nImportError: No module named 'urllib2'\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/_pytest/config.py\", line 320, in _importconftest\n    mod = conftestpath.pyimport()\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/py/_path/local.py\", line 650, in pyimport\n    __import__(modname)\n  File \"/home/travis/build/pallets/flask/tests/conftest.py\", line 9, in <module>\n    import flask\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/flask/__init__.py\", line 17, in <module>\n    from werkzeug.exceptions import abort\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/werkzeug/__init__.py\", line 152, in <module>\n    __import__('werkzeug.exceptions')\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/werkzeug/exceptions.py\", line 71, in <module>\n    from werkzeug.wrappers import Response\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/werkzeug/wrappers.py\", line 26, in <module>\n    from werkzeug.http import HTTP_STATUS_CODES, \\\n  File \"/home/travis/build/pallets/flask/.tox/py-devel/lib/python3.3/site-packages/werkzeug/http.py\", line 29, in <module>\n    from urllib.request import parse_http_list as _parse_list_header, \\\nImportError: cannot import name unquote_to_bytes\n```\n\nI can't reproduce this locally.  Re-running the job still fails.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1877", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1877/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1877/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1877/events", "html_url": "https://github.com/pallets/flask/issues/1877", "id": 158315713, "node_id": "MDU6SXNzdWUxNTgzMTU3MTM=", "number": 1877, "title": "jsonify no longer causes Content-Length to be set on returned Response object", "user": {"login": "mbra", "id": 641940, "node_id": "MDQ6VXNlcjY0MTk0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/641940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbra", "html_url": "https://github.com/mbra", "followers_url": "https://api.github.com/users/mbra/followers", "following_url": "https://api.github.com/users/mbra/following{/other_user}", "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbra/subscriptions", "organizations_url": "https://api.github.com/users/mbra/orgs", "repos_url": "https://api.github.com/users/mbra/repos", "events_url": "https://api.github.com/users/mbra/events{/privacy}", "received_events_url": "https://api.github.com/users/mbra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 13, "created_at": "2016-06-03T08:24:29Z", "updated_at": "2020-11-14T04:08:53Z", "closed_at": "2017-05-30T20:47:38Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I am not sure if this was an intentional change, as it is only triggered by `jsonify` by passing an iterable to `flask.wrappers.Response`/`werkzeug.wrappers.Response`.\n\nIn commit https://github.com/pallets/flask/commit/d9402fc0c03353b6d2659297682e578d695476ce a newline was added to the json response, as per a request from the httpbin project.\n\nWhen `werkzeug.wrappers.Response` is passed a non text_type iterable, the `self.set_data` codepath, responsible for setting the Content-Length header, is not used anymore.\n\nIroncially this breaks httpbins \"response-headers\" route that uses the response object in a somewhat\ncreative way and breaks while trying to access `response.headers['Content-Length']`\n\nIf this considered a backwards incompatible change that might need to be undone, or is this considered new and intended behaviour?\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1877/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1837", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1837/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1837/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1837/events", "html_url": "https://github.com/pallets/flask/issues/1837", "id": 157610040, "node_id": "MDU6SXNzdWUxNTc2MTAwNDA=", "number": 1837, "title": "Setting error handler for unknown code fails", "user": {"login": "georgthegreat", "id": 1121500, "node_id": "MDQ6VXNlcjExMjE1MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1121500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/georgthegreat", "html_url": "https://github.com/georgthegreat", "followers_url": "https://api.github.com/users/georgthegreat/followers", "following_url": "https://api.github.com/users/georgthegreat/following{/other_user}", "gists_url": "https://api.github.com/users/georgthegreat/gists{/gist_id}", "starred_url": "https://api.github.com/users/georgthegreat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/georgthegreat/subscriptions", "organizations_url": "https://api.github.com/users/georgthegreat/orgs", "repos_url": "https://api.github.com/users/georgthegreat/repos", "events_url": "https://api.github.com/users/georgthegreat/events{/privacy}", "received_events_url": "https://api.github.com/users/georgthegreat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32876, "node_id": "MDU6TGFiZWwzMjg3Ng==", "url": "https://api.github.com/repos/pallets/flask/labels/docs", "name": "docs", "color": "0e8a16", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 23, "created_at": "2016-05-31T07:51:12Z", "updated_at": "2020-11-14T03:52:35Z", "closed_at": "2017-06-01T01:10:00Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "The following code:\n\n```\nflask_app.errorhandler(402)(http_exception_handler)\n```\n\nraises `KeyError: 402` due to missing 402 in default exception. Code works fine with Flask=0.10.1\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1837/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1837/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1829", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1829/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1829/events", "html_url": "https://github.com/pallets/flask/issues/1829", "id": 157400362, "node_id": "MDU6SXNzdWUxNTc0MDAzNjI=", "number": 1829, "title": "\"[Errno 2] No such file or directory\" on flask run with FLASK_DEBUG=1", "user": {"login": "yoavram", "id": 1288133, "node_id": "MDQ6VXNlcjEyODgxMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1288133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoavram", "html_url": "https://github.com/yoavram", "followers_url": "https://api.github.com/users/yoavram/followers", "following_url": "https://api.github.com/users/yoavram/following{/other_user}", "gists_url": "https://api.github.com/users/yoavram/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoavram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoavram/subscriptions", "organizations_url": "https://api.github.com/users/yoavram/orgs", "repos_url": "https://api.github.com/users/yoavram/repos", "events_url": "https://api.github.com/users/yoavram/events{/privacy}", "received_events_url": "https://api.github.com/users/yoavram/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 30, "created_at": "2016-05-29T19:03:30Z", "updated_at": "2020-11-14T01:42:20Z", "closed_at": "2016-12-26T18:59:20Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I get the following `[Errno 2] No such file or directory` with **flask 0.11** & werkzeug 0.11.10 on Windows 7 64bit with Python 3.5 but only when `FLASK_DEBUG=1`. \n\n``` sh\nD:\\tmp\n\u03bb python --version\nPython 3.5.1 :: Continuum Analytics, Inc.\n\nD:\\tmp\n\u03bb python -c \"import hello_flask\"\n\nD:\\tmp\n\u03bb set FLASK_APP=hello_flask.py\n\nD:\\tmp\n\u03bb flask run\n * Serving Flask app \"hello_flask\"\n * Forcing debug mode off\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n\nD:\\tmp\n\u03bb set FLASK_DEBUG=1\n\nD:\\tmp\n\u03bb flask run\n * Serving Flask app \"hello_flask\"\n * Forcing debug mode on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with windowsapi reloader\nd:\\anaconda3\\envs\\flask\\python.exe: can't open file 'D:\\Anaconda3\\envs\\flask\\Scripts\\flask': [Errno 2] No such file or directory\n```\n\n`hello_flask.py` is the minimal app from the [docs](http://flask.pocoo.org/docs/0.11/quickstart/#a-minimal-application).\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1829/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1427", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1427/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1427/events", "html_url": "https://github.com/pallets/flask/issues/1427", "id": 67637251, "node_id": "MDU6SXNzdWU2NzYzNzI1MQ==", "number": 1427, "title": "Bug in send_file with temp files", "user": {"login": "b4stien", "id": 1778107, "node_id": "MDQ6VXNlcjE3NzgxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1778107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b4stien", "html_url": "https://github.com/b4stien", "followers_url": "https://api.github.com/users/b4stien/followers", "following_url": "https://api.github.com/users/b4stien/following{/other_user}", "gists_url": "https://api.github.com/users/b4stien/gists{/gist_id}", "starred_url": "https://api.github.com/users/b4stien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b4stien/subscriptions", "organizations_url": "https://api.github.com/users/b4stien/orgs", "repos_url": "https://api.github.com/users/b4stien/repos", "events_url": "https://api.github.com/users/b4stien/events{/privacy}", "received_events_url": "https://api.github.com/users/b4stien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 12, "created_at": "2015-04-10T16:52:33Z", "updated_at": "2020-11-14T05:07:25Z", "closed_at": "2016-06-03T16:17:04Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Hey there,\n\nI don't know if anyone ran into this problem before because it works \"by chance\" in py2, but in py3 you can't send temporary file with `send_file` by passing a fp.\n\nThe main problems are here https://github.com/mitsuhiko/flask/blob/master/flask/helpers.py#L477 and there https://github.com/mitsuhiko/flask/blob/master/flask/helpers.py#L496.\n\nUnder py2 a `tempfile.TemporaryFile` is given the name `'<fdopen>'` whereas under py3 it's an integer.\n\n```\nPython 2.7.9 (default, Dec 15 2014, 10:01:34)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.56)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tempfile import TemporaryFile\n>>> fp = TemporaryFile()\n>>> fp.name\n'<fdopen>'\n```\n\n```\nPython 3.4.3 (default, Mar 23 2015, 04:19:36)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tempfile import TemporaryFile\n>>> fp = TemporaryFile()\n>>> fp.name\n4\n```\n\nThen when Flask tries to build `filename` it crashes (trying to concatenate a string and an integer in `os.path.join(current_app.root_path, filename)`).\n\nWould you consider merging a workaround for this problem? (like setting `filename` to `None` if we don't have a `string_types` for instance)\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1406", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1406/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1406/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1406/events", "html_url": "https://github.com/pallets/flask/issues/1406", "id": 65072569, "node_id": "MDU6SXNzdWU2NTA3MjU2OQ==", "number": 1406, "title": "Generic error handler for any exception", "user": {"login": "joscarsson", "id": 3265646, "node_id": "MDQ6VXNlcjMyNjU2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/3265646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joscarsson", "html_url": "https://github.com/joscarsson", "followers_url": "https://api.github.com/users/joscarsson/followers", "following_url": "https://api.github.com/users/joscarsson/following{/other_user}", "gists_url": "https://api.github.com/users/joscarsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/joscarsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joscarsson/subscriptions", "organizations_url": "https://api.github.com/users/joscarsson/orgs", "repos_url": "https://api.github.com/users/joscarsson/repos", "events_url": "https://api.github.com/users/joscarsson/events{/privacy}", "received_events_url": "https://api.github.com/users/joscarsson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-03-29T15:54:55Z", "updated_at": "2020-11-14T02:52:40Z", "closed_at": "2015-03-29T17:16:25Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Is there a way to add a global catch-all error handler in which I can change the response to a generic JSON response?\n\nI can't use the `got_request_exception` signal, as it is not allowed to modify the response (http://flask.pocoo.org/docs/0.10/signals/).\n\n> In contrast all signal handlers are executed in undefined order and do not modify any data.\n\nI would prefer to not wrap the `app.handle_exception` function as that feels like internal API. I guess I'm after something like:\n\n``` python\n@app.errorhandler()\ndef handle_global_error(e):\n  return \"Global error\"\n```\n\nNote the `errorhandler` does not take any parameters, meaning it would catch all exceptions/status codes which does not have a specific error handler attached to them. I know I can use `errorhandler(500)` to catch exceptions, but if I do `abort(409)` for example, it will still return a HTML response.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1348", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1348/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1348/events", "html_url": "https://github.com/pallets/flask/issues/1348", "id": 56962953, "node_id": "MDU6SXNzdWU1Njk2Mjk1Mw==", "number": 1348, "title": "sessions not saved when streaming", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 398835124, "node_id": "MDU6TGFiZWwzOTg4MzUxMjQ=", "url": "https://api.github.com/repos/pallets/flask/labels/session", "name": "session", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 3, "created_at": "2015-02-08T19:03:16Z", "updated_at": "2021-06-02T00:20:39Z", "closed_at": "2017-06-03T19:26:15Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "When streaming, changes to the session object at the start of the request \r\nprocessing are never saved at all, the moment template rendering starts, a new \r\nsession object is created which is then saved.\r\n\r\nThe statement on IRC was first that this is due to the fact that sessions (by default) are stored client side, and can not change anymore after the headers are send.\r\nThis is only true for sessions that are stored client side, if the sessions are server side it should be possible to change (and save) them during the whole request/response.\r\nThe real problem here seems to be that a new session is created when the stream starts.\r\n\r\nWe used the following example to stream contents: http://flask.pocoo.org/docs/0.10/patterns/streaming/\r\n\r\nFor now a workaround is to explicitly save the session after modifying, before rendering the template / starting the stream.\r\n\r\nExpected output is always the same, one time session open and one time session save.\r\nIn the stream example the output is different; 2 sessions are opend, the first one is the one that changes, but the second one (this is opened when the stream starts) is the only one that is saved.\r\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1348/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1330", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1330/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1330/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1330/events", "html_url": "https://github.com/pallets/flask/issues/1330", "id": 55771025, "node_id": "MDU6SXNzdWU1NTc3MTAyNQ==", "number": 1330, "title": "Method is_json does not support capital letters in mimetype", "user": {"login": "KarelJakubec", "id": 2052163, "node_id": "MDQ6VXNlcjIwNTIxNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2052163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KarelJakubec", "html_url": "https://github.com/KarelJakubec", "followers_url": "https://api.github.com/users/KarelJakubec/followers", "following_url": "https://api.github.com/users/KarelJakubec/following{/other_user}", "gists_url": "https://api.github.com/users/KarelJakubec/gists{/gist_id}", "starred_url": "https://api.github.com/users/KarelJakubec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KarelJakubec/subscriptions", "organizations_url": "https://api.github.com/users/KarelJakubec/orgs", "repos_url": "https://api.github.com/users/KarelJakubec/repos", "events_url": "https://api.github.com/users/KarelJakubec/events{/privacy}", "received_events_url": "https://api.github.com/users/KarelJakubec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-01-28T15:34:45Z", "updated_at": "2020-11-14T05:52:20Z", "closed_at": "2015-01-29T09:24:38Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Method is_json (flask/wrappers.py:112) tests whether mimetype is in format 'application/...+json'. According to http://tools.ietf.org/html/rfc2045, mime types are case insensitive.\n\n'The type, subtype, and parameter names are not case sensitive.  For example, TEXT, Text, and TeXt are all equivalent top-level media types.'\n\nSo mimetype 'ApLiCaTiOn/jSoN' is technically fine (and yes, extremely rare) and as the method tests the mimetype just for lowercase mimetype 'application/json' the previous example will fail, yet it should be ok.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1173", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1173/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1173/events", "html_url": "https://github.com/pallets/flask/issues/1173", "id": 42437021, "node_id": "MDU6SXNzdWU0MjQzNzAyMQ==", "number": 1173, "title": "python3 -mpdb myflaskapp.py fon ubuntu 14.04", "user": {"login": "davidabarrett", "id": 8687679, "node_id": "MDQ6VXNlcjg2ODc2Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8687679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidabarrett", "html_url": "https://github.com/davidabarrett", "followers_url": "https://api.github.com/users/davidabarrett/followers", "following_url": "https://api.github.com/users/davidabarrett/following{/other_user}", "gists_url": "https://api.github.com/users/davidabarrett/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidabarrett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidabarrett/subscriptions", "organizations_url": "https://api.github.com/users/davidabarrett/orgs", "repos_url": "https://api.github.com/users/davidabarrett/repos", "events_url": "https://api.github.com/users/davidabarrett/events{/privacy}", "received_events_url": "https://api.github.com/users/davidabarrett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-09-10T17:17:49Z", "updated_at": "2020-11-14T05:52:34Z", "closed_at": "2014-10-19T18:20:57Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "On ubuntu 14.04, python3 -mpdb ... raises exception after hitting \n'c' to run on the 'import flask' statement:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/importlib/util.py\", line 95, in find_spec\n    spec = module.**spec**\nAttributeError: 'module' object has no attribute '**spec**'\n\nWorks fine for python 2.7 though.\n\nHere is the myflaskapp.py:\n\nimport flask\napp = flask.Flask(**name**)\n@app.route('/')\ndef root():\n    return ('root')\nif **name** == '**main**':\n    app.run(debug=True)\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1169", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1169/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1169/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1169/events", "html_url": "https://github.com/pallets/flask/issues/1169", "id": 41920550, "node_id": "MDU6SXNzdWU0MTkyMDU1MA==", "number": 1169, "title": "BUG in \"send_file\" and \"send_from_directory\"", "user": {"login": "baisk", "id": 2310450, "node_id": "MDQ6VXNlcjIzMTA0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2310450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baisk", "html_url": "https://github.com/baisk", "followers_url": "https://api.github.com/users/baisk/followers", "following_url": "https://api.github.com/users/baisk/following{/other_user}", "gists_url": "https://api.github.com/users/baisk/gists{/gist_id}", "starred_url": "https://api.github.com/users/baisk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baisk/subscriptions", "organizations_url": "https://api.github.com/users/baisk/orgs", "repos_url": "https://api.github.com/users/baisk/repos", "events_url": "https://api.github.com/users/baisk/events{/privacy}", "received_events_url": "https://api.github.com/users/baisk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 40, "created_at": "2014-09-04T10:38:47Z", "updated_at": "2020-11-14T02:21:23Z", "closed_at": "2015-11-07T09:15:11Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "L496 in helpers.py\nIf i use flask as a package instead of a module,  I want to expose a file which is not in package.\nchecks in send_from_directory will be passed because of rel path.  However, in send_file,  added abs folder, it occur an error.\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1167", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1167/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1167/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1167/events", "html_url": "https://github.com/pallets/flask/issues/1167", "id": 41865138, "node_id": "MDU6SXNzdWU0MTg2NTEzOA==", "number": 1167, "title": "Randomly Unresponsive After Strange Character Requests", "user": {"login": "whatsdis", "id": 7296901, "node_id": "MDQ6VXNlcjcyOTY5MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/7296901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whatsdis", "html_url": "https://github.com/whatsdis", "followers_url": "https://api.github.com/users/whatsdis/followers", "following_url": "https://api.github.com/users/whatsdis/following{/other_user}", "gists_url": "https://api.github.com/users/whatsdis/gists{/gist_id}", "starred_url": "https://api.github.com/users/whatsdis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whatsdis/subscriptions", "organizations_url": "https://api.github.com/users/whatsdis/orgs", "repos_url": "https://api.github.com/users/whatsdis/repos", "events_url": "https://api.github.com/users/whatsdis/events{/privacy}", "received_events_url": "https://api.github.com/users/whatsdis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-09-03T20:37:59Z", "updated_at": "2020-11-14T06:08:40Z", "closed_at": "2014-10-19T18:23:11Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I use a flask server to serve static files from a server but once in a while the server becomes completely unresponsive, downloading a file keeps loading but never downloads. When I opened up the terminal, I found some weird requests, I hit CTRL + C and the server immediately becomes responsive again and downloads continue. This happens every so often and I have no idea what's causing this and how to prevent it from freezing my flask server, is this someone trying to hack?\n\n```\nuser@server:~/worker# python server.py\n * Running on http://0.0.0.0:80/\n93.134.13.318 - - [03/Sep/2014 02:07:18] code 400, message Bad request syntax ('\\x00')\n93.134.13.318 - - [03/Sep/2014 02:07:18] \"\" 400 -\n93.134.13.318 - - [03/Sep/2014 02:07:19] \"GET http://httpheader.net HTTP/1.1\" 404 -\n93.134.13.318 - - [03/Sep/2014 02:07:40] code 400, message Bad request syntax ('\\x04\\x01\\x00P\\xc6\\xce\\x0eu0\\x00')\n93.174.93.218 - - [03/Sep/2014 02:07:40] \"P\ufffd\ufffdu0\" 400 -\n^C----------------------------------------\nException happened during processing of request from ('93.174.93.218 ', 45082)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/SocketServer.py\", line 284, in _handle_request_noblock\n    self.process_request(request, client_address)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 310, in process_request\n    self.finish_request(request, client_address)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 323, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 638, in __init__\n    self.handle()\n  File \"/usr/local/lib/python2.7/dist-packages/werkzeug/serving.py\", line 200, in handle\n    rv = BaseHTTPRequestHandler.handle(self)\n  File \"/usr/lib/python2.7/BaseHTTPServer.py\", line 340, in handle\n    self.handle_one_request()\n  File \"/usr/local/lib/python2.7/dist-packages/werkzeug/serving.py\", line 231, in handle_one_request\n    self.raw_requestline = self.rfile.readline()\n  File \"/usr/lib/python2.7/socket.py\", line 447, in readline\n    data = self._sock.recv(self._rbufsize)\nKeyboardInterrupt\n----------------------------------------\n42.36.63.90 - - [03/Sep/2014 03:21:20] \"GET / HTTP/1.1\" 404 -\n63.63.193.195 - - [03/Sep/2014 03:21:20] \"GET / HTTP/1.1\" 404 -\n```\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/1124", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/1124/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/1124/events", "html_url": "https://github.com/pallets/flask/issues/1124", "id": 37960447, "node_id": "MDU6SXNzdWUzNzk2MDQ0Nw==", "number": 1124, "title": "CLI: \"flask\" command help doesn't list custom commands", "user": {"login": "erwagasore", "id": 1290048, "node_id": "MDQ6VXNlcjEyOTAwNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1290048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erwagasore", "html_url": "https://github.com/erwagasore", "followers_url": "https://api.github.com/users/erwagasore/followers", "following_url": "https://api.github.com/users/erwagasore/following{/other_user}", "gists_url": "https://api.github.com/users/erwagasore/gists{/gist_id}", "starred_url": "https://api.github.com/users/erwagasore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erwagasore/subscriptions", "organizations_url": "https://api.github.com/users/erwagasore/orgs", "repos_url": "https://api.github.com/users/erwagasore/repos", "events_url": "https://api.github.com/users/erwagasore/events{/privacy}", "received_events_url": "https://api.github.com/users/erwagasore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}, {"id": 380608249, "node_id": "MDU6TGFiZWwzODA2MDgyNDk=", "url": "https://api.github.com/repos/pallets/flask/labels/cli", "name": "cli", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pallets/flask/milestones/2", "html_url": "https://github.com/pallets/flask/milestone/2", "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels", "id": 795954, "node_id": "MDk6TWlsZXN0b25lNzk1OTU0", "number": 2, "title": "1.0", "description": "", "creator": {"login": "untitaker", "id": 837573, "node_id": "MDQ6VXNlcjgzNzU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untitaker", "html_url": "https://github.com/untitaker", "followers_url": "https://api.github.com/users/untitaker/followers", "following_url": "https://api.github.com/users/untitaker/following{/other_user}", "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions", "organizations_url": "https://api.github.com/users/untitaker/orgs", "repos_url": "https://api.github.com/users/untitaker/repos", "events_url": "https://api.github.com/users/untitaker/events{/privacy}", "received_events_url": "https://api.github.com/users/untitaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 159, "state": "closed", "created_at": "2014-09-19T15:47:20Z", "updated_at": "2018-04-26T21:07:44Z", "due_on": "2018-04-26T07:00:00Z", "closed_at": "2018-04-26T21:07:44Z"}, "comments": 11, "created_at": "2014-07-16T08:39:22Z", "updated_at": "2020-11-14T05:07:35Z", "closed_at": "2016-05-26T19:29:49Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I am playing with the latest release of flask with <code>cli</code> module. I have created a command called <code>initdb</code> and when I call <code>flask initdb</code> it works as expected, but when I just call <code>flask</code> command it supposed to show the list of all available commands including <code>initdb</code>, which is not the case. Any idea why?\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/1124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/pallets/flask/issues/941", "repository_url": "https://api.github.com/repos/pallets/flask", "labels_url": "https://api.github.com/repos/pallets/flask/issues/941/labels{/name}", "comments_url": "https://api.github.com/repos/pallets/flask/issues/941/comments", "events_url": "https://api.github.com/repos/pallets/flask/issues/941/events", "html_url": "https://github.com/pallets/flask/issues/941", "id": 25029556, "node_id": "MDU6SXNzdWUyNTAyOTU1Ng==", "number": 941, "title": "Registering a handler for HTTPException has no effect", "user": {"login": "mdeous", "id": 393165, "node_id": "MDQ6VXNlcjM5MzE2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/393165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdeous", "html_url": "https://github.com/mdeous", "followers_url": "https://api.github.com/users/mdeous/followers", "following_url": "https://api.github.com/users/mdeous/following{/other_user}", "gists_url": "https://api.github.com/users/mdeous/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdeous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdeous/subscriptions", "organizations_url": "https://api.github.com/users/mdeous/orgs", "repos_url": "https://api.github.com/users/mdeous/repos", "events_url": "https://api.github.com/users/mdeous/events{/privacy}", "received_events_url": "https://api.github.com/users/mdeous/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 130597497, "node_id": "MDU6TGFiZWwxMzA1OTc0OTc=", "url": "https://api.github.com/repos/pallets/flask/labels/blocker", "name": "blocker", "color": "b60205", "default": false, "description": null}, {"id": 135583063, "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=", "url": "https://api.github.com/repos/pallets/flask/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2014-01-03T18:58:20Z", "updated_at": "2020-10-04T15:55:21Z", "closed_at": "2017-05-23T19:55:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When registering a handler for `werkzeug.exceptions.HTTPException`, it has no effect when an HTTP error is raised.\n\nAssume the following handler:\n\n``` python\n@app.errorhandler(HTTPException)\ndef http_err_handler(error):\n    response = jsonify({\n        \"success\": False, \n        \"message\": error.name\n    })\n    response.status_code = error.code\n    return response\n```\n\nWhen requesting a page for which no route exists, a JSON response should be returned by the error handler, but instead, the usual `Flask`-generated HTTP error page is returned.\n\nOn the other hand, if the error handler is defined to handle a specific error code (by passing the error code to the `app.errorhandler` decorator), the exception is trapped and the JSON message returned.\n\nAs `wekzeug.exceptions.HTTPException` is the class raised internally by the `abort()` function, why isn't it possible to create a \"catch-all\" handler like this? Am I missing something?\n", "reactions": {"url": "https://api.github.com/repos/pallets/flask/issues/941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pallets/flask/issues/941/timeline", "performed_via_github_app": null, "state_reason": "completed"}]