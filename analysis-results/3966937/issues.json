[{"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1294", "id": 1651260842, "node_id": "I_kwDOAc-Z285ibD2q", "number": 1294, "title": "WiringPi url is no longer active", "user": {"login": "KShips", "id": 13477914, "node_id": "MDQ6VXNlcjEzNDc3OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/13477914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KShips", "html_url": "https://github.com/KShips", "followers_url": "https://api.github.com/users/KShips/followers", "following_url": "https://api.github.com/users/KShips/following{/other_user}", "gists_url": "https://api.github.com/users/KShips/gists{/gist_id}", "starred_url": "https://api.github.com/users/KShips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KShips/subscriptions", "organizations_url": "https://api.github.com/users/KShips/orgs", "repos_url": "https://api.github.com/users/KShips/repos", "events_url": "https://api.github.com/users/KShips/events{/privacy}", "received_events_url": "https://api.github.com/users/KShips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-03T03:16:14Z", "updated_at": "2023-04-06T16:21:55Z", "closed_at": "2023-04-06T16:21:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error during installs that it cannot find deb file, original project is no longer maintained. \r\n\r\nInvalid url in upgrade_commands.sh file:\r\nWIRINGPI_URL=\"https://project-downloads.drogon.net/wiringpi-latest.deb\"\r\n\r\nFound this fork which looks to be drop-in replacement? (Have not tested):\r\nhttps://github.com/WiringPi/WiringPi\r\nWIRINGPI_URL=\"https://github.com/WiringPi/WiringPi/releases/download/2.61-1/wiringpi-2.61-1-armhf.deb\"", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1293", "id": 1651255656, "node_id": "I_kwDOAc-Z285ibClo", "number": 1293, "title": "Daemon won't start when influxdb not installed ", "user": {"login": "KShips", "id": 13477914, "node_id": "MDQ6VXNlcjEzNDc3OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/13477914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KShips", "html_url": "https://github.com/KShips", "followers_url": "https://api.github.com/users/KShips/followers", "following_url": "https://api.github.com/users/KShips/following{/other_user}", "gists_url": "https://api.github.com/users/KShips/gists{/gist_id}", "starred_url": "https://api.github.com/users/KShips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KShips/subscriptions", "organizations_url": "https://api.github.com/users/KShips/orgs", "repos_url": "https://api.github.com/users/KShips/repos", "events_url": "https://api.github.com/users/KShips/events{/privacy}", "received_events_url": "https://api.github.com/users/KShips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-03T03:10:21Z", "updated_at": "2023-04-06T16:20:46Z", "closed_at": "2023-04-06T16:20:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nHave attempted a couple of fresh installs, I have installed selecting to not install influxdb as pi runs too slowly wth it and want to use external db server, appears to go through install ok but daemon won't startup, status looks like it is waiting for influxdb to start but it isn't installed so hangs?\r\n\r\n```\r\nsudo service mycodo status\r\n\u25cf mycodo.service - Mycodo server\r\n     Loaded: loaded (/home/pi/Mycodo/install/mycodo.service; enabled; vendor preset: enabled)\r\n     Active: activating (start-pre) since Mon 2023-04-03 03:01:20 BST; 12min ago\r\nCntrl PID: 2754 (bash)\r\n      Tasks: 2 (limit: 529)\r\n        CPU: 29.656s\r\n     CGroup: /system.slice/mycodo.service\r\n             \u251c\u25002754 /bin/bash /var/mycodo-root/install/influxdb_wait_until_running.sh\r\n             \u2514\u25004285 sleep 1\r\n```\r\n\r\nRunning manually appears to get up and running:\r\n\r\n>  sudo /var/mycodo-root/env/bin/python /var/mycodo-root/mycodo/mycodo_daemon.py --debug\r\n> 2023-04-03 02:58:29,891 Mycodo daemon v8.15.7 starting\r\n> 2023-04-03 02:58:29,900 Refreshing misc settings\r\n> 2023-04-03 02:58:30,105 Anonymous statistics enabled\r\n> 2023-04-03 02:58:30,115 Starting Pyro5 daemon\r\n> Object <__main__.PyroServer object at 0xb46af778>:\r\n>     uri = PYRO:mycodo.pyro_server@0.0.0.0:9080\r\n> Pyro daemon running.\r\n> 2023-04-03 02:58:32,204 Starting Output Controller\r\n> 2023-04-03 02:58:32,631 Initializing Outputs\r\n> 2023-04-03 02:58:35,625 Outputs Initialized\r\n> 2023-04-03 02:58:35,632 Activated in 3420.9 ms\r\n> 2023-04-03 02:58:36,136 Output Controller fully started\r\n> 2023-04-03 02:58:36,143 Starting all activated Conditional controllers\r\n> 2023-04-03 02:58:36,151 All activated Conditional controllers started\r\n> 2023-04-03 02:58:36,157 Starting all activated Trigger controllers\r\n> 2023-04-03 02:58:36,165 All activated Trigger controllers started\r\n> 2023-04-03 02:58:36,172 Starting all activated Input controllers\r\n> 2023-04-03 02:58:36,178 All activated Input controllers started\r\n> 2023-04-03 02:58:36,185 Starting all activated PID controllers\r\n> 2023-04-03 02:58:36,192 All activated PID controllers started\r\n> 2023-04-03 02:58:36,199 Starting all activated Function controllers\r\n> 2023-04-03 02:58:36,206 All activated Function controllers started\r\n> 2023-04-03 02:58:36,212 Starting Widget Controller\r\n> 2023-04-03 02:58:36,805 Initializing Widgets\r\n> 2023-04-03 02:58:37,163 Widgets Initialized\r\n> 2023-04-03 02:58:37,171 Activated in 949.2 ms\r\n> 2023-04-03 02:58:37,674 Widget Controller fully started\r\n> 2023-04-03 02:58:38,182 Mycodo daemon started in 8.283 seconds\r\n> 2023-04-03 02:58:38,552 47.12 MB RAM in use\r\n> 2023-04-03 03:00:40,134 Requested http://ipinfo.io/json\r\n> 2023-04-03 03:00:41,278 Sent anonymous usage statistics\r\n> 2023-04-03 03:00:56,701 Received command to terminate daemon\r\n> 2023-04-03 03:00:57,339 Stopping all running controllers\r\n> 2023-04-03 03:00:57,344 All Function controllers stopped\r\n> 2023-04-03 03:00:57,350 All PID controllers stopped\r\n> 2023-04-03 03:00:57,355 All Input controllers stopped\r\n> 2023-04-03 03:00:57,360 All Trigger controllers stopped\r\n> 2023-04-03 03:00:57,365 All Conditional controllers stopped\r\n> 2023-04-03 03:00:57,402 Deactivated in 31.5 ms\r\n> 2023-04-03 03:00:57,622 Deactivated in 213.1 ms\r\n> 2023-04-03 03:00:57,628 Mycodo daemon terminated in 0.927 seconds\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.15.7\r\n - Raspberry Pi Version: Model B Rev 2\r\n - Raspbian OS Version: RPi Lite\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1291", "id": 1644172560, "node_id": "I_kwDOAc-Z285iABUQ", "number": 1291, "title": "Py code does not saving if \"Analyze Python with Pylint\" is unchecked", "user": {"login": "wingsergey", "id": 5011322, "node_id": "MDQ6VXNlcjUwMTEzMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5011322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wingsergey", "html_url": "https://github.com/wingsergey", "followers_url": "https://api.github.com/users/wingsergey/followers", "following_url": "https://api.github.com/users/wingsergey/following{/other_user}", "gists_url": "https://api.github.com/users/wingsergey/gists{/gist_id}", "starred_url": "https://api.github.com/users/wingsergey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wingsergey/subscriptions", "organizations_url": "https://api.github.com/users/wingsergey/orgs", "repos_url": "https://api.github.com/users/wingsergey/repos", "events_url": "https://api.github.com/users/wingsergey/events{/privacy}", "received_events_url": "https://api.github.com/users/wingsergey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-03-28T15:14:04Z", "updated_at": "2023-04-06T16:20:38Z", "closed_at": "2023-04-06T16:20:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nIf uncheck 'Analyze Python with Pylint' flag during saving of Conditional Functions code under Run Python Code section is not applied in controller.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *8.15.7*\r\n - Raspberry Pi Version: *4B*\r\n - Raspbian OS Version: *Buster Lite*\r\n\r\n### Additional context\r\n\r\nIn daemon logs I also can see old code in debug message\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1260", "id": 1533506992, "node_id": "I_kwDOAc-Z285bZ3Ww", "number": 1260, "title": "Creating a new graph widget results in a blank graph", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-14T21:42:14Z", "updated_at": "2023-01-15T21:03:35Z", "closed_at": "2023-01-14T21:49:50Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Creating a new graph widget results in a blank graph. This only occurs when the first graph widget is created. If the frontend or the computer is restarted, it works fine, Any additional graphs will work fine after an initial frontend/computer restart.\r\n\r\nRef: https://forum.radicaldiy.com/t/after-upgrading-to-8-15-0-temperature-graph-is-no-longer-working", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1254", "id": 1514536817, "node_id": "I_kwDOAc-Z285aRf9x", "number": 1254, "title": "Cannot get Ezo pump to work with bang bang", "user": {"login": "cperricos", "id": 26612047, "node_id": "MDQ6VXNlcjI2NjEyMDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/26612047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cperricos", "html_url": "https://github.com/cperricos", "followers_url": "https://api.github.com/users/cperricos/followers", "following_url": "https://api.github.com/users/cperricos/following{/other_user}", "gists_url": "https://api.github.com/users/cperricos/gists{/gist_id}", "starred_url": "https://api.github.com/users/cperricos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cperricos/subscriptions", "organizations_url": "https://api.github.com/users/cperricos/orgs", "repos_url": "https://api.github.com/users/cperricos/repos", "events_url": "https://api.github.com/users/cperricos/events{/privacy}", "received_events_url": "https://api.github.com/users/cperricos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-30T13:48:37Z", "updated_at": "2023-01-20T03:26:44Z", "closed_at": "2023-01-20T03:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n### Describe the problem/bug\r\n\r\nSo I am making sme progress in my pool controller, but cant get my EZO pump to work with the bang bang controller. I set a threshold of 750mv ORP which should activate the pump (it wokrs when I try to dispense etc via the out put controller)\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.14.2\r\n - Raspberry Pi Version: 3B\r\n - Raspbian OS Version: *[e.g. Buster Lite]*\r\n\r\nthe log gives the following errors:\r\n\r\n[Action 0da1bcb1, MQTT: Publish]: MQTT Publish '220'.\r\n2022-12-30 13:41:30,039 - ERROR - mycodo.inputs.test_00_cbc058f4 - Exception: 'NoneType' object has no attribute 'randint'\r\n2022-12-30 13:41:30,040 - ERROR - mycodo.controllers.controller_input_cbc058f4 - StopIteration raised 3 times. Possibly could not read input. Ensure it's connected properly and detected.\r\n2022-12-30 13:41:35,982 - DEBUG - mycodo.function.bang_bang_8892780e - Input: 191.45000000000002, output: off, target: 750.0, hyst: 30.0\r\n2022-12-30 13:41:35,989 - DEBUG - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - output_on_off(on, 0, None, 0.0, 0.0, True)\r\n2022-12-30 13:41:36,017 - ERROR - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - Invalid parameters: State: on, Type: sec, Mode: specify_flow_rate, Amount: None, Flow Rate: 50.0\r\n2022-12-30 13:41:36,018 - DEBUG - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - Output 642e7235-99ee-47ec-9cb3-5636a98b2291 CH0 (Acid) ON at 2022-12-30 13:37:05.985332. Output returned: None\r\n2022-12-30 13:41:44,994 - ERROR - mycodo.inputs.test_00_cbc058f4 - Exception: 'NoneType' object has no attribute 'randint'\r\n2022-12-30 13:42:00,037 - ERROR - mycodo.inputs.test_00_cbc058f4 - Exception: 'NoneType' object has no attribute 'randint'\r\n2022-12-30 13:42:05,902 - DEBUG - mycodo.function.bang_bang_8892780e - Input: 191.45000000000002, output: off, target: 750.0, hyst: 30.0\r\n2022-12-30 13:42:05,910 - DEBUG - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - output_on_off(on, 0, None, 0.0, 0.0, True)\r\n2022-12-30 13:42:05,933 - ERROR - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - Invalid parameters: State: on, Type: sec, Mode: specify_flow_rate, Amount: None, Flow Rate: 50.0\r\n2022-12-30 13:42:05,933 - DEBUG - mycodo.outputs.pump_atlas_ezo_pmp_642e7235 - Output 642e7235-99ee-47ec-9cb3-5636a98b2291 CH0 (Acid) ON at 2022-12-30 13:37:05.985332. Output returned: None\r\n2022-12-30 13:42:14,996 - ERROR - mycodo.inputs.test_00_cbc058f4 - Exception: 'NoneType' object has no attribute 'randint'\r\n2022-12-30 13:42:14,997 - ERROR - mycodo.controllers.controller_input_cbc058f4 - StopIteration raised 3 times. Possibly could not read input. Ensure it's connected properly and detected.\r\n2022-12-30 13:42:28,241 - INFO - mycodo.controllers.controller_conditional_934faf83 - This INFO log entry will appear in the Daemon Log\r\n2022-12-30 13:42:28,297 - INFO - mycodo.controllers.controller_conditional_934faf83 - Measurement value is 1\r\n2022-12-30 13:42:28,529 - DEBUG - mycodo.action.mqtt_publish_0da1bcb1 - Message: 2022-12-30 13:42:28", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1248", "id": 1477390910, "node_id": "I_kwDOAc-Z285YDzI-", "number": 1248, "title": "Just a typo, but might break code", "user": {"login": "summa-code", "id": 67173950, "node_id": "MDQ6VXNlcjY3MTczOTUw", "avatar_url": "https://avatars.githubusercontent.com/u/67173950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/summa-code", "html_url": "https://github.com/summa-code", "followers_url": "https://api.github.com/users/summa-code/followers", "following_url": "https://api.github.com/users/summa-code/following{/other_user}", "gists_url": "https://api.github.com/users/summa-code/gists{/gist_id}", "starred_url": "https://api.github.com/users/summa-code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/summa-code/subscriptions", "organizations_url": "https://api.github.com/users/summa-code/orgs", "repos_url": "https://api.github.com/users/summa-code/repos", "events_url": "https://api.github.com/users/summa-code/events{/privacy}", "received_events_url": "https://api.github.com/users/summa-code/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-05T20:34:33Z", "updated_at": "2023-01-14T03:14:36Z", "closed_at": "2023-01-14T03:14:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Latest code, it is the sample for Conditional function code \r\n\r\nE1101: Instance of 'ConditionalRun' has no 'loop_count' member (no-member)\r\n\r\nI think that it is run_loop_count\r\n\r\n```# Example code to provide a return status for other controllers and widgets.\r\nstatus_dict = {\r\n    'string_status': f\"The controller has looped {self.loop_count} times at {datetime.now()}\",\r\n    'loop_count': self.loop_count,\r\n    'error': []\r\n}\r\nreturn status_dict```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1246", "id": 1468660846, "node_id": "I_kwDOAc-Z285Xifxu", "number": 1246, "title": "Error 500 when clicking on Camera after starting a timelaps", "user": {"login": "Stus2", "id": 33314660, "node_id": "MDQ6VXNlcjMzMzE0NjYw", "avatar_url": "https://avatars.githubusercontent.com/u/33314660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stus2", "html_url": "https://github.com/Stus2", "followers_url": "https://api.github.com/users/Stus2/followers", "following_url": "https://api.github.com/users/Stus2/following{/other_user}", "gists_url": "https://api.github.com/users/Stus2/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stus2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stus2/subscriptions", "organizations_url": "https://api.github.com/users/Stus2/orgs", "repos_url": "https://api.github.com/users/Stus2/repos", "events_url": "https://api.github.com/users/Stus2/events{/privacy}", "received_events_url": "https://api.github.com/users/Stus2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-29T20:31:09Z", "updated_at": "2023-01-14T03:14:42Z", "closed_at": "2023-01-14T03:14:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the problem/bug**\r\nHello,\r\nI'm using Mycodo since july and now wanted to start a timelaps of my greenhouse.\r\nSince this i can't get to more -> camera and get no image of the camera.\r\nevery try i get internal server error 500.\r\n i think its a overflow error because of my choosen timerange of 99999 seconds but i have no idea how i can resolve this error. \r\n\r\n**Versions:**\r\nVersion: 8.14.2\r\nDatabase: 07c7c8ebc195\r\nModel: Raspberry Pi 4 Model B Rev 1.1\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 11 (bullseye)\r\nRelease: 11\r\nCodename: bullseye\r\n\r\nFirmware:\r\nb''\r\n\r\n**Error (Full Traceback):**\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 2077, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1525, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_restx/api.py\", line 672, in error_router\r\n    return original_handler(e)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1523, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1509, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_login/utils.py\", line 277, in decorated_view\r\n    return current_app.ensure_sync(func)(*args, **kwargs)\r\n  File \"/home/stu/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 300, in page_camera\r\n    return render_template('pages/camera.html',\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/templating.py\", line 148, in render_template\r\n    return _render(\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/templating.py\", line 128, in _render\r\n    rv = template.render(context)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/jinja2/environment.py\", line 1301, in render\r\n    self.environment.handle_exception()\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/jinja2/environment.py\", line 936, in handle_exception\r\n    raise rewrite_traceback_stack(source=source)\r\n  File \"/home/stu/Mycodo/mycodo/mycodo_flask/templates/pages/camera.html\", line 3, in top-level template code\r\n    {% set help_page = [\"https://kizniche.github.io/Mycodo/Camera/\", _('Cameras')] %}\r\n  File \"/home/stu/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 383, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/stu/Mycodo/mycodo/mycodo_flask/templates/pages/camera.html\", line 331, in block 'body'\r\n    <br/>End time: {{epoch_to_time_string(each_camera.timelapse_end_time)}}\r\n  File \"/home/stu/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 110, in epoch_to_time_string\r\n    return datetime.datetime.fromtimestamp(epoch).strftime(\r\nOverflowError: timestamp out of range for platform time_t\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1244", "id": 1464898016, "node_id": "I_kwDOAc-Z285XUJHg", "number": 1244, "title": "Error with function regulate_ph_ec: TypeError: unsupported operand type(s) for +: 'NoneType' and 'float' when running it", "user": {"login": "VitorFrost", "id": 5491480, "node_id": "MDQ6VXNlcjU0OTE0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/5491480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VitorFrost", "html_url": "https://github.com/VitorFrost", "followers_url": "https://api.github.com/users/VitorFrost/followers", "following_url": "https://api.github.com/users/VitorFrost/following{/other_user}", "gists_url": "https://api.github.com/users/VitorFrost/gists{/gist_id}", "starred_url": "https://api.github.com/users/VitorFrost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VitorFrost/subscriptions", "organizations_url": "https://api.github.com/users/VitorFrost/orgs", "repos_url": "https://api.github.com/users/VitorFrost/repos", "events_url": "https://api.github.com/users/VitorFrost/events{/privacy}", "received_events_url": "https://api.github.com/users/VitorFrost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2022-11-25T20:04:53Z", "updated_at": "2023-01-14T03:15:02Z", "closed_at": "2023-01-14T03:15:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nI am trying to use pH control, and I have found the function regulate_ph_ec on the mycodo files, and added it as a custom function.\r\nI was trying to mod this function to limit the maximum added volume, but I was getting error, then I tried it without mods, and also got errors. \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.14.2\r\n - Raspberry Pi Version: 4B\r\n - Raspbian OS Version: Raspbian 11 (bullseye)\r\n\r\n### Reproducibility\r\nInstall the function regulate_ph_ec.py and configure it to fix pH only (I don't know about EC, didn't tried it)\r\nWhen it detect it needs to fix pH, it doesn't works and gives the log error: \r\n`2022-11-25 15:04:11,806 - DEBUG - mycodo.function.regulate_ph_ec_7bbf4a29 - Measurements: EC: 4.927158827938737, pH: 4.927158827938737`\r\n`2022-11-25 15:04:11,806 - DEBUG - mycodo.function.regulate_ph_ec_7bbf4a29 - pH is dangerously low: 4.93. Should be > 5.00. Dispensing 10.0 ml base`\r\n`2022-11-25 15:04:11,806 - ERROR - mycodo.controllers.controller_function_7bbf4a29 - Exception while running loop()\r\nTraceback (most recent call last):`\r\n  `File \"/var/mycodo-root/mycodo/controllers/controller_function.py\", line 76, in loop`\r\n    `self.run_function.loop()`\r\n  `File \"/home/pi/Mycodo/mycodo/functions/custom_functions/regulate_ph_ec.py\", line 771, in loop`\r\n    `\"ml_ph_raise\", self.get_custom_option(\"ml_ph_raise\") + self.output_ph_amount)`\r\n`TypeError: unsupported operand type(s) for +: 'NoneType' and 'float'`\r\n\r\n### Additional context\r\nJust to avoid any unknown errors, I am using pH input for the EC values.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1234", "id": 1410427119, "node_id": "I_kwDOAc-Z285UEWjv", "number": 1234, "title": "Sensiron SCD40 Force CO2 Calibration Failing.", "user": {"login": "gngenius02", "id": 44735603, "node_id": "MDQ6VXNlcjQ0NzM1NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/44735603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gngenius02", "html_url": "https://github.com/gngenius02", "followers_url": "https://api.github.com/users/gngenius02/followers", "following_url": "https://api.github.com/users/gngenius02/following{/other_user}", "gists_url": "https://api.github.com/users/gngenius02/gists{/gist_id}", "starred_url": "https://api.github.com/users/gngenius02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gngenius02/subscriptions", "organizations_url": "https://api.github.com/users/gngenius02/orgs", "repos_url": "https://api.github.com/users/gngenius02/repos", "events_url": "https://api.github.com/users/gngenius02/events{/privacy}", "received_events_url": "https://api.github.com/users/gngenius02/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-16T09:15:29Z", "updated_at": "2023-01-14T03:02:02Z", "closed_at": "2022-12-24T18:56:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWhen trying to force CO2 calibration on Sensiron SCD40. It shows as command sent, but it kills the sensor and I have to Deactivate and Activate it again to get it to start working. I find the following errors repeating in the logs about every 20 seconds. \r\n\r\n```\r\n2022-10-16 00:59:25,059 - ERROR - mycodo.inputs.scd4x_circuitpython_a5664e17 - Error setting CO2 Concentration: unsupported operand type(s) for >>: 'float' and 'int'\r\n2022-10-16 00:59:35,198 - ERROR - mycodo.inputs.scd4x_circuitpython_a5664e17 - data_ready is False\r\n2022-10-16 00:59:45,336 - ERROR - mycodo.inputs.scd4x_circuitpython_a5664e17 - data_ready is False\r\n2022-10-16 00:59:55,487 - ERROR - mycodo.inputs.scd4x_circuitpython_a5664e17 - data_ready is False\r\n2022-10-16 00:59:55,487 - ERROR - mycodo.controllers.controller_input_a5664e17 - StopIteration raised 3 times. Possibly could not read input. Ensure it's connected properly and detected.\r\n```\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.14.2\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: Raspbian GNU/Linux 11 (bullseye)\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Go to Inputs, then click the Configuration button for SCD-4x\r\n2. On modal, there is a Calibrate CO2 button.\r\n3. I type in the CO2 value I want to calibrate. I tried 400(int) and 400.0(float) as entries. \r\n4. I press the \"Calibrate CO2\" button\r\n5. It gives me a \"Success: Custom Button:  Command sent to Input Controller and is running in the background.\"\r\n6. The device never gets readings again and logs show errors as stated above and in screenshot shown below.\r\n\r\n\r\n### Recovery From Issue.\r\n\r\nIn order to get readings from the sensor again:\r\n\r\n1. I need to go into inputs.\r\n2. For that device I need to click on Deactivate.\r\n3. Wait till Deactivated.\r\n4. Finally click Activate.\r\n\r\n### Expected behavior\r\n\r\nI believe it should calibrate the sensor to the value in the input box. Then after calibration complete it should start displaying that value as the current value.\r\n\r\n### Screenshots\r\n\r\nHere is the Input location I have circled the location of the calibration area.\r\n![image](https://user-images.githubusercontent.com/44735603/196027055-6e6f6382-6ef0-4250-8a91-cfb52c97a397.png)\r\n\r\n\r\nThis is the errors that show up in the logs.\r\n![image](https://user-images.githubusercontent.com/44735603/196027199-63301374-700f-438f-ae87-bff0ea5ed073.png)\r\n\r\n\r\n### Additional context\r\n\r\nI am guessing the issue is between different brand of sensors, maybe coming from the adafruit library? I couldn't find anything I could fix in the MyCodo code. I know the manufacturers shouldn't make a difference but maybe one of them is handling types differently. If you need more information or data or to check anything specific please let me know. I will dive into the adafruit lib now to see if I can figure out where the issue is. ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1233", "id": 1401865020, "node_id": "I_kwDOAc-Z285TjsM8", "number": 1233, "title": "No module named 'RTIMU' error when using Sense Hat ", "user": {"login": "wingsergey", "id": 5011322, "node_id": "MDQ6VXNlcjUwMTEzMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5011322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wingsergey", "html_url": "https://github.com/wingsergey", "followers_url": "https://api.github.com/users/wingsergey/followers", "following_url": "https://api.github.com/users/wingsergey/following{/other_user}", "gists_url": "https://api.github.com/users/wingsergey/gists{/gist_id}", "starred_url": "https://api.github.com/users/wingsergey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wingsergey/subscriptions", "organizations_url": "https://api.github.com/users/wingsergey/orgs", "repos_url": "https://api.github.com/users/wingsergey/repos", "events_url": "https://api.github.com/users/wingsergey/events{/privacy}", "received_events_url": "https://api.github.com/users/wingsergey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-10-08T08:05:24Z", "updated_at": "2023-01-14T03:15:09Z", "closed_at": "2023-01-14T03:15:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\nSense hat input is not working.\r\n\r\nERROR - mycodo.inputs.sense_hat_0906d318 - Error 101: Device not set up.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *8.14.2*\r\n - Raspberry Pi Version: *4B+*\r\n - Raspbian OS Version: *Bullseye Desktop*\r\n\r\n\r\n### Additional context\r\n\r\n2022-10-08 10:21:56,047 - ERROR - mycodo.inputs.sense_hat_0906d318 - Initialization errored 3 times; giving up. Maybe the following traceback can help diagnose the issue.\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/abstract_base_controller.py\", line 52, in try_initialize\r\n    self.initialize()\r\n  File \"/home/pi/Mycodo/mycodo/inputs/sense_hat.py\", line 120, in initialize\r\n    from sense_hat import SenseHat\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/sense_hat/__init__.py\", line 2, in <module>\r\n    from .sense_hat import SenseHat, SenseHat as AstroPi\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/sense_hat/sense_hat.py\", line 10, in <module>\r\n    import RTIMU  # custom version\r\nModuleNotFoundError: No module named 'RTIMU'\r\n\r\n\r\nI tried https://forums.raspberrypi.com/viewtopic.php?t=197281 and it not helped.\r\n\r\nIf simply run >>> import RTIMU it does not provide any errors\r\n\r\npi@rpi:/usr/lib $ find . -name 'RTI*'\r\n./python3/dist-packages/RTIMULib-7.2.1.egg-info\r\n./python3/dist-packages/RTIMU.cpython-39-aarch64-linux-gnu.so", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1232", "id": 1401516791, "node_id": "I_kwDOAc-Z285TiXL3", "number": 1232, "title": "Exception while reading measurement from the influxdb database", "user": {"login": "sagehenstudio", "id": 2924107, "node_id": "MDQ6VXNlcjI5MjQxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2924107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagehenstudio", "html_url": "https://github.com/sagehenstudio", "followers_url": "https://api.github.com/users/sagehenstudio/followers", "following_url": "https://api.github.com/users/sagehenstudio/following{/other_user}", "gists_url": "https://api.github.com/users/sagehenstudio/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagehenstudio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagehenstudio/subscriptions", "organizations_url": "https://api.github.com/users/sagehenstudio/orgs", "repos_url": "https://api.github.com/users/sagehenstudio/repos", "events_url": "https://api.github.com/users/sagehenstudio/events{/privacy}", "received_events_url": "https://api.github.com/users/sagehenstudio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-10-07T18:08:45Z", "updated_at": "2023-01-14T03:15:31Z", "closed_at": "2023-01-14T03:15:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nOutputs are not running because values cannot be retrieved from database?\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.14.2\r\n - Raspberry Pi Version: Zero 2 W\r\n - Raspbian OS Version: Debian GNU/Linux 11 (bullseye)\r\n\r\n### Reproducibility\r\n\r\nEverything seemed to be working very well before I shut down the system in March. Here in October I didn't have success re-starting it (same errors as posted below) so assumed some sort of DB mismatch issue since when I left I was still in Mycodo v.8.12.9. So I wiped the Pi and loaded the most recent version of Mycodo fresh. Honestly I cannot understand how this is not happening to other people, but also, knowing \"me,\" it's probably something really niche.\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Follow instructions at (https://kylegabriel.com/projects/2021/09/mushroom-cultivation-automation.html#Install_Raspberry_Pi_OS) to set up Pi, inputs, outputs and functions. Inputs are currently an Atlas Humidity sensor on i2c and a MH-Z19B, both are reading measurements successfully on the \"Live Measurements\" screen.\r\n2. The outputs, currently including a fan and humidifier, _are not running at all_. Again, these are set up per the instructions at kylegabriel.com.\r\n3. Errors in the log look like this:\r\n`2022-10-07 09:57:55,132 - INFO - mycodo.devices.atlas_scientific_i2c_1_111 - Atlas Scientific Board: HUM, Rev: 2, Firmware: 1.0\r\n2022-10-07 09:57:57,174 - INFO - mycodo.controllers.controller_input_4514a10b - Activated in 3257.9 ms\r\n2022-10-07 09:57:57,828 - DEBUG - mycodo.controllers.controller_input_74fe2bec - Pre output successfully set up\r\n2022-10-07 09:57:57,986 - INFO - mycodo.controllers.controller_input_74fe2bec - Activated in 577.6 ms\r\n2022-10-07 09:57:57,987 - INFO - mycodo.daemon - All activated Input controllers started\r\n2022-10-07 09:57:59,203 - INFO - mycodo.controllers.controller_pid_9be1dfa4 - PID Settings: Device ID: 4514a10b-7731-45ca-b577-02aaf7bbd478, Measurement ID: 46571f7e-8545-452b-a71a-6811108c8589, Direction: raise, Period: 120.0, Setpoint: 97.0, Band: 0.0, Kp: 3.0, Ki: 0.25, Kd: 0.0, Integrator Min: -100.0, Integrator Max 100.0, Output Raise: afef748c-8b91-4241-a167-709058add954, Output Raise Channel: 2, Output Raise Type: on_off, Output Raise Min On: 10.0, Output Raise Max On: 0.0, Output Raise Min Off: 20.0, Output Raise Always Min: False, Output Lower: None, Output Lower Channel: None, Output Lower Type: None, Output Lower Min On: 0.0, Output Lower Max On: 0.0, Output Lower Min Off: 0.0, Output Lower Always Min: False, Setpoint Tracking Type: , Setpoint Tracking ID: \r\n2022-10-07 09:57:59,204 - INFO - mycodo.controllers.controller_pid_9be1dfa4 - Activated in 530.4 ms\r\n2022-10-07 09:57:59,204 - INFO - mycodo.daemon - All activated PID controllers started\r\n2022-10-07 09:57:59,212 - INFO - mycodo.daemon - All activated Function controllers started\r\n2022-10-07 09:57:59,500 - INFO - mycodo.controllers.controller_widget - Activated in 286.8 ms\r\n2022-10-07 09:58:00,504 - INFO - mycodo.daemon - Mycodo daemon started in 10.728 seconds\r\n2022-10-07 09:58:00,586 - INFO - mycodo.daemon - 91.03 MB RAM in use\r\n2022-10-07 09:58:03,394 - ERROR - mycodo.controllers.controller_pid_9be1dfa4 - Exception while reading measurement from the influxdb database\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controllers/controller_pid.py\", line 451, in get_last_measurement_pid\r\n    utc_dt = datetime.datetime.strptime(self.last_time.split(\".\")[0], '%Y-%m-%dT%H:%M:%S')\r\nAttributeError: 'float' object has no attribute 'split'`\r\n4. I confirmed that in /var/mycodo-root/mycodo/controllers/controller_pid.py, self.last_time is a float.\r\n5. I have tried various settings and timings inside the controller function and restarted the system each time, no joy.\r\n\r\n### Expected behavior\r\n\r\nI'd like the outputs to run.\r\n\r\n### Screenshots\r\n![Screen Shot 2022-10-07 at 9 48 49 AM](https://user-images.githubusercontent.com/2924107/194621950-044ebc54-c6b6-4e74-a185-615df2a2885b.png)\r\n\r\n### Additional context\r\nThanks again for this excellent piece of software; it's been a Godsend to me.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1220", "id": 1338190241, "node_id": "I_kwDOAc-Z285Pwymh", "number": 1220, "title": "Conditional function - Undefined variable 'timeout'", "user": {"login": "JulienCheny", "id": 23375584, "node_id": "MDQ6VXNlcjIzMzc1NTg0", "avatar_url": "https://avatars.githubusercontent.com/u/23375584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JulienCheny", "html_url": "https://github.com/JulienCheny", "followers_url": "https://api.github.com/users/JulienCheny/followers", "following_url": "https://api.github.com/users/JulienCheny/following{/other_user}", "gists_url": "https://api.github.com/users/JulienCheny/gists{/gist_id}", "starred_url": "https://api.github.com/users/JulienCheny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JulienCheny/subscriptions", "organizations_url": "https://api.github.com/users/JulienCheny/orgs", "repos_url": "https://api.github.com/users/JulienCheny/repos", "events_url": "https://api.github.com/users/JulienCheny/events{/privacy}", "received_events_url": "https://api.github.com/users/JulienCheny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-14T09:56:27Z", "updated_at": "2022-08-14T16:42:50Z", "closed_at": "2022-08-14T16:42:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description\r\nHi,\r\nI can't execute any function there is an error for all of them. It say that the \"timeout\" variable isn't defined.\r\nThis bug happens even to the default program.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.14.0\r\n - Raspberry Pi Version: 4B\r\n - Raspbian OS Version: Debian GNU/Linux 11 (bullseye)\r\n\r\n### Reproducibility\r\n\r\n1. Go to Function\r\n2. Add \"Conditional Controller\"\r\n3. Open the Configure panel of the function just added\r\n4. Save the default program\r\n\r\n### Expected behavior\r\n\r\nThe timeout variable should be took from the \"Timeout (seconds)\" edit field\r\nAnd initialized before this : \r\ncontrol = DaemonControl(pyro_timeout={timeout})\r\n\r\n### Error\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controllers/base_controller.py\", line 72, in run\r\n    self.initialize_variables()\r\n  File \"/var/mycodo-root/mycodo/controllers/controller_conditional.py\", line 133, in initialize_variables\r\n    spec.loader.exec_module(conditional_run)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/pi/Mycodo/mycodo/user_python_code/conditional_861387d0-33d5-482d-ac0e-c904716674e0.py\", line 6, in <module>\r\n    control = DaemonControl(pyro_timeout={timeout})\r\nNameError: name 'timeout' is not defined\r\n\r\n## Generated program\r\n  1: import os\r\n  2: import sys\r\n  3: sys.path.append(os.path.abspath('/var/mycodo-root'))\r\n  4: from mycodo.controllers.base_conditional import AbstractConditional\r\n  5: from mycodo.mycodo_client import DaemonControl\r\n  6: control = DaemonControl(pyro_timeout={timeout})\r\n  7: ...", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1209", "id": 1292807284, "node_id": "I_kwDOAc-Z285NDqx0", "number": 1209, "title": "problem in base_conditional.py", "user": {"login": "Mondgans", "id": 107916600, "node_id": "U_kgDOBm6tOA", "avatar_url": "https://avatars.githubusercontent.com/u/107916600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mondgans", "html_url": "https://github.com/Mondgans", "followers_url": "https://api.github.com/users/Mondgans/followers", "following_url": "https://api.github.com/users/Mondgans/following{/other_user}", "gists_url": "https://api.github.com/users/Mondgans/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mondgans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mondgans/subscriptions", "organizations_url": "https://api.github.com/users/Mondgans/orgs", "repos_url": "https://api.github.com/users/Mondgans/repos", "events_url": "https://api.github.com/users/Mondgans/events{/privacy}", "received_events_url": "https://api.github.com/users/Mondgans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-04T08:21:20Z", "updated_at": "2022-08-13T19:37:27Z", "closed_at": "2022-08-13T19:37:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "[https://github.com/kizniche/Mycodo/commit/fcd124783ec38490c155529e0856d4c612a9ff83#commitcomment-77069592](url)\r\n> I upgraded to master and run in an error with my conditional controllers. It impacts all existing controllers.\r\n`2022-06-27 11:23:15,984 - INFO - mycodo.controllers.controller_conditional_2d71cdb5 - Activated in 117.2 ms 2022-06-27 11:23:26,055 - ERROR - mycodo.controllers.controller_conditional_2d71cdb5 - Exception executing Conditional Statement code Traceback (most recent call last): File \"/var/mycodo-root/mycodo/controllers/controller_conditional.py\", line 178, in check_conditionals self.conditional_run.conditional_code_run() File \"/home/pi/Mycodo/mycodo/user_python_code/conditional_2d71cdb5-a0d2-4802-8ffb-b337d553dea6.py\", line 29, in conditional_code_run measurement = self.condition(\"c29c7f38-c4de-447d-9d8a-681341cbdce6\") File \"/var/mycodo-root/mycodo/controllers/base_conditional.py\", line 66, in condition if cond: UnboundLocalError: local variable 'cond' referenced before assignment`", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1205", "id": 1278100356, "node_id": "I_kwDOAc-Z285MLkOE", "number": 1205, "title": "Generate timelapse not working with custom image path", "user": {"login": "Mondgans", "id": 107916600, "node_id": "U_kgDOBm6tOA", "avatar_url": "https://avatars.githubusercontent.com/u/107916600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mondgans", "html_url": "https://github.com/Mondgans", "followers_url": "https://api.github.com/users/Mondgans/followers", "following_url": "https://api.github.com/users/Mondgans/following{/other_user}", "gists_url": "https://api.github.com/users/Mondgans/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mondgans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mondgans/subscriptions", "organizations_url": "https://api.github.com/users/Mondgans/orgs", "repos_url": "https://api.github.com/users/Mondgans/repos", "events_url": "https://api.github.com/users/Mondgans/events{/privacy}", "received_events_url": "https://api.github.com/users/Mondgans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-21T08:38:07Z", "updated_at": "2022-08-13T19:37:31Z", "closed_at": "2022-08-13T19:37:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use custom image paths in camera settings.\r\nWhen pressing the [Generate] the Images are expected to be in the default folder. ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1205/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1180", "id": 1211659622, "node_id": "I_kwDOAc-Z285IOHVm", "number": 1180, "title": "Can't Open Dependencies Page From The Menu", "user": {"login": "dcgris", "id": 104175078, "node_id": "U_kgDOBjWV5g", "avatar_url": "https://avatars.githubusercontent.com/u/104175078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcgris", "html_url": "https://github.com/dcgris", "followers_url": "https://api.github.com/users/dcgris/followers", "following_url": "https://api.github.com/users/dcgris/following{/other_user}", "gists_url": "https://api.github.com/users/dcgris/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcgris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcgris/subscriptions", "organizations_url": "https://api.github.com/users/dcgris/orgs", "repos_url": "https://api.github.com/users/dcgris/repos", "events_url": "https://api.github.com/users/dcgris/events{/privacy}", "received_events_url": "https://api.github.com/users/dcgris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-21T23:54:21Z", "updated_at": "2022-05-20T02:37:01Z", "closed_at": "2022-05-20T02:37:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI'm new to the community, so I may not have done the best job with this but here goes.\r\n\r\n### Describe the problem/bug:\r\nAfter updating to the newest version of Mycodo (8.13.9), I tried to navigate to the dependencies page from the menu. After clicking the link in the menu, the page loads for a considerable amount of time, to eventually bring me to an Error 500 (Internal Server Error) page.\r\nHere's the entire traceback below:\r\n\r\n> Error (Full Traceback):\r\n> \r\n> Traceback (most recent call last):\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 2077, in wsgi_app\r\n>     response = self.full_dispatch_request()\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1525, in full_dispatch_request\r\n>     rv = self.handle_user_exception(e)\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_restx/api.py\", line 672, in error_router\r\n>     return original_handler(e)\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1523, in full_dispatch_request\r\n>     rv = self.dispatch_request()\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1509, in dispatch_request\r\n>     return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n>   File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_login/utils.py\", line 277, in decorated_view\r\n>     return current_app.ensure_sync(func)(*args, **kwargs)\r\n>   File \"/home/srprototype/Mycodo/mycodo/mycodo_flask/routes_admin.py\", line 383, in admin_dependencies\r\n>     if each_dep not in unmet_list:\r\n> TypeError: unhashable type: 'list'\r\n\r\n### Versions:\r\n_Version: 8.13.9\r\nDatabase: b354722c9b8b\r\nModel: Raspberry Pi 4 Model B Rev 1.4\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 11 (bullseye)\r\nRelease: 11\r\nCodename: bullseye\r\n\r\nFirmware:\r\nb''_\r\n\r\n### Reproducibility \r\n1) From any page, click the settings menu icon (gear icon) in the top right corner of the page.\r\n2) Select the dependencies link from the drop down menu.\r\n\r\n### Expected Behaviour\r\nWhen clicking on the dependencies link, the dependencies page should appear.\r\n\r\n\r\n\r\n**I'm open to any feedback on my bug reporting.\r\n Thanks, have a good day folks.**", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1178", "id": 1208156868, "node_id": "I_kwDOAc-Z285IAwLE", "number": 1178, "title": "Mijia LYWSD03MMC - dependencies install failed", "user": {"login": "ddominikp", "id": 979607, "node_id": "MDQ6VXNlcjk3OTYwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/979607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddominikp", "html_url": "https://github.com/ddominikp", "followers_url": "https://api.github.com/users/ddominikp/followers", "following_url": "https://api.github.com/users/ddominikp/following{/other_user}", "gists_url": "https://api.github.com/users/ddominikp/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddominikp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddominikp/subscriptions", "organizations_url": "https://api.github.com/users/ddominikp/orgs", "repos_url": "https://api.github.com/users/ddominikp/repos", "events_url": "https://api.github.com/users/ddominikp/events{/privacy}", "received_events_url": "https://api.github.com/users/ddominikp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-19T10:35:42Z", "updated_at": "2022-05-20T02:37:05Z", "closed_at": "2022-05-20T02:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWhen trying to install missing dependencies for LYWSD03MMC, the pybluez==0.23 crashes out. I have found a workaround for this error (shown below), however I am not sure how to properly enter Mycodo's virtual environment (edit: entering Mycodo/env/bin solves it). The error seems to be related with setuptools version, which has to be downgraded (Support for 2to3 removed in setuptools>=58.0.0; see [https://github.com/pybluez/pybluez/issues/433](url)) or the Mycodo's requirement of having exactly pybluez 0.23 version, not higher.\r\n\r\n> [2022-04-19 12:14:17] #### Installing/updating pybluez==0.23 (pip-pypi)\r\n[2022-04-19 12:14:21] Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple\r\n[2022-04-19 12:14:23] Collecting pybluez==0.23\r\n[2022-04-19 12:14:23]   Using cached PyBluez-0.23.tar.gz (97 kB)\r\n[2022-04-19 12:14:23]   Preparing metadata (setup.py): started\r\n[2022-04-19 12:14:30]   Preparing metadata (setup.py): finished with status 'error'\r\n[2022-04-19 12:14:30]   error: subprocess-exited-with-error\r\n[2022-04-19 12:14:30]   \r\n[2022-04-19 12:14:30]   \u00d7 python setup.py egg_info did not run successfully.\r\n[2022-04-19 12:14:30]   \u2502 exit code: 1\r\n[2022-04-19 12:14:30]   \u2570\u2500> [1 lines of output]\r\n[2022-04-19 12:14:30]       error in PyBluez setup command: use_2to3 is invalid.\r\n[2022-04-19 12:14:30]       [end of output]\r\n[2022-04-19 12:14:30]   \r\n[2022-04-19 12:14:30]   note: This error originates from a subprocess, and is likely not a problem with pip.\r\n[2022-04-19 12:14:30] error: metadata-generation-failed\r\n[2022-04-19 12:14:30] \r\n[2022-04-19 12:14:30] \u00d7 Encountered error while generating package metadata.\r\n[2022-04-19 12:14:30] \u2570\u2500> See above for output.\r\n[2022-04-19 12:14:30] \r\n[2022-04-19 12:14:30] note: This is an issue with the package mentioned above, not pip.\r\n[2022-04-19 12:14:30] hint: See above for details.\r\n\r\n> \r\n\r\n### Versions:\r\n\r\n- Mycodo Version: *8.13.7*\r\n- Python Version: *3.9.2 (default, Feb 28 2021, 17:03:44) [GCC 10.2.1 20210110]*\r\n- Raspberry Pi Version: 3B\r\n- Raspbian OS Version: *64-bit bullseye*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Go to Setup -> Input -> Add (Mijia LYWSD03MMC (ATC and non-ATC modes)) -> Install missing dependencies (Dependencies not installed: pybluez==0.23)\r\n2. Install fails but claims to be successful, with error message as in above description.\r\n\r\n### Expected behavior\r\n\r\nPybluez installs without a hiccup\r\n\r\n### Additional context\r\n\r\nPossible solution: pulling pybluez from newest github release or changing version requirements from ==0.23 to >=0.23? It can also be resolved by manually entering Mycodo's virtualenv, downgrading setuptools to below ver 58, installing exactly pybluez==0.23 and then installing Mijia Temperature sensor. Afterwards setuptools can be installed back to the original version (at the time of writing 62.1.0).\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1175", "id": 1199180003, "node_id": "I_kwDOAc-Z285Hegjj", "number": 1175, "title": "PCF8574 I/0 no longer works after update", "user": {"login": "Matteo7S", "id": 44785968, "node_id": "MDQ6VXNlcjQ0Nzg1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/44785968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Matteo7S", "html_url": "https://github.com/Matteo7S", "followers_url": "https://api.github.com/users/Matteo7S/followers", "following_url": "https://api.github.com/users/Matteo7S/following{/other_user}", "gists_url": "https://api.github.com/users/Matteo7S/gists{/gist_id}", "starred_url": "https://api.github.com/users/Matteo7S/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Matteo7S/subscriptions", "organizations_url": "https://api.github.com/users/Matteo7S/orgs", "repos_url": "https://api.github.com/users/Matteo7S/repos", "events_url": "https://api.github.com/users/Matteo7S/events{/privacy}", "received_events_url": "https://api.github.com/users/Matteo7S/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-10T21:32:05Z", "updated_at": "2022-04-22T22:48:42Z", "closed_at": "2022-04-22T22:48:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nPCF8574 I/0 not works after last update 8.13.7\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.13.7\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Linux hydroberry 5.10.17-v7+\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Setup -> output -> [I2C] On/Off: PCF8574 8-Channel I/O Expander (smbus2)\r\n2. Click the on button, it shows success message, the row backgroung become green but rel\u00e8 doesn't switch on\r\n\r\n### Additional context\r\n\r\njust update to last version, I tried the PCF8574 8-Channe peristaltic pumps and it works\r\n\r\nThanks in advice\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1171", "id": 1196946229, "node_id": "I_kwDOAc-Z285HV_M1", "number": 1171, "title": "Trigger Edge timer not working", "user": {"login": "Tree61", "id": 102574253, "node_id": "U_kgDOBh0orQ", "avatar_url": "https://avatars.githubusercontent.com/u/102574253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tree61", "html_url": "https://github.com/Tree61", "followers_url": "https://api.github.com/users/Tree61/followers", "following_url": "https://api.github.com/users/Tree61/following{/other_user}", "gists_url": "https://api.github.com/users/Tree61/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tree61/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tree61/subscriptions", "organizations_url": "https://api.github.com/users/Tree61/orgs", "repos_url": "https://api.github.com/users/Tree61/repos", "events_url": "https://api.github.com/users/Tree61/events{/privacy}", "received_events_url": "https://api.github.com/users/Tree61/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-08T07:27:36Z", "updated_at": "2022-04-22T22:48:52Z", "closed_at": "2022-04-22T22:48:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "STOP right now, and please first look to see if the issue you're about to submit is already an open or recently closed issue at https://github.com/kizniche/Mycodo/issues\r\n\r\nPlease DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n\r\n - If your issue has been addressed before. If you have any new information that may aid in solving the issue, post it in the issue that already exists.\r\n\r\nIf you are going to post a new issue, next read How to Write a Good Bug Report at https://forum.radicaldiy.com/t/how-to-write-a-good-bug-report/71\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. Replace the text in brackets with your own text describing the issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\n*[A clear and concise description of what you were trying to do and what the problem/bug is - replace this with your own text]*\r\n\r\nUsing GPIO 2 switched input via external pull up resistor arrangement\r\nto edge trigger output GPIO 3 externally wired to an output relay\r\nedge trigger duration tested with 0, 5 and 10sec duration\r\noutput just raises and falls when observed with a voltage meter on GPIO 3 ie no time on observed \r\nlive data confirms GPIO 2 state change however the edge trigger input does not change state\r\nforcing relay out also works\r\nchanged de bounce settings 50-150msec same result\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *[e.g. 8.0.3]* latest\r\n - Raspberry Pi Version: *[e.g. 3B+]* 4\r\n - Raspbian OS Version: *[e.g. Buster Lite]* buster\r\n\r\n### Reproducibility yes repeatable result many times\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. *[Go to...]* refer above\r\n2. *[Click on...]*\r\n3. *[Scroll down to...]*\r\n4. *[See error...]*\r\n5. *[replace this list with your own text]*\r\n\r\n### Expected behavior - Should observe relay output staying high for set duration period\r\n\r\n*[A clear and concise description of what you expected to happen - replace this with your own text]*\r\n\r\n### Screenshots\r\n\r\n*[If applicable, add screenshots to help explain your problem - replace this with your own text]*\r\n\r\n### Additional context\r\n\r\n*[Anything that should be added to make it easier to address this issue - replace this with your own text]*\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1170", "id": 1193993238, "node_id": "I_kwDOAc-Z285HKuQW", "number": 1170, "title": "Issue Traceback", "user": {"login": "kurtisa727", "id": 103091849, "node_id": "U_kgDOBiUOiQ", "avatar_url": "https://avatars.githubusercontent.com/u/103091849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtisa727", "html_url": "https://github.com/kurtisa727", "followers_url": "https://api.github.com/users/kurtisa727/followers", "following_url": "https://api.github.com/users/kurtisa727/following{/other_user}", "gists_url": "https://api.github.com/users/kurtisa727/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtisa727/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtisa727/subscriptions", "organizations_url": "https://api.github.com/users/kurtisa727/orgs", "repos_url": "https://api.github.com/users/kurtisa727/repos", "events_url": "https://api.github.com/users/kurtisa727/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtisa727/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-06T04:12:01Z", "updated_at": "2022-04-06T05:16:52Z", "closed_at": "2022-04-06T05:16:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "STOP right now, and please first look to see if the issue you're about to submit is already an open or recently closed issue at https://github.com/kizniche/Mycodo/issues\r\n\r\nPlease DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n\r\n - If your issue has been addressed before. If you have any new information that may aid in solving the issue, post it in the issue that already exists.\r\n\r\nIf you are going to post a new issue, next read How to Write a Good Bug Report at https://forum.radicaldiy.com/t/how-to-write-a-good-bug-report/71\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. Replace the text in brackets with your own text describing the issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\n*[A clear and concise description of what you were trying to do and what the problem/bug is - replace this with your own text]*\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *[e.g. 8.0.3]*\r\n - Raspberry Pi Version: *[e.g. 3B+]*\r\n - Raspbian OS Version: *[e.g. Buster Lite]*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. *[Go to...]*\r\n2. *[Click on...]*\r\n3. *[Scroll down to...]*\r\n4. *[See error...]*\r\n5. *[replace this list with your own text]*\r\n\r\n### Expected behavior\r\n\r\n*[A clear and concise description of what you expected to happen - replace this with your own text]*\r\n\r\n### Screenshots\r\n\r\n*[If applicable, add screenshots to help explain your problem - replace this with your own text]*\r\n\r\n### Additional context\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 2073, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1518, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_restx/api.py\", line 672, in error_router\r\n    return original_handler(e)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1516, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask/app.py\", line 1502, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n  File \"/var/mycodo-root/env/lib/python3.9/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/5x5ontime/Mycodo/mycodo/mycodo_flask/routes_method.py\", line 98, in method_builder\r\n    unmet_dependencies = utils_method.method_create(form_create_method)\r\n  File \"/home/5x5ontime/Mycodo/mycodo/mycodo_flask/utils/utils_method.py\", line 114, in method_create\r\n    list_unmet_deps.append(each_dep[3])\r\nIndexError: tuple index out of range\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1168", "id": 1191602004, "node_id": "I_kwDOAc-Z285HBmdU", "number": 1168, "title": "Failed Update from 8.13.2 to 8.13.4 - Mycodo not working", "user": {"login": "donplumpos", "id": 65858504, "node_id": "MDQ6VXNlcjY1ODU4NTA0", "avatar_url": "https://avatars.githubusercontent.com/u/65858504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/donplumpos", "html_url": "https://github.com/donplumpos", "followers_url": "https://api.github.com/users/donplumpos/followers", "following_url": "https://api.github.com/users/donplumpos/following{/other_user}", "gists_url": "https://api.github.com/users/donplumpos/gists{/gist_id}", "starred_url": "https://api.github.com/users/donplumpos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/donplumpos/subscriptions", "organizations_url": "https://api.github.com/users/donplumpos/orgs", "repos_url": "https://api.github.com/users/donplumpos/repos", "events_url": "https://api.github.com/users/donplumpos/events{/privacy}", "received_events_url": "https://api.github.com/users/donplumpos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-04T10:52:12Z", "updated_at": "2022-04-04T11:51:31Z", "closed_at": "2022-04-04T11:51:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pi: Raspberry PI 4 B 8GB\r\nOS: Bullseye\r\nInitial Mycodo version: 8.13.2\r\nTarget Mycodo version. 8.13.4\r\n\r\nInitiated update via frontend. After several minutes i tried to reload page but get \"Error 502: Bad Gateway Error\"\r\n\r\nLast lines in mycodo.log:\r\n`2022-04-04 12:32:06,732 - ERROR - mycodo.modules - Could not load module: Traceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/utils/modules.py\", line 19, in load_module_from_file\r\n    spec.loader.exec_module(module_custom)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/plumps/Mycodo/mycodo/widgets/widget_graph_synchronous.py\", line 41, in <module>\r\n    from mycodo.mycodo_flask.utils.utils_general import use_unit_generate\r\n  File \"/var/mycodo-root/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\n    from importlib_metadata import version\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n2022-04-04 12:32:06,776 - ERROR - mycodo.modules - Could not load module: Traceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/utils/modules.py\", line 19, in load_module_from_file\r\n    spec.loader.exec_module(module_custom)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/plumps/Mycodo/mycodo/widgets/widget_graph_synchronous.py\", line 41, in <module>\r\n    from mycodo.mycodo_flask.utils.utils_general import use_unit_generate\r\n  File \"/var/mycodo-root/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\n    from importlib_metadata import version\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n2022-04-04 12:32:06,806 - ERROR - mycodo.modules - Could not load module: Traceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/utils/modules.py\", line 19, in load_module_from_file\r\n    spec.loader.exec_module(module_custom)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/plumps/Mycodo/mycodo/widgets/widget_graph_synchronous.py\", line 41, in <module>\r\n    from mycodo.mycodo_flask.utils.utils_general import use_unit_generate\r\n  File \"/var/mycodo-root/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\n    from importlib_metadata import version\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n2022-04-04 12:32:06,835 - ERROR - mycodo.modules - Could not load module: Traceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/utils/modules.py\", line 19, in load_module_from_file\r\n    spec.loader.exec_module(module_custom)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/plumps/Mycodo/mycodo/widgets/widget_graph_synchronous.py\", line 41, in <module>\r\n    from mycodo.mycodo_flask.utils.utils_general import use_unit_generate\r\n  File \"/var/mycodo-root/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\n    from importlib_metadata import version\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n2022-04-04 12:32:06,857 - ERROR - mycodo.controllers.controller_widget - 'widget_graph_synchronous' is not a valid widget type\r\n2022-04-04 12:32:06,869 - ERROR - mycodo.modules - Could not load module: Traceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/utils/modules.py\", line 19, in load_module_from_file\r\n    spec.loader.exec_module(module_custom)\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/plumps/Mycodo/mycodo/widgets/widget_graph_synchronous.py\", line 41, in <module>\r\n    from mycodo.mycodo_flask.utils.utils_general import use_unit_generate\r\n  File \"/var/mycodo-root/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\n    from importlib_metadata import version\r\nModuleNotFoundError: No module named 'importlib_metadata'\r\n\r\n2022-04-04 12:32:06,890 - ERROR - mycodo.controllers.controller_widget - 'widget_graph_synchronous' is not a valid widget type\r\n2022-04-04 12:32:06,890 - ERROR - mycodo.controllers.controller_widget - 'widget_graph_synchronous' is not a valid widget type\r\n2022-04-04 12:32:06,890 - ERROR - mycodo.controllers.controller_widget - 'widget_graph_synchronous' is not a valid widget type\r\n2022-04-04 12:32:06,891 - INFO - mycodo.controllers.controller_widget - Activated in 204.4 ms\r\n2022-04-04 12:32:07,892 - INFO - mycodo.daemon - Mycodo daemon started in 4.267 seconds\r\n2022-04-04 12:32:07,894 - INFO - mycodo.daemon - 56.29 MB RAM in use`\r\n\r\nLaste 50 lines via \"journalctl -u mycodoflask | tail -n 50\":\r\n`Apr 04 12:31:21 plumpsrpi python[499]: [2022-04-04 12:31:21 +0200] [499] [INFO] Starting gunicorn 20.1.0\r\nApr 04 12:31:21 plumpsrpi python[499]: [2022-04-04 12:31:21 +0200] [499] [INFO] Listening at: unix:/usr/local/mycodoflask.sock (499)\r\nApr 04 12:31:21 plumpsrpi python[499]: [2022-04-04 12:31:21 +0200] [499] [INFO] Using worker: gthread\r\nApr 04 12:31:21 plumpsrpi python[584]: [2022-04-04 12:31:21 +0200] [584] [INFO] Booting worker with pid: 584\r\nApr 04 12:31:27 plumpsrpi python[584]: [2022-04-04 12:31:27 +0200] [584] [ERROR] Exception in worker process\r\nApr 04 12:31:27 plumpsrpi python[584]: Traceback (most recent call last):\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 589, in spawn_worker\r\nApr 04 12:31:27 plumpsrpi python[584]:     worker.init_process()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/workers/gthread.py\", line 92, in init_process\r\nApr 04 12:31:27 plumpsrpi python[584]:     super().init_process()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 134, in init_process\r\nApr 04 12:31:27 plumpsrpi python[584]:     self.load_wsgi()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 146, in load_wsgi\r\nApr 04 12:31:27 plumpsrpi python[584]:     self.wsgi = self.app.wsgi()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/app/base.py\", line 67, in wsgi\r\nApr 04 12:31:27 plumpsrpi python[584]:     self.callable = self.load()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 58, in load\r\nApr 04 12:31:27 plumpsrpi python[584]:     return self.load_wsgiapp()\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 48, in load_wsgiapp\r\nApr 04 12:31:27 plumpsrpi python[584]:     return util.import_app(self.app_uri)\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/var/mycodo-root/env/lib/python3.9/site-packages/gunicorn/util.py\", line 359, in import_app\r\nApr 04 12:31:27 plumpsrpi python[584]:     mod = importlib.import_module(module)\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/usr/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\nApr 04 12:31:27 plumpsrpi python[584]:     return _bootstrap._gcd_import(name[level:], package, level)\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/start_flask_ui.py\", line 11, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from mycodo.mycodo_flask.app import create_app\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/mycodo_flask/app.py\", line 28, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from mycodo.mycodo_flask import routes_admin\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/mycodo_flask/routes_admin.py\", line 47, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from mycodo.mycodo_flask.routes_static import inject_variables\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/mycodo_flask/routes_static.py\", line 28, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from mycodo.mycodo_flask.forms import forms_dashboard\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/mycodo_flask/forms/forms_dashboard.py\", line 19, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from mycodo.mycodo_flask.utils.utils_general import generate_form_widget_list\r\nApr 04 12:31:27 plumpsrpi python[584]:   File \"/home/plumps/Mycodo/mycodo/mycodo_flask/utils/utils_general.py\", line 15, in <module>\r\nApr 04 12:31:27 plumpsrpi python[584]:     from importlib_metadata import version\r\nApr 04 12:31:27 plumpsrpi python[584]: ModuleNotFoundError: No module named 'importlib_metadata'\r\nApr 04 12:31:27 plumpsrpi python[584]: [2022-04-04 12:31:27 +0200] [584] [INFO] Worker exiting (pid: 584)\r\nApr 04 12:31:28 plumpsrpi python[499]: [2022-04-04 12:31:28 +0200] [499] [INFO] Shutting down: Master\r\nApr 04 12:31:28 plumpsrpi python[499]: [2022-04-04 12:31:28 +0200] [499] [INFO] Reason: Worker failed to boot.\r\nApr 04 12:31:28 plumpsrpi systemd[1]: mycodoflask.service: Main process exited, code=exited, status=3/NOTIMPLEMENTED\r\nApr 04 12:31:28 plumpsrpi systemd[1]: mycodoflask.service: Failed with result 'exit-code'.\r\nApr 04 12:31:28 plumpsrpi systemd[1]: mycodoflask.service: Consumed 7.176s CPU time.`\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1165", "id": 1180258838, "node_id": "I_kwDOAc-Z285GWVIW", "number": 1165, "title": "Unable to use a function output as an input on a PID Controller, unless i remove this piece of validation", "user": {"login": "huntj88", "id": 10103298, "node_id": "MDQ6VXNlcjEwMTAzMjk4", "avatar_url": "https://avatars.githubusercontent.com/u/10103298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huntj88", "html_url": "https://github.com/huntj88", "followers_url": "https://api.github.com/users/huntj88/followers", "following_url": "https://api.github.com/users/huntj88/following{/other_user}", "gists_url": "https://api.github.com/users/huntj88/gists{/gist_id}", "starred_url": "https://api.github.com/users/huntj88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huntj88/subscriptions", "organizations_url": "https://api.github.com/users/huntj88/orgs", "repos_url": "https://api.github.com/users/huntj88/repos", "events_url": "https://api.github.com/users/huntj88/events{/privacy}", "received_events_url": "https://api.github.com/users/huntj88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-25T02:09:53Z", "updated_at": "2022-03-29T02:08:22Z", "closed_at": "2022-03-25T04:09:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nPID controllers include functions in the drop down menu, but it errors out with \"A valid Measurement is required\". If i remove this piece of validation code everything works as expected\r\n\r\nhttps://github.com/huntj88/Mycodo/commit/9e6317a5f41f3081fd87a1a5d1c754ef993e3f42", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1163", "id": 1174348117, "node_id": "I_kwDOAc-Z285F_yFV", "number": 1163, "title": "Timelapse - Not taking pictures after resuming past next capture date", "user": {"login": "jamjamjakjak", "id": 101949527, "node_id": "U_kgDOBhOgVw", "avatar_url": "https://avatars.githubusercontent.com/u/101949527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamjamjakjak", "html_url": "https://github.com/jamjamjakjak", "followers_url": "https://api.github.com/users/jamjamjakjak/followers", "following_url": "https://api.github.com/users/jamjamjakjak/following{/other_user}", "gists_url": "https://api.github.com/users/jamjamjakjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamjamjakjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamjamjakjak/subscriptions", "organizations_url": "https://api.github.com/users/jamjamjakjak/orgs", "repos_url": "https://api.github.com/users/jamjamjakjak/repos", "events_url": "https://api.github.com/users/jamjamjakjak/events{/privacy}", "received_events_url": "https://api.github.com/users/jamjamjakjak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-03-19T20:22:50Z", "updated_at": "2022-08-13T19:20:35Z", "closed_at": "2022-03-28T22:36:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nMany thanks to the founder(s) and to everyone who has contributed to this project. It is simply a piece of art!\r\nI have a complicated setup and it is all functioning as intended.\r\n\r\nI'm having an issue where Im trying to pause the timelapse during the dark period and resume in the morning.\r\nIt seems to get stuck and I think it may have something to do with the next capture date.\r\nIts configured to take a picture every 2 hours(7200 seconds) however after many hours during the night paused, it is well past its 'Next Capture Date' and maybe waiting for this timestamp in the past to come again, causing it to fail to resume. \r\nExample:\r\n![pic](https://user-images.githubusercontent.com/101949527/159137257-bd5277ce-0916-4212-9658-e4d57e55f6fb.png)\r\n\r\n\r\nPerhaps there is a way to programmically set the Next Capture Date manually?\r\n\r\nMany thanks. hope this helps.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1157", "id": 1159657714, "node_id": "I_kwDOAc-Z285FHvjy", "number": 1157, "title": "camera picture not attached and sent via e-mail", "user": {"login": "MariuszJac", "id": 2776183, "node_id": "MDQ6VXNlcjI3NzYxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2776183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MariuszJac", "html_url": "https://github.com/MariuszJac", "followers_url": "https://api.github.com/users/MariuszJac/followers", "following_url": "https://api.github.com/users/MariuszJac/following{/other_user}", "gists_url": "https://api.github.com/users/MariuszJac/gists{/gist_id}", "starred_url": "https://api.github.com/users/MariuszJac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MariuszJac/subscriptions", "organizations_url": "https://api.github.com/users/MariuszJac/orgs", "repos_url": "https://api.github.com/users/MariuszJac/repos", "events_url": "https://api.github.com/users/MariuszJac/events{/privacy}", "received_events_url": "https://api.github.com/users/MariuszJac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-04T13:39:17Z", "updated_at": "2022-03-28T22:36:06Z", "closed_at": "2022-03-28T22:36:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\n### Versions:\r\n\r\nMycodo Version: 8.12.9\r\nPython Version: 3.9.2 (default, Mar 12 2021, 04:06:34) [GCC 10.2.1 20210110]\r\nRaspberry Pi Version: 4\r\nRaspbian OS Version: Latest\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\nI've added function (conditional) that sends 2 e-mails: a) one is reporting sensor values, b) other is sending picture taken from raspi camera.\r\n\r\n### Expected behavior\r\n\r\nThe first email is working fine, however, when I add another one as an action then it get's sent but does not include any attachment.\r\nName of the e-mail points to the correct directory where the camera file is located and I can see that it is there - however no attachment in the e-mail or file is sent. \r\nMy e-mail box is gmail.\r\nCamera configured as raspi and is working fine as well.\r\nTried setting up in separate trigger and still no luck - in this case no e-mail is sent at tall.\r\nIn debug mode looking at logs spotted that attachment type is set to 'none' but these are just logs.\r\nIf you could point me where in the code attachment sending is located I could debug it further.\r\n\r\n### Screenshots\r\n![image](https://user-images.githubusercontent.com/2776183/156773075-952001a5-c986-4967-8260-e346d319728a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1149", "id": 1122296466, "node_id": "I_kwDOAc-Z285C5OKS", "number": 1149, "title": "Pyrsistent fails to build on 64-bit Raspberry Pi OS in Mycodo virtualenv", "user": {"login": "iinewmanii", "id": 31577888, "node_id": "MDQ6VXNlcjMxNTc3ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/31577888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iinewmanii", "html_url": "https://github.com/iinewmanii", "followers_url": "https://api.github.com/users/iinewmanii/followers", "following_url": "https://api.github.com/users/iinewmanii/following{/other_user}", "gists_url": "https://api.github.com/users/iinewmanii/gists{/gist_id}", "starred_url": "https://api.github.com/users/iinewmanii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iinewmanii/subscriptions", "organizations_url": "https://api.github.com/users/iinewmanii/orgs", "repos_url": "https://api.github.com/users/iinewmanii/repos", "events_url": "https://api.github.com/users/iinewmanii/events{/privacy}", "received_events_url": "https://api.github.com/users/iinewmanii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2022-02-02T19:20:11Z", "updated_at": "2022-11-08T17:48:33Z", "closed_at": "2022-03-28T22:36:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nDuring installation I receive an error that pyrsistent has failed to build. The installation will continue afterwards and will fail to connect with the daemon at the end. I have built pyrsistent outside of the install with no problems. I have searched around the github and tried various fixes but nothing helped so i decided to open an issue.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *8.12.9*\r\n - Raspberry Pi Version: *4*\r\n - Raspbian OS Version: *2022-01-28-raspios-bullseye-arm64*\r\n - Python Version: 3.9.2\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\nIt is a fresh install of raspian. All I did afterward was setup wlan and create an ssh file. I the did apt update/upgrade and then started trying to install Mycodo.\r\n\r\n### Expected behavior\r\n\r\nExpect to install without error.\r\n\r\nAppreciate any help.\r\n\r\n[setup.log](https://github.com/kizniche/Mycodo/files/7989428/setup.log)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1145", "id": 1111910768, "node_id": "I_kwDOAc-Z285CRmlw", "number": 1145, "title": "Server 500's when loading \"Function\" page after upgrading directly from 8.8.8 to 8.12.9", "user": {"login": "AKAMEDIASYSTEM", "id": 407323, "node_id": "MDQ6VXNlcjQwNzMyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/407323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AKAMEDIASYSTEM", "html_url": "https://github.com/AKAMEDIASYSTEM", "followers_url": "https://api.github.com/users/AKAMEDIASYSTEM/followers", "following_url": "https://api.github.com/users/AKAMEDIASYSTEM/following{/other_user}", "gists_url": "https://api.github.com/users/AKAMEDIASYSTEM/gists{/gist_id}", "starred_url": "https://api.github.com/users/AKAMEDIASYSTEM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AKAMEDIASYSTEM/subscriptions", "organizations_url": "https://api.github.com/users/AKAMEDIASYSTEM/orgs", "repos_url": "https://api.github.com/users/AKAMEDIASYSTEM/repos", "events_url": "https://api.github.com/users/AKAMEDIASYSTEM/events{/privacy}", "received_events_url": "https://api.github.com/users/AKAMEDIASYSTEM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-01-23T16:00:46Z", "updated_at": "2022-03-29T02:08:19Z", "closed_at": "2022-01-23T16:02:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! Thanks again for making Mycodo, it rocks.\r\n\r\nAfter upgrading from 8.8.8 to the latest (ie, skipping several releases in between), clicking the \"Function\" link on the \"Setup\" drop-down results in an Error 500 from the server (full server output appended below)\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *[e.g. 8.0.3]*\r\n - Raspberry Pi Version: *[e.g. 3B+]*\r\n - Raspbian OS Version: *[e.g. Buster Lite]*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1) Have a functioning setup using Mycodo 8.8.8\r\n2) Turn everything off for several months because you needed the space for another project\r\n3) Turn the system on again, immediately upgrading from 8.8.8 to 8.12.9\r\n4) Try to access the \"Functions\" page to alter the timing of a function (that is still successfully running after the upgrade - just wanted to change its interval)\r\n5) Get 500 page form server\r\n\r\n### Expected behavior\r\n\r\nAble to load Function page and alter settings\r\n\r\n### Additional context\r\n\r\nHere is the content of the 500 message:\r\n\r\n```\r\nVersion: 8.12.9\r\nDatabase: 0187ea22dc4b\r\nModel: Raspberry Pi 3 Model B Rev 1.2\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 10 (buster)\r\nRelease: 10\r\nCodename: buster\r\n\r\nFirmware:\r\nSep 2 2020 21:16:35\r\nCopyright (c) 2012 Broadcom\r\nversion 4439d2aaa6c376a2d1ef4402f142e1cf4de37c43 (clean) (release) (start_x)\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2073, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1518, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 672, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1516, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1502, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_function.py\", line 609, in page_function\r\n    user=user)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 150, in render_template\r\n    ctx.app,\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 128, in _render\r\n    rv = template.render(context)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1291, in render\r\n    self.environment.handle_exception()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 925, in handle_exception\r\n    raise rewrite_traceback_stack(source=source)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/function.html\", line 3, in top-level template code\r\n    {% set help_page = [\"https://kizniche.github.io/Mycodo/Functions/\", dict_translation['function']['title']] %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 384, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/function.html\", line 121, in block 'body'\r\n    {% include 'pages/function_options/function_entry.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/function_options/function_entry.html\", line 40, in top-level template code\r\n    {% include 'pages/function_options/function_options.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/function_options/function_options.html\", line 58, in top-level template code\r\n    {% include 'pages/function_options/actions.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/function_options/actions.html\", line 15, in top-level template code\r\n    {% include 'pages/function_options/action_options/'+each_action.action_type+'.html' %}\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 59, in get_source\r\n    return self._get_source_fast(environment, template)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 95, in _get_source_fast\r\n    raise TemplateNotFound(template)\r\njinja2.exceptions.TemplateNotFound: pages/function_options/action_options/infrared_send.html\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1130", "id": 1091845268, "node_id": "I_kwDOAc-Z285BFDyU", "number": 1130, "title": "Minor solid gauge isssue", "user": {"login": "SingularityJ", "id": 80034041, "node_id": "MDQ6VXNlcjgwMDM0MDQx", "avatar_url": "https://avatars.githubusercontent.com/u/80034041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SingularityJ", "html_url": "https://github.com/SingularityJ", "followers_url": "https://api.github.com/users/SingularityJ/followers", "following_url": "https://api.github.com/users/SingularityJ/following{/other_user}", "gists_url": "https://api.github.com/users/SingularityJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/SingularityJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SingularityJ/subscriptions", "organizations_url": "https://api.github.com/users/SingularityJ/orgs", "repos_url": "https://api.github.com/users/SingularityJ/repos", "events_url": "https://api.github.com/users/SingularityJ/events{/privacy}", "received_events_url": "https://api.github.com/users/SingularityJ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-01T16:18:39Z", "updated_at": "2022-03-29T02:08:20Z", "closed_at": "2022-03-28T22:36:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nMinor bug, when adding the solid gauge widget. if 5 (no issue modifying after dependency install) stops is selected before the dependencies are installed, it will produce the following:\r\n(no issue modifying after dependency install)\r\n\r\n\r\nError 500: Internal Server Error\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following diagnostic information and error traceback (copy the entire traceback):\r\n\r\nVersion: 8.12.9\r\nDatabase: 0187ea22dc4b\r\nModel: Raspberry Pi 4 Model B Rev 1.4\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 11 (bullseye)\r\nRelease: 11\r\nCodename: bullseye\r\n\r\nFirmware:\r\nb''\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask/app.py\", line 2073, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask/app.py\", line 1518, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask_restx/api.py\", line 672, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask/app.py\", line 1516, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask/app.py\", line 1502, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.9/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_dashboard.py\", line 145, in page_dashboard\r\n    unmet_dependencies = utils_dashboard.widget_add(form_base, request.form)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/utils/utils_dashboard.py\", line 230, in widget_add\r\n    error, new_widget = dict_widgets[widget_name]['execute_at_creation'](\r\n  File \"/home/pi/Mycodo/mycodo/widgets/widget_gauge_solid.py\", line 51, in execute_at_creation\r\n    color = color_list[i + 1]\r\nIndexError: list index out of range\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1117", "id": 1065471035, "node_id": "I_kwDOAc-Z284_gcw7", "number": 1117, "title": "Raspberry Pi OS - Bullseye libcamera changes", "user": {"login": "cstallings", "id": 9777602, "node_id": "MDQ6VXNlcjk3Nzc2MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9777602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cstallings", "html_url": "https://github.com/cstallings", "followers_url": "https://api.github.com/users/cstallings/followers", "following_url": "https://api.github.com/users/cstallings/following{/other_user}", "gists_url": "https://api.github.com/users/cstallings/gists{/gist_id}", "starred_url": "https://api.github.com/users/cstallings/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cstallings/subscriptions", "organizations_url": "https://api.github.com/users/cstallings/orgs", "repos_url": "https://api.github.com/users/cstallings/repos", "events_url": "https://api.github.com/users/cstallings/events{/privacy}", "received_events_url": "https://api.github.com/users/cstallings/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-28T23:48:13Z", "updated_at": "2022-03-29T02:08:22Z", "closed_at": "2022-03-28T22:36:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is perhaps less a bug and more a functionality issue due to major camera changes in the latest version of Raspberry Pi OS (Bullseye). As you probably know, the newest version of RPi OS has completely changed the camera libraries to libcamera (https://libcamera.org/entries/2020-05-05.html) . I'm currently working with a Pi Camera Rev 1.3 on both a RPi4b and a Zero2w. I'm able to get the camera to work with the RPi4b and the Zero 2w however I'm unsure if its compatible with Mycodo currently? \r\n1. Does Mycodo work with libcamera?\r\n2. If not, are there plans to support it?\r\n3. \r\nThanks!\r\n\r\n**Versions:**\r\n\r\n - Mycodo Version: 8.12.8 \r\n - Raspberry Pi Version: 4b 8gb  and Zero2w\r\n - Raspbian OS Version: Bullseye\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1106", "id": 1036150707, "node_id": "I_kwDOAc-Z2849wmez", "number": 1106, "title": "Installation of v8.12.7 won't complete", "user": {"login": "juanaudin1", "id": 93195012, "node_id": "U_kgDOBY4LBA", "avatar_url": "https://avatars.githubusercontent.com/u/93195012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juanaudin1", "html_url": "https://github.com/juanaudin1", "followers_url": "https://api.github.com/users/juanaudin1/followers", "following_url": "https://api.github.com/users/juanaudin1/following{/other_user}", "gists_url": "https://api.github.com/users/juanaudin1/gists{/gist_id}", "starred_url": "https://api.github.com/users/juanaudin1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juanaudin1/subscriptions", "organizations_url": "https://api.github.com/users/juanaudin1/orgs", "repos_url": "https://api.github.com/users/juanaudin1/repos", "events_url": "https://api.github.com/users/juanaudin1/events{/privacy}", "received_events_url": "https://api.github.com/users/juanaudin1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-10-26T11:05:07Z", "updated_at": "2021-10-28T13:44:47Z", "closed_at": "2021-10-28T13:44:47Z", "author_association": "NONE", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1105", "id": 1034737651, "node_id": "I_kwDOAc-Z2849rNfz", "number": 1105, "title": "Security Vulnerability", "user": {"login": "haby0", "id": 29876502, "node_id": "MDQ6VXNlcjI5ODc2NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/29876502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haby0", "html_url": "https://github.com/haby0", "followers_url": "https://api.github.com/users/haby0/followers", "following_url": "https://api.github.com/users/haby0/following{/other_user}", "gists_url": "https://api.github.com/users/haby0/gists{/gist_id}", "starred_url": "https://api.github.com/users/haby0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haby0/subscriptions", "organizations_url": "https://api.github.com/users/haby0/orgs", "repos_url": "https://api.github.com/users/haby0/repos", "events_url": "https://api.github.com/users/haby0/events{/privacy}", "received_events_url": "https://api.github.com/users/haby0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-10-25T06:38:07Z", "updated_at": "2021-10-27T02:27:36Z", "closed_at": "2021-10-27T02:27:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "What would be the right contact to report a security vulnerabilty? thanks!", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1101", "id": 1019348450, "node_id": "I_kwDOAc-Z2848wgXi", "number": 1101, "title": "Adding multiple outputs results in one output appearing until page refresh (master branch)", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-06T22:15:25Z", "updated_at": "2021-12-03T04:06:48Z", "closed_at": "2021-12-03T04:06:48Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Problem: Enter 2 in quantity field on output page, select any output, select Add. Only one output is added to the page. Refresh the page and two outputs are there.\r\n\r\nFix: allow multiple outputs to be added via the new ajax form submission system.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1100", "id": 1017827415, "node_id": "I_kwDOAc-Z2848qtBX", "number": 1100, "title": "Incorrect Highstock dependency for gauge widgets", "user": {"login": "antoinechauveau", "id": 4145837, "node_id": "MDQ6VXNlcjQxNDU4Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/4145837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoinechauveau", "html_url": "https://github.com/antoinechauveau", "followers_url": "https://api.github.com/users/antoinechauveau/followers", "following_url": "https://api.github.com/users/antoinechauveau/following{/other_user}", "gists_url": "https://api.github.com/users/antoinechauveau/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoinechauveau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoinechauveau/subscriptions", "organizations_url": "https://api.github.com/users/antoinechauveau/orgs", "repos_url": "https://api.github.com/users/antoinechauveau/repos", "events_url": "https://api.github.com/users/antoinechauveau/events{/privacy}", "received_events_url": "https://api.github.com/users/antoinechauveau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-06T08:54:21Z", "updated_at": "2021-10-26T02:04:05Z", "closed_at": "2021-10-26T02:04:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nDependency installation for gauge widgets is not functional. Highstock is treated as a dependency, but only the base Highcharts package is installed.\r\n\r\nGraph widgets on the other hand have proper support for Highstock installation. If we setup one such graph first, then gauges also work. \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.12.6\r\n - Raspberry Pi Version: N/A (amd64 virtual machine)\r\n - Raspbian OS Version: N/A (Ubuntu 20.04)\r\n\r\n### Reproducibility\r\n\r\n1. Install fresh Mycodo\r\n2. Set up any input (ex. RAM measurement)\r\n3. Click on \"Data\" -> \"Default\"\r\n4. Click \"Add Dashboard Widget\" -> \"Gauge (Solid) [Highcharts]\"\r\n5. Fill minimum details (ex. RAM input above) and click \"Create\"\r\n6. Click \"Install All Dependencies\"\r\n7. Wait for \"Dependency install complete\"\r\n8. Repeat steps 3 to 5, \"highstock-9.1.2.js\" is still reported as missing dependency\r\n\r\n### Expected behavior\r\n\r\nAt step 8, the gauge widget should be installed on the dashboard and functional.\r\n\r\n### Additional context\r\n\r\nDependency installation became inconsistent with commit https://github.com/kizniche/Mycodo/commit/6013f75da908b76a8eb97f94b2c2a4d11a70ac94. Gauge widgets were made to depend on Highstock instead of Highcharts, but the dependency installation procedure for these widgets still downloads only Highcharts through \"wget\". Also the widgets' names still list \"Highcharts\".\r\n\r\nNot sure what is the attempted design. Does Mycodo try to install minimal dependencies (in which case the Highstock dependency is superfluous for gauges), or does it try to standardize on Highstock whether using gauges or graphs?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1096", "id": 1007402444, "node_id": "I_kwDOAc-Z2848C73M", "number": 1096, "title": "No internet connection after restoring previous version of Mycodo", "user": {"login": "sjoerdschouten", "id": 15873768, "node_id": "MDQ6VXNlcjE1ODczNzY4", "avatar_url": "https://avatars.githubusercontent.com/u/15873768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjoerdschouten", "html_url": "https://github.com/sjoerdschouten", "followers_url": "https://api.github.com/users/sjoerdschouten/followers", "following_url": "https://api.github.com/users/sjoerdschouten/following{/other_user}", "gists_url": "https://api.github.com/users/sjoerdschouten/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjoerdschouten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjoerdschouten/subscriptions", "organizations_url": "https://api.github.com/users/sjoerdschouten/orgs", "repos_url": "https://api.github.com/users/sjoerdschouten/repos", "events_url": "https://api.github.com/users/sjoerdschouten/events{/privacy}", "received_events_url": "https://api.github.com/users/sjoerdschouten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-09-26T14:09:33Z", "updated_at": "2021-12-03T04:06:41Z", "closed_at": "2021-12-03T04:06:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "After restoring (from version 8.12.6) a version 8.11.0 (see #1092) the `upgrade` page shows the message below and prevents an update of Mycodo.\r\n\r\n```\r\nNo internet connection detected. To upgrade Mycodo automatically, you will need an internet connection. Refresh the page when one is connected. \r\n```\r\nThe raspberry is connected to the internet and I have verified this with `ping`.\r\n\r\n### Versions:\r\n- Mycodo Version: 8.11.0\r\n- Model: Raspberry Pi 4 Model B Rev 1.4\r\n- Release:\r\n- Distributor ID: Raspbian\r\n- Description: Raspbian GNU/Linux 10 (buster)\r\n- Release: 10\r\n- Codename: buster\r\n\r\nFirmware:\r\n- Aug 3 2021 18:14:56\r\n- Copyright (c) 2012 Broadcom\r\n- version 40787ee5905644f639a2a0f6e00ae12e517a2211 (clean) (release) (start)\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Restore a backup of a previous version (in my case from `8.12.6` to  8.11`)\r\n2. Upgrade button becomes red (to indicate there is an update)\r\n3. See update page presenting the error\r\n4. \r\n### Expected behavior\r\nNot receiving a message about not having an internet connection (even though the Pi is connect to the internet) and being able to upgrade.\r\n\r\n### Screenshots\r\nhttps://imgur.com/FBVwLSk\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1095", "id": 1007211538, "node_id": "I_kwDOAc-Z2848CNQS", "number": 1095, "title": "Install Dependencies for I/O Expander: MCP23017 (16 Channels): On/Off", "user": {"login": "grux77", "id": 55245846, "node_id": "MDQ6VXNlcjU1MjQ1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/55245846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grux77", "html_url": "https://github.com/grux77", "followers_url": "https://api.github.com/users/grux77/followers", "following_url": "https://api.github.com/users/grux77/following{/other_user}", "gists_url": "https://api.github.com/users/grux77/gists{/gist_id}", "starred_url": "https://api.github.com/users/grux77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grux77/subscriptions", "organizations_url": "https://api.github.com/users/grux77/orgs", "repos_url": "https://api.github.com/users/grux77/repos", "events_url": "https://api.github.com/users/grux77/events{/privacy}", "received_events_url": "https://api.github.com/users/grux77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-09-25T22:30:31Z", "updated_at": "2021-12-03T04:06:45Z", "closed_at": "2021-12-03T04:06:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "RPi4 \r\nLinux Mycodo 5.10.60-v7l+ \r\nMycodo Version: 8.12.6\r\nPython Version: 3.7.3 (default, Jan 22 2021, 20:04:44) [GCC 8.3.0]\r\n\r\nFailure:\r\nThe I/O Expander: MCP23017 cannot be added.\r\n\r\nReproduction:\r\nTry adding the  I/O Expander: MCP23017 in Setup/Output. There is a hint that dependencies have to be installed:\r\n_\"Dependencies not installed: adafruit_mcp4728\"_. After the installation you can still not add the MCP23017 although the log does not show any errors.\r\n\r\nMy solution was:\r\nFirst install the dependencies for  Digital-to-Analog Converters: MCP4728. Then the Expander MCP23017 can also be added.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1086", "id": 987225929, "node_id": "MDU6SXNzdWU5ODcyMjU5Mjk=", "number": 1086, "title": "Camera DB model should store filename of its most recent still/timelapse images", "user": {"login": "kimbernator", "id": 28678245, "node_id": "MDQ6VXNlcjI4Njc4MjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/28678245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kimbernator", "html_url": "https://github.com/kimbernator", "followers_url": "https://api.github.com/users/kimbernator/followers", "following_url": "https://api.github.com/users/kimbernator/following{/other_user}", "gists_url": "https://api.github.com/users/kimbernator/gists{/gist_id}", "starred_url": "https://api.github.com/users/kimbernator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kimbernator/subscriptions", "organizations_url": "https://api.github.com/users/kimbernator/orgs", "repos_url": "https://api.github.com/users/kimbernator/repos", "events_url": "https://api.github.com/users/kimbernator/events{/privacy}", "received_events_url": "https://api.github.com/users/kimbernator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-02T22:39:42Z", "updated_at": "2021-09-24T01:02:45Z", "closed_at": "2021-09-24T01:02:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nWhen a camera has taken a large number of timelapse images, querying for the most recent one, whether it's in the camera administration page or on a dashbaord, can take an extremely long time. This appears to be because it's running the following:\r\n\r\n```PY\r\n latest_time_lapse_img_full_path = max(glob.iglob(\r\n                '{path}/Timelapse-{cam_id}-*.jpg'.format(\r\n                    path=tl_path,\r\n                    cam_id=each_camera.id)), key=os.path.getmtime)\r\n```\r\n\r\nThis is pretty rough since it's checking the mtime on each and every file individually, moreso when the timelapse image path is on something like an SMB share which is quite slow compared to local storage. With thousands or more images this can be a pretty frustrating thing to wait for since a timelapse dashboard widget or the camera administration page both require this function to return before they will even load. Often the whole system will lock up since the function is stuck running in the background.\r\n\r\n**Describe the solution you'd like**\r\nI think there are a few options that could feasibly improve this.\r\n\r\n\r\nAdd a field to the Camera model in the DB which is the filename (with or without the path) of the most recent timelapse. Update it whenever a new one is taken. When querying for a camera's most recent timelapse, all you'd need to do it get that field and maybe verify that the file exists.\r\n\r\n**Describe alternatives you've considered**\r\n\r\n1. Simply sort the filenames in the given path and take the last one. Since filenames are identical aside from their numbers, an alphanumeric sort will give you the last one. Only downside is if someone runs over 100,000 images and the filenames stop conforming to the 5 digit numeric minimum (e.g. img_99999.jpg would come before img_100000.jpg)\r\n\r\n2. Somehow make the call to that method asynchronous so it doesn't bring the whole program to a halt. Probably not worth the work.\r\n\r\n**Additional context**\r\n\r\nA really simple benchmark I did on a dir which is within a mounted cifs/smb share. There are ~8000 images in the directory:\r\n\r\n```PY\r\n>>> def run_iglob():\r\n...   start_time = time.time()\r\n...   print(f\"starting at {start_time}\")\r\n...   files = max(glob.iglob(\"/state/mycodo/timelapse_images/*.jpg\"), key=os.path.getmtime)\r\n...   end_time = time.time()\r\n...   print(f\"ended at {end_time}   (total: {end_time - start_time})\")\r\n...\r\n>>> run_iglob()\r\nstarting at 1630622099.835114\r\nended at 1630622231.550066   (total: 131.7149519920349)\r\n```\r\n\r\n\r\nI'm willing to make this enhancement myself if I get some time in the next couple days, I just want to get feedback and make sure the current design isn't secretly integral to the system.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1086/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1085", "id": 987041941, "node_id": "MDU6SXNzdWU5ODcwNDE5NDE=", "number": 1085, "title": "Jmespath Dependency Install ERROR", "user": {"login": "Muncslice", "id": 76022770, "node_id": "MDQ6VXNlcjc2MDIyNzcw", "avatar_url": "https://avatars.githubusercontent.com/u/76022770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Muncslice", "html_url": "https://github.com/Muncslice", "followers_url": "https://api.github.com/users/Muncslice/followers", "following_url": "https://api.github.com/users/Muncslice/following{/other_user}", "gists_url": "https://api.github.com/users/Muncslice/gists{/gist_id}", "starred_url": "https://api.github.com/users/Muncslice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Muncslice/subscriptions", "organizations_url": "https://api.github.com/users/Muncslice/orgs", "repos_url": "https://api.github.com/users/Muncslice/repos", "events_url": "https://api.github.com/users/Muncslice/events{/privacy}", "received_events_url": "https://api.github.com/users/Muncslice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-02T18:33:11Z", "updated_at": "2021-09-04T01:21:06Z", "closed_at": "2021-09-04T01:21:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\n*[Jmespath version cannot be found when installing the dependency for mqtt_paho_json]*\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *[8.12.5]*\r\n - Raspberry Pi Version: *[4B]*\r\n - Raspbian OS Version: *[Buster Lite]*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. *[Go to...]*\r\n2. *[Click on...]*\r\n3. *[Scroll down to...]*\r\n4. *[See error...]*\r\n5. *[replace this list with your own text]*\r\n\r\n### Expected behavior\r\n\r\n*[A clear and concise description of what you expected to happen - replace this with your own text]*\r\n\r\n### Screenshots\r\n\r\n*[\r\n![image](https://user-images.githubusercontent.com/76022770/131896154-6bc6696c-4922-438c-a75c-dbbaae3da3c7.png)\r\n]*\r\n\r\n### Additional context\r\n\r\n*[The Error as I see it is due to the requested Jmespath version being either unreleased and non existent at this present stage, the dependency install request originates from Mycodo/mycodo/inputs/mqtt_paho_json.py.\r\n\r\nSee below screenshot:\r\n\r\n![image](https://user-images.githubusercontent.com/76022770/131897171-54bb0c9c-38b9-4aa0-bfba-dc20fb783535.png)\r\n\r\n\r\nChanging the value from 'jmespath==0.10.1' to 'jmespath==0.10.0' which is the current latest release (correct me if i am wrong) fixes the issue and allows the dependency to install. \r\n\r\nSee below screenshot:\r\n\r\n![image](https://user-images.githubusercontent.com/76022770/131897528-f85895d2-78d6-4812-b0bc-f41f39d383ac.png)\r\n]*\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1083", "id": 985500425, "node_id": "MDU6SXNzdWU5ODU1MDA0MjU=", "number": 1083, "title": "Unable to access Inputs UI after upgrade to 8.12.5", "user": {"login": "emuehlstein", "id": 8663497, "node_id": "MDQ6VXNlcjg2NjM0OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8663497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emuehlstein", "html_url": "https://github.com/emuehlstein", "followers_url": "https://api.github.com/users/emuehlstein/followers", "following_url": "https://api.github.com/users/emuehlstein/following{/other_user}", "gists_url": "https://api.github.com/users/emuehlstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/emuehlstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emuehlstein/subscriptions", "organizations_url": "https://api.github.com/users/emuehlstein/orgs", "repos_url": "https://api.github.com/users/emuehlstein/repos", "events_url": "https://api.github.com/users/emuehlstein/events{/privacy}", "received_events_url": "https://api.github.com/users/emuehlstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-01T18:50:58Z", "updated_at": "2021-09-04T01:21:09Z", "closed_at": "2021-09-04T01:21:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nAfter upgrade from 8.9.2 to 8.12.5 when Setup->Input is selected from the menu mycodo returns a 500 error.\r\n### Versions:\r\n\r\n - Mycodo Version: 8.12.5\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: Raspbian Buster\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Upgrade from 8.9.2 to 8.12.5\r\n2. Click on Setup -> Input\r\n3. See error.\r\n\r\n### Expected behavior\r\n\r\nInput screen displayed.\r\n\r\n### Screenshots\r\n\r\n### Additional context\r\n\r\nVersion: 8.12.5\r\nDatabase: 6e394f2e8fec\r\nModel: Raspberry Pi 4 Model B Rev 1.2\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 10 (buster)\r\nRelease: 10\r\nCodename: buster\r\n\r\nFirmware:\r\nSep 2 2020 21:13:13\r\nCopyright (c) 2012 Broadcom\r\nversion 4439d2aaa6c376a2d1ef4402f142e1cf4de37c43 (clean) (release) (start)\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 652, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_input.py\", line 406, in page_input\r\n    devices_1wire_w1thermsensor=devices_1wire_w1thermsensor)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 140, in render_template\r\n    ctx.app,\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 120, in _render\r\n    rv = template.render(context)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1090, in render\r\n    self.environment.handle_exception()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 832, in handle_exception\r\n    reraise(*rewrite_traceback_stack(source=source))\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/_compat.py\", line 28, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 3, in top-level template code\r\n    {% set help_page = [\"https://kizniche.github.io/Mycodo/Inputs/\", dict_translation['input']['title']] %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 384, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 77, in block \"body\"\r\n    {% include 'pages/data_options/math.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/data_options/math.html\", line 161, in top-level template code\r\n    {{form_base.csrf_token}}\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 471, in getattr\r\n    return getattr(obj, attribute)\r\njinja2.exceptions.UndefinedError: 'form_base' is undefined\r\n\r\n[mycodoupgrade.log](https://github.com/kizniche/Mycodo/files/7093609/mycodoupgrade.log)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1082", "id": 985232177, "node_id": "MDU6SXNzdWU5ODUyMzIxNzc=", "number": 1082, "title": "8.12.5 Dependencies page internal server error", "user": {"login": "Ikzy", "id": 69079810, "node_id": "MDQ6VXNlcjY5MDc5ODEw", "avatar_url": "https://avatars.githubusercontent.com/u/69079810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ikzy", "html_url": "https://github.com/Ikzy", "followers_url": "https://api.github.com/users/Ikzy/followers", "following_url": "https://api.github.com/users/Ikzy/following{/other_user}", "gists_url": "https://api.github.com/users/Ikzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ikzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ikzy/subscriptions", "organizations_url": "https://api.github.com/users/Ikzy/orgs", "repos_url": "https://api.github.com/users/Ikzy/repos", "events_url": "https://api.github.com/users/Ikzy/events{/privacy}", "received_events_url": "https://api.github.com/users/Ikzy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-01T14:33:56Z", "updated_at": "2022-05-12T12:50:16Z", "closed_at": "2021-09-04T01:21:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### Describe the problem/bug\r\nWhen opening options and the dependencies page (mycodo/admin/dependencies/) page takes 20 seconds to load and throws an internal server error (500) *see other context\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *[8.12.5]*\r\n - Raspberry Pi Version: *[4]*\r\n - Raspbian OS Version: *[ Buster]*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. *[Go to options]*\r\n2. *[Click on dependencies]*\r\n3.  PROFIT\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Additional context\r\nFull Traceback:\r\n\r\n**\r\nError 500: Internal Server Error\r\n\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following diagnostic information and error traceback (copy the entire traceback):\r\n\r\nVersion: 8.12.5 \r\nDatabase: 6e394f2e8fec \r\nModel: Raspberry Pi 4 Model B Rev 1.2\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 10 (buster)\r\nRelease: 10\r\nCodename: buster\r\n\r\nFirmware:\r\nApr 30 2021 13:46:42 \r\nCopyright (c) 2012 Broadcom\r\nversion d7f29d96450abfc77cd6cf011af1faf1e03e5e56 (clean) (release) (start_x)\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 652, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_admin.py\", line 379, in admin_dependencies\r\n    if each_dep not in unmet_list:\r\nTypeError: unhashable type: 'list'\r\n**\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1081", "id": 984620855, "node_id": "MDU6SXNzdWU5ODQ2MjA4NTU=", "number": 1081, "title": "Dashboard layout broken after update to 8.12.4", "user": {"login": "constantm", "id": 292439, "node_id": "MDQ6VXNlcjI5MjQzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/292439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/constantm", "html_url": "https://github.com/constantm", "followers_url": "https://api.github.com/users/constantm/followers", "following_url": "https://api.github.com/users/constantm/following{/other_user}", "gists_url": "https://api.github.com/users/constantm/gists{/gist_id}", "starred_url": "https://api.github.com/users/constantm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/constantm/subscriptions", "organizations_url": "https://api.github.com/users/constantm/orgs", "repos_url": "https://api.github.com/users/constantm/repos", "events_url": "https://api.github.com/users/constantm/events{/privacy}", "received_events_url": "https://api.github.com/users/constantm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-09-01T05:01:50Z", "updated_at": "2022-01-12T21:15:07Z", "closed_at": "2021-09-03T00:14:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nAfter updating to the latest version of MyCodo, my dashboard layouts seem to be broken in Firefox. On Webkit  histograms correctly take up the full width of the screen, but the layout of smaller graphs are also broken.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.12.4\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: Raspbian GNU/Linux 10 (buster)\r\n\r\n### Screenshots\r\n\r\nNote that the styles are different on the two screenshots as I had a play around with the themes to see if it has an impact on this.\r\n\r\nFirefox:\r\n<img width=\"1295\" alt=\"Screen Shot 2021-09-01 at 4 53 22 PM\" src=\"https://user-images.githubusercontent.com/292439/131614307-bcb001fd-aef5-471e-8979-3e212d899608.png\">\r\n\r\nWebkit:\r\n<img width=\"1250\" alt=\"Screen Shot 2021-09-01 at 4 59 43 PM\" src=\"https://user-images.githubusercontent.com/292439/131614662-5a203681-5ea3-463c-bceb-65b3de6c07e6.png\">", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1080", "id": 983588348, "node_id": "MDU6SXNzdWU5ODM1ODgzNDg=", "number": 1080, "title": "Widget back colour and size pb", "user": {"login": "pe2269", "id": 85128895, "node_id": "MDQ6VXNlcjg1MTI4ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/85128895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pe2269", "html_url": "https://github.com/pe2269", "followers_url": "https://api.github.com/users/pe2269/followers", "following_url": "https://api.github.com/users/pe2269/following{/other_user}", "gists_url": "https://api.github.com/users/pe2269/gists{/gist_id}", "starred_url": "https://api.github.com/users/pe2269/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pe2269/subscriptions", "organizations_url": "https://api.github.com/users/pe2269/orgs", "repos_url": "https://api.github.com/users/pe2269/repos", "events_url": "https://api.github.com/users/pe2269/events{/privacy}", "received_events_url": "https://api.github.com/users/pe2269/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-31T08:27:33Z", "updated_at": "2021-08-31T18:35:22Z", "closed_at": "2021-08-31T18:35:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### Describe the problem/bug\r\n\r\nHi Kyle,\r\n\r\nI upgrade my system to the V8.12.2 in order to fix the displayed widgets problems (it's works :))\r\nBut now i have some new issues :\r\n \r\n                 1\u00b0) The back colour of the Solid and Angular Gauge widget remains white in the darkly theme i use.\r\n                 2\u00b0) When I add in the same dashboard that the gauges widget, a graph widget, the back colour problem is fixed\r\n                 3\u00b0) i must to save the widget after change in the size of the widget (maybe it's not a bug)                 \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *v8.12.2\r\n - Raspberry Pi Version: 4 B \r\n - Raspbian OS Version: 10 Buster\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. *[Go to...]*\r\n2. *[Click on...]*\r\n3. *[Scroll down to...]*\r\n4. *[See error...]*\r\n5. *[replace this list with your own text]*\r\n\r\n### Expected behavior\r\n\r\n*[A clear and concise description of what you expected to happen - replace this with your own text]*\r\n\r\n### Screenshots\r\n\r\n![Widget_Size_Colour_Pb](https://user-images.githubusercontent.com/85128895/131468935-7cd3ff26-33bc-4a16-b4a2-9366623012cb.PNG)\r\n\r\n\r\n### Additional context\r\n\r\n*[Anything that should be added to make it easier to address this issue - replace this with your own text]*\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1079", "id": 983094070, "node_id": "MDU6SXNzdWU5ODMwOTQwNzA=", "number": 1079, "title": "v8.12.0 Widget issue with gauges and graphs", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-30T18:48:55Z", "updated_at": "2021-08-30T23:02:21Z", "closed_at": "2021-08-30T23:02:21Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This is a known issue that affects the display of both gauges and graphs, depending how your dashboard is configured. It will be fixed soon. So not submit any new issues related to this and do not upgrade if you need this feature. Also, you can restore a previous version from the Config -> Backup Restore page.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1078", "id": 982953144, "node_id": "MDU6SXNzdWU5ODI5NTMxNDQ=", "number": 1078, "title": "Graph Widget is blank on dashboard in v8.12.0", "user": {"login": "pe2269", "id": 85128895, "node_id": "MDQ6VXNlcjg1MTI4ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/85128895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pe2269", "html_url": "https://github.com/pe2269", "followers_url": "https://api.github.com/users/pe2269/followers", "following_url": "https://api.github.com/users/pe2269/following{/other_user}", "gists_url": "https://api.github.com/users/pe2269/gists{/gist_id}", "starred_url": "https://api.github.com/users/pe2269/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pe2269/subscriptions", "organizations_url": "https://api.github.com/users/pe2269/orgs", "repos_url": "https://api.github.com/users/pe2269/repos", "events_url": "https://api.github.com/users/pe2269/events{/privacy}", "received_events_url": "https://api.github.com/users/pe2269/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-08-30T16:04:33Z", "updated_at": "2021-08-31T08:15:03Z", "closed_at": "2021-08-30T23:02:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "STOP right now, and please first look to see if the issue you're about to submit is already an open or recently closed issue at https://github.com/kizniche/Mycodo/issues\r\n\r\nPlease DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n\r\n - If your issue has been addressed before. If you have any new information that may aid in solving the issue, post it in the issue that already exists.\r\n\r\nIf you are going to post a new issue, next read How to Write a Good Bug Report at https://forum.kylegabriel.com/t/how-to-write-a-good-bug-report/71\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. Replace the text in brackets with your own text describing the issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\nHi Kyle,\r\nI have  problems with the new highcharts widgets from the new version (8.12) of Mycodo.\r\nThe input show good measurements (CPU/GPU temperature), i can displayed it with the measurement widget for example. \r\nBut if i use the highcharts dependancies widget (Gauges and Graph), after the installtion of the Highcharts dependencies the widgets are not dsiplayed (see picture).\r\n\r\nThanks for your advices\r\n\r\nPE\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.12.0\r\n - Raspberry Pi 4 model B version 1.4\r\n-  Python Version: 3.7.3 (default, Jan 22 2021, 20:04:44) [GCC 8.3.0]\r\n - Raspbian OS Version 10 Buster: *[e.g. Buster Lite]*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. add Dashboard widget\r\n2. Gauge (Angular) Highcharts or Gauge Highcharts (Solid) or or Graph (synchronous highstock)\r\n3. Select the input (raspberry CPU/GPU temperature)\r\n4. The widget displayed nothing\r\n\r\n\r\n### Expected behavior\r\n\r\n\r\n### Screenshots\r\n\r\n![Widget_pb](https://user-images.githubusercontent.com/85128895/131368906-a6ae6cfb-28bf-4837-b76f-dd634aa95f83.PNG)\r\n\r\n\r\n### Additional context\r\n\r\n*[Anything that should be added to make it easier to address this issue - replace this with your own text]*\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1072", "id": 974069396, "node_id": "MDU6SXNzdWU5NzQwNjkzOTY=", "number": 1072, "title": "Camera widget cannot get most recent timelapse image if custom path is defined", "user": {"login": "kimbernator", "id": 28678245, "node_id": "MDQ6VXNlcjI4Njc4MjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/28678245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kimbernator", "html_url": "https://github.com/kimbernator", "followers_url": "https://api.github.com/users/kimbernator/followers", "following_url": "https://api.github.com/users/kimbernator/following{/other_user}", "gists_url": "https://api.github.com/users/kimbernator/gists{/gist_id}", "starred_url": "https://api.github.com/users/kimbernator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kimbernator/subscriptions", "organizations_url": "https://api.github.com/users/kimbernator/orgs", "repos_url": "https://api.github.com/users/kimbernator/repos", "events_url": "https://api.github.com/users/kimbernator/events{/privacy}", "received_events_url": "https://api.github.com/users/kimbernator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-18T21:26:29Z", "updated_at": "2021-08-30T02:43:42Z", "closed_at": "2021-08-30T02:43:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nI have a camera defined with a custom timelapse path. When I configure a camera widget on my dashboard and select \"most recent timelapse image\", it will never find a valid one because it doesn't flex on the custom path. \r\n\r\nThe logic in `routes_general.camera_img_latest_timelapse()` is hardcoded to search for the filename successfully found by `utils_general.get_camera_image_info()` within `\"INSTALL_DIRECTORY/cameras/{camera_uid}\"`.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: *8.11.0*\r\n - Raspberry Pi Version: *4*\r\n - Raspbian OS Version: *buster*\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Create camera via More->Camera\r\n2. Set the timelapse path for the camera to any valid path on the system\r\n3. Create a \"Camera\" widget on a dashboard that refers to the new camera\r\n4. For \"Image Display Type\", select \"Display Latest Timestamp Image\"\r\n### Expected behavior\r\n\r\nThe most recent timelapse image would show in the widget\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1067", "id": 964456265, "node_id": "MDU6SXNzdWU5NjQ0NTYyNjU=", "number": 1067, "title": "Error 502: Bad Gateway Error", "user": {"login": "juleszimmermann", "id": 36171452, "node_id": "MDQ6VXNlcjM2MTcxNDUy", "avatar_url": "https://avatars.githubusercontent.com/u/36171452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juleszimmermann", "html_url": "https://github.com/juleszimmermann", "followers_url": "https://api.github.com/users/juleszimmermann/followers", "following_url": "https://api.github.com/users/juleszimmermann/following{/other_user}", "gists_url": "https://api.github.com/users/juleszimmermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/juleszimmermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juleszimmermann/subscriptions", "organizations_url": "https://api.github.com/users/juleszimmermann/orgs", "repos_url": "https://api.github.com/users/juleszimmermann/repos", "events_url": "https://api.github.com/users/juleszimmermann/events{/privacy}", "received_events_url": "https://api.github.com/users/juleszimmermann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-08-09T23:06:22Z", "updated_at": "2021-08-30T02:43:42Z", "closed_at": "2021-08-30T02:43:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Describe the problem/bug\r\n\r\nUnable to have an access to the mycodo frontend. I have already one mycodo system which works perfectly but this new one fail \r\n\r\nVersions:\r\n\r\nMycodo Version: 8.11.0\r\nRaspberry Pi Version: 4B 4gb\r\nRaspbian OS Version: 5.10.17\r\n\r\nReproducibility\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\nInstall Mycodo from scratch with a new SD card on a Raspberry pi 4 with the official software\r\n\r\nScreenshots\r\n\r\n![could not connect to localhost](https://user-images.githubusercontent.com/36171452/128784854-9ccb5c6c-0efe-45e1-b038-0f3565a8bfb2.png)\r\n\r\nAfter typing the command to get logs i'm getting that. I guess the issue come from the unreachable \"localhost\".\r\n\r\npi@raspberrypi:~ $ journalctl -u mycodoflask | tail -n 50\r\n-- Logs begin at Fri 2021-05-07 16:07:11 BST, end at Tue 2021-08-10 00:00:12 BST. --\r\nAug 09 23:46:14 raspberrypi systemd[1]: Started gunicorn daemon for Mycodo flask web user interface.\r\nAug 09 23:46:14 raspberrypi systemd[3125]: mycodoflask.service: Failed to execute command: No such file or directory\r\nAug 09 23:46:14 raspberrypi systemd[3125]: mycodoflask.service: Failed at step EXEC spawning /var/mycodo-root/env/bin/gunicorn: No such file or directory\r\nAug 09 23:46:14 raspberrypi systemd[1]: mycodoflask.service: Main process exited, code=exited, status=203/EXEC\r\nAug 09 23:46:14 raspberrypi systemd[1]: mycodoflask.service: Failed with result 'exit-code'.\r\npi@raspberrypi:~ $\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1065", "id": 958525851, "node_id": "MDU6SXNzdWU5NTg1MjU4NTE=", "number": 1065, "title": "Atlas Scientific EC sensor setup bug", "user": {"login": "treesnsnacks", "id": 88348563, "node_id": "MDQ6VXNlcjg4MzQ4NTYz", "avatar_url": "https://avatars.githubusercontent.com/u/88348563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treesnsnacks", "html_url": "https://github.com/treesnsnacks", "followers_url": "https://api.github.com/users/treesnsnacks/followers", "following_url": "https://api.github.com/users/treesnsnacks/following{/other_user}", "gists_url": "https://api.github.com/users/treesnsnacks/gists{/gist_id}", "starred_url": "https://api.github.com/users/treesnsnacks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treesnsnacks/subscriptions", "organizations_url": "https://api.github.com/users/treesnsnacks/orgs", "repos_url": "https://api.github.com/users/treesnsnacks/repos", "events_url": "https://api.github.com/users/treesnsnacks/events{/privacy}", "received_events_url": "https://api.github.com/users/treesnsnacks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-08-02T21:34:03Z", "updated_at": "2021-08-30T02:43:41Z", "closed_at": "2021-08-30T02:43:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### Describe the problem/bug\r\n\r\nAtlas scientific EC sensor wont report a value on its default settings and doesn't support all the measurements the sensor can report.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.11.0\r\n - Raspberry Pi Version: 4B 4gb\r\n - Raspbian OS Version: 5.10.17\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Connect EC sensor and verified it shows up on i2c device list\r\n2. Attempt to get reading and show no value\r\n\r\n\r\n### Expected behavior\r\n\r\nExpected conductivity, total dissolved solids, salinity, and specific gravity values to be reported as that's what the data sheet online shows the circuit reports. Need to update Atlas Scientific EC input to support multiple values and maybe a note somewhere about the difference in default settings between newer and older board which prevents using older boards with their default settings.\r\n\r\n### Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n### Additional context\r\n\r\nAfter accidently getting it to report on the humidity sensor input that supports multiple values it became clear that the EC input was only expecting one value which was why it wouldn't work. After reading the datasheet more I saw that newer boards only report EC by default until you enable the other values so I disabled the all the values except EC on my board and was able to get it to work under the proper atlas scientific EC input but only showing the EC value.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1058", "id": 947122070, "node_id": "MDU6SXNzdWU5NDcxMjIwNzA=", "number": 1058, "title": "Generic Analog pH/EC Actions broken on AJAX-enabled interface", "user": {"login": "dookaloosy", "id": 10636115, "node_id": "MDQ6VXNlcjEwNjM2MTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10636115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dookaloosy", "html_url": "https://github.com/dookaloosy", "followers_url": "https://api.github.com/users/dookaloosy/followers", "following_url": "https://api.github.com/users/dookaloosy/following{/other_user}", "gists_url": "https://api.github.com/users/dookaloosy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dookaloosy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dookaloosy/subscriptions", "organizations_url": "https://api.github.com/users/dookaloosy/orgs", "repos_url": "https://api.github.com/users/dookaloosy/repos", "events_url": "https://api.github.com/users/dookaloosy/events{/privacy}", "received_events_url": "https://api.github.com/users/dookaloosy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-18T21:36:01Z", "updated_at": "2021-08-30T02:43:41Z", "closed_at": "2021-08-30T02:43:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nAJAX-enabled interface doesn't allow Actions to be executed. Clicking on the \"Calibrate Slot\" buttons don't appear to do anything.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.11.0 + master branch commit [8d46745](https://github.com/kizniche/Mycodo/commit/8d46745b8439abad903f49eb9da0e27756e8fdca)\r\n - Raspberry Pi Version: 3B\r\n - Raspbian OS Version: Linux raspberrypi 5.10.17-v7+ #1403 SMP Mon Feb 22 11:29:51 GMT 2021 armv7l GNU/Linux\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Upgrade to master branch commit [8d46745](https://github.com/kizniche/Mycodo/commit/8d46745b8439abad903f49eb9da0e27756e8fdca)\r\n2. Browse to Generic Analog pH/EC input.\r\n3. Insert pH or EC probe in calibration solution and click on Calibrate Slot. An incomplete message pops up on the right:\r\n`Success: Custom Button: Traceback (most recent call last): File \"/home/pi/Mycodo/mycodo/mycodo_client.py\", line 291, in custom_button controller_type, unique_id, button_id, args_dict, thread) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/Pyro5/client.py\", line 476, in call return self.send(self.name, args, kwargs) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/Pyro5/client.py\", line 211, in _pyroInvoke data = serializer.dumpsCall(objectId, methodname, vargs, kwargs) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/Pyro5/serializers.py\", line 276, in dumpsCall return serpent.dumps((obj, method, vargs, kwargs), module_in_classname=True) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/serpent.py\", line 69, in dumps return Serializer(indent, module_in_classname, bytes_repr).serialize(obj) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/serpent.py\", line 229, in serialize self._serialize(obj, out, 0) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/serpent.py\", line 255, in _serialize return self.dispatch[t](self, obj, out, level) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/serpent.py\", line 319, in ser_builtins_tuple serialize(elt, out, level + 1) File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/serpent.py\", line 255, in _serialize return self.dispatch[t](self`\r\n4. Notice that the setting doesn't \"take\" in the targeted calibration slot, as the previous calibration setting still remains even after a browser refresh.\r\n\r\n### Expected behavior\r\n\r\nThe Calibrate Slot button should work as on non-AJAX interface.\r\n\r\n### Screenshots\r\n\r\nN/A\r\n\r\n### Additional context\r\n\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1058/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1054", "id": 946932329, "node_id": "MDU6SXNzdWU5NDY5MzIzMjk=", "number": 1054, "title": "AJAX forms don't work on mobile Safari browser", "user": {"login": "dookaloosy", "id": 10636115, "node_id": "MDQ6VXNlcjEwNjM2MTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10636115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dookaloosy", "html_url": "https://github.com/dookaloosy", "followers_url": "https://api.github.com/users/dookaloosy/followers", "following_url": "https://api.github.com/users/dookaloosy/following{/other_user}", "gists_url": "https://api.github.com/users/dookaloosy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dookaloosy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dookaloosy/subscriptions", "organizations_url": "https://api.github.com/users/dookaloosy/orgs", "repos_url": "https://api.github.com/users/dookaloosy/repos", "events_url": "https://api.github.com/users/dookaloosy/events{/privacy}", "received_events_url": "https://api.github.com/users/dookaloosy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-18T01:43:41Z", "updated_at": "2021-07-23T23:52:35Z", "closed_at": "2021-07-23T23:52:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nAJAX-enabled interface doesn't work on mobile Safari browser (iOS 12.1.4). Inputs cannot be activated or deactivated from the browser.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.11.0 + master branch commit [8d46745](https://github.com/kizniche/Mycodo/commit/8d46745b8439abad903f49eb9da0e27756e8fdca)\r\n - Raspberry Pi Version: 3B\r\n - Raspbian OS Version: Linux raspberrypi 5.10.17-v7+ #1403 SMP Mon Feb 22 11:29:51 GMT 2021 armv7l GNU/Linux\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Upgrade to master branch commit [8d46745](https://github.com/kizniche/Mycodo/commit/8d46745b8439abad903f49eb9da0e27756e8fdca)\r\n2. Browse to Inputs page on mobile Safari browser (iOS 12.1.4)\r\n3. Click on Activate or Deactivate.\r\n4. Notice that the activation status of the Input does not change.\r\n\r\n### Expected behavior\r\n\r\nActivate and Deactivate should work as on non-AJAX interface.\r\n\r\n### Screenshots\r\n\r\nN/A\r\n\r\n### Additional context\r\n\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1047", "id": 936408105, "node_id": "MDU6SXNzdWU5MzY0MDgxMDU=", "number": 1047, "title": "Something terminates my mycodo daemon", "user": {"login": "maecki-maecki", "id": 20301706, "node_id": "MDQ6VXNlcjIwMzAxNzA2", "avatar_url": "https://avatars.githubusercontent.com/u/20301706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maecki-maecki", "html_url": "https://github.com/maecki-maecki", "followers_url": "https://api.github.com/users/maecki-maecki/followers", "following_url": "https://api.github.com/users/maecki-maecki/following{/other_user}", "gists_url": "https://api.github.com/users/maecki-maecki/gists{/gist_id}", "starred_url": "https://api.github.com/users/maecki-maecki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maecki-maecki/subscriptions", "organizations_url": "https://api.github.com/users/maecki-maecki/orgs", "repos_url": "https://api.github.com/users/maecki-maecki/repos", "events_url": "https://api.github.com/users/maecki-maecki/events{/privacy}", "received_events_url": "https://api.github.com/users/maecki-maecki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2021-07-04T08:38:12Z", "updated_at": "2021-08-30T02:43:40Z", "closed_at": "2021-08-30T02:43:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am running on current Master version and had two crashes in the last days that seem like the Pyro endpoint not listening anymore \u2026\r\n\r\n```pi@raspberrypi:/var/log/mycodo $ journalctl -u mycodo\r\n-- Logs begin at Sat 2021-07-03 01:23:42 CEST, end at Sun 2021-07-04 10:30:34 CEST. --\r\nJul 03 08:57:01 raspberrypi mycodo_daemon[23832]: Caught signal 15. Stopping daemon.\r\nJul 03 08:57:01 raspberrypi mycodo_daemon[23832]: Stopping daemon.\r\nJul 03 08:57:05 raspberrypi python[21834]: 2021-07-03 08:57:05,529 [Remote command] Terminate daemon...\r\nJul 03 08:57:05 raspberrypi python[21834]: Traceback (most recent call last):\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/client.py\", line 282, in connect_and_handshake\r\nJul 03 08:57:05 raspberrypi python[21834]:     sslContext=sslContext)\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/socketutil.py\", line 283, in create_socket\r\nJul 03 08:57:05 raspberrypi python[21834]:     sock.connect(connect)\r\nJul 03 08:57:05 raspberrypi python[21834]: ConnectionRefusedError: [Errno 111] Connection refused\r\nJul 03 08:57:05 raspberrypi python[21834]: The above exception was the direct cause of the following exception:\r\nJul 03 08:57:05 raspberrypi python[21834]: Traceback (most recent call last):\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/mycodo/mycodo_client.py\", line 630, in <module>\r\nJul 03 08:57:05 raspberrypi python[21834]:     if daemon.terminate_daemon():\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/mycodo/mycodo_client.py\", line 153, in terminate_daemon\r\nJul 03 08:57:05 raspberrypi python[21834]:     return self.proxy().terminate_daemon()\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/client.py\", line 92, in __getattr__\r\nJul 03 08:57:05 raspberrypi python[21834]:     self._pyroGetMetadata()\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/client.py\", line 358, in _pyroGetMetadata\r\nJul 03 08:57:05 raspberrypi python[21834]:     self.__pyroCreateConnection()\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/client.py\", line 342, in __pyroCreateConnection\r\nJul 03 08:57:05 raspberrypi python[21834]:     connect_and_handshake(conn)\r\nJul 03 08:57:05 raspberrypi python[21834]:   File \"/var/mycodo-root/env/lib/python3.7/site-packages/Pyro5/client.py\", line 304, in connect_and_handshake\r\nJul 03 08:57:05 raspberrypi python[21834]:     raise errors.CommunicationError(err) from x\r\nJul 03 08:57:05 raspberrypi python[21834]: Pyro5.errors.CommunicationError: cannot connect to ('127.0.0.1', 9090): [Errno 111] Connection refused\r\nJul 03 08:57:06 raspberrypi systemd[1]: mycodo.service: Control process exited, code=exited, status=1/FAILURE\r\nJul 03 08:57:06 raspberrypi systemd[1]: mycodo.service: Failed with result 'exit-code'.\r\npi@raspberrypi:/var/log/mycodo $ \r\n```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1047/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1046", "id": 935820740, "node_id": "MDU6SXNzdWU5MzU4MjA3NDA=", "number": 1046, "title": "OLED display doesn\u2018t show measurements", "user": {"login": "maecki-maecki", "id": 20301706, "node_id": "MDQ6VXNlcjIwMzAxNzA2", "avatar_url": "https://avatars.githubusercontent.com/u/20301706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maecki-maecki", "html_url": "https://github.com/maecki-maecki", "followers_url": "https://api.github.com/users/maecki-maecki/followers", "following_url": "https://api.github.com/users/maecki-maecki/following{/other_user}", "gists_url": "https://api.github.com/users/maecki-maecki/gists{/gist_id}", "starred_url": "https://api.github.com/users/maecki-maecki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maecki-maecki/subscriptions", "organizations_url": "https://api.github.com/users/maecki-maecki/orgs", "repos_url": "https://api.github.com/users/maecki-maecki/repos", "events_url": "https://api.github.com/users/maecki-maecki/events{/privacy}", "received_events_url": "https://api.github.com/users/maecki-maecki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-02T14:26:25Z", "updated_at": "2021-08-30T02:43:40Z", "closed_at": "2021-08-30T02:43:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am on today\u2018s  master version since I want to use SSD3306 displays (128x64, i2c, 4 lines)\r\n\r\nText, date, ip-address work but \u201alast measurement\u2018 does not but says \u201aERROR\u2018 instead.\r\nLogfile:\r\n\r\n`\r\n2021-07-02 16:19:24,509 - ERROR - mycodo.function.display_ssd1306_oled_128x64_i2c_4lines_592f1c2a - Error generating channel 0 line: 'display_unit'\r\n`\r\n\r\nSeems \u201adisplay_unit\u2018 has not been stored in channel  config or is not retrievable (if I replace line 466 in the function\u2019s python code with a \u201aTrue\u2018, then it works)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1032", "id": 925792991, "node_id": "MDU6SXNzdWU5MjU3OTI5OTE=", "number": 1032, "title": "Anyleaf ORP failure to read", "user": {"login": "meehanchr", "id": 86215230, "node_id": "MDQ6VXNlcjg2MjE1MjMw", "avatar_url": "https://avatars.githubusercontent.com/u/86215230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meehanchr", "html_url": "https://github.com/meehanchr", "followers_url": "https://api.github.com/users/meehanchr/followers", "following_url": "https://api.github.com/users/meehanchr/following{/other_user}", "gists_url": "https://api.github.com/users/meehanchr/gists{/gist_id}", "starred_url": "https://api.github.com/users/meehanchr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meehanchr/subscriptions", "organizations_url": "https://api.github.com/users/meehanchr/orgs", "repos_url": "https://api.github.com/users/meehanchr/repos", "events_url": "https://api.github.com/users/meehanchr/events{/privacy}", "received_events_url": "https://api.github.com/users/meehanchr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-06-21T03:48:14Z", "updated_at": "2021-08-30T02:43:40Z", "closed_at": "2021-08-30T02:43:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please first read: How to write a good bug report at https://forum.kylegabriel.com/t/how-to-write-a-good-bug-report/71\r\n\r\nPlease DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n\r\n - If your issue has been addressed before (i.e., duplicated issue), please ask in the original issue.\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\nA clear and concise description of what you were trying to do and what the problem/bug is.\r\n\r\nThe bug has to do with an error reported for the anyleaf ORP sensor. \r\nThe following error report occurs when reading from the sensor.  The code looks to be trying to run a division operand with failed values.\r\nError log  is as follows\r\n\r\n2021-06-20 21:28:46,237 - ERROR - mycodo.inputs.anyleaf_orp_d9a854d2 - InputModule raised an exception when taking a reading: unsupported operand type(s) for /: 'NoneType' and 'NoneType'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/inputs/base_input.py\", line 116, in read\r\n    self._measurements = self.get_measurement()\r\n  File \"/home/pi/Mycodo/mycodo/inputs/anyleaf_orp.py\", line 147, in get_measurement\r\n    self.value_set(0, self.sensor.read())\r\n  File \"/var/mycodo-root/env/lib/python3.7/site-packages/anyleaf/__init__.py\", line 261, in read\r\n    self.update()\r\n  File \"/var/mycodo-root/env/lib/python3.7/site-packages/anyleaf/__init__.py\", line 250, in update\r\n    ORP = self.read_raw()\r\n  File \"/var/mycodo-root/env/lib/python3.7/site-packages/anyleaf/__init__.py\", line 268, in read_raw\r\n    ORP = orp_from_voltage(chan_orp.voltage, self.cal)\r\n  File \"/var/mycodo-root/env/lib/python3.7/site-packages/anyleaf/__init__.py\", line 603, in orp_from_voltage\r\n    a = cal.ORP / cal.V\r\nTypeError: unsupported operand type(s) for /: 'NoneType' and 'NoneType'\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [8.11.0]\r\n - Raspberry Pi Version: [4B]\r\n - Raspbian OS Version: [Raspbian 10 Buster]\r\n\r\n### Reproducibility\r\n\r\nSimply activate the anyleaf orp input with the hardware connected properly.\r\n\r\n### Expected behavior\r\nSimply returning measurements\r\n\r\n### Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n### Additional context\r\nif i disable the anyleaf orp and active the anyleaf pH i do not get any errors and i do get readings back. If I then disable the pH and active the ORP input then the errors return.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1032/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1030", "id": 925454702, "node_id": "MDU6SXNzdWU5MjU0NTQ3MDI=", "number": 1030, "title": "SSD1306 128x64 I2C not working", "user": {"login": "jcastro", "id": 190036, "node_id": "MDQ6VXNlcjE5MDAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/190036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcastro", "html_url": "https://github.com/jcastro", "followers_url": "https://api.github.com/users/jcastro/followers", "following_url": "https://api.github.com/users/jcastro/following{/other_user}", "gists_url": "https://api.github.com/users/jcastro/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcastro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcastro/subscriptions", "organizations_url": "https://api.github.com/users/jcastro/orgs", "repos_url": "https://api.github.com/users/jcastro/repos", "events_url": "https://api.github.com/users/jcastro/events{/privacy}", "received_events_url": "https://api.github.com/users/jcastro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 42, "created_at": "2021-06-19T19:35:59Z", "updated_at": "2021-08-30T02:47:46Z", "closed_at": "2021-08-30T02:47:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nThe screen is not showing anything. I know this screen is working as It was working with an ESP32 a few minutes ago. It's being correctly detected through i2cdetect command as well.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.11.0\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: Raspbian Buster lite\r\n\r\n### Reproducibility\r\n\r\n1. Setup a Method > SSD1306 128x64\r\n2. Add some text to each line to make sure that it should show something\r\n3. Activate the device\r\n\r\n### Expected behavior\r\n\r\nScreen should show the lines\r\n\r\n### Screenshots\r\n![Screenshot 2021-06-19 at 21 29 34](https://user-images.githubusercontent.com/190036/122653647-432ef980-d146-11eb-9a32-842c7a04c7c2.png)\r\n![Screenshot 2021-06-19 at 21 31 39](https://user-images.githubusercontent.com/190036/122653650-475b1700-d146-11eb-8d44-727940bb15cc.png)\r\n![Screenshot 2021-06-19 at 21 33 41](https://user-images.githubusercontent.com/190036/122653651-4924da80-d146-11eb-9b07-a1e5f8aefaa3.png)\r\n\r\nAfter enabling the device the log goes crazy showing this\r\n![Screenshot 2021-06-19 at 21 34 23](https://user-images.githubusercontent.com/190036/122653661-53df6f80-d146-11eb-8b31-cd51d97ef868.png)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1029", "id": 925403201, "node_id": "MDU6SXNzdWU5MjU0MDMyMDE=", "number": 1029, "title": "Disable option for \"Enable Pin optional\" (L298N Output) not working", "user": {"login": "jcastro", "id": 190036, "node_id": "MDQ6VXNlcjE5MDAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/190036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcastro", "html_url": "https://github.com/jcastro", "followers_url": "https://api.github.com/users/jcastro/followers", "following_url": "https://api.github.com/users/jcastro/following{/other_user}", "gists_url": "https://api.github.com/users/jcastro/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcastro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcastro/subscriptions", "organizations_url": "https://api.github.com/users/jcastro/orgs", "repos_url": "https://api.github.com/users/jcastro/repos", "events_url": "https://api.github.com/users/jcastro/events{/privacy}", "received_events_url": "https://api.github.com/users/jcastro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-06-19T14:16:48Z", "updated_at": "2021-08-30T02:47:46Z", "closed_at": "2021-08-30T02:47:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\"Use Enable Pin\" is not possible to disable it\r\n\r\n### Versions:\r\n - Mycodo Version: 8.11.0\r\n - Raspberry Pi Version: 4 B 4GB\r\n - Raspbian OS Version: Raspbian\r\n\r\n### Reproducibility\r\n1. Edit output\r\n2. Click on \"Use Enable Pin\" to disable it\r\n3. This should keep it disabled but once you refresh the page it's still enabled\r\n\r\n### Expected behavior\r\n\r\nShould keep disabled\r\n\r\n### Screenshots\r\n\r\n<img width=\"937\" alt=\"Screenshot 2021-06-19 at 16 20 55\" src=\"https://user-images.githubusercontent.com/190036/122645333-62b02d00-d11a-11eb-80f6-a4d31ce415e9.png\">", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1023", "id": 918091129, "node_id": "MDU6SXNzdWU5MTgwOTExMjk=", "number": 1023, "title": "Unable to add CCS881 CO2 w/o temp sensor", "user": {"login": "scottlowry", "id": 28879465, "node_id": "MDQ6VXNlcjI4ODc5NDY1", "avatar_url": "https://avatars.githubusercontent.com/u/28879465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottlowry", "html_url": "https://github.com/scottlowry", "followers_url": "https://api.github.com/users/scottlowry/followers", "following_url": "https://api.github.com/users/scottlowry/following{/other_user}", "gists_url": "https://api.github.com/users/scottlowry/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottlowry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottlowry/subscriptions", "organizations_url": "https://api.github.com/users/scottlowry/orgs", "repos_url": "https://api.github.com/users/scottlowry/repos", "events_url": "https://api.github.com/users/scottlowry/events{/privacy}", "received_events_url": "https://api.github.com/users/scottlowry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-11T00:50:12Z", "updated_at": "2021-08-30T02:47:45Z", "closed_at": "2021-08-30T02:47:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWhen trying to add a CCS881 CO2 w/o temperature sensor I get stuck in a dependency requirement loop saying adafruit_bme280 is needed even though it's been installed repeatedly.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.11.0\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Buster Lite\r\n\r\n### Reproducibility\r\n\r\n1. Setup > Input\r\n2. Select \"AMS: CCS811 (without Temperature): CO2/VOC (Adafruit_CirctuitPython_CCS881) [I2C]\" and click Add\r\n3. Get message about needing dependencies so I install them.\r\n4. I repeat steps 1 and 2 but receive message saying adafruit_bme280 is still needed over and over despite repeated successful installs. \r\n\r\n### Expected behavior\r\n\r\nRequired dependencies get installed so the sensor can be used for CO2 measurement. \r\n\r\n### Screenshots\r\n\r\n![Screen Shot 2021-06-10 at 5 28 04 PM](https://user-images.githubusercontent.com/28879465/121613452-5ab50680-ca11-11eb-8b66-d7084d9ba67d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1019", "id": 913718689, "node_id": "MDU6SXNzdWU5MTM3MTg2ODk=", "number": 1019, "title": "pH live graph not displayed", "user": {"login": "pe2269", "id": 85128895, "node_id": "MDQ6VXNlcjg1MTI4ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/85128895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pe2269", "html_url": "https://github.com/pe2269", "followers_url": "https://api.github.com/users/pe2269/followers", "following_url": "https://api.github.com/users/pe2269/following{/other_user}", "gists_url": "https://api.github.com/users/pe2269/gists{/gist_id}", "starred_url": "https://api.github.com/users/pe2269/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pe2269/subscriptions", "organizations_url": "https://api.github.com/users/pe2269/orgs", "repos_url": "https://api.github.com/users/pe2269/repos", "events_url": "https://api.github.com/users/pe2269/events{/privacy}", "received_events_url": "https://api.github.com/users/pe2269/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-06-07T16:14:12Z", "updated_at": "2022-12-02T14:17:07Z", "closed_at": "2021-08-01T08:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nFirstly i would like to thank you for all your great job on this software, it's very impressive !!\r\n\r\nI have a raspberry pi 4 with the Tentacle T3 from Atlas Scientific and 4 ezo devices in I2C mode :\r\na RTD sensor (PT1000)  I2C adress 102\r\na Dissolved oxygen probe I2C adress 97\r\na pH probe I2C adress 99\r\na peristaltic pump I2C adress 103\r\n\r\nI have no problem to read all devices data and to show widgets (cf capture) but when i want specifically added the  synchronous graph widget for the pH, nothing happen.  I have the  success message \"Graph (Synchronous) with ID 23 sucessfully added) but nothing appears (cf capture).\r\nI have no problem with the others parameters...\r\n\r\nThe daemon log show nothing special (cf capture)\r\n\r\nI precise that i have not calibrate the pH probe yet  ...\r\n\r\nI am totally new in Mycodo and Raspberry so i am not very certain of what i am doing .\r\n\r\nThank you \r\n\r\n### Versions:\r\nVersion Mycodo: 8.11.0\r\nVersion Python: 3.7.3 (default, Jan 22 2021, 20:04:44) [GCC 8.3.0]\r\nLinux raspberrypi 5.10.17-v7l+ #1421 SMP Thu May 27 14:00:13 BST 2021 armv7l GNU/Linux\r\nRaspbian GNU/Linux 10 (buster)\r\n \r\n\r\n### Screenshots\r\n![add_pH_graph_widget](https://user-images.githubusercontent.com/85128895/121053290-7de67880-c7bb-11eb-8899-6e2554baf2ee.PNG)\r\n\r\n![Daemon_log](https://user-images.githubusercontent.com/85128895/121053998-37454e00-c7bc-11eb-8891-c9c330f02ee2.PNG)\r\n![Data_Values_Widgets_Ok](https://user-images.githubusercontent.com/85128895/121054002-38767b00-c7bc-11eb-9825-8f880d3026d9.PNG)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1019/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1011", "id": 900751524, "node_id": "MDU6SXNzdWU5MDA3NTE1MjQ=", "number": 1011, "title": "API not capturing conversion_id property update", "user": {"login": "tilersmyth", "id": 8736328, "node_id": "MDQ6VXNlcjg3MzYzMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/8736328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tilersmyth", "html_url": "https://github.com/tilersmyth", "followers_url": "https://api.github.com/users/tilersmyth/followers", "following_url": "https://api.github.com/users/tilersmyth/following{/other_user}", "gists_url": "https://api.github.com/users/tilersmyth/gists{/gist_id}", "starred_url": "https://api.github.com/users/tilersmyth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tilersmyth/subscriptions", "organizations_url": "https://api.github.com/users/tilersmyth/orgs", "repos_url": "https://api.github.com/users/tilersmyth/repos", "events_url": "https://api.github.com/users/tilersmyth/events{/privacy}", "received_events_url": "https://api.github.com/users/tilersmyth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-05-25T12:37:08Z", "updated_at": "2021-11-01T01:25:01Z", "closed_at": "2021-10-31T18:26:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWhen converting an input measurement the 'conversion_id' prop of \"device measurement settings\" in the API stays null while the db reflects the update\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.10.1\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Raspberry Pi OS Lite\r\n\r\n### Reproducibility\r\n\r\nConvert an input measurement via UI\r\nGET api/settings/device_measurements/by_device_id/[unique_id]\r\nBug: DB has conversion_id ref but API does not\r\n\r\nthank you \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1011/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1007", "id": 894342169, "node_id": "MDU6SXNzdWU4OTQzNDIxNjk=", "number": 1007, "title": "SSD1306 OLED will not work", "user": {"login": "dexilimes", "id": 72340113, "node_id": "MDQ6VXNlcjcyMzQwMTEz", "avatar_url": "https://avatars.githubusercontent.com/u/72340113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dexilimes", "html_url": "https://github.com/dexilimes", "followers_url": "https://api.github.com/users/dexilimes/followers", "following_url": "https://api.github.com/users/dexilimes/following{/other_user}", "gists_url": "https://api.github.com/users/dexilimes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dexilimes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dexilimes/subscriptions", "organizations_url": "https://api.github.com/users/dexilimes/orgs", "repos_url": "https://api.github.com/users/dexilimes/repos", "events_url": "https://api.github.com/users/dexilimes/events{/privacy}", "received_events_url": "https://api.github.com/users/dexilimes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-18T12:47:20Z", "updated_at": "2021-06-05T16:32:41Z", "closed_at": "2021-06-05T16:32:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\nAfter I recently upgraded to 8.10.1 my OLED screen has stopped working. \r\n\r\nI added the LCD in the new section in the functions menu, but when I activate the LCD it comes up with the following error:\r\n\r\n\r\n2021-05-18 22:48:27,710 - DEBUG - mycodo.function.display_ssd1306_oled_128x64_i2c_68f19684 - Line sets: [[0, 1, 2, 3, 4, 5, 6, 7]]\r\n2021-05-18 22:48:27,710 - ERROR - mycodo.function.display_ssd1306_oled_128x64_i2c_68f19684 - Starting LCD Function\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/functions/display_ssd1306_oled_128x64_i2c.py\", line 358, in initialize_variables\r\n    self.device = LCD_Pioled_Circuitpython(lcd_settings_dict=lcd_settings_dict)\r\n  File \"/var/mycodo-root/mycodo/devices/lcd_pioled_circuitpython.py\", line 42, in __init__\r\n    self.spi_bus = lcd_settings_dict[\"spi_bus\"]\r\nKeyError: 'spi_bus'\r\n2021-05-18 22:48:27,711 - INFO - mycodo.controllers.controller_function_68f19684 - Activated in 111.0 ms\r\n2021-05-18 22:48:27,711 - ERROR - mycodo.function.display_ssd1306_oled_128x64_i2c_68f19684 - LCD not set up\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1004", "id": 892558874, "node_id": "MDU6SXNzdWU4OTI1NTg4NzQ=", "number": 1004, "title": "Activating ADS1115: Analog pH/EC causes Error 500", "user": {"login": "dookaloosy", "id": 10636115, "node_id": "MDQ6VXNlcjEwNjM2MTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10636115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dookaloosy", "html_url": "https://github.com/dookaloosy", "followers_url": "https://api.github.com/users/dookaloosy/followers", "following_url": "https://api.github.com/users/dookaloosy/following{/other_user}", "gists_url": "https://api.github.com/users/dookaloosy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dookaloosy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dookaloosy/subscriptions", "organizations_url": "https://api.github.com/users/dookaloosy/orgs", "repos_url": "https://api.github.com/users/dookaloosy/repos", "events_url": "https://api.github.com/users/dookaloosy/events{/privacy}", "received_events_url": "https://api.github.com/users/dookaloosy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-15T23:31:04Z", "updated_at": "2021-06-05T16:32:41Z", "closed_at": "2021-06-05T16:32:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nActivating ADS1115: Analog pH/EC causes Error 500, on a fresh install of Mycodo 8.10.1 that has been upgraded to master as of 5/15/2021 4pm PT (it should have incorporated commit #ef88fd9).\r\n\r\n```\r\nError 500: Internal Server Error\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following diagnostic information and error traceback (copy the entire traceback):\r\n\r\nMycodo: 8.10.1\r\n\r\nAlembic: d46e17d65f48\r\n\r\nModel: Raspberry Pi 3 Model B Rev 1.2\r\n\r\nRelease:\r\nDistributor ID: Raspbian\r\nDescription: Raspbian GNU/Linux 10 (buster)\r\nRelease: 10\r\nCodename: buster\r\n\r\nFirmware:\r\nFeb 25 2021 12:12:09\r\nCopyright (c) 2012 Broadcom\r\nversion 564e5f9b852b23a330b1764bcf0b2d022a20afd0 (clean) (release) (start)\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 652, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 1951, in page_input\r\n    utils_input.input_activate(form_mod_input)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/utils/utils_input.py\", line 666, in input_activate\r\n    if each_option['id'] not in custom_options_values_inputs[input_dev.unique_id]:\r\nKeyError: 'id'\r\n```\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.10.1+\r\n - Raspberry Pi Version: 3B\r\n - Raspbian OS Version: Linux raspberrypi 5.10.17-v7+ #1403 SMP Mon Feb 22 11:29:51 GMT 2021 armv7l GNU/Linux\r\n\r\n### Reproducibility\r\n\r\n1. Fresh install of Mycodo 8.10.1\r\n2. Upgrade to master\r\n3. Add ADS1115: Analog pH/EC\r\n4. Activate and run into error\r\n\r\n### Expected behavior\r\n\r\nActivation should have no errors.\r\n\r\n### Screenshots\r\n\r\nN/A\r\n\r\n### Additional context\r\n\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1003", "id": 892469787, "node_id": "MDU6SXNzdWU4OTI0Njk3ODc=", "number": 1003, "title": "HC-SR04 Not being Read", "user": {"login": "fivbag", "id": 71596142, "node_id": "MDQ6VXNlcjcxNTk2MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/71596142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fivbag", "html_url": "https://github.com/fivbag", "followers_url": "https://api.github.com/users/fivbag/followers", "following_url": "https://api.github.com/users/fivbag/following{/other_user}", "gists_url": "https://api.github.com/users/fivbag/gists{/gist_id}", "starred_url": "https://api.github.com/users/fivbag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fivbag/subscriptions", "organizations_url": "https://api.github.com/users/fivbag/orgs", "repos_url": "https://api.github.com/users/fivbag/repos", "events_url": "https://api.github.com/users/fivbag/events{/privacy}", "received_events_url": "https://api.github.com/users/fivbag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-05-15T15:02:05Z", "updated_at": "2021-06-05T16:32:40Z", "closed_at": "2021-06-05T16:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nMycodo Version: 8.10.1\r\nPython Version: 3.7.3 (default, Jan 22 2021, 20:04:44) [GCC 8.3.0]\r\nDatabase Version: 4fedeb57e75b\r\nDaemon Status: Running\r\nDaemon Process ID: 792\r\nDaemon RAM Usage: 50.732 MB\r\nDaemon Virtualenv: Yes\r\nFrontend Process ID: 502\r\nFrontend RAM Usage: 63.652 MB\r\nFrontend Virtualenv: Yes\r\nuptime\r\n\r\n 10:58:27 up 2 min,  2 users,  load average: 0.66, 0.65, 0.27\r\n\r\nKernel Information: uname -a\r\n\r\nLinux raspberrypi 5.10.17-v7l+ #1403 SMP Mon Feb 22 11:33:35 GMT 2021 armv7l GNU/Linux\r\n\r\n\r\nSo I am not familiar with programming, although for this (my) project I have started learning python. And I am also not familiar with electronics. However my issue;\r\n\r\nI have a HC- SR04 connected on a bread Board. I have used code online to test if the device works ( I can confirm getting readings/distances)\r\n\r\nI have added the device in MYCODO, but I get no readings.\r\n\r\nSide Note I previously added Two (2) temperature sensors, and both of those work as we speak.  ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001/events", "html_url": "https://github.com/kizniche/Mycodo/issues/1001", "id": 890305456, "node_id": "MDU6SXNzdWU4OTAzMDU0NTY=", "number": 1001, "title": "Error 500 trying a DHT11 sensor", "user": {"login": "JJare", "id": 59212699, "node_id": "MDQ6VXNlcjU5MjEyNjk5", "avatar_url": "https://avatars.githubusercontent.com/u/59212699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JJare", "html_url": "https://github.com/JJare", "followers_url": "https://api.github.com/users/JJare/followers", "following_url": "https://api.github.com/users/JJare/following{/other_user}", "gists_url": "https://api.github.com/users/JJare/gists{/gist_id}", "starred_url": "https://api.github.com/users/JJare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JJare/subscriptions", "organizations_url": "https://api.github.com/users/JJare/orgs", "repos_url": "https://api.github.com/users/JJare/repos", "events_url": "https://api.github.com/users/JJare/events{/privacy}", "received_events_url": "https://api.github.com/users/JJare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-12T17:09:12Z", "updated_at": "2021-06-05T16:32:40Z", "closed_at": "2021-06-05T16:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got this internal server error when I try to add an DHT11 sensor, after installing required gpio dependencies:\r\n\r\nError 500 - Error Interno del Servidor\r\n\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following error traceback (copy the entire traceback):\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 652, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 2166, in page_input\r\n    devices_1wire_w1thermsensor=devices_1wire_w1thermsensor)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 140, in render_template\r\n    ctx.app,\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 120, in _render\r\n    rv = template.render(context)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1289, in render\r\n    self.environment.handle_exception()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 924, in handle_exception\r\n    raise rewrite_traceback_stack(source=source)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 3, in top-level template code\r\n    {% set help_page = [\"https://kizniche.github.io/Mycodo/Inputs/\", dict_translation['input']['title']] %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 375, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 35, in block 'body'\r\n    {% include 'pages/data_options/input.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/data_options/input.html\", line 202, in top-level template code\r\n    {% include 'pages/form_options/GPIO.html' %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/form_options/GPIO.html\", line 8, in top-level template code\r\n    {%- if 'period' in dict_options['gpio_location'] -%}\r\njinja2.exceptions.UndefinedError: 'dict object' has no attribute 'gpio_location'\r\n\r\n\r\nCan somebody help me?\r\n\r\nThx", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/998", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/998/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/998/events", "html_url": "https://github.com/kizniche/Mycodo/issues/998", "id": 884165062, "node_id": "MDU6SXNzdWU4ODQxNjUwNjI=", "number": 998, "title": "PID Max Volume option not being respected", "user": {"login": "Mark0Mi", "id": 68497208, "node_id": "MDQ6VXNlcjY4NDk3MjA4", "avatar_url": "https://avatars.githubusercontent.com/u/68497208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark0Mi", "html_url": "https://github.com/Mark0Mi", "followers_url": "https://api.github.com/users/Mark0Mi/followers", "following_url": "https://api.github.com/users/Mark0Mi/following{/other_user}", "gists_url": "https://api.github.com/users/Mark0Mi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark0Mi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark0Mi/subscriptions", "organizations_url": "https://api.github.com/users/Mark0Mi/orgs", "repos_url": "https://api.github.com/users/Mark0Mi/repos", "events_url": "https://api.github.com/users/Mark0Mi/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark0Mi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-05-10T12:55:22Z", "updated_at": "2021-06-05T16:32:40Z", "closed_at": "2021-06-05T16:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "PID safety values\r\nHi Kyle not sure what I'm doing wrong here \r\n I read through the document and I think I did it correctly but there is something I miss: \r\nI created a new PID controller\r\nIt measures mV between 300-800 the setpoint is 700 (+/- 50) \r\nI left Kp Gain at 1 just to get starting (finetuning in the end) \r\nbut I limited the output to Max On Amount (raise) on 10 - which seems to be ignored. \r\nas soon as I switched it on (after 300 seconds [period / start offset]) it did the calculation \r\ncurrent value was 300 mV\r\nnew value 700 ->thus  error is 400 and pumped 400 ml in. (ignoring the max on amount of 10) \r\ncan you explain this to me please? why was the max value ignored? \r\nmy expectations would be that is stops after 10ml (as the maximum defined value) and adds another 10 in the next period. \r\n![image](https://user-images.githubusercontent.com/68497208/117661352-89d02200-b19e-11eb-9071-178f1267132a.png)\r\n\r\none question (not to mix with the problem above) the autotune PID controller supports only raise - there is no lower option - is this by design? \r\n\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [e.g. 8.10.1]\r\n - Raspberry Pi Version: [e.g. 4]\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/994", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/994/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/994/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/994/events", "html_url": "https://github.com/kizniche/Mycodo/issues/994", "id": 877901945, "node_id": "MDU6SXNzdWU4Nzc5MDE5NDU=", "number": 994, "title": "Hall Flow Meter input throws error when \"Clear Total Volume\" button is clicked", "user": {"login": "dookaloosy", "id": 10636115, "node_id": "MDQ6VXNlcjEwNjM2MTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10636115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dookaloosy", "html_url": "https://github.com/dookaloosy", "followers_url": "https://api.github.com/users/dookaloosy/followers", "following_url": "https://api.github.com/users/dookaloosy/following{/other_user}", "gists_url": "https://api.github.com/users/dookaloosy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dookaloosy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dookaloosy/subscriptions", "organizations_url": "https://api.github.com/users/dookaloosy/orgs", "repos_url": "https://api.github.com/users/dookaloosy/repos", "events_url": "https://api.github.com/users/dookaloosy/events{/privacy}", "received_events_url": "https://api.github.com/users/dookaloosy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-06T19:16:09Z", "updated_at": "2021-06-05T16:32:40Z", "closed_at": "2021-06-05T16:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWith the Hall Flow Meter input activated, click on Clear Total Volume button. The error \"Error: Action, Controller: 'NoneType' object is not subscriptable\" is thrown and the total volume remains uncleared.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.10.1\r\n - Raspberry Pi Version: 3B\r\n - Raspbian OS Version: Linux raspberrypi 5.4.79-v7+ #1373 SMP Mon Nov 23 13:22:33 GMT 2020 armv7l GNU/Linux\r\n\r\n### Reproducibility\r\n\r\n1. Hall Flow Meter input is configured and activated, with a non-zero total volume.\r\n2. Click on Clear Total Volume button.\r\n3. Note the error message and that the total volume is not cleared to zero.\r\n\r\n### Expected behavior\r\n\r\nThe total volume should clear to zero.\r\n\r\n### Screenshots\r\n\r\nN/A\r\n\r\n### Additional context\r\n\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/991", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/991/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/991/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/991/events", "html_url": "https://github.com/kizniche/Mycodo/issues/991", "id": 871288099, "node_id": "MDU6SXNzdWU4NzEyODgwOTk=", "number": 991, "title": "Live stream in Dashboard", "user": {"login": "fluke9", "id": 6239023, "node_id": "MDQ6VXNlcjYyMzkwMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6239023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fluke9", "html_url": "https://github.com/fluke9", "followers_url": "https://api.github.com/users/fluke9/followers", "following_url": "https://api.github.com/users/fluke9/following{/other_user}", "gists_url": "https://api.github.com/users/fluke9/gists{/gist_id}", "starred_url": "https://api.github.com/users/fluke9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fluke9/subscriptions", "organizations_url": "https://api.github.com/users/fluke9/orgs", "repos_url": "https://api.github.com/users/fluke9/repos", "events_url": "https://api.github.com/users/fluke9/events{/privacy}", "received_events_url": "https://api.github.com/users/fluke9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-29T17:53:39Z", "updated_at": "2021-04-29T19:18:27Z", "closed_at": "2021-04-29T19:18:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\nis streaming of USB webcams now supported ?\r\nIf not it looks like #630 sneaked back in again.\r\n\r\nI only get a unloadable image and the following traceback if i view it directly:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 652, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_general.py\", line 209, in video_feed\r\n    camera_stream = import_module('mycodo.mycodo_flask.camera.camera_' + camera_options.library).Camera\r\n  File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 965, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'mycodo.mycodo_flask.camera.camera_fswebcam'", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/990", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/990/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/990/events", "html_url": "https://github.com/kizniche/Mycodo/issues/990", "id": 868435164, "node_id": "MDU6SXNzdWU4Njg0MzUxNjQ=", "number": 990, "title": "All outputs are listed as \"Unconfigured\" since 8.10", "user": {"login": "dylandn", "id": 9918766, "node_id": "MDQ6VXNlcjk5MTg3NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/9918766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dylandn", "html_url": "https://github.com/dylandn", "followers_url": "https://api.github.com/users/dylandn/followers", "following_url": "https://api.github.com/users/dylandn/following{/other_user}", "gists_url": "https://api.github.com/users/dylandn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dylandn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dylandn/subscriptions", "organizations_url": "https://api.github.com/users/dylandn/orgs", "repos_url": "https://api.github.com/users/dylandn/repos", "events_url": "https://api.github.com/users/dylandn/events{/privacy}", "received_events_url": "https://api.github.com/users/dylandn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-04-27T04:07:34Z", "updated_at": "2021-06-06T20:59:54Z", "closed_at": "2021-06-05T16:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under the Setup->Outputs screen, all of my pre-existing outputs no longer display their state and instead show \"Unconfigured\". Adding a new Output and configuring it still shows as Unconfigured. This seems to have started since 8.10.\r\n![Screenshot_2021-04-26_21-06-17](https://user-images.githubusercontent.com/9918766/116183633-183ea100-a6d3-11eb-95f4-3a3448c44731.png)\r\n\r\nThe outputs still work, everything's functional except for the \"Unconfigured\" message.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/979", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/979/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/979/events", "html_url": "https://github.com/kizniche/Mycodo/issues/979", "id": 856399040, "node_id": "MDU6SXNzdWU4NTYzOTkwNDA=", "number": 979, "title": "500 internal server error start after adding camera feed and feed server stopping", "user": {"login": "os-is-awesome", "id": 77554735, "node_id": "MDQ6VXNlcjc3NTU0NzM1", "avatar_url": "https://avatars.githubusercontent.com/u/77554735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/os-is-awesome", "html_url": "https://github.com/os-is-awesome", "followers_url": "https://api.github.com/users/os-is-awesome/followers", "following_url": "https://api.github.com/users/os-is-awesome/following{/other_user}", "gists_url": "https://api.github.com/users/os-is-awesome/gists{/gist_id}", "starred_url": "https://api.github.com/users/os-is-awesome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/os-is-awesome/subscriptions", "organizations_url": "https://api.github.com/users/os-is-awesome/orgs", "repos_url": "https://api.github.com/users/os-is-awesome/repos", "events_url": "https://api.github.com/users/os-is-awesome/events{/privacy}", "received_events_url": "https://api.github.com/users/os-is-awesome/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-04-12T22:12:25Z", "updated_at": "2021-04-24T18:22:36Z", "closed_at": "2021-04-24T18:22:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this is related to this issue,\r\n\r\n\r\n\r\n### Describe the problem/bug\r\n\r\nMy problem started after using a camera feed for a while.  it was one of the URL camera inputs. I believe it was the first URL feed in the mycodo list.  I dont have a working mycodo to find out.\r\n\r\nI used the feed for a while without any issues.  I stopped the Camera server to make some changes and restart the camera server and since then I could not go to the camera page.  I would get \"500 internal server error\" I didnt copy the error message from the camera page 500 internal.  \r\n\r\nI then decide to upgrade to the master @ apr 12 00:00 to see if this could help my problem.  And then I was unable to login to mycodo.  I could click the login button and then it would come up with a \"500 internal server error\"  attached is a copy of the browser error.\r\n\r\nall my fuctions and ouputs are working fine still\r\n\r\n\r\n\t\r\n### Reproducibility\r\n\r\nI dont know what to add to this beyond what I have already explained above.\r\n\r\n\r\n\r\n### Versions:\r\n\r\nMYCODO_VERSION = '8.9.2'\r\nALEMBIC_VERSION = '50a4e41e7444'\r\n - Raspberry Pi Version: [e.g. 4b]\r\n - Raspbian OS Version: [Buster]\r\n\r\nI dont have any other info for these :( \r\n### Reproducibility\r\n### Expected behavior\r\n### Screenshots\r\n### Additional context\r\n\r\n - Mycodo Version: [e.g. 8.0.3]\r\n - Raspberry Pi Version: [e.g. 3B+]\r\n - Raspbian OS Version: [e.g. Buster Lite]\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n### Expected behavior\r\n\r\nA clear and concise description of what you expected to happen.\r\n\r\n### Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n### Additional context\r\n\r\nIs there anything that should be added to make it easier to address this issue?\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/978", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/978/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/978/events", "html_url": "https://github.com/kizniche/Mycodo/issues/978", "id": 855170122, "node_id": "MDU6SXNzdWU4NTUxNzAxMjI=", "number": 978, "title": "Can not setup VPD Function.  Getting error 'measurement/unit not set' when it is set?", "user": {"login": "LucidEye", "id": 12551280, "node_id": "MDQ6VXNlcjEyNTUxMjgw", "avatar_url": "https://avatars.githubusercontent.com/u/12551280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucidEye", "html_url": "https://github.com/LucidEye", "followers_url": "https://api.github.com/users/LucidEye/followers", "following_url": "https://api.github.com/users/LucidEye/following{/other_user}", "gists_url": "https://api.github.com/users/LucidEye/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucidEye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucidEye/subscriptions", "organizations_url": "https://api.github.com/users/LucidEye/orgs", "repos_url": "https://api.github.com/users/LucidEye/repos", "events_url": "https://api.github.com/users/LucidEye/events{/privacy}", "received_events_url": "https://api.github.com/users/LucidEye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-04-10T22:38:14Z", "updated_at": "2021-04-24T18:22:35Z", "closed_at": "2021-04-24T18:22:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having trouble setting up the VPD function.\r\n\r\nIn the VPD function setup I am linking the temp and humidity to one of my BME280 sensors.\r\n\r\nIn the inputs setup, I have set that sensor to convert it's pressure and VPD readings to kPa, and set the temp to convert into F.\r\n\r\nBack in the VPD function setup, if I only set the temp and humidity parameters and click on the save button at the top of the function window, it saves and the function works ok when I activate it...\r\n\r\n![VPD WORKING](https://user-images.githubusercontent.com/12551280/114286274-1e195e80-9a12-11eb-8820-85900e798f39.png)\r\n\r\nHowever, I want to have the reading shown in kPa instead of the default Pa....\r\n\r\n![VPD SETTINGS BEFORE](https://user-images.githubusercontent.com/12551280/114286288-3b4e2d00-9a12-11eb-8079-4b5493f4ff6a.png)\r\n\r\n\r\nWhen I try to set the \"name\" under \"Configure Measurements\" to \"VPD\" and set it to \"convert to kPa\" then click save, the \"Measurements Enabled\" field gets 'cleared' for some reason and the function will no longer activate without throwing the error:\r\n\r\n\"Error: Activate Controller: Measurement CH0 (VPD) measurement/unit not set. All Measurements need to have the measurement and unit set before the Function can be activated.\"\r\n\r\n![VPD AFTER SAVING NAME](https://user-images.githubusercontent.com/12551280/114286294-44d79500-9a12-11eb-84e4-859ff64eb65d.png)\r\n\r\n\r\nThere is no way to make the function work again without deleting the whole function and re-adding it again.\r\n\r\nIs this a bug, or am I doing something wrong?\r\n\r\nThank you,\r\nJCL\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/971", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/971/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/971/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/971/events", "html_url": "https://github.com/kizniche/Mycodo/issues/971", "id": 849653916, "node_id": "MDU6SXNzdWU4NDk2NTM5MTY=", "number": 971, "title": "Hang up flask web interface, after update to ver.8.9.2", "user": {"login": "olegukr", "id": 15620600, "node_id": "MDQ6VXNlcjE1NjIwNjAw", "avatar_url": "https://avatars.githubusercontent.com/u/15620600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olegukr", "html_url": "https://github.com/olegukr", "followers_url": "https://api.github.com/users/olegukr/followers", "following_url": "https://api.github.com/users/olegukr/following{/other_user}", "gists_url": "https://api.github.com/users/olegukr/gists{/gist_id}", "starred_url": "https://api.github.com/users/olegukr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olegukr/subscriptions", "organizations_url": "https://api.github.com/users/olegukr/orgs", "repos_url": "https://api.github.com/users/olegukr/repos", "events_url": "https://api.github.com/users/olegukr/events{/privacy}", "received_events_url": "https://api.github.com/users/olegukr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-03T13:02:24Z", "updated_at": "2021-04-24T18:22:35Z", "closed_at": "2021-04-24T18:22:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error (Full Traceback):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1953, in full_dispatch_request\r\n    return self.finalize_request(rv)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1970, in finalize_request\r\n    response = self.process_response(response)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2269, in process_response\r\n    self.session_interface.save_session(self, ctx.session, response)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_session/sessions.py\", line 354, in save_session\r\n    total_seconds(app.permanent_session_lifetime))\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/cachelib/file.py\", line 147, in set\r\n    self._prune()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/cachelib/file.py\", line 96, in _prune\r\n    expires = pickle.load(f)\r\nEOFError: Ran out of input\r\n```\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\nA clear and concise description of what you were trying to do and what the problem/bug is.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [8.3.2]\r\n - Raspberry Pi Version: [3B+]\r\n - Raspbian OS Version: [e.g. Buster Lite]\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n### Expected behavior\r\n\r\nHang up flask, after update to ver.8.9.2. After reboot, web interface works normally during some times 5...30min \r\n\r\n### Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n### Additional context\r\n\r\nIs there anything that should be added to make it easier to address this issue?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/967", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/967/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/967/events", "html_url": "https://github.com/kizniche/Mycodo/issues/967", "id": 843706915, "node_id": "MDU6SXNzdWU4NDM3MDY5MTU=", "number": 967, "title": "Can't install dependencies for Pi-cam.  Value Error: this system does not appear to be a raspberry pi?", "user": {"login": "LucidEye", "id": 12551280, "node_id": "MDQ6VXNlcjEyNTUxMjgw", "avatar_url": "https://avatars.githubusercontent.com/u/12551280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucidEye", "html_url": "https://github.com/LucidEye", "followers_url": "https://api.github.com/users/LucidEye/followers", "following_url": "https://api.github.com/users/LucidEye/following{/other_user}", "gists_url": "https://api.github.com/users/LucidEye/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucidEye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucidEye/subscriptions", "organizations_url": "https://api.github.com/users/LucidEye/orgs", "repos_url": "https://api.github.com/users/LucidEye/repos", "events_url": "https://api.github.com/users/LucidEye/events{/privacy}", "received_events_url": "https://api.github.com/users/LucidEye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-03-29T19:10:30Z", "updated_at": "2021-04-24T18:22:35Z", "closed_at": "2021-04-24T18:22:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to setup the pi-camera in Mycodo and keep getting this error when the dependencies install script runs after clicking the \"install all dependencies\" button...\r\n\r\n```\r\n[2021-03-29 11:10:06]   ValueError: This system does not appear to be a Raspberry Pi\r\n[2021-03-29 11:10:06]   ----------------------------------------\r\n[2021-03-29 11:10:06]   ERROR: Failed building wheel for picamera\r\n[2021-03-29 11:10:06]   Running setup.py clean for picamera\r\n[2021-03-29 11:10:06] Failed to build picamera\r\n[2021-03-29 11:10:08] Installing collected packages: picamera\r\n[2021-03-29 11:10:08]     Running setup.py install for picamera: started\r\n[2021-03-29 11:10:09]     Running setup.py install for picamera: finished with status 'error'\r\n[2021-03-29 11:10:09]     ERROR: Command errored out with exit status 1:\r\n[2021-03-29 11:10:09]      command: /home/pi/Mycodo/env/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-ny5w64gu/install-record.txt --single-version-externally-managed --compile --install-headers /home/pi/Mycodo/env/include/site/python3.7/picamera\r\n[2021-03-29 11:10:09]          cwd: /tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/\r\n[2021-03-29 11:10:09]     Complete output (18 lines):\r\n[2021-03-29 11:10:09]     running install\r\n[2021-03-29 11:10:09]     Traceback (most recent call last):\r\n[2021-03-29 11:10:09]       File \"\", line 1, in \r\n[2021-03-29 11:10:09]       File \"/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py\", line 145, in \r\n[2021-03-29 11:10:09]         main()\r\n[2021-03-29 11:10:09]       File \"/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py\", line 140, in main\r\n[2021-03-29 11:10:09]         cmdclass             = {'install': CustomInstallCommand},\r\n[2021-03-29 11:10:09]       File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/setuptools/__init__.py\", line 153, in setup\r\n[2021-03-29 11:10:09]         return distutils.core.setup(**attrs)\r\n[2021-03-29 11:10:09]       File \"/usr/lib/python3.7/distutils/core.py\", line 148, in setup\r\n[2021-03-29 11:10:09]         dist.run_commands()\r\n[2021-03-29 11:10:09]       File \"/usr/lib/python3.7/distutils/dist.py\", line 966, in run_commands\r\n[2021-03-29 11:10:09]         self.run_command(cmd)\r\n[2021-03-29 11:10:09]       File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n[2021-03-29 11:10:09]         cmd_obj.run()\r\n[2021-03-29 11:10:09]       File \"/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py\", line 109, in run\r\n[2021-03-29 11:10:09]         raise ValueError('This system does not appear to be a Raspberry Pi')\r\n[2021-03-29 11:10:09]     ValueError: This system does not appear to be a Raspberry Pi\r\n[2021-03-29 11:10:09]     ----------------------------------------\r\n[2021-03-29 11:10:09] ERROR: Command errored out with exit status 1: /home/pi/Mycodo/env/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-3x0jrb78/picamera_aa29bcfe0b2c401f949180a48640a63b/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-ny5w64gu/install-record.txt --single-version-externally-managed --compile --install-headers /home/pi/Mycodo/env/include/site/python3.7/picamera Check the logs for full command output.\r\n\r\n[2021-03-29 11:10:09] End install of picamera\r\n\r\n[2021-03-29 11:10:09] \r\n[2021-03-29 11:10:09] #### Setting permissions\r\n\r\n[2021-03-29 11:10:10] #### Dependency install finished\r\n```\r\n\r\nThis is on a brand new, genuine Made in the UK RPi 4 2gb... although it is probably one of the early versions as I hit the known \"will not boot\" problem and had to manually install the updated bootloader on this Pi... so it seems to be working like it should now with the latest bootloader.\r\nI am running the latest version of RaspberryOS (March 4th release).\r\n\r\nAfter installing the OS, but before installing Mycodo, I used Raspi-config to enable:\r\nCamera\r\nSPI\r\nI2C\r\n1-Wire\r\n\r\nAlso setup the other usual stuff:\r\nLocale-language-keyboard set to US English\r\nTimezone set to my location\r\nWiFi set to US.\r\nNO overclocking\r\n\r\nI tested and verified the camera was working and able to stream using the Android app RaspiController\r\n\r\nThen I installed Mycodo and began setting up all my dependencies for the sensors and other features I'll need, everything seemed to install OK, no errors, until I tried installing the pi-camera :-(\r\nOne note, this is not an official Raspberry Pi camera module, it's an off-brand, but I've used these before on several other projects and never had any issues with them.\r\n \r\nAlso, clicking on the \"return to device list\" seems to hang for a long time before returning to the devices page\r\n\r\nBackup/Restore & Import/Export problems...\r\nThe card I am using was originally setup and installed in an old Pi2 I had laying around and decided to use to setup the software while waiting for my new Pi4 to arrive.\r\nWhen the new Pi4 arrived the following day I did a fresh install of RaspiOS and Mycodo on another card and tried to import all the settings from the Pi2.  The databases seemed to work, but the settings would not import and gave the error:\r\n\r\n`error: import settings: incorrect number of files in zip: 2 != 1 \r\nerror: an error occurred during the settings database import.`\r\n\r\nNo matter what I tried I could not get the settings to import from the Pi2 to the Pi4 install....\r\nWhich is weird because they are exactly the same version of the OS and Mycodo... only difference is the Pi hardware version.\r\nSo I just copied the entire card on the Pi2 to the new card in the Pi4 and that seems to have worked, but I'd still like to know why the import didn't work... I can upload that .zip file if you need it.\r\n\r\nHope you can help.\r\nThank you,\r\nJCL", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/963", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/963/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/963/events", "html_url": "https://github.com/kizniche/Mycodo/issues/963", "id": 842014098, "node_id": "MDU6SXNzdWU4NDIwMTQwOTg=", "number": 963, "title": "upstream variable name change breaks input: SCD30 CircuitPython (fix also enclosed here)", "user": {"login": "AKAMEDIASYSTEM", "id": 407323, "node_id": "MDQ6VXNlcjQwNzMyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/407323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AKAMEDIASYSTEM", "html_url": "https://github.com/AKAMEDIASYSTEM", "followers_url": "https://api.github.com/users/AKAMEDIASYSTEM/followers", "following_url": "https://api.github.com/users/AKAMEDIASYSTEM/following{/other_user}", "gists_url": "https://api.github.com/users/AKAMEDIASYSTEM/gists{/gist_id}", "starred_url": "https://api.github.com/users/AKAMEDIASYSTEM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AKAMEDIASYSTEM/subscriptions", "organizations_url": "https://api.github.com/users/AKAMEDIASYSTEM/orgs", "repos_url": "https://api.github.com/users/AKAMEDIASYSTEM/repos", "events_url": "https://api.github.com/users/AKAMEDIASYSTEM/events{/privacy}", "received_events_url": "https://api.github.com/users/AKAMEDIASYSTEM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-26T14:34:29Z", "updated_at": "2021-04-24T18:22:34Z", "closed_at": "2021-04-24T18:22:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n - If your issue has been addressed before (i.e., duplicated issue), please ask in the original issue.\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\nThe CircuitPython SCD30 sensor input currently errors at every reading, saying there is no parameter called \"eCO2\". This is because Adafruit [updated](https://github.com/adafruit/Adafruit_CircuitPython_SCD30/commit/500c4b9d704dbc60bbb064c4dc1b5b444e5cf0e0#diff-eaa2c02e845bd776b0ca8e9fc462498b19e161a63b11fa3cf27db0d6d3f1164a) their library a few months ago, changing that variable name.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: current version, 8.9.2\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Buster\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Connect SCD30 i2c sensor\r\n2. Install CircuitPython Dependency for SCD30 \r\n3. Add sensor and activate input\r\n4. Check Daemon logs and see error:\r\n`2021-03-26 10:24:15,292 - ERROR - mycodo.inputs.scd30_circuitpython_d830dda1 - InputModule raised an exception when taking a reading: 'SCD30' object has no attribute 'eCO2'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/inputs/base_input.py\", line 128, in read\r\n    self._measurements = self.get_measurement()\r\n  File \"/home/pi/Mycodo/mycodo/inputs/scd30_circuitpython.py\", line 95, in get_measurement\r\n    co2 = self.scd.eCO2\r\nAttributeError: 'SCD30' object has no attribute 'eCO2'`\r\n\r\n### Expected behavior\r\n\r\nSensor takes readings per normal\r\n\r\n### Additional context\r\n\r\nI fixed this myself by editing one line of code, replacing \"eCO2\" with \"CO2\"\r\nHere's the line:\r\nhttps://github.com/kizniche/Mycodo/blob/master/mycodo/inputs/scd30_circuitpython.py#L95\r\n\r\nThanks for making Mycodo, it's awesome!\r\n\r\nAKA\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/955", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/955/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/955/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/955/events", "html_url": "https://github.com/kizniche/Mycodo/issues/955", "id": 833661997, "node_id": "MDU6SXNzdWU4MzM2NjE5OTc=", "number": 955, "title": "Still Image Path field in camera config", "user": {"login": "sourcoding", "id": 48487623, "node_id": "MDQ6VXNlcjQ4NDg3NjIz", "avatar_url": "https://avatars.githubusercontent.com/u/48487623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sourcoding", "html_url": "https://github.com/sourcoding", "followers_url": "https://api.github.com/users/sourcoding/followers", "following_url": "https://api.github.com/users/sourcoding/following{/other_user}", "gists_url": "https://api.github.com/users/sourcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/sourcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sourcoding/subscriptions", "organizations_url": "https://api.github.com/users/sourcoding/orgs", "repos_url": "https://api.github.com/users/sourcoding/repos", "events_url": "https://api.github.com/users/sourcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/sourcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-17T11:14:21Z", "updated_at": "2021-04-24T18:22:34Z", "closed_at": "2021-04-24T18:22:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nI am trying to set the \"still image Path\" in the webgui to point to a smb share I have mounted on my rasberry PI.\r\nWhen I insert the path and click on save, it will not save the entry and when I go back to view the field it is empty.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [8.9.2]\r\n - Raspberry Pi Version: [3B+]\r\n - Raspbian OS Version: [Buster]\r\n- Camera Type: [Picamera]\r\n\r\n\r\n### Reproducibility\r\n\r\n1. Go to menu more->cameras\r\n2. Click on 'plus sign next to camera'\r\n3. Insert path in \"Still Image Path\" field (Ex: /sambashare)\r\n4. Click on save\r\n5. Click on plus next to same camera\r\n6. \"Still Image Path\" is empty\"\r\n\r\n### Expected behavior\r\n\r\nI was expecting to change the destination directory of where images are stored.\r\n\r\n### Screenshots\r\n\r\nNA\r\n\r\n### Additional context\r\n\r\nI have verified that mycodo user can read and write in the new destination directory.\r\n\r\nThanks\r\nSandro\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/953", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/953/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/953/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/953/events", "html_url": "https://github.com/kizniche/Mycodo/issues/953", "id": 832365076, "node_id": "MDU6SXNzdWU4MzIzNjUwNzY=", "number": 953, "title": "Cannot activate Bang-Bang Hysteretic function", "user": {"login": "JustinCredible-", "id": 7981902, "node_id": "MDQ6VXNlcjc5ODE5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7981902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JustinCredible-", "html_url": "https://github.com/JustinCredible-", "followers_url": "https://api.github.com/users/JustinCredible-/followers", "following_url": "https://api.github.com/users/JustinCredible-/following{/other_user}", "gists_url": "https://api.github.com/users/JustinCredible-/gists{/gist_id}", "starred_url": "https://api.github.com/users/JustinCredible-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JustinCredible-/subscriptions", "organizations_url": "https://api.github.com/users/JustinCredible-/orgs", "repos_url": "https://api.github.com/users/JustinCredible-/repos", "events_url": "https://api.github.com/users/JustinCredible-/events{/privacy}", "received_events_url": "https://api.github.com/users/JustinCredible-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-03-16T03:05:17Z", "updated_at": "2021-03-17T04:43:12Z", "closed_at": "2021-03-16T14:41:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to Activate a Bang-Bang Hysteretic function after initial configuration and saving. Errors with \"Error: Error: receiving: timeout\"\r\n\r\n - Mycodo Version: [e.g. 8.0.3] 8.9.1\r\n - Raspberry Pi Version: [e.g. 3B+] a02082\r\n - Raspbian OS Version: [e.g. Buster Lite] Linux raspberrypi 5.10.17-v7+\r\n\r\n1. Go to Setup -> Function\r\n2. Click on Activate on Bang-Bang Hysteretic function\r\n3. After a period of time, page will refresh with success messages \"Success: Function Activate (SQL)\r\nSuccess: Activate Controller\" and error message \"Error: Error: receiving: timeout\"\r\n\r\nExpect function to enable and start working.\r\n\r\n![Untitled](https://user-images.githubusercontent.com/7981902/111249828-f4674600-85d1-11eb-9372-f62bc45939ba.png)\r\n\r\n![Untitled](https://user-images.githubusercontent.com/7981902/111249798-e285a300-85d1-11eb-88fc-e752eb7dfdff.png)\r\n\r\nBrand new installation using SHT31D sensor, all sensor values reporting (temp, humidity, dewpoint, VPD) and PID Controller, Conditional Controllers activate and work fine.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/952", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/952/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/952/events", "html_url": "https://github.com/kizniche/Mycodo/issues/952", "id": 831953370, "node_id": "MDU6SXNzdWU4MzE5NTMzNzA=", "number": 952, "title": "Hall effect flow sensor - Cant save pulses per liter value", "user": {"login": "nagol10h", "id": 17317865, "node_id": "MDQ6VXNlcjE3MzE3ODY1", "avatar_url": "https://avatars.githubusercontent.com/u/17317865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagol10h", "html_url": "https://github.com/nagol10h", "followers_url": "https://api.github.com/users/nagol10h/followers", "following_url": "https://api.github.com/users/nagol10h/following{/other_user}", "gists_url": "https://api.github.com/users/nagol10h/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagol10h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagol10h/subscriptions", "organizations_url": "https://api.github.com/users/nagol10h/orgs", "repos_url": "https://api.github.com/users/nagol10h/repos", "events_url": "https://api.github.com/users/nagol10h/events{/privacy}", "received_events_url": "https://api.github.com/users/nagol10h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-15T15:57:10Z", "updated_at": "2021-03-16T14:41:22Z", "closed_at": "2021-03-16T14:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nproblem/bug\r\n\r\nAfter upgrading Mycodo to version 8.9.0(and then 8.9.1) I was looking forward to using the generic hall effect flow sensor input\r\nThe input works great except the pulses per liter number will not save a new value so it stays at 1 pulse per liter after saving. \r\n\r\nI have tried several system restarts as well as back and front end restarts with no change in results. \r\nThis issue is the same for Mycodo 8.9.0 and 8.9.1\r\n\r\nThe flowmeter input functions normally just with a large flow showing due to the 1 pulse per liter setting that cannot be changed.\r\nI can do a function to recalculate to actual liters as a workaround but wanted to raise the issue because I have not seen it brought up yet. \r\n\r\nI really enjoy the software! \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [8.9.1]\r\n - Raspberry Pi Version: [ 3B+]\r\n - Raspbian OS Version: \r\n - pi@raspberrypi:~ $ cat /etc/os-release\r\nPRETTY_NAME=\"Raspbian GNU/Linux 10 (buster)\"\r\nNAME=\"Raspbian GNU/Linux\"\r\nVERSION_ID=\"10\"\r\nVERSION=\"10 (buster)\"\r\nVERSION_CODENAME=buster\r\nID=raspbian\r\nID_LIKE=debian\r\nHOME_URL=\"http://www.raspbian.org/\"\r\nSUPPORT_URL=\"http://www.raspbian.org/RaspbianForums\"\r\nBUG_REPORT_URL=\"http://www.raspbian.org/RaspbianBugs\"\r\n\r\n\r\n\r\n### Reproducibility\r\n\r\nDeactivate flow meter input\r\nChange pulses per liter to appropriate conversion number (450 for my flow sensor)\r\nSave input\r\n\r\n### Expected behavior\r\n\r\nInput is saved with new pulse per liter setting(450) \r\n\r\nInstead input remains at 1 pulse per liter (default setting)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/950", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/950/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/950/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/950/events", "html_url": "https://github.com/kizniche/Mycodo/issues/950", "id": 831276868, "node_id": "MDU6SXNzdWU4MzEyNzY4Njg=", "number": 950, "title": "Python 3 code input not storing measurements after upgrading to 8.9.1", "user": {"login": "rbbrdckybk", "id": 80607958, "node_id": "MDQ6VXNlcjgwNjA3OTU4", "avatar_url": "https://avatars.githubusercontent.com/u/80607958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbbrdckybk", "html_url": "https://github.com/rbbrdckybk", "followers_url": "https://api.github.com/users/rbbrdckybk/followers", "following_url": "https://api.github.com/users/rbbrdckybk/following{/other_user}", "gists_url": "https://api.github.com/users/rbbrdckybk/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbbrdckybk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbbrdckybk/subscriptions", "organizations_url": "https://api.github.com/users/rbbrdckybk/orgs", "repos_url": "https://api.github.com/users/rbbrdckybk/repos", "events_url": "https://api.github.com/users/rbbrdckybk/events{/privacy}", "received_events_url": "https://api.github.com/users/rbbrdckybk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-03-14T22:25:22Z", "updated_at": "2021-03-18T17:01:36Z", "closed_at": "2021-03-16T14:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Issue Summary\r\n\r\nA Python 3 code input that was successfully running in Mycodo 8.8.8 without issues is now not storing measurements to the database. Mycodo is logging many of these errors:\r\n\r\n`ERROR - mycodo.controllers.controller_input_957ddbe6 - StopIteration raised 3 times. Possibly could not read input. Ensure it's connected properly and detected.`\r\n\r\nThe code DOES successfully return the expected value, it just doesn't get stored. I can see the returned value in the Data -> Live view, and also on any of the dashboard widgets that use the live value. I can NOT view historical data (e.g. on either of the graph types) as I could on 8.8.8.\r\n\r\nThis is on a fresh install of Mycodo 8.9.1 with a single Python 3 input configured in the same manner (with the same code) that it was running successfully on 8.8.8.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.9.1\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: Buster Lite 2020-02-13\r\n\r\n### Reproducibility\r\n\r\nThe Python 3 code manipulates a JSN-SR04T sensor, so you'd need one to test. On a side note, I see that the latest version of Mycodo supports this sensor natively, but my environment has enough background noise the the sensor results are far too inconsistent to use without some manipulation, which I accomplish via code.\r\n\r\n1. Go to 'Setup' -> 'Input'\r\n2. Click on 'Linux: Python 3 Code: Store Value(s) [Mycodo]'\r\n3. Configure as shown in this screenshot:\r\n![mycodo_1](https://user-images.githubusercontent.com/80607958/111085807-674bc080-84ef-11eb-8424-5110a3350aef.JPG)\r\nThe full Python 3 code:\r\n```\r\nimport RPi.GPIO as GPIO\r\nimport time\r\n\r\n# Define container limit lengths in cm\r\nDISTANCE_TO_FULL = 35       # maximum water level; basically the min valid range\r\nDISTANCE_TO_EMPTY = 74.5    # minimum water level; basically the max valid range\r\nOUTLIER_TOLERANCE = 0.05    # measurements this percentage from other values are considered outliers and discarded\r\n\r\n# Define GPIO to use on Pi\r\nGPIO_TRIGGER = 23\r\nGPIO_ECHO = 18\r\n\r\nTRIGGER_TIME = 0.00001\r\nMAX_TIME = 0.1  # max time waiting for response in case something is missed\r\nTIME_BETWEEN_MEASUREMENTS = 0.5  # time to sleep between each measurement\r\n\r\nGPIO.setmode(GPIO.BCM)\r\nGPIO.setwarnings(False)\r\nGPIO.setup(GPIO_TRIGGER, GPIO.OUT)  # Trigger\r\nGPIO.setup(GPIO_ECHO, GPIO.IN, pull_up_down=GPIO.PUD_UP)  # Echo\r\nGPIO.output(GPIO_TRIGGER, False)\r\n\r\n# This function measures a distance\r\ndef measure():\r\n    # Pulse the trigger/echo line to initiate a measurement\r\n    GPIO.output(GPIO_TRIGGER, True)\r\n    time.sleep(TRIGGER_TIME)\r\n    GPIO.output(GPIO_TRIGGER, False)\r\n\r\n    # ensure start time is set in case of very quick return\r\n    start = time.time()\r\n    timeout = start + MAX_TIME\r\n\r\n    # set line to input to check for start of echo response\r\n    while GPIO.input(GPIO_ECHO) == 0 and start <= timeout:\r\n        start = time.time()\r\n\r\n    if(start > timeout):\r\n        return -1\r\n\r\n    stop = time.time()\r\n    timeout = stop + MAX_TIME\r\n    # Wait for end of echo response\r\n    while GPIO.input(GPIO_ECHO) == 1 and stop <= timeout:\r\n        stop = time.time()\r\n\r\n    if(stop <= timeout):\r\n        elapsed = stop-start\r\n        distance = float(elapsed * 34300)/2.0\r\n    else:\r\n        return -1\r\n    return distance\r\n    \r\n# take 3 measurements, discard outliers, return averge result\r\ndef sample():\r\n    measurements = []\r\n    attempts = 0\r\n\r\n    while len(measurements) < 3 and attempts < 15:\r\n        if attempts > 0:\r\n            time.sleep(TIME_BETWEEN_MEASUREMENTS)\r\n        distance = measure()\r\n        attempts += 1\r\n        if(distance >= DISTANCE_TO_FULL and distance <= DISTANCE_TO_EMPTY):\r\n            measurements.append(distance)\r\n\r\n    if len(measurements) == 3:\r\n        # check for and remove outlier measurements\r\n        for i in range(len(measurements)):\r\n            if is_outlier(measurements, i):\r\n                measurements.pop(i)\r\n                \r\n        # if there are at least 2 good data points remaining, take the average and return it\r\n        if len(measurements) >= 2:\r\n            measure_sum = 0\r\n            for i in range(len(measurements)):\r\n                measure_sum += measurements[i]\r\n            measure_avg = measure_sum/len(measurements)\r\n            return (measure_avg)\r\n        else:\r\n            # we didn't have at least 2 good data points\r\n            return -2\r\n    else:\r\n        return -1\r\n        \r\n# run the sample function twice, discard result if both values not within OUTLIER_TOLERANCE of each other\r\ndef double_sample():\r\n    trials = [-1, -1]\r\n    \r\n    # run the two trials\r\n    for i in range(len(trials)):\r\n        attempt = 0\r\n        while attempt < 6 and trials[i] < 0:\r\n            attempt += 1\r\n            trials[i] = sample()\r\n    \r\n    # compare the two results\r\n    if is_outlier(trials, 0):\r\n        # the two values aren't consistent\r\n        return -1\r\n    else:\r\n        trial_avg = (trials[0] + trials[1])/2\r\n        return trial_avg\r\n\r\n# compare the value of the list item at the given index to every other item in the list\r\n# if the given item varies by more than OUTLIER_TOLERANCE compared to the other items, it's an outlier\r\ndef is_outlier(list, index):\r\n    if index > len(list)-1:\r\n        return False\r\n    else:\r\n        outlier_compares = 0\r\n        outlier_true = 0\r\n        value = list[index]\r\n        for i in range(len(list)):\r\n            if i != index:\r\n                outlier_compares += 1\r\n                diff = abs(list[i] - value)\r\n                diff_percent = diff/list[i]\r\n                if diff_percent > OUTLIER_TOLERANCE:\r\n                    outlier_true += 1\r\n                else:\r\n                    break\r\n\r\n        if outlier_compares == outlier_true:\r\n            # every other item has a value that is off by at least OUTLIER_TOLERANCE, this is an outlier\r\n            return True\r\n        else:\r\n            # this item is within OUTLIER_TOLERANCE of every other item\r\n            return False\r\n            \r\n# take the measurement\r\nattempts = 0\r\npercent_full = -1\r\nwhile attempts < 5:\r\n    attempts += 1\r\n    result = double_sample()\r\n    if result >= 0:\r\n        percent_full = (1-(result/DISTANCE_TO_EMPTY)) * 100\r\n        break\r\n\r\nGPIO.cleanup()\r\n\r\n# Store measurements in database (must specify the channel and measurement)\r\nself.store_measurement(channel=0, measurement=percent_full)\r\n```\r\n4. Save/activate the input\r\n\r\n### Expected behavior\r\n\r\nFrom here, I can navigate to Data -> Live and see the latest measurement as expected:\r\n![mycodo_2](https://user-images.githubusercontent.com/80607958/111085999-72532080-84f0-11eb-9944-477d9cb472ac.JPG)\r\n\r\nBut if I try to create a graph widget, or view async graph data, they're just blank - presumably because historical data isn't being saved to the database properly:\r\n![mycodo_3](https://user-images.githubusercontent.com/80607958/111086098-dbd32f00-84f0-11eb-8252-fe49ed4e1318.JPG)\r\n\r\nViewing the log, I see that a bunch of StopIteration errors are being thrown on many (but not all, judging by the timestamps) executions:\r\n![mycodo_4](https://user-images.githubusercontent.com/80607958/111086247-7d5a8080-84f1-11eb-9238-df9b7a8dbef4.JPG)\r\n\r\n### Additional context\r\n\r\nThis code has been successfully running on a Mycodo 8.8.8 install for a couple weeks without issues. I attempted to use Mycodo's upgrade function to move to 8.9.1, but that broke my install (HTTP 500 errors on most pages, presumably from a dropped custom measurement I had created - I already created a [separate issue](https://github.com/kizniche/Mycodo/issues/949) for that). So I moved my Mycodo installation to a backup directory and installed 8.9.1 from scratch. Just mentioning in case that might play a part in the issue.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/950/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/949", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/949/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/949/events", "html_url": "https://github.com/kizniche/Mycodo/issues/949", "id": 831044982, "node_id": "MDU6SXNzdWU4MzEwNDQ5ODI=", "number": 949, "title": "Upgrading from 8.8.8 to latest 8.9.1 results in dictionary error", "user": {"login": "rbbrdckybk", "id": 80607958, "node_id": "MDQ6VXNlcjgwNjA3OTU4", "avatar_url": "https://avatars.githubusercontent.com/u/80607958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbbrdckybk", "html_url": "https://github.com/rbbrdckybk", "followers_url": "https://api.github.com/users/rbbrdckybk/followers", "following_url": "https://api.github.com/users/rbbrdckybk/following{/other_user}", "gists_url": "https://api.github.com/users/rbbrdckybk/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbbrdckybk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbbrdckybk/subscriptions", "organizations_url": "https://api.github.com/users/rbbrdckybk/orgs", "repos_url": "https://api.github.com/users/rbbrdckybk/repos", "events_url": "https://api.github.com/users/rbbrdckybk/events{/privacy}", "received_events_url": "https://api.github.com/users/rbbrdckybk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-14T02:04:26Z", "updated_at": "2021-03-16T14:43:04Z", "closed_at": "2021-03-16T14:43:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just upgraded a basically fresh install of MyCodo 8.8.8 to 8.9.1 via the web interface. Upgrade completed successfully, no errors. After the upgrade, navigating to most pages results in the following HTTP 500 error (I'm new to MyCodo, but vaguely remember creating a custom measurement that I tagged \"999\" when I was originally looking things over - so I assume the dictionary error has something to do with that):\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 639, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 1200, in page_live\r\n    use_unit=use_unit)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 140, in render_template\r\n    ctx.app,\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 120, in _render\r\n    rv = template.render(context)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1090, in render\r\n    self.environment.handle_exception()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 832, in handle_exception\r\n    reraise(*rewrite_traceback_stack(source=source))\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/_compat.py\", line 28, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/live.html\", line 3, in top-level template code\r\n    {% set help_page = [\"https://kizniche.github.io/Mycodo/Data-Viewing/#live-measurements\", _('Live Measurements')] %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 327, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/live.html\", line 118, in block \"body\"\r\n    {{' (' + dict_measurements[each_meas.measurement]['name'] + ') '}}\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 452, in getitem\r\n    return obj[argument]\r\njinja2.exceptions.UndefinedError: 'collections.OrderedDict object' has no attribute '999'", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/948", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/948/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/948/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/948/events", "html_url": "https://github.com/kizniche/Mycodo/issues/948", "id": 830430118, "node_id": "MDU6SXNzdWU4MzA0MzAxMTg=", "number": 948, "title": "dashboard camera 'acquire image (and save last file)' fails to direct the image url correctly", "user": {"login": "evolutionxone", "id": 80546710, "node_id": "MDQ6VXNlcjgwNTQ2NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/80546710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evolutionxone", "html_url": "https://github.com/evolutionxone", "followers_url": "https://api.github.com/users/evolutionxone/followers", "following_url": "https://api.github.com/users/evolutionxone/following{/other_user}", "gists_url": "https://api.github.com/users/evolutionxone/gists{/gist_id}", "starred_url": "https://api.github.com/users/evolutionxone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evolutionxone/subscriptions", "organizations_url": "https://api.github.com/users/evolutionxone/orgs", "repos_url": "https://api.github.com/users/evolutionxone/repos", "events_url": "https://api.github.com/users/evolutionxone/events{/privacy}", "received_events_url": "https://api.github.com/users/evolutionxone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-12T20:39:30Z", "updated_at": "2021-03-13T23:27:58Z", "closed_at": "2021-03-13T23:27:58Z", "author_association": "NONE", "active_lock_reason": null, "body": " On the camera widget (in dashboard), selecting 'acquire image (and save new file)' will not show pictures. Using 'acquire image (and erase last file)' works as expected. using pi cam.\r\n\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.9.0\r\n - Raspberry Pi Version: 4\r\n - Raspbian OS Version: 2021-01-11-raspios-buster-armhf-lite\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Add camera widget, set settings to acquire-save new image, and no image will appear\r\n\r\n### Expected behavior\r\n\r\nthe image should appear\r\n\r\n### Screenshots\r\n\r\nnone\r\n\r\n### Additional context\r\n\r\nwhen using the acquire-save new image, the url of the not-image is 'https://192.168.1.29/camera/fd322d53-e981-4e93-b647-7228763bcb86//<?1615575774898'\r\n\r\nIt appears that in  the photo path \"image_type_str + \"/\" + filename\" (line 157, widgets/widget_camera.py) the image_type_str is becoming blank (despite being defined as 'still' earlier in the code) and the filename is reduced to '<'.\r\n\r\nrequesting such an image by going to the url in chrome (as per widget_camera.py) 'https://192.168.1.29/camera_acquire_image/new/fd322d53-e981-4e93-b647-7228763bcb86/360' returns \r\n\"[\"Still-1-pi_camera_in_tent-2021-03-12_11-49-44.jpg\",\"2021-03-12 11:49:50\"]\"\r\n\r\ngoing to this url in chrome:\r\nhttps://192.168.1.29/camera/fd322d53-e981-4e93-b647-7228763bcb86/still/Still-1-pi_camera_in_tent-2021-03-12_11-49-44.jpg\r\nshows the image as expected.\r\n\r\n\r\n\r\nI have tried different camera names. \r\n\r\n\r\nI suspect that in widgets/widget_camera.py the 'filename' as defined by \r\nconst timestamp = data[1];\r\n\r\nisn't full of the data that is expected.\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/948/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/947", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/947/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/947/events", "html_url": "https://github.com/kizniche/Mycodo/issues/947", "id": 828109966, "node_id": "MDU6SXNzdWU4MjgxMDk5NjY=", "number": 947, "title": "Error 500 wen accessing Inputs page", "user": {"login": "neongrau81", "id": 61628487, "node_id": "MDQ6VXNlcjYxNjI4NDg3", "avatar_url": "https://avatars.githubusercontent.com/u/61628487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neongrau81", "html_url": "https://github.com/neongrau81", "followers_url": "https://api.github.com/users/neongrau81/followers", "following_url": "https://api.github.com/users/neongrau81/following{/other_user}", "gists_url": "https://api.github.com/users/neongrau81/gists{/gist_id}", "starred_url": "https://api.github.com/users/neongrau81/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neongrau81/subscriptions", "organizations_url": "https://api.github.com/users/neongrau81/orgs", "repos_url": "https://api.github.com/users/neongrau81/repos", "events_url": "https://api.github.com/users/neongrau81/events{/privacy}", "received_events_url": "https://api.github.com/users/neongrau81/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-03-10T17:47:21Z", "updated_at": "2021-03-13T23:28:07Z", "closed_at": "2021-03-13T23:28:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nAfter updating from 8.8.8 to 8.9.0 I can no longer access the Inputs page. Everything else seems to work fine\r\n \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.9.0\r\n - Raspberry Pi Version: 4 B+\r\n - Raspbian OS Version: Buster \r\n\r\n### Additional context\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\nresponse = self.full_dispatch_request()\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\nrv = self.handle_user_exception(e)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 639, in error_router\r\nreturn original_handler(e)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\nreraise(exc_type, exc_value, tb)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\nraise value\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\nrv = self.dispatch_request()\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\nreturn self.view_functionsrule.endpoint\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\nreturn func(*args, **kwargs)\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 2135, in page_input\r\ndevices_1wire_w1thermsensor=devices_1wire_w1thermsensor)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 140, in render_template\r\nctx.app,\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 120, in _render\r\nrv = template.render(context)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/asyncsupport.py\", line 76, in render\r\nreturn original_render(self, *args, **kwargs)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1008, in render\r\nreturn self.environment.handle_exception(exc_info, True)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 780, in handle_exception\r\nreraise(exc_type, exc_value, tb)\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/_compat.py\", line 37, in reraise\r\nraise value.with_traceback(tb)\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 3, in top-level template code\r\n{% set help_page = [\"https://kizniche.github.io/Mycodo/Inputs/\", dict_translation['input']['title']] %}\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1005, in render\r\nreturn concat(self.root_render_func(self.new_context(vars)))\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 22, in root\r\n\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 333, in root\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/input.html\", line 74, in block_body\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/data_options/math.html\", line 141, in root\r\nFile \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/pages/data_options/math_options/TEMPLATE_OPTIONS_Measurements_Convert.html\", line 149, in root\r\nFile \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 411, in getitem\r\nreturn obj[argument]\r\njinja2.exceptions.UndefinedError: 'collections.OrderedDict object' has no attribute 'jPa'\r\n\r\nI had a controller without output and I already tried activating / deactivating but that didn't solve my issue", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/947/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/946", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/946/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/946/events", "html_url": "https://github.com/kizniche/Mycodo/issues/946", "id": 828006404, "node_id": "MDU6SXNzdWU4MjgwMDY0MDQ=", "number": 946, "title": "Cannot save MQTT input configuration changes", "user": {"login": "danielfppps", "id": 10372058, "node_id": "MDQ6VXNlcjEwMzcyMDU4", "avatar_url": "https://avatars.githubusercontent.com/u/10372058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielfppps", "html_url": "https://github.com/danielfppps", "followers_url": "https://api.github.com/users/danielfppps/followers", "following_url": "https://api.github.com/users/danielfppps/following{/other_user}", "gists_url": "https://api.github.com/users/danielfppps/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielfppps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielfppps/subscriptions", "organizations_url": "https://api.github.com/users/danielfppps/orgs", "repos_url": "https://api.github.com/users/danielfppps/repos", "events_url": "https://api.github.com/users/danielfppps/events{/privacy}", "received_events_url": "https://api.github.com/users/danielfppps/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-03-10T16:31:38Z", "updated_at": "2021-03-16T02:41:56Z", "closed_at": "2021-03-13T23:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Mycodo 8.9.0. Whenever I add an MQTT input, click the (+) sign and then click \"Save\" - no changes made at all - I receive the following error :\r\n\r\nError: Modify Input: '<' not supported between instances of 'NoneType' and 'float'\r\n\r\nThe error happens regardless of which fields I change or attempt to modify (even when no fields are modified as I mentioned above). I'm new to mycodo so please do let me know if I'm doing something wrong. Thanks in advance for your help!", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/944", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/944/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/944/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/944/events", "html_url": "https://github.com/kizniche/Mycodo/issues/944", "id": 826058321, "node_id": "MDU6SXNzdWU4MjYwNTgzMjE=", "number": 944, "title": "API Controller activate/deactivate (input)", "user": {"login": "tilersmyth", "id": 8736328, "node_id": "MDQ6VXNlcjg3MzYzMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/8736328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tilersmyth", "html_url": "https://github.com/tilersmyth", "followers_url": "https://api.github.com/users/tilersmyth/followers", "following_url": "https://api.github.com/users/tilersmyth/following{/other_user}", "gists_url": "https://api.github.com/users/tilersmyth/gists{/gist_id}", "starred_url": "https://api.github.com/users/tilersmyth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tilersmyth/subscriptions", "organizations_url": "https://api.github.com/users/tilersmyth/orgs", "repos_url": "https://api.github.com/users/tilersmyth/repos", "events_url": "https://api.github.com/users/tilersmyth/events{/privacy}", "received_events_url": "https://api.github.com/users/tilersmyth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-09T14:56:36Z", "updated_at": "2021-03-13T23:28:10Z", "closed_at": "2021-03-13T23:28:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nWhen deactivating a controller (input in my case) using the POST API the is_activated column in the input table is not updating. \r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.9.0 (also the case for 8.8.8)\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Raspberry Pi OS Lite\r\n\r\n### Reproducibility\r\n\r\n1. Send POST API request to /api/controllers/{unique_id} with body { \"activate\": 1 } \r\n2. Open the Input page in Mycodo backend and the input will reflect as activated (it works)\r\n3. Send POST API request to /api/controllers/{unique_id} with body { \"activate\": 0 } \r\n4. Refresh the input page and the input still reflects as activated \r\n5. If you press the \"Deactivate\" button in the Mycodo backend you will receive an error message along the lines of \"Error: Could not deactivate Input controller with ID {unique_id}, it's not active.\"\r\n\r\nNote: it's interesting that continuing to toggle activate/deactivate via the API alone will continue to work - Even though the database has the input.is_activated=1, the POST API to activate is received with no errors. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/940", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/940/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/940/events", "html_url": "https://github.com/kizniche/Mycodo/issues/940", "id": 813521682, "node_id": "MDU6SXNzdWU4MTM1MjE2ODI=", "number": 940, "title": "Issue when timer fuction is deactivated. Doesnt turn off.", "user": {"login": "os-is-awesome", "id": 77554735, "node_id": "MDQ6VXNlcjc3NTU0NzM1", "avatar_url": "https://avatars.githubusercontent.com/u/77554735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/os-is-awesome", "html_url": "https://github.com/os-is-awesome", "followers_url": "https://api.github.com/users/os-is-awesome/followers", "following_url": "https://api.github.com/users/os-is-awesome/following{/other_user}", "gists_url": "https://api.github.com/users/os-is-awesome/gists{/gist_id}", "starred_url": "https://api.github.com/users/os-is-awesome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/os-is-awesome/subscriptions", "organizations_url": "https://api.github.com/users/os-is-awesome/orgs", "repos_url": "https://api.github.com/users/os-is-awesome/repos", "events_url": "https://api.github.com/users/os-is-awesome/events{/privacy}", "received_events_url": "https://api.github.com/users/os-is-awesome/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-22T13:52:31Z", "updated_at": "2021-03-09T18:08:45Z", "closed_at": "2021-03-09T18:08:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, When trying to deactivate fuctions, so far only tested 3 different timer triggers.  UI shows sucess in deactivating but then shows error.  And trigger remains on while ui visually showing as off.  Backend restart was the only way i could correct it.    \r\nIf there is something you want me to try please let me know or if i am doing something wrong.  \r\nThanks \r\n\r\n - Mycodo Version: [e.g. current DEV branch on github as of feb 21]\r\n - Raspberry Pi Version: [e.g. 4b+]\r\n - Raspbian OS Version: [e.g. Buster]\r\n\r\n\r\n\r\nPl\r\n______ - 8.8.8\r\n02/22 07:33\r\nSelect the number of lines to display from the end of a log\r\nLast 30 lines of /var/log/mycodo/mycodo.log:\r\n\r\n2021-02-22 07:33:03,781 - DEBUG - mycodo.controllers.controller_output - output_on_off(1a80ef6a-78f3-4d42-8f1b-659c53aa2a33, on, 0, sec, 10.0, 0.0, True)\r\n2021-02-22 07:33:03,782 - DEBUG - mycodo.outputs.on_off_gpio_1a80ef6a - output_on_off(on, 0, sec, 10.0, 0.0, True)\r\n2021-02-22 07:33:03,782 - DEBUG - mycodo.outputs.on_off_gpio_1a80ef6a - Output 1a80ef6a-78f3-4d42-8f1b-659c53aa2a33 CH0 (Air solenoid) is already on for an amount of 10.00 seconds (with 3.92 seconds remaining). Recording the amount of time the output has been on (6.08 sec) and updating the amount to 10.00 seconds.\r\n**### 2021-02-22 07:33:11,263 - ERROR - mycodo.daemon - Could not deactivate Trigger controller with ID babdb30e-f8c2-490c-9d48-6ccf9b20a291: 'NoneType' object has no attribute 'channel'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/mycodo_daemon.py\", line 341, in controller_deactivate\r\n    self.controller[cont_type][cont_id].stop_controller()\r\n  File \"/var/mycodo-root/mycodo/controllers/base_controller.py\", line 109, in stop_controller\r\n    self.pre_stop()\r\n  File \"/var/mycodo-root/mycodo/controllers/controller_trigger.py\", line 475, in pre_stop\r\n    output_channel=output_channel.channel)\r\nAttributeError: 'NoneType' object has no attribute 'channel**\r\n2021-02-22 07:33:13,827 - DEBUG - mycodo.outputs.on_off_gpio_1a80ef6a - output_on_off(off, 0, None, 0.0, 0.0, True)\r\n2021-02-22 07:33:13,827 - DEBUG - mycodo.outputs.on_off_gpio_1a80ef6a - Output 1a80ef6a-78f3-4d42-8f1b-659c53aa2a33 CH0 (Air solenoid) OFF at 2021-02-22 07:33:13. Output returned: success\r\n2021-02-22 07:33:16,378 - DEBUG - mycodo.inputs.dht11_715e3d6f - Exception raised when taking a reading: Bad Checksum.\r\n2021-02-22 07:33:16,609 - DEBUG - mycodo.controllers.controller_input_715e3d6f - Adding measurements to InfluxDB with ID 715e3d6f-28ec-46db-88bc-c1b721b7cd26: {0: {'measurement': 'temperature', 'unit': 'C', 'value': 23.0, 'timestamp_utc': None}, 1: {'measurement': 'humidity', 'unit': 'percent', 'value': 49.0, 'timestamp_utc': None}, 2: {'measurement': 'dewpoint', 'unit': 'C', 'value': 11.707258100708337, 'timestamp_utc': None}, 3: {'measurement': 'vapor_pressure_deficit', 'unit': 'Pa', 'value': 1432.5011665323732, 'timestamp_utc': None}}\r\n2021-02-22 07:33:17,675 - DEBUG - mycodo.trigger_action_8d2ba1db - Message: 2021-02-22 07:33:17", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/937", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/937/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/937/events", "html_url": "https://github.com/kizniche/Mycodo/issues/937", "id": 809666248, "node_id": "MDU6SXNzdWU4MDk2NjYyNDg=", "number": 937, "title": "trigger_run_pwm_method does not work (yet-to-be-released v0.8.9)", "user": {"login": "pkrahmer", "id": 5699756, "node_id": "MDQ6VXNlcjU2OTk3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5699756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkrahmer", "html_url": "https://github.com/pkrahmer", "followers_url": "https://api.github.com/users/pkrahmer/followers", "following_url": "https://api.github.com/users/pkrahmer/following{/other_user}", "gists_url": "https://api.github.com/users/pkrahmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkrahmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkrahmer/subscriptions", "organizations_url": "https://api.github.com/users/pkrahmer/orgs", "repos_url": "https://api.github.com/users/pkrahmer/repos", "events_url": "https://api.github.com/users/pkrahmer/events{/privacy}", "received_events_url": "https://api.github.com/users/pkrahmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-02-16T21:38:44Z", "updated_at": "2021-03-09T18:06:34Z", "closed_at": "2021-03-09T18:06:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nUsing trigger with run_pwm_method fails for several reasons. Please see PR review comments for details.\r\nhttps://github.com/kizniche/Mycodo/pull/936\r\n\r\nChanges tested with following test scenarios:\r\n- Method without repeat\r\n- Method with infinite repeat\r\n- Method with time limited repeat\r\n- Bounce backend during running controller\r\n- Reboot system during running controller\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 0.8.9 (commit dcf4c102eebb24e5569ffc1d5a98b8c472681968)\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Buster Lite\r\n\r\n### Additional context\r\n\r\nI will submit a pull request with a change suggestion.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/933", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/933/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/933/events", "html_url": "https://github.com/kizniche/Mycodo/issues/933", "id": 808665836, "node_id": "MDU6SXNzdWU4MDg2NjU4MzY=", "number": 933, "title": "PCA9685 Output Module does not work (yet-to-be-released v0.8.9)", "user": {"login": "pkrahmer", "id": 5699756, "node_id": "MDQ6VXNlcjU2OTk3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5699756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkrahmer", "html_url": "https://github.com/pkrahmer", "followers_url": "https://api.github.com/users/pkrahmer/followers", "following_url": "https://api.github.com/users/pkrahmer/following{/other_user}", "gists_url": "https://api.github.com/users/pkrahmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkrahmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkrahmer/subscriptions", "organizations_url": "https://api.github.com/users/pkrahmer/orgs", "repos_url": "https://api.github.com/users/pkrahmer/repos", "events_url": "https://api.github.com/users/pkrahmer/events{/privacy}", "received_events_url": "https://api.github.com/users/pkrahmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-02-15T16:16:53Z", "updated_at": "2021-03-09T18:06:50Z", "closed_at": "2021-03-09T18:06:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\npca9685 output module issues:\r\n- Adding device fails, because it tries to reference \"custom_options\" in OUTPUT_INFORMATION but it is not present. Instead, two sections called \"custom_channel_options\" are present.\r\n- As to the datasheet, \"All outputs are set to the same PWM frequency.\" The implementation is ambiguous, as it reads a potenially different value per channel but writes all to the same method.\r\n- No name per channel can be given (e.g. this works for pcf8574 output module)\r\n- On pca9685 initialization, my device defaults all outputs to 0. Therefore state_startup \"do nothing\" does not work and should be removed, default should be set to \"Off\", as this is the devices default behaviour.\r\n- inverted output also inverts reported value and mixes up on-off state handling. inversion should only apply just before setting value to device driver, not for the reported values\r\n- value is set using \"self.pwm_output.set_pwm(self.options_channels['pwm_hertz'][output_channel], amount)\". As to the adafruit documentation, set_pwm has three parameters: \r\n-- channel: The channel that should be updated with the new values (0..15)\r\n-- on: The tick (between 0..4095) when the signal should transition from low to high\r\n-- off:the tick (between 0..4095) when the signal should transition from high to low\r\n- correct implementation could be:\r\n-- off_at_tick = round(output_amount*4095./100.)\r\n-- self.pwm_output.set_pwm(output_channel, 0, off_at_tick)\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 0.8.9 (commit dcf4c102eebb24e5569ffc1d5a98b8c472681968)\r\n - Raspberry Pi Version: 3B+\r\n - Raspbian OS Version: Buster Lite\r\n\r\n### Additional context\r\n\r\nI will submit a pull request with a change suggestion.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/933/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/927", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/927/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/927/events", "html_url": "https://github.com/kizniche/Mycodo/issues/927", "id": 799901126, "node_id": "MDU6SXNzdWU3OTk5MDExMjY=", "number": 927, "title": "Using MQTT Output disconnects unrelated MQTT Input (unrecoverable)", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-03T02:17:10Z", "updated_at": "2021-07-14T07:20:51Z", "closed_at": "2021-02-09T01:27:36Z", "author_association": "OWNER", "active_lock_reason": null, "body": "MQTT Inputs work as expected until an MQTT on/off Output is turned on of off. The Input is unable to operate properly after this occurs.\r\n\r\n```\r\n### Input measures and stores values\r\n2021-01-31 19:58:09,017 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r174 Message received: Channel: esp32/temperature, Value: 24.48\r\n2021-01-31 19:58:09,020 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r222 Adding measurement to influxdb: {1: {'measurement': 'temperature', 'unit': 'C', 'value': 24.48, 'timestamp_utc': datetime.datetime(2021, 1, 31, 17, 58, 9, 17463)}}\r\n### Input measures and stores values\r\n2021-01-31 19:58:09,025 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r174 Message received: Channel: esp32/humidity, Value: 26.59\r\n2021-01-31 19:58:09,029 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r222 Adding measurement to influxdb: {2: {'measurement': 'humidity', 'unit': 'percent', 'value': 26.59, 'timestamp_utc': datetime.datetime(2021, 1, 31, 17, 58, 9, 24994)}}\r\n### Output turns on for 3 seconds\r\n2021-01-31 19:58:09,245 - DEBUG - mycodo.outputs.mqtt_3b6f5df5 - output_on_off(on, 0, sec, 3.0, 0.0, True)\r\n### Input disconnects\r\n2021-01-31 19:58:09,247 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r229 input Disconnected result code 1\r\n2021-01-31 19:58:09,249 - DEBUG - mycodo.outputs.mqtt_3b6f5df5 - Output 3b6f5df5-19c9-4bde-a312-34e2370ff978 CH0 (esp32/output) on for 3.0 seconds. Output returned: None\r\n2021-01-31 19:58:10,249 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - r162 Connected to 'None', rc: 0\r\n2021-01-31 19:58:12,250 - DEBUG - mycodo.outputs.mqtt_3b6f5df5 - output_on_off(off, 0, None, 0.0, 0.0, True)\r\n2021-01-31 19:58:12,254 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - inp_r229 input Disconnected result code 1\r\n2021-01-31 19:58:12,256 - DEBUG - mycodo.outputs.mqtt_3b6f5df5 - Output 3b6f5df5-19c9-4bde-a312-34e2370ff978 CH0 (esp32/output) OFF at 2021-01-31 19:58:12. Output returned: None\r\n2021-01-31 19:58:13,255 - DEBUG - mycodo.inputs.mqtt_paho_751d0e5a - r162 Connected to 'None', rc: 0\r\n```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/926", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/926/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/926/events", "html_url": "https://github.com/kizniche/Mycodo/issues/926", "id": 796898020, "node_id": "MDU6SXNzdWU3OTY4OTgwMjA=", "number": 926, "title": "DS18S20 - not showing any temp values", "user": {"login": "jbrooks4", "id": 17643110, "node_id": "MDQ6VXNlcjE3NjQzMTEw", "avatar_url": "https://avatars.githubusercontent.com/u/17643110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbrooks4", "html_url": "https://github.com/jbrooks4", "followers_url": "https://api.github.com/users/jbrooks4/followers", "following_url": "https://api.github.com/users/jbrooks4/following{/other_user}", "gists_url": "https://api.github.com/users/jbrooks4/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbrooks4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbrooks4/subscriptions", "organizations_url": "https://api.github.com/users/jbrooks4/orgs", "repos_url": "https://api.github.com/users/jbrooks4/repos", "events_url": "https://api.github.com/users/jbrooks4/events{/privacy}", "received_events_url": "https://api.github.com/users/jbrooks4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-01-29T13:51:04Z", "updated_at": "2021-03-09T18:06:59Z", "closed_at": "2021-03-09T18:06:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have three sensors hooked up to the 1wire pin on a RPI4. The IDs show up in the list, but on the live data page the sensors just show 0. I tested via the command line as well, and get results for each. I tested an input configuration for the seeed library that I found on the forums and that seems to show data on one the sensors. The logs for Mycodo show the following for the regular DS18B20 input though. \r\nThere was a similar issue that was closed. #796. Do I just need to upgrade to the master ? \r\n\r\n(test from the Pi) \r\npi@raspberrypi:/sys/bus/w1/devices/28-0417716357ff $ cat w1_slave\r\n3d 01 4b 46 7f ff 0c 10 75 : crc=75 YES\r\n3d 01 4b 46 7f ff 0c 10 75 t=19812\r\n\r\n\r\n\r\n\r\n2021-01-29 08:35:00,104 - INFO - mycodo.daemon - All Custom controllers stopped\r\n2021-01-29 08:35:00,104 - INFO - mycodo.daemon - All LCD controllers stopped\r\n2021-01-29 08:35:00,104 - INFO - mycodo.daemon - All PID controllers stopped\r\n2021-01-29 08:35:00,104 - INFO - mycodo.daemon - All Math controllers stopped\r\n2021-01-29 08:35:00,105 - INFO - mycodo.daemon - All Input controllers stopped\r\n2021-01-29 08:35:00,105 - INFO - mycodo.daemon - All Trigger controllers stopped\r\n2021-01-29 08:35:00,105 - INFO - mycodo.daemon - All Conditional controllers stopped\r\n2021-01-29 08:35:00,121 - INFO - mycodo.controllers.controller_output - Deactivated in 15.6 ms\r\n2021-01-29 08:35:00,208 - INFO - mycodo.controllers.controller_widget - Deactivated in 86.7 ms\r\n2021-01-29 08:35:00,208 - INFO - mycodo.daemon - Mycodo daemon terminated in 1.097 seconds\r\n\r\n\r\n2021-01-29 08:35:19,459 - INFO - mycodo.daemon - Mycodo daemon v8.8.8 starting\r\n2021-01-29 08:35:19,804 - INFO - mycodo.controllers.controller_output - Activated in 116.3 ms\r\n2021-01-29 08:35:20,305 - INFO - mycodo.daemon - All activated Conditional controllers started\r\n2021-01-29 08:35:20,305 - INFO - mycodo.daemon - All activated Trigger controllers started\r\n2021-01-29 08:35:20,306 - INFO - mycodo.daemon - All activated Input controllers started\r\n2021-01-29 08:35:20,306 - INFO - mycodo.daemon - All activated Math controllers started\r\n2021-01-29 08:35:20,306 - INFO - mycodo.daemon - All activated PID controllers started\r\n2021-01-29 08:35:20,306 - INFO - mycodo.daemon - All activated LCD controllers started\r\n2021-01-29 08:35:20,306 - INFO - mycodo.daemon - All activated Custom controllers started\r\n2021-01-29 08:35:20,642 - INFO - mycodo.controllers.controller_widget - Activated in 335.1 ms\r\n2021-01-29 08:35:21,643 - INFO - mycodo.daemon - Mycodo daemon started in 2.181 seconds\r\n2021-01-29 08:35:21,649 - INFO - mycodo.daemon - 39.06 MB RAM in use\r\n2021-01-29 08:36:27,010 - ERROR - mycodo.inputs.ds18b20_d238b954 - Input initialization\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20.py\", line 75, in initialize_input\r\n    W1ThermSensor.THERM_SENSOR_DS18B20, self.input_dev.location)\r\nAttributeError: type object 'W1ThermSensor' has no attribute 'THERM_SENSOR_DS18B20'\r\n2021-01-29 08:36:27,011 - INFO - mycodo.controllers.controller_input_d238b954 - Activated in 155.5 ms\r\n2021-01-29 08:36:27,012 - ERROR - mycodo.inputs.ds18b20_d238b954 - Input not set up\r\n2021-01-29 08:36:42,034 - ERROR - mycodo.inputs.ds18b20_d238b954 - Input not set up\r\n2021-01-29 08:36:56,955 - ERROR - mycodo.inputs.ds18b20_d238b954 - Input not set up\r\n2021-01-29 08:36:56,956 - ERROR - mycodo.controllers.controller_input_d238b954 - StopIteration raised 3 times.\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/925", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/925/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/925/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/925/events", "html_url": "https://github.com/kizniche/Mycodo/issues/925", "id": 793648207, "node_id": "MDU6SXNzdWU3OTM2NDgyMDc=", "number": 925, "title": "PID Auto tune Function disappeared after function reorder", "user": {"login": "electricspaceman", "id": 34949113, "node_id": "MDQ6VXNlcjM0OTQ5MTEz", "avatar_url": "https://avatars.githubusercontent.com/u/34949113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/electricspaceman", "html_url": "https://github.com/electricspaceman", "followers_url": "https://api.github.com/users/electricspaceman/followers", "following_url": "https://api.github.com/users/electricspaceman/following{/other_user}", "gists_url": "https://api.github.com/users/electricspaceman/gists{/gist_id}", "starred_url": "https://api.github.com/users/electricspaceman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/electricspaceman/subscriptions", "organizations_url": "https://api.github.com/users/electricspaceman/orgs", "repos_url": "https://api.github.com/users/electricspaceman/repos", "events_url": "https://api.github.com/users/electricspaceman/events{/privacy}", "received_events_url": "https://api.github.com/users/electricspaceman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-25T19:06:44Z", "updated_at": "2021-03-09T18:07:11Z", "closed_at": "2021-03-09T18:07:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was fiddly about and tried reordering the functions. I had PID autotune running but then once I clicked confirm on the reorder the function disappeared. It's still running though.\r\n\r\nThe PID autotune in the screenshot is the second one I added. If I try to activate it returns a time out. It was after this error that I realised that the original autotune is still running in the background just now showing up.\r\n\r\nHow can I disable and delete the hidden function? My heater is sort of stuck on in this state.\r\n\r\n<img width=\"1392\" alt=\"Screenshot 2021-01-25 at 18 58 51\" src=\"https://user-images.githubusercontent.com/34949113/105753241-44198180-5f40-11eb-8363-0dd3f697d03d.png\">\r\n\r\n\r\n2021-01-25 18:57:29,279 - INFO - mycodo.daemon - Mycodo daemon v8.8.8 starting\r\n2021-01-25 18:57:29,284 - DEBUG - mycodo.daemon - Refreshing camera settings\r\n2021-01-25 18:57:29,365 - DEBUG - mycodo.daemon - Refreshing misc settings\r\n2021-01-25 18:57:29,418 - DEBUG - mycodo.daemon - Anonymous statistics enabled\r\n2021-01-25 18:57:29,465 - INFO - mycodo.pyro_daemon - Starting Pyro5 daemon\r\n2021-01-25 18:57:29,468 - INFO - mycodo.pyro_monitor - Starting Pyro5 daemon monitor (30 min timer)\r\n2021-01-25 18:57:29,916 - DEBUG - mycodo.daemon - Starting Output Controller\r\n2021-01-25 18:57:30,025 - DEBUG - mycodo.controllers.controller_output - Initializing Outputs\r\n2021-01-25 18:57:30,502 - DEBUG - mycodo.pyro_monitor - Pyro5 daemon monitor: daemon_status() response: 'alive'\r\n2021-01-25 18:57:30,640 - INFO - mycodo.outputs.on_off_gpio_a7cb02ed - Output setup on pin 20 and turned OFF (ON=HIGH)\r\n2021-01-25 18:57:30,641 - INFO - mycodo.outputs.on_off_gpio_a7cb02ed - Initialized in 166.1 ms\r\n2021-01-25 18:57:30,641 - DEBUG - mycodo.controllers.controller_output - a7cb02ed (Heater) Initialized\r\n2021-01-25 18:57:30,783 - INFO - mycodo.outputs.on_off_gpio_6d56264e - Output setup on pin 21 and turned OFF (ON=HIGH)\r\n2021-01-25 18:57:30,784 - INFO - mycodo.outputs.on_off_gpio_6d56264e - Initialized in 140.9 ms\r\n2021-01-25 18:57:30,784 - DEBUG - mycodo.controllers.controller_output - 6d56264e (Humidifer) Initialized\r\n2021-01-25 18:57:30,936 - INFO - mycodo.outputs.on_off_gpio_27d0d629 - Output setup on pin 26 and turned OFF (ON=HIGH)\r\n2021-01-25 18:57:30,936 - INFO - mycodo.outputs.on_off_gpio_27d0d629 - Initialized in 150.3 ms\r\n2021-01-25 18:57:30,936 - DEBUG - mycodo.controllers.controller_output - 27d0d629 (Unused) Initialized\r\n2021-01-25 18:57:30,937 - DEBUG - mycodo.controllers.controller_output - Outputs Initialized\r\n2021-01-25 18:57:30,937 - INFO - mycodo.controllers.controller_output - Activated in 1019.2 ms\r\n2021-01-25 18:57:31,438 - DEBUG - mycodo.daemon - Output Controller fully started\r\n2021-01-25 18:57:31,438 - DEBUG - mycodo.daemon - Starting all activated Conditional controllers\r\n2021-01-25 18:57:31,439 - INFO - mycodo.daemon - All activated Conditional controllers started\r\n2021-01-25 18:57:31,439 - DEBUG - mycodo.daemon - Starting all activated Trigger controllers\r\n2021-01-25 18:57:31,439 - INFO - mycodo.daemon - All activated Trigger controllers started\r\n2021-01-25 18:57:31,439 - DEBUG - mycodo.daemon - Starting all activated Input controllers\r\n2021-01-25 18:57:32,567 - INFO - mycodo.controllers.controller_input_702d1a43 - Activated in 749.2 ms\r\n2021-01-25 18:57:44,361 - INFO - mycodo.controllers.controller_input_29d4d8ff - Activated in 583.4 ms\r\n2021-01-25 18:57:45,504 - INFO - mycodo.controllers.controller_input_ecb32d5d - Activated in 589.3 ms\r\n2021-01-25 18:57:46,568 - INFO - mycodo.controllers.controller_input_cb7fb265 - Activated in 501.5 ms\r\n2021-01-25 18:57:46,569 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Command: 'owread //temperature12; echo'\r\n2021-01-25 18:57:46,570 - INFO - mycodo.daemon - All activated Input controllers started\r\n2021-01-25 18:57:46,579 - DEBUG - mycodo.daemon - Starting all activated Math controllers\r\n2021-01-25 18:57:46,619 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Output: 'b'\\n''\r\n2021-01-25 18:57:46,620 - ERROR - mycodo.inputs.ds18b20_owshell_cb7fb265 - Obtaining measurement\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 101, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2021-01-25 18:57:46,635 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Command: 'owread //temperature12; echo'\r\n2021-01-25 18:57:46,674 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Output: 'b'\\n''\r\n2021-01-25 18:57:46,676 - ERROR - mycodo.inputs.ds18b20_owshell_cb7fb265 - Obtaining measurement\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 101, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2021-01-25 18:57:46,768 - DEBUG - mycodo.controllers.controller_input_cb7fb265 - Adding measurements to InfluxDB with ID cb7fb265-4393-4e2a-bb5b-c0e83a9cb66e: {}\r\n2021-01-25 18:57:47,169 - INFO - mycodo.controllers.controller_math_626b5184 - Activated in 95.0 ms\r\n2021-01-25 18:57:47,170 - INFO - mycodo.daemon - All activated Math controllers started\r\n2021-01-25 18:57:47,170 - DEBUG - mycodo.daemon - Starting all activated PID controllers\r\n2021-01-25 18:57:47,170 - INFO - mycodo.daemon - All activated PID controllers started\r\n2021-01-25 18:57:47,170 - DEBUG - mycodo.daemon - Starting all activated LCD controllers\r\n2021-01-25 18:57:47,171 - INFO - mycodo.daemon - All activated LCD controllers started\r\n2021-01-25 18:57:47,171 - DEBUG - mycodo.daemon - Starting all activated Custom controllers\r\n2021-01-25 18:57:47,657 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - PID Autotune started\r\n2021-01-25 18:57:47,658 - INFO - mycodo.functions.function_pid_autotune_527f04d6 - Activated in 166.7 ms\r\n2021-01-25 18:57:47,659 - INFO - mycodo.functions.function_pid_autotune_527f04d6 - PID Autotune started with options: Measurement Device: 29d4d8ff-4a58-4d0c-98ef-9cb74cbcb881, Measurement: f8ccef95-b5f1-4861-9b9b-59e679f6bfad, Output: a7cb02ed-b6f3-48c7-93b9-0f71f614f7bb, Output_Channel: 0, Setpoint: 16.0, Period: 30, Noise Band: 0.5, Outstep: 120.0, DIrection: raise\r\n2021-01-25 18:57:47,660 - INFO - mycodo.daemon - All activated Custom controllers started\r\n2021-01-25 18:57:47,671 - DEBUG - mycodo.daemon - Starting Widget Controller\r\n2021-01-25 18:57:47,828 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - \r\n2021-01-25 18:57:47,829 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - Cycle: 1\r\n2021-01-25 18:57:47,832 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - switched state: relay step down\r\n2021-01-25 18:57:47,833 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - input: 18.80569625927485\r\n2021-01-25 18:57:47,833 - INFO - mycodo.functions.function_pid_autotune_527f04d6 - \r\n2021-01-25 18:57:47,836 - INFO - mycodo.functions.function_pid_autotune_527f04d6 - state: relay step down\r\n2021-01-25 18:57:47,842 - INFO - mycodo.functions.function_pid_autotune_527f04d6 - output: 0\r\n2021-01-25 18:57:47,867 - DEBUG - mycodo.controllers.controller_output - output_on_off(a7cb02ed-b6f3-48c7-93b9-0f71f614f7bb, on, 0, sec, 0, 0.0, True)\r\n2021-01-25 18:57:47,893 - DEBUG - mycodo.controllers.controller_widget - Initializing Widgets\r\n2021-01-25 18:57:48,707 - DEBUG - mycodo.controllers.controller_widget - Widgets Initialized\r\n2021-01-25 18:57:48,708 - INFO - mycodo.controllers.controller_widget - Activated in 1035.9 ms\r\n2021-01-25 18:57:49,209 - DEBUG - mycodo.daemon - Widget Controller fully started\r\n2021-01-25 18:57:49,713 - INFO - mycodo.daemon - Mycodo daemon started in 9.780 seconds\r\n2021-01-25 18:57:49,722 - INFO - mycodo.daemon - 49.00 MB RAM in use\r\n2021-01-25 18:58:01,471 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Command: 'owread //temperature12; echo'\r\n2021-01-25 18:58:01,545 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Output: 'b'\\n''\r\n2021-01-25 18:58:01,547 - ERROR - mycodo.inputs.ds18b20_owshell_cb7fb265 - Obtaining measurement\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 101, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2021-01-25 18:58:01,548 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Command: 'owread //temperature12; echo'\r\n2021-01-25 18:58:01,582 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Output: 'b'\\n''\r\n2021-01-25 18:58:01,583 - ERROR - mycodo.inputs.ds18b20_owshell_cb7fb265 - Obtaining measurement\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 101, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2021-01-25 18:58:01,603 - DEBUG - mycodo.controllers.controller_input_cb7fb265 - Adding measurements to InfluxDB with ID cb7fb265-4393-4e2a-bb5b-c0e83a9cb66e: {}\r\n2021-01-25 18:58:11,559 - INFO - mycodo.utils.PID_hirschmann.pid_autotune - PID Autotune started\r\n2021-01-25 18:58:11,561 - ERROR - mycodo.functions.function_pid_autotune_c5f95d8e - Cannot start PID Autotune: Could not find output channel.\r\n2021-01-25 18:58:11,561 - INFO - mycodo.functions.function_pid_autotune_c5f95d8e - Deactivating Autotune Function\r\n2021-01-25 18:58:11,619 - ERROR - mycodo.functions.function_pid_autotune_c5f95d8e - Deactivated unexpectedly\r\n2021-01-25 18:58:12,006 - DEBUG - mycodo.daemon - Could not deactivate Custom controller with ID c5f95d8e-8c19-4887-baad-b548ee152de2, it's not active.\r\n2021-01-25 18:58:16,434 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Command: 'owread //temperature12; echo'\r\n2021-01-25 18:58:16,467 - DEBUG - mycodo.inputs.ds18b20_owshell_cb7fb265 - Output: 'b'\\n''\r\n2021-01-25 18:58:16,468 - ERROR - mycodo.inputs.ds18b20_owshell_cb7fb265 - Obtaining measurement\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/923", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/923/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/923/events", "html_url": "https://github.com/kizniche/Mycodo/issues/923", "id": 787915900, "node_id": "MDU6SXNzdWU3ODc5MTU5MDA=", "number": 923, "title": "Wrong Scale - Pressure Measurement in Climate Sensors (BME260, BME680, etc)", "user": {"login": "not5", "id": 43415025, "node_id": "MDQ6VXNlcjQzNDE1MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/43415025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/not5", "html_url": "https://github.com/not5", "followers_url": "https://api.github.com/users/not5/followers", "following_url": "https://api.github.com/users/not5/following{/other_user}", "gists_url": "https://api.github.com/users/not5/gists{/gist_id}", "starred_url": "https://api.github.com/users/not5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/not5/subscriptions", "organizations_url": "https://api.github.com/users/not5/orgs", "repos_url": "https://api.github.com/users/not5/repos", "events_url": "https://api.github.com/users/not5/events{/privacy}", "received_events_url": "https://api.github.com/users/not5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-18T04:59:39Z", "updated_at": "2021-03-09T18:07:23Z", "closed_at": "2021-03-09T18:07:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nThese sensor's units should be in hPa for pressure (and vapor pressure deficit), not Pa. The conversion is 0.01 hPa to 1 PA. This causes all altitude calculations to be off.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/923/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/916", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/916/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/916/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/916/events", "html_url": "https://github.com/kizniche/Mycodo/issues/916", "id": 775892283, "node_id": "MDU6SXNzdWU3NzU4OTIyODM=", "number": 916, "title": "Editing: Gauge (Angular) Widget Configuration", "user": {"login": "cj-cuccaro", "id": 44933037, "node_id": "MDQ6VXNlcjQ0OTMzMDM3", "avatar_url": "https://avatars.githubusercontent.com/u/44933037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cj-cuccaro", "html_url": "https://github.com/cj-cuccaro", "followers_url": "https://api.github.com/users/cj-cuccaro/followers", "following_url": "https://api.github.com/users/cj-cuccaro/following{/other_user}", "gists_url": "https://api.github.com/users/cj-cuccaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/cj-cuccaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cj-cuccaro/subscriptions", "organizations_url": "https://api.github.com/users/cj-cuccaro/orgs", "repos_url": "https://api.github.com/users/cj-cuccaro/repos", "events_url": "https://api.github.com/users/cj-cuccaro/events{/privacy}", "received_events_url": "https://api.github.com/users/cj-cuccaro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-29T13:28:14Z", "updated_at": "2021-03-09T18:07:28Z", "closed_at": "2021-03-09T18:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was adding additional color stops that presented me with the following...\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 639, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 603, in page_dashboard\r\n    utils_dashboard.widget_mod(form_base, request.form)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/utils/utils_dashboard.py\", line 255, in widget_mod\r\n    mod_widget, request_form, custom_options_json_presave, json.loads(custom_options_json_postsave))\r\n  File \"/home/pi/Mycodo/mycodo/widgets/widget_gauge_angular.py\", line 73, in execute_at_modification\r\n    current_colors=sorted_colors)\r\n  File \"/home/pi/Mycodo/mycodo/widgets/widget_gauge_angular.py\", line 475, in gauge_reformat_stops\r\n    if new_stops > current_stops:\r\nTypeError: '>' not supported between instances of 'NoneType' and 'int'", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/911", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/911/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/911/events", "html_url": "https://github.com/kizniche/Mycodo/issues/911", "id": 771490050, "node_id": "MDU6SXNzdWU3NzE0OTAwNTA=", "number": 911, "title": "ADS1115 channels 2,3,4", "user": {"login": "pduke", "id": 1280698, "node_id": "MDQ6VXNlcjEyODA2OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1280698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pduke", "html_url": "https://github.com/pduke", "followers_url": "https://api.github.com/users/pduke/followers", "following_url": "https://api.github.com/users/pduke/following{/other_user}", "gists_url": "https://api.github.com/users/pduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/pduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pduke/subscriptions", "organizations_url": "https://api.github.com/users/pduke/orgs", "repos_url": "https://api.github.com/users/pduke/repos", "events_url": "https://api.github.com/users/pduke/events{/privacy}", "received_events_url": "https://api.github.com/users/pduke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-20T01:25:15Z", "updated_at": "2021-03-09T18:08:00Z", "closed_at": "2021-03-09T18:08:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\nAttempting to read values from ADS1115 channels 2, 3, and 4. Channel 1 value is returned for all 4 channels. I discovered it works with ads1x15 version but not circuitpython version of input.\r\n\r\nI found channel 0 was hard coded in the measure function. Changed it to the local variable \"channel\" and it works fine now.\r\n\r\nBoth files in .../inputs need the fix -\r\n              ads1015_circuitpython.py\r\n              ads1115_circuitpython.py\r\n\r\nGo down to line 154 - \r\n              chan = self.analog_in(self.adc, self.ads.P0)\r\nchange to use the channel variable rather than P0\r\n               chan = self.analog_in(self.adc, channel)\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.8.8\r\n - Raspberry Pi Version: 3\r\n - Raspbian OS Version: 10\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/910", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/910/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/910/events", "html_url": "https://github.com/kizniche/Mycodo/issues/910", "id": 771398910, "node_id": "MDU6SXNzdWU3NzEzOTg5MTA=", "number": 910, "title": "DS18B20 ow-shell", "user": {"login": "electricspaceman", "id": 34949113, "node_id": "MDQ6VXNlcjM0OTQ5MTEz", "avatar_url": "https://avatars.githubusercontent.com/u/34949113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/electricspaceman", "html_url": "https://github.com/electricspaceman", "followers_url": "https://api.github.com/users/electricspaceman/followers", "following_url": "https://api.github.com/users/electricspaceman/following{/other_user}", "gists_url": "https://api.github.com/users/electricspaceman/gists{/gist_id}", "starred_url": "https://api.github.com/users/electricspaceman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/electricspaceman/subscriptions", "organizations_url": "https://api.github.com/users/electricspaceman/orgs", "repos_url": "https://api.github.com/users/electricspaceman/repos", "events_url": "https://api.github.com/users/electricspaceman/events{/privacy}", "received_events_url": "https://api.github.com/users/electricspaceman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2020-12-19T15:16:53Z", "updated_at": "2022-05-26T04:26:39Z", "closed_at": "2022-03-28T22:36:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Kyle, \r\n\r\nWondering if you could please check out this log - trying to get DS18B20 working. Currently reading 0. \r\n\r\n```\r\n2020-12-19 14:30:33,246 - ERROR - mycodo.inputs.ds18b20_owshell_db551ee5 - 1\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 99, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2020-12-19 14:30:33,306 - ERROR - mycodo.inputs.ds18b20_owshell_db551ee5 - 1\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 99, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\nValueError: could not convert string to float: \r\n2020-12-19 14:30:33,314 - ERROR - mycodo.inputs.ds18b20_owshell_db551ee5 - Cannot set a value of None. Must be a float or string representing a float. Check the sensor and Input module is working correctly.\r\n2020-12-19 14:30:47,980 - ERROR - mycodo.inputs.ds18b20_owshell_db551ee5 - 1\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20_owshell.py\", line 99, in get_measurement\r\n    temperature = float(owread_output.decode(\"latin1\"))\r\n```\r\n\r\nMany thanks in advance for your time!", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/902", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/902/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/902/events", "html_url": "https://github.com/kizniche/Mycodo/issues/902", "id": 763820032, "node_id": "MDU6SXNzdWU3NjM4MjAwMzI=", "number": 902, "title": "MCP3008 error", "user": {"login": "grux77", "id": 55245846, "node_id": "MDQ6VXNlcjU1MjQ1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/55245846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grux77", "html_url": "https://github.com/grux77", "followers_url": "https://api.github.com/users/grux77/followers", "following_url": "https://api.github.com/users/grux77/following{/other_user}", "gists_url": "https://api.github.com/users/grux77/gists{/gist_id}", "starred_url": "https://api.github.com/users/grux77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grux77/subscriptions", "organizations_url": "https://api.github.com/users/grux77/orgs", "repos_url": "https://api.github.com/users/grux77/repos", "events_url": "https://api.github.com/users/grux77/events{/privacy}", "received_events_url": "https://api.github.com/users/grux77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-12-12T13:26:09Z", "updated_at": "2021-03-09T18:08:07Z", "closed_at": "2021-03-09T18:08:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Kyle!\r\nI have a problem with A/D converter MCP3008.\r\nFor testing I connected a potentiometer resistor 10kOhm to Chanal0.\r\nHardware and wiring are ok because the simpletest.py from Adafruit is successful.\r\n![Adafruit_MCP](https://user-images.githubusercontent.com/55245846/101985041-b2063400-3c85-11eb-8cb7-fb4321a1754a.JPG)\r\n\r\n![Mycodo_MCP](https://user-images.githubusercontent.com/55245846/101985054-c5190400-3c85-11eb-9f99-a50c2aba6aaf.JPG)\r\nRPi B & 4\r\nOS: Buster light\r\nMycodo Version: 8.8.8\r\nPython Version: 3.7.3 (default, Jul 25 2020, 13:03:44) [GCC 8.3.0]\r\nDatabase Version: 66e27f22b15a\r\nDaemon Status: Running\r\nFrontend Process ID: 342\r\nFrontend RAM Usage: 54.168 MB\r\nFrontend Virtualenv: Yes\r\n\r\nHere is the log:\r\n2020-12-12 13:56:09,121 - ERROR - mycodo.controllers.controller_input_6cca7a09 - initialize_variables() Exception: 'Input' object has no attribute 'scale_from_max'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controllers/base_controller.py\", line 72, in run\r\n    self.initialize_variables()\r\n  File \"/var/mycodo-root/mycodo/controllers/controller_input.py\", line 338, in initialize_variables\r\n    self.measure_input = input_loaded.InputModule(self.input_dev)\r\n  File \"/home/pi/Mycodo/mycodo/inputs/mcp3008.py\", line 66, in __init__\r\n    self.initialize_input()\r\n  File \"/home/pi/Mycodo/mycodo/inputs/mcp3008.py\", line 71, in initialize_input\r\n    self.scale_from_max = self.input_dev.scale_from_max\r\nAttributeError: 'Input' object has no attribute 'scale_from_max'\r\n2020-12-12 13:56:09,143 - INFO - mycodo.controllers.controller_input_6cca7a09 - Activated in 3243.3 ms\r\n2020-12-12 13:56:09,146 - ERROR - mycodo.controllers.controller_input_6cca7a09 - Error while attempting to read input: 'NoneType' object has no attribute 'next'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controllers/controller_input.py\", line 391, in update_measure\r\n    measurements = self.measure_input.next()\r\nAttributeError: 'NoneType' object has no attribute 'next'\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/899", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/899/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/899/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/899/events", "html_url": "https://github.com/kizniche/Mycodo/issues/899", "id": 760705355, "node_id": "MDU6SXNzdWU3NjA3MDUzNTU=", "number": 899, "title": "Error on trying to stop a (non-functional) fswebcam stream ", "user": {"login": "sybianca", "id": 47790488, "node_id": "MDQ6VXNlcjQ3NzkwNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/47790488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sybianca", "html_url": "https://github.com/sybianca", "followers_url": "https://api.github.com/users/sybianca/followers", "following_url": "https://api.github.com/users/sybianca/following{/other_user}", "gists_url": "https://api.github.com/users/sybianca/gists{/gist_id}", "starred_url": "https://api.github.com/users/sybianca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sybianca/subscriptions", "organizations_url": "https://api.github.com/users/sybianca/orgs", "repos_url": "https://api.github.com/users/sybianca/repos", "events_url": "https://api.github.com/users/sybianca/events{/privacy}", "received_events_url": "https://api.github.com/users/sybianca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-09T22:02:39Z", "updated_at": "2021-03-09T18:08:10Z", "closed_at": "2021-03-09T18:08:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 639, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_page.py\", line 265, in page_camera\r\n    lib=mod_camera.library)).Camera\r\n  File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 965, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'mycodo.mycodo_flask.camera.camera_fswebcam'", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/879", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/879/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/879/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/879/events", "html_url": "https://github.com/kizniche/Mycodo/issues/879", "id": 741252447, "node_id": "MDU6SXNzdWU3NDEyNTI0NDc=", "number": 879, "title": "Conditional Function - Condition Check Issue", "user": {"login": "not5", "id": 43415025, "node_id": "MDQ6VXNlcjQzNDE1MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/43415025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/not5", "html_url": "https://github.com/not5", "followers_url": "https://api.github.com/users/not5/followers", "following_url": "https://api.github.com/users/not5/following{/other_user}", "gists_url": "https://api.github.com/users/not5/gists{/gist_id}", "starred_url": "https://api.github.com/users/not5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/not5/subscriptions", "organizations_url": "https://api.github.com/users/not5/orgs", "repos_url": "https://api.github.com/users/not5/repos", "events_url": "https://api.github.com/users/not5/events{/privacy}", "received_events_url": "https://api.github.com/users/not5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-12T03:44:12Z", "updated_at": "2021-03-09T18:08:17Z", "closed_at": "2021-03-09T18:08:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "# Describe the problem/bug\r\n\r\nRunning a conditional Function that checks if a gpio pin is on or off is returning an error after upgrading to 8.8.8. It was working previous to upgrade. Can't remember what I upgraded from but wasn't too old.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: 8.8.8\r\n - Raspberry Pi Version: 3b\r\n - Raspbian OS Version: Buster desktop\r\n\r\n### Debug\r\n\r\nERROR - mycodo.outputs.on_off_gpio_1208fb4a - Status check error: 'db4b7106-57b2-4eae-becb-6793c339bfb4'\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/876", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/876/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/876/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/876/events", "html_url": "https://github.com/kizniche/Mycodo/issues/876", "id": 739142776, "node_id": "MDU6SXNzdWU3MzkxNDI3NzY=", "number": 876, "title": "Update Autotune PID Function to use output channels", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-09T15:49:22Z", "updated_at": "2020-11-10T04:21:20Z", "closed_at": "2020-11-10T04:21:20Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Fix inability of Autotune PID Function to select channels of multi-channel outputs.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/869", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/869/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/869/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/869/events", "html_url": "https://github.com/kizniche/Mycodo/issues/869", "id": 724808694, "node_id": "MDU6SXNzdWU3MjQ4MDg2OTQ=", "number": 869, "title": "Flask - Upgrade Page Issue", "user": {"login": "not5", "id": 43415025, "node_id": "MDQ6VXNlcjQzNDE1MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/43415025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/not5", "html_url": "https://github.com/not5", "followers_url": "https://api.github.com/users/not5/followers", "following_url": "https://api.github.com/users/not5/following{/other_user}", "gists_url": "https://api.github.com/users/not5/gists{/gist_id}", "starred_url": "https://api.github.com/users/not5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/not5/subscriptions", "organizations_url": "https://api.github.com/users/not5/orgs", "repos_url": "https://api.github.com/users/not5/repos", "events_url": "https://api.github.com/users/not5/events{/privacy}", "received_events_url": "https://api.github.com/users/not5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-19T17:11:53Z", "updated_at": "2020-10-27T22:31:49Z", "closed_at": "2020-10-27T22:31:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Recently I've been getting an issue (using a couple different mycodo versions) when trying to load the upgrade page through the web interface. Not a huge deal since I can upgrade through the upgrade commands script, but thought it might be helpful:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_restx/api.py\", line 639, in error_router\r\n    return original_handler(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_login/utils.py\", line 272, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_admin.py\", line 423, in admin_upgrade\r\n    is_internet=False)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 140, in render_template\r\n    ctx.app,\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/templating.py\", line 120, in _render\r\n    rv = template.render(context)\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 1090, in render\r\n    self.environment.handle_exception()\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 832, in handle_exception\r\n    reraise(*rewrite_traceback_stack(source=source))\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/_compat.py\", line 28, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/admin/upgrade.html\", line 2, in top-level template code\r\n    {% set active_page = \"upgrade\" %}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/layout.html\", line 325, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/templates/admin/upgrade.html\", line 52, in block \"body\"\r\n    {% elif current_latest_major_version != current_release.split('.')[0] and\r\n  File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/environment.py\", line 471, in getattr\r\n    return getattr(obj, attribute)\r\njinja2.exceptions.UndefinedError: 'current_release' is undefined\r\n```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/869/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/868", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/868/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/868/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/868/events", "html_url": "https://github.com/kizniche/Mycodo/issues/868", "id": 724062892, "node_id": "MDU6SXNzdWU3MjQwNjI4OTI=", "number": 868, "title": "Input can't save new values", "user": {"login": "gtnorman", "id": 11744544, "node_id": "MDQ6VXNlcjExNzQ0NTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/11744544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtnorman", "html_url": "https://github.com/gtnorman", "followers_url": "https://api.github.com/users/gtnorman/followers", "following_url": "https://api.github.com/users/gtnorman/following{/other_user}", "gists_url": "https://api.github.com/users/gtnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtnorman/subscriptions", "organizations_url": "https://api.github.com/users/gtnorman/orgs", "repos_url": "https://api.github.com/users/gtnorman/repos", "events_url": "https://api.github.com/users/gtnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/gtnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-10-18T18:02:05Z", "updated_at": "2020-10-27T22:32:07Z", "closed_at": "2020-10-27T22:32:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please DO NOT OPEN AN ISSUE:\r\n\r\n - If your Mycodo version is not the latest release version, please update your device before submitting your issue (unless your issue is related to not being able to upgrade). Your problem might already be solved.\r\n - If your issue has been addressed before (i.e., duplicated issue), please ask in the original issue.\r\n\r\nPlease complete as many of the sections below, if applicable, to provide the most information that may help with investigating your issue. The details requested potentially affect which options to pursue. The small amount of time you spend completing the template will also help those providing assistance by reducing the time required to help you.\r\n\r\n### Describe the problem/bug\r\n\r\nA clear and concise description of what you were trying to do and what the problem/bug is.\r\n\r\n### Versions:\r\n\r\n - Mycodo Version: [e.g. 8.0.3]\r\n - Raspberry Pi Version: [e.g. 3B+]\r\n - Raspbian OS Version: [e.g. Buster Lite]\r\n\r\n### Reproducibility\r\n\r\nPlease list specific setup details that are involved and the steps to reproduce the behavior:\r\n\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n### Expected behavior\r\n\r\nA clear and concise description of what you expected to happen.\r\n\r\n### Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n### Additional context\r\n\r\nIs there anything that should be added to make it easier to address this issue?\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/868/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/865", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/865/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/865/events", "html_url": "https://github.com/kizniche/Mycodo/issues/865", "id": 718836077, "node_id": "MDU6SXNzdWU3MTg4MzYwNzc=", "number": 865, "title": "Trigger: timer does not work with PWM-output", "user": {"login": "grux77", "id": 55245846, "node_id": "MDQ6VXNlcjU1MjQ1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/55245846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grux77", "html_url": "https://github.com/grux77", "followers_url": "https://api.github.com/users/grux77/followers", "following_url": "https://api.github.com/users/grux77/following{/other_user}", "gists_url": "https://api.github.com/users/grux77/gists{/gist_id}", "starred_url": "https://api.github.com/users/grux77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grux77/subscriptions", "organizations_url": "https://api.github.com/users/grux77/orgs", "repos_url": "https://api.github.com/users/grux77/repos", "events_url": "https://api.github.com/users/grux77/events{/privacy}", "received_events_url": "https://api.github.com/users/grux77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-11T13:26:36Z", "updated_at": "2020-10-29T16:14:52Z", "closed_at": "2020-10-27T22:35:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Linux RPi4 5.4.51-v7l+\r\nMycodo Version: 8.8.6\r\nPython Version: 3.7.3 (default, Jul 25 2020, 13:03:44) [GCC 8.3.0]\r\nDatabase Version: 0e150fb8020b\r\nDaemon RAM Usage: 53.58 MB\r\nFrontend RAM Usage: 54.272 MB\r\n\r\nI upgraded mycodo from 8.5.8 to 8.8.6. I use the Trigger: timer to switch the LED lighting in the aquarium. Everything works like before, only the triggers don't want to switch the PWM output.\r\nNo matter if daily span or duration. When I switch the PWM output manually, the LEDs light up.\r\nThe trigger switches ON/Off GPIO-output without any problems. It looks like the trigger doesn't like PWM outputs.\r\nDebug log does not show any errors. Hardware is ok. I have the error on two pi boards.\r\nI have already tried several PWM-hardware-pins and also Software-PWM-Pins: \r\nmanually everything is ok but the trigger timer does not switch.\r\nDoes anyone else have the problem or do I have to make additional settings in 8.8.6? \r\nI've already reinstalled everything - without success.\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/863", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/863/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/863/events", "html_url": "https://github.com/kizniche/Mycodo/issues/863", "id": 716631445, "node_id": "MDU6SXNzdWU3MTY2MzE0NDU=", "number": 863, "title": "Anyleaf ph, install dependencies", "user": {"login": "MILO-GM", "id": 67365812, "node_id": "MDQ6VXNlcjY3MzY1ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/67365812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MILO-GM", "html_url": "https://github.com/MILO-GM", "followers_url": "https://api.github.com/users/MILO-GM/followers", "following_url": "https://api.github.com/users/MILO-GM/following{/other_user}", "gists_url": "https://api.github.com/users/MILO-GM/gists{/gist_id}", "starred_url": "https://api.github.com/users/MILO-GM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MILO-GM/subscriptions", "organizations_url": "https://api.github.com/users/MILO-GM/orgs", "repos_url": "https://api.github.com/users/MILO-GM/repos", "events_url": "https://api.github.com/users/MILO-GM/events{/privacy}", "received_events_url": "https://api.github.com/users/MILO-GM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2709211277, "node_id": "MDU6TGFiZWwyNzA5MjExMjc3", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Fixed%20and%20Committed", "name": "Fixed and Committed", "color": "0E8A16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2020-10-07T15:25:27Z", "updated_at": "2021-04-24T18:23:08Z", "closed_at": "2021-04-24T18:23:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem/bug\r\n\r\nTry to install the following  dependencies : \"anyleaf \"and \"adafruit_extended_bus\"\r\n\r\n### Versions:\r\n\r\n - Mycodo Version:  8.8.5\r\n - Raspberry Pi Version: zero\\4B\r\n - Raspbian OS Version: RASPBIAN LITE\r\n\r\n\r\nHi, first of all I want to thank you for this wonderful software!\r\nI tried to install dependencies for \"anyleaf ph\" with no success in a raspberry ZERO W and 4B.\r\nBelow I send the report\r\n\r\n```\r\n[2020-10-07 08:36:14] Dependency installation beginning. Installing: anyleaf,adafruit_extended_bus\r\n[2020-10-07 08:36:14] \r\n[2020-10-07 08:36:14] #### Installing/updating anyleaf (pip-pypi)\r\n[2020-10-07 08:36:16] Collecting anyleaf\r\n[2020-10-07 08:36:16]   Using cached anyleaf-0.1.8.1-py3-none-any.whl (6.7 kB)\r\n[2020-10-07 08:36:16] Collecting adafruit-circuitpython-max31865>=2.2.3\r\n[2020-10-07 08:36:16]   Using cached adafruit-circuitpython-max31865-2.2.4.tar.gz (20 kB)\r\n[2020-10-07 08:36:20] Collecting adafruit-circuitpython-ads1x15>=2.2.2\r\n[2020-10-07 08:36:20]   Using cached adafruit-circuitpython-ads1x15-2.2.3.tar.gz (23 kB)\r\n[2020-10-07 08:36:23] Collecting filterpy>=1.4.5\r\n[2020-10-07 08:36:23]   Using cached filterpy-1.4.5.zip (177 kB)\r\n[2020-10-07 08:36:25] Collecting Adafruit-Blinka\r\n[2020-10-07 08:36:26]   Downloading Adafruit-Blinka-5.5.0.tar.gz (109 kB)\r\n[2020-10-07 08:36:31] Collecting adafruit-circuitpython-busdevice\r\n[2020-10-07 08:36:31]   Using cached adafruit-circuitpython-busdevice-5.0.1.tar.gz (22 kB)\r\n[2020-10-07 08:36:34] Requirement already satisfied, skipping upgrade: numpy in /usr/lib/python3/dist-packages (from filterpy>=1.4.5->anyleaf) (1.16.2)\r\n[2020-10-07 08:36:34] Requirement already satisfied, skipping upgrade: scipy in /usr/lib/python3/dist-packages (from filterpy>=1.4.5->anyleaf) (1.1.0)\r\n[2020-10-07 08:36:35] Collecting matplotlib\r\n[2020-10-07 08:36:35]   Using cached matplotlib-3.3.2.tar.gz (37.9 MB)\r\n[2020-10-07 08:36:57] Collecting Adafruit-PlatformDetect>=2.18.0\r\n[2020-10-07 08:36:57]   Downloading Adafruit-PlatformDetect-2.18.0.tar.gz (28 kB)\r\n[2020-10-07 08:37:01] Collecting Adafruit-PureIO>=1.1.6\r\n[2020-10-07 08:37:01]   Using cached Adafruit_PureIO-1.1.6.tar.gz (26 kB)\r\n[2020-10-07 08:37:04] Collecting pyftdi>=0.40.0\r\n[2020-10-07 08:37:04]   Using cached pyftdi-0.52.0-py3-none-any.whl (150 kB)\r\n[2020-10-07 08:37:05] Collecting certifi>=2020.06.20\r\n[2020-10-07 08:37:05]   Using cached certifi-2020.6.20-py2.py3-none-any.whl (156 kB)\r\n[2020-10-07 08:37:05] Collecting cycler>=0.10\r\n[2020-10-07 08:37:05]   Using cached cycler-0.10.0-py2.py3-none-any.whl (6.5 kB)\r\n[2020-10-07 08:37:05] Collecting kiwisolver>=1.0.1\r\n[2020-10-07 08:37:05]   Using cached kiwisolver-1.2.0.tar.gz (52 kB)\r\n[2020-10-07 08:37:09] Collecting pillow>=6.2.0\r\n[2020-10-07 08:37:10]   Using cached Pillow-7.2.0.tar.gz (39.1 MB)\r\n[2020-10-07 08:37:22] Requirement already satisfied, skipping upgrade: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in ./env/lib/python3.7/site-packages (from matplotlib->filterpy>=1.4.5->anyleaf) (2.4.7)\r\n[2020-10-07 08:37:22] Requirement already satisfied, skipping upgrade: python-dateutil>=2.1 in ./env/lib/python3.7/site-packages (from matplotlib->filterpy>=1.4.5->anyleaf) (2.8.1)\r\n[2020-10-07 08:37:24] Collecting pyusb>=1.0.0\r\n[2020-10-07 08:37:24]   Using cached pyusb-1.1.0.tar.gz (78 kB)\r\n[2020-10-07 08:37:24]   Installing build dependencies: started\r\n[2020-10-07 08:37:25]   Installing build dependencies: finished with status 'error'\r\n[2020-10-07 08:37:25]   ERROR: Command errored out with exit status 1:\r\n[2020-10-07 08:37:25]    command: /home/pi/Mycodo/env/bin/python /home/pi/Mycodo/env/lib/python3.7/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-x_xkviu5/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'setuptools>=30.3.0' wheel setuptools_scm\r\n[2020-10-07 08:37:25]        cwd: None\r\n[2020-10-07 08:37:25]   Complete output (42 lines):\r\n[2020-10-07 08:37:25]   Traceback (most recent call last):\r\n[2020-10-07 08:37:25]     File \"/usr/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n[2020-10-07 08:37:25]       \"__main__\", mod_spec)\r\n[2020-10-07 08:37:25]     File \"/usr/lib/python3.7/runpy.py\", line 85, in _run_code\r\n[2020-10-07 08:37:25]       exec(code, run_globals)\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/__main__.py\", line 26, in <module>\r\n[2020-10-07 08:37:25]       sys.exit(_main())\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/cli/main.py\", line 73, in main\r\n[2020-10-07 08:37:25]       command = create_command(cmd_name, isolated=(\"--isolated\" in cmd_args))\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/commands/__init__.py\", line 104, in create_command\r\n[2020-10-07 08:37:25]       module = importlib.import_module(module_path)\r\n[2020-10-07 08:37:25]     File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n[2020-10-07 08:37:25]       return _bootstrap._gcd_import(name[level:], package, level)\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n[2020-10-07 08:37:25]     File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 17, in <module>\r\n[2020-10-07 08:37:25]       from pip._internal.cli.req_command import RequirementCommand, with_cleanup\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/cli/req_command.py\", line 16, in <module>\r\n[2020-10-07 08:37:25]       from pip._internal.index.collector import LinkCollector\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/index/collector.py\", line 14, in <module>\r\n[2020-10-07 08:37:25]       from pip._vendor import html5lib, requests\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/__init__.py\", line 125, in <module>\r\n[2020-10-07 08:37:25]       from . import utils\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/utils.py\", line 25, in <module>\r\n[2020-10-07 08:37:25]       from . import certs\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/certs.py\", line 15, in <module>\r\n[2020-10-07 08:37:25]       from pip._vendor.certifi import where\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/certifi/__init__.py\", line 1, in <module>\r\n[2020-10-07 08:37:25]       from .core import contents, where\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/certifi/core.py\", line 12, in <module>\r\n[2020-10-07 08:37:25]       from importlib.resources import path as get_path, read_text\r\n[2020-10-07 08:37:25]     File \"/usr/lib/python3.7/importlib/resources.py\", line 11, in <module>\r\n[2020-10-07 08:37:25]       from typing import Iterable, Iterator, Optional, Set, Union   # noqa: F401\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/typing.py\", line 1359, in <module>\r\n[2020-10-07 08:37:25]       class Callable(extra=collections_abc.Callable, metaclass=CallableMeta):\r\n[2020-10-07 08:37:25]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/typing.py\", line 1007, in __new__\r\n[2020-10-07 08:37:25]       self._abc_registry = extra._abc_registry\r\n[2020-10-07 08:37:25]   AttributeError: type object 'Callable' has no attribute '_abc_registry'\r\n[2020-10-07 08:37:25]   ----------------------------------------\r\n[2020-10-07 08:37:25] ERROR: Command errored out with exit status 1: /home/pi/Mycodo/env/bin/python /home/pi/Mycodo/env/lib/python3.7/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-x_xkviu5/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'setuptools>=30.3.0' wheel setuptools_scm Check the logs for full command output.\r\n\r\n[2020-10-07 08:37:26] End install of anyleaf\r\n\r\n[2020-10-07 08:37:26] \r\n[2020-10-07 08:37:26] #### Installing/updating Adafruit_Extended_Bus (pip-pypi)\r\n[2020-10-07 08:37:27] Collecting Adafruit_Extended_Bus\r\n[2020-10-07 08:37:27]   Using cached adafruit-extended-bus-1.0.0.tar.gz (18 kB)\r\n[2020-10-07 08:37:31] Collecting Adafruit-Blinka\r\n[2020-10-07 08:37:31]   Using cached Adafruit-Blinka-5.5.0.tar.gz (109 kB)\r\n[2020-10-07 08:37:34] Collecting Adafruit-PlatformDetect>=2.18.0\r\n[2020-10-07 08:37:34]   Using cached Adafruit-PlatformDetect-2.18.0.tar.gz (28 kB)\r\n[2020-10-07 08:37:38] Collecting Adafruit-PureIO>=1.1.6\r\n[2020-10-07 08:37:38]   Using cached Adafruit_PureIO-1.1.6.tar.gz (26 kB)\r\n[2020-10-07 08:37:41] Collecting pyftdi>=0.40.0\r\n[2020-10-07 08:37:41]   Using cached pyftdi-0.52.0-py3-none-any.whl (150 kB)\r\n[2020-10-07 08:37:41] Collecting pyusb>=1.0.0\r\n[2020-10-07 08:37:41]   Using cached pyusb-1.1.0.tar.gz (78 kB)\r\n[2020-10-07 08:37:41]   Installing build dependencies: started\r\n[2020-10-07 08:37:42]   Installing build dependencies: finished with status 'error'\r\n[2020-10-07 08:37:42]   ERROR: Command errored out with exit status 1:\r\n[2020-10-07 08:37:42]    command: /home/pi/Mycodo/env/bin/python /home/pi/Mycodo/env/lib/python3.7/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-5vhs07ku/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'setuptools>=30.3.0' wheel setuptools_scm\r\n[2020-10-07 08:37:42]        cwd: None\r\n[2020-10-07 08:37:42]   Complete output (42 lines):\r\n[2020-10-07 08:37:42]   Traceback (most recent call last):\r\n[2020-10-07 08:37:42]     File \"/usr/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n[2020-10-07 08:37:42]       \"__main__\", mod_spec)\r\n[2020-10-07 08:37:42]     File \"/usr/lib/python3.7/runpy.py\", line 85, in _run_code\r\n[2020-10-07 08:37:42]       exec(code, run_globals)\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/__main__.py\", line 26, in <module>\r\n[2020-10-07 08:37:42]       sys.exit(_main())\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/cli/main.py\", line 73, in main\r\n[2020-10-07 08:37:42]       command = create_command(cmd_name, isolated=(\"--isolated\" in cmd_args))\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/commands/__init__.py\", line 104, in create_command\r\n[2020-10-07 08:37:42]       module = importlib.import_module(module_path)\r\n[2020-10-07 08:37:42]     File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n[2020-10-07 08:37:42]       return _bootstrap._gcd_import(name[level:], package, level)\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n[2020-10-07 08:37:42]     File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 17, in <module>\r\n[2020-10-07 08:37:42]       from pip._internal.cli.req_command import RequirementCommand, with_cleanup\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/cli/req_command.py\", line 16, in <module>\r\n[2020-10-07 08:37:42]       from pip._internal.index.collector import LinkCollector\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_internal/index/collector.py\", line 14, in <module>\r\n[2020-10-07 08:37:42]       from pip._vendor import html5lib, requests\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/__init__.py\", line 125, in <module>\r\n[2020-10-07 08:37:42]       from . import utils\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/utils.py\", line 25, in <module>\r\n[2020-10-07 08:37:42]       from . import certs\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/requests/certs.py\", line 15, in <module>\r\n[2020-10-07 08:37:42]       from pip._vendor.certifi import where\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/certifi/__init__.py\", line 1, in <module>\r\n[2020-10-07 08:37:42]       from .core import contents, where\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/pip/_vendor/certifi/core.py\", line 12, in <module>\r\n[2020-10-07 08:37:42]       from importlib.resources import path as get_path, read_text\r\n[2020-10-07 08:37:42]     File \"/usr/lib/python3.7/importlib/resources.py\", line 11, in <module>\r\n[2020-10-07 08:37:42]       from typing import Iterable, Iterator, Optional, Set, Union   # noqa: F401\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/typing.py\", line 1359, in <module>\r\n[2020-10-07 08:37:42]       class Callable(extra=collections_abc.Callable, metaclass=CallableMeta):\r\n[2020-10-07 08:37:42]     File \"/home/pi/Mycodo/env/lib/python3.7/site-packages/typing.py\", line 1007, in __new__\r\n[2020-10-07 08:37:42]       self._abc_registry = extra._abc_registry\r\n[2020-10-07 08:37:42]   AttributeError: type object 'Callable' has no attribute '_abc_registry'\r\n[2020-10-07 08:37:42]   ----------------------------------------\r\n[2020-10-07 08:37:42] ERROR: Command errored out with exit status 1: /home/pi/Mycodo/env/bin/python /home/pi/Mycodo/env/lib/python3.7/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-5vhs07ku/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'setuptools>=30.3.0' wheel setuptools_scm Check the logs for full command output.\r\n\r\n[2020-10-07 08:37:43] End install of adafruit_extended_bus\r\n\r\n[2020-10-07 08:37:43] \r\n[2020-10-07 08:37:43] #### Setting permissions\r\n\r\n[2020-10-07 08:37:43] #### All Dependencies have been installed\r\n```\r\n\r\nThank you for your help!\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/863/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/788", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/788/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/788/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/788/events", "html_url": "https://github.com/kizniche/Mycodo/issues/788", "id": 657443010, "node_id": "MDU6SXNzdWU2NTc0NDMwMTA=", "number": 788, "title": "Input I2C address not selectable when list of addresses specified in Input Module", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-15T15:27:52Z", "updated_at": "2020-07-23T01:36:26Z", "closed_at": "2020-07-23T01:36:26Z", "author_association": "OWNER", "active_lock_reason": null, "body": "v8.5.8\n\nWhen a list of I2C addresses are specified in the Input Module, only the first is available. May be related to the option 'i2c_address_editable': False\n\nSee: https://github.com/kizniche/Mycodo/blob/868a836e96ff793f7e46058c785fe9d9f47fd3dd/mycodo/inputs/ads1x15.py#L61\n\nRef: https://kylegabriel.com/forum/general-discussion/ads1x15-ads1115-module-cant-set-address-other-than-0x48-in-mycodo-but-hardware-supports-multiple-addresses", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/742", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/742/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/742/events", "html_url": "https://github.com/kizniche/Mycodo/issues/742", "id": 561920484, "node_id": "MDU6SXNzdWU1NjE5MjA0ODQ=", "number": 742, "title": "Werkzeug 1.0.0 breaks flask libraries", "user": {"login": "tomres", "id": 43174504, "node_id": "MDQ6VXNlcjQzMTc0NTA0", "avatar_url": "https://avatars.githubusercontent.com/u/43174504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomres", "html_url": "https://github.com/tomres", "followers_url": "https://api.github.com/users/tomres/followers", "following_url": "https://api.github.com/users/tomres/following{/other_user}", "gists_url": "https://api.github.com/users/tomres/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomres/subscriptions", "organizations_url": "https://api.github.com/users/tomres/orgs", "repos_url": "https://api.github.com/users/tomres/repos", "events_url": "https://api.github.com/users/tomres/events{/privacy}", "received_events_url": "https://api.github.com/users/tomres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1085504915, "node_id": "MDU6TGFiZWwxMDg1NTA0OTE1", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Working%20On", "name": "Working On", "color": "f7adbd", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-02-07T23:18:57Z", "updated_at": "2020-06-01T20:54:56Z", "closed_at": "2020-06-01T20:54:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempted to install Mycodo on a clean install of raspbian buster lite (February 2020 version). Message says mycodo installed successfully but I get an error 502 when trying to access the web interface. \r\n\r\nhere's my setup log\r\n[setup.log](https://github.com/kizniche/Mycodo/files/4173298/setup.log)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/724", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/724/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/724/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/724/events", "html_url": "https://github.com/kizniche/Mycodo/issues/724", "id": 541394888, "node_id": "MDU6SXNzdWU1NDEzOTQ4ODg=", "number": 724, "title": "Tables dark when using dark theme", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-22T01:42:44Z", "updated_at": "2019-12-22T06:07:11Z", "closed_at": "2019-12-22T06:07:11Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Problem: Dark text color matches the dark background.\r\n\r\nSolution: Make text lighter.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/724/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/708", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/708/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/708/events", "html_url": "https://github.com/kizniche/Mycodo/issues/708", "id": 516080126, "node_id": "MDU6SXNzdWU1MTYwODAxMjY=", "number": 708, "title": "No translation possible", "user": {"login": "grux77", "id": 55245846, "node_id": "MDQ6VXNlcjU1MjQ1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/55245846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grux77", "html_url": "https://github.com/grux77", "followers_url": "https://api.github.com/users/grux77/followers", "following_url": "https://api.github.com/users/grux77/following{/other_user}", "gists_url": "https://api.github.com/users/grux77/gists{/gist_id}", "starred_url": "https://api.github.com/users/grux77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grux77/subscriptions", "organizations_url": "https://api.github.com/users/grux77/orgs", "repos_url": "https://api.github.com/users/grux77/repos", "events_url": "https://api.github.com/users/grux77/events{/privacy}", "received_events_url": "https://api.github.com/users/grux77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2019-11-01T12:23:02Z", "updated_at": "2019-11-03T21:26:24Z", "closed_at": "2019-11-03T21:26:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hallo!\r\nSince some upgrades, I can no longer change Web Interface to any other language. I even reinstalled mycodo without success. I think in 7.7.9 the translation still works. Then I immediately upgraded to 7.8.4 and it did not work anymore. In 7.9.1 neither. Only Chinese, Serbian, Swedish and Norwegian are working.\r\nRPi3 B\r\nRaspbian buster lite\r\n\r\nAnd if it works again you should update the /home/pi/Mycodo/mycodo/mycodo_flask/translations/....../LC_MESSAGES/messages.po  files. There are now many new terms without translation in the WebUI. Is this also possible with Notepad ++? Then I could update German.\r\n\r\nPS: And while you're at it: could you look at my log file. After reinstalling (Raspbian+Mycodo), I can not generate more PWM on any pin.\r\n![Unbenannt](https://user-images.githubusercontent.com/55245846/68033187-7d246100-fcbf-11e9-8213-1d927f43dfc4.JPG)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/702", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/702/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/702/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/702/events", "html_url": "https://github.com/kizniche/Mycodo/issues/702", "id": 509295250, "node_id": "MDU6SXNzdWU1MDkyOTUyNTA=", "number": 702, "title": "Cursor offset from mouse position", "user": {"login": "chitters2004", "id": 55252868, "node_id": "MDQ6VXNlcjU1MjUyODY4", "avatar_url": "https://avatars.githubusercontent.com/u/55252868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chitters2004", "html_url": "https://github.com/chitters2004", "followers_url": "https://api.github.com/users/chitters2004/followers", "following_url": "https://api.github.com/users/chitters2004/following{/other_user}", "gists_url": "https://api.github.com/users/chitters2004/gists{/gist_id}", "starred_url": "https://api.github.com/users/chitters2004/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chitters2004/subscriptions", "organizations_url": "https://api.github.com/users/chitters2004/orgs", "repos_url": "https://api.github.com/users/chitters2004/repos", "events_url": "https://api.github.com/users/chitters2004/events{/privacy}", "received_events_url": "https://api.github.com/users/chitters2004/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-10-18T20:28:43Z", "updated_at": "2020-01-13T05:27:46Z", "closed_at": "2020-01-13T05:27:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 7.8.2\r\n\r\n#### Problem Description\r\n\r\n  When I click where the red X is, the cursor appears where it is shown (about character spaces to the right). This is on every field in mycodo.\r\n\r\n![Untitled](https://user-images.githubusercontent.com/55252868/67126098-35490880-f1ee-11e9-936a-8666f94ade0c.png)\r\n\r\n \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/679", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/679/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/679/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/679/events", "html_url": "https://github.com/kizniche/Mycodo/issues/679", "id": 481191261, "node_id": "MDU6SXNzdWU0ODExOTEyNjE=", "number": 679, "title": "RPyC AsyncResultTimeout(\"result expired\") issue", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-15T14:56:56Z", "updated_at": "2019-09-11T21:32:18Z", "closed_at": "2019-09-11T21:32:18Z", "author_association": "OWNER", "active_lock_reason": null, "body": "As a result of this issue that I have not been able to fix, nor have I been able to find others with similar issues that managed to solve the issue, I'm going to explore the use of RPyC alternatives to handle remote procedure calls. This issue will track my progress with commits and notes.\r\n\r\nIssues affected by this: #671", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/672", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/672/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/672/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/672/events", "html_url": "https://github.com/kizniche/Mycodo/issues/672", "id": 472631399, "node_id": "MDU6SXNzdWU0NzI2MzEzOTk=", "number": 672, "title": "Sunrise/Sunset Trigger has sunset at the day prior (won't trigger)", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-25T02:19:23Z", "updated_at": "2019-08-17T00:45:31Z", "closed_at": "2019-08-17T00:45:31Z", "author_association": "OWNER", "active_lock_reason": null, "body": "As it is always the day prior, it will never arrive, and hence, never trigger the actions. A check needs to be made to ensure both sunrise and sunset are set to occur on the current day.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/671", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/671/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/671/events", "html_url": "https://github.com/kizniche/Mycodo/issues/671", "id": 469660463, "node_id": "MDU6SXNzdWU0Njk2NjA0NjM=", "number": 671, "title": "PID controllers get messed up after a while", "user": {"login": "floriske", "id": 43141911, "node_id": "MDQ6VXNlcjQzMTQxOTEx", "avatar_url": "https://avatars.githubusercontent.com/u/43141911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/floriske", "html_url": "https://github.com/floriske", "followers_url": "https://api.github.com/users/floriske/followers", "following_url": "https://api.github.com/users/floriske/following{/other_user}", "gists_url": "https://api.github.com/users/floriske/gists{/gist_id}", "starred_url": "https://api.github.com/users/floriske/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/floriske/subscriptions", "organizations_url": "https://api.github.com/users/floriske/orgs", "repos_url": "https://api.github.com/users/floriske/repos", "events_url": "https://api.github.com/users/floriske/events{/privacy}", "received_events_url": "https://api.github.com/users/floriske/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 41, "created_at": "2019-07-18T09:20:05Z", "updated_at": "2019-11-07T10:46:53Z", "closed_at": "2019-11-07T10:46:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 7.5.10\r\n \r\n#### Problem Description\r\nPID issues\r\n \r\n### Errors\r\nOnce in a while I have to restart the Mycodo backend because my PID controllers get messed up\r\n\r\n### Steps to Reproduce the issue:\r\nI can't reproduce it in a specific way, it just happens once in a while.\r\nAfter rebooting the backend it starts running properly again.\r\n\r\nScreenshot:\r\n![PID issues](https://user-images.githubusercontent.com/43141911/61443420-ba9bf300-a949-11e9-946f-0bb6fc32374f.jpg)\r\n\r\nYou can clearly see the strange behaviour before rebooting the backend (just after 9.30) and correct behaviour afterwards\r\n\r\np.s. I don't know if this info is relevant for the issues but have 5 PID controllers in total:\r\n\r\nCooling (Fridge)\r\nHeating (Heater, seperate from cooling because it needs very different settings)\r\nRV- 1 (Cooling to lower humidity)\r\nRV -2 (Dehumidifier to lower humidity)\r\nRV+ (Humidifier, seperate from both RV- because it needs very different settings)\r\n\r\nI use both the dehumidifier as well as the fridge for lowering RV because it produces an overall better result.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/670", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/670/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/670/events", "html_url": "https://github.com/kizniche/Mycodo/issues/670", "id": 465988567, "node_id": "MDU6SXNzdWU0NjU5ODg1Njc=", "number": 670, "title": "TH10 w/ AM2301. Mycodo reporting C as F", "user": {"login": "toposwope", "id": 52720838, "node_id": "MDQ6VXNlcjUyNzIwODM4", "avatar_url": "https://avatars.githubusercontent.com/u/52720838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toposwope", "html_url": "https://github.com/toposwope", "followers_url": "https://api.github.com/users/toposwope/followers", "following_url": "https://api.github.com/users/toposwope/following{/other_user}", "gists_url": "https://api.github.com/users/toposwope/gists{/gist_id}", "starred_url": "https://api.github.com/users/toposwope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toposwope/subscriptions", "organizations_url": "https://api.github.com/users/toposwope/orgs", "repos_url": "https://api.github.com/users/toposwope/repos", "events_url": "https://api.github.com/users/toposwope/events{/privacy}", "received_events_url": "https://api.github.com/users/toposwope/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 49, "created_at": "2019-07-09T21:16:18Z", "updated_at": "2019-07-17T11:09:17Z", "closed_at": "2019-07-17T11:09:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version:\r\n\r\nMycodo Version: 7.5.10 \r\nPython Version: 3.5.3 (default, Sep 27 2018, 17:25:39) [GCC 6.3.0 20170516] \r\nDatabase Version: 6333b0832b3d\r\nDaemon Status: Running \r\nDaemon Process ID: 759 \r\nDaemon RAM Usage: 68.756 MB \r\nDaemon Virtualenv: Yes \r\nFrontend RAM Usage: 53.084 MB \r\nFrontend Virtualenv: Yes\r\n \r\n#### Problem Description\r\n\r\nTH10 + AM2301 with Tasmota 6.6.0. Mycodo reports humidity correctly but displays incorrect data for Temperature. When set to read C and Do Not Convert it lists the C temp much lower than actual. When Input set to Convert to Fahrenheit, it lists the correct temperature in Celcius but displays it as Fahrenheit.\r\n\r\n\r\n \r\n### Errors\r\n  - List any errors you encountered.\r\n  - Copy and pasting crash logs, or link to any specific\r\ncode lines you've isolated (please use GitHub permalinks for this)\r\n\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. Add TH10 w/ AM2301 w/ Tasmota as input\r\n 2. Live data lists incorrect C temperature\r\n 3. Set input to Convert to Fahrenheit\r\n4. Live data displays correct C but displayed as F\r\n \r\n### Additional Notes\r\nImages attached. Thanks for the great product!\r\n![1  Sonoff TH module](https://user-images.githubusercontent.com/52720838/60923573-89387d00-a2e2-11e9-83ac-5b2ac3c57274.JPG)\r\n![2  Mycodo showing incorrect C](https://user-images.githubusercontent.com/52720838/60923574-89387d00-a2e2-11e9-94ea-69cea1bed195.JPG)\r\n![3  Convert to F setting](https://user-images.githubusercontent.com/52720838/60923575-89387d00-a2e2-11e9-8f9e-e7e9fc970ecf.JPG)\r\n![4  Mycodo showing correct C as F](https://user-images.githubusercontent.com/52720838/60923577-89d11380-a2e2-11e9-88d8-8c005481b4e3.JPG)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/667", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/667/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/667/events", "html_url": "https://github.com/kizniche/Mycodo/issues/667", "id": 457798671, "node_id": "MDU6SXNzdWU0NTc3OTg2NzE=", "number": 667, "title": "get-measurement; how to case text to decimal for display on dashboard", "user": {"login": "SAM26K", "id": 22091149, "node_id": "MDQ6VXNlcjIyMDkxMTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/22091149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SAM26K", "html_url": "https://github.com/SAM26K", "followers_url": "https://api.github.com/users/SAM26K/followers", "following_url": "https://api.github.com/users/SAM26K/following{/other_user}", "gists_url": "https://api.github.com/users/SAM26K/gists{/gist_id}", "starred_url": "https://api.github.com/users/SAM26K/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SAM26K/subscriptions", "organizations_url": "https://api.github.com/users/SAM26K/orgs", "repos_url": "https://api.github.com/users/SAM26K/repos", "events_url": "https://api.github.com/users/SAM26K/events{/privacy}", "received_events_url": "https://api.github.com/users/SAM26K/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 98, "created_at": "2019-06-19T04:20:11Z", "updated_at": "2019-07-17T05:25:00Z", "closed_at": "2019-07-17T05:24:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\nMycodo Version: 7.5.10 \r\nPython Version: 3.5.3 (default, Sep 27 2018, 17:25:39) [GCC 6.3.0 20170516] \r\nDatabase Version: 6333b0832b3d\r\nDaemon Status: Running \r\nDaemon Process ID: 18204 \r\nDaemon RAM Usage: 92.132 MB \r\nDaemon Virtualenv: Yes \r\nFrontend RAM Usage: 63.18 MB \r\nFrontend Virtualenv: Yes\r\n \r\n#### Problem Description\r\nmycodo_client get-measure:\r\nUnable to cast parsed value to decimal.  Everything produces daemon errors\r\n### Errors\r\n2019-06-18 01:01:23,389 - ERROR - mycodo.inputs.linux_command_b7b32422 - The command returned a non-numerical value. Ensure only one numerical value is returned by the command.\r\n2019-06-18 01:01:52,529 - ERROR - mycodo.inputs.linux_command_b7b32422 - The command returned a non-numerical value. Ensure only one numerical value is returned by the command.\r\n2019-06-18 22:22:04,119 - ERROR - mycodo.controller_input_b7b32422 - StopIteration raised. Possibly could not read input. Ensure it's connected properly and detected.\r\n\r\n### Steps to Reproduce the issue:\r\nExample of bash file that seems to return real values but still   produces errors above:\r\n\r\n```bash\r\n#!/bin/bash\r\nout=$(sshpass -p password ssh mycodo@192.168.1.17 /home/pi/Mycodo/mycodo/mycodo_client.py --get_measurement 64a5f8ec-251a-4146-bd39-e17ae4e88ec2 V 0)\r\n#echo out\r\nif [[ $out == *\"SUCCESS;\"* ]]; then\r\n  #echo \"1\"\r\n    echo ${out:8:8 | bc + 0}\r\n \r\nelse\r\n if [[ $out == *\"ERROR;\"* ]]; then\r\n  echo \"0\"\r\n fi\r\nfi\r\n```\r\n \r\n### Additional Notes\r\nNo way to display values in measurement desktop readout.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/656", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/656/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/656/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/656/events", "html_url": "https://github.com/kizniche/Mycodo/issues/656", "id": 440822571, "node_id": "MDU6SXNzdWU0NDA4MjI1NzE=", "number": 656, "title": "Add Tags to custom color seelction of graphs", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-06T18:17:23Z", "updated_at": "2019-05-15T19:55:30Z", "closed_at": "2019-05-15T19:55:30Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Tags are missing from the graph custom colors option.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/592", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/592/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/592/events", "html_url": "https://github.com/kizniche/Mycodo/issues/592", "id": 395807449, "node_id": "MDU6SXNzdWUzOTU4MDc0NDk=", "number": 592, "title": "Conditional function using feedback from TH16 never changes state.", "user": {"login": "SAM26K", "id": 22091149, "node_id": "MDQ6VXNlcjIyMDkxMTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/22091149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SAM26K", "html_url": "https://github.com/SAM26K", "followers_url": "https://api.github.com/users/SAM26K/followers", "following_url": "https://api.github.com/users/SAM26K/following{/other_user}", "gists_url": "https://api.github.com/users/SAM26K/gists{/gist_id}", "starred_url": "https://api.github.com/users/SAM26K/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SAM26K/subscriptions", "organizations_url": "https://api.github.com/users/SAM26K/orgs", "repos_url": "https://api.github.com/users/SAM26K/repos", "events_url": "https://api.github.com/users/SAM26K/events{/privacy}", "received_events_url": "https://api.github.com/users/SAM26K/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 30, "created_at": "2019-01-04T04:40:03Z", "updated_at": "2019-01-09T13:21:49Z", "closed_at": "2019-01-05T14:47:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 7.03\r\n \r\n#### Problem Description\r\nConditional function using feedback from TH16 never changes state.  Is the output a string or number?\r\nSee screenshots of data input and one of the conditional functions.  Tried with and without the float cast. Neither work.\r\n![datath20](https://user-images.githubusercontent.com/22091149/50674054-a4bf7580-0f97-11e9-8b75-01d8a30ddeb4.jpg)\r\n![funct20](https://user-images.githubusercontent.com/22091149/50674055-a4bf7580-0f97-11e9-87bc-35164e3bbbef.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/586", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/586/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/586/events", "html_url": "https://github.com/kizniche/Mycodo/issues/586", "id": 394261039, "node_id": "MDU6SXNzdWUzOTQyNjEwMzk=", "number": 586, "title": "Cannot activate DS18B20 sensor", "user": {"login": "Magnum-Pl", "id": 10717552, "node_id": "MDQ6VXNlcjEwNzE3NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/10717552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Magnum-Pl", "html_url": "https://github.com/Magnum-Pl", "followers_url": "https://api.github.com/users/Magnum-Pl/followers", "following_url": "https://api.github.com/users/Magnum-Pl/following{/other_user}", "gists_url": "https://api.github.com/users/Magnum-Pl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Magnum-Pl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Magnum-Pl/subscriptions", "organizations_url": "https://api.github.com/users/Magnum-Pl/orgs", "repos_url": "https://api.github.com/users/Magnum-Pl/repos", "events_url": "https://api.github.com/users/Magnum-Pl/events{/privacy}", "received_events_url": "https://api.github.com/users/Magnum-Pl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2018-12-27T00:00:00Z", "updated_at": "2019-01-08T15:55:57Z", "closed_at": "2019-01-08T15:55:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Kyle, \r\n\r\nI'm unable to activate a DS18B20 sensor. After installing the dependency, I'm able to add the sensor and can find the sensor ID in the drop list, but I get an error when trying to activate or deactivate it. If I unplug the sensor, I don't see the ID in the list. I've tried using different sensors and different pins with the same results. \r\n\r\nThe error is get on the data page says this:\r\n\r\n> Error: Could not activate Input controller with ID f388140d-b194-479c-b1b8-b4e0e8ebb387: No DS18B20 temperature sensor with id '28-0517005b0aff' found\r\n\r\nThe log says this:\r\n\r\n> 2018-12-26 16:12:33,062 - mycodo.daemon - ERROR - Could not activate Input controller with ID f388140d-b194-479c-b1b8-b4e0e8ebb387: No DS18B20 temperature sensor with id '28-0517005b0aff' found\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/mycodo_daemon.py\", line 539, in controller_activate\r\n    ready, cont_id)\r\n  File \"/var/mycodo-root/mycodo/controller_input.py\", line 174, in __init__\r\n    self.measure_input = input_loaded.InputModule(self.input_dev)\r\n  File \"/home/pi/Mycodo/mycodo/inputs/ds18b20.py\", line 63, in __init__\r\n    self.location)\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/w1thermsensor/core.py\", line 154, in __init__\r\n    raise NoSensorFoundError(self.type_name, self.id)\r\nw1thermsensor.errors.NoSensorFoundError: No DS18B20 temperature sensor with id '28-0517005b0aff' found", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/582", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/582/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/582/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/582/events", "html_url": "https://github.com/kizniche/Mycodo/issues/582", "id": 392817116, "node_id": "MDU6SXNzdWUzOTI4MTcxMTY=", "number": 582, "title": "Can't detect DS18B20 sensors", "user": {"login": "electricspaceman", "id": 34949113, "node_id": "MDQ6VXNlcjM0OTQ5MTEz", "avatar_url": "https://avatars.githubusercontent.com/u/34949113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/electricspaceman", "html_url": "https://github.com/electricspaceman", "followers_url": "https://api.github.com/users/electricspaceman/followers", "following_url": "https://api.github.com/users/electricspaceman/following{/other_user}", "gists_url": "https://api.github.com/users/electricspaceman/gists{/gist_id}", "starred_url": "https://api.github.com/users/electricspaceman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/electricspaceman/subscriptions", "organizations_url": "https://api.github.com/users/electricspaceman/orgs", "repos_url": "https://api.github.com/users/electricspaceman/repos", "events_url": "https://api.github.com/users/electricspaceman/events{/privacy}", "received_events_url": "https://api.github.com/users/electricspaceman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 41, "created_at": "2018-12-19T23:18:15Z", "updated_at": "2020-11-20T15:36:19Z", "closed_at": "2019-01-23T20:05:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: **6.4.7**\r\n \r\n#### Problem Description\r\nPlease list:\r\n\r\nGoal:\r\n  - Connect temperature DS18B20 sensors\r\n\r\nUsing:\r\n- RaspberryPi3\r\n- [RPI3v2](http://www.sheepwalkelectronics.co.uk/product_info.php?cPath=22&products_id=67) http://www.sheepwalkelectronics.co.uk/RPI3_information.php\r\n- [SWE2+SWE0 Package](http://www.sheepwalkelectronics.co.uk/product_info.php?cPath=23&products_id=57)\r\n\r\n  Error: \r\n\r\nSensors aren't being detected. I think it's because the adapter I'm using (RPI3v2) is using i2c as well as 1WIRE. The maker has helped me to get addresses and temperature readouts using OWFS, is Mycodo compatitble? The hardware is great because it facilitates scaling up a sensor network, just can't seem to get at it. Anything I can do/that can be done?\r\n\r\n[\r\n<img width=\"1347\" alt=\"screenshot 2018-12-19 at 23 11 39\" src=\"https://user-images.githubusercontent.com/34949113/50253948-1d450480-03e4-11e9-903d-0644b4bc38d1.png\">\r\n](url)\r\n \r\n### Additional Notes\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/530", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/530/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/530/events", "html_url": "https://github.com/kizniche/Mycodo/issues/530", "id": 361001689, "node_id": "MDU6SXNzdWUzNjEwMDE2ODk=", "number": 530, "title": "LCD issue with 6.3.x", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-17T19:05:29Z", "updated_at": "2018-09-26T13:31:02Z", "closed_at": "2018-09-26T13:31:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "```\r\n2018-09-17 15:00:32,137 - mycodo.lcd_1a6c68c9 - ERROR - Error: 'unit'\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controller_lcd.py\", line 177, in __init__\r\n    each_lcd_display.line_1_measurement)\r\n  File \"/var/mycodo-root/mycodo/controller_lcd.py\", line 424, in setup_lcd_line\r\n    self.lcd_line[display_id][line]['unit'] = self.list_inputs[pid.measurement.split(',')[1]]['unit']\r\nKeyError: 'unit'\r\n```\r\n\r\nand\r\n\r\n```\r\n2018-09-17 15:00:33,142 - mycodo.lcd_1a6c68c9 - ERROR - Could not initialize LCD. Check your configuration and wiring. Error: 'LCDController' object has no attribute 'bus'\r\n```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/518", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/518/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/518/events", "html_url": "https://github.com/kizniche/Mycodo/issues/518", "id": 353558686, "node_id": "MDU6SXNzdWUzNTM1NTg2ODY=", "number": 518, "title": "DS18B20 calibration errors", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-23T21:22:55Z", "updated_at": "2018-08-24T13:05:23Z", "closed_at": "2018-08-24T13:05:23Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Calibration page -> select DS18B20", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/518/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/517", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/517/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/517/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/517/events", "html_url": "https://github.com/kizniche/Mycodo/issues/517", "id": 353552823, "node_id": "MDU6SXNzdWUzNTM1NTI4MjM=", "number": 517, "title": "Dashboard PWM output element not changing to green (active) when duty cycle greater than 0%", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-23T21:04:25Z", "updated_at": "2018-08-23T23:30:11Z", "closed_at": "2018-08-23T23:30:11Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 6.2.2\r\n \r\n#### Problem Description\r\nPlease list steps:\r\n\r\n  - Add PWM Output\r\n  - Add PWM output dashboard element\r\n  - Activate PWM output (duty cycle > 0%)\r\n \r\n### Errors\r\n  - PWM output dashboard element down't turn green or change from inactive to active\r\n ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/517/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/418", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/418/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/418/events", "html_url": "https://github.com/kizniche/Mycodo/issues/418", "id": 301332688, "node_id": "MDU6SXNzdWUzMDEzMzI2ODg=", "number": 418, "title": "Bug: The first sensor to be read won't show the correct value", "user": {"login": "Kattihatt", "id": 31818740, "node_id": "MDQ6VXNlcjMxODE4NzQw", "avatar_url": "https://avatars.githubusercontent.com/u/31818740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kattihatt", "html_url": "https://github.com/Kattihatt", "followers_url": "https://api.github.com/users/Kattihatt/followers", "following_url": "https://api.github.com/users/Kattihatt/following{/other_user}", "gists_url": "https://api.github.com/users/Kattihatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kattihatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kattihatt/subscriptions", "organizations_url": "https://api.github.com/users/Kattihatt/orgs", "repos_url": "https://api.github.com/users/Kattihatt/repos", "events_url": "https://api.github.com/users/Kattihatt/events{/privacy}", "received_events_url": "https://api.github.com/users/Kattihatt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 60, "created_at": "2018-03-01T09:26:43Z", "updated_at": "2018-11-30T19:31:54Z", "closed_at": "2018-11-30T19:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello again!\r\n\r\nSo I'm running: 5.5.24 and I had this issue:\r\n\r\nI'm trying to read values from the MCP3008, but the first value in the data input list, will not read correct values. \r\n\r\nWhen trying to read values from the MCP3008, I use a transistor switch to the soil moisture sensor circuit and when I had this turned on at all times, it worked as expected. When I on the other hand turned this off, and turned it on by choosing pre-output, I got no reading on the first sensor in the list. This of course, made me think it was a hardware error, and I looked at the circuit but found nothing wrong, also it was working before, when it was turned on all the time. So the next thing to do was to try to increas the on timing before grabbing the data, which changed nothing, even if I set a pre-output duration of 30 seconds. \r\n\r\nSo the next thing I tried, was to simply add another data input from the MCP3008, and place it above the first actual value to be read. Now the first one still shows a nonsensical value, but the second one, which is the value I want, works fine. Now this made me come to the conclusion that it is a software error.\r\n\r\nI see nothing of relevance in the logs, no complaints or errors.\r\n\r\nI'd say it's not a top priority to try to settle this since the workaround was as simple as creating a new data input, but it might be worth knowing that the problem exists and if someone else has it maybe they have something more to contribute. I hope it's good for something :)", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/416", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/416/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/416/events", "html_url": "https://github.com/kizniche/Mycodo/issues/416", "id": 301046013, "node_id": "MDU6SXNzdWUzMDEwNDYwMTM=", "number": 416, "title": "Problems with conditionals to manipulate PIDs", "user": {"login": "zsole2", "id": 11209960, "node_id": "MDQ6VXNlcjExMjA5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/11209960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsole2", "html_url": "https://github.com/zsole2", "followers_url": "https://api.github.com/users/zsole2/followers", "following_url": "https://api.github.com/users/zsole2/following{/other_user}", "gists_url": "https://api.github.com/users/zsole2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsole2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsole2/subscriptions", "organizations_url": "https://api.github.com/users/zsole2/orgs", "repos_url": "https://api.github.com/users/zsole2/repos", "events_url": "https://api.github.com/users/zsole2/events{/privacy}", "received_events_url": "https://api.github.com/users/zsole2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 723682219, "node_id": "MDU6TGFiZWw3MjM2ODIyMTk=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Priority", "name": "Priority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-28T14:32:55Z", "updated_at": "2018-03-04T14:48:04Z", "closed_at": "2018-03-04T14:48:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.6.1\r\n \r\n#### Problem Description\r\n\r\nStarted to set up my switches and conditionals to start/pause/stop a PID. There are a few problems.\r\nFirst, the Edge conditional cannot read the state of the pin, giving the error: \r\n```\r\n2018-02-28 13:04:51,459 - mycodo.conditional_1 - ERROR - Exception reading the GPIO pin\r\n2018-02-28 13:04:51,461 - mycodo.conditional_1 - ERROR - GPIO not configured correctly or GPIO state not verified\r\n```\r\nThis was the setting for the conditionals:\r\n![image](https://user-images.githubusercontent.com/11209960/36787201-8d6d541c-1c89-11e8-862d-31a06fa6b029.png)\r\n\r\nI was just to curious to see what happens, because there was some strange behavior with the Edge detection. Or the conditionals, I may not know. Sometimes, the switch registered the activation/deactivation of the PID in the log, sometimes not. Even when it was not logged, the action may have been carried out, since re-triggering the action through the GUI give the warning that the PID is already at the desired state. \r\nWith the pause/resume, the same happened, and even registered a paused state in the log when the controller seemed to be deactivated.\r\nUnfortunately, the GUI is not updated according to the conditional action, neither in the Functions page, nor the Dashboard. The color of the controls and the buttons do not change.\r\nSo, there are a lot of issues here, how should  I proceed?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/408", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/408/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/408/events", "html_url": "https://github.com/kizniche/Mycodo/issues/408", "id": 298329418, "node_id": "MDU6SXNzdWUyOTgzMjk0MTg=", "number": 408, "title": "Memory leak", "user": {"login": "zsole2", "id": 11209960, "node_id": "MDQ6VXNlcjExMjA5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/11209960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsole2", "html_url": "https://github.com/zsole2", "followers_url": "https://api.github.com/users/zsole2/followers", "following_url": "https://api.github.com/users/zsole2/following{/other_user}", "gists_url": "https://api.github.com/users/zsole2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsole2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsole2/subscriptions", "organizations_url": "https://api.github.com/users/zsole2/orgs", "repos_url": "https://api.github.com/users/zsole2/repos", "events_url": "https://api.github.com/users/zsole2/events{/privacy}", "received_events_url": "https://api.github.com/users/zsole2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-02-19T16:10:17Z", "updated_at": "2018-10-13T14:56:14Z", "closed_at": "2018-10-13T14:56:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.5.21\r\n \r\n#### Problem Description\r\nI have Mycodo RAM on a gauge, but was suspicious about it increasing.\r\nHere is the async graph:\r\n\r\n![image](https://user-images.githubusercontent.com/11209960/36386894-a1ba1c0a-1597-11e8-8153-4dac1bac3832.png)\r\n\r\nWhat should I look at for testing?\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/405", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/405/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/405/events", "html_url": "https://github.com/kizniche/Mycodo/issues/405", "id": 296607258, "node_id": "MDU6SXNzdWUyOTY2MDcyNTg=", "number": 405, "title": "Errors on startup with math controllers", "user": {"login": "zsole2", "id": 11209960, "node_id": "MDQ6VXNlcjExMjA5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/11209960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsole2", "html_url": "https://github.com/zsole2", "followers_url": "https://api.github.com/users/zsole2/followers", "following_url": "https://api.github.com/users/zsole2/following{/other_user}", "gists_url": "https://api.github.com/users/zsole2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsole2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsole2/subscriptions", "organizations_url": "https://api.github.com/users/zsole2/orgs", "repos_url": "https://api.github.com/users/zsole2/repos", "events_url": "https://api.github.com/users/zsole2/events{/privacy}", "received_events_url": "https://api.github.com/users/zsole2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-02-13T04:05:27Z", "updated_at": "2018-03-04T15:03:29Z", "closed_at": "2018-03-04T15:03:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.5.20\r\n \r\n### Errors\r\nThe following appears in the log after reboots:\r\n```\r\n2018-02-13 04:49:13,135 - mycodo.math_3 - ERROR - Run Error: HTTPConnectionPool(host='localhost', port=8086): Max retries exceeded with url: /query?db=mycodo_db&q=SELECT+value+FROM+temperature+WHERE+device_id%3D%2773103a85-ca36-4f55-9443-8b18f13792fa%27+AND+time+%3E+now%28%29+-+60s (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xb4fa2d90>: Failed to establish a new connection: [Errno 111] Connection refused',))\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connection.py\", line 141, in _new_conn\r\n    (self.host, self.port), self.timeout, **extra_kw)\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/util/connection.py\", line 83, in create_connection\r\n    raise err\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/util/connection.py\", line 73, in create_connection\r\n    sock.connect(sa)\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 601, in urlopen\r\n    chunked=chunked)\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 357, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/usr/lib/python3.5/http/client.py\", line 1107, in request\r\n    self._send_request(method, url, body, headers)\r\n  File \"/usr/lib/python3.5/http/client.py\", line 1152, in _send_request\r\n    self.endheaders(body)\r\n  File \"/usr/lib/python3.5/http/client.py\", line 1103, in endheaders\r\n    self._send_output(message_body)\r\n  File \"/usr/lib/python3.5/http/client.py\", line 934, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/lib/python3.5/http/client.py\", line 877, in send\r\n    self.connect()\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connection.py\", line 166, in connect\r\n    conn = self._new_conn()\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connection.py\", line 150, in _new_conn\r\n    self, \"Failed to establish a new connection: %s\" % e)\r\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0xb4fa2d90>: Failed to establish a new connection: [Errno 111] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/requests/adapters.py\", line 440, in send\r\n    timeout=timeout\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 639, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/urllib3/util/retry.py\", line 388, in increment\r\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8086): Max retries exceeded with url: /query?db=mycodo_db&q=SELECT+value+FROM+temperature+WHERE+device_id%3D%2773103a85-ca36-4f55-9443-8b18f13792fa%27+AND+time+%3E+now%28%29+-+60s (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xb4fa2d90>: Failed to establish a new connection: [Errno 111] Connection refused',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/mycodo-root/mycodo/controller_math.py\", line 186, in run\r\n    success, measure = self.get_measurements_from_str(self.equation_input)\r\n  File \"/var/mycodo-root/mycodo/controller_math.py\", line 325, in get_measurements_from_str\r\n    self.max_measure_age)\r\n  File \"/var/mycodo-root/mycodo/utils/influx.py\", line 141, in read_last_influxdb\r\n    last_measurement = client.query(query).raw\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/influxdb/client.py\", line 394, in query\r\n    expected_response_code=expected_response_code\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/influxdb/client.py\", line 252, in request\r\n    timeout=self._timeout\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/requests/sessions.py\", line 508, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/requests/sessions.py\", line 618, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/var/mycodo-root/env/lib/python3.5/site-packages/requests/adapters.py\", line 508, in send\r\n    raise ConnectionError(e, request=request)\r\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8086): Max retries exceeded with url: /query?db=mycodo_db&q=SELECT+value+FROM+temperature+WHERE+device_id%3D%2773103a85-ca36-4f55-9443-8b18f13792fa%27+AND+time+%3E+now%28%29+-+60s (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xb4fa2d90>: Failed to establish a new connection: [Errno 111] Connection refused',))\r\n```\r\n\r\nIt was there in the log since 5.5.16, i.e. since I activated a Math Input.\r\n\r\nIs it from `influxd` not started yet? ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/404", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/404/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/404/events", "html_url": "https://github.com/kizniche/Mycodo/issues/404", "id": 296604378, "node_id": "MDU6SXNzdWUyOTY2MDQzNzg=", "number": 404, "title": "DS18B20 error handling", "user": {"login": "zsole2", "id": 11209960, "node_id": "MDQ6VXNlcjExMjA5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/11209960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsole2", "html_url": "https://github.com/zsole2", "followers_url": "https://api.github.com/users/zsole2/followers", "following_url": "https://api.github.com/users/zsole2/following{/other_user}", "gists_url": "https://api.github.com/users/zsole2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsole2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsole2/subscriptions", "organizations_url": "https://api.github.com/users/zsole2/orgs", "repos_url": "https://api.github.com/users/zsole2/repos", "events_url": "https://api.github.com/users/zsole2/events{/privacy}", "received_events_url": "https://api.github.com/users/zsole2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2018-02-13T03:44:27Z", "updated_at": "2018-04-09T04:43:58Z", "closed_at": "2018-02-26T02:56:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.5.17\r\n \r\n#### Problem Description\r\nI have two of these sensors installed now. \r\nIn the past, I had a few outlier readings at 85 C. But yesterday, it started to read constantly 85 C, I had to stop everything, rebooting did not help. After a few hours rest, it now again seems normal, but in the meantime, I did some research.\r\n\r\nThe 85 C reading of the DS18 is an error message. Accordingly, it would be nice if Mycodo handled it accordingly. As you can imagine, it can really screw up the temperature graphs if there is a 85C outlier. Or in a worse case, my refrigerator was freezing over (constant cooling down because of the continuous 85C reading). \r\n\r\nOn the other hand, there are reports that the Pi Zero can have problems reading the DS18 with a frequency that is OK for other RasPi's. See [here](https://www.raspberrypi.org/forums/viewtopic.php?f=44&t=187321) (and at the linked github there).  \r\n\r\nI did a few readings to time them, here is an example:\r\n\r\n```\r\npi@chz-112:~ $ time cat  /sys/bus/w1/devices/28-0417b1fb82ff/w1_slave\r\ne1 00 4b 46 7f ff 0c 10 f8 : crc=f8 YES\r\ne1 00 4b 46 7f ff 0c 10 f8 t=14062\r\n\r\nreal\t0m1,898s\r\nuser\t0m0,000s\r\nsys\t0m0,060s\r\npi@chz-112:~ $ time cat  /sys/bus/w1/devices/28-00000586475d/w1_slave \r\nee 00 4b 46 7f ff 02 10 de : crc=de YES\r\nee 00 4b 46 7f ff 02 10 de t=14875\r\n\r\nreal\t0m1,879s\r\nuser\t0m0,000s\r\nsys\t0m0,060s\r\n```\r\n\r\nUsually these are in the 0,9 sec range, though.\r\n\r\nLooking  further into this issue  more,  it appears the the 85C reading is inherently  \"handled by the w1_therm module\" see the link above. So right now I'll wait until the erroneous readings appear again to be able to learn more about this problem.\r\n\r\n#### Conclusion\r\nChecking for the value of 85C and flagging it as an unsuccessful reading would be an improvement.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/402", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/402/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/402/events", "html_url": "https://github.com/kizniche/Mycodo/issues/402", "id": 296159354, "node_id": "MDU6SXNzdWUyOTYxNTkzNTQ=", "number": 402, "title": "Heat Pump system with heat and cool solenoid won't run compressor", "user": {"login": "frodus17", "id": 11054250, "node_id": "MDQ6VXNlcjExMDU0MjUw", "avatar_url": "https://avatars.githubusercontent.com/u/11054250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frodus17", "html_url": "https://github.com/frodus17", "followers_url": "https://api.github.com/users/frodus17/followers", "following_url": "https://api.github.com/users/frodus17/following{/other_user}", "gists_url": "https://api.github.com/users/frodus17/gists{/gist_id}", "starred_url": "https://api.github.com/users/frodus17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frodus17/subscriptions", "organizations_url": "https://api.github.com/users/frodus17/orgs", "repos_url": "https://api.github.com/users/frodus17/repos", "events_url": "https://api.github.com/users/frodus17/events{/privacy}", "received_events_url": "https://api.github.com/users/frodus17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2018-02-11T04:25:06Z", "updated_at": "2018-02-26T02:58:11Z", "closed_at": "2018-02-26T02:58:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version:  5.5.19\r\n \r\n#### Problem Description\r\nPlease list:\r\n  - what were you trying to do\r\nI'm trying to turn on a compressor when a cooling solenoid is turned on. Then off when it turns off. I also need to turn the same compressor on when a heating solenoid is turned on, and off when it turns off. Unfortunately I set up the compressor to turn on via Function, and it turns on just fine, but Mycodo gets confused when Cooling is off and heating is on, it won't turn on the compressor accordingly.\r\n\r\nThe same thing for the fan inside. I want it on with the compressor, but since the compressor cannot be run when either Heat or Cool is requested, it won't work correctly.\r\n\r\n  - specific setup details that are involved\r\nThe function is not possible to have Output 3 follow both output 1 or output 2.\r\n \r\n### Errors\r\n  - List any errors you encountered.\r\nn/a\r\n  - Copy and pasting crash logs, or link to any specific\r\ncode lines you've isolated (please use GitHub permalinks for this)\r\nn/a\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. step 1\r\nCreate 3 outputs, 1 PID function, 2 conditional when ON, 2 conditional when OFF\r\n 2. step 2...\r\nConfigure conditional on when cooling solenoid is on to turn on the compressor, and turn off the compressor when cooling solenoid goes off. The same for heating solenoid.\r\n 3. etc\r\n \r\n### Additional Notes\r\nIs there anything that should be added to make it easier\r\nto address this issue?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/382", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/382/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/382/events", "html_url": "https://github.com/kizniche/Mycodo/issues/382", "id": 289177766, "node_id": "MDU6SXNzdWUyODkxNzc3NjY=", "number": 382, "title": "Error 500 pH calibration", "user": {"login": "leoneo", "id": 11442093, "node_id": "MDQ6VXNlcjExNDQyMDkz", "avatar_url": "https://avatars.githubusercontent.com/u/11442093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leoneo", "html_url": "https://github.com/leoneo", "followers_url": "https://api.github.com/users/leoneo/followers", "following_url": "https://api.github.com/users/leoneo/following{/other_user}", "gists_url": "https://api.github.com/users/leoneo/gists{/gist_id}", "starred_url": "https://api.github.com/users/leoneo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leoneo/subscriptions", "organizations_url": "https://api.github.com/users/leoneo/orgs", "repos_url": "https://api.github.com/users/leoneo/repos", "events_url": "https://api.github.com/users/leoneo/events{/privacy}", "received_events_url": "https://api.github.com/users/leoneo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2018-01-17T08:20:06Z", "updated_at": "2018-11-30T19:34:13Z", "closed_at": "2018-11-30T19:34:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.5.9\r\n \r\n#### Problem Description\r\nPlease list:\r\nIn Calibration page after Select Device give error 500\r\nIn Data page after activate ph atlas uart sensor give the Error: Could not activate Input controller with ID 4: 'loc'\r\n \r\n### Errors\r\nIn live page : no data\r\n\r\nIn Calibration page :  \r\n Error 500: Internal Server Error\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following error traceback (copy the entire traceback):\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/_compat.py\", line 33, in reraise\r\n    raise value\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/pi/Mycodo/env/lib/python3.5/site-packages/flask_login/utils.py\", line 261, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/home/pi/Mycodo/mycodo/mycodo_flask/routes_calibration.py\", line 106, in calibration_atlas_ph\r\n    next_stage > 1):\r\nTypeError: unorderable types: NoneType() > int()\r\n\r\n \r\n### Additional Notes\r\nfresh install, all upgraded, pH sensor checked with Atlas sample code works\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/364", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/364/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/364/events", "html_url": "https://github.com/kizniche/Mycodo/issues/364", "id": 284641393, "node_id": "MDU6SXNzdWUyODQ2NDEzOTM=", "number": 364, "title": "Rf Not Working?", "user": {"login": "berserktron3k", "id": 20486420, "node_id": "MDQ6VXNlcjIwNDg2NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/20486420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/berserktron3k", "html_url": "https://github.com/berserktron3k", "followers_url": "https://api.github.com/users/berserktron3k/followers", "following_url": "https://api.github.com/users/berserktron3k/following{/other_user}", "gists_url": "https://api.github.com/users/berserktron3k/gists{/gist_id}", "starred_url": "https://api.github.com/users/berserktron3k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/berserktron3k/subscriptions", "organizations_url": "https://api.github.com/users/berserktron3k/orgs", "repos_url": "https://api.github.com/users/berserktron3k/repos", "events_url": "https://api.github.com/users/berserktron3k/events{/privacy}", "received_events_url": "https://api.github.com/users/berserktron3k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-27T03:26:40Z", "updated_at": "2018-06-24T21:29:28Z", "closed_at": "2018-06-24T21:29:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.5.1\r\n \r\n#### Problem Description\r\nPlease list:\r\n\r\n  - Raspberry Pi 3, 433MHz RF Transmitter\r\n \r\n### Errors\r\n  - Output device shows as unconfigured if 0 is selected.\r\n\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. Clean install of Mycodo 5.5.1\r\n 2. Install 433MHz transmitter as output device\r\n \r\n### Additional Notes\r\nI was going back and looking at the original request to add support for the 433MHz transmitter, and along the way, there's a note you made about leaving the pin unselected. Unfortunately, not specifying a pin when adding or editing the output device doesn't work, and specifying the pin doesn't seem to work either.\r\n\r\nHoping I'm just doing something wrong, but in any case, would appreciate your assistance. Thanks again for all your work with this.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/344", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/344/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/344/events", "html_url": "https://github.com/kizniche/Mycodo/issues/344", "id": 282203230, "node_id": "MDU6SXNzdWUyODIyMDMyMzA=", "number": 344, "title": "Method Time/Date, Edit Field?", "user": {"login": "RynFlutsch", "id": 29811876, "node_id": "MDQ6VXNlcjI5ODExODc2", "avatar_url": "https://avatars.githubusercontent.com/u/29811876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RynFlutsch", "html_url": "https://github.com/RynFlutsch", "followers_url": "https://api.github.com/users/RynFlutsch/followers", "following_url": "https://api.github.com/users/RynFlutsch/following{/other_user}", "gists_url": "https://api.github.com/users/RynFlutsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/RynFlutsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RynFlutsch/subscriptions", "organizations_url": "https://api.github.com/users/RynFlutsch/orgs", "repos_url": "https://api.github.com/users/RynFlutsch/repos", "events_url": "https://api.github.com/users/RynFlutsch/events{/privacy}", "received_events_url": "https://api.github.com/users/RynFlutsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-12-14T18:54:10Z", "updated_at": "2018-05-08T17:07:42Z", "closed_at": "2018-02-26T03:00:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "![3e49bba3-0b16-4502-bb26-41e02ca4c28f](https://user-images.githubusercontent.com/29811876/34008336-42683d70-e105-11e7-8cd1-af0202acfbbd.jpeg)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/338", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/338/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/338/events", "html_url": "https://github.com/kizniche/Mycodo/issues/338", "id": 278831672, "node_id": "MDU6SXNzdWUyNzg4MzE2NzI=", "number": 338, "title": "Server error", "user": {"login": "reymart081678", "id": 4920883, "node_id": "MDQ6VXNlcjQ5MjA4ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4920883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reymart081678", "html_url": "https://github.com/reymart081678", "followers_url": "https://api.github.com/users/reymart081678/followers", "following_url": "https://api.github.com/users/reymart081678/following{/other_user}", "gists_url": "https://api.github.com/users/reymart081678/gists{/gist_id}", "starred_url": "https://api.github.com/users/reymart081678/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reymart081678/subscriptions", "organizations_url": "https://api.github.com/users/reymart081678/orgs", "repos_url": "https://api.github.com/users/reymart081678/repos", "events_url": "https://api.github.com/users/reymart081678/events{/privacy}", "received_events_url": "https://api.github.com/users/reymart081678/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-12-03T23:06:29Z", "updated_at": "2018-04-11T04:12:07Z", "closed_at": "2018-04-11T04:12:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version:5.4.11\r\n \r\n#### Problem Description\r\nPlease list:\r\nTry to monitor and got server error   \r\n### Errors\r\n  - List any errors you encountered.\r\n  - Copy and pasting crash logs, or link to any specific\r\ncode lines you've isolated (please use GitHub permalinks for this)\r\n\r\n```\r\n2017-12-04 06:54:18,592 - mycodo.pid_5 - ERROR - Exception while reading measurement from the influxdb database: timestamp out of range for platform time_t\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/controller_pid.py\", line 389, in get_last_measurement\r\n    local_timestamp = str(datetime.datetime.fromtimestamp(utc_timestamp))\r\nValueError: timestamp out of range for platform time_t\r\n2017-12-04 06:54:33,518 - mycodo.pid_5 - ERROR - Exception while reading measurement from the influxdb database: timestamp out of range for platform time_t\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/controller_pid.py\", line 389, in get_last_measurement\r\n    local_timestamp = str(datetime.datetime.fromtimestamp(utc_timestamp))\r\nValueError: timestamp out of range for platform time_t\r\n2017-12-04 06:54:48,540 - mycodo.pid_5 - ERROR - Exception while reading measurement from the influxdb database: timestamp out of range for platform time_t\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/controller_pid.py\", line 389, in get_last_measurement\r\n    local_timestamp = str(datetime.datetime.fromtimestamp(utc_timestamp))\r\nValueError: timestamp out of range for platform time_t\r\n2017-12-04 06:55:03,550 - mycodo.pid_5 - ERROR - Exception while reading measurement from the influxdb database: timestamp out of range for platform time_t\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/controller_pid.py\", line 389, in get_last_measurement\r\n    local_timestamp = str(datetime.datetime.fromtimestamp(utc_timestamp))\r\nValueError: timestamp out of range for platform time_t\r\n```\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. step 1\r\n 2. step 2...\r\n 3. etc\r\n \r\n### Additional Notes\r\nIs there anything that should be added to make it easier\r\nto address this issue?\r\nGraph:\r\n![screenhunter_472 dec 04 07 02](https://user-images.githubusercontent.com/4920883/33530950-a35e0746-d8c1-11e7-90ed-a70c9bcc59e2.jpg)\r\n\r\n\r\nPID\r\n![screenhunter_471 dec 04 07 01](https://user-images.githubusercontent.com/4920883/33530948-9825ab22-d8c1-11e7-9837-69e4dc62895f.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/329", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/329/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/329/events", "html_url": "https://github.com/kizniche/Mycodo/issues/329", "id": 276269410, "node_id": "MDU6SXNzdWUyNzYyNjk0MTA=", "number": 329, "title": "Pi Zero Install Error / High CPU Usage", "user": {"login": "jacopienaar", "id": 33920783, "node_id": "MDQ6VXNlcjMzOTIwNzgz", "avatar_url": "https://avatars.githubusercontent.com/u/33920783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacopienaar", "html_url": "https://github.com/jacopienaar", "followers_url": "https://api.github.com/users/jacopienaar/followers", "following_url": "https://api.github.com/users/jacopienaar/following{/other_user}", "gists_url": "https://api.github.com/users/jacopienaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacopienaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacopienaar/subscriptions", "organizations_url": "https://api.github.com/users/jacopienaar/orgs", "repos_url": "https://api.github.com/users/jacopienaar/repos", "events_url": "https://api.github.com/users/jacopienaar/events{/privacy}", "received_events_url": "https://api.github.com/users/jacopienaar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-11-23T05:29:24Z", "updated_at": "2018-04-06T00:44:37Z", "closed_at": "2018-04-06T00:44:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: Latest\r\n \r\n#### Problem Description\r\nInstall aborted during installation of latest version of Mycodo on Pi Zero W - see info below.  I found a workaround to it . . . .\r\n\r\nI swopped the SD card to my Pi3 (currently have Mycodo running on it) and did the successfully completed the install on it. After placing the SD back in the Zero, the CPU is now constantly running at 30-40% when idle (vanilla Raspbian install with only Mycodo and VNC running) and when I try to do anything else (like opening a browser) it maxes out at 100% usage - rendering the Pi Zero useless. This was not the case before installing Mycodo. Note that Mycodo is not even running yet as I haven't logged in. Does Mycodo have anything running in the background that will use resources?\r\n\r\nI also inserted the Pi3 SD card (with Mycodo running perfectly) in the Pi Zero W and same thing - can't do anything on it due to 100% CPU usage. Can this be Mycodo causing it?\r\n\r\nAfter managing to log in I saw that the Daemon is not running -  ran the debug script which fixed it. So eventually I got everything running as it should with all interlocks working - problem is - even when idle - CPU usage is between 45%-90% with Chrome closed and no other programs (except VNC) running.\r\n\r\n### Errors\r\n\r\n#Start of error . . . . \r\n```\r\n  Running setup.py install for pi-switch: started\r\n    Running setup.py install for pi-switch: still running...\r\n    Running setup.py install for pi-switch: finished with status 'error'\r\n    Complete output from command /home/pi/Mycodo/env/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-uHk2CM/pi-switch/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-8uWhn_-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/pi/Mycodo/env/include/site/python2.7/pi-switch:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-armv6l-2.7\r\n    creating build/lib.linux-armv6l-2.7/pi_switch\r\n    copying pi_switch/__init__.py -> build/lib.linux-armv6l-2.7/pi_switch\r\n    running build_ext\r\n    building '_pi_switch' extension\r\n    creating build/temp.linux-armv6l-2.7\r\n    creating build/temp.linux-armv6l-2.7/pi_switch\r\n    creating build/temp.linux-armv6l-2.7/pi_switch/wrapper\r\n    arm-linux-gnueabihf-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -I/usr/include/python2.7 -c pi_switch/wrapper/pi_switch.cpp -o build/temp.linux-armv6l-2.7/pi_switch/wrapper/pi_switch.o -Wno-write-strings\r\n    cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C/ObjC but not for C++\r\n    arm-linux-gnueabihf-gcc: internal compiler error: Killed (program cc1plus)\r\n    Please submit a full bug report,\r\n    with preprocessed source if appropriate.\r\n    See <file:///usr/share/doc/gcc-4.9/README.Bugs> for instructions.\r\n    error: command 'arm-linux-gnueabihf-gcc' failed with exit status 4\r\n    \r\n    ----------------------------------------\r\nCommand \"/home/pi/Mycodo/env/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-uHk2CM/pi-switch/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-8uWhn_-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/pi/Mycodo/env/include/site/python2.7/pi-switch\" failed with error code 1 in /tmp/pip-build-uHk2CM/pi-switch/\r\n\r\n*******************************\r\n*** ERROR: Install Aborted! ***\r\n*******************************\r\n\r\nAn error occurred that prevented Mycodo from being installed!\r\n\r\nPlease contact the developer by submitting a bug report at\r\nhttps://github.com/kizniche/Mycodo/issues with the pertinent\r\nexcerpts from the setup log located at Mycodo/install/setup.log\r\n\r\nAn error occurred. Exiting...\r\n```\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. Tried to install it twice - same issue occurred \r\n \r\n### Additional Notes\r\nThanks for developing this amazing little program! I grow oyster mushrooms at home and this has enabled me to control my environmentals and resulted in better and bigger flushes!", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/325", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/325/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/325/events", "html_url": "https://github.com/kizniche/Mycodo/issues/325", "id": 275293064, "node_id": "MDU6SXNzdWUyNzUyOTMwNjQ=", "number": 325, "title": "Error on capture still image", "user": {"login": "cohe4ko", "id": 805783, "node_id": "MDQ6VXNlcjgwNTc4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/805783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cohe4ko", "html_url": "https://github.com/cohe4ko", "followers_url": "https://api.github.com/users/cohe4ko/followers", "following_url": "https://api.github.com/users/cohe4ko/following{/other_user}", "gists_url": "https://api.github.com/users/cohe4ko/gists{/gist_id}", "starred_url": "https://api.github.com/users/cohe4ko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cohe4ko/subscriptions", "organizations_url": "https://api.github.com/users/cohe4ko/orgs", "repos_url": "https://api.github.com/users/cohe4ko/repos", "events_url": "https://api.github.com/users/cohe4ko/events{/privacy}", "received_events_url": "https://api.github.com/users/cohe4ko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 723682219, "node_id": "MDU6TGFiZWw3MjM2ODIyMTk=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Priority", "name": "Priority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-20T09:48:06Z", "updated_at": "2017-12-20T03:54:49Z", "closed_at": "2017-12-20T03:54:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  5.4.4\r\n \r\n#### Problem Description\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask_login/utils.py\", line 228, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/page_routes.py\", line 135, in page_camera\r\n    camera_record('photo', mod_camera)\r\n  File \"/var/www/mycodo/mycodo/devices/camera.py\", line 115, in camera_record\r\n    if not img_orig:\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/304", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/304/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/304/events", "html_url": "https://github.com/kizniche/Mycodo/issues/304", "id": 269295980, "node_id": "MDU6SXNzdWUyNjkyOTU5ODA=", "number": 304, "title": "Mycodo 3.5.1: PWM Input seems to fail internally ", "user": {"login": "pukkita", "id": 32773513, "node_id": "MDQ6VXNlcjMyNzczNTEz", "avatar_url": "https://avatars.githubusercontent.com/u/32773513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pukkita", "html_url": "https://github.com/pukkita", "followers_url": "https://api.github.com/users/pukkita/followers", "following_url": "https://api.github.com/users/pukkita/following{/other_user}", "gists_url": "https://api.github.com/users/pukkita/gists{/gist_id}", "starred_url": "https://api.github.com/users/pukkita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pukkita/subscriptions", "organizations_url": "https://api.github.com/users/pukkita/orgs", "repos_url": "https://api.github.com/users/pukkita/repos", "events_url": "https://api.github.com/users/pukkita/events{/privacy}", "received_events_url": "https://api.github.com/users/pukkita/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-28T08:19:21Z", "updated_at": "2017-10-28T18:00:17Z", "closed_at": "2017-10-28T17:58:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.3.1\r\n \r\n#### Problem Description\r\n\r\nPWM Inputs seems to crash.\r\n\r\nAdded a PWM input (Duty Cycle), went to  Data > Live Measurements and it  crashed, see log.\r\n \r\n### Errors\r\n\r\n\r\n```\r\nError 500: Internal Server Error\r\n\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following error traceback (copy the entire traceback):\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask_login/utils.py\", line 228, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/page_routes.py\", line 612, in page_live\r\n    sensorDisplayOrderSorted=sensor_order_sorted)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/templating.py\", line 134, in render_template\r\n    context, ctx.app)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/templating.py\", line 116, in _render\r\n    rv = template.render(context)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/jinja2/environment.py\", line 1008, in render\r\n    return self.environment.handle_exception(exc_info, True)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/jinja2/environment.py\", line 780, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/templates/pages/live.html\", line 3, in top-level template code\r\n    {% set help_page = [\"live-measurements\", _('Live Leasurements')] %}\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/templates/layout.html\", line 187, in top-level template code\r\n    {%- block body %}{% endblock -%}\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/templates/pages/live.html\", line 116, in block \"body\"\r\n    {% if measurement_units[each_measure]['meas'] == 'temperature' %}\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/jinja2/environment.py\", line 411, in getitem\r\n    return obj[argument]\r\nUndefinedError: 'dict object' has no attribute u''\r\n```\r\n\r\nMycodo log seems to point to a missing table: `camera`\r\n\r\n```\r\n2017-10-25 18:27:59,234 - mycodo.databases.utils - ERROR - Error raised in session_scope.  Session will be rolled back: db_uri='sqlite:////home/pi/Mycodo/mycodo/../databases/mycodo.db', error='(sqlite3.OperationalError) no such table: camera [SQL: u'SELECT camera.id AS camera_id, camera.unique_id AS camera_unique_id, camera.name AS camera_name, camera.camera_type AS camera_camera_type, camera.library AS camera_library, camera.opencv_device AS camera_opencv_device, camera.hflip AS camera_hflip, camera.vflip AS camera_vflip, camera.rotation AS camera_rotation, camera.height AS camera_height, camera.width AS camera_width, camera.brightness AS camera_brightness, camera.contrast AS camera_contrast, camera.exposure AS camera_exposure, camera.gain AS camera_gain, camera.hue AS camera_hue, camera.saturation AS camera_saturation, camera.white_balance AS camera_white_balance, camera.relay_id AS camera_relay_id, camera.cmd_pre_camera AS camera_cmd_pre_camera, camera.cmd_post_camera AS camera_cmd_post_camera, camera.stream_started AS camera_stream_started, camera.timelapse_started AS camera_timelapse_started, camera.timelapse_paused AS camera_timelapse_paused, camera.timelapse_start_time AS camera_timelapse_start_time, camera.timelapse_end_time AS camera_timelapse_end_time, camera.timelapse_interval AS camera_timelapse_interval, camera.timelapse_next_capture AS camera_timelapse_next_capture, camera.timelapse_capture_number AS camera_timelapse_capture_number \\nFROM camera']'\r\n2017-10-25 18:27:59,235 - mycodo.daemon - ERROR - Could not read camera table: (sqlite3.OperationalError) no such table: camera [SQL: u'SELECT camera.id AS camera_id, camera.unique_id AS camera_unique_id, camera.name AS camera_name, camera.camera_type AS camera_camera_type, camera.library AS camera_library, camera.opencv_device AS camera_opencv_device, camera.hflip AS camera_hflip, camera.vflip AS camera_vflip, camera.rotation AS camera_rotation, camera.height AS camera_height, camera.width AS camera_width, camera.brightness AS camera_brightness, camera.contrast AS camera_contrast, camera.exposure AS camera_exposure, camera.gain AS camera_gain, camera.hue AS camera_hue, camera.saturation AS camera_saturation, camera.white_balance AS camera_white_balance, camera.relay_id AS camera_relay_id, camera.cmd_pre_camera AS camera_cmd_pre_camera, camera.cmd_post_camera AS camera_cmd_post_camera, camera.stream_started AS camera_stream_started, camera.timelapse_started AS camera_timelapse_started, camera.timelapse_paused AS camera_timelapse_paused, camera.timelapse_start_time AS camera_timelapse_start_time, camera.timelapse_end_time AS camera_timelapse_end_time, camera.timelapse_interval AS camera_timelapse_interval, camera.timelapse_next_capture AS camera_timelapse_next_capture, camera.timelapse_capture_number AS camera_timelapse_capture_number \\nFROM camera']\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/mycodo_daemon.py\", line 593, in refresh_daemon_camera_settings\r\n    Camera, entry='all')\r\n  File \"/var/www/mycodo/mycodo/utils/database.py\", line 56, in db_retrieve_table_daemon\r\n    return_table = return_table.all()\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2724, in all\r\n    return list(self)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2876, in __iter__\r\n    return self._execute_and_instances(context)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2899, in _execute_and_instances\r\n    result = conn.execute(querycontext.statement, self._params)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 945, in execute\r\n    return meth(self, multiparams, params)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 269, in _execute_on_connection\r\n    return connection._execute_clauseelement(self, multiparams, params)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1053, in _execute_clauseelement\r\n    compiled_sql, distilled_params\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1189, in _execute_context\r\n    context)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1402, in _handle_dbapi_exception\r\n    exc_info\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/util/compat.py\", line 203, in raise_from_cause\r\n    reraise(type(exception), exception, tb=exc_tb, cause=cause)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1182, in _execute_context\r\n    context)\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 504, in do_execute\r\n    cursor.execute(statement, parameters)\r\nOperationalError: (sqlite3.OperationalError) no such table: camera [SQL: u'SELECT camera.id AS camera_id, camera.unique_id AS camera_unique_id, camera.name AS camera_name, camera.camera_type AS camera_camera_type, camera.library AS camera_library, camera.opencv_device AS camera_opencv_device, camera.hflip AS camera_hflip, camera.vflip AS camera_vflip, camera.rotation AS camera_rotation, camera.height AS camera_height, camera.width AS camera_width, camera.brightness AS camera_brightness, camera.contrast AS camera_contrast, camera.exposure AS camera_exposure, camera.gain AS camera_gain, camera.hue AS camera_hue, camera.saturation AS camera_saturation, camera.white_balance AS camera_white_balance, camera.relay_id AS camera_relay_id, camera.cmd_pre_camera AS camera_cmd_p\r\n```\r\n\r\nLet's check the database:\r\n\r\n```\r\nsqlite> .tables\r\nalembic_version   graph             pid               smtp            \r\ncamera            lcd               relay             timer           \r\nconditional       method            remote            users           \r\nconditional_data  method_data       roles           \r\ndisplayorder      misc \r\n```\r\n\r\n`camera` table is there...\r\n\r\nLet's check the query:\r\n\r\n```\r\nsqlite> SELECT camera.id AS camera_id, camera.unique_id AS camera_unique_id, camera.name AS camera_name, camera.camera_type AS camera_camera_type, camera.library AS camera_library, camera.opencv_device AS camera_opencv_device, camera.hflip AS camera_hflip, camera.vflip AS camera_vflip, camera.rotation AS camera_rotation, camera.height AS camera_height, camera.width AS camera_width, camera.brightness AS camera_brightness, camera.contrast AS camera_contrast, camera.exposure AS camera_exposure, camera.gain AS camera_gain, camera.hue AS camera_hue, camera.saturation AS camera_saturation, camera.white_balance AS camera_white_balance, camera.relay_id AS camera_relay_id, camera.cmd_pre_camera AS camera_cmd_p\r\n   ...> ;\r\nError: no such column: camera.id\r\n```\r\n\r\nOdd... let's check `camera` table fields:\r\n\r\n```\r\nsqlite> PRAGMA table_info(camera)\r\n   ...> ;\r\n0|id|INTEGER|1||1\r\n1|unique_id|VARCHAR|1||0\r\n2|name|TEXT|1||0\r\n3|camera_type|TEXT|1||0\r\n4|library|TEXT|1||0\r\n5|opencv_device|INTEGER|0||0\r\n6|hflip|BOOLEAN|0||0\r\n7|vflip|BOOLEAN|0||0\r\n8|rotation|INTEGER|0||0\r\n9|height|INTEGER|0||0\r\n10|width|INTEGER|0||0\r\n11|brightness|FLOAT|0||0\r\n12|contrast|FLOAT|0||0\r\n13|exposure|FLOAT|0||0\r\n14|gain|FLOAT|0||0\r\n15|hue|FLOAT|0||0\r\n16|saturation|FLOAT|0||0\r\n17|white_balance|FLOAT|0||0\r\n18|relay_id|INTEGER|0||0\r\n19|cmd_pre_camera|TEXT|0||0\r\n20|cmd_post_camera|TEXT|0||0\r\n21|stream_started|BOOLEAN|0||0\r\n22|timelapse_started|BOOLEAN|0||0\r\n23|timelapse_paused|BOOLEAN|0||0\r\n24|timelapse_start_time|FLOAT|0||0\r\n25|timelapse_end_time|FLOAT|0||0\r\n26|timelapse_interval|FLOAT|0||0\r\n27|timelapse_next_capture|FLOAT|0||0\r\n28|timelapse_capture_number|INTEGER|0||0\r\n```\r\n\r\n.id is there...\r\n\r\n### Steps to Reproduce the issue:\r\n\r\n1. Upgrade to Mycodo 5.3.1 \r\n2. Add a PWM output\r\n3. Add a PWM Input for it\r\n4. Go to Data > Live Measurements\r\n \r\n### Additional Notes\r\n\r\n- No cameras have been added ever\r\n\r\n- Data > Asynchronous Graphs doesn't crash / show any error when adding the PWM input, it just doesn't display anything. Rest of inputs graph fine.\r\n\r\n- If PWM input is deactivated, there are no more crashes on Live Measurements.\r\n  ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/277", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/277/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/277/events", "html_url": "https://github.com/kizniche/Mycodo/issues/277", "id": 245884097, "node_id": "MDU6SXNzdWUyNDU4ODQwOTc=", "number": 277, "title": " Fresh installation ERROR: Install Aborted", "user": {"login": "stminm", "id": 30481826, "node_id": "MDQ6VXNlcjMwNDgxODI2", "avatar_url": "https://avatars.githubusercontent.com/u/30481826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stminm", "html_url": "https://github.com/stminm", "followers_url": "https://api.github.com/users/stminm/followers", "following_url": "https://api.github.com/users/stminm/following{/other_user}", "gists_url": "https://api.github.com/users/stminm/gists{/gist_id}", "starred_url": "https://api.github.com/users/stminm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stminm/subscriptions", "organizations_url": "https://api.github.com/users/stminm/orgs", "repos_url": "https://api.github.com/users/stminm/repos", "events_url": "https://api.github.com/users/stminm/events{/privacy}", "received_events_url": "https://api.github.com/users/stminm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-07-26T23:31:13Z", "updated_at": "2017-07-27T02:52:04Z", "closed_at": "2017-07-27T01:52:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: Latest version: 5.0.49\r\n \r\n#### Problem Description\r\nI tried multiple times to do a fresh install of Mycodo on Raspberry Pi 3 but with the same result: ERROR: Install Aborted! \r\n\r\n  - what were you trying to do?\r\nI followed the installation instruction step-by-step.\r\n  - specific setup details that are involved:\r\nRaspberry Pi 3 Model B Board. 16GB SD card.\r\nFresh installed Raspbian Jessie Lite. Version: July 2017. Release date: 2017-07-05. Kernel version: 4.9\r\n\r\n### Errors\r\n\r\n*******************************\r\n*** ERROR: Install Aborted! ***\r\n*******************************\r\n\r\nAn error occurred that prevented Mycodo from being installed!\r\n\r\nPlease contact the developer by submitting a bug report at\r\nhttps://github.com/kizniche/Mycodo/issues with the pertinent\r\nexcerpts from the setup log located at Mycodo/install/setup.log\r\n\r\nAn error occurred. Exiting...\r\n\r\n### Steps to Reproduce the issue:\r\nstep 1: Deploy Raspbian Jessie Lite image with Win32DiskImager on SD card then boot the Raspberry Pi.\r\nstep 2: Follow the installation instruction step-by-step (starting from Configure raspi-config...)\r\n\r\nAttached are the commands I entered to start the installation with the output and setup log.\r\n\r\n[mycodo_install_commands.txt](https://github.com/kizniche/Mycodo/files/1178299/mycodo_install_commands.txt)\r\n[setup.log.txt](https://github.com/kizniche/Mycodo/files/1178297/setup.log.txt)", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/276", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/276/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/276/events", "html_url": "https://github.com/kizniche/Mycodo/issues/276", "id": 244867939, "node_id": "MDU6SXNzdWUyNDQ4Njc5Mzk=", "number": 276, "title": "SHTx2 and SHTx7 share same library ?", "user": {"login": "wangine", "id": 20494947, "node_id": "MDQ6VXNlcjIwNDk0OTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/20494947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangine", "html_url": "https://github.com/wangine", "followers_url": "https://api.github.com/users/wangine/followers", "following_url": "https://api.github.com/users/wangine/following{/other_user}", "gists_url": "https://api.github.com/users/wangine/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangine/subscriptions", "organizations_url": "https://api.github.com/users/wangine/orgs", "repos_url": "https://api.github.com/users/wangine/repos", "events_url": "https://api.github.com/users/wangine/events{/privacy}", "received_events_url": "https://api.github.com/users/wangine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 723682219, "node_id": "MDU6TGFiZWw3MjM2ODIyMTk=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Priority", "name": "Priority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 72, "created_at": "2017-07-22T19:54:10Z", "updated_at": "2018-04-06T00:46:20Z", "closed_at": "2018-04-06T00:46:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version:\r\n Mycodo 5.0.49\r\n Mycodo 4.0.22\r\n#### Problem Description\r\nPlease list:\r\nI try just to understand what going wrong with my sensors \r\n### Errors\r\nDaemon crash randomly , 2h 10h , some days.\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\nJust to activate SHT75 sensor and daemon will crash very soon. Also if i puled out the sensor\r\ndaemon crash very soon. Can be something wrong with my PI ?\r\n### Additional Notes\r\nFirst of all , i need my controlled room on that period and i said to install a fresh raspberry jessie image. That was done easy, but when i try to install mycodo i just get an error. The last Jessie image has an update mirror bug , so Mycodo can't update the RPi system and it fails trying to fetch some archive . An easy solution was to edit the hosts file .\r\n`\r\nOne way is to add following lines to /etc/hosts file\r\n\r\nOpen /etc/hosts file with sudo rights $sudo nano /etc/hosts\r\nPaste the following lines at the end of /etc/hosts file\r\n93.93.128.193   mirrordirector.raspbian.org\r\n\r\n93.93.128.191   archive.raspbian.org\r\n\r\nsudo apt-get update -y && sudo apt-get upgrade -y && sudo apt-get autoremove -y\r\n`\r\nSo far so good. OK , i tried to install it again , without deleting Mycodo folder first.\r\nI found that in an install log , so i did it \r\n`To remove previously added crontab entry, run: /home/pi/Mycodo/install/crontab.sh mycodo --remove\r\n$sudo reboot\r\n`\r\nI just noticed , I cant access the SSH anymore , so i activated it again with raspi-config.\r\nAfter reboot i got a success on the install. \r\nNow going to test sensors. I just installed several versions of Mycodo , until i found out that on any version, daemon will crash randomly after i activated the SHT75 sensor (i want to say , that it never happened on that versions of Mycodo). Since only SHT75 was attached to my board (the other sensors were pulled out) , i just pulled out from my board the SHT75 sensor to make a close inspection on his connections and i pulled in the sht25 sensor (on different male connector, each sensor has an unique connector, just do not mess up) , so SHT75 are on GPIO26 and CKL 19 / sht25 are on native I2C pins connected.\r\nI returned in the room to check the web interface and i noticed something weird, A previously SHT75 activated sensor on web interface shows that the measurement data on live page (not the real one , almost 15 *C less than it should be) collecting data of a sht25 attached to the board. of course on different RPi pins. \r\nHow that is possible. I know the SHT75 dont have a native I2C protocol but also i know that in my experience it's almost the same protocol. It is possible for both sensors to share the same library and daemon to mistake? Maybe that can be the reason for the crash, because i inspected the SHT75 sensor and i tested it on another board (dsPIC33F) and it works perfectly. Also i'm sure it's not Mycodo's fault , but it can be a bug or something ?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/261", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/261/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/261/events", "html_url": "https://github.com/kizniche/Mycodo/issues/261", "id": 237791693, "node_id": "MDU6SXNzdWUyMzc3OTE2OTM=", "number": 261, "title": "BMP and DS18B20 sensors error", "user": {"login": "cohe4ko", "id": 805783, "node_id": "MDQ6VXNlcjgwNTc4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/805783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cohe4ko", "html_url": "https://github.com/cohe4ko", "followers_url": "https://api.github.com/users/cohe4ko/followers", "following_url": "https://api.github.com/users/cohe4ko/following{/other_user}", "gists_url": "https://api.github.com/users/cohe4ko/gists{/gist_id}", "starred_url": "https://api.github.com/users/cohe4ko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cohe4ko/subscriptions", "organizations_url": "https://api.github.com/users/cohe4ko/orgs", "repos_url": "https://api.github.com/users/cohe4ko/repos", "events_url": "https://api.github.com/users/cohe4ko/events{/privacy}", "received_events_url": "https://api.github.com/users/cohe4ko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-06-22T09:54:42Z", "updated_at": "2017-08-10T00:03:24Z", "closed_at": "2017-08-10T00:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.0.35\r\n \r\n#### Problem Description\r\nI reboot my device every day at 3 AM. Mycodo is used for greenhouse automation. there is 7 DS18B20 sensors and one BMP sensor. \r\nI did not find any logic but sometimes random DS18B20 and BMP sensors disappear from Mycodo. After cycle of Deactivate/Activate for the sensors - everything becomes ok. \r\n ", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/259", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/259/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/259/events", "html_url": "https://github.com/kizniche/Mycodo/issues/259", "id": 237040151, "node_id": "MDU6SXNzdWUyMzcwNDAxNTE=", "number": 259, "title": "opencv camera error", "user": {"login": "hamster007", "id": 20134624, "node_id": "MDQ6VXNlcjIwMTM0NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/20134624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamster007", "html_url": "https://github.com/hamster007", "followers_url": "https://api.github.com/users/hamster007/followers", "following_url": "https://api.github.com/users/hamster007/following{/other_user}", "gists_url": "https://api.github.com/users/hamster007/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamster007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamster007/subscriptions", "organizations_url": "https://api.github.com/users/hamster007/orgs", "repos_url": "https://api.github.com/users/hamster007/repos", "events_url": "https://api.github.com/users/hamster007/events{/privacy}", "received_events_url": "https://api.github.com/users/hamster007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-06-19T22:18:22Z", "updated_at": "2023-03-01T05:58:20Z", "closed_at": "2017-12-20T03:55:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version:5.0.30\r\n \r\n#### Problem Description\r\nPlease list:when taking picture\r\n\r\n  - what were you trying to do\r\n  - specific setup details that are involved\r\n \r\n### Errors\r\n\r\nError 500: Internal Server Error\r\n\r\nSomething bad happened but it's probably not your fault. Letting the developers know about these issues is crucial to supporting Mycodo. Please submit a new issue on GitHub with the following error traceback (copy the entire traceback):\r\n\r\nError (Full Traceback):\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/var/www/mycodo/env/lib/python2.7/site-packages/flask_login/utils.py\", line 228, in decorated_view\r\n    return func(*args, **kwargs)\r\n  File \"/var/www/mycodo/mycodo/mycodo_flask/page_routes.py\", line 118, in page_camera\r\n    camera_record('photo', mod_camera)\r\n  File \"/var/www/mycodo/mycodo/devices/camera.py\", line 172, in camera_record\r\n    img_edited = img_orig.copy()\r\nAttributeError: 'NoneType' object has no attribute 'copy'\r\n\r\n\r\n  - List any errors you encountered.\r\n  - Copy and pasting crash logs, or link to any specific\r\ncode lines you've isolated (please use GitHub permalinks for this)\r\n\r\n\r\n### Steps to Reproduce the issue:\r\nHow can this issue be reproduced?\r\n 1. step 1\r\n 2. step 2...\r\n 3. etc\r\n \r\n### Additional Notes\r\nIs there anything that should be added to make it easier\r\nto address this issue?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/254", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/254/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/254/events", "html_url": "https://github.com/kizniche/Mycodo/issues/254", "id": 234116167, "node_id": "MDU6SXNzdWUyMzQxMTYxNjc=", "number": 254, "title": "\"method raised IOError: [Errno 24] Too many open files\"", "user": {"login": "Ryobidelacroix", "id": 20903083, "node_id": "MDQ6VXNlcjIwOTAzMDgz", "avatar_url": "https://avatars.githubusercontent.com/u/20903083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ryobidelacroix", "html_url": "https://github.com/Ryobidelacroix", "followers_url": "https://api.github.com/users/Ryobidelacroix/followers", "following_url": "https://api.github.com/users/Ryobidelacroix/following{/other_user}", "gists_url": "https://api.github.com/users/Ryobidelacroix/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ryobidelacroix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ryobidelacroix/subscriptions", "organizations_url": "https://api.github.com/users/Ryobidelacroix/orgs", "repos_url": "https://api.github.com/users/Ryobidelacroix/repos", "events_url": "https://api.github.com/users/Ryobidelacroix/events{/privacy}", "received_events_url": "https://api.github.com/users/Ryobidelacroix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 39, "created_at": "2017-06-07T07:27:00Z", "updated_at": "2017-10-24T13:17:04Z", "closed_at": "2017-10-24T13:17:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 5.0.33\r\n \r\n#### Problem Description\r\nAll (temperature) sensors showing '0.00' \r\n\r\n### Errors\r\n**(I have attached a full copy of the Daemon Log as a txt file)** \r\n\r\n```\r\n2017-06-07 11:03:18,941 - mycodo.sensors.raspi - ERROR - RaspberryPiCPUTemp.get_measurement() method raised IOError: [Errno 24] Too many open files: '/sys/class/thermal/thermal_zone0/temp'\r\n2017-06-07 11:03:20,138 - mycodo.pid_1 - ERROR - Run Error: (sqlite3.OperationalError) unable to open database file\r\n\r\n========= Remote Traceback (1) =========\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/rpyc/core/protocol.py\", line 329, in _dispatch_request\r\n  File \"/var/www/mycodo/env/local/lib/python2.7/site-packages/rpyc/core/protocol.py\", line 583, in _handle_call\r\n  File \"/var/www/mycodo/mycodo/mycodo_daemon.py\", line 201, in exposed_relay_off\r\n  File \"/var/www/mycodo/mycodo/mycodo_daemon.py\", line 553, in relay_off\r\n  File \"/var/www/mycodo/mycodo/controller_relay.py\", line 348, in relay_on_off\r\n    self.check_conditionals(relay_id, duration)\r\n  File \"/var/www/mycodo/mycodo/controller_relay.py\", line 397, in check_conditionals\r\n    for each_conditional in conditionals.all():\r\n```\r\n\r\n(continues) \r\n\r\n[DaemonLog.txt](https://github.com/kizniche/Mycodo/files/1057167/DaemonLog.txt)\r\n\r\n\r\n### Steps to Reproduce the issue:\r\nUnable to replicate so far.\r\nIssue appears to be **resolved by restarting the Pi**, but submitting logs just as an FYI.", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/228", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/228/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/228/events", "html_url": "https://github.com/kizniche/Mycodo/issues/228", "id": 217037513, "node_id": "MDU6SXNzdWUyMTcwMzc1MTM=", "number": 228, "title": "Cannot Stream Via picamera", "user": {"login": "Drakthule", "id": 25154284, "node_id": "MDQ6VXNlcjI1MTU0Mjg0", "avatar_url": "https://avatars.githubusercontent.com/u/25154284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Drakthule", "html_url": "https://github.com/Drakthule", "followers_url": "https://api.github.com/users/Drakthule/followers", "following_url": "https://api.github.com/users/Drakthule/following{/other_user}", "gists_url": "https://api.github.com/users/Drakthule/gists{/gist_id}", "starred_url": "https://api.github.com/users/Drakthule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Drakthule/subscriptions", "organizations_url": "https://api.github.com/users/Drakthule/orgs", "repos_url": "https://api.github.com/users/Drakthule/repos", "events_url": "https://api.github.com/users/Drakthule/events{/privacy}", "received_events_url": "https://api.github.com/users/Drakthule/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 723682219, "node_id": "MDU6TGFiZWw3MjM2ODIyMTk=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/Priority", "name": "Priority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-03-26T08:47:37Z", "updated_at": "2017-11-10T22:49:48Z", "closed_at": "2017-11-10T22:49:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n5.0.14\r\n \r\n#### Problem Description\r\nTime lapse and still capture seems to work okay, however whenever i try to start the stream using picamera library nothing appears in the browser window. no error of any sort it just does nothing.i checked the daemon log, doesnt seem to indicate any errors.\r\n\r\nthe camera in question worked fine back in 4.x.x, its listed below\r\nhttps://www.amazon.com/gp/product/B01ER2SKFS/ref=oh_aui_detailpage_o08_s00?ie=UTF8&psc=1\r\n\r\nmycodo log listed below\r\n\r\n> 2017-03-25 22:03:11,641 - mycodo.sensor_2 - ERROR - StopIteration raised. Possibly could not read sensor. Ensure it's connected properly and detected.\r\n2017-03-25 22:03:12,129 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:12,166 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:12,200 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:12,228 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:12,230 - mycodo.lcd_1 - ERROR - IOError: Unable to output to LCD.\r\n2017-03-25 22:03:17,257 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:17,284 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:17,308 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:17,332 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:17,334 - mycodo.lcd_1 - ERROR - IOError: Unable to output to LCD.\r\n2017-03-25 22:03:20,476 - mycodo.sensor_1 - ERROR - StopIteration raised. Possibly could not read sensor. Ensure it's connected properly and detected.\r\n2017-03-25 22:03:22,366 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:22,389 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:22,440 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:22,467 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:03:22,469 - mycodo.lcd_1 - ERROR - IOError: Unable to output to LCD.\r\n2017-03-25 21:27:26,882 - mycodo - INFO - Mycodo daemon v5.0.14 starting\r\n2017-03-25 21:27:27,374 - mycodo - INFO - Anonymous statistics enabled\r\n2017-03-25 21:27:27,756 - mycodo.relay - INFO - Relay 1 setup on pin 26 and turned OFF (OFF=HIGH)\r\n2017-03-25 21:27:27,757 - mycodo.relay - INFO - Relay 2 setup on pin 6 and turned OFF (OFF=HIGH)\r\n2017-03-25 21:27:27,758 - mycodo.relay - INFO - Relay 3 setup on pin 19 and turned OFF (OFF=HIGH)\r\n2017-03-25 21:27:27,759 - mycodo.relay - INFO - Relay 4 setup on pin 13 and turned OFF (OFF=HIGH)\r\n2017-03-25 21:27:27,760 - mycodo.relay - INFO - Relay controller activated in 94.2 ms\r\n2017-03-25 21:27:27,761 - mycodo - INFO - All activated timer controllers started\r\n2017-03-25 21:27:28,025 - mycodo.sensor_1 - INFO - Activated in 204.2 ms\r\n2017-03-25 21:27:28,263 - mycodo.sensor_2 - INFO - Activated in 176.5 ms\r\n2017-03-25 21:27:28,264 - mycodo - INFO - All activated sensor controllers started\r\n2017-03-25 21:27:28,265 - mycodo - INFO - All activated PID controllers started\r\n2017-03-25 21:27:28,919 - mycodo.lcd_1 - INFO - Activated in 567.1 ms\r\n2017-03-25 21:27:28,920 - mycodo - INFO - All activated LCD controllers started\r\n2017-03-25 21:27:28,921 - mycodo - INFO - Mycodo daemon v5.0.14 started in 2.039 seconds\r\n2017-03-25 21:27:28,930 - mycodo - INFO - 38.692 MB ram in use\r\n2017-03-25 22:05:28,301 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:05:28,353 - mycodo.influxdb - ERROR - ERROR parsing last influx measurement\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/influx.py\", line 112, in read_last_influxdb\r\n    number = len(last_measurement['series'][0]['values'])\r\nKeyError: 'series'\r\n2017-03-25 22:36:08,478 - mycodo.timer_3 - INFO - Activated in 42.0 ms\r\n2017-03-25 22:36:10,352 - mycodo.timer_1 - INFO - Activated in 56.8 ms\r\n2017-03-25 22:36:13,696 - mycodo.timer_2 - INFO - Activated in 47.9 ms\r\n2017-03-25 22:36:35,404 - mycodo.timer_1 - INFO - Deactivated in 139.1 ms\r\n2017-03-25 22:38:01,904 - mycodo.timer_2 - INFO - Deactivated in 61.7 ms\r\n2017-03-25 22:38:21,328 - mycodo.timer_1 - INFO - Activated in 46.4 ms\r\n2017-03-25 22:38:24,644 - mycodo.timer_2 - INFO - Activated in 89.5 ms\r\n2017-03-26 01:18:39,997 - mycodo.timer_2 - INFO - Deactivated in 96.1 ms\r\n2017-03-26 01:18:44,115 - mycodo.timer_2 - INFO - Activated in 81.3 ms\r\n![cam1](https://cloud.githubusercontent.com/assets/25154284/24329809/14badaae-11c6-11e7-803c-7e0da0899d57.jpg)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/218", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/218/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/218/events", "html_url": "https://github.com/kizniche/Mycodo/issues/218", "id": 216063654, "node_id": "MDU6SXNzdWUyMTYwNjM2NTQ=", "number": 218, "title": "Geocoder exception", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-22T13:33:08Z", "updated_at": "2017-03-23T18:17:11Z", "closed_at": "2017-03-23T18:17:11Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This has been confirmed to affect at least one system, running on a Pi ZeroW. It was able to successfully execute the ```geocoder.ip('me').country``` function at least once.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/var/www/mycodo/mycodo/utils/statistics.py\", line 279, in send_anonymous_stats\r\n    add_update_csv(STATS_CSV, 'country', geocoder.ip('me').country)\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/api.py\", line 418, in ip\r\n    return get(location, provider='ipinfo', **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/api.py\", line 144, in get\r\n    return options[provider][method](location, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/ipinfo.py\", line 23, in __init__\r\n    self._initialize(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/base.py\", line 135, in _initialize\r\n    self._json()\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/base.py\", line 142, in _json\r\n    value = getattr(self, key)\r\n  File \"/usr/local/lib/python2.7/dist-packages/geocoder/ipinfo.py\", line 45, in address\r\n    return '{0}, {1}, {2}'.format(self.city, self.state, self.country)\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe1' in position 1: ordinal not in range(128)\r\n```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/197", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/197/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/197/events", "html_url": "https://github.com/kizniche/Mycodo/issues/197", "id": 210475849, "node_id": "MDU6SXNzdWUyMTA0NzU4NDk=", "number": 197, "title": "bme280?", "user": {"login": "Drakthule", "id": 25154284, "node_id": "MDQ6VXNlcjI1MTU0Mjg0", "avatar_url": "https://avatars.githubusercontent.com/u/25154284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Drakthule", "html_url": "https://github.com/Drakthule", "followers_url": "https://api.github.com/users/Drakthule/followers", "following_url": "https://api.github.com/users/Drakthule/following{/other_user}", "gists_url": "https://api.github.com/users/Drakthule/gists{/gist_id}", "starred_url": "https://api.github.com/users/Drakthule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Drakthule/subscriptions", "organizations_url": "https://api.github.com/users/Drakthule/orgs", "repos_url": "https://api.github.com/users/Drakthule/repos", "events_url": "https://api.github.com/users/Drakthule/events{/privacy}", "received_events_url": "https://api.github.com/users/Drakthule/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-02-27T12:55:09Z", "updated_at": "2017-10-24T13:19:40Z", "closed_at": "2017-10-24T13:19:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "i was wondering i dont seem to have a humidity reading from my new bme280, is this normal?", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/157", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/157/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/157/events", "html_url": "https://github.com/kizniche/Mycodo/issues/157", "id": 191812014, "node_id": "MDU6SXNzdWUxOTE4MTIwMTQ=", "number": 157, "title": "Upgrade not working (404 Error)", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-26T15:44:17Z", "updated_at": "2016-12-03T15:41:53Z", "closed_at": "2016-12-03T15:41:53Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Mycodo Issue Report:\r\n  - Specific Mycodo Version: 4.0.26\r\n \r\n#### Problem Description\r\n\r\n  - Go to the Admin/Upgrade page and click the Upgrade button\r\n \r\n### Errors\r\n\r\n  - 404 page not found\r\n\r\n### Cause\r\n\r\nI happened to have broken the upgrade system with the last Mycodo version (4.0.26). The form action is suppose to now direct to /admin/upgrade but it was never updated to the address, and tries to direct to the non-existent /upgrade.\r\n\r\n### Solution\r\n\r\nThis has been fixed with commit 1ad6e47. A manual upgrade can be performed to fix the issue. As outlined in the README, just issue the following command at a terminal to upgrade your system:\r\n\r\n```sudo ~/Mycodo/mycodo/scripts/update_mycodo.sh upgrade```", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/115", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/115/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/115/events", "html_url": "https://github.com/kizniche/Mycodo/issues/115", "id": 180493681, "node_id": "MDU6SXNzdWUxODA0OTM2ODE=", "number": 115, "title": "Bug: Text PK can have collisions", "user": {"login": "etiology", "id": 5456095, "node_id": "MDQ6VXNlcjU0NTYwOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5456095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiology", "html_url": "https://github.com/etiology", "followers_url": "https://api.github.com/users/etiology/followers", "following_url": "https://api.github.com/users/etiology/following{/other_user}", "gists_url": "https://api.github.com/users/etiology/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiology/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiology/subscriptions", "organizations_url": "https://api.github.com/users/etiology/orgs", "repos_url": "https://api.github.com/users/etiology/repos", "events_url": "https://api.github.com/users/etiology/events{/privacy}", "received_events_url": "https://api.github.com/users/etiology/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2016-10-02T03:52:21Z", "updated_at": "2017-05-24T09:07:48Z", "closed_at": "2017-05-24T09:07:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'll fix this but let me describe the problem and get some info about how the PK is used.\n\nThere are two primary key strategies happening in the code base:\n  1) An [auto-incrementing Integer](https://github.com/kizniche/Mycodo/blob/3864c8b80b20871256f0aa73314699a8e5f3c15f/mycodo/databases/users_db/models.py#L36)\n  2) A [Text based key](https://github.com/kizniche/Mycodo/blob/3864c8b80b20871256f0aa73314699a8e5f3c15f/mycodo/databases/mycodo_db/models.py#L317) that is generated by a [random string of length 8](https://github.com/kizniche/Mycodo/blob/3864c8b80b20871256f0aa73314699a8e5f3c15f/mycodo/flaskutils.py#L166-L167)\n\nDuring the tests that I've ran I have found that there is a random `UNIQUE constraint failed` error that occurs when creating models that use the **text** based primary key.  This makes sense and it would cause issues.\n\nAt first I thought it would be simple to normalize the primary key strategy and change everything over an integer since this is part of [best practices](http://stackoverflow.com/questions/337503/whats-the-best-practice-for-primary-keys-in-tables?answertab=votes#tab-top) for keys.  However I found that the primary key is actually used in [flashing messages to the user](https://github.com/kizniche/Mycodo/blob/3864c8b80b20871256f0aa73314699a8e5f3c15f/mycodo/flaskutils.py#L2100-L2102).  \n\nI would suggest that the models move to using an integer base primary key and we add a [uuid](https://en.wikipedia.org/wiki/Universally_unique_identifier) to handle the user facing identifier.  The is very little chance of getting a collision and it could be created when the model is created.  We could then move all of the models over to being consistent with their primary keys.  UUIDs look like this:  \n\n```\ne9505ffb-9496-4fe6-b558-1407a7386f29\n```\n\nLet me know what your thoughts are on this.  Like I said I'll take care of implementing it when I push the tests I'm writing for the models since I can see where they are failing.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/108", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/108/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/108/events", "html_url": "https://github.com/kizniche/Mycodo/issues/108", "id": 177618401, "node_id": "MDU6SXNzdWUxNzc2MTg0MDE=", "number": 108, "title": "Multiple PID controllers can be activated using the same relay", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-17T23:48:38Z", "updated_at": "2017-10-24T13:13:38Z", "closed_at": "2017-10-24T13:13:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Issue: If two different PID controllers are active and modulating one relay, this could possibly cause conflicts with regulation.\n\nResolution: Prevent a PID controller from activating if any of it's relays are also used in any currently-active PID controllers.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/106", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/106/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/106/events", "html_url": "https://github.com/kizniche/Mycodo/issues/106", "id": 176932145, "node_id": "MDU6SXNzdWUxNzY5MzIxNDU=", "number": 106, "title": "Unable to download log files", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-14T15:03:57Z", "updated_at": "2016-09-14T15:04:34Z", "closed_at": "2016-09-14T15:04:34Z", "author_association": "OWNER", "active_lock_reason": null, "body": "To replicate:\nCreate and start a log controller.\nWait for at least one measurement to be saved for the \"Download Log\" link to appear on the log page.\nClick the \"Download Log\" link.\nThe web server will display the generic error message.\n\nIssue:\nThis is due to improper permissions. The log files are only readable by root, instead of the user mycodo (user of the web server).\n\nSolution:\nA fix will be pushed shortly to correct the issue. After the update, any logs unable to be downloaded prior to the update should now be able to be downloaded.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/97", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/97/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/97/events", "html_url": "https://github.com/kizniche/Mycodo/issues/97", "id": 167246245, "node_id": "MDU6SXNzdWUxNjcyNDYyNDU=", "number": 97, "title": "Time is bugged, after power loss", "user": {"login": "itzik16", "id": 3527186, "node_id": "MDQ6VXNlcjM1MjcxODY=", "avatar_url": "https://avatars.githubusercontent.com/u/3527186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itzik16", "html_url": "https://github.com/itzik16", "followers_url": "https://api.github.com/users/itzik16/followers", "following_url": "https://api.github.com/users/itzik16/following{/other_user}", "gists_url": "https://api.github.com/users/itzik16/gists{/gist_id}", "starred_url": "https://api.github.com/users/itzik16/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itzik16/subscriptions", "organizations_url": "https://api.github.com/users/itzik16/orgs", "repos_url": "https://api.github.com/users/itzik16/repos", "events_url": "https://api.github.com/users/itzik16/events{/privacy}", "received_events_url": "https://api.github.com/users/itzik16/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-07-24T18:23:23Z", "updated_at": "2016-09-08T14:17:45Z", "closed_at": "2016-09-08T14:17:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I've just made a fresh install of mycodo and btw the install script is a bit buggy I had to remove all the pip remove commands in order to make fresh install you should check if they are installed before you force uninstall them which cause an error and abort the installation.\nany way the main reason I opened this issue is becuase of the time, the system time is correct I've checked in shell and on mycodo tools too.\nbut the live readings are from says it 5 hours ago and still work as it should, the readings still works and added to the database, I think you should add the option to choose where to grab the time stamp for, for example external time server, which you can select the correct timezone.\nthanks in advance mate, keep on the great job. :+1: \n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/93", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/93/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/93/events", "html_url": "https://github.com/kizniche/Mycodo/issues/93", "id": 166448846, "node_id": "MDU6SXNzdWUxNjY0NDg4NDY=", "number": 93, "title": "Can't rename sensor or add GPIO", "user": {"login": "berserktron3k", "id": 20486420, "node_id": "MDQ6VXNlcjIwNDg2NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/20486420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/berserktron3k", "html_url": "https://github.com/berserktron3k", "followers_url": "https://api.github.com/users/berserktron3k/followers", "following_url": "https://api.github.com/users/berserktron3k/following{/other_user}", "gists_url": "https://api.github.com/users/berserktron3k/gists{/gist_id}", "starred_url": "https://api.github.com/users/berserktron3k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/berserktron3k/subscriptions", "organizations_url": "https://api.github.com/users/berserktron3k/orgs", "repos_url": "https://api.github.com/users/berserktron3k/repos", "events_url": "https://api.github.com/users/berserktron3k/events{/privacy}", "received_events_url": "https://api.github.com/users/berserktron3k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-19T22:07:46Z", "updated_at": "2016-07-19T22:21:48Z", "closed_at": "2016-07-19T22:21:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to add RPi CPU Temp or Load sensors and rename them, or add and rename/assign GPIO to DHT22, I get the following in the web interface:\n\nSensor settings were not able to be modified: could not convert string to float:\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/93/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/92", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/92/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/92/events", "html_url": "https://github.com/kizniche/Mycodo/issues/92", "id": 166427523, "node_id": "MDU6SXNzdWUxNjY0Mjc1MjM=", "number": 92, "title": "Install on Jessie Full ", "user": {"login": "wangine", "id": 20494947, "node_id": "MDQ6VXNlcjIwNDk0OTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/20494947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangine", "html_url": "https://github.com/wangine", "followers_url": "https://api.github.com/users/wangine/followers", "following_url": "https://api.github.com/users/wangine/following{/other_user}", "gists_url": "https://api.github.com/users/wangine/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangine/subscriptions", "organizations_url": "https://api.github.com/users/wangine/orgs", "repos_url": "https://api.github.com/users/wangine/repos", "events_url": "https://api.github.com/users/wangine/events{/privacy}", "received_events_url": "https://api.github.com/users/wangine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-07-19T20:28:00Z", "updated_at": "2016-09-23T23:14:30Z", "closed_at": "2016-09-23T23:14:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is not a issue but i dont know where to write \nThe single problem of Jessie Full is the **PIP** module , **pip 1.5.6** , that's to old , and new update will dont remove and will cause problems. \n\n1; check after a fresh install the pip version \n**:~ $ sudo pip --version**\nwill show like this \n_pip 1.5.6 from /usr/lib/python2.7/dist-packages (python 2.7)_\n\n2; remove pip \n**sudo apt-get purge python-pip**\n\n3; instal a new version of pip\n**:~ $ sudo easy_install pip**\n\n4; check again that \n**:~ $ sudo pip --version**\nshold be \n_pip 8.1.2 from /usr/local/lib/python2.7/dist-packages/pip-8.1.2-py2.7.egg (python 2.7)_\n\n5; install updates \"will take some time\"\n**sudo apt-get update -y && sudo apt-get upgrade -y && sudo apt-get autoremove -y**\n\n6; Follow the Kyle instructions from here \n**sudo raspi-config**\n\n``` /\nEverything will work like a charm \nThe ideea comes last night from @kizniche \n```\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/92/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/92/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/89", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/89/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/89/events", "html_url": "https://github.com/kizniche/Mycodo/issues/89", "id": 165986874, "node_id": "MDU6SXNzdWUxNjU5ODY4NzQ=", "number": 89, "title": "Camera Capture Crashes Apache", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2016-07-17T17:38:23Z", "updated_at": "2016-08-09T22:20:54Z", "closed_at": "2016-08-09T22:20:54Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Using the Python module picamera, a simple image capture is executed from the Camera page, and causes an error (500) with a cryptic and unhelpful error. I've isolated the issue to the camera code in daemonutils.py's camera_record() function, which is essentially:\n\n```\nnow = time.time()\ntimestamp = datetime.datetime.fromtimestamp(now).strftime('%Y-%m-%d_%H-%M-%S')\npath_stills = '{}/camera-stills'.format(INSTALL_DIRECTORY)\nstill_filename = 'Still-{}.jpg'.format(timestamp)\noutput_filepath = '{}/{}'.format(path_stills, still_filename)\nassure_path_exists(path_stills)\nwith picamera.PiCamera() as camera:\n    camera.resolution = (1296, 972)\n    camera.hflip = True\n    camera.vflip = True\n    camera.start_preview()\n    time.sleep(2)  # Camera warm-up time\n    camera.capture(output_filepath, use_video_port=True)\n```\n\nApache Log:\n\n```\n[Sun Jul 17 13:33:35.536307 2016] [wsgi:error] [pid 19033] [client 192.168.0.4:55927] Truncated or oversized response headers received from daemon process 'mycodo_flask': /var/www/mycodo/mycodo_flask.wsgi, referer: https://192.168.0.7/camera\n[Sun Jul 17 13:33:36.244687 2016] [wsgi:info] [pid 21228] mod_wsgi (pid=21228): Attach interpreter ''.\n```\n\n\"Truncated or oversized response headers\" hasn't led to any fixable solutions from Google.\n\nInterestingly the error doesn't occur when the web server is running as a Flask app in debug mode (and the image is captured and saved), but it does when running in production mode.\n\nTo run as an app in debug mode:\n`sudo ~/Mycodo/mycodo/mycodo_flask.py -d`\n\nTo run in production mode:\n`sudo /etc/init.d/apache2 start`\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/89/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/79", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/79/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/79/events", "html_url": "https://github.com/kizniche/Mycodo/issues/79", "id": 132416978, "node_id": "MDU6SXNzdWUxMzI0MTY5Nzg=", "number": 79, "title": "Strange behaviour with timers", "user": {"login": "lordzweigar", "id": 8279029, "node_id": "MDQ6VXNlcjgyNzkwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/8279029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lordzweigar", "html_url": "https://github.com/lordzweigar", "followers_url": "https://api.github.com/users/lordzweigar/followers", "following_url": "https://api.github.com/users/lordzweigar/following{/other_user}", "gists_url": "https://api.github.com/users/lordzweigar/gists{/gist_id}", "starred_url": "https://api.github.com/users/lordzweigar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lordzweigar/subscriptions", "organizations_url": "https://api.github.com/users/lordzweigar/orgs", "repos_url": "https://api.github.com/users/lordzweigar/repos", "events_url": "https://api.github.com/users/lordzweigar/events{/privacy}", "received_events_url": "https://api.github.com/users/lordzweigar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-09T13:17:56Z", "updated_at": "2016-07-02T18:27:03Z", "closed_at": "2016-07-02T18:27:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Raspberry Pi 1B.\njessie, kernel 4.1.13+\n\nI have been experiencing strange behaviour with the timers,\nIf i set a timer for one second on, and 1 off. my relays will be on for about a second, but will be off for 7.5\nFor most this might no be an issue, but as I am using this as a controller for HPA Aeroponics, sub-second timing would be preferable, and having such a great delay that doesn't seem to be consistent poses a serious issue. One other thing: it would be really nice to have a save all button on the sensors page, so that it doesn't have to reload after changing every little thing.\n- regards LordZweigar\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/79/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/76", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/76/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/76/events", "html_url": "https://github.com/kizniche/Mycodo/issues/76", "id": 129486825, "node_id": "MDU6SXNzdWUxMjk0ODY4MjU=", "number": 76, "title": "Special symbols in passwords are causing problems at log-in", "user": {"login": "AncientGate", "id": 16940327, "node_id": "MDQ6VXNlcjE2OTQwMzI3", "avatar_url": "https://avatars.githubusercontent.com/u/16940327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AncientGate", "html_url": "https://github.com/AncientGate", "followers_url": "https://api.github.com/users/AncientGate/followers", "following_url": "https://api.github.com/users/AncientGate/following{/other_user}", "gists_url": "https://api.github.com/users/AncientGate/gists{/gist_id}", "starred_url": "https://api.github.com/users/AncientGate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AncientGate/subscriptions", "organizations_url": "https://api.github.com/users/AncientGate/orgs", "repos_url": "https://api.github.com/users/AncientGate/repos", "events_url": "https://api.github.com/users/AncientGate/events{/privacy}", "received_events_url": "https://api.github.com/users/AncientGate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-01-28T15:39:36Z", "updated_at": "2017-01-05T22:26:25Z", "closed_at": "2017-01-05T22:26:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**AFFECTED:**  Log-in script / password processing script\n\n**ERROR:** \"Invalid cookie data\" (generated by index.php line 211)\n\n**PROBLEM DESCRIPTION 1:**\nAfter setting the admin password via installation step:\n`sudo /var/www/mycodo/update-database.py -i`\nexample of password: #pR*uDjbLK@Jb!!NElkJSpx73j\nthen due to special symbols are meaningful for the script itself, so it does process those wrong.\nPlease confirm also that database can keep this type of passwords, since it may interfere with the script which is responsible for password encryption too.\nError will appear on log-in \"Invalid cookie data\" \n\n**TEMPORARY SOLUTION:** Use passwords Alpha-Numeric only and if got this error already,\nthen re-run database initialization again (`sudo /var/www/mycodo/update-database.py -i`) and set new alpha-numeric password.\nIn case of you set in browser to memorize the password, the browser have to be reset (empty cookies, and passwords for past hours), otherwise on page load the error will appear again.\n\n**PROBLEM DESCRIPTION 2:**\nIf have created initially with :\n`sudo /var/www/mycodo/update-database.py -i`\nuser database, and then recreated it by any reason same way, while you had saved your password in browser (specifically if the browser had a cookie kept), then error will appear on log-in \"Invalid cookie data\" \n\n**TEMPORARY SOLUTION:** Delete cookies for the Mycodo website in your browser and reload the page\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/61", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/61/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/61/events", "html_url": "https://github.com/kizniche/Mycodo/issues/61", "id": 118952364, "node_id": "MDU6SXNzdWUxMTg5NTIzNjQ=", "number": 61, "title": "PID controller Output vs. Period issue", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-26T01:21:03Z", "updated_at": "2015-11-27T04:11:31Z", "closed_at": "2015-11-27T04:11:31Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The issue is basically this:\nThe PID output will be the sum of the P, I, and D that is calculated from the input. If output is used as the number of seconds a relay is to turn on for. If the measure interval (the time between the sensor read/PID update) is lower than the output, the relay will not turn on for the entire duration of the output. For instance, if the PID output is 200 seconds and the measure interval is 100 seconds, after 100 seconds have passed of the 200 second on duration, the new PID output will turn the relay on for the new output, cutting the 200 seconds short (it will only have been on for 100 seconds). This can present a problem in certain circumstances. Take the following example:\n\n![example graph pid issue](https://cloud.githubusercontent.com/assets/838427/11412967/76478248-93b1-11e5-9a6e-d09cb6f35d51.jpg)\n\nHere you can see the temperature begins to drop around 5 am, presumably due to the outside conditions. At this point, the PID output begins to rise in response (red line of PID output added by me), however the actual duration the relay turns on for (purple vertical lines) cannot exceed ~120 seconds because that is the measure interval. You can see that at 10 am the temperature begins to exceed the 29C set point and continues to climb until 1 pm, when the PID output catches up and lowers the on duration below 120 seconds and allows the temperature to fall.\n\nThat's the basic problem. I'll be experimenting and thinking of ways to fix this issue, but if anyone sees how do do this elegantly, please share.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/61/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/50", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/50/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/50/events", "html_url": "https://github.com/kizniche/Mycodo/issues/50", "id": 118326186, "node_id": "MDU6SXNzdWUxMTgzMjYxODY=", "number": 50, "title": "Odd trigger behavior / things not logging / timer problems", "user": {"login": "MisterMeeseeks", "id": 15975424, "node_id": "MDQ6VXNlcjE1OTc1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/15975424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MisterMeeseeks", "html_url": "https://github.com/MisterMeeseeks", "followers_url": "https://api.github.com/users/MisterMeeseeks/followers", "following_url": "https://api.github.com/users/MisterMeeseeks/following{/other_user}", "gists_url": "https://api.github.com/users/MisterMeeseeks/gists{/gist_id}", "starred_url": "https://api.github.com/users/MisterMeeseeks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MisterMeeseeks/subscriptions", "organizations_url": "https://api.github.com/users/MisterMeeseeks/orgs", "repos_url": "https://api.github.com/users/MisterMeeseeks/repos", "events_url": "https://api.github.com/users/MisterMeeseeks/events{/privacy}", "received_events_url": "https://api.github.com/users/MisterMeeseeks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-23T06:26:44Z", "updated_at": "2015-11-23T23:27:45Z", "closed_at": "2015-11-23T08:16:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to set up a makeshift timer for light. So what I did was set turn on relay 1 (normal lights) for 64800 seconds (18 hours). Then I set up a trigger so that when relay 1 turns off, relay 4 (night light) is supposed to turn on for 21600 seconds (6 hours). And another trigger so that when relay 4 turns off, relay 1 is supposed to turn on for 64800 seconds again... so that it does a cycle.\n\nSo relay 1 works fine and turns off, turning relay 4 on... but after that, it stops triggering the cycle. Relay 4 turns off, but doesn't write to the log and doesn't trigger relay 1 to turn back on. If I start the cycle from the relay 4 starting point, it does the same thing, except that it logs 4 turning off and turns on relay 1, but doesn't turn relay 1 off, write 1 turning off to the log, or trigger relay 4 turning on.\n\nI'm not sure what the best way to do this is. I would love a time based trigger; so I could put \"Turn on relay 1 at 8:00am for ___ hours\" or \"Turn on relay 1 at ___ and off at ___\" would be even better.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/50/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/44", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/44/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/44/events", "html_url": "https://github.com/kizniche/Mycodo/issues/44", "id": 115106201, "node_id": "MDU6SXNzdWUxMTUxMDYyMDE=", "number": 44, "title": "Min PID relay duration not operating correctly", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-04T17:34:39Z", "updated_at": "2015-11-05T02:24:59Z", "closed_at": "2015-11-05T02:24:59Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The min duration is supposed to limit the relay minimum on duration. If the PID output is below this value, the relay is suppose not turn on at all. The current operation is if the PID value is positive and below the minimum duration, the relay will turn on for the minimum duration. \n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/44/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/42", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/42/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/42/events", "html_url": "https://github.com/kizniche/Mycodo/pull/42", "id": 114564186, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk0MTM5NjU=", "number": 42, "title": "Changed measure interval for PID regulator.", "user": {"login": "KnyazSh", "id": 14246716, "node_id": "MDQ6VXNlcjE0MjQ2NzE2", "avatar_url": "https://avatars.githubusercontent.com/u/14246716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KnyazSh", "html_url": "https://github.com/KnyazSh", "followers_url": "https://api.github.com/users/KnyazSh/followers", "following_url": "https://api.github.com/users/KnyazSh/following{/other_user}", "gists_url": "https://api.github.com/users/KnyazSh/gists{/gist_id}", "starred_url": "https://api.github.com/users/KnyazSh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KnyazSh/subscriptions", "organizations_url": "https://api.github.com/users/KnyazSh/orgs", "repos_url": "https://api.github.com/users/KnyazSh/repos", "events_url": "https://api.github.com/users/KnyazSh/events{/privacy}", "received_events_url": "https://api.github.com/users/KnyazSh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-11-02T10:12:27Z", "updated_at": "2015-11-04T20:52:42Z", "closed_at": "2015-11-03T20:30:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kizniche/Mycodo/pulls/42", "html_url": "https://github.com/kizniche/Mycodo/pull/42", "diff_url": "https://github.com/kizniche/Mycodo/pull/42.diff", "patch_url": "https://github.com/kizniche/Mycodo/pull/42.patch", "merged_at": "2015-11-03T20:30:10Z"}, "body": "Hi Kyle,\n\nI read a lot about PID control.\n The regulator assumes periodic influence and the period shall be constant. In your implementation the period depends on influence time.\nAs a result integral component of PID is calculated incorrectly since it considers the previous calculation.\n\nP.S. Your program controls climate in my cabinet with IT equipment. Separate thanks for the program in general!\n\nBest Regards,\nYuriy\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/42/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/38", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/38/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/38/events", "html_url": "https://github.com/kizniche/Mycodo/issues/38", "id": 112691905, "node_id": "MDU6SXNzdWUxMTI2OTE5MDU=", "number": 38, "title": "Cannot generate custom graph before 6 months from present", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-21T22:26:40Z", "updated_at": "2015-10-27T16:35:09Z", "closed_at": "2015-10-27T16:35:08Z", "author_association": "OWNER", "active_lock_reason": null, "body": "To get commit https://github.com/kizniche/Mycodo/commit/572dfeb56c37af0cb800e3a83f5c4366d6656156 working, I had to temporarily make custom graph generation only work for the past 6 months. It should be an easy fix once I look at that part of the code, but for now everything else works from this major overhaul of the custom graph generation.\n\nEssentially, the custom graph generation was handled in PHP. It is now handled by the Python function that generates the preset graphs on the Graph Tab.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/38/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/36", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/36/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/36/events", "html_url": "https://github.com/kizniche/Mycodo/issues/36", "id": 110839076, "node_id": "MDU6SXNzdWUxMTA4MzkwNzY=", "number": 36, "title": "Ability to hide thumbnails", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 174185312, "node_id": "MDU6TGFiZWwxNzQxODUzMTI=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-11T07:00:08Z", "updated_at": "2015-10-19T03:11:02Z", "closed_at": "2015-10-19T03:01:58Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Thumbnails in the notes section currently are not true \"thumbnails\" but merely scaled versions of the full-resolution image. Since this can be a big bandwidth hog, the option to show note thumbnails should be included in the settings.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/36/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/31", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/31/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/31/events", "html_url": "https://github.com/kizniche/Mycodo/issues/31", "id": 108782676, "node_id": "MDU6SXNzdWUxMDg3ODI2NzY=", "number": 31, "title": "Can't update after fresh install", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-09-29T02:26:28Z", "updated_at": "2015-09-29T02:45:46Z", "closed_at": "2015-09-29T02:42:16Z", "author_association": "OWNER", "active_lock_reason": null, "body": "@boomstick8x I'm starting this (and deleting the other posts) because it was off-topic for that thread (and there's a lot of chat, so I don't want who is subscribed to that issue to keep getting notified).\n\nIs there an error of any kind?\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/31/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/30", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/30/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/30/events", "html_url": "https://github.com/kizniche/Mycodo/issues/30", "id": 108768814, "node_id": "MDU6SXNzdWUxMDg3Njg4MTQ=", "number": 30, "title": "The restore log is moved as a part of the backup restore process", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-28T23:53:56Z", "updated_at": "2015-09-29T20:03:36Z", "closed_at": "2015-09-29T20:00:29Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Therefore, when one restores a backup and attempts to view the log with the \"Restore Log\" button, it will print the restore log from the backup and not of the status of the current restore. The status of the current restore will be found in the the system backup that was made as a part of the restore process.\n\nIt also appears part of the restore status will be sent to the restore log of the new backup and part to the restore log of the restored backup.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/30/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/29", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/29/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/29/events", "html_url": "https://github.com/kizniche/Mycodo/issues/29", "id": 108572042, "node_id": "MDU6SXNzdWUxMDg1NzIwNDI=", "number": 29, "title": "Add checks for spaces in relay/sensor values", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-28T01:02:01Z", "updated_at": "2015-10-17T21:23:14Z", "closed_at": "2015-10-17T21:23:14Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Since the update to the new logging method and history feature, if a value that is printed from the Data tab has a space in it, it will offset the columns and the data columns will not align properly with the name columns. This can be alleviated by not having spaces in values. Therefore, relay/sensor text values need to have spaces forbidden. A warning should be issued if a new value with a space is detected, \"Error: Values cannot contain spaces. Please resubmit without spaces.\"\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/29/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/26", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/26/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/26/events", "html_url": "https://github.com/kizniche/Mycodo/issues/26", "id": 108255019, "node_id": "MDU6SXNzdWUxMDgyNTUwMTk=", "number": 26, "title": "different width of relay and temperature parts in sensor tab", "user": {"login": "fadh3r", "id": 9988953, "node_id": "MDQ6VXNlcjk5ODg5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9988953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fadh3r", "html_url": "https://github.com/fadh3r", "followers_url": "https://api.github.com/users/fadh3r/followers", "following_url": "https://api.github.com/users/fadh3r/following{/other_user}", "gists_url": "https://api.github.com/users/fadh3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/fadh3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fadh3r/subscriptions", "organizations_url": "https://api.github.com/users/fadh3r/orgs", "repos_url": "https://api.github.com/users/fadh3r/repos", "events_url": "https://api.github.com/users/fadh3r/events{/privacy}", "received_events_url": "https://api.github.com/users/fadh3r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-25T03:26:24Z", "updated_at": "2015-09-25T04:00:38Z", "closed_at": "2015-09-25T04:00:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Relay and temperature blocks in sensor tab in case of css .sensor-parent{float: left and width: auto} are different width, and if I`m not wrong, removing float will solve this situation.\nAnd if it so, then in css table.relays{display: table; margin-right: auto; margin-left: auto; width: 100%;} will solve the last part of positioning.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/26/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/23", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/23/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/23/events", "html_url": "https://github.com/kizniche/Mycodo/issues/23", "id": 107871665, "node_id": "MDU6SXNzdWUxMDc4NzE2NjU=", "number": 23, "title": "HTsensor PID issue", "user": {"login": "zsole2", "id": 11209960, "node_id": "MDQ6VXNlcjExMjA5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/11209960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsole2", "html_url": "https://github.com/zsole2", "followers_url": "https://api.github.com/users/zsole2/followers", "following_url": "https://api.github.com/users/zsole2/following{/other_user}", "gists_url": "https://api.github.com/users/zsole2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsole2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsole2/subscriptions", "organizations_url": "https://api.github.com/users/zsole2/orgs", "repos_url": "https://api.github.com/users/zsole2/repos", "events_url": "https://api.github.com/users/zsole2/events{/privacy}", "received_events_url": "https://api.github.com/users/zsole2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-09-23T08:27:19Z", "updated_at": "2015-09-24T17:35:59Z", "closed_at": "2015-09-24T01:57:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After yesterday update:\n{\nDatabase version 11, v3.5.76 \nv3.5.76: Add minimum relay on duration for PID controllers\n}\nmy HT-HUM PID is broken. The P and I constants were deleted, and no new values is saved, either.\nI don't see any obvious in the code though.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/23/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/21", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/21/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/21/events", "html_url": "https://github.com/kizniche/Mycodo/issues/21", "id": 107432761, "node_id": "MDU6SXNzdWUxMDc0MzI3NjE=", "number": 21, "title": "Lock relay/sensor log while generating graph ", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-21T02:14:47Z", "updated_at": "2015-09-22T22:09:51Z", "closed_at": "2015-09-22T22:09:51Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Rarely, the generation of a graph will coincide with a relay or sensor log being written. This can result in the log not being able to be read and the graph generating without any data as input, causing the graph to be empty.\n\nThe relay or sensor log needs to be locked by mycodoGraph.py while the log is being read/parsed.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/21/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/16", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/16/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/16/events", "html_url": "https://github.com/kizniche/Mycodo/issues/16", "id": 106754941, "node_id": "MDU6SXNzdWUxMDY3NTQ5NDE=", "number": 16, "title": "Data tab / combined / Relay Run Time : graph is \"blank\"", "user": {"login": "Myke974", "id": 1829188, "node_id": "MDQ6VXNlcjE4MjkxODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1829188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Myke974", "html_url": "https://github.com/Myke974", "followers_url": "https://api.github.com/users/Myke974/followers", "following_url": "https://api.github.com/users/Myke974/following{/other_user}", "gists_url": "https://api.github.com/users/Myke974/gists{/gist_id}", "starred_url": "https://api.github.com/users/Myke974/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Myke974/subscriptions", "organizations_url": "https://api.github.com/users/Myke974/orgs", "repos_url": "https://api.github.com/users/Myke974/repos", "events_url": "https://api.github.com/users/Myke974/events{/privacy}", "received_events_url": "https://api.github.com/users/Myke974/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-16T11:37:03Z", "updated_at": "2015-10-26T14:35:21Z", "closed_at": "2015-10-26T14:35:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When analysing my graph with the DATA tab, I realise that \"combined\" won't show the relays run time on the graph\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/16/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/15", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/15/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/15/events", "html_url": "https://github.com/kizniche/Mycodo/pull/15", "id": 106666045, "node_id": "MDExOlB1bGxSZXF1ZXN0NDUxMTMzODc=", "number": 15, "title": "Fix DS18B20 support, same fix relay", "user": {"login": "KnyazSh", "id": 14246716, "node_id": "MDQ6VXNlcjE0MjQ2NzE2", "avatar_url": "https://avatars.githubusercontent.com/u/14246716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KnyazSh", "html_url": "https://github.com/KnyazSh", "followers_url": "https://api.github.com/users/KnyazSh/followers", "following_url": "https://api.github.com/users/KnyazSh/following{/other_user}", "gists_url": "https://api.github.com/users/KnyazSh/gists{/gist_id}", "starred_url": "https://api.github.com/users/KnyazSh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KnyazSh/subscriptions", "organizations_url": "https://api.github.com/users/KnyazSh/orgs", "repos_url": "https://api.github.com/users/KnyazSh/repos", "events_url": "https://api.github.com/users/KnyazSh/events{/privacy}", "received_events_url": "https://api.github.com/users/KnyazSh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-15T23:03:18Z", "updated_at": "2015-09-16T08:35:44Z", "closed_at": "2015-09-16T08:01:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kizniche/Mycodo/pulls/15", "html_url": "https://github.com/kizniche/Mycodo/pull/15", "diff_url": "https://github.com/kizniche/Mycodo/pull/15.diff", "patch_url": "https://github.com/kizniche/Mycodo/pull/15.patch", "merged_at": "2015-09-16T08:01:09Z"}, "body": "Fix DS18B20 support, fix relay image button switch, fix PID support DB18B20, fix addition relays.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/15/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/13", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/13/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/13/events", "html_url": "https://github.com/kizniche/Mycodo/issues/13", "id": 106485774, "node_id": "MDU6SXNzdWUxMDY0ODU3NzQ=", "number": 13, "title": "Logs should be backed up based on size instead of timed interval", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-15T05:58:30Z", "updated_at": "2015-09-15T15:32:50Z", "closed_at": "2015-09-15T15:32:50Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Currently, logs can fill the 30MB tempfs /var/tmp/ between the 6-hour scheduled backups, especially if the daemon is running in debug mode (verbose logging).\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/13/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/11", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/11/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/11/events", "html_url": "https://github.com/kizniche/Mycodo/issues/11", "id": 105512409, "node_id": "MDU6SXNzdWUxMDU1MTI0MDk=", "number": 11, "title": "Ability to link relays ([de]activation of a relay will [de]activate another)", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 174185312, "node_id": "MDU6TGFiZWwxNzQxODUzMTI=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-09T03:40:25Z", "updated_at": "2015-09-11T20:25:38Z", "closed_at": "2015-09-11T20:25:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Feature request: When one relay is activated, one or more other relays are activated. This permits the PID controller or a conditional statement could activate more than one relay.\n\nConsider the following simple relay configuration to illustrate the utility:\n\nRelay 1 (Fan), GPIO 10, Link Relay 2 (when Relay 1 turns on, Relay 2 does also)\nRelay 2 (Heater), GPIO 15\n\nRelay 3 (Fan), GPIO 10, Link Relay 4 (when Relay 3 turns on, Relay 4 does also)\nRelay 4 (Cooler), GPIO 20\n\nNotice that the same GPIO can be set for multiple relays, which can produce a number of conflicts. \n\nWhat if the same GPIO is trying to be turned on for different durations?\nHow do the threaded functions to turn on the relays communicate with each other and select the longest duration?\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/11/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/10", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/10/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/10/events", "html_url": "https://github.com/kizniche/Mycodo/issues/10", "id": 105510297, "node_id": "MDU6SXNzdWUxMDU1MTAyOTc=", "number": 10, "title": "Fix relay logging limitation", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 174185312, "node_id": "MDU6TGFiZWwxNzQxODUzMTI=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-09T03:15:55Z", "updated_at": "2015-09-11T01:09:25Z", "closed_at": "2015-09-11T01:09:25Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Update the relay on duration logging format to remove the current 8-relay limitation. Although the software supports an infinite number of relays, any over 8 will break the system in unforeseen ways.\n\nCurrent logging format:\nYear Mo Day Hour Min Sec R1SecOn R2SecOn R3SecOn R4SecOn R5SecOn R6SecOn R7SecOn R8SecOn Sensor\n2015 09 07 07 15 29 0 -144.25 0 0 0 0 0 0 0\n\nThe negative relay duration in the example is valid, as this is derived from a negative PID output, and all numbers are eventually converted to their absolute value. This format was used to distinguish that this relay was used to decrease an environmental condition (rather than increase it). Furthermore, the most recent Mycodo update, which allows for the user to select any number of relays to be graphed, either positive or negative, renders this format unnecessary.\n\nProposed new logging format:\nYear Mo Day Hour Min Sec GPIO-Pin SecOn\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/9", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/9/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/9/events", "html_url": "https://github.com/kizniche/Mycodo/issues/9", "id": 104550443, "node_id": "MDU6SXNzdWUxMDQ1NTA0NDM=", "number": 9, "title": "Warn when PID Regulate and Up/Down Relay incorrectly set", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 174185312, "node_id": "MDU6TGFiZWwxNzQxODUzMTI=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-02T19:02:15Z", "updated_at": "2015-09-03T00:30:25Z", "closed_at": "2015-09-03T00:30:25Z", "author_association": "OWNER", "active_lock_reason": null, "body": "If Both is selected, Up Relay and Down Relay needs to be set.\nIf Up is selected, Up Relay needs to be set\nif Down is selected, Down Relay needs to be set\n\nA warning should be given if any of these are incorrect and the PID is attempted to be turned on.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/9/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/8", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/8/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/8/events", "html_url": "https://github.com/kizniche/Mycodo/issues/8", "id": 104453840, "node_id": "MDU6SXNzdWUxMDQ0NTM4NDA=", "number": 8, "title": "cannot turn conditionnal statements ON & OFF", "user": {"login": "Myke974", "id": 1829188, "node_id": "MDQ6VXNlcjE4MjkxODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1829188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Myke974", "html_url": "https://github.com/Myke974", "followers_url": "https://api.github.com/users/Myke974/followers", "following_url": "https://api.github.com/users/Myke974/following{/other_user}", "gists_url": "https://api.github.com/users/Myke974/gists{/gist_id}", "starred_url": "https://api.github.com/users/Myke974/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Myke974/subscriptions", "organizations_url": "https://api.github.com/users/Myke974/orgs", "repos_url": "https://api.github.com/users/Myke974/repos", "events_url": "https://api.github.com/users/Myke974/events{/privacy}", "received_events_url": "https://api.github.com/users/Myke974/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-02T10:51:52Z", "updated_at": "2015-09-02T14:54:57Z", "closed_at": "2015-09-02T14:54:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "To turn 1 ON or OFF, the trick is to rewrite the same info in all the boxes before using the button turn on / turn off or delete ! !\nneed fix ! ;)\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/8/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/4", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/4/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/4/events", "html_url": "https://github.com/kizniche/Mycodo/issues/4", "id": 101755315, "node_id": "MDU6SXNzdWUxMDE3NTUzMTU=", "number": 4, "title": "Combined graphs not generating", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-18T21:41:09Z", "updated_at": "2015-08-20T02:53:10Z", "closed_at": "2015-08-20T02:53:10Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/4/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/2", "repository_url": "https://api.github.com/repos/kizniche/Mycodo", "labels_url": "https://api.github.com/repos/kizniche/Mycodo/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/kizniche/Mycodo/issues/2/comments", "events_url": "https://api.github.com/repos/kizniche/Mycodo/issues/2/events", "html_url": "https://github.com/kizniche/Mycodo/issues/2", "id": 101537591, "node_id": "MDU6SXNzdWUxMDE1Mzc1OTE=", "number": 2, "title": "Email notification", "user": {"login": "kizniche", "id": 838427, "node_id": "MDQ6VXNlcjgzODQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/838427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizniche", "html_url": "https://github.com/kizniche", "followers_url": "https://api.github.com/users/kizniche/followers", "following_url": "https://api.github.com/users/kizniche/following{/other_user}", "gists_url": "https://api.github.com/users/kizniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizniche/subscriptions", "organizations_url": "https://api.github.com/users/kizniche/orgs", "repos_url": "https://api.github.com/users/kizniche/repos", "events_url": "https://api.github.com/users/kizniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kizniche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 174185310, "node_id": "MDU6TGFiZWwxNzQxODUzMTA=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 174185312, "node_id": "MDU6TGFiZWwxNzQxODUzMTI=", "url": "https://api.github.com/repos/kizniche/Mycodo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-08-18T00:22:40Z", "updated_at": "2015-10-20T17:57:49Z", "closed_at": "2015-10-20T17:57:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "During a critical failure, event, or measured condition.\n", "reactions": {"url": "https://api.github.com/repos/kizniche/Mycodo/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kizniche/Mycodo/issues/2/timeline", "performed_via_github_app": null, "state_reason": "completed"}]