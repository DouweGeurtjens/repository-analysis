[{"url": "https://api.github.com/repos/fabric/fabric/issues/2139", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/2139/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/2139/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/2139/events", "html_url": "https://github.com/fabric/fabric/issues/2139", "id": 803222708, "node_id": "MDU6SXNzdWU4MDMyMjI3MDg=", "number": 2139, "title": "ThreadingGroup fails public key auth for every connection *except one* if .open() or .sftp() not called on each connection before calling run()", "user": {"login": "brenmous", "id": 15528812, "node_id": "MDQ6VXNlcjE1NTI4ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/15528812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brenmous", "html_url": "https://github.com/brenmous", "followers_url": "https://api.github.com/users/brenmous/followers", "following_url": "https://api.github.com/users/brenmous/following{/other_user}", "gists_url": "https://api.github.com/users/brenmous/gists{/gist_id}", "starred_url": "https://api.github.com/users/brenmous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brenmous/subscriptions", "organizations_url": "https://api.github.com/users/brenmous/orgs", "repos_url": "https://api.github.com/users/brenmous/repos", "events_url": "https://api.github.com/users/brenmous/events{/privacy}", "received_events_url": "https://api.github.com/users/brenmous/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 1017740165, "node_id": "MDU6TGFiZWwxMDE3NzQwMTY1", "url": "https://api.github.com/repos/fabric/fabric/labels/Connection", "name": "Connection", "color": "88eadf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-08T06:02:32Z", "updated_at": "2021-02-23T19:01:20Z", "closed_at": "2021-02-23T19:00:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version 2.50.\r\n\r\nI have two functions which operate on the same remote hosts, connecting via the same jump gateway and using the same private key. Both functions call a script on the remote hosts using a ThreadingGroup. The difference is function A also transfers the script using connection.put() before executing the script with ThreadingGroup. Function B just runs the script, assuming it has already been transferred.\r\n\r\nFunction A has always worked, but function B was failing authentication - I was getting `encountered RSA key, expected OPENSSH key` exceptions for each connection __except for one__ which successfully authenticated and ran the script. There's nothing wrong with the key and I believe this is just Paramiko's poor exception messages.\r\n\r\nBy introducing each difference between function A and B one at a time I found that it's the absence of the put step that is causing the issue. This put step simply iterates through the hosts and calls `put()` on each of them (this was done because I don't see there's a method for using `put` with groups - edit: I see this has been added in 2.6.0). If I add this step into function B, or even just loop over each host and call `sftp()` or `open()`, then the error goes away and all connections successfully run.\r\n\r\nI have no idea why this happens. I had a quick poke around and I saw that ThreadingGroup wraps Connections, and calls `run` on the connections, which should call `open` implicitly on the connections, but without doing it manually, all but one fails.\r\n\r\nCode example:\r\n```\r\n# Works\r\ndef func_a(jump_ip, hostnames, keyfile, script_local, script_remote, user='user'):\r\n    connect_kwargs={'key_filename': keyfile, 'look_for_keys': False}\r\n    jump = Connection(jump_ip, user=user, connect_kwargs=connect_kwargs)\r\n    for host in hostnames:\r\n        with Connection(host, user=user, gateway=gateway, connect_kwargs=connect_kwargs) as c:\r\n            c.put(script_local, script_remote)\r\n    with ThreadingGroup(*hostnames, user=user, gateway=gateway, connect_kwargs=connect_kwargs) as g:\r\n        g.run(script_remote)\r\n\r\n# Doesn't work\r\ndef func_b(jump_ip, hostnames, keyfile, script_remote, user='user'):\r\n    connect_kwargs={'key_filename': keyfile, 'look_for_keys': False}\r\n    jump = Connection(jump_ip, user=user, connect_kwargs=connect_kwargs)\r\n    # If you uncomment the below, the function works fine\r\n    #for host in hostnames:\r\n        #with Connection(host, user=user, gateway=jump, connect_kwargs=connect_kwargs) as c:\r\n            #c.open()\r\n    with ThreadingGroup(*hostnames, user=user, gateway=gateway, connect_kwargs=connect_kwargs) as g:\r\n            g.run(script_remote)\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/2139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/2139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1998", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1998/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1998/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1998/events", "html_url": "https://github.com/fabric/fabric/issues/1998", "id": 476094970, "node_id": "MDU6SXNzdWU0NzYwOTQ5NzA=", "number": 1998, "title": "Issue with put() and get()", "user": {"login": "Vikash082", "id": 4396870, "node_id": "MDQ6VXNlcjQzOTY4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4396870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vikash082", "html_url": "https://github.com/Vikash082", "followers_url": "https://api.github.com/users/Vikash082/followers", "following_url": "https://api.github.com/users/Vikash082/following{/other_user}", "gists_url": "https://api.github.com/users/Vikash082/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vikash082/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vikash082/subscriptions", "organizations_url": "https://api.github.com/users/Vikash082/orgs", "repos_url": "https://api.github.com/users/Vikash082/repos", "events_url": "https://api.github.com/users/Vikash082/events{/privacy}", "received_events_url": "https://api.github.com/users/Vikash082/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/35", "html_url": "https://github.com/fabric/fabric/milestone/35", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/35/labels", "id": 3362408, "node_id": "MDk6TWlsZXN0b25lMzM2MjQwOA==", "number": 35, "title": "p1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 4, "state": "open", "created_at": "2018-05-21T20:01:45Z", "updated_at": "2021-06-25T14:47:09Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2019-08-02T09:48:22Z", "updated_at": "2021-01-18T20:51:52Z", "closed_at": "2021-01-18T20:51:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using fabric=2.4.0.\r\n\r\n**Issue with get()**\r\n\r\nTrying to copy file from remote machine to local machine. Getting error:\r\n\r\n```\r\n    c.get(remote=src, local=dest)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/fabric/connection.py\", line 756, in get\r\n    return Transfer(self).get(*args, **kwargs)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/fabric/transfer.py\", line 130, in get\r\n    self.sftp.get(remotepath=remote, localpath=local)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 801, in get\r\n    with open(localpath, \"wb\") as fl:\r\nIsADirectoryError: [Errno 21] Is a directory: '/opt/vk_XXX/XXXX/XXXX/out/XXXX'\r\n\r\n```\r\nIt was expected to copy the file in above mentioned directory, but instead it threw error. Same thing is working fine with fabric=1.x .\r\n\r\n\r\n**Issue with put()** \r\n\r\nGave remote machine home directory (remote='~/') as destination. Got below error:\r\n\r\n```\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/fabric/connection.py\", line 767, in put\r\n    return Transfer(self).put(*args, **kwargs)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/fabric/transfer.py\", line 268, in put\r\n    self.sftp.put(localpath=local, remotepath=remote)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 759, in put\r\n    return self.putfo(fl, remotepath, file_size, callback, confirm)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 714, in putfo\r\n    with self.file(remotepath, \"wb\") as fr: \r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 372, in open\r\n    t, msg = self._request(CMD_OPEN, filename, imode, attrblock)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 813, in _request\r\n    return self._read_response(num)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 865, in _read_response\r\n    self._convert_status(msg)\r\n  File \"/root/.virtualenvs/acc-install/lib/python3.6/site-packages/paramiko/sftp_client.py\", line 894, in _convert_status\r\n```\r\nSame thing is working fine fabric=1.x\r\nWorkaround for get() error was to send remote=None. \r\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1985", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1985/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1985/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1985/events", "html_url": "https://github.com/fabric/fabric/issues/1985", "id": 456416202, "node_id": "MDU6SXNzdWU0NTY0MTYyMDI=", "number": 1985, "title": "Support closing remote subprocess' stdin explicitly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 1017749406, "node_id": "MDU6TGFiZWwxMDE3NzQ5NDA2", "url": "https://api.github.com/repos/fabric/fabric/labels/run()", "name": "run()", "color": "9ee271", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-14T20:13:38Z", "updated_at": "2019-08-06T19:26:49Z", "closed_at": "2019-08-06T19:26:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is covered by pyinvoke/invoke#552 and requires it (specifically, its support for adding a `Runner.close_proc_stdin` method - so this happens to be backwards compatible insofar as it won't error on older Invoke versions).\r\n\r\nJust making this so I've got something for the changelog really.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1852", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1852/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1852/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1852/events", "html_url": "https://github.com/fabric/fabric/issues/1852", "id": 350933272, "node_id": "MDU6SXNzdWUzNTA5MzMyNzI=", "number": 1852, "title": "v2 gateway ProxyJump Connections don't preserve parent config", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 1017740165, "node_id": "MDU6TGFiZWwxMDE3NzQwMTY1", "url": "https://api.github.com/repos/fabric/fabric/labels/Connection", "name": "Connection", "color": "88eadf", "default": false, "description": ""}, {"id": 1025448270, "node_id": "MDU6TGFiZWwxMDI1NDQ4Mjcw", "url": "https://api.github.com/repos/fabric/fabric/labels/Configuration", "name": "Configuration", "color": "25f7d4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-15T19:22:31Z", "updated_at": "2018-08-15T22:46:00Z", "closed_at": "2018-08-15T22:46:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Spinoff of #1850 but has been a longstanding code TODO comment.\r\n\r\nWhen we create anonymous/internal sub-Connections because of `ProxyJump`, we do not pass in the config data from the parent. This means that, for example, you cannot fully turn off SSH config loading, or anything else that affects Connection instantiation, as subsequent gateways will instantiate with a default config instead.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1850", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1850/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1850/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1850/events", "html_url": "https://github.com/fabric/fabric/issues/1850", "id": 350891296, "node_id": "MDU6SXNzdWUzNTA4OTEyOTY=", "number": 1850, "title": "Need guardrails re: recursion in ProxyJump chained Connections", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 1017740165, "node_id": "MDU6TGFiZWwxMDE3NzQwMTY1", "url": "https://api.github.com/repos/fabric/fabric/labels/Connection", "name": "Connection", "color": "88eadf", "default": false, "description": ""}, {"id": 1025345349, "node_id": "MDU6TGFiZWwxMDI1MzQ1MzQ5", "url": "https://api.github.com/repos/fabric/fabric/labels/ssh_config", "name": "ssh_config", "color": "fca35a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-15T17:14:14Z", "updated_at": "2018-08-16T13:32:49Z", "closed_at": "2018-08-16T00:46:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Moving https://github.com/pyinvoke/invoke/issues/564 over here - @acdha is getting recursion errors on line 331 of latest public release, which is where we create new Connection objects from ProxyJump in SSH configs: https://github.com/fabric/fabric/blob/4b1a2ab33af2682f20832bc91f9d20d800989f0b/fabric/connection.py#L316-L331\r\n\r\nChris, can you share your (sanitized) `~/.ssh/config`, as well as the actual CLI invocation you're using to arrive at the traceback? This functionality has been tested in a basic sense so I'm guessing there might be an angle to your setup that is either a legit mistake on your part (in which case we still need some sort of detection/exception guardrail) or a bug on my end (99.9% possible) re: some edge case.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1850/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1819", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1819/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1819/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1819/events", "html_url": "https://github.com/fabric/fabric/pull/1819", "id": 339584162, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAwMjAyMDAy", "number": 1819, "title": "README example using incorrect string interpolation", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140150, "node_id": "MDU6TGFiZWwxNDAxNTA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/37", "html_url": "https://github.com/fabric/fabric/milestone/37", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/37/labels", "id": 3385746, "node_id": "MDk6TWlsZXN0b25lMzM4NTc0Ng==", "number": 37, "title": "2.0.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2018-05-29T23:09:12Z", "updated_at": "2018-09-13T22:15:04Z", "due_on": null, "closed_at": "2018-09-13T22:15:04Z"}, "comments": 12, "created_at": "2018-07-09T19:51:43Z", "updated_at": "2018-07-25T22:31:55Z", "closed_at": "2018-07-25T19:35:24Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1819", "html_url": "https://github.com/fabric/fabric/pull/1819", "diff_url": "https://github.com/fabric/fabric/pull/1819.diff", "patch_url": "https://github.com/fabric/fabric/pull/1819.patch", "merged_at": null}, "body": "To work Properly, without \"IndexError: tuple index out of range\" Closes fabric/fabric#1777", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1819/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1812", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1812/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1812/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1812/events", "html_url": "https://github.com/fabric/fabric/issues/1812", "id": 335487852, "node_id": "MDU6SXNzdWUzMzU0ODc4NTI=", "number": 1812, "title": "Local terminal stdin detatched if ThreadingGroup run includes sleep", "user": {"login": "jensenak", "id": 6232953, "node_id": "MDQ6VXNlcjYyMzI5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6232953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jensenak", "html_url": "https://github.com/jensenak", "followers_url": "https://api.github.com/users/jensenak/followers", "following_url": "https://api.github.com/users/jensenak/following{/other_user}", "gists_url": "https://api.github.com/users/jensenak/gists{/gist_id}", "starred_url": "https://api.github.com/users/jensenak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jensenak/subscriptions", "organizations_url": "https://api.github.com/users/jensenak/orgs", "repos_url": "https://api.github.com/users/jensenak/repos", "events_url": "https://api.github.com/users/jensenak/events{/privacy}", "received_events_url": "https://api.github.com/users/jensenak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/37", "html_url": "https://github.com/fabric/fabric/milestone/37", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/37/labels", "id": 3385746, "node_id": "MDk6TWlsZXN0b25lMzM4NTc0Ng==", "number": 37, "title": "2.0.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2018-05-29T23:09:12Z", "updated_at": "2018-09-13T22:15:04Z", "due_on": null, "closed_at": "2018-09-13T22:15:04Z"}, "comments": 22, "created_at": "2018-06-25T16:53:00Z", "updated_at": "2018-08-02T05:06:23Z", "closed_at": "2018-07-31T02:52:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using a threading group to run shell commands. After running a script that includes a `sleep`, the local terminal is left with `stdin` detached (keystrokes not visible on command line) and the terminal has to be reset.\r\n\r\nI've tried this quite a few times and find that it only happens with ThreadingGroups (SerialGroups are okay). The sleep command can be anywhere in a one-liner (first command, middle, last) and can be joined in the one liner with either semicolons, or double ampersand. All of the commands run as expected, but the terminal remains in a bad state. \r\n\r\nStrangely, if the previous run exited with an uncaught exception, the terminal will not be affected.\r\n\r\nTo reproduce:\r\n\r\n    from fabric import ThreadingGroup as Group\r\n\r\n    # raise ValueError()\r\n    remotes = Group(\"host1.example.com\", \"host2.example.com\")\r\n    result = remotes.run(\"echo 1; sleep 1; echo 2\")\r\n\r\nRun the script above. After it exits, type something on the command line. If you see no output, `<ctrl>+c` and type `reset<enter>`. To see the post-exception behavior, uncomment the `raise` line, run the code, comment the line, and run twice more. The first successful run will leave the terminal in a good state. The second will leave `stdin` detached.\r\n\r\nI discovered this issue with `sleep` in my testing, but it's possible other commands may have the same effect. There's also a chance I'm just doing something wrong. If that's the case, my apologies.\r\n\r\nMy setup:\r\npython 3.6.4\r\nfabric 2.1.3\r\nOSX 10.13.5, connecting to Ubuntu 14.04", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1762", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1762/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1762/events", "html_url": "https://github.com/fabric/fabric/issues/1762", "id": 323145560, "node_id": "MDU6SXNzdWUzMjMxNDU1NjA=", "number": 1762, "title": "key_filename value from Collection.config and config file is not passed on connect to paramiko", "user": {"login": "garu57", "id": 15155315, "node_id": "MDQ6VXNlcjE1MTU1MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/15155315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garu57", "html_url": "https://github.com/garu57", "followers_url": "https://api.github.com/users/garu57/followers", "following_url": "https://api.github.com/users/garu57/following{/other_user}", "gists_url": "https://api.github.com/users/garu57/gists{/gist_id}", "starred_url": "https://api.github.com/users/garu57/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garu57/subscriptions", "organizations_url": "https://api.github.com/users/garu57/orgs", "repos_url": "https://api.github.com/users/garu57/repos", "events_url": "https://api.github.com/users/garu57/events{/privacy}", "received_events_url": "https://api.github.com/users/garu57/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/37", "html_url": "https://github.com/fabric/fabric/milestone/37", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/37/labels", "id": 3385746, "node_id": "MDk6TWlsZXN0b25lMzM4NTc0Ng==", "number": 37, "title": "2.0.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2018-05-29T23:09:12Z", "updated_at": "2018-09-13T22:15:04Z", "due_on": null, "closed_at": "2018-09-13T22:15:04Z"}, "comments": 8, "created_at": "2018-05-15T09:52:11Z", "updated_at": "2018-07-24T02:28:12Z", "closed_at": "2018-07-24T02:27:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3.6.5, Invoke 1.0.0, fabric 2.0.0, paramiko 2.4.1\r\n\r\nFirst of all the argument is called `key_filenames` in [documentation](http://docs.fabfile.org/en/latest/concepts/authentication.html), but if used that way gives:\r\n`TypeError: connect() got an unexpected keyword argument 'key_filenames'`\r\n\r\nBut the real problem is that either using it in `Collection.confg` or `fabric.yaml` or both, `key_filename` value is not passed to paramiko.\r\nIt looks like during the config merge phase it is detected, but overridden with an empty one `{'connect_kwargs': {'key_filename': []}}`, leading to exception:\r\n`paramiko.ssh_exception.SSHException: No authentication methods available`\r\n\r\nLaunching `fab -d -H c04801029  check-login > c:\\tmp\\fab.log 2>&1`.\r\nDebug log: [fab.log](https://github.com/fabric/fabric/files/2004270/fab.log)\r\n\r\nHere you see the `key_filename` initialized from `fabric.yaml`\r\n```\r\nconnect_kwargs:\r\n  key_filename: \r\n    - C:/home/ProjectsDoc/Tech/ssh_keys/21047012@ib024.priv\r\nuser: root\r\n```\r\nbut initializing it from `Collection.config` or both together gives the very same result.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1762/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1749", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1749/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1749/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1749/events", "html_url": "https://github.com/fabric/fabric/issues/1749", "id": 322735341, "node_id": "MDU6SXNzdWUzMjI3MzUzNDE=", "number": 1749, "title": "c.put confusion about string vs file-like object in local", "user": {"login": "peteruhnak", "id": 1276328, "node_id": "MDQ6VXNlcjEyNzYzMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1276328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peteruhnak", "html_url": "https://github.com/peteruhnak", "followers_url": "https://api.github.com/users/peteruhnak/followers", "following_url": "https://api.github.com/users/peteruhnak/following{/other_user}", "gists_url": "https://api.github.com/users/peteruhnak/gists{/gist_id}", "starred_url": "https://api.github.com/users/peteruhnak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peteruhnak/subscriptions", "organizations_url": "https://api.github.com/users/peteruhnak/orgs", "repos_url": "https://api.github.com/users/peteruhnak/repos", "events_url": "https://api.github.com/users/peteruhnak/events{/privacy}", "received_events_url": "https://api.github.com/users/peteruhnak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/37", "html_url": "https://github.com/fabric/fabric/milestone/37", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/37/labels", "id": 3385746, "node_id": "MDk6TWlsZXN0b25lMzM4NTc0Ng==", "number": 37, "title": "2.0.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2018-05-29T23:09:12Z", "updated_at": "2018-09-13T22:15:04Z", "due_on": null, "closed_at": "2018-09-13T22:15:04Z"}, "comments": 6, "created_at": "2018-05-14T09:21:05Z", "updated_at": "2018-07-25T18:36:50Z", "closed_at": "2018-07-25T18:36:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to [transfer.put() docs](http://docs.fabfile.org/en/2.0/api/transfer.html#fabric.transfer.Transfer.put), I should be able to either provide local path to a file (as a string), or a file-like object.\r\n\r\nWhen using the former (string), I can specify in the `remote` path only the target directory. This is used in some [examples](http://docs.fabfile.org/en/2.0/getting-started.html?highlight=put#multiple-actions):\r\n\r\n```py\r\nc.put('myfiles.tgz', '/opt/mydata')\r\n```\r\n\r\nBut when I try to do the same ( `c.put('file.txt', '/home/me/dir')`, I always end up with `IOError: Failure`, because it is actually behaving as if the `local` path was a file-like object and not a string.\r\n\r\nIt fails specifically on `paramiko.transport.sftp.sftp._log: [chan 0] open('/home/me/dir', 'wb')`\r\n\r\nThe solution is to always provide the full path, e.g.\r\n\r\n```py\r\nc.put('file.txt', '/home/me/dir/file.txt')\r\n```\r\n\r\nBut that is inconsistent with the docs and examples.\r\n\r\nFinally, having to provide the full path to `$HOME` is less than ideal, but there seems to be issue for that already #1653 \r\n\r\n* Tested in Windows 10\r\n* Fabric 2.0.0\r\n* Paramiko 2.4.1\r\n* Invoke 1.0.0", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1749/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1749/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1744", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1744/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1744/events", "html_url": "https://github.com/fabric/fabric/issues/1744", "id": 322243627, "node_id": "MDU6SXNzdWUzMjIyNDM2Mjc=", "number": 1744, "title": "Fabric does not pass the environment to a local shell like Invoke does", "user": {"login": "justinas", "id": 662666, "node_id": "MDQ6VXNlcjY2MjY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/662666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinas", "html_url": "https://github.com/justinas", "followers_url": "https://api.github.com/users/justinas/followers", "following_url": "https://api.github.com/users/justinas/following{/other_user}", "gists_url": "https://api.github.com/users/justinas/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinas/subscriptions", "organizations_url": "https://api.github.com/users/justinas/orgs", "repos_url": "https://api.github.com/users/justinas/repos", "events_url": "https://api.github.com/users/justinas/events{/privacy}", "received_events_url": "https://api.github.com/users/justinas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 1017740165, "node_id": "MDU6TGFiZWwxMDE3NzQwMTY1", "url": "https://api.github.com/repos/fabric/fabric/labels/Connection", "name": "Connection", "color": "88eadf", "default": false, "description": ""}, {"id": 1017749406, "node_id": "MDU6TGFiZWwxMDE3NzQ5NDA2", "url": "https://api.github.com/repos/fabric/fabric/labels/run()", "name": "run()", "color": "9ee271", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-05-11T10:13:49Z", "updated_at": "2020-02-16T09:05:56Z", "closed_at": "2018-08-08T19:50:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider this task definition, saved as both `fabfile.py` and `tasks.py`:\r\n\r\n```py\r\nfrom invoke import task\r\n\r\n@task\r\ndef make(c):\r\n    c.run('env')\r\n```\r\n\r\n`fab make` outputs:\r\n\r\n```\r\nPWD=/tmp\r\nSHLVL=1\r\n_=/usr/bin/env\r\n```\r\n\r\n`inv make` outputs:\r\n\r\n```\r\nLC_ALL=en_US.UTF-8\r\nNVM_DIR=/home/justinas/.nvm\r\nLC_MEASUREMENT=en_US.UTF-8\r\nLC_PAPER=en_US.UTF-8\r\nLC_MONETARY=en_US.UTF-8\r\n<...> (lots of stuff in my environment)\r\n```\r\n\r\nI initially found this when trying to use [fpm](https://github.com/jordansissel/fpm) which checks the `PATH` variable to check that the executables it requires to function exist:\r\n\r\n```\r\nfrom invoke import task\r\n\r\n@task\r\ndef make(c):\r\n    c.run('fpm -s dir -t rpm -C dist --name somename .')\r\n```\r\n\r\nThis works with invoke, but not with fab.\r\n\r\n```\r\njustinas@js:/tmp$ fab make\r\n{:timestamp=>\"2018-05-11T13:11:26.218874+0300\", :message=>\"Need executable 'rpmbuild' to convert dir to rpm\", :level=>:error}\r\njustinas@js:/tmp$ inv make\r\n{:timestamp=>\"2018-05-11T13:11:29.967762+0300\", :message=>\"Created package\", :path=>\"somename-1.0-1.x86_64.rpm\"}\r\n```", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1744/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1615", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1615/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1615/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1615/events", "html_url": "https://github.com/fabric/fabric/pull/1615", "id": 232672382, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIzMzUxMjUz", "number": 1615, "title": "contrib.files: get rid of _expand_path() and is_win()", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-31T19:36:05Z", "updated_at": "2018-06-06T05:30:36Z", "closed_at": "2018-05-10T06:53:48Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1615", "html_url": "https://github.com/fabric/fabric/pull/1615", "diff_url": "https://github.com/fabric/fabric/pull/1615.diff", "patch_url": "https://github.com/fabric/fabric/pull/1615.patch", "merged_at": null}, "body": "They're not needed. If the filename is just put into the command\r\nstring unquoted, it will be expanded by the shell.\r\n\r\n(If ` \"$(echo %s)\" ` will work in the command string, then just ` %s ` will work the same. As a bonus, it won't need special handling for windows.)\r\n\r\nMy original motivation can be seen in #1614 - `is_win()` is annoying:\r\n\r\n```\r\n$ fab --show=debug -H testdeploy11.ec2.st-av.net test\r\n...\r\n[testdeploy11.ec2.st-av.net] Executing task 'test'\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"echo \\\"Will you echo quotation marks\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"stat \\\"\\$(echo test.txt)\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"echo \\\"Will you echo quotation marks\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: egrep \"^127\\\\.0\\\\.0\\\\.1 db$\" \"$(echo test.txt)\"\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"echo \\\"Will you echo quotation marks\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"stat \\\"\\$(echo test.txt)\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: /bin/bash -l -c \"echo \\\"Will you echo quotation marks\\\"\"\r\n[testdeploy11.ec2.st-av.net] run: egrep \"^127\\\\.0\\\\.0\\\\.1 redis$\" \"$(echo test.txt)\"\r\n```\r\n\r\nThat PR added a cache for this. But then I realized that none of this is needed at all.\r\n\r\nIt looks like `_expand_path()` was added in c6a458526c6dad9447c17c3e03e94233a791a715 to fix #367 - but just removing the quotes around the filename argument to egrep would have sufficed.\r\n\r\n```diff\r\n@@ -314,7 +314,7 @@ def contains(filename, text, exact=False, use_sudo=False, escape=True,\r\n     with settings(hide('everything'), warn_only=True):\r\n-        egrep_cmd = 'egrep \"%s\" \"%s\"' % (text, filename)\r\n+        egrep_cmd = 'egrep \"%s\" %s' % (text, _expand_path(filename))\r\n         return func(egrep_cmd, shell=shell).succeeded\r\n```\r\n\r\nThis `_expand_path()` was then applied everywhere in contrib.files \"just in case\" but it was never needed anywhere, just quotes need to not be used around the filename, and they are already absent everywhere else.\r\n\r\nAs a sanity check, I tested with this fab task, and it worked as expected (both functions operated on `/home/pierce/test.txt`):\r\n\r\n```python\r\n@task\r\ndef test():\r\n    files.append('~/test.txt', ['127.0.0.1 db', '127.0.0.1 redis'])\r\n    files.sed('~pierce/test.txt', 'redis', 'mongo')\r\n```\r\n\r\nThis is another one of those cases where unit tests don't really show correctness - good tests would need to actually run shell commands on the remote side of an ssh session, and then observe that after escaping and evaluating, the correct things happened to the correct files. Anyway, I'm pretty confident in this change - ` filepath ` should always be at least as good as ` \"$(echo filepath)\" ` for any conceivable purpose.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1615/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1601", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1601/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1601/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1601/events", "html_url": "https://github.com/fabric/fabric/pull/1601", "id": 227124542, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE5NTAwNzgz", "number": 1601, "title": "bugfix: accept int in shell command", "user": {"login": "gruberrro", "id": 6198355, "node_id": "MDQ6VXNlcjYxOTgzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6198355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gruberrro", "html_url": "https://github.com/gruberrro", "followers_url": "https://api.github.com/users/gruberrro/followers", "following_url": "https://api.github.com/users/gruberrro/following{/other_user}", "gists_url": "https://api.github.com/users/gruberrro/gists{/gist_id}", "starred_url": "https://api.github.com/users/gruberrro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gruberrro/subscriptions", "organizations_url": "https://api.github.com/users/gruberrro/orgs", "repos_url": "https://api.github.com/users/gruberrro/repos", "events_url": "https://api.github.com/users/gruberrro/events{/privacy}", "received_events_url": "https://api.github.com/users/gruberrro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/34", "html_url": "https://github.com/fabric/fabric/milestone/34", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/34/labels", "id": 2481187, "node_id": "MDk6TWlsZXN0b25lMjQ4MTE4Nw==", "number": 34, "title": "1.14.x / next 1.x bugfix", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-25T18:48:08Z", "updated_at": "2018-11-27T23:34:46Z", "due_on": null, "closed_at": "2018-11-27T23:34:46Z"}, "comments": 3, "created_at": "2017-05-08T17:58:27Z", "updated_at": "2018-05-10T06:53:46Z", "closed_at": "2018-05-10T06:53:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1601", "html_url": "https://github.com/fabric/fabric/pull/1601", "diff_url": "https://github.com/fabric/fabric/pull/1601.diff", "patch_url": "https://github.com/fabric/fabric/pull/1601.patch", "merged_at": null}, "body": "`AttributeError: 'int' object has no attribute` when passing int in command\r\n\r\nhttps://github.com/fabric/fabric/issues/1204\r\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1601/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1600", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1600/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1600/events", "html_url": "https://github.com/fabric/fabric/issues/1600", "id": 225942675, "node_id": "MDU6SXNzdWUyMjU5NDI2NzU=", "number": 1600, "title": "env.timeout has no effect on paramiko's client.connect(timeout=xxx), ends up prompting user for password after \"paramiko.SSHException: No existing session\"", "user": {"login": "albertferras", "id": 7689174, "node_id": "MDQ6VXNlcjc2ODkxNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7689174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertferras", "html_url": "https://github.com/albertferras", "followers_url": "https://api.github.com/users/albertferras/followers", "following_url": "https://api.github.com/users/albertferras/following{/other_user}", "gists_url": "https://api.github.com/users/albertferras/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertferras/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertferras/subscriptions", "organizations_url": "https://api.github.com/users/albertferras/orgs", "repos_url": "https://api.github.com/users/albertferras/repos", "events_url": "https://api.github.com/users/albertferras/events{/privacy}", "received_events_url": "https://api.github.com/users/albertferras/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-03T10:29:43Z", "updated_at": "2017-08-24T18:39:43Z", "closed_at": "2017-08-24T18:39:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I have a process which launches many fabric tasks in parallel to multiple servers (>50 per host) and everything ends up failing because paramiko raises an exception \"paramiko.SSHException: No existing session\" which fabric tries to handle by prompting the user for password. This prompt is raised on every process and I have abort_on_prompts=True because it's an automated process.\r\nThis works perfectly if number of parallel fab executions is reduced to <10. I've already modified sshd_config's MaxSessions and MaxStartups with no luck.\r\n\r\nAfter digging into fabric and paramiko's sourcecode, this is what I've found:\r\n\r\n1 - Fabfile calls paramiko.client.SSHClient.connect here https://github.com/fabric/fabric/blob/master/fabric/network.py#L481 with timeout=10 (default)\r\n2 - Paramiko calls `Transport.get_remote_server_key` here https://github.com/paramiko/paramiko/blob/master/paramiko/client.py#L342\r\n3 - get_remote_server_key raises 'No existing session' here: \r\nhttps://github.com/paramiko/paramiko/blob/master/paramiko/transport.py#L661 .\r\n\r\nThe reason for this is because Transport.start_client() timed out and no exception was raised (for whatever reason, self.active is kept as True). The reason for which it times out is because the remote machine is very busy at 100% cpu\r\nAfter this, fabric does not do any kind of check to see if the connection is correct or we've timed out.\r\n\r\nWhat I would expect here is Fabric notices about something being wrong and retry the connection (without prompting user for password) because it just timed out, not failed on authenticating. \r\n\r\nFrom what I've seen, paramiko always raises `SSHException('No existing session')` everytime it thinks the start_client failed. Maybe it would be a good idea to parse this specific error message here https://github.com/fabric/fabric/blob/master/fabric/network.py#L499 and go directly to retry reconnecting without prompting for password/\r\n\r\nWorkaround:\r\nChanging env.timeout to a higher value fixes the problem (`No existing session` exception disappears).\r\n\r\n\r\n*Reproducing the issue*:\r\nPreviously added local machine's root pubkey to remote machine's authorized_keys.\r\n\r\nfabfile.py:\r\n```\r\nfrom fabric.api import (env, local, run, lcd, cd, prefix, get, put, settings, roles,\r\n                        task, execute, parallel, abort)\r\nimport paramiko\r\nimport logging\r\nlogging.getLogger('paramiko').setLevel(logging.DEBUG)\r\nlogging.getLogger('paramiko.client').setLevel(logging.DEBUG)\r\nlogging.getLogger('paramiko.transport').setLevel(logging.DEBUG)\r\nparamiko.common.logging.basicConfig(level=paramiko.common.DEBUG)\r\n\r\nenv.pty = False\r\nenv.shell = '/bin/bash -c'\r\nenv.abort_on_prompts = True\r\nenv.use_ssh_config = True\r\nenv.combine_stderr = True\r\nenv.user = 'root'\r\nenv.keepalive = 15\r\nenv.connection_attempts = 10\r\n\r\n@task\r\ndef test():\r\n    run('echo \"1\"')\r\n    run('sleep 10')\r\n    run('echo \"2\"')\r\n```\r\n\r\ntest.sh:\r\n```\r\n#!/bin/bash\r\n\r\nfor run in {1..100}\r\ndo\r\n  fab -f fabfile.py test -H othermachine &\r\ndone\r\nwait\r\n```", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1599", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1599/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1599/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1599/events", "html_url": "https://github.com/fabric/fabric/pull/1599", "id": 225204921, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE4MjQzNDE4", "number": 1599, "title": "contrib.files: adjust _escape_for_regex() newline handling", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/34", "html_url": "https://github.com/fabric/fabric/milestone/34", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/34/labels", "id": 2481187, "node_id": "MDk6TWlsZXN0b25lMjQ4MTE4Nw==", "number": 34, "title": "1.14.x / next 1.x bugfix", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-25T18:48:08Z", "updated_at": "2018-11-27T23:34:46Z", "due_on": null, "closed_at": "2018-11-27T23:34:46Z"}, "comments": 3, "created_at": "2017-04-28T22:10:12Z", "updated_at": "2018-06-06T05:30:02Z", "closed_at": "2018-06-06T00:07:48Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1599", "html_url": "https://github.com/fabric/fabric/pull/1599", "diff_url": "https://github.com/fabric/fabric/pull/1599.diff", "patch_url": "https://github.com/fabric/fabric/pull/1599.patch", "merged_at": null}, "body": "Remove newlines from the pattern completely. This is what the\r\noriginal _escape_for_regex() effectively did. There is no way\r\nto get egrep to handle newlines the desired way, so might as well\r\nremain consistent with the original behavior regarding newlines.\r\n\r\nSee longer explanation in #1598 ", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1599/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1597", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1597/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1597/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1597/events", "html_url": "https://github.com/fabric/fabric/pull/1597", "id": 224121064, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3NDcyMzY5", "number": 1597, "title": "Modules imported into a fabfile might not have a __doc__ variable", "user": {"login": "dreadatour", "id": 214897, "node_id": "MDQ6VXNlcjIxNDg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/214897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreadatour", "html_url": "https://github.com/dreadatour", "followers_url": "https://api.github.com/users/dreadatour/followers", "following_url": "https://api.github.com/users/dreadatour/following{/other_user}", "gists_url": "https://api.github.com/users/dreadatour/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreadatour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreadatour/subscriptions", "organizations_url": "https://api.github.com/users/dreadatour/orgs", "repos_url": "https://api.github.com/users/dreadatour/repos", "events_url": "https://api.github.com/users/dreadatour/events{/privacy}", "received_events_url": "https://api.github.com/users/dreadatour/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 484874, "node_id": "MDU6TGFiZWw0ODQ4NzQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tasks", "name": "Tasks", "color": "DDDDDD", "default": false, "description": null}, {"id": 414531975, "node_id": "MDU6TGFiZWw0MTQ1MzE5NzU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}, {"id": 591793876, "node_id": "MDU6TGFiZWw1OTE3OTM4NzY=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/34", "html_url": "https://github.com/fabric/fabric/milestone/34", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/34/labels", "id": 2481187, "node_id": "MDk6TWlsZXN0b25lMjQ4MTE4Nw==", "number": 34, "title": "1.14.x / next 1.x bugfix", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-25T18:48:08Z", "updated_at": "2018-11-27T23:34:46Z", "due_on": null, "closed_at": "2018-11-27T23:34:46Z"}, "comments": 6, "created_at": "2017-04-25T12:30:06Z", "updated_at": "2018-05-10T06:53:46Z", "closed_at": "2018-05-10T06:53:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1597", "html_url": "https://github.com/fabric/fabric/pull/1597", "diff_url": "https://github.com/fabric/fabric/pull/1597.diff", "patch_url": "https://github.com/fabric/fabric/pull/1597.patch", "merged_at": null}, "body": "```\r\nusername@localhost:~/work/project/$ fab mytask\r\nTraceback (most recent call last):\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 667, in main\r\n    docstring, callables, default = load_fabfile(fabfile)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 178, in load_fabfile\r\n    docstring, new_style, classic, default = load_tasks_from_module(imported)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 199, in load_tasks_from_module\r\n    new_style, classic, default = extract_tasks(imported_vars)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 232, in extract_tasks\r\n    docs, newstyle, classic, default = load_tasks_from_module(obj)\r\n  File \"/Users/username/work/project/env/lib/python2.7/site-packages/fabric/main.py\", line 200, in load_tasks_from_module\r\n    return imported.__doc__, new_style, classic, default\r\nAttributeError: cffi library '_openssl' has no function, constant or global variable named '__doc__'\r\n```", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1597/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1586", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1586/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1586/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1586/events", "html_url": "https://github.com/fabric/fabric/pull/1586", "id": 220308035, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE0ODg1MzA2", "number": 1586, "title": "fixes #1341: clean up temp file with sudo uploads if destination path\u2026", "user": {"login": "UkuLoskit", "id": 920770, "node_id": "MDQ6VXNlcjkyMDc3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/920770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UkuLoskit", "html_url": "https://github.com/UkuLoskit", "followers_url": "https://api.github.com/users/UkuLoskit/followers", "following_url": "https://api.github.com/users/UkuLoskit/following{/other_user}", "gists_url": "https://api.github.com/users/UkuLoskit/gists{/gist_id}", "starred_url": "https://api.github.com/users/UkuLoskit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UkuLoskit/subscriptions", "organizations_url": "https://api.github.com/users/UkuLoskit/orgs", "repos_url": "https://api.github.com/users/UkuLoskit/repos", "events_url": "https://api.github.com/users/UkuLoskit/events{/privacy}", "received_events_url": "https://api.github.com/users/UkuLoskit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/34", "html_url": "https://github.com/fabric/fabric/milestone/34", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/34/labels", "id": 2481187, "node_id": "MDk6TWlsZXN0b25lMjQ4MTE4Nw==", "number": 34, "title": "1.14.x / next 1.x bugfix", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-25T18:48:08Z", "updated_at": "2018-11-27T23:34:46Z", "due_on": null, "closed_at": "2018-11-27T23:34:46Z"}, "comments": 5, "created_at": "2017-04-07T19:34:17Z", "updated_at": "2018-11-27T23:34:33Z", "closed_at": "2018-11-27T23:34:33Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1586", "html_url": "https://github.com/fabric/fabric/pull/1586", "diff_url": "https://github.com/fabric/fabric/pull/1586.diff", "patch_url": "https://github.com/fabric/fabric/pull/1586.patch", "merged_at": null}, "body": "\u2026 is invalid", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1586/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1576", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1576/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1576/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1576/events", "html_url": "https://github.com/fabric/fabric/pull/1576", "id": 212290047, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA5Mzc4NDQz", "number": 1576, "title": "fix upload_project() for local_dir with no path separator", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 4, "created_at": "2017-03-07T00:06:31Z", "updated_at": "2017-04-26T15:05:51Z", "closed_at": "2017-04-24T21:24:55Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1576", "html_url": "https://github.com/fabric/fabric/pull/1576", "diff_url": "https://github.com/fabric/fabric/pull/1576.diff", "patch_url": "https://github.com/fabric/fabric/pull/1576.patch", "merged_at": null}, "body": "A tiny fix for a contrib function. Bug identified in #1574 \r\n\r\nMy thinking is: fabric probably does not want to maintain these contrib functions, and will remove them in 2.0+, and I personally don't use them. But if there is a very easy fix for a very simple case, might as well put it in and avoid some bug reports.\r\n\r\nThe root of the problem here is `os.path.split()` can return a blank parent path, which doesn't work here.\r\n\r\n```\r\n>>> os.path.split(\"./testdir\")\r\n('.', 'testdir')\r\n>>> os.path.split(\"testdir\")\r\n('', 'testdir')\r\n```\r\n\r\nIn addition to the (trivial) unit test, I did a manual test without and with the fix.\r\n\r\nbefore:\r\n\r\n```\r\n$ fab -H ubuntu@devbox test\r\n[ubuntu@devbox] Executing task 'test'\r\n[localhost] local: tar -czf /var/folders/ny/tsl8z9qx453630cxnzw0_dj80000gn/T/tmp52uz2D/testdir.tar.gz -C  testdir\r\ntar: no files or directories specified\r\n\r\nFatal error: local() encountered an error (return code 1) while executing 'tar -czf /var/folders/ny/tsl8z9qx453630cxnzw0_dj80000gn/T/tmp52uz2D/testdir.tar.gz -C  testdir'\r\n```\r\n\r\nafter:\r\n\r\n```\r\n$ fab -H ubuntu@devbox test\r\n[ubuntu@devbox] Executing task 'test'\r\n[localhost] local: tar -czf /var/folders/ny/tsl8z9qx453630cxnzw0_dj80000gn/T/tmpatuzuo/testdir.tar.gz -C . testdir\r\n[ubuntu@devbox] put: /var/folders/ny/tsl8z9qx453630cxnzw0_dj80000gn/T/tmpatuzuo/testdir.tar.gz -> /tmp/testdir.tar.gz\r\n[ubuntu@devbox] run: tar -xzf testdir.tar.gz\r\n[ubuntu@devbox] run: rm -f testdir.tar.gz\r\n[localhost] local: rm -rf /var/folders/ny/tsl8z9qx453630cxnzw0_dj80000gn/T/tmpatuzuo\r\n```\r\n\r\nI can re-base this on an older branch (e.g. 1.11) and add a changelog entry if desired.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1576/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1559", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1559/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1559/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1559/events", "html_url": "https://github.com/fabric/fabric/pull/1559", "id": 205330577, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0NjUyODE2", "number": 1559, "title": "fix _escape_for_regex() for contrib.files.append() / contains()", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 12, "created_at": "2017-02-04T07:32:04Z", "updated_at": "2017-04-26T15:06:36Z", "closed_at": "2017-04-24T21:39:01Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1559", "html_url": "https://github.com/fabric/fabric/pull/1559", "diff_url": "https://github.com/fabric/fabric/pull/1559.diff", "patch_url": "https://github.com/fabric/fabric/pull/1559.patch", "merged_at": null}, "body": "`_escape_for_regex()` is supposed to escape for egrep run by a shell.\r\npython's `re.escape()` is not really close to doing what's needed, so re-implement.\r\n\r\nfixes #1294 \r\nalternative to #1323 which is a bit crazy\r\n\r\ntested with:\r\n\r\n`test.txt`:\r\n```\r\ntesting123\r\n +*^$&1[({\\0\r\nsome\"$HOST'stuff\r\nover > rainbow\r\nin | the|<sky `high`\r\n```\r\n\r\n`fabfile.py`:\r\n```python\r\nfrom fabric.api import task, run, sudo\r\nfrom fabric.contrib.files import contains, append\r\n\r\n@task\r\ndef test():\r\n    run(\"cat test.txt\")\r\n\r\n    for pat in [\r\n        \"testing\",\r\n        \"testing123\",\r\n        \"testing.23\",\r\n        \" +*^$\",\r\n        \" +*^$&1[({\\\\0\",\r\n        \".+*^$&1[({\\\\0\",\r\n        \"\\\"$HOST\\'\",\r\n        \"over > rainbow\",\r\n        \"|sky `high`\",\r\n    ]:\r\n        r1 = contains(\"test.txt\", pat)\r\n        r2 = contains(\"test.txt\", pat, exact=True)\r\n        print(\"pat='%s' contains=%r exact=%r\" % (pat, r1, r2))\r\n        r3 = contains(\"test.txt\", pat, use_sudo=True)\r\n        r4 = contains(\"test.txt\", pat, use_sudo=True, exact=True)\r\n        if r3 != r1 or r4 != r2:\r\n            print(\"sudo result diff contains=%r exact=%r\" % (r3, r4))\r\n\r\n    append(\"test.txt\", \"testing123\")\r\n    append(\"test.txt\", \"testing.23\") # should be added\r\n    append(\"test.txt\", \" +*^$&1[({\\\\0\")\r\n    append(\"test.txt\", \" +*^$&1[(\", partial=True)\r\n    append(\"test.txt\", \" +*^$&1[({\\\\!\", partial=True)  # should be added\r\n    append(\"test.txt\", \"over > rainbow\")\r\n    append(\"test.txt\", \"in | the|\", partial=True)\r\n    append(\"test.txt\", \"in|the|<sky`high`\")        # should be added\r\n    append(\"test.txt\", \" +*^$&1[({\\\\0\", use_sudo=True)\r\n    append(\"test.txt\", \" +*^$&1[({\\\\3\", use_sudo=True) # should be added\r\n\r\n    run(\"cat test.txt\")\r\n```\r\n\r\nresults as expected:\r\n\r\n```\r\n(venv) [pierce@plo-pro fabwork]$ fab -H testdeploy03.ec2.st-av.net test\r\n[testdeploy03.ec2.st-av.net] Executing task 'test'\r\n[testdeploy03.ec2.st-av.net] run: cat test.txt\r\n[testdeploy03.ec2.st-av.net] out: testing123\r\n[testdeploy03.ec2.st-av.net] out:  +*^$&1[({\\0\r\n[testdeploy03.ec2.st-av.net] out: some\"$HOST'stuff\r\n[testdeploy03.ec2.st-av.net] out: over > rainbow\r\n[testdeploy03.ec2.st-av.net] out: in | the|<sky `high`\r\n[testdeploy03.ec2.st-av.net] out: \r\n\r\npat='testing' contains=True exact=False\r\npat='testing123' contains=True exact=True\r\npat='testing.23' contains=False exact=False\r\npat=' +*^$' contains=True exact=False\r\npat=' +*^$&1[({\\0' contains=True exact=True\r\npat='.+*^$&1[({\\0' contains=False exact=False\r\npat='\"$HOST'' contains=True exact=False\r\npat='over > rainbow' contains=True exact=True\r\npat='|sky `high`' contains=False exact=False\r\n[testdeploy03.ec2.st-av.net] run: echo 'testing.23' >> \"$(echo test.txt)\"\r\n[testdeploy03.ec2.st-av.net] run: echo ' +*^$&1[({\\!' >> \"$(echo test.txt)\"\r\n[testdeploy03.ec2.st-av.net] run: echo 'in|the|<sky`high`' >> \"$(echo test.txt)\"\r\n[testdeploy03.ec2.st-av.net] sudo: echo ' +*^$&1[({\\3' >> \"$(echo test.txt)\"\r\n[testdeploy03.ec2.st-av.net] run: cat test.txt\r\n[testdeploy03.ec2.st-av.net] out: testing123\r\n[testdeploy03.ec2.st-av.net] out:  +*^$&1[({\\0\r\n[testdeploy03.ec2.st-av.net] out: some\"$HOST'stuff\r\n[testdeploy03.ec2.st-av.net] out: over > rainbow\r\n[testdeploy03.ec2.st-av.net] out: in | the|<sky `high`\r\n[testdeploy03.ec2.st-av.net] out: testing.23\r\n[testdeploy03.ec2.st-av.net] out:  +*^$&1[({\\!\r\n[testdeploy03.ec2.st-av.net] out: in|the|<sky`high`\r\n[testdeploy03.ec2.st-av.net] out:  +*^$&1[({\\3\r\n[testdeploy03.ec2.st-av.net] out: \r\n\r\n\r\nDone.\r\nDisconnecting from testdeploy03.ec2.st-av.net... done.\r\n```\r\n\r\nI admittedly did not test with `shell=True` - I'm not even sure what should happen in that case. But what's here is probably a big improvement for a minimal changeset.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1559/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1555", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1555/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1555/events", "html_url": "https://github.com/fabric/fabric/issues/1555", "id": 204264835, "node_id": "MDU6SXNzdWUyMDQyNjQ4MzU=", "number": 1555, "title": "Race Condition in put when use_sudo=True", "user": {"login": "arnimarj", "id": 143150, "node_id": "MDQ6VXNlcjE0MzE1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/143150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arnimarj", "html_url": "https://github.com/arnimarj", "followers_url": "https://api.github.com/users/arnimarj/followers", "following_url": "https://api.github.com/users/arnimarj/following{/other_user}", "gists_url": "https://api.github.com/users/arnimarj/gists{/gist_id}", "starred_url": "https://api.github.com/users/arnimarj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arnimarj/subscriptions", "organizations_url": "https://api.github.com/users/arnimarj/orgs", "repos_url": "https://api.github.com/users/arnimarj/repos", "events_url": "https://api.github.com/users/arnimarj/events{/privacy}", "received_events_url": "https://api.github.com/users/arnimarj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}, {"id": 414531975, "node_id": "MDU6TGFiZWw0MTQ1MzE5NzU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 1, "created_at": "2017-01-31T11:08:25Z", "updated_at": "2017-04-24T23:00:11Z", "closed_at": "2017-04-24T23:00:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Abstract\r\n-----------\r\n\r\nThere is a race in `put`, and the `use_sudo=True`, and writing a file with the same content from multiple connections concurrently.\r\n\r\nSteps To Reproduce\r\n---------------------------\r\n\r\nRun this script concurrently:\r\n\r\n```python\r\nimport os, itertools, StringIO\r\n\r\nfrom fabric.api import task, run, put, settings\r\n\r\n@task\r\ndef megaput():\r\n\tcontent = '0' * 1024\r\n\r\n\twith settings(host_string = '127.0.0.1', user = os.environ['USER']):\r\n\t\trun('mkdir -p /tmp/megaput')\r\n\r\n\t\tfor i in itertools.count():\r\n\t\t\tput(StringIO.StringIO(content), '/tmp/megaput/file', use_sudo = True)\r\n\t\t\tprint 'copied', i, 'times'\r\n```\r\n\r\nIt seems that the name of temporary file created is a hash of the host string and the file content. When `put`ing files with the same content to the same host, there is a race for the `mv` operation, and with non-zero probability only the first operation will succeed.\r\n\r\nAdding a random string to https://github.com/fabric/fabric/blob/master/fabric/sftp.py#L164 seems to make this script work without problems (e.g. `hasher.update(uuid.uuid4().hex)`).", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1543", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1543/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1543/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1543/events", "html_url": "https://github.com/fabric/fabric/pull/1543", "id": 196194781, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg0MzIzNjU=", "number": 1543, "title": "Fixes #1542 raise NetworkError on ChannelException", "user": {"login": "wcs1only", "id": 7329298, "node_id": "MDQ6VXNlcjczMjkyOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/7329298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcs1only", "html_url": "https://github.com/wcs1only", "followers_url": "https://api.github.com/users/wcs1only/followers", "following_url": "https://api.github.com/users/wcs1only/following{/other_user}", "gists_url": "https://api.github.com/users/wcs1only/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcs1only/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcs1only/subscriptions", "organizations_url": "https://api.github.com/users/wcs1only/orgs", "repos_url": "https://api.github.com/users/wcs1only/repos", "events_url": "https://api.github.com/users/wcs1only/events{/privacy}", "received_events_url": "https://api.github.com/users/wcs1only/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 2, "created_at": "2016-12-17T04:06:22Z", "updated_at": "2017-04-24T23:09:19Z", "closed_at": "2017-04-24T23:09:19Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1543", "html_url": "https://github.com/fabric/fabric/pull/1543", "diff_url": "https://github.com/fabric/fabric/pull/1543.diff", "patch_url": "https://github.com/fabric/fabric/pull/1543.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1543/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1534", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1534/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1534/events", "html_url": "https://github.com/fabric/fabric/issues/1534", "id": 194018406, "node_id": "MDU6SXNzdWUxOTQwMTg0MDY=", "number": 1534, "title": "Exclude not working (as expected)", "user": {"login": "tino", "id": 99524, "node_id": "MDQ6VXNlcjk5NTI0", "avatar_url": "https://avatars.githubusercontent.com/u/99524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tino", "html_url": "https://github.com/tino", "followers_url": "https://api.github.com/users/tino/followers", "following_url": "https://api.github.com/users/tino/following{/other_user}", "gists_url": "https://api.github.com/users/tino/gists{/gist_id}", "starred_url": "https://api.github.com/users/tino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tino/subscriptions", "organizations_url": "https://api.github.com/users/tino/orgs", "repos_url": "https://api.github.com/users/tino/repos", "events_url": "https://api.github.com/users/tino/events{/privacy}", "received_events_url": "https://api.github.com/users/tino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-07T10:57:10Z", "updated_at": "2017-04-25T13:07:24Z", "closed_at": "2017-03-31T21:00:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a task:\r\n```\r\n@hosts(['gorilla', 'macaque', 'baboon'])\r\n@task\r\ndef deploy(**kwargs):\r\n    ...\r\n```\r\n\r\nthat I run as follows:\r\n```\r\n\u2318 fab -x macaque,gorilla deploy\r\n[gorilla] Executing task 'deploy'\r\n[gorilla] run: ...\r\n```\r\n\r\nwut? I wanted gorilla excluded \ud83e\udd14\r\n\r\nReading the execution model, I understand that decorators are high in the order of precedence for setting the `env.hosts` list, so I can't run `fab -H baboon deploy`. However, under [Excluding specific hosts](http://docs.fabfile.org/en/1.12/usage/execution.html#excluding-specific-hosts) it says:\r\n\r\n> Note\r\n> Using this option does not modify env.hosts \u2013 it only causes the main execution loop to skip the requested hosts.\r\n\r\nSo I would expect the the hosts I `-x`ed to be excluded. Is that wrong to expect? How would I accomplish this scenario?\r\n\r\nVersions:\r\n- Python 2.7.11 (default, Mar 16 2016, 10:27:53)\r\n- Fabric 1.12.1\r\n- Paramiko 1.17.2", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1527", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1527/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1527/events", "html_url": "https://github.com/fabric/fabric/pull/1527", "id": 188238444, "node_id": "MDExOlB1bGxSZXF1ZXN0OTI5NTY2MTA=", "number": 1527, "title": "#1526-fix sed issues on MAC OS X", "user": {"login": "doflink", "id": 16014521, "node_id": "MDQ6VXNlcjE2MDE0NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/16014521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doflink", "html_url": "https://github.com/doflink", "followers_url": "https://api.github.com/users/doflink/followers", "following_url": "https://api.github.com/users/doflink/following{/other_user}", "gists_url": "https://api.github.com/users/doflink/gists{/gist_id}", "starred_url": "https://api.github.com/users/doflink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doflink/subscriptions", "organizations_url": "https://api.github.com/users/doflink/orgs", "repos_url": "https://api.github.com/users/doflink/repos", "events_url": "https://api.github.com/users/doflink/events{/privacy}", "received_events_url": "https://api.github.com/users/doflink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 414531975, "node_id": "MDU6TGFiZWw0MTQ1MzE5NzU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-09T12:41:38Z", "updated_at": "2017-03-02T00:10:58Z", "closed_at": "2017-03-02T00:10:58Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1527", "html_url": "https://github.com/fabric/fabric/pull/1527", "diff_url": "https://github.com/fabric/fabric/pull/1527.diff", "patch_url": "https://github.com/fabric/fabric/pull/1527.patch", "merged_at": null}, "body": "fixes #1526 1526 \r\nI have tested with python 2.7.10", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1527/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1526", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1526/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1526/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1526/events", "html_url": "https://github.com/fabric/fabric/issues/1526", "id": 188232760, "node_id": "MDU6SXNzdWUxODgyMzI3NjA=", "number": 1526, "title": "OS X Yosemite \u201csed: illegal option -- r\u201d fatal error", "user": {"login": "doflink", "id": 16014521, "node_id": "MDQ6VXNlcjE2MDE0NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/16014521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doflink", "html_url": "https://github.com/doflink", "followers_url": "https://api.github.com/users/doflink/followers", "following_url": "https://api.github.com/users/doflink/following{/other_user}", "gists_url": "https://api.github.com/users/doflink/gists{/gist_id}", "starred_url": "https://api.github.com/users/doflink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doflink/subscriptions", "organizations_url": "https://api.github.com/users/doflink/orgs", "repos_url": "https://api.github.com/users/doflink/repos", "events_url": "https://api.github.com/users/doflink/events{/privacy}", "received_events_url": "https://api.github.com/users/doflink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-09T12:10:15Z", "updated_at": "2022-09-14T09:26:14Z", "closed_at": "2017-02-21T18:47:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using fabric to deploy a system on MAC. However, I got the following issue.\r\n> [localhost] out: sed: illegal option -- r\r\n[localhost] out: usage: sed script [-Ealn] [-i extension] [file ...]\r\n[localhost] out:        sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\r\n[localhost] out:\r\n\r\n\r\n> Fatal error: run() received nonzero return code 1 while executing!\r\n\r\nThe configuration of the machine:\r\nMAC OS: OS X Yosemite\r\nversion 10.10.2\r\nFabric 1.10.2\r\nParamiko 1.15.2\r\nPython 2.7.10", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1514", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1514/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1514/events", "html_url": "https://github.com/fabric/fabric/issues/1514", "id": 180595445, "node_id": "MDU6SXNzdWUxODA1OTU0NDU=", "number": 1514, "title": "Python2.5 compatibility 'str' object has no attribute 'format'", "user": {"login": "pedrudehuere", "id": 3224512, "node_id": "MDQ6VXNlcjMyMjQ1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3224512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedrudehuere", "html_url": "https://github.com/pedrudehuere", "followers_url": "https://api.github.com/users/pedrudehuere/followers", "following_url": "https://api.github.com/users/pedrudehuere/following{/other_user}", "gists_url": "https://api.github.com/users/pedrudehuere/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedrudehuere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedrudehuere/subscriptions", "organizations_url": "https://api.github.com/users/pedrudehuere/orgs", "repos_url": "https://api.github.com/users/pedrudehuere/repos", "events_url": "https://api.github.com/users/pedrudehuere/events{/privacy}", "received_events_url": "https://api.github.com/users/pedrudehuere/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 6, "created_at": "2016-10-03T09:20:16Z", "updated_at": "2016-12-13T18:42:39Z", "closed_at": "2016-12-13T18:42:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "file: network.py \nline: 475 \na `.format()` has been introduced, in commit 1ca512dfbdb620102f16bdd391e696d8c249415a,\nwhich (IIRC) is not compatible with python2.5.\n\nUsing Python 2.5 I'm getting :\n\n```\n...Fabric-1.12.0-py2.5.egg/fabric/network.py\", line 475, in connect\n    name = 'gss_{0}'.format(suffix)\nAttributeError: 'str' object has no attribute 'format'\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1507", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1507/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1507/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1507/events", "html_url": "https://github.com/fabric/fabric/pull/1507", "id": 174362283, "node_id": "MDExOlB1bGxSZXF1ZXN0ODM1MTcxODg=", "number": 1507, "title": "Fix possible race condition in remote tunneling", "user": {"login": "dankilman", "id": 1008577, "node_id": "MDQ6VXNlcjEwMDg1Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1008577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dankilman", "html_url": "https://github.com/dankilman", "followers_url": "https://api.github.com/users/dankilman/followers", "following_url": "https://api.github.com/users/dankilman/following{/other_user}", "gists_url": "https://api.github.com/users/dankilman/gists{/gist_id}", "starred_url": "https://api.github.com/users/dankilman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dankilman/subscriptions", "organizations_url": "https://api.github.com/users/dankilman/orgs", "repos_url": "https://api.github.com/users/dankilman/repos", "events_url": "https://api.github.com/users/dankilman/events{/privacy}", "received_events_url": "https://api.github.com/users/dankilman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-31T19:49:58Z", "updated_at": "2017-07-10T21:10:18Z", "closed_at": "2017-07-10T21:10:18Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1507", "html_url": "https://github.com/fabric/fabric/pull/1507", "diff_url": "https://github.com/fabric/fabric/pull/1507.diff", "patch_url": "https://github.com/fabric/fabric/pull/1507.patch", "merged_at": null}, "body": "See inline code comment\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1507/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1497", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1497/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1497/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1497/events", "html_url": "https://github.com/fabric/fabric/pull/1497", "id": 168612683, "node_id": "MDExOlB1bGxSZXF1ZXN0Nzk1NDUxNzI=", "number": 1497, "title": "Fix a show_commands() function's issue:", "user": {"login": "ddcatgg", "id": 8475003, "node_id": "MDQ6VXNlcjg0NzUwMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/8475003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddcatgg", "html_url": "https://github.com/ddcatgg", "followers_url": "https://api.github.com/users/ddcatgg/followers", "following_url": "https://api.github.com/users/ddcatgg/following{/other_user}", "gists_url": "https://api.github.com/users/ddcatgg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddcatgg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddcatgg/subscriptions", "organizations_url": "https://api.github.com/users/ddcatgg/orgs", "repos_url": "https://api.github.com/users/ddcatgg/repos", "events_url": "https://api.github.com/users/ddcatgg/events{/privacy}", "received_events_url": "https://api.github.com/users/ddcatgg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-01T10:15:29Z", "updated_at": "2018-05-10T06:53:45Z", "closed_at": "2018-05-10T06:53:44Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1497", "html_url": "https://github.com/fabric/fabric/pull/1497", "diff_url": "https://github.com/fabric/fabric/pull/1497.diff", "patch_url": "https://github.com/fabric/fabric/pull/1497.patch", "merged_at": null}, "body": "Consider the task function's comment of a fabfile.py contains non ASCII chars, just like this:\n\n```\n# -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\nfrom fabric.api import task, run\n\n@task\ndef test():\n    \"\"\"\n    \u6d4b\u8bd51234\n    \"\"\"\n    run('env')\n```\n\nAssume it need to be executed through a parallel.py script which uses subprocess.Popen:\n\n```\nimport subprocess\n\nlogfile = 'fabric.log'\nlogf = open(logfile, 'a')\nargs = ['fab', '-Hroot@192.168.100.18', 'test2']\np = subprocess.Popen(args, stdout=logf, stderr=logf)\np.wait()\n```\n\nThe new process will throw a exception, look at the fabric.log:\n\n```\n\nWarning: Command(s) not found:\n    test2\n\nTraceback (most recent call last):\n  File \"c:\\python27\\lib\\site-packages\\fabric\\main.py\", line 729, in main\n    show_commands(None, options.list_format, 1)\n  File \"c:\\python27\\lib\\site-packages\\fabric\\main.py\", line 592, in show_commands\n    print(\"\\n\".join(list_commands(docstring, format)))\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 31-32: ordinal not in range(128)\n```\n\nBecause the comment in fabfile.py is unicode, while redirect to logf, it would be encoded to string using default encoding (ascii), and therefore failed.\n\nTo solve this issue, I modified the show_commands() function in fabric/main.py, add some code to change the output unicode to bytes explicitly.\n\nBest wishes.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1497/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1491", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1491/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1491/events", "html_url": "https://github.com/fabric/fabric/issues/1491", "id": 167135264, "node_id": "MDU6SXNzdWUxNjcxMzUyNjQ=", "number": 1491, "title": "Conflation of login and sudo passwords problematic with 2FA", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-07-22T21:22:46Z", "updated_at": "2016-07-22T22:48:22Z", "closed_at": "2016-07-22T22:34:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Can't find open tickets about exactly this, probably because it's actually kind of a corner case.\n\n---\n\n\"Normally\", one's SSH login password and sudo password are the same value, which is why Fabric has always reused the one for the other by default. (See e.g. http://docs.fabfile.org/en/1.11/usage/execution.html#password-management)\n\nSo e.g. `env.password` (or the value obtained from `env.passwords` for current host), if set, is always handed to the Paramiko-level `SSHClient.connect`; this is then used to submit a password-auth request to the server (unless key auth succeeds first).\n\nIf the subsequent session includes calls to `sudo`, the same value is submitted in response to the `sudo` prompt.\n\n---\n\nA problem appears when one enables two-factor auth - e.g. key + Duo Security or other TOTP or push based 2FA, implemented as SSH's `keyboard-interactive` auth type - on the server:\n- As before, `env.password` is filled in, because that's required for happy `sudo`ing\n- As before, key auth is tried first, and succeeds. So far so good.\n- But then the server says \"you still need to satisfy another auth type\"\n- Paramiko's auth handling notes that auth has not fully succeeded, sees that `password` has been set, and submits it - first as `password` auth (which will fail in this scenario) and then falling back to `keyboard-interactive`.\n- Unless your password _just so happens_ to match the current timestamp's TOTP (staggeringly unlikely), this will cause a final auth failure, instead of surfacing the 2FA request to the interactive user.\n- Fabric then notices the auth exception and naively (thanks to other tickets) decides the user's password is bunk and prompts for a `Login password`.\n  - _Technically_, if you knew that all this was happening, you could whip out your authenticator and submit the next TOTP at this prompt, and things would then connect happily.\n  - But then, your TOTP is not your sudo password...so then you'd have to enter it by hand when _that_ side of things fails.\n  - And of course, you're not going to know this is happening - you'll just be confused about lack of 2FA prompt.\n\n---\n\nMy initial instinct was that this represented a Paramiko problem. We could potentially streamline things there in some way, but it's not really Paramiko's fault - we gave Paramiko a \"login password\" so it's not unfair to expect that to be used for auto-submitting `keyboard-interactive` auth (and the way things are implemented now, clearly some users do use it that way - even if it seems to me unlikely to be useful for true 2FA).\n\nInstead, the problem is simply that it's impossible to give Fabric distinct values for login and sudo passwords. Once that's possible, the above scenario is fixable by ensuring that the login password is `None` and the sudo password is filled in.\n\nHow to do this?\n- Obvious approach: add new `env.sudo_password`, preferentially check it over `env.password` at sudo time.\n  - Downside: doesn't extend to `env.passwords` and I don't see a backwards compatible way to mutate that particular structure (e.g. to `{<host-string>: {'sudo': 'blah', 'login':None}}`).\n    - Could mimic the top level change and also add `env.sudo_passwords`...\n  - Backwards compatible\n  - Don't see a need for the inverse/counterpart, `env.login_password`, because of the property that login passwords are by definition also sudo passwords.\n- Some additional setting like `env.no_login_passwords` that prevents use of `env.password`/etc at connect time - making it effectively only useful for sudo.\n  - This seems far less intuitive than the first option & doesn't seem to have any benefits, but I'm noting it for shits and giggles.\n- Backwards incompatible change: literally split the two, no more `env.password`, only `env.login_password` and `env.sudo_password`, with the latter defaulting to the former if unset.\n  - No good reason for this either, the first option works just as well and is backwards compatible.\n  - In v2 we'll probably go this route; also want to have distinct key-passphrase \"passwords\" as that fixes other issues like #213 (and I think I saw dupes of that too).\n    - E.g. `config.auth.passwords = {'login': xxx, 'sudo': yyy, 'passphrase': zzz}` or suchlike\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1491/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1470", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1470/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1470/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1470/events", "html_url": "https://github.com/fabric/fabric/pull/1470", "id": 158090596, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzMTA0MjY=", "number": 1470, "title": "Avoid creating local files for \"matchless\" patterns", "user": {"login": "shashurup", "id": 811999, "node_id": "MDQ6VXNlcjgxMTk5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/811999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashurup", "html_url": "https://github.com/shashurup", "followers_url": "https://api.github.com/users/shashurup/followers", "following_url": "https://api.github.com/users/shashurup/following{/other_user}", "gists_url": "https://api.github.com/users/shashurup/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashurup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashurup/subscriptions", "organizations_url": "https://api.github.com/users/shashurup/orgs", "repos_url": "https://api.github.com/users/shashurup/repos", "events_url": "https://api.github.com/users/shashurup/events{/privacy}", "received_events_url": "https://api.github.com/users/shashurup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/32", "html_url": "https://github.com/fabric/fabric/milestone/32", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/32/labels", "id": 1695448, "node_id": "MDk6TWlsZXN0b25lMTY5NTQ0OA==", "number": 32, "title": "1.10.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-09T19:26:05Z", "updated_at": "2016-08-22T22:53:54Z", "due_on": null, "closed_at": "2016-08-22T22:53:54Z"}, "comments": 6, "created_at": "2016-06-02T08:56:01Z", "updated_at": "2016-08-23T06:09:03Z", "closed_at": "2016-08-22T22:50:27Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1470", "html_url": "https://github.com/fabric/fabric/pull/1470", "diff_url": "https://github.com/fabric/fabric/pull/1470.diff", "patch_url": "https://github.com/fabric/fabric/pull/1470.patch", "merged_at": null}, "body": "When there is no match for a pattern fabric creates empty local file\nwith pattern name.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1470/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1458", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1458/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1458/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1458/events", "html_url": "https://github.com/fabric/fabric/pull/1458", "id": 150281902, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc0NjQ5Mzg=", "number": 1458, "title": "Handle \"Server '' not found in known_hosts exception", "user": {"login": "ldoktor", "id": 1074021, "node_id": "MDQ6VXNlcjEwNzQwMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1074021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldoktor", "html_url": "https://github.com/ldoktor", "followers_url": "https://api.github.com/users/ldoktor/followers", "following_url": "https://api.github.com/users/ldoktor/following{/other_user}", "gists_url": "https://api.github.com/users/ldoktor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldoktor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldoktor/subscriptions", "organizations_url": "https://api.github.com/users/ldoktor/orgs", "repos_url": "https://api.github.com/users/ldoktor/repos", "events_url": "https://api.github.com/users/ldoktor/events{/privacy}", "received_events_url": "https://api.github.com/users/ldoktor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/32", "html_url": "https://github.com/fabric/fabric/milestone/32", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/32/labels", "id": 1695448, "node_id": "MDk6TWlsZXN0b25lMTY5NTQ0OA==", "number": 32, "title": "1.10.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-09T19:26:05Z", "updated_at": "2016-08-22T22:53:54Z", "due_on": null, "closed_at": "2016-08-22T22:53:54Z"}, "comments": 9, "created_at": "2016-04-22T06:28:39Z", "updated_at": "2016-08-22T18:45:53Z", "closed_at": "2016-08-22T18:45:45Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1458", "html_url": "https://github.com/fabric/fabric/pull/1458", "diff_url": "https://github.com/fabric/fabric/pull/1458.diff", "patch_url": "https://github.com/fabric/fabric/pull/1458.patch", "merged_at": null}, "body": "The message with \"reject_unknown_hosts\" and \"abort_on_prompts\" is rather\nmissleading as paramiko returns:\n\n```\nSSHException: Server 'localhost' not found in known_hosts\n```\n\nbut fabric reports:\n\n```\nNeeded to prompt for a connection or sudo password (host:\nlocalhost), but abort-on-prompts was set to True\n```\n\nThis patch handles the special case similarly to existing workarounds.\n\nSigned-off-by: Luk\u00e1\u0161 Doktor ldoktor@redhat.com\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1458/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1428", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1428/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1428/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1428/events", "html_url": "https://github.com/fabric/fabric/pull/1428", "id": 131341875, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgyODQwMTk=", "number": 1428, "title": "Fabfile discovery: loading package with *.pyc only", "user": {"login": "oldsharp", "id": 980500, "node_id": "MDQ6VXNlcjk4MDUwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/980500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oldsharp", "html_url": "https://github.com/oldsharp", "followers_url": "https://api.github.com/users/oldsharp/followers", "following_url": "https://api.github.com/users/oldsharp/following{/other_user}", "gists_url": "https://api.github.com/users/oldsharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/oldsharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oldsharp/subscriptions", "organizations_url": "https://api.github.com/users/oldsharp/orgs", "repos_url": "https://api.github.com/users/oldsharp/repos", "events_url": "https://api.github.com/users/oldsharp/events{/privacy}", "received_events_url": "https://api.github.com/users/oldsharp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 414531975, "node_id": "MDU6TGFiZWw0MTQ1MzE5NzU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 5, "created_at": "2016-02-04T13:10:34Z", "updated_at": "2017-04-24T22:43:34Z", "closed_at": "2017-04-24T22:43:34Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1428", "html_url": "https://github.com/fabric/fabric/pull/1428", "diff_url": "https://github.com/fabric/fabric/pull/1428.diff", "patch_url": "https://github.com/fabric/fabric/pull/1428.patch", "merged_at": null}, "body": "    Fabfile discovery: loading package with *.pyc only\r\n\r\n    As the doc (sites/docs/usage/fabfiles.rst, in \"Fabfile discovery\")\r\n    says, Fabric is capable of loading Python modules (e.g. fabfile.py) or\r\n    packages (e.g. a fabfile/ directory containing an __init__.py).\r\n    Starting from version 0.9.2, Fabric has been capable of loading package\r\n    fabfiles.\r\n\r\n    However, Fabric's fabfile discovery algorithm only treats directories\r\n    with an __init__.py file in them as legal Python packages.  It refuse\r\n    to load any directories with an __init__.pyc file only (without\r\n    __init__.py) in them, which are also legal Python packages.\r\n\r\n    Fabric's current fabfile discovery algorithm works well for most cases.\r\n    But in some cases, for example, suppose someone would like to release a\r\n    tool, which consist of several Fabric tasks, in such a format that it\r\n    only contains *.pyc files, i.e. he/she does not want to release the\r\n    source code at all.  In such a case, users could run into trouble since\r\n    Fabric refuse to load packages which only have an __init__.pyc in them.\r\n\r\n    This commit gives Fabric the ability to load package fabfiles with\r\n    __init__.pyc file only.\r\n\r\n    This resolves #1427.", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1428/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1422", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1422/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1422/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1422/events", "html_url": "https://github.com/fabric/fabric/issues/1422", "id": 128342006, "node_id": "MDU6SXNzdWUxMjgzNDIwMDY=", "number": 1422, "title": "Timeout isn't respected on slow SSH connection setup", "user": {"login": "DamianZaremba", "id": 142120, "node_id": "MDQ6VXNlcjE0MjEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/142120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DamianZaremba", "html_url": "https://github.com/DamianZaremba", "followers_url": "https://api.github.com/users/DamianZaremba/followers", "following_url": "https://api.github.com/users/DamianZaremba/following{/other_user}", "gists_url": "https://api.github.com/users/DamianZaremba/gists{/gist_id}", "starred_url": "https://api.github.com/users/DamianZaremba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DamianZaremba/subscriptions", "organizations_url": "https://api.github.com/users/DamianZaremba/orgs", "repos_url": "https://api.github.com/users/DamianZaremba/repos", "events_url": "https://api.github.com/users/DamianZaremba/events{/privacy}", "received_events_url": "https://api.github.com/users/DamianZaremba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-23T17:44:17Z", "updated_at": "2017-08-24T18:33:39Z", "closed_at": "2017-08-24T18:33:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a number of servers that have a broken DNS configuration and UseDNS enabled within SSH.\n\nThis has the effect that the SSH banner is not presented until DNS has fully timed out, causing very slow SSH connection setups. The hang between the connection being established and the SSH banner being presented is in the order of ~15 seconds.\n\nSetting env.timeout globally to 300 seconds in a fabfile, does not alter the banner_timeout of Paramiko, which has the effect of the connections failing due to a timeout as the banner is not presented in time, even though the timeout in Fabric is significantly longer.\n\nAltering the client.connect call on line 449 of fabric/network.py to including the banner_timeout option (set to env.timeout) resolves the issue and connections do not time out as expected.\n\nI'm not sure of the other side effects caused by doing this (e.g. if Paramiko counts the timeout value from after the banner is present, it effectively doubles the timeout - not very clear behaviour!), so perhaps another env. option would be a better choice.\n\nIf you have a preferred way of enabling this option to be set, I'm happy to code up a pull request.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1409", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1409/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1409/events", "html_url": "https://github.com/fabric/fabric/issues/1409", "id": 120753249, "node_id": "MDU6SXNzdWUxMjA3NTMyNDk=", "number": 1409, "title": "Hang when making connections to FQDN and 'localhost' in the same test run.", "user": {"login": "cjw296", "id": 632049, "node_id": "MDQ6VXNlcjYzMjA0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/632049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjw296", "html_url": "https://github.com/cjw296", "followers_url": "https://api.github.com/users/cjw296/followers", "following_url": "https://api.github.com/users/cjw296/following{/other_user}", "gists_url": "https://api.github.com/users/cjw296/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjw296/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjw296/subscriptions", "organizations_url": "https://api.github.com/users/cjw296/orgs", "repos_url": "https://api.github.com/users/cjw296/repos", "events_url": "https://api.github.com/users/cjw296/events{/privacy}", "received_events_url": "https://api.github.com/users/cjw296/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-07T11:26:19Z", "updated_at": "2015-12-07T19:54:26Z", "closed_at": "2015-12-07T19:54:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is for @mathiasertl, but I figured @bitprophet might also be interested so logging here...\n\nSo, I'm using https://github.com/mathiasertl/fabric/ to get Fabric working under Python 3.\nI've found that I need the following package-level teardown to prevent the test run hanging during interpreter shutdown:\n\n```\ndef teardown_package(self):\n    # prevent hang on shutdown\n    from fabric.state import connections\n    for key in tuple(connections):\n        del connections[key]\n```\n\nThis hang doesn't occur using the same codebase under Python 2. Thought it might be worth a headsup when preparing for the 2.0 release...\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1399", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1399/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1399/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1399/events", "html_url": "https://github.com/fabric/fabric/pull/1399", "id": 117033331, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA3NjI3MzQ=", "number": 1399, "title": "Strip whitespace in username", "user": {"login": "abednarik", "id": 228723, "node_id": "MDQ6VXNlcjIyODcyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/228723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abednarik", "html_url": "https://github.com/abednarik", "followers_url": "https://api.github.com/users/abednarik/followers", "following_url": "https://api.github.com/users/abednarik/following{/other_user}", "gists_url": "https://api.github.com/users/abednarik/gists{/gist_id}", "starred_url": "https://api.github.com/users/abednarik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abednarik/subscriptions", "organizations_url": "https://api.github.com/users/abednarik/orgs", "repos_url": "https://api.github.com/users/abednarik/repos", "events_url": "https://api.github.com/users/abednarik/events{/privacy}", "received_events_url": "https://api.github.com/users/abednarik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-16T01:13:20Z", "updated_at": "2016-04-07T04:29:21Z", "closed_at": "2016-04-07T04:22:16Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1399", "html_url": "https://github.com/fabric/fabric/pull/1399", "diff_url": "https://github.com/fabric/fabric/pull/1399.diff", "patch_url": "https://github.com/fabric/fabric/pull/1399.patch", "merged_at": null}, "body": "Related to #1346\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1399/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1398", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1398/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1398/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1398/events", "html_url": "https://github.com/fabric/fabric/pull/1398", "id": 116721617, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA2MTQ0MzI=", "number": 1398, "title": "fix escape sequences in open_shell", "user": {"login": "HarryWeppner", "id": 90483, "node_id": "MDQ6VXNlcjkwNDgz", "avatar_url": "https://avatars.githubusercontent.com/u/90483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HarryWeppner", "html_url": "https://github.com/HarryWeppner", "followers_url": "https://api.github.com/users/HarryWeppner/followers", "following_url": "https://api.github.com/users/HarryWeppner/following{/other_user}", "gists_url": "https://api.github.com/users/HarryWeppner/gists{/gist_id}", "starred_url": "https://api.github.com/users/HarryWeppner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HarryWeppner/subscriptions", "organizations_url": "https://api.github.com/users/HarryWeppner/orgs", "repos_url": "https://api.github.com/users/HarryWeppner/repos", "events_url": "https://api.github.com/users/HarryWeppner/events{/privacy}", "received_events_url": "https://api.github.com/users/HarryWeppner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-13T08:13:38Z", "updated_at": "2016-04-09T03:32:36Z", "closed_at": "2016-04-07T21:43:07Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1398", "html_url": "https://github.com/fabric/fabric/pull/1398", "diff_url": "https://github.com/fabric/fabric/pull/1398.diff", "patch_url": "https://github.com/fabric/fabric/pull/1398.patch", "merged_at": null}, "body": "In the context of open_shell with sys.stdin connected to a channel,\ncursor movements appear \"wonky\", which can really mess up the user\nexperience.\n\nAn initial escape sequence is not captured correctly and only partially\nsent across the channel resulting in no effect. A repeated key press\nyields the correct sequence.\n\nI suspect this is caused by a mismatch between select (mapped to a\nsyscall) and reading from the (buffered) sys.stdin. Dropping to the\nlower-level os.read resolves this issue entirely.\n\nNOTE: this may explain https://github.com/fabric/fabric/issues/196\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1398/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1389", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1389/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1389/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1389/events", "html_url": "https://github.com/fabric/fabric/pull/1389", "id": 111342527, "node_id": "MDExOlB1bGxSZXF1ZXN0NDc2MjY5ODI=", "number": 1389, "title": "fix nested executions using non-standard ports", "user": {"login": "HarryWeppner", "id": 90483, "node_id": "MDQ6VXNlcjkwNDgz", "avatar_url": "https://avatars.githubusercontent.com/u/90483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HarryWeppner", "html_url": "https://github.com/HarryWeppner", "followers_url": "https://api.github.com/users/HarryWeppner/followers", "following_url": "https://api.github.com/users/HarryWeppner/following{/other_user}", "gists_url": "https://api.github.com/users/HarryWeppner/gists{/gist_id}", "starred_url": "https://api.github.com/users/HarryWeppner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HarryWeppner/subscriptions", "organizations_url": "https://api.github.com/users/HarryWeppner/orgs", "repos_url": "https://api.github.com/users/HarryWeppner/repos", "events_url": "https://api.github.com/users/HarryWeppner/events{/privacy}", "received_events_url": "https://api.github.com/users/HarryWeppner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/28", "html_url": "https://github.com/fabric/fabric/milestone/28", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/28/labels", "id": 783869, "node_id": "MDk6TWlsZXN0b25lNzgzODY5", "number": 28, "title": "1.11", "description": "Potential mid term feature release.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2014-09-09T16:33:13Z", "updated_at": "2016-04-09T18:07:40Z", "due_on": null, "closed_at": "2016-04-09T18:07:40Z"}, "comments": 8, "created_at": "2015-10-14T07:44:43Z", "updated_at": "2016-04-07T22:05:12Z", "closed_at": "2016-04-07T22:04:47Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1389", "html_url": "https://github.com/fabric/fabric/pull/1389", "diff_url": "https://github.com/fabric/fabric/pull/1389.diff", "patch_url": "https://github.com/fabric/fabric/pull/1389.patch", "merged_at": "2016-04-07T22:04:47Z"}, "body": "Nested executions using non-default ports did not work as env.port was prioritized over hostname and ssh config derived port numbers.\n\nSee test_tasks.py:TestExecute.test_nested_execution_with_explicit_ports\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1389/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1386", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1386/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1386/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1386/events", "html_url": "https://github.com/fabric/fabric/issues/1386", "id": 109370614, "node_id": "MDU6SXNzdWUxMDkzNzA2MTQ=", "number": 1386, "title": "shell_env fails when using csh", "user": {"login": "dgloe", "id": 4582309, "node_id": "MDQ6VXNlcjQ1ODIzMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4582309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgloe", "html_url": "https://github.com/dgloe", "followers_url": "https://api.github.com/users/dgloe/followers", "following_url": "https://api.github.com/users/dgloe/following{/other_user}", "gists_url": "https://api.github.com/users/dgloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgloe/subscriptions", "organizations_url": "https://api.github.com/users/dgloe/orgs", "repos_url": "https://api.github.com/users/dgloe/repos", "events_url": "https://api.github.com/users/dgloe/events{/privacy}", "received_events_url": "https://api.github.com/users/dgloe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-01T19:53:29Z", "updated_at": "2016-07-19T22:38:13Z", "closed_at": "2016-07-19T22:38:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Fabric 1.8.0 and python 2.7.9 shell_env fails with csh since it tries to use export instead of setenv.\n\n```\ndgloe@flubber-elogin1:~> cat fabrictest.py\nimport fabric.api\n\nfabric.api.env.shell = '/usr/bin/csh -c'\nfabric.api.env.host_string = 'localhost'\n\nwith fabric.api.shell_env(TEST='asdf'):\n    fabric.api.run('echo $TEST')\ndgloe@flubber-elogin1:~> python fabrictest.py\n[localhost] run: echo $TEST\n[localhost] Login password for 'dgloe':\n[localhost] out: export: Command not found.\n[localhost] out:\n\n\nFatal error: run() received nonzero return code 1 while executing!\n\nRequested: echo $TEST\nExecuted: /usr/bin/csh -c \"export TEST=\\\"asdf\\\" && echo \\$TEST\"\n\nAborting.\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1375", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1375/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1375/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1375/events", "html_url": "https://github.com/fabric/fabric/issues/1375", "id": 105170703, "node_id": "MDU6SXNzdWUxMDUxNzA3MDM=", "number": 1375, "title": "Change gateway settings not working ", "user": {"login": "pserrano", "id": 1397380, "node_id": "MDQ6VXNlcjEzOTczODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1397380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pserrano", "html_url": "https://github.com/pserrano", "followers_url": "https://api.github.com/users/pserrano/followers", "following_url": "https://api.github.com/users/pserrano/following{/other_user}", "gists_url": "https://api.github.com/users/pserrano/gists{/gist_id}", "starred_url": "https://api.github.com/users/pserrano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pserrano/subscriptions", "organizations_url": "https://api.github.com/users/pserrano/orgs", "repos_url": "https://api.github.com/users/pserrano/repos", "events_url": "https://api.github.com/users/pserrano/events{/privacy}", "received_events_url": "https://api.github.com/users/pserrano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-09-07T08:23:00Z", "updated_at": "2015-12-17T11:35:27Z", "closed_at": "2015-12-17T11:34:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Explain my problem. \n\nI need to enter on two bastion server for supply a few script. And i use settings for add information to gateway variable for change address to the bastions servers. \n\n``` python\ndef copy_live():\n        with settings(gateway='root@l-bastion'):\ndef restore():\n    with settings(gateway='root@q-bastion'):\n```\n\nif i make this: \n\n``` python\ndef fulldeploy():\n        execute(copy_live)\n        execute(restore)\n```\n\nthe variable for gateway don't modify the attribute for second setting and reconnect to live env and make all script exec on live again. But if only execute one def, works perfect.\nI don't know if a bug or i have made a programming mistake.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1374", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1374/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1374/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1374/events", "html_url": "https://github.com/fabric/fabric/issues/1374", "id": 105121310, "node_id": "MDU6SXNzdWUxMDUxMjEzMTA=", "number": 1374, "title": "env.shell doesn't work properly on FreeBSD", "user": {"login": "hyperknot", "id": 494223, "node_id": "MDQ6VXNlcjQ5NDIyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/494223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyperknot", "html_url": "https://github.com/hyperknot", "followers_url": "https://api.github.com/users/hyperknot/followers", "following_url": "https://api.github.com/users/hyperknot/following{/other_user}", "gists_url": "https://api.github.com/users/hyperknot/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyperknot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyperknot/subscriptions", "organizations_url": "https://api.github.com/users/hyperknot/orgs", "repos_url": "https://api.github.com/users/hyperknot/repos", "events_url": "https://api.github.com/users/hyperknot/events{/privacy}", "received_events_url": "https://api.github.com/users/hyperknot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}, {"id": 156638824, "node_id": "MDU6TGFiZWwxNTY2Mzg4MjQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-09-06T22:45:58Z", "updated_at": "2016-07-19T22:39:50Z", "closed_at": "2016-07-19T22:39:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "As based on the [FAQ](http://www.fabfile.org/faq.html#my-remote-system-doesn-t-have-bash-installed-by-default-do-i-need-to-install-bash), when using Fabric with a FreeBSD host, it needs \n\n`env.shell = \"/bin/sh -c\"`\n\nHowever this doesn't work. Basic `run` commands are ok, but `append` and `echo $0` and `echo $SHELL`  are not.\n\ncode:\n\n```\nenv.shell = \"/bin/sh -c\"\n\ndef get_shell():\n    run('echo $0')\n    run('echo $SHELL')\n    append('a', 'b')\n```\n\noutput:\n\n```\n[freebsd-virtualbox] run: echo $0\n[freebsd-virtualbox] out: csh\n[freebsd-virtualbox] out:\n\n[freebsd-virtualbox] run: echo $SHELL\n[freebsd-virtualbox] out: /bin/csh\n[freebsd-virtualbox] out:\n\n[freebsd-virtualbox] run: echo 'b' >> \"$(echo a)\"\n[freebsd-virtualbox] out: Unmatched \".\n[freebsd-virtualbox] out:\n\n\nFatal error: run() received nonzero return code 1 while executing!\n\nRequested: echo 'b' >> \"$(echo a)\"\nExecuted: /bin/sh -c \"echo 'b' >> \\\"\\$(echo a)\\\"\"\n```\n\nThe fix is to manually change the user's shell with chsh to sh or bash: `chsh -s /bin/sh` or `chsh -s /usr/local/bin/bash`\n\nAfter this and a reconnect Fabric actually works, with the following output:\n\n```\n[freebsd-virtualbox] Executing task 'get_shell'\n[freebsd-virtualbox] run: echo $0\n[freebsd-virtualbox] out: /bin/sh\n[freebsd-virtualbox] out:\n\n[freebsd-virtualbox] run: echo $SHELL\n[freebsd-virtualbox] out: /usr/local/bin/bash\n[freebsd-virtualbox] out:\n\n[freebsd-virtualbox] run: echo 'b' >> \"$(echo a)\"\n```\n\nI guess the question is that why doesn't env.shell change the shell when it's called on csh. \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1374/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1372", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1372/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1372/events", "html_url": "https://github.com/fabric/fabric/pull/1372", "id": 104722640, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQxMjE0NDI=", "number": 1372, "title": "fix and test for issue 1365: exception subclasses should not be recog\u2026", "user": {"login": "mattvonrocketstein", "id": 182887, "node_id": "MDQ6VXNlcjE4Mjg4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/182887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattvonrocketstein", "html_url": "https://github.com/mattvonrocketstein", "followers_url": "https://api.github.com/users/mattvonrocketstein/followers", "following_url": "https://api.github.com/users/mattvonrocketstein/following{/other_user}", "gists_url": "https://api.github.com/users/mattvonrocketstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattvonrocketstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattvonrocketstein/subscriptions", "organizations_url": "https://api.github.com/users/mattvonrocketstein/orgs", "repos_url": "https://api.github.com/users/mattvonrocketstein/repos", "events_url": "https://api.github.com/users/mattvonrocketstein/events{/privacy}", "received_events_url": "https://api.github.com/users/mattvonrocketstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/30", "html_url": "https://github.com/fabric/fabric/milestone/30", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/30/labels", "id": 1182928, "node_id": "MDk6TWlsZXN0b25lMTE4MjkyOA==", "number": 30, "title": "1.10.3", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-06-26T17:14:31Z", "updated_at": "2016-04-08T22:32:43Z", "due_on": null, "closed_at": "2016-04-07T04:29:31Z"}, "comments": 2, "created_at": "2015-09-03T15:30:41Z", "updated_at": "2016-04-07T03:59:22Z", "closed_at": "2016-04-07T03:59:21Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1372", "html_url": "https://github.com/fabric/fabric/pull/1372", "diff_url": "https://github.com/fabric/fabric/pull/1372.diff", "patch_url": "https://github.com/fabric/fabric/pull/1372.patch", "merged_at": null}, "body": "\u2026nized as fabric commands\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1372/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1368", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1368/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1368/events", "html_url": "https://github.com/fabric/fabric/pull/1368", "id": 103807231, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM2NzkxMTc=", "number": 1368, "title": "Fix shell_env for win32 environments", "user": {"login": "clarabstract", "id": 2922, "node_id": "MDQ6VXNlcjI5MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clarabstract", "html_url": "https://github.com/clarabstract", "followers_url": "https://api.github.com/users/clarabstract/followers", "following_url": "https://api.github.com/users/clarabstract/following{/other_user}", "gists_url": "https://api.github.com/users/clarabstract/gists{/gist_id}", "starred_url": "https://api.github.com/users/clarabstract/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clarabstract/subscriptions", "organizations_url": "https://api.github.com/users/clarabstract/orgs", "repos_url": "https://api.github.com/users/clarabstract/repos", "events_url": "https://api.github.com/users/clarabstract/events{/privacy}", "received_events_url": "https://api.github.com/users/clarabstract/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 156638824, "node_id": "MDU6TGFiZWwxNTY2Mzg4MjQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-08-28T22:41:04Z", "updated_at": "2018-05-10T06:53:41Z", "closed_at": "2018-05-10T06:53:41Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1368", "html_url": "https://github.com/fabric/fabric/pull/1368", "diff_url": "https://github.com/fabric/fabric/pull/1368.diff", "patch_url": "https://github.com/fabric/fabric/pull/1368.patch", "merged_at": null}, "body": "This ought to close #1083\n\nThere were two issues with the previous implementation - basically the windows `SET` call works nothing like `export`:\n1. It can only set a single value at a time (so we have to `&&` several `SET` commands together)\n2. `SET` has its own special snowflake requirements for escaping the value argument - specifically:\n\n> The characters <, >, |, &, ^ are special command shell characters, and they must be preceded by the escape character (^) or enclosed in quotation marks when used in String (for example, \"StringContaining&Symbol\"). If you use quotation marks to enclose a string that contains one of the special characters, the quotation marks are set as part of the environment variable value.\n\n(Source: https://technet.microsoft.com/en-us/library/cc754250.aspx)\n\nSo enclosing quotes are taken literally and should never be escaped, nor are they necessary in order to deal with spaces (which kind of makes sense I in a way I suppose since you can only set one value at a time and the value is always the last thing in the invocation). This actually includes any trailing spaces before the `&&` so all of those had to be special cased as well. This ended up making `_prefix_env_vars` kind of messy and `shell_env_str` should probably just be composed separately in the `if win32` clause, but hey it works.\n\nI have only tested this with Windows 7 but the technet page suggests the same semantics apply all the way back to Windows XP, so it's probably fine?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1368/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1366", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1366/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1366/events", "html_url": "https://github.com/fabric/fabric/issues/1366", "id": 102762153, "node_id": "MDU6SXNzdWUxMDI3NjIxNTM=", "number": 1366, "title": "Unable to do multiple hop ssh", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-24T10:36:02Z", "updated_at": "2016-10-25T22:47:14Z", "closed_at": "2016-10-25T22:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All\nI have a use case where i have host -> server1 and server2.\nI connect to from host to server1 via fabric(key_filename=xyz and forward_agent = True) and need to run scp(put) command on server1 to server2. It gives error permission denied , when i put ssh-agent off on host. but works when i add private key to ssh agent.\n\nRequirement is without adding private key to ssh-agent i need to get above use case done.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1365", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1365/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1365/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1365/events", "html_url": "https://github.com/fabric/fabric/issues/1365", "id": 102593305, "node_id": "MDU6SXNzdWUxMDI1OTMzMDU=", "number": 1365, "title": "Exception subclasses should not be shown in \"fab -l\"", "user": {"login": "mattvonrocketstein", "id": 182887, "node_id": "MDQ6VXNlcjE4Mjg4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/182887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattvonrocketstein", "html_url": "https://github.com/mattvonrocketstein", "followers_url": "https://api.github.com/users/mattvonrocketstein/followers", "following_url": "https://api.github.com/users/mattvonrocketstein/following{/other_user}", "gists_url": "https://api.github.com/users/mattvonrocketstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattvonrocketstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattvonrocketstein/subscriptions", "organizations_url": "https://api.github.com/users/mattvonrocketstein/orgs", "repos_url": "https://api.github.com/users/mattvonrocketstein/repos", "events_url": "https://api.github.com/users/mattvonrocketstein/events{/privacy}", "received_events_url": "https://api.github.com/users/mattvonrocketstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-23T06:26:36Z", "updated_at": "2015-12-17T22:35:29Z", "closed_at": "2015-12-17T22:35:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "To reproduce, create a fabfile.py with contents \"class Foo(Exception): pass\", then \"fab -l\" will list it as an available command.  \n\nI suppose this happens because callable(Foo) is True, but since using an Exception as a fabric command is nonsense, I would expect this to generate an error like \"Fatal error: Fabfile didn't contain any commands!\" just like if I had a fabfile consisting only of contents \"Foo=[]\", \n\nFor real fabfiles, this clutters up the namespace and it's annoying to have to do the \"from module import SomeException as _SomeException\" workaround. \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1363", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1363/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1363/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1363/events", "html_url": "https://github.com/fabric/fabric/issues/1363", "id": 101632198, "node_id": "MDU6SXNzdWUxMDE2MzIxOTg=", "number": 1363, "title": "with settings(skip_bad_hosts=True) not working on Fabric 1.8.0 ", "user": {"login": "kaulie", "id": 3387400, "node_id": "MDQ6VXNlcjMzODc0MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3387400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaulie", "html_url": "https://github.com/kaulie", "followers_url": "https://api.github.com/users/kaulie/followers", "following_url": "https://api.github.com/users/kaulie/following{/other_user}", "gists_url": "https://api.github.com/users/kaulie/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaulie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaulie/subscriptions", "organizations_url": "https://api.github.com/users/kaulie/orgs", "repos_url": "https://api.github.com/users/kaulie/repos", "events_url": "https://api.github.com/users/kaulie/events{/privacy}", "received_events_url": "https://api.github.com/users/kaulie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-18T11:13:52Z", "updated_at": "2015-12-31T01:27:05Z", "closed_at": "2015-12-31T01:27:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to http://docs.fabfile.org/en/1.10/api/core/context_managers.html#fabric.context_managers.settings,\nhttp://docs.fabfile.org/en/1.10/usage/env.html#skip-bad-hosts\n\nskip_bad_hosts can be set at runtime, but it's not true.\n\n**Fabric 1.8.0**\n**Paramiko 1.11.0**\n\n here is my code:\n*_170.27.2.15 is a bad host *_\n\n``` python\nfrom fabric.api import run, execute, env, settings\n\nhosts = ['172.27.2.14', '170.27.2.15', '192.168.60.250']\n#env.skip_bad_hosts = True\n\n\ndef _run():\n    with settings(skip_bad_hosts=True,\n                 timeout=3,\n                 warn_only=True):\n        run('cd /tmp/ && ls -lh')\n\n\ndef main():\n    execute(_run, hosts=hosts)\n\nif __name__ == '__main__':\n    main()\n```\n\n**If i set env.skip_bad_hosts = True, things work fine as follows**:\n\n[172.27.2.14] Executing task '_run'\n[172.27.2.14] run: cd /tmp/ && ls -lh\n[172.27.2.14] out: total 542M\n[172.27.2.14] out: -rw-r--r-- 1 scy scy  405 Aug 12 17:23 Dockerfile-scy-8.12\n[172.27.2.14] out: -rw-r--r-- 1 scy scy 542M Aug 12 17:21 iojs:1.7.1\n[172.27.2.14] out:\n\n[170.27.2.15] Executing task '_run'\n[170.27.2.15] run: cd /tmp/ && ls -lh\n\nWarning: Timed out trying to connect to 170.27.2.15 (tried 1 time)\n\nUnderlying exception:\n    timed out\n\n[192.168.60.250] Executing task '_run'\n[192.168.60.250] run: cd /tmp/ && ls -lh\n[192.168.60.250] Login password for 'gaolei':\n[192.168.60.250] out: total 0\n[192.168.60.250] out:\n\n---\n\n**But if use settings(skip_bad_hosts=True),  timeout will abort the process!**\n\n[172.27.2.14] Executing task '_run'\n[172.27.2.14] run: cd /tmp/ && ls -lh\n[172.27.2.14] out: total 542M\n[172.27.2.14] out: -rw-r--r-- 1 scy scy  405 Aug 12 17:23 Dockerfile-scy-8.12\n[172.27.2.14] out: -rw-r--r-- 1 scy scy 542M Aug 12 17:21 iojs:1.7.1\n[172.27.2.14] out:\n\n[170.27.2.15] Executing task '_run'\n[170.27.2.15] run: cd /tmp/ && ls -lh\n\nFatal error: Timed out trying to connect to 170.27.2.15 (tried 1 time)\n\nUnderlying exception:\n    timed out\n\nAborting.\n\nI think env and settings are replaceable couples, what about this?\nCan this be a bug or ???\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1348", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1348/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1348/events", "html_url": "https://github.com/fabric/fabric/issues/1348", "id": 91893534, "node_id": "MDU6SXNzdWU5MTg5MzUzNA==", "number": 1348, "title": "SFTP transfer crashes on paths with \"%\" characters", "user": {"login": "natecode", "id": 1581257, "node_id": "MDQ6VXNlcjE1ODEyNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1581257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natecode", "html_url": "https://github.com/natecode", "followers_url": "https://api.github.com/users/natecode/followers", "following_url": "https://api.github.com/users/natecode/following{/other_user}", "gists_url": "https://api.github.com/users/natecode/gists{/gist_id}", "starred_url": "https://api.github.com/users/natecode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natecode/subscriptions", "organizations_url": "https://api.github.com/users/natecode/orgs", "repos_url": "https://api.github.com/users/natecode/repos", "events_url": "https://api.github.com/users/natecode/events{/privacy}", "received_events_url": "https://api.github.com/users/natecode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-06-29T19:55:31Z", "updated_at": "2016-04-07T03:29:43Z", "closed_at": "2016-04-07T03:29:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "When transferring files from a host with `get()`, an exception is triggered if any path has a \"%\" code in it.\n\n```\nFatal error: get() encountered an exception while downloading\nUnderlying exception:\n    %d format: a number is required, not dict\n```\n\nTo reproduce, create a directory on the remote host with % in the file:\n\n```\nssh remote 'mkdir -p top/%a; touch top/%a/%d'\nmkdir out\n```\n\nThe run the following script to try to retrieve this dir:\n\n```\nfrom fabric.api import settings, get\nwith settings:\n   get('top/*', 'out')\n```\n\nThe issue is in the % expansion within sftp, where it passes a dict of args before calling abspath() in sftp.py:\n\n```\n        local_path = os.path.abspath(escaped_path % path_vars )\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1346", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1346/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1346/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1346/events", "html_url": "https://github.com/fabric/fabric/issues/1346", "id": 91054122, "node_id": "MDU6SXNzdWU5MTA1NDEyMg==", "number": 1346, "title": "trailing whitespace in ssh user leads to bad ssh connection", "user": {"login": "twomice", "id": 759449, "node_id": "MDQ6VXNlcjc1OTQ0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/759449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twomice", "html_url": "https://github.com/twomice", "followers_url": "https://api.github.com/users/twomice/followers", "following_url": "https://api.github.com/users/twomice/following{/other_user}", "gists_url": "https://api.github.com/users/twomice/gists{/gist_id}", "starred_url": "https://api.github.com/users/twomice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twomice/subscriptions", "organizations_url": "https://api.github.com/users/twomice/orgs", "repos_url": "https://api.github.com/users/twomice/repos", "events_url": "https://api.github.com/users/twomice/events{/privacy}", "received_events_url": "https://api.github.com/users/twomice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-25T19:28:58Z", "updated_at": "2016-04-07T04:29:03Z", "closed_at": "2015-12-20T21:27:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is similar to #305 and #619, which relate to the ssh host, whereas this relates to ssh user.\n# Summary:\n\nA trailing space in the ssh user will be passed on to the ssh connection process, leading to a failed connection attempt.  This is true for trailing spaces in the User value for a host in .ssh/config, leading to the confusing situation in which `ssh example.com` connects properly, but `fab mytask -H example.com` fails.\n# To reproduce\n\nssh-agent is running with my key for the remote server, as you'll see in the results of the `ssh` command below.\n\n```\n$ cat fabfile\nfrom fabric.api import *\nenv.use_ssh_config = True\n\n@task\ndef test_fab():\n    run('pwd')\n$ cat ~/.ssh/config\nHost mie\n  Hostname A.B.C.D # redacted IP address\n  # note the trailing whitespace on the next line:\n  User allen \n$ ssh mie\nLast login: Thu Jun 25 14:38:13 2015 from W.X.Y.Z\nallen@mie:~$ exit\nlogout\nConnection to A.B.C.D closed.\n$ fab test_fab -H mie\n[mie] Executing task 'test_fab'\n[mie] run: pwd\n[mie] Passphrase for private key: \n```\n\nIf I remove the trailing space from the User value in .ssh/config, there's no problem connecting with fabric:\n\n```\n$ cat ~/.ssh/config\nHost mie\n  Hostname A.B.C.D # redacted IP address\n  # No more trailing whitespace on the next line:\n  User allen\n$ ssh mie\nLast login: Thu Jun 25 14:38:13 2015 from W.X.Y.Z\nallen@mie:~$ exit\nlogout\nConnection to A.B.C.D closed.\n$ fab test_fab -H mie\n[mie] Executing task 'test_fab'\n[mie] run: pwd\n[mie] out: /home/allen\n[mie] out: \n\n\nDone.\n```\n\nI also tried adding `env.user = \"allen\"` to fabfile.py, allowing for a successful connection. But changing that to `env.user = \"allen \"` results in the same type of failure shown above. \n\nPerhaps adding a trailing space inside the quotations when setting env.user is \"asking for trouble\" in that it should be fairly obvious and will also fail consistently.  Trailing spaces in .ssh/config, however, are not as obvious and will also not fail when connecting directly with `ssh`.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1341", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1341/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1341/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1341/events", "html_url": "https://github.com/fabric/fabric/issues/1341", "id": 87410819, "node_id": "MDU6SXNzdWU4NzQxMDgxOQ==", "number": 1341, "title": "Security problem: upload_template () ==> world readable file in the home folder", "user": {"login": "indera", "id": 1429741, "node_id": "MDQ6VXNlcjE0Mjk3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1429741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indera", "html_url": "https://github.com/indera", "followers_url": "https://api.github.com/users/indera/followers", "following_url": "https://api.github.com/users/indera/following{/other_user}", "gists_url": "https://api.github.com/users/indera/gists{/gist_id}", "starred_url": "https://api.github.com/users/indera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indera/subscriptions", "organizations_url": "https://api.github.com/users/indera/orgs", "repos_url": "https://api.github.com/users/indera/repos", "events_url": "https://api.github.com/users/indera/events{/privacy}", "received_events_url": "https://api.github.com/users/indera/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-11T16:46:48Z", "updated_at": "2018-11-27T23:28:35Z", "closed_at": "2018-11-27T23:28:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wast running the upload_template() function from the fabric.contrib.files package and found an unexpected behavior.\nIf the \"destination\" parameter points to an invalid path then you end up with a world-readable file in your home folder:\n\n-rw-r--r--  1 me users  623 Jun 11 12:02 dbdc6b14139b9aaf18cfcd2cb1244440dbf08136\n\nIf the file happens to contain a password there is a chance of the somebody reading it.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1339", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1339/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1339/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1339/events", "html_url": "https://github.com/fabric/fabric/issues/1339", "id": 84073172, "node_id": "MDU6SXNzdWU4NDA3MzE3Mg==", "number": 1339, "title": "Pressing enter while running can expose sudo password", "user": {"login": "mcclurem", "id": 236281, "node_id": "MDQ6VXNlcjIzNjI4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/236281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcclurem", "html_url": "https://github.com/mcclurem", "followers_url": "https://api.github.com/users/mcclurem/followers", "following_url": "https://api.github.com/users/mcclurem/following{/other_user}", "gists_url": "https://api.github.com/users/mcclurem/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcclurem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcclurem/subscriptions", "organizations_url": "https://api.github.com/users/mcclurem/orgs", "repos_url": "https://api.github.com/users/mcclurem/repos", "events_url": "https://api.github.com/users/mcclurem/events{/privacy}", "received_events_url": "https://api.github.com/users/mcclurem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 485996, "node_id": "MDU6TGFiZWw0ODU5OTY=", "url": "https://api.github.com/repos/fabric/fabric/labels/sudo()", "name": "sudo()", "color": "DDDDDD", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/37", "html_url": "https://github.com/fabric/fabric/milestone/37", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/37/labels", "id": 3385746, "node_id": "MDk6TWlsZXN0b25lMzM4NTc0Ng==", "number": 37, "title": "2.0.5", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2018-05-29T23:09:12Z", "updated_at": "2018-09-13T22:15:04Z", "due_on": null, "closed_at": "2018-09-13T22:15:04Z"}, "comments": 4, "created_at": "2015-06-02T15:30:52Z", "updated_at": "2018-07-23T22:00:11Z", "closed_at": "2018-07-23T22:00:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "While running a series of commands, if you happen to press enter when a sudo prompt comes up and there's already a password in memory, it can expose it in plaintext . In addition, it appears that sometimes you can corrupt the sequence of operations that occur.\n\nIs the local keyboard/stdin always being sent to the host along with the sequence of running commands? If so that would seem to be errant behavior. If not, and the problem is strictly accidental local echoing, could showing the output line:\n`[10.0.0.23] out: sudo password:`\nbe hidden unless the password needs to be re-entered?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1330", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1330/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1330/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1330/events", "html_url": "https://github.com/fabric/fabric/issues/1330", "id": 76304535, "node_id": "MDU6SXNzdWU3NjMwNDUzNQ==", "number": 1330, "title": "fabric hangs while excuting remote bash script", "user": {"login": "eromoe", "id": 3938751, "node_id": "MDQ6VXNlcjM5Mzg3NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3938751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eromoe", "html_url": "https://github.com/eromoe", "followers_url": "https://api.github.com/users/eromoe/followers", "following_url": "https://api.github.com/users/eromoe/following{/other_user}", "gists_url": "https://api.github.com/users/eromoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eromoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eromoe/subscriptions", "organizations_url": "https://api.github.com/users/eromoe/orgs", "repos_url": "https://api.github.com/users/eromoe/repos", "events_url": "https://api.github.com/users/eromoe/events{/privacy}", "received_events_url": "https://api.github.com/users/eromoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-14T09:52:37Z", "updated_at": "2015-12-31T01:27:17Z", "closed_at": "2015-12-31T01:27:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a bash script named `ssadmin.sh`, it manages another script `sscounter.sh` .\nI am using fabric to excute `ssadmin.sh`.\n\nWithout `pty=False`:\n\n```\ndef ts1():\n    with settings(warn_only=True):\n        run(\"chmod 775 %s\" % 'ssadmin.sh')\n        run(\"%s start\" % 'ssadmin.sh')\n\n```\n\n`sscounter.sh` even can not start, but cmd would not be hanged:\n\n```\nroot@ubuntu-1404:~# /mithril/scripts/ss-bash/ssadmin.sh status\nssserver not running\nsscounter.sh not running\n```\n\nwith `pty=False`:\n\n```\ndef ts1():\n    with settings(warn_only=True):\n        run(\"chmod 775 %s\" % 'ssadmin.sh')\n        run(\"%s start\" % 'ssadmin.sh', pty=False)\n```\n\n```\nroot@ubuntu-1404:~# /mithril/scripts/ss-bash/ssadmin.sh status\nssserver not running\n10670 ?        S      0:00 /bin/bash /mithril/scripts/ss-bash/sscounter.sh\nsscounter.sh is running\n```\n\nsscounter.sh started, but cmd hangs:\n\n```\nE:\\[Sync]\\project\\walbk\\fab>fab ts1\n[192.168.1.181] Executing task 'ts1'\n[192.168.1.181] run: chmod 775 /mithril/scripts/ss-bash/ssadmin.sh\n[192.168.1.181] run: /mithril/scripts/ss-bash/ssadmin.sh start\n[192.168.1.181] out: stdin: is not a tty\n[192.168.1.181] out:  9915 ?        S      0:00 /bin/bash /mithril/scripts/ss-bash/sscounter.sh\n[192.168.1.181] out: sscounter.sh\u935a\ue21a\u59e9\u6d93?..\n[192.168.1.181] out: 10670 ?        S      0:00 /bin/bash /mithril/scripts/ss-bash/sscounter.sh\n[192.168.1.181] out: sscounter.sh\u5bb8\u63d2\u60ce\u9354?\n[192.168.1.181] out:                 (hang at here)\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1319", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1319/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1319/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1319/events", "html_url": "https://github.com/fabric/fabric/pull/1319", "id": 69350030, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM2MDkxMTc=", "number": 1319, "title": "Fix determination of whether or not the task decorator was invoked.", "user": {"login": "contracode", "id": 5852376, "node_id": "MDQ6VXNlcjU4NTIzNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5852376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/contracode", "html_url": "https://github.com/contracode", "followers_url": "https://api.github.com/users/contracode/followers", "following_url": "https://api.github.com/users/contracode/following{/other_user}", "gists_url": "https://api.github.com/users/contracode/gists{/gist_id}", "starred_url": "https://api.github.com/users/contracode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/contracode/subscriptions", "organizations_url": "https://api.github.com/users/contracode/orgs", "repos_url": "https://api.github.com/users/contracode/repos", "events_url": "https://api.github.com/users/contracode/events{/privacy}", "received_events_url": "https://api.github.com/users/contracode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 484874, "node_id": "MDU6TGFiZWw0ODQ4NzQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tasks", "name": "Tasks", "color": "DDDDDD", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-18T21:30:48Z", "updated_at": "2018-05-10T06:53:39Z", "closed_at": "2018-05-10T06:53:39Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1319", "html_url": "https://github.com/fabric/fabric/pull/1319", "diff_url": "https://github.com/fabric/fabric/pull/1319.diff", "patch_url": "https://github.com/fabric/fabric/pull/1319.patch", "merged_at": null}, "body": "Fixes `@task('foo')` decorator usage.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1319/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1311", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1311/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1311/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1311/events", "html_url": "https://github.com/fabric/fabric/pull/1311", "id": 68181671, "node_id": "MDExOlB1bGxSZXF1ZXN0MzMxOTc5ODI=", "number": 1311, "title": "Fixes the processing of try again prompts.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-13T20:03:27Z", "updated_at": "2018-05-10T06:53:39Z", "closed_at": "2018-05-10T06:53:38Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1311", "html_url": "https://github.com/fabric/fabric/pull/1311", "diff_url": "https://github.com/fabric/fabric/pull/1311.diff", "patch_url": "https://github.com/fabric/fabric/pull/1311.patch", "merged_at": null}, "body": "In trying to hunt down #701, I encountered the bug that the chomping of the try again prompt was wrong. \nThis fixes that.\n\n**Before:**\n\n```\n['\\r', '\\n', 'S', 'o', 'r', 'r', 'y', ',', ' ', 't', 'r', 'y', ' ', 'a', 'g', 'a', 'i']\n```\n\n**After:**\n\n```\n['S', 'o', 'r', 'r', 'y', ',', ' ', 't', 'r', 'y', ' ', 'a', 'g', 'a', 'i', 'n', '.', '\\r', '\\n']\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1311/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1309", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1309/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1309/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1309/events", "html_url": "https://github.com/fabric/fabric/issues/1309", "id": 68121649, "node_id": "MDU6SXNzdWU2ODEyMTY0OQ==", "number": 1309, "title": "No documentation on running tests", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sivy", "id": 70188, "node_id": "MDQ6VXNlcjcwMTg4", "avatar_url": "https://avatars.githubusercontent.com/u/70188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sivy", "html_url": "https://github.com/sivy", "followers_url": "https://api.github.com/users/sivy/followers", "following_url": "https://api.github.com/users/sivy/following{/other_user}", "gists_url": "https://api.github.com/users/sivy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sivy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sivy/subscriptions", "organizations_url": "https://api.github.com/users/sivy/orgs", "repos_url": "https://api.github.com/users/sivy/repos", "events_url": "https://api.github.com/users/sivy/events{/privacy}", "received_events_url": "https://api.github.com/users/sivy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sivy", "id": 70188, "node_id": "MDQ6VXNlcjcwMTg4", "avatar_url": "https://avatars.githubusercontent.com/u/70188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sivy", "html_url": "https://github.com/sivy", "followers_url": "https://api.github.com/users/sivy/followers", "following_url": "https://api.github.com/users/sivy/following{/other_user}", "gists_url": "https://api.github.com/users/sivy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sivy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sivy/subscriptions", "organizations_url": "https://api.github.com/users/sivy/orgs", "repos_url": "https://api.github.com/users/sivy/repos", "events_url": "https://api.github.com/users/sivy/events{/privacy}", "received_events_url": "https://api.github.com/users/sivy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-04-13T15:09:42Z", "updated_at": "2015-05-04T00:21:36Z", "closed_at": "2015-05-04T00:21:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't find any docs on running tests (for the sprints). I'll gladly bite this one off.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1301", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1301/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1301/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1301/events", "html_url": "https://github.com/fabric/fabric/pull/1301", "id": 65823320, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI0NzkwMzc=", "number": 1301, "title": "Fix always reconnect gateway", "user": {"login": "khattori", "id": 1694267, "node_id": "MDQ6VXNlcjE2OTQyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1694267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khattori", "html_url": "https://github.com/khattori", "followers_url": "https://api.github.com/users/khattori/followers", "following_url": "https://api.github.com/users/khattori/following{/other_user}", "gists_url": "https://api.github.com/users/khattori/gists{/gist_id}", "starred_url": "https://api.github.com/users/khattori/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khattori/subscriptions", "organizations_url": "https://api.github.com/users/khattori/orgs", "repos_url": "https://api.github.com/users/khattori/repos", "events_url": "https://api.github.com/users/khattori/events{/privacy}", "received_events_url": "https://api.github.com/users/khattori/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-02T02:46:16Z", "updated_at": "2018-05-10T06:53:38Z", "closed_at": "2018-05-10T06:53:38Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1301", "html_url": "https://github.com/fabric/fabric/pull/1301", "diff_url": "https://github.com/fabric/fabric/pull/1301.diff", "patch_url": "https://github.com/fabric/fabric/pull/1301.patch", "merged_at": null}, "body": "Connection attempt loop in connect function always reconnect gateway even if it's on initial try.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1301/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1300", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1300/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1300/events", "html_url": "https://github.com/fabric/fabric/issues/1300", "id": 65570667, "node_id": "MDU6SXNzdWU2NTU3MDY2Nw==", "number": 1300, "title": "csh and path() Context Manager", "user": {"login": "lucacorti", "id": 1076999, "node_id": "MDQ6VXNlcjEwNzY5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1076999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucacorti", "html_url": "https://github.com/lucacorti", "followers_url": "https://api.github.com/users/lucacorti/followers", "following_url": "https://api.github.com/users/lucacorti/following{/other_user}", "gists_url": "https://api.github.com/users/lucacorti/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucacorti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucacorti/subscriptions", "organizations_url": "https://api.github.com/users/lucacorti/orgs", "repos_url": "https://api.github.com/users/lucacorti/repos", "events_url": "https://api.github.com/users/lucacorti/events{/privacy}", "received_events_url": "https://api.github.com/users/lucacorti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-31T23:49:52Z", "updated_at": "2016-07-20T23:57:37Z", "closed_at": "2016-07-19T22:46:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nthe path context manager seems to fail when trying to append path on FreeBSD/csh containing unescaped characters like `$`, `~` and `.`. It also seems to add unneeded extra quotes.\n\nE.g., with bower installed locally:\n\n```\n...\n@task\ndef staging()\n...\n    env.directory = '~/'\n    env.venv_activate = 'bin/activate.csh'\n    env.venv = env.directory + 'venv/'\n    env.use_shell = False\n    env.add_to_path = [\n        env.directory + 'node_modules/bower/bin',\n        env.directory + 'node_modules/uglifyjs/bin',\n        env.directory + 'node_modules/yuglify/bin',\n    ]\n...\n@task\ndef deploy()\n    with cd(env.directory), prefix('source ' + env.venv + env.venv_activate), path(\":\".join(env.add_to_path)):\n        env.run('npm install')\n        env.run('bower install')\n...\n```\n\n`fab staging deploy`\n\nreturns \n\n```\n[freebsd] run: npm install\n[freebsd] out: Bad : modifier in $ (\").\n[freebsd] out: \n\nFatal error: run() received nonzero return code 1 while executing!\n\nRequested: npm install\nExecuted: cd ~/ && source ~/venv/bin/activate.csh && export PATH=\"$PATH:\"~/node_modules/bower/bin/:~/node_modules/yuglify/bin/:~/node_modules/uglify-js/bin/\"\" && npm install\n```\n\nalso `export` is probably not working anyway in csh, should be `setenv` I think.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1294", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1294/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1294/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1294/events", "html_url": "https://github.com/fabric/fabric/issues/1294", "id": 60675609, "node_id": "MDU6SXNzdWU2MDY3NTYwOQ==", "number": 1294, "title": "append() does not respect current content if line contains '<'", "user": {"login": "ecksun", "id": 135807, "node_id": "MDQ6VXNlcjEzNTgwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/135807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecksun", "html_url": "https://github.com/ecksun", "followers_url": "https://api.github.com/users/ecksun/followers", "following_url": "https://api.github.com/users/ecksun/following{/other_user}", "gists_url": "https://api.github.com/users/ecksun/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecksun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecksun/subscriptions", "organizations_url": "https://api.github.com/users/ecksun/orgs", "repos_url": "https://api.github.com/users/ecksun/repos", "events_url": "https://api.github.com/users/ecksun/events{/privacy}", "received_events_url": "https://api.github.com/users/ecksun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-11T15:23:43Z", "updated_at": "2017-04-24T21:32:38Z", "closed_at": "2017-04-24T21:32:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that if I run append() several times with the same content it also appends that line several times, instead of just one time. That is, append() is not idempotent.\n\n```\nIf text is already found in filename, the append is not run, and None is returned immediately.\n```\n\nThe following small test script can reproduce the issue:\n\n``` python\nfrom fabric.contrib.files import append\n\ndef run():\n      append('testfile', 'some < pipe')\n```\n\nThis issue seems to be similar to #341\n\nThe error has to do with the '<' symbol.\n\nThe problem seems to boil down to the regex that is sent to egrep in contains():\nhttps://github.com/fabric/fabric/blob/master/fabric/contrib/files.py#L360\n\nprinting egrep_cmd gives me the following for the above testcase:\n\n```\negrep \"^some\\ \\<\\ pipe$\" \"$(echo testfile)\"\n```\n\nHowever the correct regex would be:\n\n```\negrep \"^some\\ <\\ pipe$\" \"$(echo testfile)\"\n```\n\nThe incorrect regex seems to be generated by the `_escape_for_regex` function.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1289", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1289/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1289/events", "html_url": "https://github.com/fabric/fabric/pull/1289", "id": 60062428, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2MjI1NjE=", "number": 1289, "title": "Fixed \"NameError: free variable 'chan' referenced before assignment in enclosing scope\".", "user": {"login": "SamuelMarks", "id": 807580, "node_id": "MDQ6VXNlcjgwNzU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/807580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamuelMarks", "html_url": "https://github.com/SamuelMarks", "followers_url": "https://api.github.com/users/SamuelMarks/followers", "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}", "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions", "organizations_url": "https://api.github.com/users/SamuelMarks/orgs", "repos_url": "https://api.github.com/users/SamuelMarks/repos", "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}", "received_events_url": "https://api.github.com/users/SamuelMarks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-06T05:48:40Z", "updated_at": "2015-03-10T03:03:47Z", "closed_at": "2015-03-10T03:03:47Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1289", "html_url": "https://github.com/fabric/fabric/pull/1289", "diff_url": "https://github.com/fabric/fabric/pull/1289.diff", "patch_url": "https://github.com/fabric/fabric/pull/1289.patch", "merged_at": null}, "body": "Additionally `previous` was referenced before assignment, so moved it up a scope level.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1289/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1286", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1286/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1286/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1286/events", "html_url": "https://github.com/fabric/fabric/pull/1286", "id": 59795886, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA0NjM4NjE=", "number": 1286, "title": "WrappedCallableTask.__details__() support for multi-decorated objects", "user": {"login": "mvk", "id": 152877, "node_id": "MDQ6VXNlcjE1Mjg3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/152877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvk", "html_url": "https://github.com/mvk", "followers_url": "https://api.github.com/users/mvk/followers", "following_url": "https://api.github.com/users/mvk/following{/other_user}", "gists_url": "https://api.github.com/users/mvk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvk/subscriptions", "organizations_url": "https://api.github.com/users/mvk/orgs", "repos_url": "https://api.github.com/users/mvk/repos", "events_url": "https://api.github.com/users/mvk/events{/privacy}", "received_events_url": "https://api.github.com/users/mvk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 484874, "node_id": "MDU6TGFiZWw0ODQ4NzQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tasks", "name": "Tasks", "color": "DDDDDD", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-04T13:16:00Z", "updated_at": "2015-03-09T20:40:27Z", "closed_at": "2015-03-09T20:40:27Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1286", "html_url": "https://github.com/fabric/fabric/pull/1286", "diff_url": "https://github.com/fabric/fabric/pull/1286.diff", "patch_url": "https://github.com/fabric/fabric/pull/1286.patch", "merged_at": null}, "body": "- fixes fabric/fabric #971\n- fixes fabric/fabric #1032\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1286/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1283", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1283/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1283/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1283/events", "html_url": "https://github.com/fabric/fabric/issues/1283", "id": 58954727, "node_id": "MDU6SXNzdWU1ODk1NDcyNw==", "number": 1283, "title": "shell_env() cannot accept **kwargs", "user": {"login": "robbyt", "id": 58051, "node_id": "MDQ6VXNlcjU4MDUx", "avatar_url": "https://avatars.githubusercontent.com/u/58051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robbyt", "html_url": "https://github.com/robbyt", "followers_url": "https://api.github.com/users/robbyt/followers", "following_url": "https://api.github.com/users/robbyt/following{/other_user}", "gists_url": "https://api.github.com/users/robbyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/robbyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robbyt/subscriptions", "organizations_url": "https://api.github.com/users/robbyt/orgs", "repos_url": "https://api.github.com/users/robbyt/repos", "events_url": "https://api.github.com/users/robbyt/events{/privacy}", "received_events_url": "https://api.github.com/users/robbyt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-25T19:19:19Z", "updated_at": "2015-04-13T17:31:16Z", "closed_at": "2015-04-13T17:31:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I created a dict of environment variables to be passed to the `shell_env` context manager- my code looks sort of like this:\n\n``` python\nthe_d = {\"DO_IT\": \"yes please\"}\nwith shell_env(**the_d):\n  sudo(\"run.sh\")\n```\n\nHowever, I get the following error when I run this code:\n\n``` python\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/pkgfarm-django/fabtasks/deploy/helper.py\", line 144, in build_virtualenv\n    fab_env['virtualenv_target'], req_file)\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/network.py\", line 647, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/operations.py\", line 1107, in sudo\n    stderr=stderr, timeout=timeout, shell_escape=shell_escape,\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/operations.py\", line 907, in _run_command\n    _prefix_commands(_prefix_env_vars(command), 'remote'),\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/operations.py\", line 710, in _prefix_env_vars\n    for k, v in env_vars.iteritems()\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/operations.py\", line 710, in <genexpr>\n    for k, v in env_vars.iteritems()\n  File \"/Users/rterhaar/Documents/python/virtualenvs/v_env/lib/python2.7/site-packages/fabric/operations.py\", line 48, in _shell_escape\n    string = string.replace(char, '\\%s' % char)\nAttributeError: 'set' object has no attribute 'replace'\n```\n\nWhen I pass individual args to `shell_env` using the normal boring way, it works fine:\n\n``` python\nwith shell_env(DO_IT=\"yes please\"):\n  # this works!\n  sudo(\"run.sh\")\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1273", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1273/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1273/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1273/events", "html_url": "https://github.com/fabric/fabric/pull/1273", "id": 57387515, "node_id": "MDExOlB1bGxSZXF1ZXN0MjkxMzQ4MTE=", "number": 1273, "title": "Cross-platform `default_ssh_config_path`", "user": {"login": "SamuelMarks", "id": 807580, "node_id": "MDQ6VXNlcjgwNzU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/807580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamuelMarks", "html_url": "https://github.com/SamuelMarks", "followers_url": "https://api.github.com/users/SamuelMarks/followers", "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}", "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions", "organizations_url": "https://api.github.com/users/SamuelMarks/orgs", "repos_url": "https://api.github.com/users/SamuelMarks/repos", "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}", "received_events_url": "https://api.github.com/users/SamuelMarks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-02-11T22:28:10Z", "updated_at": "2015-03-09T20:05:24Z", "closed_at": "2015-03-05T18:23:53Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1273", "html_url": "https://github.com/fabric/fabric/pull/1273", "diff_url": "https://github.com/fabric/fabric/pull/1273.diff", "patch_url": "https://github.com/fabric/fabric/pull/1273.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1273/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1263", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1263/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1263/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1263/events", "html_url": "https://github.com/fabric/fabric/issues/1263", "id": 56061482, "node_id": "MDU6SXNzdWU1NjA2MTQ4Mg==", "number": 1263, "title": "connect() improperly hides some errors", "user": {"login": "bmhkim", "id": 1235316, "node_id": "MDQ6VXNlcjEyMzUzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1235316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmhkim", "html_url": "https://github.com/bmhkim", "followers_url": "https://api.github.com/users/bmhkim/followers", "following_url": "https://api.github.com/users/bmhkim/following{/other_user}", "gists_url": "https://api.github.com/users/bmhkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmhkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmhkim/subscriptions", "organizations_url": "https://api.github.com/users/bmhkim/orgs", "repos_url": "https://api.github.com/users/bmhkim/repos", "events_url": "https://api.github.com/users/bmhkim/events{/privacy}", "received_events_url": "https://api.github.com/users/bmhkim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-30T17:31:53Z", "updated_at": "2015-02-12T18:17:09Z", "closed_at": "2015-02-06T22:18:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fabric seems to be incorrectly hiding the cause of an exception in network.py:538's sys.exit(0) call.\n\nI had a weird environment (please don't ask why, just accept that it's the source of the exception that was being hidden) where I was using an old version of paramiko. The client in paramiko didn't have the sock kwarg, so Python was raising a TypeError. Unfortunately, the error handler for ctrl-d/ctrl-c seems to fail to validate that the exception caught is actually the one the developer is expecting. As a result, other errors are silently being ignored.\n\nUbuntu 14.04 amd64\nPython 2.7.6\nFabric 1.10.1\nParamiko 1.7.7 (An old version, and the source of my crash, but _NOT_ the bug per se)\n\nI acknowledge this is a weird case that should not ever happen. Nevertheless, it was a minor pain figuring out what was going on, so I'm submitting it for review.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1252", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1252/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1252/events", "html_url": "https://github.com/fabric/fabric/pull/1252", "id": 53908797, "node_id": "MDExOlB1bGxSZXF1ZXN0MjcxMjUyMzI=", "number": 1252, "title": "Get and put are not performing tilde expansion correctly", "user": {"login": "cinaglia", "id": 95875, "node_id": "MDQ6VXNlcjk1ODc1", "avatar_url": "https://avatars.githubusercontent.com/u/95875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cinaglia", "html_url": "https://github.com/cinaglia", "followers_url": "https://api.github.com/users/cinaglia/followers", "following_url": "https://api.github.com/users/cinaglia/following{/other_user}", "gists_url": "https://api.github.com/users/cinaglia/gists{/gist_id}", "starred_url": "https://api.github.com/users/cinaglia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cinaglia/subscriptions", "organizations_url": "https://api.github.com/users/cinaglia/orgs", "repos_url": "https://api.github.com/users/cinaglia/repos", "events_url": "https://api.github.com/users/cinaglia/events{/privacy}", "received_events_url": "https://api.github.com/users/cinaglia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-01-09T20:04:02Z", "updated_at": "2018-05-10T10:24:20Z", "closed_at": "2018-05-10T06:53:36Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1252", "html_url": "https://github.com/fabric/fabric/pull/1252", "diff_url": "https://github.com/fabric/fabric/pull/1252.diff", "patch_url": "https://github.com/fabric/fabric/pull/1252.patch", "merged_at": null}, "body": "`fabric.operations.get` and `fabric.operations.put` are not expanding tildes when used in conjunction with `cd`.\n##### Reproducing the bug\n\nAssuming `host` has a valid `~/tmp/sub` directory, the following code should be able to upload `/tmp/usecase` to `~/tmp/sub/usecase`.\n\n``` python\nfrom fabric.api import cd, put\n\ndef usecase():\n    with cd('~/tmp/'):\n        put('/tmp/usecase', remote_path='sub')\n```\n\nUnexpected behavior:\n\n``` bash\n$ fab usecase -H host\n[host] Executing task 'usecase'\n[host] put: /tmp/usecase -> ~/tmp/sub\n\nFatal error: put() encountered an exception while uploading '/tmp/usecase'\n\nUnderlying exception:\n    No such file\n```\n##### Solution\n\nUpon investigation, I noticed that `remote_path.replace('~', home, 1)` is being called prior to `os.path.isabs(remote_path)` check, which means the latter check will always return a truthy value. Hence, never expanding tildes. It will, however, work fine with originally absolute paths.\n\nMy proposed solution is to perform the tilde expansion _after_ performing the `isabs` check. This means that the check will catch all absolute paths that were intended as such while not catching the relative paths which are dynamically expanded by calling `remote_path.replace('~', home, 1)`.\n##### Note\n\nI'm definitely open to suggestions. I'm not particularly sure the tests are matching the expected guidelines. If not, let me know and I'll update.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1252/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1244", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1244/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1244/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1244/events", "html_url": "https://github.com/fabric/fabric/pull/1244", "id": 52802219, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY1NDg0Nzk=", "number": 1244, "title": "Fix check `destination` is a directory", "user": {"login": "dongweiming", "id": 841395, "node_id": "MDQ6VXNlcjg0MTM5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/841395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dongweiming", "html_url": "https://github.com/dongweiming", "followers_url": "https://api.github.com/users/dongweiming/followers", "following_url": "https://api.github.com/users/dongweiming/following{/other_user}", "gists_url": "https://api.github.com/users/dongweiming/gists{/gist_id}", "starred_url": "https://api.github.com/users/dongweiming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dongweiming/subscriptions", "organizations_url": "https://api.github.com/users/dongweiming/orgs", "repos_url": "https://api.github.com/users/dongweiming/repos", "events_url": "https://api.github.com/users/dongweiming/events{/privacy}", "received_events_url": "https://api.github.com/users/dongweiming/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-24T07:42:20Z", "updated_at": "2019-02-20T04:41:44Z", "closed_at": "2019-02-20T04:41:44Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1244", "html_url": "https://github.com/fabric/fabric/pull/1244", "diff_url": "https://github.com/fabric/fabric/pull/1244.diff", "patch_url": "https://github.com/fabric/fabric/pull/1244.patch", "merged_at": null}, "body": "it's a fabfile.py:\n\n``` python\nfrom fabric.contrib.files import upload_template\n\ncontext = {\n    'name': 'oscarmlage',\n}\n\ndef update_temp():\n    upload_template(filename='xmas.conf',\n                    destination='/home/vagrant/test/tmp/',\n                    context=context,\n                    template_dir='.',\n                    use_jinja=True)\n```\n\nwhen i execute it at freebsd:\n\n``` python\n\u279c  test  fab -H localhost update_temp --colorize-errors \n[localhost] Executing task 'update_temp'\n[localhost] put: <file obj> -> /home/vagrant/test/tmp/\n\nFatal error: put() encountered an exception while uploading '<StringIO.StringIO instance at 0x804415f80>'\n\nUnderlying exception:\n    Failure\n\nAborting.\nDisconnecting from localhost... done.\nput() encountered an exception while uploading '<StringIO.StringIO instance at 0x804415f80>'\n\nUnderlying exception:\n    Failure\n\n\u279c  test  ipython\nIn [1]: import os\n\nIn [2]: os.path.isdir('/home/vagrant/test/tmp/')\nOut[2]: True\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1244/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1233", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1233/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1233/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1233/events", "html_url": "https://github.com/fabric/fabric/issues/1233", "id": 51829022, "node_id": "MDU6SXNzdWU1MTgyOTAyMg==", "number": 1233, "title": "upload_template agains FreeBSD + strange char", "user": {"login": "oscarmlage", "id": 98542, "node_id": "MDQ6VXNlcjk4NTQy", "avatar_url": "https://avatars.githubusercontent.com/u/98542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oscarmlage", "html_url": "https://github.com/oscarmlage", "followers_url": "https://api.github.com/users/oscarmlage/followers", "following_url": "https://api.github.com/users/oscarmlage/following{/other_user}", "gists_url": "https://api.github.com/users/oscarmlage/gists{/gist_id}", "starred_url": "https://api.github.com/users/oscarmlage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oscarmlage/subscriptions", "organizations_url": "https://api.github.com/users/oscarmlage/orgs", "repos_url": "https://api.github.com/users/oscarmlage/repos", "events_url": "https://api.github.com/users/oscarmlage/events{/privacy}", "received_events_url": "https://api.github.com/users/oscarmlage/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-12T17:06:54Z", "updated_at": "2015-01-06T00:18:10Z", "closed_at": "2015-01-06T00:18:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im trying Fabric against a FreeBSD box (zsh) and with this code:\n\n```\ncontext = {\n    'name': 'oscarmlage',\n}\nupload_template(filename='xmas.conf',\n                destination='/home/temp/',\n                context=context,\n                template_dir=tpldir),\n                use_jinja=True)\n```\n\nAnd a xmas.conf template like this one:\n\n```\nMy name is: {{ name }}\n```\n\nGives a:\n\n```\n$ cat xmas.conf\nMy name is: oscarmlage#\n```\n\nNote the # at the end.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1228", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1228/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1228/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1228/events", "html_url": "https://github.com/fabric/fabric/pull/1228", "id": 51284880, "node_id": "MDExOlB1bGxSZXF1ZXN0MjU2NTczMjg=", "number": 1228, "title": "Fix underlying exception reporting for CommandTimeout exceptions", "user": {"login": "Kami", "id": 125088, "node_id": "MDQ6VXNlcjEyNTA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/125088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kami", "html_url": "https://github.com/Kami", "followers_url": "https://api.github.com/users/Kami/followers", "following_url": "https://api.github.com/users/Kami/following{/other_user}", "gists_url": "https://api.github.com/users/Kami/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kami/subscriptions", "organizations_url": "https://api.github.com/users/Kami/orgs", "repos_url": "https://api.github.com/users/Kami/repos", "events_url": "https://api.github.com/users/Kami/events{/privacy}", "received_events_url": "https://api.github.com/users/Kami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/27", "html_url": "https://github.com/fabric/fabric/milestone/27", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/27/labels", "id": 765385, "node_id": "MDk6TWlsZXN0b25lNzY1Mzg1", "number": 27, "title": "1.9.2/1.10.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-08-26T00:26:15Z", "updated_at": "2014-12-19T23:34:09Z", "due_on": null, "closed_at": "2014-12-19T23:34:09Z"}, "comments": 1, "created_at": "2014-12-08T10:34:17Z", "updated_at": "2014-12-19T22:04:36Z", "closed_at": "2014-12-19T22:04:36Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1228", "html_url": "https://github.com/fabric/fabric/pull/1228", "diff_url": "https://github.com/fabric/fabric/pull/1228.diff", "patch_url": "https://github.com/fabric/fabric/pull/1228.patch", "merged_at": null}, "body": "Currently if you run tasks in parallel mode and one of the hosts throws `CommandTimeout`, `fabric.utils.error` will return underlying exception as an empty string.\n\nFor example:\n\n```\nFatal error: One or more hosts failed while executing task 'local'\n\nUnderlying exception:\n\n\nAborting.\n```\n\nThe reason for that is that `CommandTimeout` class doesn't have `message` attribute so calling `str()` on it will return an empty string.\n\n> In [1]: from fabric.exceptions import CommandTimeout\n> \n> In [2]: str(CommandTimeout())\n> Out[2]: ''\n\nIn this pull request I've added `message` attribute to the class so the underlying exception is now reported correctly.\n\n> In [1]: from fabric.exceptions import CommandTimeout\n> \n> In [2]: str(CommandTimeout(1))\n> Out[2]: 'Command failed to finish in 1 seconds'\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1228/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1227", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1227/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1227/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1227/events", "html_url": "https://github.com/fabric/fabric/issues/1227", "id": 51237239, "node_id": "MDU6SXNzdWU1MTIzNzIzOQ==", "number": 1227, "title": "fabric.contrib.files.upload_template backup fails if env.shell does not support brace expansion (eg. /bin/sh) - Patch included", "user": {"login": "paulc", "id": 212168, "node_id": "MDQ6VXNlcjIxMjE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/212168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulc", "html_url": "https://github.com/paulc", "followers_url": "https://api.github.com/users/paulc/followers", "following_url": "https://api.github.com/users/paulc/following{/other_user}", "gists_url": "https://api.github.com/users/paulc/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulc/subscriptions", "organizations_url": "https://api.github.com/users/paulc/orgs", "repos_url": "https://api.github.com/users/paulc/repos", "events_url": "https://api.github.com/users/paulc/events{/privacy}", "received_events_url": "https://api.github.com/users/paulc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/34", "html_url": "https://github.com/fabric/fabric/milestone/34", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/34/labels", "id": 2481187, "node_id": "MDk6TWlsZXN0b25lMjQ4MTE4Nw==", "number": 34, "title": "1.14.x / next 1.x bugfix", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-25T18:48:08Z", "updated_at": "2018-11-27T23:34:46Z", "due_on": null, "closed_at": "2018-11-27T23:34:46Z"}, "comments": 0, "created_at": "2014-12-07T23:53:05Z", "updated_at": "2018-11-27T21:52:23Z", "closed_at": "2018-11-27T21:52:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "`fabric.contrib.files.upload_template` relies on brace expansion to create the backup file - eg.\n\n`cp \"$(echo report.txt)\"{,.bak}`\n\nThis fails if `env.shell` does not support brace expansion (which is true for /bin/sh).\n\nThe following patch fixes the issue.\n\n``` patch\ndiff --git a/fabric/contrib/files.py b/fabric/contrib/files.py\nindex 5db5b31..ef2515f 100644\n--- a/fabric/contrib/files.py\n+++ b/fabric/contrib/files.py\n@@ -150,7 +150,9 @@ def upload_template(filename, destination, context=None, use\n\n     # Back up original file\n     if backup and exists(destination):\n-        func(\"cp %s{,.bak}\" % _expand_path(destination))\n+        orig = _expand_path(destination)\n+        bak = _expand_path(destination + \".bak\")\n+        func(\"cp %s %s\" % (orig,bak))\n\n     # Upload the file.\n     return put(\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1226", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1226/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1226/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1226/events", "html_url": "https://github.com/fabric/fabric/issues/1226", "id": 50827476, "node_id": "MDU6SXNzdWU1MDgyNzQ3Ng==", "number": 1226, "title": "'Permission denied' on get with use_sudo=True", "user": {"login": "OddBloke", "id": 62736, "node_id": "MDQ6VXNlcjYyNzM2", "avatar_url": "https://avatars.githubusercontent.com/u/62736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OddBloke", "html_url": "https://github.com/OddBloke", "followers_url": "https://api.github.com/users/OddBloke/followers", "following_url": "https://api.github.com/users/OddBloke/following{/other_user}", "gists_url": "https://api.github.com/users/OddBloke/gists{/gist_id}", "starred_url": "https://api.github.com/users/OddBloke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OddBloke/subscriptions", "organizations_url": "https://api.github.com/users/OddBloke/orgs", "repos_url": "https://api.github.com/users/OddBloke/repos", "events_url": "https://api.github.com/users/OddBloke/events{/privacy}", "received_events_url": "https://api.github.com/users/OddBloke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/27", "html_url": "https://github.com/fabric/fabric/milestone/27", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/27/labels", "id": 765385, "node_id": "MDk6TWlsZXN0b25lNzY1Mzg1", "number": 27, "title": "1.9.2/1.10.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-08-26T00:26:15Z", "updated_at": "2014-12-19T23:34:09Z", "due_on": null, "closed_at": "2014-12-19T23:34:09Z"}, "comments": 11, "created_at": "2014-12-03T11:46:59Z", "updated_at": "2014-12-17T23:42:57Z", "closed_at": "2014-12-17T21:13:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Fabric against a fresh Ubuntu host, and trying to pull down /var/log in its entirety. I am hitting a 'Permission denied' error when calling `get('/var/log', '...', use_sudo=True)` because of a slightly convoluted Unix permissions problem.\n\n`/var/log/syslog` is owned by syslog:adm, and has permissions of 640. When `get` copies it to its temporary location, it changes its permissions to 404 (but doesn't change ownership at all).\n\nWhen a file has permissions of 404 (-r-----r--), it seems that being in the group that owns the file but not the _user_ that owns the file means that you can't read the file (even though \"others\" can). (Presumably each permission is checked in turn, \"group can't read\" must result in a \"permission denied\" without even looking at the \"others\" permission). I have fabric paused in a debugger here and am looking at the actual temporary file:\n\n```\n$ whoami\nubuntu\n$ groups\nubuntu adm dialout cdrom floppy sudo audio dip video plugdev netdev\n$ ls -lah 9c689b24596429d276c11545d27fe2a17dd9299a\n-r-----r-- 1 syslog adm 46K Dec  3 11:19 9c689b24596429d276c11545d27fe2a17dd9299a\n$ head -n1 9c689b24596429d276c11545d27fe2a17dd9299a \nhead: cannot open '9c689b24596429d276c11545d27fe2a17dd9299a' for reading: Permission denied\n$ sudo -u www-data head -n1 9c689b24596429d276c11545d27fe2a17dd9299a \nDec  3 11:18:48 ubuntu rsyslogd: [origin software=\"rsyslogd\" swVersion=\"7.4.4\" x-pid=\"1057\" x-info=\"http://www.rsyslog.com\"] start\n```\n\nI reckon this could be fixed by either (a) making the temporary files group-readable, or (b) changing the ownership of the temporary files to the user performing the operation.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1205", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1205/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1205/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1205/events", "html_url": "https://github.com/fabric/fabric/issues/1205", "id": 44890313, "node_id": "MDU6SXNzdWU0NDg5MDMxMw==", "number": 1205, "title": "sudo commands (e.g. /etc/init.d/networking restart) can hang if TCP session resets (due to duplicate IP address)", "user": {"login": "stannous", "id": 6379059, "node_id": "MDQ6VXNlcjYzNzkwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6379059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stannous", "html_url": "https://github.com/stannous", "followers_url": "https://api.github.com/users/stannous/followers", "following_url": "https://api.github.com/users/stannous/following{/other_user}", "gists_url": "https://api.github.com/users/stannous/gists{/gist_id}", "starred_url": "https://api.github.com/users/stannous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stannous/subscriptions", "organizations_url": "https://api.github.com/users/stannous/orgs", "repos_url": "https://api.github.com/users/stannous/repos", "events_url": "https://api.github.com/users/stannous/events{/privacy}", "received_events_url": "https://api.github.com/users/stannous/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-10-04T18:19:48Z", "updated_at": "2019-09-10T15:21:54Z", "closed_at": "2019-09-10T15:21:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\n(Using Fabric 1.8.3 and paramiko 1.10.1 on debian wheezy linux 3.2.60-1 machines.)\n\nWe have a case where we were getting tests just hanging on \"sudo\" commands (mostly /etc/init.d/networking restart).  Granted, it may seem foolish to do a networking restart when you are running your tests over eth0 but it's usually not a problem because the fabric/paramiko session (and channel)  keeps working just fine.   \n\nBut when there happens to be a duplicate IP address on the LAN, the device under test's\neth0 interface comes up, handles getting its IP address via DHCP just fine. It then ARPs for the device it was talking to (where we run our nose tests that use fabric) and receives an ARP response.    \n\nIt then receives another ARP response (from the duplicate IP)\nwith a different MAC address.  Once this happens, the server running\nthe test (presumably, the debian linux (v 3.2.60-1) sends a TCP reset packet\nto the device under test and this gets TCP reset sent back in response.\n\nWhile all these TCP resets are exchanged, the originating fabric session sudo command just\nhangs.   I added some debug statements to the \"while True:\" loop in operations.py\nand it simply prints out a timestamp continuously increasing (the sleep timer there\nis the default 0.01 seconds).\n\nMy question is this: shouldn't fabric somehow know that the underlying (paramiko?) \nssh session is broken when the TCP resets get exchanged?   It seems to keep \nspinning in the while:True loop.     I realize this is a corner case and the duplicate IP \naddress should be removed.....but, one would expect the sudo command to produce an\nerror (like \"Socket error...lost connection\" or something...not just hang).\n\nI initiate the test by cutting and pasting the following:\n(keep in mind you have to have a second server with the same IP address\nas the server running this test....the \"dut1\" below is on the same LAN.)\nEverything works just fine...it's just the presence of a duplicate IP device\non the LAN that hangs the sudo command (service networking restart) \nwhere an ARP is involved that effects the underlying TCP session:\n\nipython\n\nhosts = \"testid@dut1\"\nimport fabric\nfrom fabric.operations import run, sudo\nfrom fabric.tasks import execute\nfrom fabric.context_managers import hide\nfrom fabric.context_managers import settings\n\nreload = lambda: sudo('/etc/init.d/networking restart')\nmydate = lambda: sudo('date')\nexecute(mydate, hosts=hosts)\n\nthis next command will hang indefinitely if there is a duplicate IP address \n\nexecute(reload, hosts=hosts)\n\neven the following doesn't seem to help as we still get \nthe command to hang and no retries or timeouts occur\nwith settings(hide(timeout=10, connection_attempts=5):\n     execute(_date, hosts=hosts)\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1205/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1204", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1204/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1204/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1204/events", "html_url": "https://github.com/fabric/fabric/issues/1204", "id": 44763377, "node_id": "MDU6SXNzdWU0NDc2MzM3Nw==", "number": 1204, "title": "shell_env doesn't support numbers for environment variable values", "user": {"login": "SamuelMarks", "id": 807580, "node_id": "MDQ6VXNlcjgwNzU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/807580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamuelMarks", "html_url": "https://github.com/SamuelMarks", "followers_url": "https://api.github.com/users/SamuelMarks/followers", "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}", "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions", "organizations_url": "https://api.github.com/users/SamuelMarks/orgs", "repos_url": "https://api.github.com/users/SamuelMarks/repos", "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}", "received_events_url": "https://api.github.com/users/SamuelMarks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-03T03:10:01Z", "updated_at": "2017-05-08T16:14:16Z", "closed_at": "2014-10-08T23:40:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Test-case:\n\n```\nfrom fabric.api import run\nfrom fabric.context_managers import shell_env\n\ndef foo():\n    with shell_env(num=1):\n        run('echo \"num=$num\"')\n```\n# Error:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/fabric/main.py\", line 743, in main\n    *args, **kwargs\n  File \"/usr/local/lib/python2.7/site-packages/fabric/tasks.py\", line 384, in execute\n    multiprocessing\n  File \"/usr/local/lib/python2.7/site-packages/fabric/tasks.py\", line 274, in _execute\n    return task.run(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/fabric/tasks.py\", line 174, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/Users/samuel/Work/alphatise/datav2-api/fabfile.py\", line 89, in serve\n    print run('env | sort')\n  File \"/usr/local/lib/python2.7/site-packages/fabric/network.py\", line 647, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/fabric/operations.py\", line 1048, in run\n    shell_escape=shell_escape)\n  File \"/usr/local/lib/python2.7/site-packages/fabric/operations.py\", line 901, in _run_command\n    _prefix_commands(_prefix_env_vars(command), 'remote'),\n  File \"/usr/local/lib/python2.7/site-packages/fabric/operations.py\", line 704, in _prefix_env_vars\n    for k, v in env_vars.iteritems()\n  File \"/usr/local/lib/python2.7/site-packages/fabric/operations.py\", line 704, in <genexpr>\n    for k, v in env_vars.iteritems()\n  File \"/usr/local/lib/python2.7/site-packages/fabric/operations.py\", line 48, in _shell_escape\n    string = string.replace(char, '\\%s' % char)\nAttributeError: 'int' object has no attribute 'replace'\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1201", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1201/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1201/events", "html_url": "https://github.com/fabric/fabric/issues/1201", "id": 44640003, "node_id": "MDU6SXNzdWU0NDY0MDAwMw==", "number": 1201, "title": "get()'s always-glob behavior stinks for unreadable directories", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/27", "html_url": "https://github.com/fabric/fabric/milestone/27", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/27/labels", "id": 765385, "node_id": "MDk6TWlsZXN0b25lNzY1Mzg1", "number": 27, "title": "1.9.2/1.10.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-08-26T00:26:15Z", "updated_at": "2014-12-19T23:34:09Z", "due_on": null, "closed_at": "2014-12-19T23:34:09Z"}, "comments": 1, "created_at": "2014-10-02T02:13:10Z", "updated_at": "2014-12-19T23:16:44Z", "closed_at": "2014-12-19T23:16:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, `get` performs globbing of the filename portion in all cases (even when given a fully qualified file path).\n\nThis isn't a problem normally (though it may be somewhat inefficient) but in edge cases where the connecting user has permission to read the file, but _not_ its enclosing directory, they encounter errors due to our attempts to `listdir` during the glob attempt.\n\nI haven't looked closely but I presume we can simply test for \"is this path a file?\" and short circuit around globbing if that is the case; it would fix the edge case and be that much more efficient the rest of the time.\n\nCredit to Sassa Nf (aka Alex) as per an email thread.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1190", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1190/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1190/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1190/events", "html_url": "https://github.com/fabric/fabric/pull/1190", "id": 42279560, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA5Mzg2ODI=", "number": 1190, "title": "add retry if auth error in parallel mode", "user": {"login": "s-kostyaev", "id": 8576745, "node_id": "MDQ6VXNlcjg1NzY3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8576745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s-kostyaev", "html_url": "https://github.com/s-kostyaev", "followers_url": "https://api.github.com/users/s-kostyaev/followers", "following_url": "https://api.github.com/users/s-kostyaev/following{/other_user}", "gists_url": "https://api.github.com/users/s-kostyaev/gists{/gist_id}", "starred_url": "https://api.github.com/users/s-kostyaev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s-kostyaev/subscriptions", "organizations_url": "https://api.github.com/users/s-kostyaev/orgs", "repos_url": "https://api.github.com/users/s-kostyaev/repos", "events_url": "https://api.github.com/users/s-kostyaev/events{/privacy}", "received_events_url": "https://api.github.com/users/s-kostyaev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-09-09T07:47:45Z", "updated_at": "2014-09-17T21:55:11Z", "closed_at": "2014-09-17T21:55:11Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1190", "html_url": "https://github.com/fabric/fabric/pull/1190", "diff_url": "https://github.com/fabric/fabric/pull/1190.diff", "patch_url": "https://github.com/fabric/fabric/pull/1190.patch", "merged_at": null}, "body": "We have issue with multiple (more than 10 nodes) ssh connections in parallel mode. This patch resolve the issue.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1190/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1188", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1188/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1188/events", "html_url": "https://github.com/fabric/fabric/pull/1188", "id": 41690793, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA2MDEwMDY=", "number": 1188, "title": "Close fds before the child process is executed", "user": {"login": "tolbkni", "id": 306605, "node_id": "MDQ6VXNlcjMwNjYwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/306605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tolbkni", "html_url": "https://github.com/tolbkni", "followers_url": "https://api.github.com/users/tolbkni/followers", "following_url": "https://api.github.com/users/tolbkni/following{/other_user}", "gists_url": "https://api.github.com/users/tolbkni/gists{/gist_id}", "starred_url": "https://api.github.com/users/tolbkni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tolbkni/subscriptions", "organizations_url": "https://api.github.com/users/tolbkni/orgs", "repos_url": "https://api.github.com/users/tolbkni/repos", "events_url": "https://api.github.com/users/tolbkni/events{/privacy}", "received_events_url": "https://api.github.com/users/tolbkni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/26", "html_url": "https://github.com/fabric/fabric/milestone/26", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/26/labels", "id": 745553, "node_id": "MDk6TWlsZXN0b25lNzQ1NTUz", "number": 26, "title": "1.10", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2014-08-06T22:17:50Z", "updated_at": "2014-09-04T01:00:03Z", "due_on": null, "closed_at": "2014-09-04T01:00:03Z"}, "comments": 0, "created_at": "2014-09-02T09:31:09Z", "updated_at": "2014-09-04T01:15:17Z", "closed_at": "2014-09-04T00:55:22Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1188", "html_url": "https://github.com/fabric/fabric/pull/1188", "diff_url": "https://github.com/fabric/fabric/pull/1188.diff", "patch_url": "https://github.com/fabric/fabric/pull/1188.patch", "merged_at": "2014-09-04T00:55:22Z"}, "body": "All file descriptors except 0, 1 and 2 are closed before the child process is executed. (Unix only)\n\nI call `fabric.api.local` function to start service in my python application, which open a port to accept HTTP connections, then stop the application, the opened port will be attached to the service! I cannot run my python application again, since the port is already used.\n\nThe default value of the executable parameter of the `subprocess.Popen` function is `None`, so we don't need the condition `if shell is not None:`\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1188/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1186", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1186/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1186/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1186/events", "html_url": "https://github.com/fabric/fabric/pull/1186", "id": 41357538, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA0MTg4ODU=", "number": 1186, "title": "Check isatty existence on sys.stdout", "user": {"login": "schemacs", "id": 434358, "node_id": "MDQ6VXNlcjQzNDM1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/434358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schemacs", "html_url": "https://github.com/schemacs", "followers_url": "https://api.github.com/users/schemacs/followers", "following_url": "https://api.github.com/users/schemacs/following{/other_user}", "gists_url": "https://api.github.com/users/schemacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/schemacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schemacs/subscriptions", "organizations_url": "https://api.github.com/users/schemacs/orgs", "repos_url": "https://api.github.com/users/schemacs/repos", "events_url": "https://api.github.com/users/schemacs/events{/privacy}", "received_events_url": "https://api.github.com/users/schemacs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/27", "html_url": "https://github.com/fabric/fabric/milestone/27", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/27/labels", "id": 765385, "node_id": "MDk6TWlsZXN0b25lNzY1Mzg1", "number": 27, "title": "1.9.2/1.10.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-08-26T00:26:15Z", "updated_at": "2014-12-19T23:34:09Z", "due_on": null, "closed_at": "2014-12-19T23:34:09Z"}, "comments": 1, "created_at": "2014-08-28T05:51:56Z", "updated_at": "2014-12-19T22:04:36Z", "closed_at": "2014-12-19T22:04:36Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1186", "html_url": "https://github.com/fabric/fabric/pull/1186", "diff_url": "https://github.com/fabric/fabric/pull/1186.diff", "patch_url": "https://github.com/fabric/fabric/pull/1186.patch", "merged_at": null}, "body": "This fixes #916 , but I found another #1019 may duplicates this.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1186/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1183", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1183/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1183/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1183/events", "html_url": "https://github.com/fabric/fabric/pull/1183", "id": 40675008, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAwMzE5MDk=", "number": 1183, "title": "FIxing decorated tasks help", "user": {"login": "david-caro", "id": 587148, "node_id": "MDQ6VXNlcjU4NzE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/587148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-caro", "html_url": "https://github.com/david-caro", "followers_url": "https://api.github.com/users/david-caro/followers", "following_url": "https://api.github.com/users/david-caro/following{/other_user}", "gists_url": "https://api.github.com/users/david-caro/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-caro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-caro/subscriptions", "organizations_url": "https://api.github.com/users/david-caro/orgs", "repos_url": "https://api.github.com/users/david-caro/repos", "events_url": "https://api.github.com/users/david-caro/events{/privacy}", "received_events_url": "https://api.github.com/users/david-caro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 484874, "node_id": "MDU6TGFiZWw0ODQ4NzQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tasks", "name": "Tasks", "color": "DDDDDD", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-08-20T08:44:55Z", "updated_at": "2018-05-10T06:53:34Z", "closed_at": "2018-05-10T06:53:34Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1183", "html_url": "https://github.com/fabric/fabric/pull/1183", "diff_url": "https://github.com/fabric/fabric/pull/1183.diff", "patch_url": "https://github.com/fabric/fabric/pull/1183.patch", "merged_at": null}, "body": "When using a decorated function (even using the wrapped decorator) it would\ncomplain that it's not a python function when trying to get the arguments for\nit. Now it will try also with the '**call**' method.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1183/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1180", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1180/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1180/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1180/events", "html_url": "https://github.com/fabric/fabric/pull/1180", "id": 40524166, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk5Mzk5NTM=", "number": 1180, "title": "fix an error if a stream encoding type is None", "user": {"login": "joekiller", "id": 1022919, "node_id": "MDQ6VXNlcjEwMjI5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1022919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joekiller", "html_url": "https://github.com/joekiller", "followers_url": "https://api.github.com/users/joekiller/followers", "following_url": "https://api.github.com/users/joekiller/following{/other_user}", "gists_url": "https://api.github.com/users/joekiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/joekiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joekiller/subscriptions", "organizations_url": "https://api.github.com/users/joekiller/orgs", "repos_url": "https://api.github.com/users/joekiller/repos", "events_url": "https://api.github.com/users/joekiller/events{/privacy}", "received_events_url": "https://api.github.com/users/joekiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/27", "html_url": "https://github.com/fabric/fabric/milestone/27", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/27/labels", "id": 765385, "node_id": "MDk6TWlsZXN0b25lNzY1Mzg1", "number": 27, "title": "1.9.2/1.10.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-08-26T00:26:15Z", "updated_at": "2014-12-19T23:34:09Z", "due_on": null, "closed_at": "2014-12-19T23:34:09Z"}, "comments": 10, "created_at": "2014-08-18T19:43:57Z", "updated_at": "2014-12-19T23:56:55Z", "closed_at": "2014-12-19T18:40:54Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1180", "html_url": "https://github.com/fabric/fabric/pull/1180", "diff_url": "https://github.com/fabric/fabric/pull/1180.diff", "patch_url": "https://github.com/fabric/fabric/pull/1180.patch", "merged_at": null}, "body": "With the encoding refactor an error was introduced where if the encoding type of the stream was None a TypeError exception was thrown saying `encode() argument 1 must be string, not None`.\n\nThis rare case happens if the stdout stream is being emulated or intercepted in a build system such as Jenkins and unicode characters were being fed through the put() command.  The resulting sys.system.out stream.encoding would be None.\n\nThis fix ensures that if the stream encoding is unknown if allows the message to just decode it the best it can.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1180/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1165", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1165/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1165/events", "html_url": "https://github.com/fabric/fabric/pull/1165", "id": 38522875, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg3NzE1NjM=", "number": 1165, "title": "break the loop when the host is gateway itself", "user": {"login": "CzBiX", "id": 760097, "node_id": "MDQ6VXNlcjc2MDA5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/760097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CzBiX", "html_url": "https://github.com/CzBiX", "followers_url": "https://api.github.com/users/CzBiX/followers", "following_url": "https://api.github.com/users/CzBiX/following{/other_user}", "gists_url": "https://api.github.com/users/CzBiX/gists{/gist_id}", "starred_url": "https://api.github.com/users/CzBiX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CzBiX/subscriptions", "organizations_url": "https://api.github.com/users/CzBiX/orgs", "repos_url": "https://api.github.com/users/CzBiX/repos", "events_url": "https://api.github.com/users/CzBiX/events{/privacy}", "received_events_url": "https://api.github.com/users/CzBiX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 0, "created_at": "2014-07-23T12:09:17Z", "updated_at": "2014-09-14T10:22:28Z", "closed_at": "2014-08-07T00:04:01Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1165", "html_url": "https://github.com/fabric/fabric/pull/1165", "diff_url": "https://github.com/fabric/fabric/pull/1165.diff", "patch_url": "https://github.com/fabric/fabric/pull/1165.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1165/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1164", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1164/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1164/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1164/events", "html_url": "https://github.com/fabric/fabric/issues/1164", "id": 38495308, "node_id": "MDU6SXNzdWUzODQ5NTMwOA==", "number": 1164, "title": "Fabric output stream write race condition", "user": {"login": "compwright", "id": 138688, "node_id": "MDQ6VXNlcjEzODY4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/138688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compwright", "html_url": "https://github.com/compwright", "followers_url": "https://api.github.com/users/compwright/followers", "following_url": "https://api.github.com/users/compwright/following{/other_user}", "gists_url": "https://api.github.com/users/compwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/compwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compwright/subscriptions", "organizations_url": "https://api.github.com/users/compwright/orgs", "repos_url": "https://api.github.com/users/compwright/repos", "events_url": "https://api.github.com/users/compwright/events{/privacy}", "received_events_url": "https://api.github.com/users/compwright/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-23T05:24:12Z", "updated_at": "2015-12-07T06:58:46Z", "closed_at": "2015-12-07T06:58:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using fabric to run a build script on an Ubuntu Linux 14.04 VM, I'm consistently encountering this error:\n\n```\nTraceback (most recent call last):\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/main.py\", line 743, in main\n    *args, **kwargs\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/tasks.py\", line 368, in execute\n    multiprocessing\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/tasks.py\", line 264, in _execute\n    return task.run(*args, **kwargs)\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/tasks.py\", line 171, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/Users/jhill/Development/neone/scripts/fabfile.py\", line 65, in install_homebase\n    run('./install-homebase.sh%s' % (' production' if production == 'True' else ''))\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/network.py\", line 578, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/operations.py\", line 1042, in run\n    shell_escape=shell_escape)\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/operations.py\", line 911, in _run_command\n    stderr=stderr, timeout=timeout)\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/operations.py\", line 795, in _execute\n    worker.raise_if_needed()\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/thread_handling.py\", line 12, in wrapper\n    callable(*args, **kwargs)\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/io.py\", line 31, in output_loop\n    OutputLooper(*args, **kwargs).loop()\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/io.py\", line 132, in loop\n    self._flush(end_of_line + \"\\n\")\n  File \"/Users/jhill/.virtualenvs/neone/lib/python2.7/site-packages/fabric/io.py\", line 52, in _flush\n    self.stream.write(text)\nIOError: [Errno 35] Resource temporarily unavailable\n```\n\nThere is no error in the build script that is triggering this, in fact, the error doesn't always happen at exactly the same spot in the build script's progress.\n\nAltering the build script to suppress apt-get update/upgrade output (using -q) allowed the build script to progress farther, which implies that perhaps the bug could be triggered after a certain amount of output is written, or after a certain amount of time has elapsed.\n\nI am running Python 2.7.8, Fabric 1.9, and Fabtools 0.19.0 on OS X Mavericks.\n\nScouring the internet turned up the following issues related to stream blocking modes and race conditions that seem to possibly be related:\n- https://mail.python.org/pipermail/chicago/2008-October/004798.html\n- https://github.com/cobrateam/splinter/issues/257\n- https://code.google.com/p/selenium/issues/detail?id=7141\n- http://trac.edgewall.org/ticket/2066\n\nThere's also this gist which is showing a very similar error: https://gist.github.com/mrvisser/6157404\n\nPlease advise, I'm hitting a dead end here. I'm not good enough with Python to muck around with the innards of fabric, but am happy to apply any specific patches that anyone might suggest to see if they alleviate the problem.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1155", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1155/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1155/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1155/events", "html_url": "https://github.com/fabric/fabric/issues/1155", "id": 37170703, "node_id": "MDU6SXNzdWUzNzE3MDcwMw==", "number": 1155, "title": "upload_template fails with use_sudo=True", "user": {"login": "nagyv", "id": 126671, "node_id": "MDQ6VXNlcjEyNjY3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/126671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagyv", "html_url": "https://github.com/nagyv", "followers_url": "https://api.github.com/users/nagyv/followers", "following_url": "https://api.github.com/users/nagyv/following{/other_user}", "gists_url": "https://api.github.com/users/nagyv/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagyv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagyv/subscriptions", "organizations_url": "https://api.github.com/users/nagyv/orgs", "repos_url": "https://api.github.com/users/nagyv/repos", "events_url": "https://api.github.com/users/nagyv/events{/privacy}", "received_events_url": "https://api.github.com/users/nagyv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-04T14:11:41Z", "updated_at": "2015-12-07T06:57:59Z", "closed_at": "2015-12-07T06:57:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running the following command fails with fabric 1.9.0:\n\n```\nupload_template(os.path.join(TEMPLATE_DIR, 'supervisord.conf'), 'vidzor.conf', context={\n        'env': env.name\n        }, use_sudo=True)\n```\n\nRunning it without use_sudo=True works though.\n\nHere is the output\n\n```\nfab staging restart\n[37.139.14.134] Executing task 'restart'\n[37.139.14.134] put: <file obj> -> vidzor.conf\n\nFatal error: sudo() received nonzero return code 1 while executing!\n\nRequested: mv \"91512c0a337f208d6feed8d42a8201e5fe2390d1\" \"vidzor.conf\"\nExecuted: sudo -S -p 'sudo password:'  /bin/bash -l -c \"mv \\\"91512c0a337f208d6feed8d42a8201e5fe2390d1\\\" \\\"vidzor.conf\\\"\"\n\n================================================================================== Standard output ==================================================================================\n\n.....\n.....\nmv: cannot stat `91512c0a337f208d6feed8d42a8201e5fe2390d1': No such file or directory\n\n=====================================================================================================================================================================================\n\nAborting.\n```\n\n(I've removed some identifiable code. That's replaced with ....)\n\nps: why I'm creating a full path, instead of using the template_dir argument? template_dir was ignored by fabric. But that's a different issue.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1147", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1147/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1147/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1147/events", "html_url": "https://github.com/fabric/fabric/pull/1147", "id": 36375748, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc1MjYyNjA=", "number": 1147, "title": "Fix `isdir` checking inside of SFTP class", "user": {"login": "ikalnytskyi", "id": 166626, "node_id": "MDQ6VXNlcjE2NjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/166626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikalnytskyi", "html_url": "https://github.com/ikalnytskyi", "followers_url": "https://api.github.com/users/ikalnytskyi/followers", "following_url": "https://api.github.com/users/ikalnytskyi/following{/other_user}", "gists_url": "https://api.github.com/users/ikalnytskyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikalnytskyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikalnytskyi/subscriptions", "organizations_url": "https://api.github.com/users/ikalnytskyi/orgs", "repos_url": "https://api.github.com/users/ikalnytskyi/repos", "events_url": "https://api.github.com/users/ikalnytskyi/events{/privacy}", "received_events_url": "https://api.github.com/users/ikalnytskyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 0, "created_at": "2014-06-24T11:38:00Z", "updated_at": "2014-08-07T00:04:01Z", "closed_at": "2014-08-07T00:04:01Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1147", "html_url": "https://github.com/fabric/fabric/pull/1147", "diff_url": "https://github.com/fabric/fabric/pull/1147.diff", "patch_url": "https://github.com/fabric/fabric/pull/1147.patch", "merged_at": null}, "body": "We have to use `stat` instead of `lstat` inside `isdir` method, since the first one returns `True` even for symlinks to folders.\n\nThe fix is very important when we need to download some folder that contains a symlink to another one.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1147/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1146", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1146/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1146/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1146/events", "html_url": "https://github.com/fabric/fabric/pull/1146", "id": 36021448, "node_id": "MDExOlB1bGxSZXF1ZXN0MTczMTUzNzI=", "number": 1146, "title": "Fixed a bug where when mirror_local_mode lcd was not obeyed. Added tests...", "user": {"login": "atleta", "id": 6267837, "node_id": "MDQ6VXNlcjYyNjc4Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6267837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atleta", "html_url": "https://github.com/atleta", "followers_url": "https://api.github.com/users/atleta/followers", "following_url": "https://api.github.com/users/atleta/following{/other_user}", "gists_url": "https://api.github.com/users/atleta/gists{/gist_id}", "starred_url": "https://api.github.com/users/atleta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atleta/subscriptions", "organizations_url": "https://api.github.com/users/atleta/orgs", "repos_url": "https://api.github.com/users/atleta/repos", "events_url": "https://api.github.com/users/atleta/events{/privacy}", "received_events_url": "https://api.github.com/users/atleta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 4, "created_at": "2014-06-18T19:54:32Z", "updated_at": "2014-08-06T23:48:24Z", "closed_at": "2014-08-06T23:48:24Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1146", "html_url": "https://github.com/fabric/fabric/pull/1146", "diff_url": "https://github.com/fabric/fabric/pull/1146.diff", "patch_url": "https://github.com/fabric/fabric/pull/1146.patch", "merged_at": null}, "body": "Fixed the bug (one liner) and created tests that do break without applying the fix and do pass with the fix. Testing all the four scenarios (with and without jinja, with and without mirroring local mode).\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1146/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1135", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1135/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1135/events", "html_url": "https://github.com/fabric/fabric/issues/1135", "id": 33994579, "node_id": "MDU6SXNzdWUzMzk5NDU3OQ==", "number": 1135, "title": "Setting Shell_Env before running prefix", "user": {"login": "wbashir", "id": 825838, "node_id": "MDQ6VXNlcjgyNTgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/825838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wbashir", "html_url": "https://github.com/wbashir", "followers_url": "https://api.github.com/users/wbashir/followers", "following_url": "https://api.github.com/users/wbashir/following{/other_user}", "gists_url": "https://api.github.com/users/wbashir/gists{/gist_id}", "starred_url": "https://api.github.com/users/wbashir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wbashir/subscriptions", "organizations_url": "https://api.github.com/users/wbashir/orgs", "repos_url": "https://api.github.com/users/wbashir/repos", "events_url": "https://api.github.com/users/wbashir/events{/privacy}", "received_events_url": "https://api.github.com/users/wbashir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-05-21T15:37:11Z", "updated_at": "2015-01-05T21:06:45Z", "closed_at": "2015-01-05T21:06:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to run and set my shell_env before the execution of the prefix. It looks like my shell env is never set in the example below:\n\n``` python\n\nwith shell_env(ENV1=\"TEST\"):\n    with prefix(\". myapp\"):\n          run(\"echo $ENV2\")\n```\n\nI expected my shell_env to be set but my prefix runs first. I know this because the prefix commands uses the environment variables and will prompt for them if not set?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1134", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1134/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1134/events", "html_url": "https://github.com/fabric/fabric/pull/1134", "id": 33881981, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYxMDMxODg=", "number": 1134, "title": "Skip bad hosts when the tasks are executed in parallel", "user": {"login": "i-maravic", "id": 1205496, "node_id": "MDQ6VXNlcjEyMDU0OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1205496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/i-maravic", "html_url": "https://github.com/i-maravic", "followers_url": "https://api.github.com/users/i-maravic/followers", "following_url": "https://api.github.com/users/i-maravic/following{/other_user}", "gists_url": "https://api.github.com/users/i-maravic/gists{/gist_id}", "starred_url": "https://api.github.com/users/i-maravic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/i-maravic/subscriptions", "organizations_url": "https://api.github.com/users/i-maravic/orgs", "repos_url": "https://api.github.com/users/i-maravic/repos", "events_url": "https://api.github.com/users/i-maravic/events{/privacy}", "received_events_url": "https://api.github.com/users/i-maravic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 3, "created_at": "2014-05-20T12:11:39Z", "updated_at": "2017-11-13T14:48:16Z", "closed_at": "2014-08-06T22:25:31Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1134", "html_url": "https://github.com/fabric/fabric/pull/1134", "diff_url": "https://github.com/fabric/fabric/pull/1134.diff", "patch_url": "https://github.com/fabric/fabric/pull/1134.patch", "merged_at": "2014-08-06T22:25:31Z"}, "body": "Targets issue #1123\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1134/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1131", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1131/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1131/events", "html_url": "https://github.com/fabric/fabric/issues/1131", "id": 33607521, "node_id": "MDU6SXNzdWUzMzYwNzUyMQ==", "number": 1131, "title": "put(\u2026, use_sudo=True) uses temp filename in destination", "user": {"login": "dserodio", "id": 233589, "node_id": "MDQ6VXNlcjIzMzU4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/233589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dserodio", "html_url": "https://github.com/dserodio", "followers_url": "https://api.github.com/users/dserodio/followers", "following_url": "https://api.github.com/users/dserodio/following{/other_user}", "gists_url": "https://api.github.com/users/dserodio/gists{/gist_id}", "starred_url": "https://api.github.com/users/dserodio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dserodio/subscriptions", "organizations_url": "https://api.github.com/users/dserodio/orgs", "repos_url": "https://api.github.com/users/dserodio/repos", "events_url": "https://api.github.com/users/dserodio/events{/privacy}", "received_events_url": "https://api.github.com/users/dserodio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-05-15T17:36:36Z", "updated_at": "2014-08-05T23:41:47Z", "closed_at": "2014-08-05T23:41:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nput('somefile', '/remotedir/', use_sudo=True)\n```\n\nCreates a file with a temp filename (eg. `1136f449dde5b8dbd99846bda006147d0e7d32fe`) in `/remotedir`. It should create `/remotedir/somefile` instead.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1130", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1130/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1130/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1130/events", "html_url": "https://github.com/fabric/fabric/issues/1130", "id": 33365152, "node_id": "MDU6SXNzdWUzMzM2NTE1Mg==", "number": 1130, "title": "env.passwords doesn't work", "user": {"login": "henryon", "id": 5689141, "node_id": "MDQ6VXNlcjU2ODkxNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/5689141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henryon", "html_url": "https://github.com/henryon", "followers_url": "https://api.github.com/users/henryon/followers", "following_url": "https://api.github.com/users/henryon/following{/other_user}", "gists_url": "https://api.github.com/users/henryon/gists{/gist_id}", "starred_url": "https://api.github.com/users/henryon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henryon/subscriptions", "organizations_url": "https://api.github.com/users/henryon/orgs", "repos_url": "https://api.github.com/users/henryon/repos", "events_url": "https://api.github.com/users/henryon/events{/privacy}", "received_events_url": "https://api.github.com/users/henryon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 5, "created_at": "2014-05-13T02:54:42Z", "updated_at": "2015-09-29T17:29:11Z", "closed_at": "2014-08-06T21:46:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently, I use fab to deploy some middleware or run some command on remote server. but even if I specified the  env.password(s)\u3002  when I run the fab, still prompt me to provide the password.\n\nany ideas or suggestion?\n\nThe code  like below \n\n``` python\nimport sys,os,time\nfrom fabric.api import *\nfrom fabric.api import local,output\noutput['output']=True\nimport fabric\nimport logging\n\nlogging.basicConfig(level=logging.DEBUG)\ndef host(str=''):\n    if str == '-':\n        list = _to_list(sys.stdin)\n    else:\n        list =  str.split('\\n')\n    env.hosts = _to_hosts(list)\n    print env.hosts\n    #print \"Here OOOOOOO\"\n    env.passwords = _to_passwords(list)\n    #netifs = _to_netifs(list)\n    print env.passwords\n\n\n\ndef _to_list(handle):\n    list = []\n    while True:\n        line = handle.readline().strip()\n        print line\n        if line:\n            list.append(line)\n        else:\n            return list\n\ndef _to_hosts(list):\n    hosts = []\n    for line in list:\n        kvp = line.split('|')\n        hosts.append(kvp[1])\n    return hosts\n\ndef _to_passwords(list):\n    passwords = {}\n    for line in list:\n        kvp = line.split('|')\n        passwords[kvp[1]] = kvp[2]\n    return passwords\n# '''\n#def  new_user(username,admin='no',comment=\"No comment provided\"):\n#   log_action(\"New User (%s): %s\" % (username,comment))\n#   pass\ndef exists(path):\n    with settings(warn_only=True):\n        return  run('test -e %s ' % path)\n\ndef hello(name=\"world!\"):\n    print(\"Hello %s! \" % name)\n        run(\"uname -r\",pty=False,combine_stderr=True)\n```\n\nwhen I run the fab as below the prompt information as below.\n\n```\nroot@MyUbuntu:~/test# grep 160.171 server.db |fab host:-  hello\neth0|10.250.160.171|ABC|test\n\n['10.250.160.171']\n{'10.250.160.171': 'ABC'}\n[10.250.160.171] Executing task 'hello'\nHello world!! \n[10.250.160.171] run: uname -r\nDEBUG:paramiko.transport:starting thread (client mode): 0x436768d0L\nINFO:paramiko.transport:Connected (version 2.0, client OpenSSH_5.3)\nDEBUG:paramiko.transport:kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False\nDEBUG:paramiko.transport:Ciphers agreed: local=aes128-ctr, remote=aes128-ctr\nDEBUG:paramiko.transport:using kex diffie-hellman-group1-sha1; server key type ssh-rsa; cipher: local aes128-ctr, remote aes128-ctr; mac: local hmac-sha1, remote hmac-sha1; compression: local none, remote none\nDEBUG:paramiko.transport:Switch to new keys ...\nDEBUG:paramiko.transport:Trying discovered key 865642cf225227d9781b12554e2ce4d9 in /root/.ssh/id_rsa\nDEBUG:paramiko.transport:userauth is OK\nI\n[10.250.160.171] Login password for 'root': DEBUG:paramiko.transport:EOF in transport thread\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1116", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1116/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1116/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1116/events", "html_url": "https://github.com/fabric/fabric/pull/1116", "id": 31588531, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3OTE3MDM=", "number": 1116, "title": "Fix to respect 'template_dir' for non Jinja2 templates (#852)", "user": {"login": "xarg", "id": 94721, "node_id": "MDQ6VXNlcjk0NzIx", "avatar_url": "https://avatars.githubusercontent.com/u/94721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xarg", "html_url": "https://github.com/xarg", "followers_url": "https://api.github.com/users/xarg/followers", "following_url": "https://api.github.com/users/xarg/following{/other_user}", "gists_url": "https://api.github.com/users/xarg/gists{/gist_id}", "starred_url": "https://api.github.com/users/xarg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xarg/subscriptions", "organizations_url": "https://api.github.com/users/xarg/orgs", "repos_url": "https://api.github.com/users/xarg/repos", "events_url": "https://api.github.com/users/xarg/events{/privacy}", "received_events_url": "https://api.github.com/users/xarg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 0, "created_at": "2014-04-15T20:33:55Z", "updated_at": "2014-08-06T20:23:26Z", "closed_at": "2014-08-06T20:23:26Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1116", "html_url": "https://github.com/fabric/fabric/pull/1116", "diff_url": "https://github.com/fabric/fabric/pull/1116.diff", "patch_url": "https://github.com/fabric/fabric/pull/1116.patch", "merged_at": null}, "body": "Fixes: #858 and #852\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1116/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1102", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1102/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1102/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1102/events", "html_url": "https://github.com/fabric/fabric/issues/1102", "id": 29719766, "node_id": "MDU6SXNzdWUyOTcxOTc2Ng==", "number": 1102, "title": "prompt_for_password makes fabric stall", "user": {"login": "jonaslejon", "id": 190150, "node_id": "MDQ6VXNlcjE5MDE1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/190150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaslejon", "html_url": "https://github.com/jonaslejon", "followers_url": "https://api.github.com/users/jonaslejon/followers", "following_url": "https://api.github.com/users/jonaslejon/following{/other_user}", "gists_url": "https://api.github.com/users/jonaslejon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaslejon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaslejon/subscriptions", "organizations_url": "https://api.github.com/users/jonaslejon/orgs", "repos_url": "https://api.github.com/users/jonaslejon/repos", "events_url": "https://api.github.com/users/jonaslejon/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaslejon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-19T10:12:04Z", "updated_at": "2015-01-05T21:11:52Z", "closed_at": "2015-01-05T21:11:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "When prompt_for_password() is called for some kinda reason and no console is available everything will stall.\n\nIs it somehow possible to set a timeout at 120 sec or detect when no console is available?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1096", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1096/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1096/events", "html_url": "https://github.com/fabric/fabric/pull/1096", "id": 29273587, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM0NzY0OTk=", "number": 1096, "title": "fix UnicodeEncodeError when fabric.api.abort/warn/puts", "user": {"login": "toruuetani", "id": 1624129, "node_id": "MDQ6VXNlcjE2MjQxMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1624129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toruuetani", "html_url": "https://github.com/toruuetani", "followers_url": "https://api.github.com/users/toruuetani/followers", "following_url": "https://api.github.com/users/toruuetani/following{/other_user}", "gists_url": "https://api.github.com/users/toruuetani/gists{/gist_id}", "starred_url": "https://api.github.com/users/toruuetani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toruuetani/subscriptions", "organizations_url": "https://api.github.com/users/toruuetani/orgs", "repos_url": "https://api.github.com/users/toruuetani/repos", "events_url": "https://api.github.com/users/toruuetani/events{/privacy}", "received_events_url": "https://api.github.com/users/toruuetani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 0, "created_at": "2014-03-12T15:37:42Z", "updated_at": "2014-08-06T20:23:25Z", "closed_at": "2014-08-06T20:23:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1096", "html_url": "https://github.com/fabric/fabric/pull/1096", "diff_url": "https://github.com/fabric/fabric/pull/1096.diff", "patch_url": "https://github.com/fabric/fabric/pull/1096.patch", "merged_at": null}, "body": "When using fabric.api.abort/warn/puts with unicode, fabric raises UnicodeEncodeError.\nBecause sys.stderr.encoding/sys.stdout.encoding are \"cp932\" in japanese windows not \"ascii\", writing unicode to sys.stderr.encoding/sys.stdout.encoding raises UnicodeEncodeError.\nThis commits fix these problems.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1096/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1070", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1070/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1070/events", "html_url": "https://github.com/fabric/fabric/issues/1070", "id": 27458898, "node_id": "MDU6SXNzdWUyNzQ1ODg5OA==", "number": 1070, "title": "'paramiko.SSHException: SSH session not active' when connecting to the gateway host", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-02-12T18:59:27Z", "updated_at": "2014-09-29T17:27:00Z", "closed_at": "2014-09-03T18:42:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've a machine named _fridge_.  If I use it as a gateway at the same time I'm connecting to it, Fabric 1.8.0 fails (after a strange 9 second wait):\n\n```\n$ tfab -g fridge -H fridge id\n[fridge] Executing task 'id'\n[fridge] run: id\nTraceback (most recent call last):\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/main.py\", line 743, in main\n    *args, **kwargs\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/tasks.py\", line 368, in execute\n    multiprocessing\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/tasks.py\", line 264, in _execute\n    return task.run(*args, **kwargs)\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/tasks.py\", line 171, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/home/mg/src/pov-admin/fabfile.py\", line 152, in id\n    run(\"id\")\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/network.py\", line 578, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/operations.py\", line 1042, in run\n    shell_escape=shell_escape)\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/operations.py\", line 909, in _run_command\n    channel=default_channel(), command=wrapped_command, pty=pty,\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/state.py\", line 393, in default_channel\n    chan = _open_session()\n  File \"/home/mg/.venv/local/lib/python2.7/site-packages/fabric/state.py\", line 380, in _open_session\n    return connections[env.host_string].get_transport().open_session()\n  File \"/home/mg/src/paramiko/paramiko/transport.py\", line 662, in open_session\n    return self.open_channel('session')\n  File \"/home/mg/src/paramiko/paramiko/transport.py\", line 731, in open_channel\n    raise SSHException('SSH session not active')\nparamiko.SSHException: SSH session not active\nDisconnecting from fridge.example.com... done.\n```\n\nWhy would I do such a strange thing?  Well, there's another machine called _muskatas_, that sits in a LAN and is only reachable if I tunnel through _fridge_.  Normally I'd use ProxyCommand, but due to #1020 I tried to use env.gateway as an alternative.  Unfortunately the gateway is a global option that applies to all the hosts. Since I want to be able to run tasks on both _fridge_ and _muskatas_ (and on 8 other servers in other locations) with a single command, I end up with this situation.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1065", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1065/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1065/events", "html_url": "https://github.com/fabric/fabric/pull/1065", "id": 27262415, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIzNjk1NDg=", "number": 1065, "title": "tiny change, fix incorrect reference to SSH config variable \"ClientAlive...", "user": {"login": "hjwp", "id": 769730, "node_id": "MDQ6VXNlcjc2OTczMA==", "avatar_url": "https://avatars.githubusercontent.com/u/769730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjwp", "html_url": "https://github.com/hjwp", "followers_url": "https://api.github.com/users/hjwp/followers", "following_url": "https://api.github.com/users/hjwp/following{/other_user}", "gists_url": "https://api.github.com/users/hjwp/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjwp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjwp/subscriptions", "organizations_url": "https://api.github.com/users/hjwp/orgs", "repos_url": "https://api.github.com/users/hjwp/repos", "events_url": "https://api.github.com/users/hjwp/events{/privacy}", "received_events_url": "https://api.github.com/users/hjwp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140150, "node_id": "MDU6TGFiZWwxNDAxNTA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}, {"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 414531975, "node_id": "MDU6TGFiZWw0MTQ1MzE5NzU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/33", "html_url": "https://github.com/fabric/fabric/milestone/33", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/33/labels", "id": 1956596, "node_id": "MDk6TWlsZXN0b25lMTk1NjU5Ng==", "number": 33, "title": "1.12.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-08-22T22:54:01Z", "updated_at": "2017-04-24T23:09:35Z", "due_on": null, "closed_at": "2017-04-24T23:09:35Z"}, "comments": 2, "created_at": "2014-02-10T12:46:20Z", "updated_at": "2017-04-24T21:29:10Z", "closed_at": "2017-04-24T21:29:10Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1065", "html_url": "https://github.com/fabric/fabric/pull/1065", "diff_url": "https://github.com/fabric/fabric/pull/1065.diff", "patch_url": "https://github.com/fabric/fabric/pull/1065.patch", "merged_at": null}, "body": "...Interval\"\n\nConfusingly, the SSH client's keepalive parameter is \"ServerAliveInterval\" (ie, how often to check the server is alive), whereas \"ClientAliveInterval\" is something you would set server-side.\n\nhttps://unix.stackexchange.com/questions/3026/what-do-the-options-serveraliveinterval-and-clientaliveinterval-in-sshd-conf\n\nhttp://unixhelp.ed.ac.uk/CGI/man-cgi?ssh_config+5\n\nhttp://unixhelp.ed.ac.uk/CGI/man-cgi?sshd_config+5\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1065/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1059", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1059/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1059/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1059/events", "html_url": "https://github.com/fabric/fabric/pull/1059", "id": 26271348, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE4NjIwMTc=", "number": 1059, "title": "support link-local IPv6 host addresses", "user": {"login": "obormot", "id": 1717834, "node_id": "MDQ6VXNlcjE3MTc4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1717834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obormot", "html_url": "https://github.com/obormot", "followers_url": "https://api.github.com/users/obormot/followers", "following_url": "https://api.github.com/users/obormot/following{/other_user}", "gists_url": "https://api.github.com/users/obormot/gists{/gist_id}", "starred_url": "https://api.github.com/users/obormot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obormot/subscriptions", "organizations_url": "https://api.github.com/users/obormot/orgs", "repos_url": "https://api.github.com/users/obormot/repos", "events_url": "https://api.github.com/users/obormot/events{/privacy}", "received_events_url": "https://api.github.com/users/obormot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 1, "created_at": "2014-01-24T21:11:13Z", "updated_at": "2014-08-06T20:23:25Z", "closed_at": "2014-08-06T20:23:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1059", "html_url": "https://github.com/fabric/fabric/pull/1059", "diff_url": "https://github.com/fabric/fabric/pull/1059.diff", "patch_url": "https://github.com/fabric/fabric/pull/1059.patch", "merged_at": null}, "body": "SSHing to a link-local IPv6 address requires the following syntax:\n\n```\nssh fe80::74f8:52ff:fe00:4%eth1\n```\n\nThis change adds \"%interface\" as part of IPv6 host regex in fabric.\n\n```\n[fe80::74f8:52ff:fe00:4%eth1] Executing task 'foo'\n[fe80::74f8:52ff:fe00:4%eth1] put: test1.txt -> /tmp/test1.txt\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1059/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1033", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1033/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1033/events", "html_url": "https://github.com/fabric/fabric/issues/1033", "id": 23713782, "node_id": "MDU6SXNzdWUyMzcxMzc4Mg==", "number": 1033, "title": "fabric.contrib.django does not use virtualenv django version", "user": {"login": "anentropic", "id": 147840, "node_id": "MDQ6VXNlcjE0Nzg0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/147840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anentropic", "html_url": "https://github.com/anentropic", "followers_url": "https://api.github.com/users/anentropic/followers", "following_url": "https://api.github.com/users/anentropic/following{/other_user}", "gists_url": "https://api.github.com/users/anentropic/gists{/gist_id}", "starred_url": "https://api.github.com/users/anentropic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anentropic/subscriptions", "organizations_url": "https://api.github.com/users/anentropic/orgs", "repos_url": "https://api.github.com/users/anentropic/repos", "events_url": "https://api.github.com/users/anentropic/events{/privacy}", "received_events_url": "https://api.github.com/users/anentropic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-12-04T13:02:39Z", "updated_at": "2015-12-31T01:34:04Z", "closed_at": "2015-12-31T01:34:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have activated my virtualenv and installed fabric via pip:\n\n```\n(myvenv)$ which fab\n~/virtualenvs/myvenv/bin/fab\n```\n\nOn my web host (WebFaction) there is a systemwide Django (1.3.3) and I have a newer version installed into the virtualenv for my project:\n\n```\n(myvenv)$ ipython\nIn [1]: import django\n\nIn [2]: django.get_version()\nOut[2]: '1.4.10'\n```\n\nIn my fabfile I added:\n\n```\nfrom fabric.contrib import django\n\ndjango.settings_module('myapp.settings')\nimport django\nprint(django.get_version())\nfrom django.conf import settings\n```\n\nI see the following:\n\n```\n(myvenv)$ fab\n1.3.3\nTraceback (most recent call last):\n...\nValueError: Unable to configure filter 'require_debug_false': Cannot resolve 'django.utils.log.RequireDebugFalse': No module named RequireDebugFalse\n```\n\nSo I'm getting an error due to fabric not using the virtualenv version of django\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1026", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1026/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1026/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1026/events", "html_url": "https://github.com/fabric/fabric/pull/1026", "id": 23454797, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzNzUxMDY=", "number": 1026, "title": "Modify unused opts to args", "user": {"login": "dongweiming", "id": 841395, "node_id": "MDQ6VXNlcjg0MTM5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/841395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dongweiming", "html_url": "https://github.com/dongweiming", "followers_url": "https://api.github.com/users/dongweiming/followers", "following_url": "https://api.github.com/users/dongweiming/following{/other_user}", "gists_url": "https://api.github.com/users/dongweiming/gists{/gist_id}", "starred_url": "https://api.github.com/users/dongweiming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dongweiming/subscriptions", "organizations_url": "https://api.github.com/users/dongweiming/orgs", "repos_url": "https://api.github.com/users/dongweiming/repos", "events_url": "https://api.github.com/users/dongweiming/events{/privacy}", "received_events_url": "https://api.github.com/users/dongweiming/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 1, "created_at": "2013-11-28T15:13:40Z", "updated_at": "2014-08-06T20:23:25Z", "closed_at": "2014-08-06T20:23:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1026", "html_url": "https://github.com/fabric/fabric/pull/1026", "diff_url": "https://github.com/fabric/fabric/pull/1026.diff", "patch_url": "https://github.com/fabric/fabric/pull/1026.patch", "merged_at": null}, "body": "Unused `opts`, i think You mean `args`\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1026/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1000", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1000/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1000/events", "html_url": "https://github.com/fabric/fabric/pull/1000", "id": 20860464, "node_id": "MDExOlB1bGxSZXF1ZXN0OTAxOTY5MQ==", "number": 1000, "title": "Do not add a space if prompt text is empty", "user": {"login": "rybakit", "id": 533861, "node_id": "MDQ6VXNlcjUzMzg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/533861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rybakit", "html_url": "https://github.com/rybakit", "followers_url": "https://api.github.com/users/rybakit/followers", "following_url": "https://api.github.com/users/rybakit/following{/other_user}", "gists_url": "https://api.github.com/users/rybakit/gists{/gist_id}", "starred_url": "https://api.github.com/users/rybakit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rybakit/subscriptions", "organizations_url": "https://api.github.com/users/rybakit/orgs", "repos_url": "https://api.github.com/users/rybakit/repos", "events_url": "https://api.github.com/users/rybakit/events{/privacy}", "received_events_url": "https://api.github.com/users/rybakit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-10-11T10:11:57Z", "updated_at": "2017-06-30T20:42:53Z", "closed_at": "2017-06-30T20:42:53Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/1000", "html_url": "https://github.com/fabric/fabric/pull/1000", "diff_url": "https://github.com/fabric/fabric/pull/1000.diff", "patch_url": "https://github.com/fabric/fabric/pull/1000.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1000/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/995", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/995/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/995/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/995/events", "html_url": "https://github.com/fabric/fabric/issues/995", "id": 20346339, "node_id": "MDU6SXNzdWUyMDM0NjMzOQ==", "number": 995, "title": "Combination of cd/prefix/put doesn't work.", "user": {"login": "davidhalter", "id": 748594, "node_id": "MDQ6VXNlcjc0ODU5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/748594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhalter", "html_url": "https://github.com/davidhalter", "followers_url": "https://api.github.com/users/davidhalter/followers", "following_url": "https://api.github.com/users/davidhalter/following{/other_user}", "gists_url": "https://api.github.com/users/davidhalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhalter/subscriptions", "organizations_url": "https://api.github.com/users/davidhalter/orgs", "repos_url": "https://api.github.com/users/davidhalter/repos", "events_url": "https://api.github.com/users/davidhalter/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 485996, "node_id": "MDU6TGFiZWw0ODU5OTY=", "url": "https://api.github.com/repos/fabric/fabric/labels/sudo()", "name": "sudo()", "color": "DDDDDD", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-10-01T17:13:25Z", "updated_at": "2015-05-04T20:40:48Z", "closed_at": "2015-05-04T20:40:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using something like this:\n\n```\nfrom fabric.api import *\nfrom StringIO import StringIO\n\ndef test():\n    with cd('/home/user/test'):\n        with prefix('source venv/bin/activate/'):\n            put(StringIO('Foobar'), 'foobar.txt')\n```\n\nI get this error:\n\n```\nRequested: mv \"c8a6a7c2a9b07ae9d9495cbd9ad9b5373bb98469\" \"/home/user/test/foobar.txt\"\nExecuted: sudo -S -p 'sudo password:'  /bin/bash -l -c \"source venv/bin/activate && mv \\\"c8a6a7c2a9b07ae9d9495cbd9ad9b5373bb98469\\\" \\\"/home/user/test/foobar.txt\\\"\"\n\n/bin/bash: venv/bin/activate: No such file or directory\n```\n\nThat's not correct - the whole `venv` stuff does exist, but fabric doesn't respect it (look at the generated command above). There's no cd in the command.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/994", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/994/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/994/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/994/events", "html_url": "https://github.com/fabric/fabric/pull/994", "id": 20267800, "node_id": "MDExOlB1bGxSZXF1ZXN0OTA0NjIwOA==", "number": 994, "title": "append() reappends existing lines when I use shell_env()", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60492526, "node_id": "MDU6TGFiZWw2MDQ5MjUyNg==", "url": "https://api.github.com/repos/fabric/fabric/labels/Ready%20to%20merge/rebase", "name": "Ready to merge/rebase", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-09-30T14:56:33Z", "updated_at": "2018-05-10T06:53:25Z", "closed_at": "2018-05-10T06:53:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/994", "html_url": "https://github.com/fabric/fabric/pull/994", "diff_url": "https://github.com/fabric/fabric/pull/994.diff", "patch_url": "https://github.com/fabric/fabric/pull/994.patch", "merged_at": null}, "body": "I had a fabfile like this:\n\n```\n@task\ndef foo():\n    with settings(shell_env(LC_ALL='C.UTF-8')):\n        # other stuff\n        append('/root/.ssh/known_hosts', ssh_host_key, use_sudo=True)\n```\n\nand noticed that it would append the SSH host key every single time.\n\nSome debugging with pdb lead me to discover that `contains()` ends up running `sudo(egrep_cmd, shell=False)`, which fails with `sudo: export: command not found`.  That error is quietly suppressed, and append assumes the line needs to be added.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/994/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/957", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/957/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/957/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/957/events", "html_url": "https://github.com/fabric/fabric/issues/957", "id": 18066146, "node_id": "MDU6SXNzdWUxODA2NjE0Ng==", "number": 957, "title": "Gateway fails when target prompts for password", "user": {"login": "dgonza", "id": 2644066, "node_id": "MDQ6VXNlcjI2NDQwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2644066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgonza", "html_url": "https://github.com/dgonza", "followers_url": "https://api.github.com/users/dgonza/followers", "following_url": "https://api.github.com/users/dgonza/following{/other_user}", "gists_url": "https://api.github.com/users/dgonza/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgonza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgonza/subscriptions", "organizations_url": "https://api.github.com/users/dgonza/orgs", "repos_url": "https://api.github.com/users/dgonza/repos", "events_url": "https://api.github.com/users/dgonza/events{/privacy}", "received_events_url": "https://api.github.com/users/dgonza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2013-08-14T17:45:48Z", "updated_at": "2013-12-18T18:21:47Z", "closed_at": "2013-12-18T18:21:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying this command\n `$ fab -H usr-a@target-host -g usr-b@intermediate-host -- whoami`\nwill fail if the key for the local user is not present in the target host.\nIt will prompt for the password but it won't respond after it is entered. \nIf the local key is present in the target host it will log in normally.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/957/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/954", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/954/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/954/events", "html_url": "https://github.com/fabric/fabric/issues/954", "id": 17947393, "node_id": "MDU6SXNzdWUxNzk0NzM5Mw==", "number": 954, "title": "Spaces incorrectly escaped by lcd on Windows", "user": {"login": "johnharris85", "id": 746221, "node_id": "MDQ6VXNlcjc0NjIyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/746221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnharris85", "html_url": "https://github.com/johnharris85", "followers_url": "https://api.github.com/users/johnharris85/followers", "following_url": "https://api.github.com/users/johnharris85/following{/other_user}", "gists_url": "https://api.github.com/users/johnharris85/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnharris85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnharris85/subscriptions", "organizations_url": "https://api.github.com/users/johnharris85/orgs", "repos_url": "https://api.github.com/users/johnharris85/repos", "events_url": "https://api.github.com/users/johnharris85/events{/privacy}", "received_events_url": "https://api.github.com/users/johnharris85/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-12T15:36:31Z", "updated_at": "2015-12-07T01:16:49Z", "closed_at": "2015-12-07T01:16:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using lcd to switch into a directory on Windows, spaces would be escaped with a '\\'. \n\nE.g. \"C:\\Some Folder\" --> \"C:\\Some\\ Folder\".\n\nThis appears to be unnecessary and causes an exception (unknown file path). The relevant code is in fabric.context_managers.py (line 331).\n\n``` python\ndef _change_cwd(which, path):\n    # this breaks\n    path = path.replace(' ', '\\ ')\n    ....\n```\n\nI changed mine to:\n\n``` python\ndef _change_cwd(which, path):\n    # escape the space only if using lcd on a non-Windows platform\n    if which == 'lcwd' and not win32:\n        path = path.replace(' ', '\\ ')\n        ....\n```\n\nThen it appears to work fine. Not sure if this is going to break lcd in other ways, will try and check later tonight (do spaces need to be escaped like this at all?). This certainly solved my immediate issue though.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/951", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/951/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/951/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/951/events", "html_url": "https://github.com/fabric/fabric/pull/951", "id": 17781304, "node_id": "MDExOlB1bGxSZXF1ZXN0NzQ2Mzk5Mw==", "number": 951, "title": "Fix for #949, Add && between SETs for Windows local env", "user": {"login": "mattPeloquin", "id": 1555241, "node_id": "MDQ6VXNlcjE1NTUyNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1555241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattPeloquin", "html_url": "https://github.com/mattPeloquin", "followers_url": "https://api.github.com/users/mattPeloquin/followers", "following_url": "https://api.github.com/users/mattPeloquin/following{/other_user}", "gists_url": "https://api.github.com/users/mattPeloquin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattPeloquin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattPeloquin/subscriptions", "organizations_url": "https://api.github.com/users/mattPeloquin/orgs", "repos_url": "https://api.github.com/users/mattPeloquin/repos", "events_url": "https://api.github.com/users/mattPeloquin/events{/privacy}", "received_events_url": "https://api.github.com/users/mattPeloquin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}, {"id": 156638824, "node_id": "MDU6TGFiZWwxNTY2Mzg4MjQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-08T00:00:00Z", "updated_at": "2018-05-10T06:53:23Z", "closed_at": "2018-05-10T06:53:23Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/951", "html_url": "https://github.com/fabric/fabric/pull/951", "diff_url": "https://github.com/fabric/fabric/pull/951.diff", "patch_url": "https://github.com/fabric/fabric/pull/951.patch", "merged_at": null}, "body": "Added && between SET statements for Windows local case\nUsed glue replacement pattern for &&, so \n\nWindows local:  SET XXX=\"xxx\" && SET YYY=\"yyy\" && ...command\n\nOther:  export XXX=\"xxx\" YYY=\"yyy\" && ...command\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/951/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/932", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/932/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/932/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/932/events", "html_url": "https://github.com/fabric/fabric/pull/932", "id": 16646487, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg3MjU4OQ==", "number": 932, "title": "contrib.files.upload_template should pass along temp_dir to put", "user": {"login": "nburlett", "id": 1464375, "node_id": "MDQ6VXNlcjE0NjQzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1464375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nburlett", "html_url": "https://github.com/nburlett", "followers_url": "https://api.github.com/users/nburlett/followers", "following_url": "https://api.github.com/users/nburlett/following{/other_user}", "gists_url": "https://api.github.com/users/nburlett/gists{/gist_id}", "starred_url": "https://api.github.com/users/nburlett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nburlett/subscriptions", "organizations_url": "https://api.github.com/users/nburlett/orgs", "repos_url": "https://api.github.com/users/nburlett/repos", "events_url": "https://api.github.com/users/nburlett/events{/privacy}", "received_events_url": "https://api.github.com/users/nburlett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/28", "html_url": "https://github.com/fabric/fabric/milestone/28", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/28/labels", "id": 783869, "node_id": "MDk6TWlsZXN0b25lNzgzODY5", "number": 28, "title": "1.11", "description": "Potential mid term feature release.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2014-09-09T16:33:13Z", "updated_at": "2016-04-09T18:07:40Z", "due_on": null, "closed_at": "2016-04-09T18:07:40Z"}, "comments": 3, "created_at": "2013-07-11T18:38:05Z", "updated_at": "2016-04-08T22:28:17Z", "closed_at": "2016-04-08T22:28:17Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/932", "html_url": "https://github.com/fabric/fabric/pull/932", "diff_url": "https://github.com/fabric/fabric/pull/932.diff", "patch_url": "https://github.com/fabric/fabric/pull/932.patch", "merged_at": null}, "body": "In e7e96491, a temp_dir kwarg was added to fabric.operations.put. Since\nfabric.contrib.files.upload_template makes use of fabric.operations.put,\nit makes sense to add a temp_dir kwarg to upload_template and pass it\nalong to put.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/932/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/916", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/916/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/916/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/916/events", "html_url": "https://github.com/fabric/fabric/issues/916", "id": 15682958, "node_id": "MDU6SXNzdWUxNTY4Mjk1OA==", "number": 916, "title": "fabric.contrib.files.exists() fails with an error \"'OutputRedirector' object has no attribute 'isatty'\" when using with boto", "user": {"login": "kowalcj0", "id": 910451, "node_id": "MDQ6VXNlcjkxMDQ1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/910451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kowalcj0", "html_url": "https://github.com/kowalcj0", "followers_url": "https://api.github.com/users/kowalcj0/followers", "following_url": "https://api.github.com/users/kowalcj0/following{/other_user}", "gists_url": "https://api.github.com/users/kowalcj0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kowalcj0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kowalcj0/subscriptions", "organizations_url": "https://api.github.com/users/kowalcj0/orgs", "repos_url": "https://api.github.com/users/kowalcj0/repos", "events_url": "https://api.github.com/users/kowalcj0/events{/privacy}", "received_events_url": "https://api.github.com/users/kowalcj0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-06-18T11:59:37Z", "updated_at": "2015-05-04T21:12:19Z", "closed_at": "2015-05-04T21:12:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nMy current config is python 2.7.3 + virtualenv 1.9.1 with:\n- Fabric==1.6.1\n- boto==2.9.5\n\nWhenever I'm trying to check whether file exists on remote machine I'm getting errors like the one below:\n\n``` python\nTraceback (most recent call last):\n  File \"~/myproject/helpers.py\", line 63, in download_audio_files\n    if exists('~/%s.wav' % (filename_pattern)):\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/contrib/files.py\", line 36, in exists\n    return not func(cmd).failed\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/network.py\", line 535, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/operations.py\", line 1015, in run\n    warn_only=warn_only, stdout=stdout, stderr=stderr, timeout=timeout)\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/operations.py\", line 891, in _run_command\n    stderr=stderr, timeout=timeout)\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/operations.py\", line 737, in _execute\n    rows, cols = _pty_size()\n  File \"/home/jay/.virtualenvs/boto/local/lib/python2.7/site-packages/fabric/utils.py\", line 253, in _pty_size\n    if not win32 and sys.stdout.isatty():\nAttributeError: 'OutputRedirector' object has no attribute 'isatty'\n```\n\nAt the moment I'm using a simple workaround:\n\n``` python\nwith settings(host_string=instance.public_dns_name,\n  key_filename=CONN_CONFIG['key_path'],\n  user=CONN_CONFIG['user_name'],\n  connection_attempts=10):\n    if run('~/%s.wav' % (filename_pattern), warn_only=True, pty=False).succeeded:\n        get('~/%s.wav' % (filename_pattern), \"./\")\n```\n\nAnd as the exists() method calls the run() method, could you please add an option to call exists() with all the params allowed when calling run()? (especially pty & warn_only) :)\n\nThanks\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/901", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/901/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/901/events", "html_url": "https://github.com/fabric/fabric/issues/901", "id": 14476418, "node_id": "MDU6SXNzdWUxNDQ3NjQxOA==", "number": 901, "title": "Namespacing breaks when using fabric.api.run()", "user": {"login": "pikeas", "id": 686573, "node_id": "MDQ6VXNlcjY4NjU3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/686573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pikeas", "html_url": "https://github.com/pikeas", "followers_url": "https://api.github.com/users/pikeas/followers", "following_url": "https://api.github.com/users/pikeas/following{/other_user}", "gists_url": "https://api.github.com/users/pikeas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pikeas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pikeas/subscriptions", "organizations_url": "https://api.github.com/users/pikeas/orgs", "repos_url": "https://api.github.com/users/pikeas/repos", "events_url": "https://api.github.com/users/pikeas/events{/privacy}", "received_events_url": "https://api.github.com/users/pikeas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 135365393, "node_id": "MDU6TGFiZWwxMzUzNjUzOTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 135367304, "node_id": "MDU6TGFiZWwxMzUzNjczMDQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20patch", "name": "Needs patch", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-05-18T00:08:26Z", "updated_at": "2015-12-17T22:23:53Z", "closed_at": "2015-12-17T22:23:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "This works as advertised:\n\n```\n# __init__.py\nimport my_module as m\n\n# fab -l display tasks as m.<task>\n```\n\nThis behavior is unexpected:\n\n```\n# __init__.py\nfrom fabric.api import run\nimport my_module as m\n\n# fab -l displays tasks as my_module.<task>\n```\n\nThis causes problems when `__init__.py` also defines tasks.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/844", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/844/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/844/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/844/events", "html_url": "https://github.com/fabric/fabric/issues/844", "id": 11554575, "node_id": "MDU6SXNzdWUxMTU1NDU3NQ==", "number": 844, "title": "Update key loading & tests re: new ssh_config parsing in Paramiko", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-03-01T17:49:21Z", "updated_at": "2013-03-01T19:02:02Z", "closed_at": "2013-03-01T19:02:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[Paramiko #93](https://github.com/paramiko/paramiko/pull/93), coming out in Paramiko 1.10 today, overhauls SSH config handling to be more correct/in line with `man ssh_config`.\n\nSome of our own tests are incorrect re: `man ssh_config` and need updating to account for the new changes.\n\nMore importantly, `IdentityFile` is (finally!) a list value, so we need to account for this when loading keys.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/835", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/835/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/835/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/835/events", "html_url": "https://github.com/fabric/fabric/issues/835", "id": 10740074, "node_id": "MDU6SXNzdWUxMDc0MDA3NA==", "number": 835, "title": "put(): empty string in remote_path not replaced by the remote current working directory", "user": {"login": "jmce", "id": 580605, "node_id": "MDQ6VXNlcjU4MDYwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/580605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmce", "html_url": "https://github.com/jmce", "followers_url": "https://api.github.com/users/jmce/followers", "following_url": "https://api.github.com/users/jmce/following{/other_user}", "gists_url": "https://api.github.com/users/jmce/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmce/subscriptions", "organizations_url": "https://api.github.com/users/jmce/orgs", "repos_url": "https://api.github.com/users/jmce/repos", "events_url": "https://api.github.com/users/jmce/events{/privacy}", "received_events_url": "https://api.github.com/users/jmce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-02-07T15:12:56Z", "updated_at": "2016-04-07T03:27:49Z", "closed_at": "2016-04-07T03:27:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Documentation for put() claims that \"an empty string, in either path argument, will be replaced by the appropriate end's current working directory\".   But (in Fabric 1.5.3)\nsetting remote_path='' the remote home directory is selected instead. With\n\n```\nremote_path = remote_path or home\n```\n\nremote_path becomes a absolute path (home), thus 'honoring' cd() is skipped.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/835/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/833", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/833/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/833/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/833/events", "html_url": "https://github.com/fabric/fabric/issues/833", "id": 10679577, "node_id": "MDU6SXNzdWUxMDY3OTU3Nw==", "number": 833, "title": "shell_env uses wrong command when deploying to a different OS", "user": {"login": "timbertson", "id": 14172, "node_id": "MDQ6VXNlcjE0MTcy", "avatar_url": "https://avatars.githubusercontent.com/u/14172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timbertson", "html_url": "https://github.com/timbertson", "followers_url": "https://api.github.com/users/timbertson/followers", "following_url": "https://api.github.com/users/timbertson/following{/other_user}", "gists_url": "https://api.github.com/users/timbertson/gists{/gist_id}", "starred_url": "https://api.github.com/users/timbertson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timbertson/subscriptions", "organizations_url": "https://api.github.com/users/timbertson/orgs", "repos_url": "https://api.github.com/users/timbertson/repos", "events_url": "https://api.github.com/users/timbertson/events{/privacy}", "received_events_url": "https://api.github.com/users/timbertson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-02-06T04:16:30Z", "updated_at": "2013-02-14T20:50:39Z", "closed_at": "2013-02-14T17:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running on windows, deploying to a linux box, I use:\n\n```\nwith shell_env(KEY = \"val\"):\n    run(\"some_command\")\n```\n\nAfter recent updates (presumably relating to #805), fabric is now trying to run:\n\n```\n/bin/bash -l -c \"cd <basedir> && SET KEY=\\\"val\\\" && some_command\"\n```\n\ni.e it uses windows' `SET` rather than bash's `export`\n\nIt knows enough to run bash, so somewhere in there it can presumably detect that it's running on a unix destination.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/815", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/815/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/815/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/815/events", "html_url": "https://github.com/fabric/fabric/issues/815", "id": 9832366, "node_id": "MDU6SXNzdWU5ODMyMzY2", "number": 815, "title": "UTF-8 from yaml (aka \"UTF-8/Unicode not well supported\")", "user": {"login": "Poil", "id": 534313, "node_id": "MDQ6VXNlcjUzNDMxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/534313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Poil", "html_url": "https://github.com/Poil", "followers_url": "https://api.github.com/users/Poil/followers", "following_url": "https://api.github.com/users/Poil/following{/other_user}", "gists_url": "https://api.github.com/users/Poil/gists{/gist_id}", "starred_url": "https://api.github.com/users/Poil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Poil/subscriptions", "organizations_url": "https://api.github.com/users/Poil/orgs", "repos_url": "https://api.github.com/users/Poil/repos", "events_url": "https://api.github.com/users/Poil/events{/privacy}", "received_events_url": "https://api.github.com/users/Poil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-01-10T06:03:42Z", "updated_at": "2014-08-27T01:00:21Z", "closed_at": "2014-08-27T01:00:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI load a yaml configuration file.\nThis yaml contains :\nname: 'Fr\u00e9d\u00e9ric TOTO'\n\nI've created a task\n\n``` python\n@task \ndef toto():\n    config_file = open('myyamlfile.yaml')\n    config = yaml.load(config_file.read())\n    config_file.close()\n    env.update(_AttributeDict(config))\n    # This is working\n    print(env.name) \n    # This output the error 1\n    sudo(\"echo \"+env.name)\n```\n\nSo, I have tried to create a sitecustomize.py containing \n\n``` python\nimport sys\nsys.setdefaultencoding('utf-8')\n```\n\nBut all fabric commands give me the error 2\n###### \n\nERROR 1 :\n\n```\nTraceback (most recent call last):\n  File\n\"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/main.py\",\nline 732, in main\n    *args, **kwargs\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 312, in execute\n    multiprocessing\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 211, in _execute\n    return task.run(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 121, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_projects/lib/python/fabrics_projects/2013_01_08/deploy/fabfile.py\",\nline 204, in toto\n    sudo(\"echo \" + env.name)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/network.py\",\nline 523, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 1046, in sudo\n    warn_only=warn_only, stdout=stdout, stderr=stderr)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 882, in _run_command\n    stderr=stderr)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 753, in _execute\n    channel.exec_command(command)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/paramiko/channel.py\",\nline 210, in exec_command\n    m.add_string(command)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/paramiko/message.py\",\nline 258, in add_string\n    self.packet.write(s)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position\n53: ordinal not in range(128)\nDisconnecting from mycomputer.local... done.\n```\n###### \n\nERROR 2:\n\n```\nTraceback (most recent call last):\n  File\n\"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/main.py\",\nline 732, in main\n    *args, **kwargs\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 312, in execute\n    multiprocessing\n  File\n\"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 211, in _execute\n    return task.run(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/tasks.py\",\nline 121, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_projects/lib/python/fabrics_projects/2013_01_08/deploy/fabfile.py\",\nline 204, in toto\n    sudo(u\"echo %s\" % env.name)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/network.py\",\nline 523, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 1046, in sudo\n    warn_only=warn_only, stdout=stdout, stderr=stderr)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 882, in _run_command\n    stderr=stderr)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/fabric/operations.py\",\nline 753, in _execute\n    channel.exec_command(command)\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/paramiko/channel.py\",\nline 213, in exec_command\n    self._wait_for_event()\n  File \"/home/toto/workspace/fabrics_env/local/lib/python2.7/site-packages/paramiko/channel.py\",\nline 1114, in _wait_for_event\n    raise e\nparamiko.SSHException: Channel closed.\nDisconnecting from mycomputer.local... done.\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/812", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/812/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/812/events", "html_url": "https://github.com/fabric/fabric/issues/812", "id": 9773812, "node_id": "MDU6SXNzdWU5NzczODEy", "number": 812, "title": "put fails with filenames containing glob patterns", "user": {"login": "legrostdg", "id": 372337, "node_id": "MDQ6VXNlcjM3MjMzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/372337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/legrostdg", "html_url": "https://github.com/legrostdg", "followers_url": "https://api.github.com/users/legrostdg/followers", "following_url": "https://api.github.com/users/legrostdg/following{/other_user}", "gists_url": "https://api.github.com/users/legrostdg/gists{/gist_id}", "starred_url": "https://api.github.com/users/legrostdg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/legrostdg/subscriptions", "organizations_url": "https://api.github.com/users/legrostdg/orgs", "repos_url": "https://api.github.com/users/legrostdg/repos", "events_url": "https://api.github.com/users/legrostdg/events{/privacy}", "received_events_url": "https://api.github.com/users/legrostdg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-01-08T16:32:23Z", "updated_at": "2013-04-02T01:22:36Z", "closed_at": "2013-04-02T01:22:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Command line:\n\n```\n$ touch ~/'test1[foo].txt'\n$ touch ~/'test2.txt'\n```\n\nPython shell:\n\n```\n>>> from fabric.api import put\n>>> put('~/test1\\[foo\\].txt', '/tmp')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/lib/python2.7/dist-packages/fabric/network.py\", line 465, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/fabric/operations.py\", line 369, in put\n    raise ValueError(err)\nValueError: '/home/myuser/test1\\[foo\\].txt' is not a valid local path or glob.\n>>> put('~/test2.txt', '/tmp')\n[example.com] put: /home/myuser/test2.txt -> /tmp/test2.txt\n['/tmp/test2.txt']\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/811", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/811/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/811/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/811/events", "html_url": "https://github.com/fabric/fabric/issues/811", "id": 9736072, "node_id": "MDU6SXNzdWU5NzM2MDcy", "number": 811, "title": "put error \"unsupported operand type(s) for &: 'NoneType' and 'int'\"", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2013-01-07T14:59:55Z", "updated_at": "2013-05-27T07:36:54Z", "closed_at": "2013-04-05T18:50:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run a simple put with Fabric 1.5.1 using a mode parameter, I get an error. Here's the fabfile.py:\n\n```\nfrom __future__ import unicode_literals\n\nimport io\nfrom fabric.api import task, put\n\n@task\ndef test_put_empty_file():\n    put(io.StringIO(''), '/tmp/foo', mode=0440)\n```\n\nWhen I run it, I get this error:\n\n```\nPS C:\\Users\\jaraco\\G\\support\\yg.deploy> fab -H vdev-jaraco test_put_empty_file\n[vdev-jaraco] Executing task 'test_put_empty_file'\n[vdev-jaraco] put: <file obj> -> /tmp/foo\n\nFatal error: put() encountered an exception while uploading '<_io.StringIO object at 0x0000000002DAE1B0>'\n\nUnderlying exception:\n    unsupported operand type(s) for &: 'NoneType' and 'int'\n\nAborting.\n```\n\nIf I take the mode out of the script, it appears to work.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/800", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/800/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/800/events", "html_url": "https://github.com/fabric/fabric/issues/800", "id": 9302322, "node_id": "MDU6SXNzdWU5MzAyMzIy", "number": 800, "title": "Fabric very high memory usage", "user": {"login": "jstarcher", "id": 1258156, "node_id": "MDQ6VXNlcjEyNTgxNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1258156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jstarcher", "html_url": "https://github.com/jstarcher", "followers_url": "https://api.github.com/users/jstarcher/followers", "following_url": "https://api.github.com/users/jstarcher/following{/other_user}", "gists_url": "https://api.github.com/users/jstarcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/jstarcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jstarcher/subscriptions", "organizations_url": "https://api.github.com/users/jstarcher/orgs", "repos_url": "https://api.github.com/users/jstarcher/repos", "events_url": "https://api.github.com/users/jstarcher/events{/privacy}", "received_events_url": "https://api.github.com/users/jstarcher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/28", "html_url": "https://github.com/fabric/fabric/milestone/28", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/28/labels", "id": 783869, "node_id": "MDk6TWlsZXN0b25lNzgzODY5", "number": 28, "title": "1.11", "description": "Potential mid term feature release.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2014-09-09T16:33:13Z", "updated_at": "2016-04-09T18:07:40Z", "due_on": null, "closed_at": "2016-04-09T18:07:40Z"}, "comments": 8, "created_at": "2012-12-15T01:00:10Z", "updated_at": "2016-04-09T03:16:20Z", "closed_at": "2016-04-09T03:10:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a fabric task I often use to reindex my solr index from a 4 GB mysql database. The process takes around 10 hours to complete and is very verbose. I invoke the fab task via Jenkins so I can capture the output nicely. I noticed today while running the reindex that the fab process took 2.7 GB of my system memory!\n\nFabric 1.4.3\nssh (library) 1.7.14\nPython 2.7.3\n\nLinux jenkins 2.6.32-24-server #43-Ubuntu SMP Thu Sep 16 16:05:42 UTC 2010 x86_64 x86_64 x86_64 GNU/Linux\n\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=12.04\nDISTRIB_CODENAME=precise\nDISTRIB_DESCRIPTION=\"Ubuntu 12.04.1 LTS\n\nFrom top\n\n```\nVIRT   RES   SHR S  %CPU %MEM TIME+ COMMAND\n3318m 2.7g 3716 R   40 69.3 114:19.58 fab\n```\n\ncat /proc/16816/status\n\n```\nName:   fab\nState:  S (sleeping)\nTgid:   16816\nPid:    16816\nPPid:   16813\nTracerPid:  0\nUid:    111 111 111 111\nGid:    120 120 120 120\nFDSize: 64\nGroups: 27 120 \nVmPeak:  3397896 kB\nVmSize:  3397896 kB\nVmLck:         0 kB\nVmHWM:   2805864 kB\nVmRSS:   2805864 kB\nVmData:  3338936 kB\nVmStk:       248 kB\nVmExe:      2500 kB\nVmLib:      6064 kB\nVmPTE:      5700 kB\nThreads:    5\nSigQ:   0/31881\nSigPnd: 0000000000000000\nShdPnd: 0000000000000000\nSigBlk: 0000000000000004\nSigIgn: 0000000001001000\nSigCgt: 0000000180000002\nCapInh: 0000000000000000\nCapPrm: 0000000000000000\nCapEff: 0000000000000000\nCapBnd: ffffffffffffffff\nCpus_allowed:   f\nCpus_allowed_list:  0-3\nMems_allowed:   00000000,00000001\nMems_allowed_list:  0\nvoluntary_ctxt_switches:    5187747\nnonvoluntary_ctxt_switches: 530\n```\n\ncat /proc/16816/pmap\n\n```\n16816:   /usr/bin/python /usr/local/bin/fab -f /home/foo/utility/fabfile.py -R prod solr_index:foo=bar,bar=baz\n0000000000400000   2500K r-x--  /usr/bin/python2.7\n0000000000870000      4K r----  /usr/bin/python2.7\n0000000000871000    420K rw---  /usr/bin/python2.7\n00000000008da000     72K rw---    [ anon ]\n00000000018dd000   5076K rw---    [ anon ]\n00007f8867bd9000 1512944K rw---    [ anon ]\n00007f8902c90000 1512944K rw---    [ anon ]\n00007f8994000000    132K rw---    [ anon ]\n00007f8994021000  65404K -----    [ anon ]\n00007f8998000000    132K rw---    [ anon ]\n00007f8998021000  65404K -----    [ anon ]\n00007f899c000000    864K rw---    [ anon ]\n00007f899c0d8000  64672K -----    [ anon ]\n00007f89a21fd000      4K -----    [ anon ]\n00007f89a21fe000  10240K rw---    [ anon ]\n00007f89a2bfe000      4K -----    [ anon ]\n00007f89a2bff000  10240K rw---    [ anon ]\n00007f89a35ff000      4K -----    [ anon ]\n00007f89a3600000  10240K rw---    [ anon ]\n00007f89a4000000    248K rw---    [ anon ]\n00007f89a403e000  65288K -----    [ anon ]\n00007f89a8530000      4K -----    [ anon ]\n00007f89a8531000  10240K rw---    [ anon ]\n00007f89a8f31000     96K r-x--  /lib/x86_64-linux-gnu/libresolv-2.15.so\n00007f89a8f49000   2048K -----  /lib/x86_64-linux-gnu/libresolv-2.15.so\n00007f89a9149000      4K r----  /lib/x86_64-linux-gnu/libresolv-2.15.so\n00007f89a914a000      4K rw---  /lib/x86_64-linux-gnu/libresolv-2.15.so\n00007f89a914b000      8K rw---    [ anon ]\n00007f89a914d000     28K r-x--  /lib/x86_64-linux-gnu/libnss_dns-2.15.so\n00007f89a9154000   2044K -----  /lib/x86_64-linux-gnu/libnss_dns-2.15.so\n00007f89a9353000      4K r----  /lib/x86_64-linux-gnu/libnss_dns-2.15.so\n00007f89a9354000      4K rw---  /lib/x86_64-linux-gnu/libnss_dns-2.15.so\n00007f89a9355000     48K r-x--  /lib/x86_64-linux-gnu/libnss_files-2.15.so\n00007f89a9361000   2044K -----  /lib/x86_64-linux-gnu/libnss_files-2.15.so\n00007f89a9560000      4K r----  /lib/x86_64-linux-gnu/libnss_files-2.15.so\n00007f89a9561000      4K rw---  /lib/x86_64-linux-gnu/libnss_files-2.15.so\n00007f89a9562000    260K rw---    [ anon ]\n00007f89a95a3000     80K r-x--  /usr/lib/python2.7/lib-dynload/datetime.so\n00007f89a95b7000   2044K -----  /usr/lib/python2.7/lib-dynload/datetime.so\n00007f89a97b6000      4K r----  /usr/lib/python2.7/lib-dynload/datetime.so\n00007f89a97b7000     16K rw---  /usr/lib/python2.7/lib-dynload/datetime.so\n00007f89a97bb000    260K rw---    [ anon ]\n00007f89a97fc000      8K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\n00007f89a97fe000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\n00007f89a99fd000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\n00007f89a99fe000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\n00007f89a99ff000    260K rw---    [ anon ]\n00007f89a9a40000      8K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\n00007f89a9a42000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\n00007f89a9c41000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\n00007f89a9c42000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\n00007f89a9c43000     28K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\n00007f89a9c4a000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\n00007f89a9e49000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\n00007f89a9e4a000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\n00007f89a9e4b000    260K rw---    [ anon ]\n00007f89a9e8c000     56K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\n00007f89a9e9a000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\n00007f89aa099000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\n00007f89aa09a000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\n00007f89aa09b000    520K rw---    [ anon ]\n00007f89aa11d000     32K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\n00007f89aa125000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\n00007f89aa324000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\n00007f89aa325000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\n00007f89aa326000     12K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\n00007f89aa329000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\n00007f89aa528000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\n00007f89aa529000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\n00007f89aa52a000    408K r-x--  /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\n00007f89aa590000   2044K -----  /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\n00007f89aa78f000      4K r----  /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\n00007f89aa790000     32K rw---  /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\n00007f89aa798000     64K r-x--  /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\n00007f89aa7a8000   2044K -----  /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\n00007f89aa9a7000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\n00007f89aa9a8000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\n00007f89aa9a9000      8K r-x--  /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\n00007f89aa9ab000   2048K -----  /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\n00007f89aabab000      4K r----  /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\n00007f89aabac000      4K rw---  /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\n00007f89aabad000   1032K rw---    [ anon ]\n00007f89aacaf000     16K r-x--  /usr/lib/python2.7/lib-dynload/termios.so\n00007f89aacb3000   2044K -----  /usr/lib/python2.7/lib-dynload/termios.so\n00007f89aaeb2000      4K r----  /usr/lib/python2.7/lib-dynload/termios.so\n00007f89aaeb3000      8K rw---  /usr/lib/python2.7/lib-dynload/termios.so\n00007f89aaeb5000    520K rw---    [ anon ]\n00007f89aaf37000     12K r-x--  /usr/lib/python2.7/lib-dynload/_heapq.so\n00007f89aaf3a000   2044K -----  /usr/lib/python2.7/lib-dynload/_heapq.so\n00007f89ab139000      4K r----  /usr/lib/python2.7/lib-dynload/_heapq.so\n00007f89ab13a000      8K rw---  /usr/lib/python2.7/lib-dynload/_heapq.so\n00007f89ab13c000     84K r-x--  /lib/x86_64-linux-gnu/libgcc_s.so.1\n00007f89ab151000   2044K -----  /lib/x86_64-linux-gnu/libgcc_s.so.1\n00007f89ab350000      4K r----  /lib/x86_64-linux-gnu/libgcc_s.so.1\n00007f89ab351000      4K rw---  /lib/x86_64-linux-gnu/libgcc_s.so.1\n00007f89ab352000   1748K r-x--  /lib/x86_64-linux-gnu/libc-2.15.so\n00007f89ab507000   2044K -----  /lib/x86_64-linux-gnu/libc-2.15.so\n00007f89ab706000     16K r----  /lib/x86_64-linux-gnu/libc-2.15.so\n00007f89ab70a000      8K rw---  /lib/x86_64-linux-gnu/libc-2.15.so\n00007f89ab70c000     20K rw---    [ anon ]\n00007f89ab711000   1004K r-x--  /lib/x86_64-linux-gnu/libm-2.15.so\n00007f89ab80c000   2044K -----  /lib/x86_64-linux-gnu/libm-2.15.so\n00007f89aba0b000      4K r----  /lib/x86_64-linux-gnu/libm-2.15.so\n00007f89aba0c000      4K rw---  /lib/x86_64-linux-gnu/libm-2.15.so\n00007f89aba0d000     88K r-x--  /lib/x86_64-linux-gnu/libz.so.1.2.3.4\n00007f89aba23000   2044K -----  /lib/x86_64-linux-gnu/libz.so.1.2.3.4\n00007f89abc22000      4K r----  /lib/x86_64-linux-gnu/libz.so.1.2.3.4\n00007f89abc23000      4K rw---  /lib/x86_64-linux-gnu/libz.so.1.2.3.4\n00007f89abc24000   1660K r-x--  /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\n00007f89abdc3000   2044K -----  /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\n00007f89abfc2000    108K r----  /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\n00007f89abfdd000     44K rw---  /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\n00007f89abfe8000     16K rw---    [ anon ]\n00007f89abfec000    328K r-x--  /lib/x86_64-linux-gnu/libssl.so.1.0.0\n00007f89ac03e000   2048K -----  /lib/x86_64-linux-gnu/libssl.so.1.0.0\n00007f89ac23e000     12K r----  /lib/x86_64-linux-gnu/libssl.so.1.0.0\n00007f89ac241000     24K rw---  /lib/x86_64-linux-gnu/libssl.so.1.0.0\n00007f89ac247000      4K rw---    [ anon ]\n00007f89ac248000      8K r-x--  /lib/x86_64-linux-gnu/libutil-2.15.so\n00007f89ac24a000   2044K -----  /lib/x86_64-linux-gnu/libutil-2.15.so\n00007f89ac449000      4K r----  /lib/x86_64-linux-gnu/libutil-2.15.so\n00007f89ac44a000      4K rw---  /lib/x86_64-linux-gnu/libutil-2.15.so\n00007f89ac44b000      8K r-x--  /lib/x86_64-linux-gnu/libdl-2.15.so\n00007f89ac44d000   2048K -----  /lib/x86_64-linux-gnu/libdl-2.15.so\n00007f89ac64d000      4K r----  /lib/x86_64-linux-gnu/libdl-2.15.so\n00007f89ac64e000      4K rw---  /lib/x86_64-linux-gnu/libdl-2.15.so\n00007f89ac64f000     96K r-x--  /lib/x86_64-linux-gnu/libpthread-2.15.so\n00007f89ac667000   2044K -----  /lib/x86_64-linux-gnu/libpthread-2.15.so\n00007f89ac866000      4K r----  /lib/x86_64-linux-gnu/libpthread-2.15.so\n00007f89ac867000      4K rw---  /lib/x86_64-linux-gnu/libpthread-2.15.so\n00007f89ac868000     16K rw---    [ anon ]\n00007f89ac86c000    136K r-x--  /lib/x86_64-linux-gnu/ld-2.15.so\n00007f89ac88f000    212K r--s-  /var/cache/nscd/passwd\n00007f89ac8c4000    520K rw---    [ anon ]\n00007f89ac947000    520K rw---    [ anon ]\n00007f89ac9fb000    544K rw---    [ anon ]\n00007f89aca8a000     16K rw---    [ anon ]\n00007f89aca8e000      4K r----  /lib/x86_64-linux-gnu/ld-2.15.so\n00007f89aca8f000      8K rw---  /lib/x86_64-linux-gnu/ld-2.15.so\n00007ffffa697000    244K rw---    [ stack ]\n00007ffffa7ff000      4K r-x--    [ anon ]\nffffffffff600000      4K r-x--    [ anon ]\n total          3397896K\n```\n\ncat /proc/16816/smaps\n\n```\n00400000-00671000 r-xp 00000000 ca:11 272276                             /usr/bin/python2.7\nSize:               2500 kB\nRss:                1468 kB\nPss:                1468 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:      1468 kB\nPrivate_Dirty:         0 kB\nReferenced:         1468 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n00870000-00871000 r--p 00270000 ca:11 272276                             /usr/bin/python2.7\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n00871000-008da000 rw-p 00271000 ca:11 272276                             /usr/bin/python2.7\nSize:                420 kB\nRss:                 280 kB\nPss:                 280 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        84 kB\nPrivate_Dirty:       196 kB\nReferenced:          212 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n008da000-008ec000 rw-p 00000000 00:00 0 \nSize:                 72 kB\nRss:                  68 kB\nPss:                  68 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        68 kB\nReferenced:           52 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n018dd000-01dd2000 rw-p 00000000 00:00 0                                  [heap]\nSize:               5076 kB\nRss:                4632 kB\nPss:                4632 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:      4632 kB\nReferenced:          728 kB\nSwap:                332 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8867bd9000-7f88c4155000 rw-p 00000000 00:00 0 \nSize:            1512944 kB\nRss:             1397240 kB\nPss:             1397240 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:   1397240 kB\nReferenced:      1185920 kB\nSwap:              13936 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8902c90000-7f895f20c000 rw-p 00000000 00:00 0 \nSize:            1512944 kB\nRss:             1397032 kB\nPss:             1397032 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:   1397032 kB\nReferenced:      1186600 kB\nSwap:              14144 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8994000000-7f8994021000 rw-p 00000000 00:00 0 \nSize:                132 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         8 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8994021000-7f8998000000 ---p 00000000 00:00 0 \nSize:              65404 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8998000000-7f8998021000 rw-p 00000000 00:00 0 \nSize:                132 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         8 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f8998021000-7f899c000000 ---p 00000000 00:00 0 \nSize:              65404 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f899c000000-7f899c0d8000 rw-p 00000000 00:00 0 \nSize:                864 kB\nRss:                 128 kB\nPss:                 128 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       128 kB\nReferenced:           12 kB\nSwap:                 12 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f899c0d8000-7f89a0000000 ---p 00000000 00:00 0 \nSize:              64672 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a21fd000-7f89a21fe000 ---p 00000000 00:00 0 \nSize:                  4 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a21fe000-7f89a2bfe000 rw-p 00000000 00:00 0 \nSize:              10240 kB\nRss:                  24 kB\nPss:                  24 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        24 kB\nReferenced:           24 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a2bfe000-7f89a2bff000 ---p 00000000 00:00 0 \nSize:                  4 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a2bff000-7f89a35ff000 rw-p 00000000 00:00 0 \nSize:              10240 kB\nRss:                  12 kB\nPss:                  12 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        12 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a35ff000-7f89a3600000 ---p 00000000 00:00 0 \nSize:                  4 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a3600000-7f89a4000000 rw-p 00000000 00:00 0 \nSize:              10240 kB\nRss:                  20 kB\nPss:                  20 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        20 kB\nReferenced:           20 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a4000000-7f89a403e000 rw-p 00000000 00:00 0 \nSize:                248 kB\nRss:                 184 kB\nPss:                 184 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       184 kB\nReferenced:          176 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a403e000-7f89a8000000 ---p 00000000 00:00 0 \nSize:              65288 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a8530000-7f89a8531000 ---p 00000000 00:00 0 \nSize:                  4 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a8531000-7f89a8f31000 rw-p 00000000 00:00 0 \nSize:              10240 kB\nRss:                  28 kB\nPss:                  28 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        28 kB\nReferenced:           16 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a8f31000-7f89a8f49000 r-xp 00000000 ca:11 196136                     /lib/x86_64-linux-gnu/libresolv-2.15.so\nSize:                 96 kB\nRss:                  56 kB\nPss:                   4 kB\nShared_Clean:         56 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           56 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a8f49000-7f89a9149000 ---p 00018000 ca:11 196136                     /lib/x86_64-linux-gnu/libresolv-2.15.so\nSize:               2048 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9149000-7f89a914a000 r--p 00018000 ca:11 196136                     /lib/x86_64-linux-gnu/libresolv-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a914a000-7f89a914b000 rw-p 00019000 ca:11 196136                     /lib/x86_64-linux-gnu/libresolv-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a914b000-7f89a914d000 rw-p 00000000 00:00 0 \nSize:                  8 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a914d000-7f89a9154000 r-xp 00000000 ca:11 196283                     /lib/x86_64-linux-gnu/libnss_dns-2.15.so\nSize:                 28 kB\nRss:                  24 kB\nPss:                   2 kB\nShared_Clean:         24 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           24 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9154000-7f89a9353000 ---p 00007000 ca:11 196283                     /lib/x86_64-linux-gnu/libnss_dns-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9353000-7f89a9354000 r--p 00006000 ca:11 196283                     /lib/x86_64-linux-gnu/libnss_dns-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9354000-7f89a9355000 rw-p 00007000 ca:11 196283                     /lib/x86_64-linux-gnu/libnss_dns-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9355000-7f89a9361000 r-xp 00000000 ca:11 196262                     /lib/x86_64-linux-gnu/libnss_files-2.15.so\nSize:                 48 kB\nRss:                  28 kB\nPss:                   1 kB\nShared_Clean:         28 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           28 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9361000-7f89a9560000 ---p 0000c000 ca:11 196262                     /lib/x86_64-linux-gnu/libnss_files-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9560000-7f89a9561000 r--p 0000b000 ca:11 196262                     /lib/x86_64-linux-gnu/libnss_files-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9561000-7f89a9562000 rw-p 0000c000 ca:11 196262                     /lib/x86_64-linux-gnu/libnss_files-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9562000-7f89a95a3000 rw-p 00000000 00:00 0 \nSize:                260 kB\nRss:                 244 kB\nPss:                 244 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       244 kB\nReferenced:           68 kB\nSwap:                 12 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a95a3000-7f89a95b7000 r-xp 00000000 ca:11 302255                     /usr/lib/python2.7/lib-dynload/datetime.so\nSize:                 80 kB\nRss:                  36 kB\nPss:                  36 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        36 kB\nPrivate_Dirty:         0 kB\nReferenced:           36 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a95b7000-7f89a97b6000 ---p 00014000 ca:11 302255                     /usr/lib/python2.7/lib-dynload/datetime.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a97b6000-7f89a97b7000 r--p 00013000 ca:11 302255                     /usr/lib/python2.7/lib-dynload/datetime.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a97b7000-7f89a97bb000 rw-p 00014000 ca:11 302255                     /usr/lib/python2.7/lib-dynload/datetime.so\nSize:                 16 kB\nRss:                  16 kB\nPss:                  16 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        16 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a97bb000-7f89a97fc000 rw-p 00000000 00:00 0 \nSize:                260 kB\nRss:                 232 kB\nPss:                 232 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       232 kB\nReferenced:           88 kB\nSwap:                 24 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a97fc000-7f89a97fe000 r-xp 00000000 ca:11 327422                     /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         8 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a97fe000-7f89a99fd000 ---p 00002000 ca:11 327422                     /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a99fd000-7f89a99fe000 r--p 00001000 ca:11 327422                     /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a99fe000-7f89a99ff000 rw-p 00002000 ca:11 327422                     /usr/lib/python2.7/dist-packages/Crypto/Util/strxor.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a99ff000-7f89a9a40000 rw-p 00000000 00:00 0 \nSize:                260 kB\nRss:                 244 kB\nPss:                 244 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       244 kB\nReferenced:           24 kB\nSwap:                 12 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9a40000-7f89a9a42000 r-xp 00000000 ca:11 327431                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         8 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9a42000-7f89a9c41000 ---p 00002000 ca:11 327431                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9c41000-7f89a9c42000 r--p 00001000 ca:11 327431                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9c42000-7f89a9c43000 rw-p 00002000 ca:11 327431                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/ARC4.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9c43000-7f89a9c4a000 r-xp 00000000 ca:11 327426                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\nSize:                 28 kB\nRss:                  16 kB\nPss:                  16 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        16 kB\nPrivate_Dirty:         0 kB\nReferenced:           16 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9c4a000-7f89a9e49000 ---p 00007000 ca:11 327426                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9e49000-7f89a9e4a000 r--p 00006000 ca:11 327426                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9e4a000-7f89a9e4b000 rw-p 00007000 ca:11 327426                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/Blowfish.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9e4b000-7f89a9e8c000 rw-p 00000000 00:00 0 \nSize:                260 kB\nRss:                 240 kB\nPss:                 240 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       240 kB\nReferenced:           52 kB\nSwap:                 16 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9e8c000-7f89a9e9a000 r-xp 00000000 ca:11 327432                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\nSize:                 56 kB\nRss:                  12 kB\nPss:                  12 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        12 kB\nPrivate_Dirty:         0 kB\nReferenced:           12 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89a9e9a000-7f89aa099000 ---p 0000e000 ca:11 327432                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa099000-7f89aa09a000 r--p 0000d000 ca:11 327432                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa09a000-7f89aa09b000 rw-p 0000e000 ca:11 327432                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/DES3.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa09b000-7f89aa11d000 rw-p 00000000 00:00 0 \nSize:                520 kB\nRss:                 504 kB\nPss:                 504 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         4 kB\nPrivate_Dirty:       500 kB\nReferenced:          272 kB\nSwap:                  8 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa11d000-7f89aa125000 r-xp 00000000 ca:11 327429                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\nSize:                 32 kB\nRss:                  32 kB\nPss:                  32 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        32 kB\nPrivate_Dirty:         0 kB\nReferenced:           32 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa125000-7f89aa324000 ---p 00008000 ca:11 327429                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa324000-7f89aa325000 r--p 00007000 ca:11 327429                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa325000-7f89aa326000 rw-p 00008000 ca:11 327429                     /usr/lib/python2.7/dist-packages/Crypto/Cipher/AES.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa326000-7f89aa329000 r-xp 00000000 ca:11 327423                     /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\nSize:                 12 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         8 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa329000-7f89aa528000 ---p 00003000 ca:11 327423                     /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa528000-7f89aa529000 r--p 00002000 ca:11 327423                     /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa529000-7f89aa52a000 rw-p 00003000 ca:11 327423                     /usr/lib/python2.7/dist-packages/Crypto/Util/_counter.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa52a000-7f89aa590000 r-xp 00000000 ca:11 286027                     /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\nSize:                408 kB\nRss:                 116 kB\nPss:                 116 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:       116 kB\nPrivate_Dirty:         0 kB\nReferenced:          116 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa590000-7f89aa78f000 ---p 00066000 ca:11 286027                     /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa78f000-7f89aa790000 r--p 00065000 ca:11 286027                     /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa790000-7f89aa798000 rw-p 00066000 ca:11 286027                     /usr/lib/x86_64-linux-gnu/libgmp.so.10.0.2\nSize:                 32 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         8 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa798000-7f89aa7a8000 r-xp 00000000 ca:11 327444                     /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\nSize:                 64 kB\nRss:                  24 kB\nPss:                  24 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        24 kB\nPrivate_Dirty:         0 kB\nReferenced:           24 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa7a8000-7f89aa9a7000 ---p 00010000 ca:11 327444                     /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa9a7000-7f89aa9a8000 r--p 0000f000 ca:11 327444                     /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa9a8000-7f89aa9a9000 rw-p 00010000 ca:11 327444                     /usr/lib/python2.7/dist-packages/Crypto/PublicKey/_fastmath.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa9a9000-7f89aa9ab000 r-xp 00000000 ca:11 327446                     /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         8 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aa9ab000-7f89aabab000 ---p 00002000 ca:11 327446                     /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\nSize:               2048 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aabab000-7f89aabac000 r--p 00002000 ca:11 327446                     /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aabac000-7f89aabad000 rw-p 00003000 ca:11 327446                     /usr/lib/python2.7/dist-packages/Crypto/Hash/SHA256.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aabad000-7f89aacaf000 rw-p 00000000 00:00 0 \nSize:               1032 kB\nRss:                 980 kB\nPss:                 980 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       980 kB\nReferenced:          244 kB\nSwap:                 48 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aacaf000-7f89aacb3000 r-xp 00000000 ca:11 302241                     /usr/lib/python2.7/lib-dynload/termios.so\nSize:                 16 kB\nRss:                  16 kB\nPss:                  16 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        16 kB\nPrivate_Dirty:         0 kB\nReferenced:           16 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aacb3000-7f89aaeb2000 ---p 00004000 ca:11 302241                     /usr/lib/python2.7/lib-dynload/termios.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aaeb2000-7f89aaeb3000 r--p 00003000 ca:11 302241                     /usr/lib/python2.7/lib-dynload/termios.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aaeb3000-7f89aaeb5000 rw-p 00004000 ca:11 302241                     /usr/lib/python2.7/lib-dynload/termios.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         8 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aaeb5000-7f89aaf37000 rw-p 00000000 00:00 0 \nSize:                520 kB\nRss:                 492 kB\nPss:                 492 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       492 kB\nReferenced:          208 kB\nSwap:                 20 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aaf37000-7f89aaf3a000 r-xp 00000000 ca:11 302268                     /usr/lib/python2.7/lib-dynload/_heapq.so\nSize:                 12 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         8 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aaf3a000-7f89ab139000 ---p 00003000 ca:11 302268                     /usr/lib/python2.7/lib-dynload/_heapq.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab139000-7f89ab13a000 r--p 00002000 ca:11 302268                     /usr/lib/python2.7/lib-dynload/_heapq.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab13a000-7f89ab13c000 rw-p 00003000 ca:11 302268                     /usr/lib/python2.7/lib-dynload/_heapq.so\nSize:                  8 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  4 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab13c000-7f89ab151000 r-xp 00000000 ca:11 195565                     /lib/x86_64-linux-gnu/libgcc_s.so.1\nSize:                 84 kB\nRss:                  16 kB\nPss:                   4 kB\nShared_Clean:         16 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           16 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab151000-7f89ab350000 ---p 00015000 ca:11 195565                     /lib/x86_64-linux-gnu/libgcc_s.so.1\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab350000-7f89ab351000 r--p 00014000 ca:11 195565                     /lib/x86_64-linux-gnu/libgcc_s.so.1\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab351000-7f89ab352000 rw-p 00015000 ca:11 195565                     /lib/x86_64-linux-gnu/libgcc_s.so.1\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab352000-7f89ab507000 r-xp 00000000 ca:11 196131                     /lib/x86_64-linux-gnu/libc-2.15.so\nSize:               1748 kB\nRss:                 692 kB\nPss:                  23 kB\nShared_Clean:        688 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         4 kB\nPrivate_Dirty:         0 kB\nReferenced:          692 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab507000-7f89ab706000 ---p 001b5000 ca:11 196131                     /lib/x86_64-linux-gnu/libc-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab706000-7f89ab70a000 r--p 001b4000 ca:11 196131                     /lib/x86_64-linux-gnu/libc-2.15.so\nSize:                 16 kB\nRss:                  16 kB\nPss:                  16 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        16 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab70a000-7f89ab70c000 rw-p 001b8000 ca:11 196131                     /lib/x86_64-linux-gnu/libc-2.15.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   8 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         8 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab70c000-7f89ab711000 rw-p 00000000 00:00 0 \nSize:                 20 kB\nRss:                  20 kB\nPss:                  20 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        20 kB\nReferenced:           12 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab711000-7f89ab80c000 r-xp 00000000 ca:11 196257                     /lib/x86_64-linux-gnu/libm-2.15.so\nSize:               1004 kB\nRss:                 120 kB\nPss:                  61 kB\nShared_Clean:         84 kB\nShared_Dirty:          0 kB\nPrivate_Clean:        36 kB\nPrivate_Dirty:         0 kB\nReferenced:          120 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ab80c000-7f89aba0b000 ---p 000fb000 ca:11 196257                     /lib/x86_64-linux-gnu/libm-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aba0b000-7f89aba0c000 r--p 000fa000 ca:11 196257                     /lib/x86_64-linux-gnu/libm-2.15.so\nSize:                  4 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  4 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aba0c000-7f89aba0d000 rw-p 000fb000 ca:11 196257                     /lib/x86_64-linux-gnu/libm-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aba0d000-7f89aba23000 r-xp 00000000 ca:11 195588                     /lib/x86_64-linux-gnu/libz.so.1.2.3.4\nSize:                 88 kB\nRss:                  16 kB\nPss:                   0 kB\nShared_Clean:         16 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           16 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89aba23000-7f89abc22000 ---p 00016000 ca:11 195588                     /lib/x86_64-linux-gnu/libz.so.1.2.3.4\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abc22000-7f89abc23000 r--p 00015000 ca:11 195588                     /lib/x86_64-linux-gnu/libz.so.1.2.3.4\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abc23000-7f89abc24000 rw-p 00016000 ca:11 195588                     /lib/x86_64-linux-gnu/libz.so.1.2.3.4\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abc24000-7f89abdc3000 r-xp 00000000 ca:11 195649                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\nSize:               1660 kB\nRss:                 608 kB\nPss:                  82 kB\nShared_Clean:        608 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:          608 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abdc3000-7f89abfc2000 ---p 0019f000 ca:11 195649                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abfc2000-7f89abfdd000 r--p 0019e000 ca:11 195649                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\nSize:                108 kB\nRss:                 104 kB\nPss:                 104 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:       104 kB\nReferenced:            4 kB\nSwap:                  4 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abfdd000-7f89abfe8000 rw-p 001b9000 ca:11 195649                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\nSize:                 44 kB\nRss:                  44 kB\nPss:                  44 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        44 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abfe8000-7f89abfec000 rw-p 00000000 00:00 0 \nSize:                 16 kB\nRss:                  16 kB\nPss:                  16 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        16 kB\nReferenced:            4 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89abfec000-7f89ac03e000 r-xp 00000000 ca:11 195648                     /lib/x86_64-linux-gnu/libssl.so.1.0.0\nSize:                328 kB\nRss:                 112 kB\nPss:                  26 kB\nShared_Clean:        112 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:          112 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac03e000-7f89ac23e000 ---p 00052000 ca:11 195648                     /lib/x86_64-linux-gnu/libssl.so.1.0.0\nSize:               2048 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac23e000-7f89ac241000 r--p 00052000 ca:11 195648                     /lib/x86_64-linux-gnu/libssl.so.1.0.0\nSize:                 12 kB\nRss:                  12 kB\nPss:                  12 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        12 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac241000-7f89ac247000 rw-p 00055000 ca:11 195648                     /lib/x86_64-linux-gnu/libssl.so.1.0.0\nSize:                 24 kB\nRss:                  24 kB\nPss:                  24 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:        24 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac247000-7f89ac248000 rw-p 00000000 00:00 0 \nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac248000-7f89ac24a000 r-xp 00000000 ca:11 196274                     /lib/x86_64-linux-gnu/libutil-2.15.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   0 kB\nShared_Clean:          8 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac24a000-7f89ac449000 ---p 00002000 ca:11 196274                     /lib/x86_64-linux-gnu/libutil-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac449000-7f89ac44a000 r--p 00001000 ca:11 196274                     /lib/x86_64-linux-gnu/libutil-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac44a000-7f89ac44b000 rw-p 00002000 ca:11 196274                     /lib/x86_64-linux-gnu/libutil-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac44b000-7f89ac44d000 r-xp 00000000 ca:11 196043                     /lib/x86_64-linux-gnu/libdl-2.15.so\nSize:                  8 kB\nRss:                   8 kB\nPss:                   0 kB\nShared_Clean:          8 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            8 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac44d000-7f89ac64d000 ---p 00002000 ca:11 196043                     /lib/x86_64-linux-gnu/libdl-2.15.so\nSize:               2048 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac64d000-7f89ac64e000 r--p 00002000 ca:11 196043                     /lib/x86_64-linux-gnu/libdl-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac64e000-7f89ac64f000 rw-p 00003000 ca:11 196043                     /lib/x86_64-linux-gnu/libdl-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         4 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac64f000-7f89ac667000 r-xp 00000000 ca:11 196133                     /lib/x86_64-linux-gnu/libpthread-2.15.so\nSize:                 96 kB\nRss:                  64 kB\nPss:                   2 kB\nShared_Clean:         64 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:           64 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac667000-7f89ac866000 ---p 00018000 ca:11 196133                     /lib/x86_64-linux-gnu/libpthread-2.15.so\nSize:               2044 kB\nRss:                   0 kB\nPss:                   0 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0 kB\nPrivate_Dirty:         0 kB\nReferenced:            0 kB\nSwap:                  0 kB\nKernelPageSize:        4 kB\nMMUPageSize:           4 kB\n7f89ac866000-7f89ac867000 r--p 00017000 ca:11 196133                     /lib/x86_64-linux-gnu/libpthread-2.15.so\nSize:                  4 kB\nRss:                   4 kB\nPss:                   4 kB\nShared_Clean:          0 kB\nShared_Dirty:          0 kB\nPrivate_Clean:         0\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/798", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/798/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/798/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/798/events", "html_url": "https://github.com/fabric/fabric/issues/798", "id": 9257486, "node_id": "MDU6SXNzdWU5MjU3NDg2", "number": 798, "title": "PATH issues in 1.5", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-12-13T16:34:47Z", "updated_at": "2012-12-13T18:15:44Z", "closed_at": "2012-12-13T18:15:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Handful of independent reports of folks upgrading to 1.5 and having `$PATH` issues. Betting some refactor or change to the context manager stuff is now setting, instead of appending to, the default `$PATH`.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/744", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/744/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/744/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/744/events", "html_url": "https://github.com/fabric/fabric/issues/744", "id": 7252384, "node_id": "MDU6SXNzdWU3MjUyMzg0", "number": 744, "title": "Handle network death during established connections", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-10-01T04:45:00Z", "updated_at": "2014-08-27T00:58:22Z", "closed_at": "2014-08-27T00:58:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Test case:\n- `fab -H remote_server -- sleep 15`.\n- Within 15 seconds, kill your workstation's wifi or Ethernet.\n- Observe that no exception ever raises, nor does the program ever exits. It simply never notices.\n\n---\n\nThis came to light initially during [this investigation](https://github.com/fabric/fabric/pull/733#discussion_r1691899) in #733. (So that change is _not_ the cause of this behavior -- it existed before.)\n\nIt's also mentioned in passing in #249. Furthermore, #647 (related to #249) has a timeout tweak to the SSH connection -- it's intended to allow timing out remote programs that never return, but I suspect it may work for _any_ \"haven't heard back from the remote end in some time!\" situation. Test this.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/736", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/736/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/736/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/736/events", "html_url": "https://github.com/fabric/fabric/issues/736", "id": 7140113, "node_id": "MDU6SXNzdWU3MTQwMTEz", "number": 736, "title": "Unexpected Behavior w/ prefix", "user": {"login": "matthewwithanm", "id": 126263, "node_id": "MDQ6VXNlcjEyNjI2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/126263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewwithanm", "html_url": "https://github.com/matthewwithanm", "followers_url": "https://api.github.com/users/matthewwithanm/followers", "following_url": "https://api.github.com/users/matthewwithanm/following{/other_user}", "gists_url": "https://api.github.com/users/matthewwithanm/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewwithanm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewwithanm/subscriptions", "organizations_url": "https://api.github.com/users/matthewwithanm/orgs", "repos_url": "https://api.github.com/users/matthewwithanm/repos", "events_url": "https://api.github.com/users/matthewwithanm/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewwithanm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-09-26T02:47:20Z", "updated_at": "2012-10-28T20:19:11Z", "closed_at": "2012-10-28T20:19:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `prefix` context manager (and probably others that are using `_setenv`) don't behave as expected when not called immediately prior to `__enter__()`.  This means that the context manager isn't usable with `contextlib.nested`.  Here's an example:\n\n``` python\nfrom contextlib import nested\nfrom fabric import prefix, state\nwith nested(prefix('echo 1'), prefix('echo 2')):\n    print state.env.command_prefixes\n```\n\nExpected Output:\n\n```\n['echo 1', 'echo 2']\n```\n\nActual Output:\n\n```\n['echo 2']\n```\n\nThe reason is because the new values are being stored at the time `prefix` is called\u2014not when the context is entered. So, in the example above, when `prefix` is called the first time, it defines the context manager as setting `command_prefixes` to the current value (`[]`) plus `['echo 1']`. When it's called the second time, the current value of `command_prefixes` is still an empty list (because the first context hasn't been entered yet), so the context manager is defined as setting `command_prefixes` to `['echo 2']`. Therefore, entering the second context manager clobbers any effect of entering the first.\n\nThe fix, I think, is to defer the getting of `command_prefixes` until the context is entered.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/732", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/732/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/732/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/732/events", "html_url": "https://github.com/fabric/fabric/issues/732", "id": 6953914, "node_id": "MDU6SXNzdWU2OTUzOTE0", "number": 732, "title": "eq_ syntax in nose tests is used the other way round", "user": {"login": "octplane", "id": 22177, "node_id": "MDQ6VXNlcjIyMTc3", "avatar_url": "https://avatars.githubusercontent.com/u/22177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/octplane", "html_url": "https://github.com/octplane", "followers_url": "https://api.github.com/users/octplane/followers", "following_url": "https://api.github.com/users/octplane/following{/other_user}", "gists_url": "https://api.github.com/users/octplane/gists{/gist_id}", "starred_url": "https://api.github.com/users/octplane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/octplane/subscriptions", "organizations_url": "https://api.github.com/users/octplane/orgs", "repos_url": "https://api.github.com/users/octplane/repos", "events_url": "https://api.github.com/users/octplane/events{/privacy}", "received_events_url": "https://api.github.com/users/octplane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-09-18T14:14:04Z", "updated_at": "2015-12-07T06:24:48Z", "closed_at": "2015-12-07T06:24:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nWhile playing with the tests, I've noticed that the `eq_` (and probably others tests) are written in the wrong order in the tests. For example:\n\n```\n        eq_(expected[1:], sys.stdall.getvalue())\n```\n\nin test_network.py should be written as:\n\n```\n       eq_(sys.stdall.getvalue(), expected[1:])\n```\n\nSo as to give a correct output when the tests fails (or else developers might be confused an believe the expected result is bogus and their code does something 'right' :D)\n\nMinor stuff, though.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/726", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/726/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/726/events", "html_url": "https://github.com/fabric/fabric/issues/726", "id": 6816386, "node_id": "MDU6SXNzdWU2ODE2Mzg2", "number": 726, "title": "put does weird things with subdirectory names when putting from windows to linux", "user": {"login": "hiredgunhouse", "id": 173206, "node_id": "MDQ6VXNlcjE3MzIwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/173206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hiredgunhouse", "html_url": "https://github.com/hiredgunhouse", "followers_url": "https://api.github.com/users/hiredgunhouse/followers", "following_url": "https://api.github.com/users/hiredgunhouse/following{/other_user}", "gists_url": "https://api.github.com/users/hiredgunhouse/gists{/gist_id}", "starred_url": "https://api.github.com/users/hiredgunhouse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hiredgunhouse/subscriptions", "organizations_url": "https://api.github.com/users/hiredgunhouse/orgs", "repos_url": "https://api.github.com/users/hiredgunhouse/repos", "events_url": "https://api.github.com/users/hiredgunhouse/events{/privacy}", "received_events_url": "https://api.github.com/users/hiredgunhouse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-09-12T12:05:34Z", "updated_at": "2015-12-07T01:06:14Z", "closed_at": "2015-12-07T01:06:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a folder with files and subfolders and I try to put it this way from a Windows (Windows 7) machine to a Linux machine (Ubuntu 12.04):\nput('c:\\App\", \"/home/user/App\")\nbut it does weird things to subfolders inside c:\\App, say I have a folder c:\\App\\Inner then put will create /home/user/App/\\Inner !!!\nNote the extra \\ character in the name of the folder.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/713", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/713/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/713/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/713/events", "html_url": "https://github.com/fabric/fabric/issues/713", "id": 6408086, "node_id": "MDU6SXNzdWU2NDA4MDg2", "number": 713, "title": "put() mv requires confirmation on FreeBSD", "user": {"login": "vitek", "id": 489439, "node_id": "MDQ6VXNlcjQ4OTQzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/489439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitek", "html_url": "https://github.com/vitek", "followers_url": "https://api.github.com/users/vitek/followers", "following_url": "https://api.github.com/users/vitek/following{/other_user}", "gists_url": "https://api.github.com/users/vitek/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitek/subscriptions", "organizations_url": "https://api.github.com/users/vitek/orgs", "repos_url": "https://api.github.com/users/vitek/repos", "events_url": "https://api.github.com/users/vitek/events{/privacy}", "received_events_url": "https://api.github.com/users/vitek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}, {"id": 156638824, "node_id": "MDU6TGFiZWwxNTY2Mzg4MjQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-08-23T13:22:59Z", "updated_at": "2015-12-07T01:16:03Z", "closed_at": "2015-12-07T01:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\n\nSometimes (owner missmatch) mv tool requires a confirmation. It's better to do mv -f in this case cause otherwise fabric hangs.\n\n```\n[vitja@ad1 ~]$ mv 764ae8e63de6f7924f8ca158704bc08fb7ad4b4a /usr2/ban_sys/bin/httpd\noverride rwxr-xr-x  bsbot/bsbot for /usr2/ban_sys/bin/httpd? (y/n [n]) ^C\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/703", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/703/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/703/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/703/events", "html_url": "https://github.com/fabric/fabric/pull/703", "id": 6178141, "node_id": "MDExOlB1bGxSZXF1ZXN0MjExMTc5NA==", "number": 703, "title": "contrib.files.append([...], use_sudo_=True) does not work with 'cd()' ctx manager", "user": {"login": "mikek", "id": 88083, "node_id": "MDQ6VXNlcjg4MDgz", "avatar_url": "https://avatars.githubusercontent.com/u/88083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikek", "html_url": "https://github.com/mikek", "followers_url": "https://api.github.com/users/mikek/followers", "following_url": "https://api.github.com/users/mikek/following{/other_user}", "gists_url": "https://api.github.com/users/mikek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikek/subscriptions", "organizations_url": "https://api.github.com/users/mikek/orgs", "repos_url": "https://api.github.com/users/mikek/repos", "events_url": "https://api.github.com/users/mikek/events{/privacy}", "received_events_url": "https://api.github.com/users/mikek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-08-12T16:33:39Z", "updated_at": "2014-06-22T14:11:42Z", "closed_at": "2013-01-25T07:29:42Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/703", "html_url": "https://github.com/fabric/fabric/pull/703", "diff_url": "https://github.com/fabric/fabric/pull/703.diff", "patch_url": "https://github.com/fabric/fabric/pull/703.patch", "merged_at": null}, "body": "``` python\nwith settings(user=some_user), cd('/home/some_user'):\n    append('.ssh/authorized_keys', key, partial=True, use_sudo=use_sudo)\n```\n\nThis code silently duplicates existing key in a checked file. The full resulting command is:\n\n```\nsudo -S -p 'sudo password:'  cd /home/some_user && egrep \"^ssh\\-rsa\\ AAAAB3Nza[...]jN\\+v7w\\=\\=\" \".ssh/authorized_keys\"\n```\n\n(as returned by _shell_wrap() call) The problem is: normally, there is no standalone 'cd' command in UNIX, as it is a shell built-in. And ommiting context manager `#with settings(hide('everything'), warn_only=True):` at the end of `contains()` reveals that.\n\nQuick test to use `shell=True` in the final call inside `contains()` fixes that, but possibly has other side-effects.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/703/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/701", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/701/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/701/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/701/events", "html_url": "https://github.com/fabric/fabric/issues/701", "id": 6056910, "node_id": "MDU6SXNzdWU2MDU2OTEw", "number": 701, "title": "Sudo() captures incorrect output when user initially enters wrong password", "user": {"login": "egmanoj", "id": 166116, "node_id": "MDQ6VXNlcjE2NjExNg==", "avatar_url": "https://avatars.githubusercontent.com/u/166116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egmanoj", "html_url": "https://github.com/egmanoj", "followers_url": "https://api.github.com/users/egmanoj/followers", "following_url": "https://api.github.com/users/egmanoj/following{/other_user}", "gists_url": "https://api.github.com/users/egmanoj/gists{/gist_id}", "starred_url": "https://api.github.com/users/egmanoj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egmanoj/subscriptions", "organizations_url": "https://api.github.com/users/egmanoj/orgs", "repos_url": "https://api.github.com/users/egmanoj/repos", "events_url": "https://api.github.com/users/egmanoj/events{/privacy}", "received_events_url": "https://api.github.com/users/egmanoj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-08-06T17:13:44Z", "updated_at": "2015-12-07T06:24:16Z", "closed_at": "2015-12-07T06:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following sudo call using Fabric:\n\n``` python\ndef ls():\n    output = sudo('ls /tmp/', user = 'someone', shell = True)\n    print \"Output:\", output\n```\n\nExecute this using fab and enter a _wrong_ password the first time you are prompted by sudo. You'll see an error message and sudo will ask you for your password again. Enter the correct password the second time. The session looks something like this:\n\n``` shell\n$ fab ls\n[user@server] Executing task 'ls'\n[user@server] sudo: ls /tmp/\n[user@server] out: sudo password: \n\n[user@server] out: Sorry, try again.\n[user@server] out: sudo password: \n\n[user@server] out: hsperfdata_someone\n\nOutput: Sorry, try again.\n\nDone.\n```\n\nNote how the value of output is the first message printed by sudo when the wrong password is entered (\"Sorry, try again.\"). It doesn't contain the subsequent correct output (\"hsperfdata_someone\").\n\nPS: I asked this as a question in StackOverflow and didn't get any answers. Feel free to reject this if I'm doing something wrong. \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/690", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/690/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/690/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/690/events", "html_url": "https://github.com/fabric/fabric/issues/690", "id": 5755846, "node_id": "MDU6SXNzdWU1NzU1ODQ2", "number": 690, "title": "env.host not set", "user": {"login": "offlinehacker", "id": 585547, "node_id": "MDQ6VXNlcjU4NTU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/585547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/offlinehacker", "html_url": "https://github.com/offlinehacker", "followers_url": "https://api.github.com/users/offlinehacker/followers", "following_url": "https://api.github.com/users/offlinehacker/following{/other_user}", "gists_url": "https://api.github.com/users/offlinehacker/gists{/gist_id}", "starred_url": "https://api.github.com/users/offlinehacker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/offlinehacker/subscriptions", "organizations_url": "https://api.github.com/users/offlinehacker/orgs", "repos_url": "https://api.github.com/users/offlinehacker/repos", "events_url": "https://api.github.com/users/offlinehacker/events{/privacy}", "received_events_url": "https://api.github.com/users/offlinehacker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-07-21T20:00:31Z", "updated_at": "2012-07-30T17:31:42Z", "closed_at": "2012-07-27T00:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Env.host not set when fabfile called using fab without env.hosts specified in fab file.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/681", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/681/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/681/events", "html_url": "https://github.com/fabric/fabric/issues/681", "id": 5581797, "node_id": "MDU6SXNzdWU1NTgxNzk3", "number": 681, "title": "Global parallelization doesn't play nice with @runs_once?", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-07-12T20:54:31Z", "updated_at": "2015-12-06T22:34:50Z", "closed_at": "2012-07-16T17:06:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Haven't looked but suspect this is simply because the parallel machinery is unaware of `@runs_once` and so by the time `@runs_once`'s memoization implementation kicks in, it's already inside its own multiprocessing subprocess, and so of course the reliance on shared state for memoization to function, means it runs once per host.\n\nAssuming that's accurate, make the parallel machinery aware of `@runs_once`'s desired behavior, either by looking for an existing attribute, or adding a 'hint' in `@runs_once`'s implementation and look for that.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/680", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/680/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/680/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/680/events", "html_url": "https://github.com/fabric/fabric/issues/680", "id": 5565408, "node_id": "MDU6SXNzdWU1NTY1NDA4", "number": 680, "title": "Allow env.user to be overridden with --user=username", "user": {"login": "kitsunde", "id": 48965, "node_id": "MDQ6VXNlcjQ4OTY1", "avatar_url": "https://avatars.githubusercontent.com/u/48965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kitsunde", "html_url": "https://github.com/kitsunde", "followers_url": "https://api.github.com/users/kitsunde/followers", "following_url": "https://api.github.com/users/kitsunde/following{/other_user}", "gists_url": "https://api.github.com/users/kitsunde/gists{/gist_id}", "starred_url": "https://api.github.com/users/kitsunde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kitsunde/subscriptions", "organizations_url": "https://api.github.com/users/kitsunde/orgs", "repos_url": "https://api.github.com/users/kitsunde/repos", "events_url": "https://api.github.com/users/kitsunde/events{/privacy}", "received_events_url": "https://api.github.com/users/kitsunde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2012-07-12T06:27:00Z", "updated_at": "2014-08-26T00:21:16Z", "closed_at": "2014-08-26T00:21:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "For deployment we have one user `deploy` which is the one that is used 99% of the time that isn't a superuser, but then we also have setup tasks that require sudo like copying settings files. So running:\n\n```\n fab setup -R:staging\n```\n\nfails. I attempted to do:\n\n```\nfab -u root setup -R:staging\n```\n\nwhich didn't seem to actually override the `env.user` which wasn't immediately expected or obvious. As a workaround I could use a context manager with `settings(user=user)` and do `fab setup:root -R:staging`. However it seems that it would make sense that if someone explicitly provides a user on the command line it should override the default global settings of the fabfile.\n\nPS: Thanks for a great piece of software!\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/649", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/649/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/649/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/649/events", "html_url": "https://github.com/fabric/fabric/issues/649", "id": 4701475, "node_id": "MDU6SXNzdWU0NzAxNDc1", "number": 649, "title": "Exceptions don't trigger aborts in parallel mode", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-05-22T22:43:15Z", "updated_at": "2013-10-11T19:00:23Z", "closed_at": "2012-05-23T00:39:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have code in place to `abort()` when any child processes in parallel mode encounter exceptions / return nonzero return codes. However, this doesn't appear to be working, a user noticed EOFErrors in parallel children under Jenkins wasn't failing the build. I verified this on my end.\n\nWriting a test to hit this now, then will see what the actual bug is.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/642", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/642/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/642/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/642/events", "html_url": "https://github.com/fabric/fabric/issues/642", "id": 4559413, "node_id": "MDU6SXNzdWU0NTU5NDEz", "number": 642, "title": "TypeError on agent forward with no local agent", "user": {"login": "yvmarques", "id": 176204, "node_id": "MDQ6VXNlcjE3NjIwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/176204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yvmarques", "html_url": "https://github.com/yvmarques", "followers_url": "https://api.github.com/users/yvmarques/followers", "following_url": "https://api.github.com/users/yvmarques/following{/other_user}", "gists_url": "https://api.github.com/users/yvmarques/gists{/gist_id}", "starred_url": "https://api.github.com/users/yvmarques/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yvmarques/subscriptions", "organizations_url": "https://api.github.com/users/yvmarques/orgs", "repos_url": "https://api.github.com/users/yvmarques/repos", "events_url": "https://api.github.com/users/yvmarques/events{/privacy}", "received_events_url": "https://api.github.com/users/yvmarques/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2012-05-14T08:47:07Z", "updated_at": "2014-09-22T18:05:41Z", "closed_at": "2014-09-22T18:05:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Editor's note:** below traceback due to user not having a running agent. See about setting up a try/except which (probably) still raises the exception, but adds an explicit note/warning like \"Check to make sure your agent is running.\"\n\n---\n\nI'm trying to send a file from a remote server to another one. Both servers have the public key of the user.\n\nHere is my task\n\n``` python\n@task\ndef send_file():\n        run(\"touch test.send\")\n        run(\"scp test.send user@server3:\")\n```\n\nHere is my fab command\n\n`fab -A -H server2 send_file`\n\nAnd then I've this backtrace\n\n``` bash\nException in thread Thread-2:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/usr/local/lib/python2.7/dist-packages/ssh/agent.py\", line 115, in run\n    self._communicate()\n  File \"/usr/local/lib/python2.7/dist-packages/ssh/agent.py\", line 125, in _communicate\n    events = select([self._agent._conn, self.__inr], [], [], 0.5)\nTypeError: argument must be an int, or have a fileno() method.\n```\n\n```\nfab --version\nFabric 1.4.2\nssh (library) 1.7.14\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/640", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/640/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/640/events", "html_url": "https://github.com/fabric/fabric/issues/640", "id": 4515737, "node_id": "MDU6SXNzdWU0NTE1NzM3", "number": 640, "title": "fabric-1.4.2 release incomplete docs content.", "user": {"login": "idella", "id": 1655078, "node_id": "MDQ6VXNlcjE2NTUwNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1655078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/idella", "html_url": "https://github.com/idella", "followers_url": "https://api.github.com/users/idella/followers", "following_url": "https://api.github.com/users/idella/following{/other_user}", "gists_url": "https://api.github.com/users/idella/gists{/gist_id}", "starred_url": "https://api.github.com/users/idella/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/idella/subscriptions", "organizations_url": "https://api.github.com/users/idella/orgs", "repos_url": "https://api.github.com/users/idella/repos", "events_url": "https://api.github.com/users/idella/events{/privacy}", "received_events_url": "https://api.github.com/users/idella/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-05-10T15:35:23Z", "updated_at": "2012-05-17T15:28:52Z", "closed_at": "2012-05-16T22:31:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "From the released tarball.\n\narchtester fabric # ls /mnt/gen2/TmpDir/portage/dev-python/fabric-1.4.2//work/Fabric-1.4.2/docs/\n\napi  changelog.rst  development.rst  faq.rst  index.rst  installation.rst  roadmap.rst  tutorial.rst  usage\n\nFiles conf.py, Makefile and folders _static and _templates from github not included.\nSuch a number makes wonder if  the docs were not intended for building.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/616", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/616/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/616/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/616/events", "html_url": "https://github.com/fabric/fabric/issues/616", "id": 4076882, "node_id": "MDU6SXNzdWU0MDc2ODgy", "number": 616, "title": "Add port number to low level connection error messages", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-12T01:15:56Z", "updated_at": "2012-04-12T01:16:55Z", "closed_at": "2012-04-12T01:16:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Useful for troubleshooting local multi-VM connection problems, or any other situation where knowing the actual port Fabric was trying to talk to is critical to debugging.\n\nClassifying this as a bug due to its low impact and usefulness in troubleshooting.\n\nTangentially related to #575.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/614", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/614/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/614/events", "html_url": "https://github.com/fabric/fabric/issues/614", "id": 4074229, "node_id": "MDU6SXNzdWU0MDc0MjI5", "number": 614, "title": "NetworkError bubbles to top by default on cxn errors", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-04-11T21:48:16Z", "updated_at": "2012-04-11T21:56:19Z", "closed_at": "2012-04-11T21:56:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "NetworkError is not being properly masked/handled for e.g. low level socket errors / connection problems, even in default settings when `env.use_exceptions_for['network']` should be False. Fix this.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/611", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/611/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/611/events", "html_url": "https://github.com/fabric/fabric/issues/611", "id": 4027234, "node_id": "MDU6SXNzdWU0MDI3MjM0", "number": 611, "title": "Ignoring user and port defined in SSH configuration (~/.ssh/config)", "user": {"login": "xdml", "id": 1033684, "node_id": "MDQ6VXNlcjEwMzM2ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1033684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xdml", "html_url": "https://github.com/xdml", "followers_url": "https://api.github.com/users/xdml/followers", "following_url": "https://api.github.com/users/xdml/following{/other_user}", "gists_url": "https://api.github.com/users/xdml/gists{/gist_id}", "starred_url": "https://api.github.com/users/xdml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xdml/subscriptions", "organizations_url": "https://api.github.com/users/xdml/orgs", "repos_url": "https://api.github.com/users/xdml/repos", "events_url": "https://api.github.com/users/xdml/events{/privacy}", "received_events_url": "https://api.github.com/users/xdml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-04-09T09:41:58Z", "updated_at": "2013-03-01T17:44:27Z", "closed_at": "2013-03-01T17:44:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Because of the environment I work in, I am forced to use different ports on different hosts. For covering it I set it up using my SSH configuration, so I can ssh in without providing port all the time.\n\nIf I configure fabric to use ssh configuration, then it works on the first host only. Before making connection to the host it executes fabric.network.normalize(host_string) function where tuple of (user, host, port) is defined.\n\nFor the first host it works as expected, as the env.port and env.user is not modified, than it executes the task for the host and during it env.user and env.port are changed to values from the tuple. So for next host, it ignores settings from my SSH configuration as env.port and env.user have been changed.\n\nI am not providing you with the patch, because of the comment I can see inside the function. Rather now I am overriding the function in my fabfile and want to open discussion how to solve this issue as the env.user and env.port change all time. My suggestions are:\n1/ Do not compere env.user with env.local_user and env.port with env.default_port,\n2/ Execute fabric.network.normalize() at the start for all hosts, before env.port and env.user is changed.\n\n``` python\ndef normalize(host_string, omit_port=False):\n    \"\"\"\n    Normalizes a given host string, returning explicit host, user, port.\n\n    If ``omit_port`` is given and is True, only the host and user are returned.\n\n    This function will process SSH config files if Fabric is configured to do\n    so, and will use them to fill in some default values or swap in hostname\n    aliases.\n    \"\"\"\n    from fabric.state import env\n    # Gracefully handle \"empty\" input by returning empty output\n    if not host_string:\n        return ('', '') if omit_port else ('', '', '')\n    # Parse host string (need this early on to look up host-specific ssh_config\n    # values)\n    r = parse_host_string(host_string)\n    host = r['host']\n    # Env values (using defaults if somehow earlier defaults were replaced with\n    # empty values)\n    user = env.user or env.local_user\n    port = env.port or env.default_port\n    # SSH config data\n    conf = ssh_config(host_string)\n    # Only use ssh_config values if the env value appears unmodified from\n    # the true defaults. If the user has tweaked them, that new value\n    # takes precedence.\n    if user == env.local_user and 'user' in conf:\n        user = conf['user']\n    if port == env.default_port and 'port' in conf:\n        port = conf['port']\n    # Also override host if needed\n    if 'hostname' in conf:\n        host = conf['hostname']\n    # Merge explicit user/port values with the env/ssh_config derived ones\n    # (Host is already done at this point.)\n    user = r['user'] or user\n    port = r['port'] or port\n    if omit_port:\n        return user, host\n    return user, host, port\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/608", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/608/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/608/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/608/events", "html_url": "https://github.com/fabric/fabric/issues/608", "id": 3981086, "node_id": "MDU6SXNzdWUzOTgxMDg2", "number": 608, "title": "Control capturing in rsync_project", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-05T00:08:25Z", "updated_at": "2012-04-05T00:14:55Z", "closed_at": "2012-04-05T00:14:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`contrib.project.rsync_project` can't control whether its `local` call to rsync captures or doesn't capture, so right now it uses the default behavior -- not capturing.\n\nHowever, when combined with `hide('stdout', 'stderr')` or any combo thereof, this means it's impossible to debug rsync problems, because noncaptured local + output hiding == pipe to stderr.\n\nMake it possible to fix this by adding a passthrough `capture` kwarg to `rsync_project`.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/607", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/607/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/607/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/607/events", "html_url": "https://github.com/fabric/fabric/issues/607", "id": 3981069, "node_id": "MDU6SXNzdWUzOTgxMDY5", "number": 607, "title": "Improved debug output for local() on error", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-05T00:06:45Z", "updated_at": "2012-04-05T00:14:55Z", "closed_at": "2012-04-05T00:14:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`error()` grew the ability to print stdout/stderr a while ago but `local` doesn't take advantage of it (even barring the fact that when it's in the default non-capture mode, there is nothing to print.) So it's impossible to see what broke when a `local` call inside a `hide` block fails.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/607/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/600", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/600/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/600/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/600/events", "html_url": "https://github.com/fabric/fabric/issues/600", "id": 3901273, "node_id": "MDU6SXNzdWUzOTAxMjcz", "number": 600, "title": "Parallel-mode hanging instead of running tasks", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 60485190, "node_id": "MDU6TGFiZWw2MDQ4NTE5MA==", "url": "https://api.github.com/repos/fabric/fabric/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/25", "html_url": "https://github.com/fabric/fabric/milestone/25", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/25/labels", "id": 745292, "node_id": "MDk6TWlsZXN0b25lNzQ1Mjky", "number": 25, "title": "1.7.5 et al", "description": "Last 1.7 release, maybe also last 1.8 release if we put out a 1.10.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-06T18:07:31Z", "updated_at": "2014-08-26T00:24:49Z", "due_on": null, "closed_at": "2014-08-26T00:24:37Z"}, "comments": 15, "created_at": "2012-03-30T17:06:02Z", "updated_at": "2014-08-06T20:23:25Z", "closed_at": "2014-08-06T20:23:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Original comment by @lruslan from #568 follows. I've seen related reports on IRC with no useful debugging; didn't see other recent tickets but some might be out there.\n\n---\n\nHi , have weird problem with Fabric 1.4.0 seem it has some relation to current thread.  I need to execute different type of subtasks inside single fabric task. Some of them need to be run in serial mode others in parallel. And when I execute parallel task after serial it make fabric stuck in limbo state. Maybe someone can point me if it's already know issue, or I do something wrong here, otherwise I need open issue request. Thats example of code I use http://pastie.org/private/4p6n4301c1hscwgjm2zva and here debug output I receive when do call fab --show debug --fabfile=test.py main  http://pastie.org/private/xth5kr5cm3jpx3yzc2waa\n\n``` python\n_HOSTS = [ \"friendslowslave4\", \"friendslowslave5\" ] \n\n@task\ndef showHostnameSerial():\n    cmd = \"hostname\"\n    if run(cmd).failed:\n        return True\n    return False\n\n@task\n@parallel\ndef showHostnameParallel():\n    cmd = \"hostname\"\n    if sudo(cmd).failed:\n        return True\n    return False\n\n@task\ndef main(): \n    results = execute(showHostnameSerial, hosts=_HOSTS)\n    print results\n    results = execute(showHostnameParallel, hosts=_HOSTS)\n    print results\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/599", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/599/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/599/events", "html_url": "https://github.com/fabric/fabric/issues/599", "id": 3887756, "node_id": "MDU6SXNzdWUzODg3NzU2", "number": 599, "title": "Shell escaping for the run command does not work under C shells", "user": {"login": "constfun", "id": 339051, "node_id": "MDQ6VXNlcjMzOTA1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/339051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/constfun", "html_url": "https://github.com/constfun", "followers_url": "https://api.github.com/users/constfun/followers", "following_url": "https://api.github.com/users/constfun/following{/other_user}", "gists_url": "https://api.github.com/users/constfun/gists{/gist_id}", "starred_url": "https://api.github.com/users/constfun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/constfun/subscriptions", "organizations_url": "https://api.github.com/users/constfun/orgs", "repos_url": "https://api.github.com/users/constfun/repos", "events_url": "https://api.github.com/users/constfun/events{/privacy}", "received_events_url": "https://api.github.com/users/constfun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-03-29T20:48:07Z", "updated_at": "2015-12-07T01:06:07Z", "closed_at": "2015-12-07T01:06:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "`run` parses the command and escapes \" and $ characters with a backslash.\n\n``` python\nrun('''echo 'mysetting = \"myvalue\"' >> myfile.conf''')\n```\n\nBecomes\n\n``` bash\n/bin/bash -c \"echo 'mysetting = \\\"myvalue\\\" >> myfile.conf\"\n```\n\nThis escaping works fine if the login shell for the connecting user is a Bourne shell.\nThis will not work under a C shell.\n\nHere is the legal way to \"escape\" this under a C shell. This actually concatenates several strings.\n\n``` csh\n/bin/bash -c \"echo 'mysetting = \"'\"'\"myvalue\"'\"'\"' >> myfile.conf\"\n```\n\n```\n\"echo 'mysetting =\"  + '\"' + \"myvalue\" + '\"' + \"' >> myfile.conf\"\n```\n\nSee http://www.grymoire.com/Unix/Quote.html#uh-8\n\n```\necho \"The word for today is \\\"TGIF\\\"\"\necho 'Don\\'t quote me'\n...\nThe first example works with the Bourne shell, but not the C shell.\n```\n\nThe workaround is to use `env.use_shell = False`, or to supply `shell=False` to the `run` command.\n\nRelated: #598\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/587", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/587/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/587/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/587/events", "html_url": "https://github.com/fabric/fabric/issues/587", "id": 3629111, "node_id": "MDU6SXNzdWUzNjI5MTEx", "number": 587, "title": "Gracefully fail when env.use_ssh_config == True but there is no config file", "user": {"login": "rbp", "id": 26295, "node_id": "MDQ6VXNlcjI2Mjk1", "avatar_url": "https://avatars.githubusercontent.com/u/26295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbp", "html_url": "https://github.com/rbp", "followers_url": "https://api.github.com/users/rbp/followers", "following_url": "https://api.github.com/users/rbp/following{/other_user}", "gists_url": "https://api.github.com/users/rbp/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbp/subscriptions", "organizations_url": "https://api.github.com/users/rbp/orgs", "repos_url": "https://api.github.com/users/rbp/repos", "events_url": "https://api.github.com/users/rbp/events{/privacy}", "received_events_url": "https://api.github.com/users/rbp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-03-13T13:26:26Z", "updated_at": "2013-02-27T19:36:09Z", "closed_at": "2013-02-27T19:36:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "If env.use_ssh_config is True, Fabric tries to load the env.ssh_config_path. However, if that is not set, or if the config file is not present, fabric aborts.\n\nIt would be very handy to be have env.use_ssh_config gracefully fall back to returning an empty dict when there is no config file available, just like ssh would behave (i.e., use config file if available, otherwise carry on with defaults).\n\nIf this makes sense, I'll be glad to provide a patch (even if it turns out not to be as trivial as it seems).\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/581", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/581/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/581/events", "html_url": "https://github.com/fabric/fabric/issues/581", "id": 3590261, "node_id": "MDU6SXNzdWUzNTkwMjYx", "number": 581, "title": "In parallel mode env.host contains port specification", "user": {"login": "max-arnold", "id": 370942, "node_id": "MDQ6VXNlcjM3MDk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/370942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/max-arnold", "html_url": "https://github.com/max-arnold", "followers_url": "https://api.github.com/users/max-arnold/followers", "following_url": "https://api.github.com/users/max-arnold/following{/other_user}", "gists_url": "https://api.github.com/users/max-arnold/gists{/gist_id}", "starred_url": "https://api.github.com/users/max-arnold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/max-arnold/subscriptions", "organizations_url": "https://api.github.com/users/max-arnold/orgs", "repos_url": "https://api.github.com/users/max-arnold/repos", "events_url": "https://api.github.com/users/max-arnold/events{/privacy}", "received_events_url": "https://api.github.com/users/max-arnold/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2012-03-09T21:43:06Z", "updated_at": "2013-01-23T03:56:17Z", "closed_at": "2013-01-23T03:30:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there any reason why env.host contains full host_string when fabric runs in parallel mode?  Consider an example:\n\n``` python\nfrom fabric.api import *\n\ndef task():\n    print env.host, env.port\n```\n\nSingle process:\n\n``` bash\n$ fab -H example.com:12345 task\n\n[example.com:12345] Executing task 'task'\nexample.com 12345\n```\n\nParallel mode:\n\n``` bash\n$ fab -P -H example.com:12345 task\n\n[example.com:12345] Executing task 'task'\nexample.com:12345 12345\n```\n\nIn fabric tasks I often match env.host and env.port against env.roledefs to distinguish between staging/production servers and this pattern breaks in parallel mode (at least with Fabric 1.4). Documentation says it should contain hostname only:\n\n```\nhost\nDefault: None\n\nSet to the hostname part of env.host_string by fab.\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/576", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/576/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/576/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/576/events", "html_url": "https://github.com/fabric/fabric/issues/576", "id": 3554996, "node_id": "MDU6SXNzdWUzNTU0OTk2", "number": 576, "title": "Update doc re: rsync user (was: Allow rsync as a specific user)", "user": {"login": "greylurk", "id": 515023, "node_id": "MDQ6VXNlcjUxNTAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/515023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greylurk", "html_url": "https://github.com/greylurk", "followers_url": "https://api.github.com/users/greylurk/followers", "following_url": "https://api.github.com/users/greylurk/following{/other_user}", "gists_url": "https://api.github.com/users/greylurk/gists{/gist_id}", "starred_url": "https://api.github.com/users/greylurk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greylurk/subscriptions", "organizations_url": "https://api.github.com/users/greylurk/orgs", "repos_url": "https://api.github.com/users/greylurk/repos", "events_url": "https://api.github.com/users/greylurk/events{/privacy}", "received_events_url": "https://api.github.com/users/greylurk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-03-08T02:08:35Z", "updated_at": "2015-12-07T06:23:17Z", "closed_at": "2015-12-07T06:23:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Docstring for `rsync_project` should mention how we automatically use the current connection's user argument, it's confusing as-is.\n\nOriginal post:\n\n> It doesn't appear as though there is any way to perform rsync_project as a specific user (i.e. duplicate the local command \"rsync src/\\* username@hostname:/opt/application/\").  The rsync_project supports ssh_opts and rsync_opts, but neither of them appear to allow you to specify a remote user.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/576/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/571", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/571/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/571/events", "html_url": "https://github.com/fabric/fabric/issues/571", "id": 3406198, "node_id": "MDU6SXNzdWUzNDA2MTk4", "number": 571, "title": "Extremelly slow get(...) call", "user": {"login": "JensRantil", "id": 730342, "node_id": "MDQ6VXNlcjczMDM0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/730342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JensRantil", "html_url": "https://github.com/JensRantil", "followers_url": "https://api.github.com/users/JensRantil/followers", "following_url": "https://api.github.com/users/JensRantil/following{/other_user}", "gists_url": "https://api.github.com/users/JensRantil/gists{/gist_id}", "starred_url": "https://api.github.com/users/JensRantil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JensRantil/subscriptions", "organizations_url": "https://api.github.com/users/JensRantil/orgs", "repos_url": "https://api.github.com/users/JensRantil/repos", "events_url": "https://api.github.com/users/JensRantil/events{/privacy}", "received_events_url": "https://api.github.com/users/JensRantil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2012-02-27T19:08:42Z", "updated_at": "2013-10-11T22:21:42Z", "closed_at": "2013-10-11T22:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am experiencing an extremelly slow `get(src, dst)` execution. Fabric seems to be copying with the speed of around 300 kB/s while a copy using `scp` reaches a speed of around 10 MB/s (without compression).\n\nCould anyone help me in debugging this issue further?\n\nFurther information:\n- load is relativelly low on both machines\n- the machines seem to be reading and writing to disc equally much.\n- network bandwidth does not seem to be the bottleneck.\n- I am using a public key for authentication.\n- Probably worked a month ago or so.\n- Running Fabric 1.4.0. I've experienced this problem also with an earlier version (1.2.2?) but am not exactly sure which version that was.\n\nI guess I can work around this issue by executing `local(\"scp <src> <dst>\");`. This is probably how I will solve it until another fix presents itself.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/569", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/569/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/569/events", "html_url": "https://github.com/fabric/fabric/issues/569", "id": 3388865, "node_id": "MDU6SXNzdWUzMzg4ODY1", "number": 569, "title": "@task decorator causes Sphinx autodoc to lose fuction signature", "user": {"login": "mattaustin", "id": 426026, "node_id": "MDQ6VXNlcjQyNjAyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/426026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattaustin", "html_url": "https://github.com/mattaustin", "followers_url": "https://api.github.com/users/mattaustin/followers", "following_url": "https://api.github.com/users/mattaustin/following{/other_user}", "gists_url": "https://api.github.com/users/mattaustin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattaustin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattaustin/subscriptions", "organizations_url": "https://api.github.com/users/mattaustin/orgs", "repos_url": "https://api.github.com/users/mattaustin/repos", "events_url": "https://api.github.com/users/mattaustin/events{/privacy}", "received_events_url": "https://api.github.com/users/mattaustin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2012-02-26T02:52:00Z", "updated_at": "2012-11-01T23:37:35Z", "closed_at": "2012-11-01T22:01:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the @task decorator in a fabfile, Sphinx autodoc does not generate the function signature. The docstring is passed correctly, but the args and kwargs are lost.\n\nSome unsuccessful workarounds were attempted at http://stackoverflow.com/questions/8845195/using-sphinx-autodoc-for-a-fabfile, but no solution was found.\n\nThis also looks like it could be similar to an issue reported in 2009 regarding the @needs_host decorator, which I found on the fab-user mailing list: http://lists.gnu.org/archive/html/fab-user/2009-09/msg00026.html\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/568", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/568/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/568/events", "html_url": "https://github.com/fabric/fabric/issues/568", "id": 3372958, "node_id": "MDU6SXNzdWUzMzcyOTU4", "number": 568, "title": "execute() on different host does not change back to original host when done", "user": {"login": "jsdalton", "id": 235836, "node_id": "MDQ6VXNlcjIzNTgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/235836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsdalton", "html_url": "https://github.com/jsdalton", "followers_url": "https://api.github.com/users/jsdalton/followers", "following_url": "https://api.github.com/users/jsdalton/following{/other_user}", "gists_url": "https://api.github.com/users/jsdalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsdalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsdalton/subscriptions", "organizations_url": "https://api.github.com/users/jsdalton/orgs", "repos_url": "https://api.github.com/users/jsdalton/repos", "events_url": "https://api.github.com/users/jsdalton/events{/privacy}", "received_events_url": "https://api.github.com/users/jsdalton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/23", "html_url": "https://github.com/fabric/fabric/milestone/23", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/23/labels", "id": 84073, "node_id": "MDk6TWlsZXN0b25lODQwNzM=", "number": 23, "title": "1.3.6", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2012-02-14T06:33:21Z", "updated_at": "2012-04-05T04:13:07Z", "due_on": null, "closed_at": "2012-03-30T17:07:46Z"}, "comments": 18, "created_at": "2012-02-24T14:18:33Z", "updated_at": "2012-03-30T17:07:46Z", "closed_at": "2012-03-30T17:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's a quick demonstration of the issue:\n\nfabfile.py:\n\n``` python\nfrom fabric.api import *\n\n@task\n@hosts('localhost')\ndef test():\n    run(\"echo hi\")\n    execute(test_other_host)\n    run(\"echo hi\")\n\n@task\n@hosts('otherhost')\ndef test_other_host():\n    run(\"echo howdy\")\n```\n\nThe output is:\n\n```\n$ fab test\n[localhost] Executing task 'test'\n[localhost] run: echo hi\n[localhost] out: hi\n\n[otherhost] Executing task 'test_other_host'\n[otherhost] run: echo howdy\n[otherhost] out: howdy\n\n[otherhost] run: echo hi\n[otherhost] out: hi\n\n\nDone.\nDisconnecting from otherhost... done.\nDisconnecting from localhost... done.\n```\n\nThe problem is that when test_other_host() is done executing, the remaining tasks in test() are executing under that host's context, not the original context it was decorated with. This appears to happen regardless of how the hosts are specified (e.g. via the command line, explicitly as an arg to execute(), etc).\n\nI'm running the latest version of Fabric:\n\n```\n$ fab --version\nFabric 1.4.0\nssh (library) 1.7.13\n```\n\nSo I'm not sure whether it's always been like this or whether this is a regression.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/567", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/567/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/567/events", "html_url": "https://github.com/fabric/fabric/pull/567", "id": 3371047, "node_id": "MDExOlB1bGxSZXF1ZXN0ODc5OTcz", "number": 567, "title": "Bug when scaping quotes in sed", "user": {"login": "mviera", "id": 15122, "node_id": "MDQ6VXNlcjE1MTIy", "avatar_url": "https://avatars.githubusercontent.com/u/15122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mviera", "html_url": "https://github.com/mviera", "followers_url": "https://api.github.com/users/mviera/followers", "following_url": "https://api.github.com/users/mviera/following{/other_user}", "gists_url": "https://api.github.com/users/mviera/gists{/gist_id}", "starred_url": "https://api.github.com/users/mviera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mviera/subscriptions", "organizations_url": "https://api.github.com/users/mviera/orgs", "repos_url": "https://api.github.com/users/mviera/repos", "events_url": "https://api.github.com/users/mviera/events{/privacy}", "received_events_url": "https://api.github.com/users/mviera/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2012-02-24T11:16:29Z", "updated_at": "2018-05-10T06:53:15Z", "closed_at": "2018-05-10T06:53:15Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/567", "html_url": "https://github.com/fabric/fabric/pull/567", "diff_url": "https://github.com/fabric/fabric/pull/567.diff", "patch_url": "https://github.com/fabric/fabric/pull/567.patch", "merged_at": null}, "body": "Hi,\n\nIt seems there is a bug in sed when trying to escape quotes. I tried to replace 'HOST': '' to 'HOST': 'ip-address' and sed throws the following error:\n\n[192.168.11.142] sudo: sudo -S -p 'sudo password:'  sed -i.bak -r -e 's/\\'HOST\\': \\'\\'/\\'HOST\\': \\'192.168.11.142\\'/g' /home/user/settings.py\n\nFatal error: sudo() received nonzero return code 1 while executing!\n\nRequested: sed -i.bak -r -e 's/\\'HOST\\': \\'\\'/\\'HOST\\': \\'192.168.11.142\\'/g' /home/user/settings.py\nExecuted: sudo -S -p 'sudo password:'  sed -i.bak -r -e 's/\\'HOST\\': \\'\\'/\\'HOST\\': \\'192.168.11.142\\'/g' /home/user/settings.py\n\nNone\n\n================== Standard output ======================================\n\nbash: -c: line 0: unexpected EOF while looking for matching `''\nbash: -c: line 1: syntax error: unexpected end of file\n# \n\nIt seems the best way to escape quotes in bash is the following: '\\''\n\nI already have sed working fine so I'm looking forward to find this fix accepted.\n\nCheers,\nManuel Viera.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/567/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/562", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/562/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/562/events", "html_url": "https://github.com/fabric/fabric/issues/562", "id": 3246496, "node_id": "MDU6SXNzdWUzMjQ2NDk2", "number": 562, "title": "SSH agent forwarding error", "user": {"login": "jravetch", "id": 316190, "node_id": "MDQ6VXNlcjMxNjE5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jravetch", "html_url": "https://github.com/jravetch", "followers_url": "https://api.github.com/users/jravetch/followers", "following_url": "https://api.github.com/users/jravetch/following{/other_user}", "gists_url": "https://api.github.com/users/jravetch/gists{/gist_id}", "starred_url": "https://api.github.com/users/jravetch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jravetch/subscriptions", "organizations_url": "https://api.github.com/users/jravetch/orgs", "repos_url": "https://api.github.com/users/jravetch/repos", "events_url": "https://api.github.com/users/jravetch/events{/privacy}", "received_events_url": "https://api.github.com/users/jravetch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2012-02-16T05:06:26Z", "updated_at": "2012-05-08T09:36:17Z", "closed_at": "2012-05-08T05:03:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I enabled ssh agent forwarding with fab 1.4 with env.forward_agent = 'True' and all seems fine, except I receive an odd error during code shipment:\n\nout: Authentication response too long: 3577407571\nout: fatal: The remote end hung up unexpectedly\n\nFab does properly forward the agent when pulling code from github, so not sure what's going on.\n\nBefore fab 1.4, I used this function to get around the key forwarding issue:\n\ndef sshagent_run(cmd):\n       local('ssh -A %s@%s \"%s\"' % (env.user, env.host, cmd))\n\nAny idea what's going on?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/513", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/513/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/513/events", "html_url": "https://github.com/fabric/fabric/issues/513", "id": 2624627, "node_id": "MDU6SXNzdWUyNjI0NjI3", "number": 513, "title": "Intermittent \"'NoneType' object has no attribute 'error'\"", "user": {"login": "cjw296", "id": 632049, "node_id": "MDQ6VXNlcjYzMjA0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/632049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjw296", "html_url": "https://github.com/cjw296", "followers_url": "https://api.github.com/users/cjw296/followers", "following_url": "https://api.github.com/users/cjw296/following{/other_user}", "gists_url": "https://api.github.com/users/cjw296/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjw296/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjw296/subscriptions", "organizations_url": "https://api.github.com/users/cjw296/orgs", "repos_url": "https://api.github.com/users/cjw296/repos", "events_url": "https://api.github.com/users/cjw296/events{/privacy}", "received_events_url": "https://api.github.com/users/cjw296/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2011-12-21T12:45:21Z", "updated_at": "2012-11-07T22:39:55Z", "closed_at": "2012-10-29T01:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Also seeing this periodically:\n\n```\nException in thread Thread-4 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.6/threading.py\", line 522, in __bootstrap_inner\n  File \"build/bdist.linux-x86_64/egg/ssh/transport.py\", line 1579, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\n```\n\nThis occurs when not using parallel mode...\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/510", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/510/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/510/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/510/events", "html_url": "https://github.com/fabric/fabric/issues/510", "id": 2596811, "node_id": "MDU6SXNzdWUyNTk2ODEx", "number": 510, "title": "'Operation not supported by device' in getpass with parallel", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/19", "html_url": "https://github.com/fabric/fabric/milestone/19", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/19/labels", "id": 63267, "node_id": "MDk6TWlsZXN0b25lNjMyNjc=", "number": 19, "title": "1.3.4 etc", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-12-07T18:24:54Z", "updated_at": "2012-01-11T02:21:16Z", "due_on": null, "closed_at": "2012-01-11T02:21:16Z"}, "comments": 2, "created_at": "2011-12-19T04:26:18Z", "updated_at": "2012-02-29T01:56:35Z", "closed_at": "2011-12-19T05:07:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I consistently get `Operation not supported by device` terminal errors when running `fab -P -H <host_using_ssh_key>,<host_requring_password>`.) Was trying to reproduce #493 but this appears totally unrelated.\n\nStacktrace:\n\n```\n\u00bb fab -P --linewise -H localhost,localhost:2202 -- ls                                                                                                          1\n[localhost] Executing task '<remainder>'\n[localhost:2202] Executing task '<remainder>'\n[localhost:2202] run: ls\n[localhost] run: ls\nProcess localhost:2202:\nTraceback (most recent call last):\n  File \"/Users/jforcier/.virtualenvs/fabric/lib/python2.5/site-packages/multiprocessing/process.py\", line 237, in _bootstrap\n    self.run()\n  File \"/Users/jforcier/.virtualenvs/fabric/lib/python2.5/site-packages/multiprocessing/process.py\", line 93, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/tasks.py\", line 222, in inner\n    task.run(*args, **kwargs)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/tasks.py\", line 105, in run\n    return self.wrapped(*args, **kwargs)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/main.py\", line 664, in <lambda>\n    state.commands[r] = lambda: api.run(remainder_command)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/network.py\", line 343, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/operations.py\", line 948, in run\n    return _run_command(command, shell, pty, combine_stderr)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/operations.py\", line 866, in _run_command\n    stdout, stderr, status = _execute(default_channel(), wrapped_command, pty,\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/state.py\", line 326, in default_channel\n    chan = connections[env.host_string].get_transport().open_session()\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/network.py\", line 74, in __getitem__\n    self[real_key] = connect(user, host, port)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/network.py\", line 260, in connect\n    password = prompt_for_password(text)\n  File \"/Users/jforcier/Documents/Code/fabric/fabric/network.py\", line 308, in prompt_for_password\n    new_password = getpass.getpass(password_prompt, stream)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/getpass.py\", line 32, in unix_getpass\n    old = termios.tcgetattr(fd)     # a copy to save\nerror: (19, 'Operation not supported by device')\n```\n\nI seem to recall others mentioning this, probably on IRC, but I cannot find anything in the tracker about it so here this is.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/510/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/508", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/508/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/508/events", "html_url": "https://github.com/fabric/fabric/issues/508", "id": 2593524, "node_id": "MDU6SXNzdWUyNTkzNTI0", "number": 508, "title": "io - output_loop - _flush with parallel interlacing", "user": {"login": "teichopsia", "id": 1270925, "node_id": "MDQ6VXNlcjEyNzA5MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1270925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teichopsia", "html_url": "https://github.com/teichopsia", "followers_url": "https://api.github.com/users/teichopsia/followers", "following_url": "https://api.github.com/users/teichopsia/following{/other_user}", "gists_url": "https://api.github.com/users/teichopsia/gists{/gist_id}", "starred_url": "https://api.github.com/users/teichopsia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teichopsia/subscriptions", "organizations_url": "https://api.github.com/users/teichopsia/orgs", "repos_url": "https://api.github.com/users/teichopsia/repos", "events_url": "https://api.github.com/users/teichopsia/events{/privacy}", "received_events_url": "https://api.github.com/users/teichopsia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-12-18T13:55:59Z", "updated_at": "2015-12-07T06:44:05Z", "closed_at": "2015-12-07T06:44:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "this covers an issue when running a large output over a large cluster with high -Pz whereby the output of one command would get interrupted by another node due to how output was done via two writes instead of one per line and resemble:\n\n[foo] out: [bar] out: baroutput\nfoooutput\n\nchanging the _flush call to work on a joined line+prefix resolves this.\n\nI also made output filter sudo lines for subsequent calls as part of others hacks, so ignore that part of the diff if you like.\n\n---\n\n**\\* 60,67 ****\n          if byte == '':\n              # If linewise, ensure we flush any leftovers in the buffer.\n              if linewise and line:\n!                 _flush(pipe, _prefix)\n!                 _flush(pipe, \"\".join(line))\n              break\n          # A None capture variable implies that we're in open_shell()\n          if capture is None:\n--- 63,70 ----\n          if byte == '':\n              # If linewise, ensure we flush any leftovers in the buffer.\n              if linewise and line:\n!                 if(\"\".join(line) != env.sudo_prompt):\n!                     _flush(pipe, _prefix+\"\".join(line))\n              break\n          # A None capture variable implies that we're in open_shell()\n          if capture is None:\n\n---\n\n**\\* 80,87 ****\n                  if linewise:\n                      # Print prefix + line after newline is seen\n                      if _was_newline(_buffer, byte):\n!                         _flush(pipe, _prefix)\n!                         _flush(pipe, \"\".join(line))\n                          line = []\n                      # Add to line buffer\n                      line += byte\n--- 83,90 ----\n                  if linewise:\n                      # Print prefix + line after newline is seen\n                      if _was_newline(_buffer, byte):\n!                         if(\"\".join(line) != env.sudo_prompt):\n!                             _flush(pipe, _prefix+\"\".join(line))\n                          line = []\n                      # Add to line buffer\n                      line += byte\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/502", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/502/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/502/events", "html_url": "https://github.com/fabric/fabric/issues/502", "id": 2584688, "node_id": "MDU6SXNzdWUyNTg0Njg4", "number": 502, "title": "Fatal error: lost ssh-agent", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2011-12-16T21:39:52Z", "updated_at": "2012-02-29T20:35:02Z", "closed_at": "2012-02-29T20:35:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently upgraded to Fabric 1.3.3 (from 1.2.2). I see it now uses ssh instead of paramiko. It seems now I can no longer administer my hosts. When I try to connect, I'm prompted for a password. This apparently means that the new ssh library doesn't recognize my private key nor my SSH agent running. After I enter the correct password for the target host, the session terminates with \"Fatal error: lost ssh-agent\". This error is probably an upstream bug, but I'm logging it here first until I confirm.\n\nI'm using Windows 7 SP1 with PAgeant 0.60 64-bit.\n\nThere were some issues with Paramiko and the ssh agent on 64-bit, but these were being tracked in the redmine tracker. I'll try to get up to speed on the GitHub tracker and link them as appropriate.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/500", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/500/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/500/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/500/events", "html_url": "https://github.com/fabric/fabric/issues/500", "id": 2564998, "node_id": "MDU6SXNzdWUyNTY0OTk4", "number": 500, "title": "Intermittent \"Exception: Mismatched MAC\"", "user": {"login": "cjw296", "id": 632049, "node_id": "MDQ6VXNlcjYzMjA0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/632049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjw296", "html_url": "https://github.com/cjw296", "followers_url": "https://api.github.com/users/cjw296/followers", "following_url": "https://api.github.com/users/cjw296/following{/other_user}", "gists_url": "https://api.github.com/users/cjw296/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjw296/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjw296/subscriptions", "organizations_url": "https://api.github.com/users/cjw296/orgs", "repos_url": "https://api.github.com/users/cjw296/repos", "events_url": "https://api.github.com/users/cjw296/events{/privacy}", "received_events_url": "https://api.github.com/users/cjw296/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2011-12-15T10:18:55Z", "updated_at": "2015-12-07T00:13:34Z", "closed_at": "2015-12-07T00:13:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Every so often, running a parallel set of fabric jobs, I get:\n\nERROR:ssh.transport:Exception: Mismatched MAC\nERROR:ssh.transport:Traceback (most recent call last):\nERROR:ssh.transport:  File \"build/bdist.linux-x86_64/egg/ssh/transport.py\", line 1529, in run\nERROR:ssh.transport:    ptype, m = self.packetizer.read_message()\nERROR:ssh.transport:  File \"build/bdist.linux-x86_64/egg/ssh/packet.py\", line 356, in read_message\nERROR:ssh.transport:    raise SSHException('Mismatched MAC')\nERROR:ssh.transport:SSHException: Mismatched MAC\nERROR:ssh.transport:\n\nAny idea what causes this and how I can stop it?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/495", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/495/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/495/events", "html_url": "https://github.com/fabric/fabric/issues/495", "id": 2514704, "node_id": "MDU6SXNzdWUyNTE0NzA0", "number": 495, "title": "Task subclassing - docs example incorrect", "user": {"login": "bretth", "id": 57012, "node_id": "MDQ6VXNlcjU3MDEy", "avatar_url": "https://avatars.githubusercontent.com/u/57012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bretth", "html_url": "https://github.com/bretth", "followers_url": "https://api.github.com/users/bretth/followers", "following_url": "https://api.github.com/users/bretth/following{/other_user}", "gists_url": "https://api.github.com/users/bretth/gists{/gist_id}", "starred_url": "https://api.github.com/users/bretth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bretth/subscriptions", "organizations_url": "https://api.github.com/users/bretth/orgs", "repos_url": "https://api.github.com/users/bretth/repos", "events_url": "https://api.github.com/users/bretth/events{/privacy}", "received_events_url": "https://api.github.com/users/bretth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/21", "html_url": "https://github.com/fabric/fabric/milestone/21", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/21/labels", "id": 74394, "node_id": "MDk6TWlsZXN0b25lNzQzOTQ=", "number": 21, "title": "1.3.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2012-01-17T23:46:25Z", "updated_at": "2012-02-14T06:33:21Z", "due_on": null, "closed_at": "2012-02-14T06:33:00Z"}, "comments": 5, "created_at": "2011-12-11T04:06:36Z", "updated_at": "2014-03-03T14:23:27Z", "closed_at": "2012-02-14T06:33:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "[EDITOR'S NOTE: the problem is actually with the Task docs' example code, which is out of date and should reflect my comment below re: `__init__`.]\n\nIn the documentation for tasks \"Using custom subclasses with @task\", raises an error:\n TypeError: **init**() got an unexpected keyword argument 'alias'. \n\n```\n  from fabric.api import task\n  from fabric.tasks import Task\n\n   class CustomTask(Task):\n       def __init__(self, func, myarg):\n           self.func = func\n           self.myarg = myarg\n\n       def run(self, *args, **kwargs):\n           return self.func(*args, **kwargs)\n\n   @task(task_class=CustomTask, myarg='value', alias='at')\n    def actual_task():\n        pass\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/494", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/494/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/494/events", "html_url": "https://github.com/fabric/fabric/issues/494", "id": 2470089, "node_id": "MDU6SXNzdWUyNDcwMDg5", "number": 494, "title": "rsync port is reset when using @parallel", "user": {"login": "robbyt", "id": 58051, "node_id": "MDQ6VXNlcjU4MDUx", "avatar_url": "https://avatars.githubusercontent.com/u/58051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robbyt", "html_url": "https://github.com/robbyt", "followers_url": "https://api.github.com/users/robbyt/followers", "following_url": "https://api.github.com/users/robbyt/following{/other_user}", "gists_url": "https://api.github.com/users/robbyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/robbyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robbyt/subscriptions", "organizations_url": "https://api.github.com/users/robbyt/orgs", "repos_url": "https://api.github.com/users/robbyt/repos", "events_url": "https://api.github.com/users/robbyt/events{/privacy}", "received_events_url": "https://api.github.com/users/robbyt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/19", "html_url": "https://github.com/fabric/fabric/milestone/19", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/19/labels", "id": 63267, "node_id": "MDk6TWlsZXN0b25lNjMyNjc=", "number": 19, "title": "1.3.4 etc", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-12-07T18:24:54Z", "updated_at": "2012-01-11T02:21:16Z", "due_on": null, "closed_at": "2012-01-11T02:21:16Z"}, "comments": 4, "created_at": "2011-12-07T01:27:00Z", "updated_at": "2012-02-29T01:56:25Z", "closed_at": "2011-12-19T03:01:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use rsync_project() in a task that is running under @parellel, I receive the following error:\n\n```\nBad port 'None'\nrsync: connection unexpectedly closed (0 bytes received so far) [sender]\nrsync error: unexplained error (code 255) at io.c(601) [sender=3.0.7]\n\nFatal error: local() encountered an error (return code 255) while executing 'rsync --delete --exclude \".git\" -pthrvz --rsync-path='sudo rsync' --rsh='ssh -p None ' /source/ rterhaar@server:/destination/'\n\nAborting.\n```\n\nHowever, running non-parallel works fine. \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/493", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/493/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/493/events", "html_url": "https://github.com/fabric/fabric/pull/493", "id": 2454587, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwMjAw", "number": 493, "title": "Avoid \"Resource temporarily unavailable\" crashes in parallel mode", "user": {"login": "rspeer", "id": 234227, "node_id": "MDQ6VXNlcjIzNDIyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/234227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rspeer", "html_url": "https://github.com/rspeer", "followers_url": "https://api.github.com/users/rspeer/followers", "following_url": "https://api.github.com/users/rspeer/following{/other_user}", "gists_url": "https://api.github.com/users/rspeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/rspeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rspeer/subscriptions", "organizations_url": "https://api.github.com/users/rspeer/orgs", "repos_url": "https://api.github.com/users/rspeer/repos", "events_url": "https://api.github.com/users/rspeer/events{/privacy}", "received_events_url": "https://api.github.com/users/rspeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/19", "html_url": "https://github.com/fabric/fabric/milestone/19", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/19/labels", "id": 63267, "node_id": "MDk6TWlsZXN0b25lNjMyNjc=", "number": 19, "title": "1.3.4 etc", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-12-07T18:24:54Z", "updated_at": "2012-01-11T02:21:16Z", "due_on": null, "closed_at": "2012-01-11T02:21:16Z"}, "comments": 3, "created_at": "2011-12-05T21:06:42Z", "updated_at": "2014-06-19T03:52:28Z", "closed_at": "2011-12-19T05:07:11Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/493", "html_url": "https://github.com/fabric/fabric/pull/493", "diff_url": "https://github.com/fabric/fabric/pull/493.diff", "patch_url": "https://github.com/fabric/fabric/pull/493.patch", "merged_at": null}, "body": "I've found that I get crashes sometimes with \"Resource temporarily unavailable\" in parallel mode.\n\nThis particularly happens if one of the machines happens to prompt for a password. Of course that's something to be avoided, but it should also be recoverable. If I type the password, the process will continue as normal for a while, but then later it will crash with an IOError, \"Resource temporarily unavailable\".\n\nI think the reason might be that the password code is setting `chan.input_enabled` to True when it is done, regardless of whether it was True before. If that's what's going on, this should fix the problem.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/493/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/492", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/492/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/492/events", "html_url": "https://github.com/fabric/fabric/issues/492", "id": 2444473, "node_id": "MDU6SXNzdWUyNDQ0NDcz", "number": 492, "title": "linewise output not automatically enabled for parallel task using decorator", "user": {"login": "brannn", "id": 7114, "node_id": "MDQ6VXNlcjcxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brannn", "html_url": "https://github.com/brannn", "followers_url": "https://api.github.com/users/brannn/followers", "following_url": "https://api.github.com/users/brannn/following{/other_user}", "gists_url": "https://api.github.com/users/brannn/gists{/gist_id}", "starred_url": "https://api.github.com/users/brannn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brannn/subscriptions", "organizations_url": "https://api.github.com/users/brannn/orgs", "repos_url": "https://api.github.com/users/brannn/repos", "events_url": "https://api.github.com/users/brannn/events{/privacy}", "received_events_url": "https://api.github.com/users/brannn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/19", "html_url": "https://github.com/fabric/fabric/milestone/19", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/19/labels", "id": 63267, "node_id": "MDk6TWlsZXN0b25lNjMyNjc=", "number": 19, "title": "1.3.4 etc", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-12-07T18:24:54Z", "updated_at": "2012-01-11T02:21:16Z", "due_on": null, "closed_at": "2012-01-11T02:21:16Z"}, "comments": 1, "created_at": "2011-12-04T23:40:16Z", "updated_at": "2012-02-29T01:56:24Z", "closed_at": "2011-12-19T05:23:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "brandon@deskk ~ > fab --version\nFabric 1.3.3\n\nbrandon@deskk ~ > python --version\nPython 2.7.2\n\nbrandon@deskk ~ > uname -a\nDarwin deskk.local 11.2.0 Darwin Kernel Version 11.2.0: Tue Aug  9 20:54:00 PDT 2011; root:xnu-1699.24.8~1/RELEASE_X86_64 x86_64\n\nGiven a parallel task:\n\n@parallel\ndef uptime():\n    run(\"uptime\")\n\nbytewise output is seen:\n\n[10.10.10.9] out: . 15:292:26 1up 54,7  d1a.y8s0,,  116.:7447\n\nIf the --linewise or -P options are specified this condition can't be reproduced.\n\nFrom the 1.3.3 documentation:\n\n\"Fabric\u2019s option for linewise output is automatically enabled whenever parallelism is active\"\n\nApologies if this is working as intended (i.e. enabled only when Fabric is invoked with the -P option or env.parallel), but it wasn't clear to me.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/491", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/491/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/491/events", "html_url": "https://github.com/fabric/fabric/pull/491", "id": 2431242, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyODA4", "number": 491, "title": "IPv6 host string support (#385)", "user": {"login": "max-arnold", "id": 370942, "node_id": "MDQ6VXNlcjM3MDk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/370942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/max-arnold", "html_url": "https://github.com/max-arnold", "followers_url": "https://api.github.com/users/max-arnold/followers", "following_url": "https://api.github.com/users/max-arnold/following{/other_user}", "gists_url": "https://api.github.com/users/max-arnold/gists{/gist_id}", "starred_url": "https://api.github.com/users/max-arnold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/max-arnold/subscriptions", "organizations_url": "https://api.github.com/users/max-arnold/orgs", "repos_url": "https://api.github.com/users/max-arnold/repos", "events_url": "https://api.github.com/users/max-arnold/events{/privacy}", "received_events_url": "https://api.github.com/users/max-arnold/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2011-12-02T18:09:03Z", "updated_at": "2014-06-25T23:18:51Z", "closed_at": "2012-09-08T23:08:36Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/491", "html_url": "https://github.com/fabric/fabric/pull/491", "diff_url": "https://github.com/fabric/fabric/pull/491.diff", "patch_url": "https://github.com/fabric/fabric/pull/491.patch", "merged_at": "2012-09-08T23:08:36Z"}, "body": "I updated host string normalization/denormalization functions to support ipv6 notation (plus related fix for contrib.sync_project). Parser is not very strict, but it works and passes all existing tests plus several new ones. The syntax examples are below:\n\n::1\n[::1]:1222\nuser@2001:db8::1\nuser@[2001:db8::1]:1222\n\nWorks for me on linux and os x, but more testing is certainly required.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/491/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/486", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/486/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/486/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/486/events", "html_url": "https://github.com/fabric/fabric/pull/486", "id": 2336261, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI0OTYx", "number": 486, "title": " _crawl will not try to map 'a.b' to mapping['a']['b'] if mapping['a.b'] exists", "user": {"login": "koder-ua", "id": 598714, "node_id": "MDQ6VXNlcjU5ODcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/598714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koder-ua", "html_url": "https://github.com/koder-ua", "followers_url": "https://api.github.com/users/koder-ua/followers", "following_url": "https://api.github.com/users/koder-ua/following{/other_user}", "gists_url": "https://api.github.com/users/koder-ua/gists{/gist_id}", "starred_url": "https://api.github.com/users/koder-ua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koder-ua/subscriptions", "organizations_url": "https://api.github.com/users/koder-ua/orgs", "repos_url": "https://api.github.com/users/koder-ua/repos", "events_url": "https://api.github.com/users/koder-ua/events{/privacy}", "received_events_url": "https://api.github.com/users/koder-ua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 484874, "node_id": "MDU6TGFiZWw0ODQ4NzQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tasks", "name": "Tasks", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-11-24T00:24:58Z", "updated_at": "2018-05-10T06:53:12Z", "closed_at": "2018-05-10T06:53:12Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/486", "html_url": "https://github.com/fabric/fabric/pull/486", "diff_url": "https://github.com/fabric/fabric/pull/486.diff", "patch_url": "https://github.com/fabric/fabric/pull/486.patch", "merged_at": null}, "body": " _crawl will not try to map 'a.b' to mapping['a']['b'] if mapping['a.b'] exists\n\nThis allows export class method as fabric recipes using  ClassName.methodName in command line \n\n``` python\n#-------------------------------------------------\n# example\n#-------------------------------------------------\n\ndef recipe(name=None):\n    if not isinstance(name, basestring):\n        func = name\n        func._recipe__ = func.__name__\n        return func\n\n    def closure(func):\n        func._recipe__ = name if name is not None else func.__name__\n        return func\n    return closure\n\nclass FabricMeta(type):\n    def __new__(cls, name, bases, dict):\n        new_cls = type.__new__(cls, name, bases, dict)\n        obj = None\n        up_globals = inspect.currentframe(1).f_globals\n        for fname, val in dict.items():\n            recipe = getattr(val, '_recipe__', None)\n            if recipe is not None:\n                if obj is None:\n                    obj = new_cls()\n                up_globals['{0}.{1}'.format(name, recipe)] = getattr(obj, fname)\n        return new_cls  \n\nclass FabricBase(object):\n    __metaclass__ = FabricMeta\n\nclass MyTestFabricClass(FabricBase):\n    @recipe\n    def recipe1(self):\n        print \"recipe1\"\n\n    @recipe(\"recipe2\")\n    def tt(self):\n        print \"tt\"\n\n# as result MyTestFabricClass.recipe1 and \n# MyTestFabricClass.recipe2\n# would be available as fabric recipes from cmd line\n#\n# fab -f some_file.py MyTestFabricClass.recipe1\n#\n# will print \"recipe1\"\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/486/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/482", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/482/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/482/events", "html_url": "https://github.com/fabric/fabric/issues/482", "id": 2277369, "node_id": "MDU6SXNzdWUyMjc3MzY5", "number": 482, "title": "-P should imply --linewise", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 12, "created_at": "2011-11-18T06:34:34Z", "updated_at": "2012-10-29T00:11:15Z", "closed_at": "2011-11-23T03:56:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Rather, ditto for the env vars -- when linewise is being tested for, have the test be \"linewise or parallel\".\n\nRealistically, linewise shouldn't even be an exposed option as it's almost never going to be useful except in parallel mode; but now that it's out, it can't hurt to leave it as-is so folks can use it if they want.\n\nThe inverse, forcing bytewise parallelism, strikes me as an unusual case that can be safely ignored until somebody specifically asks for it.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/479", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/479/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/479/events", "html_url": "https://github.com/fabric/fabric/issues/479", "id": 2262532, "node_id": "MDU6SXNzdWUyMjYyNTMy", "number": 479, "title": "Execute should be able to reference locally available tasks", "user": {"login": "mitchellh", "id": 1299, "node_id": "MDQ6VXNlcjEyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitchellh", "html_url": "https://github.com/mitchellh", "followers_url": "https://api.github.com/users/mitchellh/followers", "following_url": "https://api.github.com/users/mitchellh/following{/other_user}", "gists_url": "https://api.github.com/users/mitchellh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitchellh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitchellh/subscriptions", "organizations_url": "https://api.github.com/users/mitchellh/orgs", "repos_url": "https://api.github.com/users/mitchellh/repos", "events_url": "https://api.github.com/users/mitchellh/events{/privacy}", "received_events_url": "https://api.github.com/users/mitchellh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-11-16T22:10:48Z", "updated_at": "2015-12-06T23:19:20Z", "closed_at": "2015-12-06T23:19:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nWorking with the \"new\" (for me!) 1.3 version and loving it so far. But I'm finding some oddities based on what I would expect to be behavior, in this case with the new `execute` function. I have a module named `deploy` (so living in `deploy.py`) which I import tasks from. Here is a hypothetical `fabfile`:\n\n``` python\nimport deploy\n```\n\nHere is a hypothetical `deploy.py`:\n\n``` python\nfrom fabric.api import execute, task\n\n@task(default=True)\ndef deploy():\n    execute(\"foo\")\n\n@task\ndef foo():\n    print(\"Foo called!\")\n```\n\nThe above actually doesn't work because `execute` expects a valid task name. But note that that pushes knowledge into the deploy module of knowing how the deploy module is imported into a Fabfile. So, sure, I can do this to make it work:\n\n``` python\nexecute(\"deploy.foo\")\n```\n\nSo that works. But what if I then change the fabfile to this:\n\n``` python\nimport deploy as old_deploy\n```\n\nNow the old deploy actually breaks! \n\nI think this knowledge of how a module is imported doesn't belong in the module. In fact, I think before checking for a valid task name, I think that the `execute` semantics should check the currently available tasks and try to execute that. Then you can do whatever you want wit the knowledge you're 100% sure you have in your module, and it will always work.\n\nBest,\nMitchell\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/478", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/478/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/478/events", "html_url": "https://github.com/fabric/fabric/issues/478", "id": 2220727, "node_id": "MDU6SXNzdWUyMjIwNzI3", "number": 478, "title": "fab.exe --version throws a com_error exception", "user": {"login": "grzn", "id": 175126, "node_id": "MDQ6VXNlcjE3NTEyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/175126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grzn", "html_url": "https://github.com/grzn", "followers_url": "https://api.github.com/users/grzn/followers", "following_url": "https://api.github.com/users/grzn/following{/other_user}", "gists_url": "https://api.github.com/users/grzn/gists{/gist_id}", "starred_url": "https://api.github.com/users/grzn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grzn/subscriptions", "organizations_url": "https://api.github.com/users/grzn/orgs", "repos_url": "https://api.github.com/users/grzn/repos", "events_url": "https://api.github.com/users/grzn/events{/privacy}", "received_events_url": "https://api.github.com/users/grzn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2011-11-13T09:31:36Z", "updated_at": "2013-10-11T21:37:52Z", "closed_at": "2013-10-11T21:37:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nfab --version\nTraceback (most recent call last):\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\Scripts\\fab-script.py\", line 9, in <module>\n    load_entry_point('fabric==1.3.2', 'console_scripts', 'fab')()\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\distribute-0.6.24-py2.7.egg\\pkg_resources.py\", line 337, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\distribute-0.6.24-py2.7.egg\\pkg_resources.py\", line 2279, in load_entry_point\n    return ep.load()\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\distribute-0.6.24-py2.7.egg\\pkg_resources.py\", line 1989, in load\n    entry = __import__(self.module_name, globals(),globals(), ['__name__'])\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\fabric-1.3.2-py2.7.egg\\fabric\\main.py\", line 19, in <module>\n    from fabric import api, state  # For checking callables against the API, & easy mocking\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\fabric-1.3.2-py2.7.egg\\fabric\\api.py\", line 9, in <module>\n    from fabric.context_managers import cd, hide, settings, show, path, prefix, lcd\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\fabric-1.3.2-py2.7.egg\\fabric\\context_managers.py\", line 13, in <module>\n    from fabric.state import env, output, win32\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\fabric-1.3.2-py2.7.egg\\fabric\\state.py\", line 191, in <module>\n    default=_rc_path(),\n  File \"C:\\opt\\opensshd\\home\\Administrator\\python\\lib\\site-packages\\fabric-1.3.2-py2.7.egg\\fabric\\state.py\", line 94, in _rc_path\n    SHGetSpecialFolderPath(0, CSIDL_PROFILE),\npywintypes.com_error: (-2147467259, 'Unspecified error', None, None)\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/476", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/476/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/476/events", "html_url": "https://github.com/fabric/fabric/pull/476", "id": 2193127, "node_id": "MDExOlB1bGxSZXF1ZXN0NDgwMjg1", "number": 476, "title": "Bugfix add with cd to decompress tar files", "user": {"login": "valdergallo", "id": 81618, "node_id": "MDQ6VXNlcjgxNjE4", "avatar_url": "https://avatars.githubusercontent.com/u/81618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valdergallo", "html_url": "https://github.com/valdergallo", "followers_url": "https://api.github.com/users/valdergallo/followers", "following_url": "https://api.github.com/users/valdergallo/following{/other_user}", "gists_url": "https://api.github.com/users/valdergallo/gists{/gist_id}", "starred_url": "https://api.github.com/users/valdergallo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valdergallo/subscriptions", "organizations_url": "https://api.github.com/users/valdergallo/orgs", "repos_url": "https://api.github.com/users/valdergallo/repos", "events_url": "https://api.github.com/users/valdergallo/events{/privacy}", "received_events_url": "https://api.github.com/users/valdergallo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-11-10T00:02:20Z", "updated_at": "2014-07-12T21:44:43Z", "closed_at": "2014-04-15T18:34:35Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/476", "html_url": "https://github.com/fabric/fabric/pull/476", "diff_url": "https://github.com/fabric/fabric/pull/476.diff", "patch_url": "https://github.com/fabric/fabric/pull/476.patch", "merged_at": null}, "body": "I had added with cd to decompress tar files, i finded this bug when i was made my fabfile that decompress tar from another diretory. \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/476/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/475", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/475/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/475/events", "html_url": "https://github.com/fabric/fabric/issues/475", "id": 2192429, "node_id": "MDU6SXNzdWUyMTkyNDI5", "number": 475, "title": "Allow escaping of equals signs in CLI task args", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 0, "created_at": "2011-11-09T22:46:10Z", "updated_at": "2012-02-29T01:56:12Z", "closed_at": "2011-11-23T20:55:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Use case is passing a big chunk of options to some remote command, including GNU style `--x=y`.\n\nThis does not work because of Fab's naive CLI task arg/kwarg parsing, which picks it up as a kwarg.\n\nLike #137 we should probably allow for backslash escaping of equals signs so users in this situation aren't left out to dry.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/473", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/473/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/473/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/473/events", "html_url": "https://github.com/fabric/fabric/pull/473", "id": 2161071, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY4ODQ2", "number": 473, "title": "Avoid put() failures due to lost connection", "user": {"login": "bendyer", "id": 148661, "node_id": "MDQ6VXNlcjE0ODY2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/148661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendyer", "html_url": "https://github.com/bendyer", "followers_url": "https://api.github.com/users/bendyer/followers", "following_url": "https://api.github.com/users/bendyer/following{/other_user}", "gists_url": "https://api.github.com/users/bendyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendyer/subscriptions", "organizations_url": "https://api.github.com/users/bendyer/orgs", "repos_url": "https://api.github.com/users/bendyer/repos", "events_url": "https://api.github.com/users/bendyer/events{/privacy}", "received_events_url": "https://api.github.com/users/bendyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-11-07T10:08:57Z", "updated_at": "2017-09-04T00:37:46Z", "closed_at": "2017-09-04T00:37:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/473", "html_url": "https://github.com/fabric/fabric/pull/473", "diff_url": "https://github.com/fabric/fabric/pull/473.diff", "patch_url": "https://github.com/fabric/fabric/pull/473.patch", "merged_at": null}, "body": "Fix permanent put() failure after aborted upload of write-protected files with use_sudo.\n\n---\n\nIf a connection failure is encountered between the upload to a hashed file location (sftp.py:208-213; sftp.py:224) and the sudo move operation (sftp.py:239-243), any subsequent attempt to upload that file will fail if the file is write-protected.\n\nThe most direct solution appears to be performing the sudo move before changing file permissions, by swapping the order of the two if blocks. See commits/diff.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/473/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/464", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/464/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/464/events", "html_url": "https://github.com/fabric/fabric/issues/464", "id": 2082482, "node_id": "MDU6SXNzdWUyMDgyNDgy", "number": 464, "title": "Role is undefined, but task gets executed anyway", "user": {"login": "aknapp", "id": 229757, "node_id": "MDQ6VXNlcjIyOTc1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/229757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aknapp", "html_url": "https://github.com/aknapp", "followers_url": "https://api.github.com/users/aknapp/followers", "following_url": "https://api.github.com/users/aknapp/following{/other_user}", "gists_url": "https://api.github.com/users/aknapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/aknapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aknapp/subscriptions", "organizations_url": "https://api.github.com/users/aknapp/orgs", "repos_url": "https://api.github.com/users/aknapp/repos", "events_url": "https://api.github.com/users/aknapp/events{/privacy}", "received_events_url": "https://api.github.com/users/aknapp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2011-10-28T18:40:40Z", "updated_at": "2014-07-16T19:08:12Z", "closed_at": "2011-10-28T20:34:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have a fabfile here where we pull in the roles from a json file.\n\nIn our staging environment, we don't want all the tasks to be run, so we leave some roles undefined. Unfortunately, even if the role is undefined, it's still executing the task on the box, and failing.\n\nSomething like this:\n\n@task\n@roles('celerymaster')\ndef kick_celerycam():\n    kick_daemon('celerycam')\n\nWhen celeymaster is undefined, it's still executing the task.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/460", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/460/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/460/events", "html_url": "https://github.com/fabric/fabric/issues/460", "id": 2046031, "node_id": "MDU6SXNzdWUyMDQ2MDMx", "number": 460, "title": "UnboundLocalError when running without a fabfile", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-10-25T15:15:53Z", "updated_at": "2012-02-29T01:56:02Z", "closed_at": "2011-11-18T05:49:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I ran into this myself the other day when testing but neglected to make a ticket; another user has reported it on IRC, though I did not verify that they were in the exact same situation.\n\nThe error is for line 600 in `main.py`, `local variable 'default' referenced before assignment`. Probably a regression from 1.2 or 1.3 bugfixes; it definitely exists in 1.3.0.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/458", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/458/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/458/events", "html_url": "https://github.com/fabric/fabric/issues/458", "id": 2038137, "node_id": "MDU6SXNzdWUyMDM4MTM3", "number": 458, "title": "@with_settings is not a perfect copy of settings()", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-10-24T20:31:56Z", "updated_at": "2012-03-12T21:38:37Z", "closed_at": "2012-03-12T21:38:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In that it does not act as a nested context manager re: allowing positional args which are other context managers, such as `hide()` and `show()`.\n\nIf it's possible to achieve this in a decorator context (don't see why not, though I don't remember exactly how `@with_settings` was implemented) then do so.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/457", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/457/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/457/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/457/events", "html_url": "https://github.com/fabric/fabric/issues/457", "id": 2033059, "node_id": "MDU6SXNzdWUyMDMzMDU5", "number": 457, "title": "Failures in parallel tasks do not stop execution", "user": {"login": "sdcooke", "id": 136235, "node_id": "MDQ6VXNlcjEzNjIzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdcooke", "html_url": "https://github.com/sdcooke", "followers_url": "https://api.github.com/users/sdcooke/followers", "following_url": "https://api.github.com/users/sdcooke/following{/other_user}", "gists_url": "https://api.github.com/users/sdcooke/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdcooke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdcooke/subscriptions", "organizations_url": "https://api.github.com/users/sdcooke/orgs", "repos_url": "https://api.github.com/users/sdcooke/repos", "events_url": "https://api.github.com/users/sdcooke/events{/privacy}", "received_events_url": "https://api.github.com/users/sdcooke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2011-10-24T12:28:51Z", "updated_at": "2016-07-31T23:54:02Z", "closed_at": "2011-10-24T21:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following test case runs `test.sh` which returns an error exit code. Without the `@parallel` decorator fabric aborts and exits as expected after the first failure on the first host (there are two hosts in the 'web_workers' role). With the `@parallel` decorator the `test_thing` task exits before running `date` but `test_thing2` is then run.\n\n``` python\ndef test():\n    execute(test_thing)\n    execute(test_thing2)\n\n@roles('web_workers')\n@parallel\ndef test_thing():\n    run('./test.sh')\n    run('date')\n\n@roles('web_workers')\n@parallel\ndef test_thing2():\n    run('date')\n```\n\nI'm assuming this isn't the intended workflow, if it is or I'm making a mistake I'd be interested to know what it is.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/450", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/450/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/450/events", "html_url": "https://github.com/fabric/fabric/pull/450", "id": 1879455, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk0Mjgx", "number": 450, "title": "Include traceback when wrapping import errors", "user": {"login": "wolever", "id": 59575, "node_id": "MDQ6VXNlcjU5NTc1", "avatar_url": "https://avatars.githubusercontent.com/u/59575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wolever", "html_url": "https://github.com/wolever", "followers_url": "https://api.github.com/users/wolever/followers", "following_url": "https://api.github.com/users/wolever/following{/other_user}", "gists_url": "https://api.github.com/users/wolever/gists{/gist_id}", "starred_url": "https://api.github.com/users/wolever/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wolever/subscriptions", "organizations_url": "https://api.github.com/users/wolever/orgs", "repos_url": "https://api.github.com/users/wolever/repos", "events_url": "https://api.github.com/users/wolever/events{/privacy}", "received_events_url": "https://api.github.com/users/wolever/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 2, "created_at": "2011-10-11T18:33:47Z", "updated_at": "2014-06-13T05:18:05Z", "closed_at": "2011-11-23T19:29:01Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/450", "html_url": "https://github.com/fabric/fabric/pull/450", "diff_url": "https://github.com/fabric/fabric/pull/450.diff", "patch_url": "https://github.com/fabric/fabric/pull/450.patch", "merged_at": null}, "body": "Without the complete tracebacks it's fairly frustrating to try and track down the import errors.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/450/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/446", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/446/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/446/events", "html_url": "https://github.com/fabric/fabric/pull/446", "id": 1785939, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY4MjE3", "number": 446, "title": "Adds QNX to BSD platform check in sed function", "user": {"login": "rcmadruga", "id": 279615, "node_id": "MDQ6VXNlcjI3OTYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/279615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcmadruga", "html_url": "https://github.com/rcmadruga", "followers_url": "https://api.github.com/users/rcmadruga/followers", "following_url": "https://api.github.com/users/rcmadruga/following{/other_user}", "gists_url": "https://api.github.com/users/rcmadruga/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcmadruga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcmadruga/subscriptions", "organizations_url": "https://api.github.com/users/rcmadruga/orgs", "repos_url": "https://api.github.com/users/rcmadruga/repos", "events_url": "https://api.github.com/users/rcmadruga/events{/privacy}", "received_events_url": "https://api.github.com/users/rcmadruga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 3, "created_at": "2011-09-30T14:04:42Z", "updated_at": "2014-06-25T00:29:24Z", "closed_at": "2011-11-23T19:25:59Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/446", "html_url": "https://github.com/fabric/fabric/pull/446", "diff_url": "https://github.com/fabric/fabric/pull/446.diff", "patch_url": "https://github.com/fabric/fabric/pull/446.patch", "merged_at": null}, "body": "QNX's sed also need *BSD workaround \n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/446/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/445", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/445/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/445/events", "html_url": "https://github.com/fabric/fabric/pull/445", "id": 1765779, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYyMzAx", "number": 445, "title": "Fix for rsync_project host and port string being None.", "user": {"login": "dannyfritz", "id": 315788, "node_id": "MDQ6VXNlcjMxNTc4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/315788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dannyfritz", "html_url": "https://github.com/dannyfritz", "followers_url": "https://api.github.com/users/dannyfritz/followers", "following_url": "https://api.github.com/users/dannyfritz/following{/other_user}", "gists_url": "https://api.github.com/users/dannyfritz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dannyfritz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dannyfritz/subscriptions", "organizations_url": "https://api.github.com/users/dannyfritz/orgs", "repos_url": "https://api.github.com/users/dannyfritz/repos", "events_url": "https://api.github.com/users/dannyfritz/events{/privacy}", "received_events_url": "https://api.github.com/users/dannyfritz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-09-28T16:04:28Z", "updated_at": "2014-06-15T23:04:52Z", "closed_at": "2012-02-03T18:56:06Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/445", "html_url": "https://github.com/fabric/fabric/pull/445", "diff_url": "https://github.com/fabric/fabric/pull/445.diff", "patch_url": "https://github.com/fabric/fabric/pull/445.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/445/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/443", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/443/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/443/events", "html_url": "https://github.com/fabric/fabric/pull/443", "id": 1753519, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4OTky", "number": 443, "title": "Expand ~ in contrib.files.exists()", "user": {"login": "xrmx", "id": 12932, "node_id": "MDQ6VXNlcjEyOTMy", "avatar_url": "https://avatars.githubusercontent.com/u/12932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xrmx", "html_url": "https://github.com/xrmx", "followers_url": "https://api.github.com/users/xrmx/followers", "following_url": "https://api.github.com/users/xrmx/following{/other_user}", "gists_url": "https://api.github.com/users/xrmx/gists{/gist_id}", "starred_url": "https://api.github.com/users/xrmx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xrmx/subscriptions", "organizations_url": "https://api.github.com/users/xrmx/orgs", "repos_url": "https://api.github.com/users/xrmx/repos", "events_url": "https://api.github.com/users/xrmx/events{/privacy}", "received_events_url": "https://api.github.com/users/xrmx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 1, "created_at": "2011-09-27T15:58:52Z", "updated_at": "2014-06-17T18:57:38Z", "closed_at": "2011-11-23T19:25:58Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/443", "html_url": "https://github.com/fabric/fabric/pull/443", "diff_url": "https://github.com/fabric/fabric/pull/443.diff", "patch_url": "https://github.com/fabric/fabric/pull/443.patch", "merged_at": null}, "body": "It would be pretty handy to be able to use ~ in contrib.files.exists(), the attached commit permit me to use it.\nI'm sorry but i can't run the tests because fudge is not available in debian so lot of them fails. Please review. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/443/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/441", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/441/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/441/events", "html_url": "https://github.com/fabric/fabric/issues/441", "id": 1725233, "node_id": "MDU6SXNzdWUxNzI1MjMz", "number": 441, "title": "Bug with module tasks throws exception", "user": {"login": "mitchellh", "id": 1299, "node_id": "MDQ6VXNlcjEyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitchellh", "html_url": "https://github.com/mitchellh", "followers_url": "https://api.github.com/users/mitchellh/followers", "following_url": "https://api.github.com/users/mitchellh/following{/other_user}", "gists_url": "https://api.github.com/users/mitchellh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitchellh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitchellh/subscriptions", "organizations_url": "https://api.github.com/users/mitchellh/orgs", "repos_url": "https://api.github.com/users/mitchellh/repos", "events_url": "https://api.github.com/users/mitchellh/events{/privacy}", "received_events_url": "https://api.github.com/users/mitchellh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 1, "created_at": "2011-09-23T17:35:45Z", "updated_at": "2012-02-29T01:55:50Z", "closed_at": "2011-11-23T20:56:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nIf you import a module and get the nice task of \"module.task\" format, you can get fabric to explode by calling \"fab module\"\n\nThis is with Fabric 1.2.2\n\nFor example, I have a module named \"foo.py\"\n\n``` python\nfrom fabric.api import task\n\n@task\ndef hello():\n    print \"HELLO!\"\n```\n\nThen the `fabfile`:\n\n``` python\nimport foo\n```\n\nThen when you do a `fab foo` (shouldn't be valid):\n\n```\nTraceback (most recent call last):\n  File \"/etc/virtualenvs/tornado-web/lib/python2.6/site-packages/fabric/main.py\", line 778, in main\n    _run_task(task, args, kwargs)\n  File \"/etc/virtualenvs/tornado-web/lib/python2.6/site-packages/fabric/main.py\", line 629, in _run_task\n    return task(*args, **kwargs)\nTypeError: '_Dict' object is not callable\n```\n\nI think it should instead say something like the following:\n\n```\n\nFatal error: Command(s) not found:\n    foo\n\nAborting.\n```\n\nBest,\nMitchell\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/437", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/437/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/437/events", "html_url": "https://github.com/fabric/fabric/pull/437", "id": 1683701, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxMDkx", "number": 437, "title": "Fixed 'with_settings' decorator so that it preserves the function docstring (and other attributes)", "user": {"login": "spookylukey", "id": 62745, "node_id": "MDQ6VXNlcjYyNzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/62745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spookylukey", "html_url": "https://github.com/spookylukey", "followers_url": "https://api.github.com/users/spookylukey/followers", "following_url": "https://api.github.com/users/spookylukey/following{/other_user}", "gists_url": "https://api.github.com/users/spookylukey/gists{/gist_id}", "starred_url": "https://api.github.com/users/spookylukey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spookylukey/subscriptions", "organizations_url": "https://api.github.com/users/spookylukey/orgs", "repos_url": "https://api.github.com/users/spookylukey/repos", "events_url": "https://api.github.com/users/spookylukey/events{/privacy}", "received_events_url": "https://api.github.com/users/spookylukey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 1, "created_at": "2011-09-19T23:51:41Z", "updated_at": "2014-06-12T12:20:11Z", "closed_at": "2011-11-23T19:25:58Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/437", "html_url": "https://github.com/fabric/fabric/pull/437", "diff_url": "https://github.com/fabric/fabric/pull/437.diff", "patch_url": "https://github.com/fabric/fabric/pull/437.patch", "merged_at": null}, "body": "Title says it all. Thanks for a great tool, BTW, it is saving my life at the moment.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/437/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/435", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/435/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/435/events", "html_url": "https://github.com/fabric/fabric/pull/435", "id": 1588327, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzNzM0", "number": 435, "title": "434 abort on prompts should block openshell", "user": {"login": "ramonvanalteren", "id": 27267, "node_id": "MDQ6VXNlcjI3MjY3", "avatar_url": "https://avatars.githubusercontent.com/u/27267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramonvanalteren", "html_url": "https://github.com/ramonvanalteren", "followers_url": "https://api.github.com/users/ramonvanalteren/followers", "following_url": "https://api.github.com/users/ramonvanalteren/following{/other_user}", "gists_url": "https://api.github.com/users/ramonvanalteren/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramonvanalteren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramonvanalteren/subscriptions", "organizations_url": "https://api.github.com/users/ramonvanalteren/orgs", "repos_url": "https://api.github.com/users/ramonvanalteren/repos", "events_url": "https://api.github.com/users/ramonvanalteren/events{/privacy}", "received_events_url": "https://api.github.com/users/ramonvanalteren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-09-07T11:02:18Z", "updated_at": "2018-05-10T06:53:11Z", "closed_at": "2018-05-10T06:53:11Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/435", "html_url": "https://github.com/fabric/fabric/pull/435", "diff_url": "https://github.com/fabric/fabric/pull/435.diff", "patch_url": "https://github.com/fabric/fabric/pull/435.patch", "merged_at": null}, "body": "As described in issue 434\nIncludes testcase\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/435/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/432", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/432/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/432/events", "html_url": "https://github.com/fabric/fabric/issues/432", "id": 1563030, "node_id": "MDU6SXNzdWUxNTYzMDMw", "number": 432, "title": "allow specification of '-H' (set HOME) to sudo", "user": {"login": "tobiasmcnulty", "id": 160132, "node_id": "MDQ6VXNlcjE2MDEzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/160132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiasmcnulty", "html_url": "https://github.com/tobiasmcnulty", "followers_url": "https://api.github.com/users/tobiasmcnulty/followers", "following_url": "https://api.github.com/users/tobiasmcnulty/following{/other_user}", "gists_url": "https://api.github.com/users/tobiasmcnulty/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiasmcnulty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiasmcnulty/subscriptions", "organizations_url": "https://api.github.com/users/tobiasmcnulty/orgs", "repos_url": "https://api.github.com/users/tobiasmcnulty/repos", "events_url": "https://api.github.com/users/tobiasmcnulty/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiasmcnulty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140141, "node_id": "MDU6TGFiZWwxNDAxNDE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Feature", "name": "Feature", "color": "40a056", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 485996, "node_id": "MDU6TGFiZWw0ODU5OTY=", "url": "https://api.github.com/repos/fabric/fabric/labels/sudo()", "name": "sudo()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-09-04T18:12:55Z", "updated_at": "2012-05-13T16:18:23Z", "closed_at": "2012-05-13T16:18:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Without the -H flag to the sudo command, calls to pip may fail when run through sudo because HOME is still set to the SSH username, rather than the sudo username.  This is required, e.g., for writing an error log in the case that a package build fails.\n\nEither set this by default, or provide an argument to sudo() that will enable it on the remote sudo command.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/431", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/431/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/431/events", "html_url": "https://github.com/fabric/fabric/issues/431", "id": 1559682, "node_id": "MDU6SXNzdWUxNTU5Njgy", "number": 431, "title": "with_settings and task decorator", "user": {"login": "ericbuckley", "id": 170002, "node_id": "MDQ6VXNlcjE3MDAwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/170002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericbuckley", "html_url": "https://github.com/ericbuckley", "followers_url": "https://api.github.com/users/ericbuckley/followers", "following_url": "https://api.github.com/users/ericbuckley/following{/other_user}", "gists_url": "https://api.github.com/users/ericbuckley/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericbuckley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericbuckley/subscriptions", "organizations_url": "https://api.github.com/users/ericbuckley/orgs", "repos_url": "https://api.github.com/users/ericbuckley/repos", "events_url": "https://api.github.com/users/ericbuckley/events{/privacy}", "received_events_url": "https://api.github.com/users/ericbuckley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-09-03T22:17:40Z", "updated_at": "2011-09-20T17:17:38Z", "closed_at": "2011-09-20T17:17:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the `@task` and `@with_settings` decorator together, the name of the task is renamed to **inner**\n\n```\nfrom fabric.api import *\n\n@task\n@with_settings(warn_only=True)\ndef test():\n    print 'testing'\n```\n\nrunning `fab --list` will yield the following:\n\n```\nAvailable commands:\n\n    inner\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/430", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/430/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/430/events", "html_url": "https://github.com/fabric/fabric/issues/430", "id": 1555124, "node_id": "MDU6SXNzdWUxNTU1MTI0", "number": 430, "title": "Don't show 'Executing...' line for subsequent @runs_once invokes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-09-02T21:03:27Z", "updated_at": "2012-02-29T01:55:42Z", "closed_at": "2011-09-02T21:08:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Jacob Kaplan-Moss noticed that using `@runs_once` still causes an `Executing task` line to print out for every call of the decorated task, even though (as designed) the body of the task is only being executed the first time.\n\nThis is ugly and feels like a bug -- while the task will return its memoized value, it's not actually running/executing, and so it's just extra noise when used as part of a multi-host run.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/427", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/427/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/427/events", "html_url": "https://github.com/fabric/fabric/pull/427", "id": 1516784, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk3ODEz", "number": 427, "title": "bug fix in fabric.contrib.files.py:first", "user": {"login": "barberj", "id": 503436, "node_id": "MDQ6VXNlcjUwMzQzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/503436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barberj", "html_url": "https://github.com/barberj", "followers_url": "https://api.github.com/users/barberj/followers", "following_url": "https://api.github.com/users/barberj/following{/other_user}", "gists_url": "https://api.github.com/users/barberj/gists{/gist_id}", "starred_url": "https://api.github.com/users/barberj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barberj/subscriptions", "organizations_url": "https://api.github.com/users/barberj/orgs", "repos_url": "https://api.github.com/users/barberj/repos", "events_url": "https://api.github.com/users/barberj/events{/privacy}", "received_events_url": "https://api.github.com/users/barberj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-30T06:27:54Z", "updated_at": "2012-03-02T20:25:25Z", "closed_at": "2012-03-02T20:25:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/427", "html_url": "https://github.com/fabric/fabric/pull/427", "diff_url": "https://github.com/fabric/fabric/pull/427.diff", "patch_url": "https://github.com/fabric/fabric/pull/427.patch", "merged_at": null}, "body": "```\n$ fab test\nExecuting task 'test'\n/cygdrive/c/Users/jbarber/Dropbox/AltaLang/Portal/Portal-Service\nNone\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/Fabric-1.2.0-py2.6.egg/fabric/main.py\", line 770, in main\n    _run_task(task, args, kwargs)\n  File \"/usr/lib/python2.6/site-packages/Fabric-1.2.0-py2.6.egg/fabric/main.py\", line 628, in _run_task\n    return task(*args, **kwargs)\n  File \"/cygdrive/c/Users/jbarber/Dropbox/AltaLang/Portal/Portal-Service/fabfile.py\", line 60, in test\n    print first('.ssh')\n  File \"/usr/lib/python2.6/site-packages/Fabric-1.2.0-py2.6.egg/fabric/contrib/files.py\", line 45, in first\n    if exists(directory, sudo=False):\nTypeError: exists() got an unexpected keyword argument 'sudo'\n```\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/427/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/426", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/426/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/426/events", "html_url": "https://github.com/fabric/fabric/issues/426", "id": 1515345, "node_id": "MDU6SXNzdWUxNTE1MzQ1", "number": 426, "title": "Aquamacs eshell output doesn't echo on eshell console", "user": {"login": "milindkhandekar", "id": 1013171, "node_id": "MDQ6VXNlcjEwMTMxNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1013171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milindkhandekar", "html_url": "https://github.com/milindkhandekar", "followers_url": "https://api.github.com/users/milindkhandekar/followers", "following_url": "https://api.github.com/users/milindkhandekar/following{/other_user}", "gists_url": "https://api.github.com/users/milindkhandekar/gists{/gist_id}", "starred_url": "https://api.github.com/users/milindkhandekar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milindkhandekar/subscriptions", "organizations_url": "https://api.github.com/users/milindkhandekar/orgs", "repos_url": "https://api.github.com/users/milindkhandekar/repos", "events_url": "https://api.github.com/users/milindkhandekar/events{/privacy}", "received_events_url": "https://api.github.com/users/milindkhandekar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-29T23:56:56Z", "updated_at": "2012-02-29T01:55:40Z", "closed_at": "2011-08-30T22:19:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I issue a fabric command from Aquamacs eshell, no output prints on eshell console.\n\n```\n~/git/myproj (Mon Aug 29 16:23:43)  $ fab --fabfile=myproj -i ~/.ssh/id_rsa lb.conft\n[user@ip] run: show run\n[user@ip] run: Passphrase for private key: \n[user@ip] run: out: \n[user@ip] run: out:\n\nDone.\nDisconnecting from [user@ip] ... done. \n```\n\nIf I make the following change to io.py:\n\n[New Code]\n\n```\n            if printing:\n                # Initial prefix\n                if not initial_prefix_printed:\n                    _flush(pipe, _prefix)\n                    initial_prefix_printed = True\n                if byte in (\"\\n\", \"\\r\"):\n                    # Trailing prefix to start off next line\n                    _flush(pipe, '\\r\\n')\n                    _flush(pipe, _prefix)\n                else:\n                    # Byte itself\n                    _flush(pipe, byte)\n```\n\n[Old Code]\n\n```\n            if printing:\n                # Initial prefix\n                if not initial_prefix_printed:\n                    _flush(pipe, _prefix)\n                    initial_prefix_printed = True\n                # Byte itself\n                _flush(pipe, byte)\n                if byte in (\"\\n\", \"\\r\"):\n                    # Trailing prefix to start off next line\n                    _flush(pipe, _prefix)\n```\n\nit prints correctly.\n\nThanks,\n-Milind.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/421", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/421/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/421/events", "html_url": "https://github.com/fabric/fabric/issues/421", "id": 1460485, "node_id": "MDU6SXNzdWUxNDYwNDg1", "number": 421, "title": "@task object docstrings not visible to doctest", "user": {"login": "gregglind", "id": 163983, "node_id": "MDQ6VXNlcjE2Mzk4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/163983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregglind", "html_url": "https://github.com/gregglind", "followers_url": "https://api.github.com/users/gregglind/followers", "following_url": "https://api.github.com/users/gregglind/following{/other_user}", "gists_url": "https://api.github.com/users/gregglind/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregglind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregglind/subscriptions", "organizations_url": "https://api.github.com/users/gregglind/orgs", "repos_url": "https://api.github.com/users/gregglind/repos", "events_url": "https://api.github.com/users/gregglind/events{/privacy}", "received_events_url": "https://api.github.com/users/gregglind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2011-08-22T19:38:16Z", "updated_at": "2015-12-06T22:35:16Z", "closed_at": "2015-12-06T22:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## fabfile.py\n\n```\n\"\"\"\n\n$ python -m doctest fabfile  # will see t1 but not t2\n\n\"\"\"\n\nfrom fabric.api import task\n\ndef t1():\n    \"\"\" \n    >>> t1()\n    'b'\n    \"\"\"\n    return 'a'\n\n\nt2 = task(t1)\n```\n\nWrappedCallableTask  should promote up all the docstrings maybe?\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/417", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/417/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/417/events", "html_url": "https://github.com/fabric/fabric/issues/417", "id": 1448695, "node_id": "MDU6SXNzdWUxNDQ4Njk1", "number": 417, "title": "abort_on_prompts=True aborts even when host, password are set", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-20T03:47:54Z", "updated_at": "2012-02-29T01:55:34Z", "closed_at": "2011-08-20T05:40:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Valerie Ishida, on the mailing list, writes:\n\n> I tried the following code...\n\n```\nwith fabric.api.settings(host_string=\"testuser@localhost\", user=\"testuser\", password=\"testuser\", abort_on_prompts=True):\n    fabric.api.run(\"ls /tmp\")\n\nFatal error: Needed to prompt, but abort-on-prompts was set to True!\n\nAborting.\n```\n\n> But if I run...\n\n```\nwith fabric.api.settings(host_string=\"testuser@localhost\", user=\"testuser\", password=\"testuser\"):\n    fabric.api.run(\"ls /tmp\")\n```\n\n> It runs fine and does not prompt.\n\n---\n\nThis seems a legitimate bug, where the `handle_prompt_aborts()` call in the internal `@needs_host` decorator, is at the outer level, and thus fires pretty much on any network related operation.\n\nIt instead needs to fire only inside the block which prompts for a host when `env.host_string` is not set.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/412", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/412/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/412/events", "html_url": "https://github.com/fabric/fabric/issues/412", "id": 1438110, "node_id": "MDU6SXNzdWUxNDM4MTEw", "number": 412, "title": "env.rcfile does not appear to load given fabricrc file", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:01:29Z", "updated_at": "2012-03-12T23:44:29Z", "closed_at": "2012-03-12T23:44:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen using `env.rcfile = 'a path here'` at module level, the specified file isn't loaded up and applied to `env`. However, `--config` does work as expected. Probably a load order or other issue in `main.py`.\n\nReported by IRC user `roshambo`.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-08-16** at **12:33pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/410", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/410/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/410/events", "html_url": "https://github.com/fabric/fabric/issues/410", "id": 1438108, "node_id": "MDU6SXNzdWUxNDM4MTA4", "number": 410, "title": "Decorator stacking problems and @task", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/18", "html_url": "https://github.com/fabric/fabric/milestone/18", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/18/labels", "id": 56630, "node_id": "MDk6TWlsZXN0b25lNTY2MzA=", "number": 18, "title": "1.4", "description": "Networky things.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2011-11-18T05:12:29Z", "updated_at": "2012-02-14T02:20:59Z", "due_on": null, "closed_at": "2012-02-14T02:20:40Z"}, "comments": 11, "created_at": "2011-08-19T02:01:28Z", "updated_at": "2012-02-29T01:55:29Z", "closed_at": "2012-02-14T02:20:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThis is at least a documentation problem, if not a code one -- using `@task` \"inside\" other decorators such as `@hosts` doesn't work well, and `@task` must thus come at the top of the decorator 'list'. See [this ML thread](https://lists.nongnu.org/archive/html/fab-user/2011-07/msg00016.html) for details.\n\nSee also [Erich Heine's post in that thread](https://lists.nongnu.org/archive/html/fab-user/2011-07/msg00019.html) suggesting a way of normalizing the various decorators so this becomes less of a problem. It sounds a lot like Travis' idea of preemtively wrapping classic-style tasks in class tasks so that we can start assuming Task objects in the rest of the system.\n\nEDIT: I think it makes more sense to defer this to 1.4/1.5 and correctly normalize things, instead of adding a doc/FAQ change that will become obsolete soon after.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-08-11** at **02:32pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/405", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/405/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/405/events", "html_url": "https://github.com/fabric/fabric/issues/405", "id": 1438103, "node_id": "MDU6SXNzdWUxNDM4MTAz", "number": 405, "title": "Put is using the local machines Path functions instead of the remote machine's.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T02:01:26Z", "updated_at": "2012-02-29T01:55:26Z", "closed_at": "2011-08-19T02:12:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHello I'm using windows to call a fabric file on a remote CentOS computer and using the put operation with a default empty path creates incorrect paths.\n\n> > > put('binaries/somefile.zip','')\n> > > [root@linux.com] put: binaries/somefile.zip -> /root\\somefile.zip\n> > > ['/root\\somefile.zip']\n\nI'm guessing you are simply using the os.path module, but you should be using the remote systems path module, posixpath in this case.\n\n---\n\nOriginally submitted by **Hugo Garza** (hiro2k) on **2011-08-02** at **01:23pm EDT**\n### Relations\n- Duplicates #306: Don't use os.path.join for remote paths\n\n---\n\nClosed as _Duplicate_ on **2011-08-02** at **04:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/404", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/404/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/404/events", "html_url": "https://github.com/fabric/fabric/issues/404", "id": 1438102, "node_id": "MDU6SXNzdWUxNDM4MTAy", "number": 404, "title": "Sed regexp issue?", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:01:26Z", "updated_at": "2012-03-02T20:09:47Z", "closed_at": "2012-03-02T20:09:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nNot certain if this is a bug, but I have to escape parentheses whenever using contrib.files.sed(), otherwise it doesn't match in the file.\n\nAn example:\n\n`sed(\"/etc/sudoers\", \"^someuser ALL=\\(ALL\\) NOPASSWD:/usr/sbin/tw_cli,/usr/sbin/qshape,/usr/bin/socat,/etc/init\\.d\", \"\", use_sudo=True)`\n\nDebug output for this is:\n\n`sed -i.bak -r -e 's/^someuser ALL=\\(ALL\\) NOPASSWD:\\/usr\\/sbin\\/tw_cli,\\/usr\\/sbin\\/qshape,\\/usr\\/bin\\/socat,\\/etc\\/init\\.d//g' /etc/sudoers`\n\nThe docs say that parens should be escaped, and the source seems to confirm this, but it doesn't seem to work with double/single-quoted/raw strings, unless I escape them myself.\n\n---\n\nOriginally submitted by **Nick Trew** ([vxnick](https://github.com/vxnick)) on **2011-08-02** at **05:25am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/402", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/402/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/402/events", "html_url": "https://github.com/fabric/fabric/issues/402", "id": 1438100, "node_id": "MDU6SXNzdWUxNDM4MTAw", "number": 402, "title": "Automatically reconnect timed-out SSH connections", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2011-08-19T02:01:24Z", "updated_at": "2014-04-17T08:57:02Z", "closed_at": "2013-01-26T17:19:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nDuring continuous sessions with Amazon AWS instances it happens from time to time the \"SSH session not active\" exception.\n\nI'd like to suggest https://github.com/webengineer/fabric/commit/aab9fc0078eb4b8d4359948db6d857e85571b7c3 workaround.\n\n---\n\nOriginally submitted by **Max Chervonec** (webengineer.in.ua) on **2011-08-01** at **03:02am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/401", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/401/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/401/events", "html_url": "https://github.com/fabric/fabric/issues/401", "id": 1438099, "node_id": "MDU6SXNzdWUxNDM4MDk5", "number": 401, "title": "needs_host and and handle_prompt_abort", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:01:24Z", "updated_at": "2012-02-29T01:55:24Z", "closed_at": "2011-08-30T17:23:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI guess handle_prompt_abort should be moved inside loop, because now it aborts even env.host_string is properly set:\n\nhttps://github.com/fabric/fabric/blob/master/fabric/network.py#L326\n\n---\n\nOriginally submitted by **Vladimir Mihailenco** (vmihailenco) on **2011-07-31** at **07:40am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/400", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/400/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/400/events", "html_url": "https://github.com/fabric/fabric/issues/400", "id": 1438098, "node_id": "MDU6SXNzdWUxNDM4MDk4", "number": 400, "title": "Having no system username causes Fabric to error", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 11, "created_at": "2011-08-19T02:01:23Z", "updated_at": "2012-02-29T01:55:23Z", "closed_at": "2011-11-23T18:10:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI managed to stumble on this when using an ep.io account.\n\n```\nI have no name!@app-runner02:/mnt/bundles/port-8840/app_image/app$ python\nPython 2.7.1+ (r271:86832, Apr 11 2011, 18:13:53) \n[GCC 4.5.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from fabric.api import *\nTraceback (most recent call last):\nFile \"<stdin>\", line 1, in <module>\nFile \"/bundles/port-8840/app_image/pyenv/lib/python2.7/site-packages/fabric/api.py\", line 9, in <module>\nfrom fabric.context_managers import cd, hide, settings, show, path, prefix, lcd\nFile \"/bundles/port-8840/app_image/pyenv/lib/python2.7/site-packages/fabric/context_managers.py\", line 13, in <module>\nfrom fabric.state import env, output, win32\nFile \"/bundles/port-8840/app_image/pyenv/lib/python2.7/site-packages/fabric/state.py\", line 128, in <module>\ndefault=_get_system_username(),\nFile \"/bundles/port-8840/app_image/pyenv/lib/python2.7/site-packages/fabric/state.py\", line 75, in _get_system_username\nreturn pwd.getpwuid(os.getuid())[0]\nKeyError: 'getpwuid(): uid not found: 26442'    \n```\n\nI'm not sure what the correct behaviour should be, but a better error would indeed help.\n\nAs a work around I done something bad:\n\n```\nimport pwd; pwd.getpwuid = lambda x: [\"Monkey\",]\n```\n\n... but it works fine (so far!)\n\nIf this username is only being collected to be used as a default when connecting to a remote host it would presumably be better to just make it a required parameter if one is not available? I am overwriting this anyway in my case.\n\n---\n\nOriginally submitted by **Dougal Matthews** ([d0ugal](https://github.com/d0ugal)) on **2011-07-28** at **05:20am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/399", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/399/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/399/events", "html_url": "https://github.com/fabric/fabric/issues/399", "id": 1438097, "node_id": "MDU6SXNzdWUxNDM4MDk3", "number": 399, "title": "Import fabric.colors makes colors visible to fab -l", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-08-19T02:01:23Z", "updated_at": "2012-02-29T01:55:23Z", "closed_at": "2011-08-19T02:12:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI'm using v1.2.0, trying out fabric.colors and I noticed I got an undefined \"red\" command available.\n\n```\n$ fab --version\nFabric 1.2.0\n$ cat fabfile.py\nfrom fabric.api import *\nfrom fabric.colors import *\n$ fab -l\nAvailable commands:\nblue\ncyan\ngreen\nmagenta\nred\nwhite\nyellow\n```\n\n---\n\nOriginally submitted by **Alexander Fortin** ([shaftoe](https://github.com/shaftoe)) on **2011-07-28** at **04:18am EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-07-29** at **03:23am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/398", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/398/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/398/events", "html_url": "https://github.com/fabric/fabric/issues/398", "id": 1438096, "node_id": "MDU6SXNzdWUxNDM4MDk2", "number": 398, "title": "operations.put with use_sudo=True does not work inside \"cd\" context manager", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:01:22Z", "updated_at": "2012-02-29T01:55:22Z", "closed_at": "2011-08-19T02:12:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\ndef config_foo():\n    with cd(\"/some/remote\"):\n        put(\"/path/to/local/foo.xml\", \"path/foo.xml\", use_sudo=True)\n\nCommands to run: config_foo\n[ec2-xxxxx.amazonaws.com] Executing task 'config_foo'\n[ec2-xxxxx.amazonaws.com] put: /path/to/local/foo.xml -> /some/remote/path/foo.xml\n[ec2-xxxxx.amazonaws.com] sudo: sudo -S -p 'sudo password:'  /bin/bash -l -c \"cd /some/remote/ && mv \\\"99cb46f647151bc3dbbdf53435c69f372751fca0\\\" \\\"/some/remote/path/foo.xml\\\"\"\n\nFatal error: sudo() encountered an error (return code 1) while executing 'mv \"99cb46f647151bc3dbbdf53435c69f372751fca0\" \"/some/remote/path/foo.xml\"'\n\nNone\n\nAborting.\n\n---\n\nOriginally submitted by **David Arthur** ([mumrah](https://github.com/mumrah)) on **2011-07-27** at **06:33pm EDT**\n### Relations\n- Duplicates #342: cd() and put(use_sudo=True) do not play nice together\n\n---\n\nClosed as _Duplicate_ on **2011-07-27** at **07:16pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/397", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/397/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/397/events", "html_url": "https://github.com/fabric/fabric/issues/397", "id": 1438094, "node_id": "MDU6SXNzdWUxNDM4MDk0", "number": 397, "title": "Protect against bad contains/eq implementations in imported modules", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 3, "created_at": "2011-08-19T02:01:22Z", "updated_at": "2012-02-29T01:55:21Z", "closed_at": "2011-11-23T07:40:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe classic-task test includes an expression, `<object> in [list of Fabric API functions]`. This explodes if `<object>` has a bad implementation of `__eq__()`, such as in `psycopg2`, whose `STRING` member is a type which attempts to force-cast to `int` in its `__eq__()`. The result is a very perplexing traceback claiming that one of the function objects we're testing against is an invalid literal for \"int\". (A simple example of this can be found [here](https://gist.github.com/fe87f5cdc6823be02949).)\n\nI think a sensible defense against this would be to wrap that statement in `try`/`except: ValueError`, since most broken `__eq__` implementations probably raise `ValueError`, and certainly this one -- a widespread module many Fabric users are likely to be using -- does. Would prefer not to do a blanket exception here as that could still mask other, fabfile or Fabric level bugs.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-27** at **05:44pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/396", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/396/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/396/events", "html_url": "https://github.com/fabric/fabric/issues/396", "id": 1438093, "node_id": "MDU6SXNzdWUxNDM4MDkz", "number": 396, "title": "command line argument --shortlist not working", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/15", "html_url": "https://github.com/fabric/fabric/milestone/15", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/15/labels", "id": 30551, "node_id": "MDk6TWlsZXN0b25lMzA1NTE=", "number": 15, "title": "1.0.4, etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-08-23T19:15:24Z", "updated_at": "2011-09-01T22:15:31Z", "due_on": null, "closed_at": "2011-09-01T22:15:31Z"}, "comments": 3, "created_at": "2011-08-19T02:01:21Z", "updated_at": "2012-02-29T01:55:21Z", "closed_at": "2011-09-01T21:48:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI installed fabric using the 1.2.0 tag from the github repo on ubuntu 10.04.  fab --shortlist gives the usage output instead of the short task list.  The long version (fab -F short --list) works as expected.  I looked at the source but don't see why it's misbehaving.\n\n```\n% fab --version\nFabric 1.2.0\n\n% fab -F short --list\ndeploy\ndevelopment\nproduction\n...\n\n% fab --shortlist\nUsage: fab [options] <command>[:arg1,arg2=val2,host=foo,hosts='h1;h2',...] ...\nOptions:\n-h, --help            show this help message and exit\n-V, --version         show program's version number and exit\n-l, --list            print list of possible commands and exit\n...\n```\n\n---\n\nOriginally submitted by **Michael W** (alwassoc) on **2011-07-25** at **01:02pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/395", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/395/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/395/events", "html_url": "https://github.com/fabric/fabric/issues/395", "id": 1438092, "node_id": "MDU6SXNzdWUxNDM4MDky", "number": 395, "title": "Init scripts frequently fail to start their daemons", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2011-08-19T02:01:21Z", "updated_at": "2015-02-10T08:11:27Z", "closed_at": "2012-04-02T16:56:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI've gotten multiple reports of this on IRC, as well as a comment on #350, and now a [mailing list thread](http://lists.nongnu.org/archive/html/fab-user/2011-07/msg00024.html).\n\nNo clear cause yet, and while it's been reported multiple times I don't expect that it is a constant problem or we'd be hearing much more about it. In some very limited testing on my end so far, I can recreate the problem maybe 30-50% of the time -- but it is reproducible.\n\nSymptom is simply that init-style scripts responsible for starting daemons and then returning immediately, will return OK, return code of 0 and \"success\" status message printed to stdout -- but will not actually spin up the daemon in question.\n\nMy personal test was done via latest master targeting an Ubuntu 10.04 (Lucid) VM and the stock Apache2 package's init script.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-23** at **07:25pm EDT**\n### Relations\n- Related to #350: fabric hangs up some remote command (for daemon program)\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/392", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/392/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/392/events", "html_url": "https://github.com/fabric/fabric/issues/392", "id": 1438089, "node_id": "MDU6SXNzdWUxNDM4MDg5", "number": 392, "title": "contrib.files.contains does not properly quote text argument", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:01:18Z", "updated_at": "2012-02-29T01:55:18Z", "closed_at": "2011-08-19T02:12:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI discovered when using `contrib.files.append` that strings containing certain special characters (e.g. \"$\") are constantly re-appended on each execution. I traced this a little further and noticed that making a call such as...\n\n```\nappend('.bashrc', 'export PYTHONPATH=$PYTHONPATH:foo')\n```\n\n...results in an `egrep` call (via `contains`) like...\n\n```\negrep \"^export\\ PYTHONPATH\\=\\$PYTHONPATH\\:foo$\" \".bashrc\"\n```\n\nThe above command, when run directly on the host machine, will fail to find any matches. In this case I think that single quotes are more appropriate than double quotes. Where the above command fails to match any lines in the file, simply changing the double quotes to single quotes fixes the problem...\n\n```\negrep '^export\\ PYTHONPATH\\=\\$PYTHONPATH\\:foo$' \".bashrc\"\n```\n\nI have reproduced this on Ubuntu 10.04, but have not yet tried on any other system.\n\n---\n\nOriginally submitted by **Trevor Rundell** ([trun](https://github.com/trun)) on **2011-07-16** at **01:40pm EDT**\n### Relations\n- Duplicates #118: Single quotes in append() don't work, or: goddamn quoting\n\n---\n\nClosed as _Duplicate_ on **2011-07-16** at **11:43pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/392/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/389", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/389/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/389/events", "html_url": "https://github.com/fabric/fabric/issues/389", "id": 1438086, "node_id": "MDU6SXNzdWUxNDM4MDg2", "number": 389, "title": "Paramiko import abort doesn't actually print exception msg", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T02:01:16Z", "updated_at": "2012-02-29T01:55:16Z", "closed_at": "2011-08-19T02:12:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe \"you must have Paramiko\" import simply aborts if it fails, and does not tell the user what the problem actually was.\n\nThis should be changed to print the exception/its message when debug is turned on.\n\nReported by Brian Luft (`unbracketed`).\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-14** at **10:59pm EDT**\n\n---\n\nClosed as _Done_ on **2011-07-14** at **11:38pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/385", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/385/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/385/events", "html_url": "https://github.com/fabric/fabric/issues/385", "id": 1438082, "node_id": "MDU6SXNzdWUxNDM4MDgy", "number": 385, "title": "IPv6 addresses", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2011-08-19T02:01:14Z", "updated_at": "2012-09-02T03:05:14Z", "closed_at": "2011-12-02T18:51:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nCurrently it is not possible to specify IPv6 host address:\n\n```\n$ fab -H 2001:0DB8::1 taskname\n[2001:0DB8::1] Executing task 'taskname'\nFatal error: Low level socket error connecting to host 2001: Invalid argument\n```\n\nUsing square brackets http://serverfault.com/questions/205793/how-can-one-distinguish-the-difference-between-the-host-and-the-port-in-an-ipv6-u can help to separate address and port. And maybe we can make brackets optional by using more sophisticated regex patterns to distinguish IPv6 addresses from hostnames and IPv4 addresses.\n\nWhat do you think?\n\n---\n\nOriginally submitted by **Max Arnold** (LwarX) on **2011-07-11** at **01:18pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/384", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/384/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/384/events", "html_url": "https://github.com/fabric/fabric/issues/384", "id": 1438081, "node_id": "MDU6SXNzdWUxNDM4MDgx", "number": 384, "title": "fabric output customization seems broken since 1.0", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:01:14Z", "updated_at": "2012-03-02T20:07:45Z", "closed_at": "2012-03-02T20:07:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI put the following in my fabfile:\n\n```\nfrom fabric.state import output\noutput['running'] = output['status'] = False\n@task\ndef date():\nrun('date', pty=False)\n```\n\nThen 'fab date' output looks like this:\n\n```\n$ fab date\n[test01] out: Fri Jul  8 22:14:43 EDT 2011\n[test01] out: [test02] out: Fri Jul  8 22:14:42 EDT 2011\n[test02] out: [test03] out: Fri Jul  8 22:14:42 EDT 2011\n[test03] out: [test04] out: Fri Jul  8 22:14:44 EDT 2011\n[test04] out: $ \n```\n\nBefore 1.0 it looked  something like this:\n\n```\n$ fab date\n[test01] out: Fri Jul  8 22:14:43 EDT 2011\n[test03] out: Fri Jul  8 22:14:42 EDT 2011\n[test03] out: Fri Jul  8 22:14:42 EDT 2011\n[test04] out: Fri Jul  8 22:14:44 EDT 2011\n$\n```\n\nI prefer the original output. \n\nWithout redefining output, it appears as this:\n\n```\n$ fab date\n[test01] Executing task 'date'\n[test01] run: date\n[test01] out: Fri Jul  8 22:16:58 EDT 2011\n[test01] out: \n[test02] Executing task 'date'\n[test02] run: date\n[test02] out: Fri Jul  8 22:16:57 EDT 2011\n[test02] out: \n[test03] Executing task 'date'\n[test03] run: date\n[test03] out: Fri Jul  8 22:16:57 EDT 2011\n[test03] out: \n[test04] Executing task 'date'\n[test04] run: date\n[test04] out: Fri Jul  8 22:16:58 EDT 2011\n[test04] out: \nDone.\nDisconnecting from test04... done.\nDisconnecting from test03... done.\nDisconnecting from test02... done.\nDisconnecting from test01... done.\n$\n```\n\nSo it seems like it is somehow not outputting the `run: ...` part but still outputting the host name.\n\n---\n\nOriginally submitted by ***\\* ([marduk](https://github.com/marduk)) on **2011-07-08** at **10:23pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/380", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/380/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/380/events", "html_url": "https://github.com/fabric/fabric/issues/380", "id": 1438077, "node_id": "MDU6SXNzdWUxNDM4MDc3", "number": 380, "title": "s/str/basestring/", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:01:12Z", "updated_at": "2012-02-29T01:55:11Z", "closed_at": "2011-08-19T02:12:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nInstead of comparing with `str` or `types.StringTypes`, use `basestring` instead -- it's newer and easier to use, being a builtin.\n\n[GH commit](https://github.com/whiskybar/fabric/commit/f442929e87a2bd7d6568e62a633fadd2870965c8) from Jiri Barton.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-07** at **03:35pm EDT**\n\n---\n\nClosed as _Done_ on **2011-07-08** at **07:36pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/377", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/377/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/377/events", "html_url": "https://github.com/fabric/fabric/issues/377", "id": 1438074, "node_id": "MDU6SXNzdWUxNDM4MDc0", "number": 377, "title": "Change env.user appropriately when env.hosts are present", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:01:10Z", "updated_at": "2012-03-30T17:02:27Z", "closed_at": "2012-03-30T17:02:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOriginally submitted as a GHPR by [jdonaldson](https://github.com/jdonaldson):\n\n> I'm pretty sure this should work. If state.env.user == username, then it's the same value retrieved from interpret_host_string(), and we can revert it safely... despite a few side cases:\n> \n> If a user sets env.user (e.g., env.user = 'foo'), and then this user is specified in a host string \"foo@bar.com\". Then, env.user will not be preserved appropriately. However, in this case it doesn't matter, since the username for foo@bar.com will always take precedence.\n> \n> If env.hosts are mixed (e.g., bar.com, and foo@bar.com), then env.user will be set appropriately the first time that a user is not specified by a host (bar.com).\n\n[GH commit](https://github.com/bigmlcom/fabric/commit/c50b5c87c856c70f499cd68e2b6af74d470e6dbe)\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-07** at **03:27pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/376", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/376/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/376/events", "html_url": "https://github.com/fabric/fabric/issues/376", "id": 1438073, "node_id": "MDU6SXNzdWUxNDM4MDcz", "number": 376, "title": "fabric.operations.put doesn't follow host-side symlinks at remote_path", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:01:10Z", "updated_at": "2012-03-02T20:06:42Z", "closed_at": "2012-03-02T20:06:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen remote_path contains symlink fabric throws exception:\n\nFatal error: put() encountered an exception while uploading '<anyfile>'\n\nUnderlying exception message:\n    Failure\n\nAborting.\n\n---\n\nOriginally submitted by **Alexander Tankeev** (atankeev) on **2011-07-07** at **08:31am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/375", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/375/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/375/events", "html_url": "https://github.com/fabric/fabric/issues/375", "id": 1438072, "node_id": "MDU6SXNzdWUxNDM4MDcy", "number": 375, "title": "New style task and isMappingType", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-08-19T02:01:09Z", "updated_at": "2012-02-29T01:55:08Z", "closed_at": "2011-08-19T02:12:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn main.py:310 there is line that checks if value is task or collection. The problem with isMappingType() check is that I can't define **getitem** method on class (and I really want to do this :). Can that line can changed to more explicit check, for example:\n\n```\nisinstance(value, fabric.tasks.Task)\n```\n\nor\n\n```\nhasattr(value, '__call__')\n```\n\n?\n\n---\n\nOriginally submitted by **Vladimir Mihailenco** (vmihailenco) on **2011-07-06** at **03:46am EDT**\n\n---\n\nClosed as _Done_ on **2011-07-07** at **02:43pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/373", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/373/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/373/events", "html_url": "https://github.com/fabric/fabric/issues/373", "id": 1438070, "node_id": "MDU6SXNzdWUxNDM4MDcw", "number": 373, "title": "Excluding hosts is broken", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/15", "html_url": "https://github.com/fabric/fabric/milestone/15", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/15/labels", "id": 30551, "node_id": "MDk6TWlsZXN0b25lMzA1NTE=", "number": 15, "title": "1.0.4, etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-08-23T19:15:24Z", "updated_at": "2011-09-01T22:15:31Z", "due_on": null, "closed_at": "2011-09-01T22:15:31Z"}, "comments": 0, "created_at": "2011-08-19T02:01:08Z", "updated_at": "2012-02-29T01:55:06Z", "closed_at": "2011-09-01T00:17:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhile the tests for this newly added feature still pass, the feature itself is broken in real usage:\n- `fab -x` doesn't work with `-H`-specified hosts (also when `@hosts` is used)\n- `fab -x` doesn't work with `-R` specified roles (also when `@roles` is used)\n- `fab task:exclude_hosts=x` doesn't work with `-H`-specified hosts (when `@roles` is used, but _also_ when it is _not_ used)\n\nThe rest may be busted too, not sure. Haven't actually looked at the cause, hopefully something simple was busted pre-1.1 release.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-07-05** at **12:55am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/370", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/370/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/370/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/370/events", "html_url": "https://github.com/fabric/fabric/pull/370", "id": 1438067, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0OTAx", "number": 370, "title": "put() empty remote_path arg ignores use of with cd():", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 486645, "node_id": "MDU6TGFiZWw0ODY2NDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/put()/get()", "name": "put()/get()", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-08-19T02:01:06Z", "updated_at": "2018-05-10T06:53:13Z", "closed_at": "2018-05-10T06:53:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/370", "html_url": "https://github.com/fabric/fabric/pull/370", "diff_url": "https://github.com/fabric/fabric/pull/370.diff", "patch_url": "https://github.com/fabric/fabric/pull/370.patch", "merged_at": null}, "body": "### Description\n\nWhen using put() in this way:\n\n```\nwith cd(\"/etc/apache2\"):\n    put('%s/httpd-vhosts.conf' % confs_dir, '', use_sudo=True)\n    put('%s/apache2.conf' % confs_dir, '', use_sudo=True)\n    sudo('mkdir logs')`\n```\n\nthe empty string in put's second arg is supposed to resolve to the current working directory on the remote end. However, in this case it resolves to the user's home directory.\n\nI believe the lines where this is determined are 397-400 in operations.py:\n\n```\n# Expand tildes (assumption: default remote cwd is user $HOME)\nhome = ftp.normalize('.')\n\n# Empty remote path implies cwd\nremote_path = remote_path or home\n```\n\n---\n\nOriginally submitted by **Matt DeBoard** (mdeboard) on **2011-06-29** at **03:32pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/370/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/368", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/368/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/368/events", "html_url": "https://github.com/fabric/fabric/issues/368", "id": 1438065, "node_id": "MDU6SXNzdWUxNDM4MDY1", "number": 368, "title": "Hitting Ctrl-C / Ctrl-D at password prompt to login to remote system does nothing", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2011-08-19T02:01:05Z", "updated_at": "2012-02-29T01:55:03Z", "closed_at": "2011-11-15T22:12:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI am setting up a server to deploy to via fabric and for whatever reason the SSH keys did not get correctly configured, and fabric asked me for my password. Since no password was configured for the account the only sensible action at that point was to abort the connection and fix the server.\n\nHowever, aborting the connection seems to be impossible. Neither Ctrl-C nor Ctrl-D do anything when fabric is in the password prompt.\n\nI had to enter something bogus enough times for remote end to give up and close the connection.\n\nIt should be possible to abort password prompts via Ctrl-C.\n\n---\n\nOriginally submitted by **Oleg M Prozorov** ([oleg](https://github.com/oleg)) on **2011-06-24** at **11:52pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/367", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/367/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/367/events", "html_url": "https://github.com/fabric/fabric/issues/367", "id": 1438064, "node_id": "MDU6SXNzdWUxNDM4MDY0", "number": 367, "title": "files.append not detecting lines present if ~ used", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:01:05Z", "updated_at": "2013-05-19T00:16:51Z", "closed_at": "2013-03-19T20:19:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe files.append always appends the lines, whether they're present or not.\n\nIt appears a tilde in the path is a factor.\n\n```\ndef test_append():\n    files.append('~/lines', ['line1', 'line2'])\n```\n\nReplaced '~/lines' with 'lines' and it behaves as expected. It is the file presence detection that is failing:\n\n```\nCommands to run: test_append\n[jaracoco@box758.bluehost.com] Executing task 'test_append'\n[jaracoco@box758.bluehost.com] run: /bin/bash -l -c \"test -e \\\"~/lines\\\"\"\n[jaracoco@box758.bluehost.com] run: /bin/bash -l -c \"echo 'line1' >> ~/lines\"\n[jaracoco@box758.bluehost.com] run: /bin/bash -l -c \"test -e \\\"~/lines\\\"\"\n[jaracoco@box758.bluehost.com] run: /bin/bash -l -c \"echo 'line2' >> ~/lines\"\n```\n\nAs you can see, even after the first command is run, it fails to detect the file. I've replicated this on Ubuntu 10.04 and the redhat variant at Bluehost.\n\n---\n\nOriginally submitted by **Jason R. Coombs** ([jaraco](https://github.com/jaraco)) on **2011-06-24** at **01:55pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/366", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/366/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/366/events", "html_url": "https://github.com/fabric/fabric/issues/366", "id": 1438063, "node_id": "MDU6SXNzdWUxNDM4MDYz", "number": 366, "title": "syntax error near unexpected token when using files.append", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:01:04Z", "updated_at": "2012-03-13T21:44:45Z", "closed_at": "2012-03-13T21:44:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWith this fabfile.py:\n\nfrom fabric.contrib import files\ndef test_parenthesis():\n    files.append('~/test_paren', [\"(Word, '/')\"])\n\nIt fails with \"syntax error near unexpected token `)'\"\n\nIt seems the bash escaping is failing for this case where there are parentheses and single-quotes.\n\n---\n\nOriginally submitted by **Jason R. Coombs** ([jaraco](https://github.com/jaraco)) on **2011-06-24** at **01:33pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/363", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/363/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/363/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/363/events", "html_url": "https://github.com/fabric/fabric/issues/363", "id": 1438060, "node_id": "MDU6SXNzdWUxNDM4MDYw", "number": 363, "title": "Consider integrating Clint or other external CLI lib", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:01:03Z", "updated_at": "2018-05-29T18:56:00Z", "closed_at": "2018-05-29T18:56:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFab does a handful of super basic general CLI things like prompting for questions, (as of 1.0) PTY detection and such, really basic coloring (#101) and so on.\n\nKenneth Reitz's [Clint](https://github.com/kennethreitz/clint) library does a lot of this and more, is neat and clean, and general purpose. He's also go [Envoy](https://github.com/kennethreitz/envoy) which is higher level and could replace/augment `local`.\n\nThere's also [pbs](https://github.com/amoffat/pbs) which has a neat basic idea (map Python function args/kwargs to CLI flags) though its implementation is incredibly hacky. May be worth ripping off the API if nothing else, or using it wholesale if the code gets cleaned up.\n\nMight be nice to tear out our stuff into Clint (where Clint doesn't already have X) and use Clint instead of internal code. Contributing to a general purpose external library feels like a good idea.\n\nOnly downside is the usual \"adding a new dependency == potential pain point\" as exemplified in Paramiko, though I don't expect that sort of burden with something like Clint, especially since it's small enough that we could be a major contributor if necessary.\n\n---\n\nA number of the other packages listed in #101 also have these sorts of functions, especially Blessings -- check them out too.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-06-19** at **12:38pm EDT**\n### Relations\n- Related to #101: ANSI Color support\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/362", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/362/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/362/events", "html_url": "https://github.com/fabric/fabric/issues/362", "id": 1438059, "node_id": "MDU6SXNzdWUxNDM4MDU5", "number": 362, "title": "Color nesting doesn't work properly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:01:03Z", "updated_at": "2012-02-29T01:55:00Z", "closed_at": "2011-08-19T02:12:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIf I use this as an example, the word **_on**_ won't be coloured blue (non-bold) as expected.\n\n`print(blue(\"Executing \" + blue(env.command, True) + \" on \" + blue(env.host, True)))`\n\nThis might be related to/obsoleted by #101, but I thought I'd raise it anyway.\n\n---\n\nOriginally submitted by **Nick Trew** ([vxnick](https://github.com/vxnick)) on **2011-06-09** at **04:30am EDT**\n\n---\n\nClosed as _Wontfix_ on **2011-06-09** at **01:19pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/359", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/359/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/359/events", "html_url": "https://github.com/fabric/fabric/issues/359", "id": 1438056, "node_id": "MDU6SXNzdWUxNDM4MDU2", "number": 359, "title": "sudo password input sometimes doesn't work", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:01:02Z", "updated_at": "2012-02-29T01:54:58Z", "closed_at": "2011-08-19T02:12:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nSometimes (most of the time), I can't provide password via prompt: I put my password and get \"Sorry, try again\". Sometimes parts of my password leek to console.\nSometimes it works after 2-3 tries, sometimes after 10. Not sure how to explain this.\nIt works flawlessly when password is provided via \"-p\".\nI experience the problem regardless of pty setting; regardless whether it's remote host or just local network.\n\nI will provide any debugging, but I need some guiding.\n\n---\n\nOriginally submitted by **Tomasz Paczkowski** ([oinopion](https://github.com/oinopion)) on **2011-06-03** at **09:30am EDT**\n### Relations\n- Duplicates #320: Issue with buffering input with sudo\n\n---\n\nClosed as _Duplicate_ on **2011-06-03** at **11:04am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/356", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/356/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/356/events", "html_url": "https://github.com/fabric/fabric/issues/356", "id": 1438053, "node_id": "MDU6SXNzdWUxNDM4MDUz", "number": 356, "title": "put command incorrectly assembles remote_path on Windows", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 6, "created_at": "2011-08-19T02:00:59Z", "updated_at": "2012-02-29T01:54:56Z", "closed_at": "2011-08-19T02:12:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nUsing the following recipe:\n\n```\ndef put_put_to_the_test():\n    sudo('mkdir -p /opt/puttest')\n    sudo('chown -R `id -un`:nogroup /opt/puttest')\n    put('sample.zip', '/opt/puttest')\n```\n\nI run this using the latest fabric sourcecode (commit 3b4d8dd1e734aa860f35708d61e881ad0cfc1701), I get the following error when running the above command on Windows:\n\n```\nPS C:\\Users\\jaraco\\projects> fab -H devjaraco put_put_to_the_test\n[devjaraco] Executing task 'put_put_to_the_test'\n[devjaraco] sudo: mkdir -p /opt/puttest\n[devjaraco] sudo: chown -R `id -un`:nogroup /opt/puttest\n[devjaraco] put: sample.zip -> /opt/puttest\\sample.zip\n\nFatal error: put() encountered an exception while uploading 'sample.zip'\n\nUnderlying exception message:\n    Permission denied\n\nAborting.\nDisconnecting from devjaraco... done.\n```\n\nIt's failing because it's trying to create the file \"/opt/puttest\\sample.zip\" but the user doesn't have permission to write to /opt. Changing to sudo allows the command to succeed, but then the file is created as /opt/puttest\\sample.zip.\n\n---\n\nOriginally submitted by **Jason R. Coombs** ([jaraco](https://github.com/jaraco)) on **2011-05-25** at **01:27pm EDT**\n### Relations\n- Duplicates #306: Don't use os.path.join for remote paths\n\n---\n\nClosed as _Duplicate_ on **2011-05-26** at **12:41am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/354", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/354/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/354/events", "html_url": "https://github.com/fabric/fabric/issues/354", "id": 1438051, "node_id": "MDU6SXNzdWUxNDM4MDUx", "number": 354, "title": "_AttributeString cannot be passed to put as remotePath argument", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:59Z", "updated_at": "2015-12-06T23:12:46Z", "closed_at": "2015-12-06T23:12:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFollowing code raises an exception if remoteTempPath is an _AttributeString\n\n```\nput(localTempPath+\"/*\",remoteTempPath);\n```\n\nThe exception trace looks like this:\n\n```\nFile \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/Fabric-1.0.1-py2.6.egg/fabric/network.py\", line 303, in host_prompting_wrapper\nreturn func(*args, **kwargs)\nFile \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/Fabric-1.0.1-py2.6.egg/fabric/operations.py\", line 407, in put\nif ftp.exists(remote_path):\nFile \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/Fabric-1.0.1-py2.6.egg/fabric/sftp.py\", line 43, in exists\nself.ftp.lstat(path).st_mode\nFile \"build/bdist.macosx-10.5-i386/egg/paramiko/sftp_client.py\", line 355, in lstat\nFile \"build/bdist.macosx-10.5-i386/egg/paramiko/sftp_client.py\", line 627, in _request\nFile \"build/bdist.macosx-10.5-i386/egg/paramiko/sftp_client.py\", line 646, in _async_request\nException: unknown type for '/tmp/oxq8tBC' type <class 'fabric.operations._AttributeString'>\n```\n\nI guess this code doesn't work for _AttributeString: (616,sftp_client.py):\n\n```\n      msg.add_int(self.request_number)\n        for item in arg:\n            if type(item) is int:\n                msg.add_int(item)\n            elif type(item) is long:\n                msg.add_int64(item)\n            elif type(item) is str:\n                msg.add_string(item)\n            elif type(item) is SFTPAttributes:\n                item._pack(msg)\n            else:\n                raise Exception('unknown type for %r type %r' % (item, type(item)))\n```\n\n---\n\nOriginally submitted by **Jan-Eric Duden** (jeduden) on **2011-05-22** at **08:44am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/352", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/352/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/352/events", "html_url": "https://github.com/fabric/fabric/issues/352", "id": 1438049, "node_id": "MDU6SXNzdWUxNDM4MDQ5", "number": 352, "title": "Intermittent output freezing", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 13, "created_at": "2011-08-19T02:00:58Z", "updated_at": "2012-02-29T01:54:53Z", "closed_at": "2011-08-19T02:12:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nSometimes fabric output just freezes, like when pressing Ctrl+S in linux console, and in order to unfreeze it I need to press any key (space for example). This happens approximately after interactive prompts (sudo or apt-get), but not exactly after them - I answer required question, fabric emits next one or two remote output lines and only then freezes. Overall it looks like race condition combined with blocking for input.\n\nI can not reproduce this bug reliably and yet not figured out exact conditions when it happens. Environment: Linux, Python 2.6.6, Paramiko 1.7.6, git fabric snapshot (5d27faa6, but happened in earlier versions too), local shell is zsh, remote is bash.\n\n---\n\nOriginally submitted by **Max Arnold** (LwarX) on **2011-05-15** at **07:17am EDT**\n### Relations\n- Related to #320: Issue with buffering input with sudo\n\n---\n\nClosed as _Done_ on **2011-06-24** at **08:35pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/351", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/351/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/351/events", "html_url": "https://github.com/fabric/fabric/issues/351", "id": 1438048, "node_id": "MDU6SXNzdWUxNDM4MDQ4", "number": 351, "title": "Exception in thread", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:00:57Z", "updated_at": "2012-03-02T01:33:39Z", "closed_at": "2012-03-02T01:33:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n```\nException in thread Thread-25 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-18 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-8 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-20 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-2 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-7 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-5 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\n```\n\n---\n\nOriginally submitted by **Jumping Qu** ([jumping](https://github.com/jumping)) on **2011-05-12** at **08:09pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/350", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/350/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/350/events", "html_url": "https://github.com/fabric/fabric/issues/350", "id": 1438047, "node_id": "MDU6SXNzdWUxNDM4MDQ3", "number": 350, "title": "fabric hangs up some remote command (for daemon program)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T02:00:57Z", "updated_at": "2012-03-02T19:53:21Z", "closed_at": "2012-03-02T19:53:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen I use fabric deploy configuration files and restart services for Ganglia, I found some ganglia monitor processes hanged up.\n## deploy script:\n\n```\n41 def refresh_DEV_node():\n42     put('/home/hadoop/workspace/ganglia/conf/DEV_node/*', '/etc/ganglia', True)\n43     sudo('/etc/init.d/ganglia-monitor restart')\n```\n## fabric version:\n\nFabric 1.0.1\n## Ganglia version:\n\ngmond 3.1.7\n## Linux box infomation:\n\nLinux Debian 2.6.32-5-amd64 #1 SMP Wed Jan 12 03:40:32 UTC 2011 x86_64 GNU/Linux\n\n---\n\nOriginally submitted by ***\\* ([docete](https://github.com/docete)) on **2011-05-11** at **10:21pm EDT**\n### Relations\n- Related to #395: Init scripts frequently fail to start their daemons\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/349", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/349/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/349/events", "html_url": "https://github.com/fabric/fabric/issues/349", "id": 1438046, "node_id": "MDU6SXNzdWUxNDM4MDQ2", "number": 349, "title": "Inappropriate ioctl for device", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:00:56Z", "updated_at": "2012-02-29T01:54:52Z", "closed_at": "2011-08-19T02:12:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n  File \"post_check.py\", line 73, in main\n    downloadobj.clean(log)\n  File \"/mnt/apps/ec2/scripts/djangoscript.py\", line 136, in clean\n    run('echo > %s' %yuan)\n  File \"/usr/local/lib/python2.5/site-packages/Fabric-1.0.1-py2.5.egg/fabric/network.py\", line 303, in host_prompting_wrapper\n    return func(_args, *_kwargs)\n  File \"/usr/local/lib/python2.5/site-packages/Fabric-1.0.1-py2.5.egg/fabric/operations.py\", line 918, in run\n    return _run_command(command, shell, pty, combine_stderr)\n  File \"/usr/local/lib/python2.5/site-packages/Fabric-1.0.1-py2.5.egg/fabric/operations.py\", line 842, in _run_command\n    combine_stderr)\n  File \"/usr/local/lib/python2.5/site-packages/Fabric-1.0.1-py2.5.egg/fabric/operations.py\", line 727, in _execute\n    rows, cols = _pty_size()\n  File \"/usr/local/lib/python2.5/site-packages/Fabric-1.0.1-py2.5.egg/fabric/operations.py\", line 51, in _pty_size\n    buffer)\nIOError: [Errno 25] Inappropriate ioctl for device\n\n---\n\nOriginally submitted by **Jumping Qu** ([jumping](https://github.com/jumping)) on **2011-05-11** at **09:53pm EDT**\n### Relations\n- Duplicates #303: Possible pty detection bug\n\n---\n\nClosed as _Duplicate_ on **2011-05-11** at **10:25pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/347", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/347/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/347/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/347/events", "html_url": "https://github.com/fabric/fabric/issues/347", "id": 1438044, "node_id": "MDU6SXNzdWUxNDM4MDQ0", "number": 347, "title": "contrib.files.append incorrectly tests for str, not StringTypes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/12", "html_url": "https://github.com/fabric/fabric/milestone/12", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/12/labels", "id": 29495, "node_id": "MDk6TWlsZXN0b25lMjk0OTU=", "number": 12, "title": "0.9.6", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2011-08-19T02:00:42Z", "updated_at": "2011-08-19T02:12:16Z", "due_on": null, "closed_at": "2011-08-19T02:12:16Z"}, "comments": 1, "created_at": "2011-08-19T02:00:55Z", "updated_at": "2012-02-29T01:54:50Z", "closed_at": "2011-08-19T02:12:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThis causes it to slice up Unicode strings as if they were lists.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-04-29** at **02:58pm EDT**\n\n---\n\nClosed as _Done_ on **2011-04-29** at **03:03pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/346", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/346/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/346/events", "html_url": "https://github.com/fabric/fabric/issues/346", "id": 1438043, "node_id": "MDU6SXNzdWUxNDM4MDQz", "number": 346, "title": "Bug in operations._shell_escape()", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:55Z", "updated_at": "2012-02-29T01:54:50Z", "closed_at": "2011-08-19T02:12:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n`_shell_escape()` function doesn't escape backslash symbols, therefore sequences such as `\\\"` or `\\$` can break shell commands or result in undesirable behaviour. Quite trivial patch with test and fix is available at [github](https://github.com/imankulov/fabric/commit/360c027ab1180c4b3c65b4a7361f6f63b0c8d689), please apply one.\n\n---\n\nOriginally submitted by **Roman Gonzalez** ([roman](https://github.com/roman)) on **2011-04-29** at **04:19am EDT**\n### Relations\n- Duplicates #118: Single quotes in append() don't work, or: goddamn quoting\n\n---\n\nClosed as _Duplicate_ on **2011-04-29** at **01:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/345", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/345/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/345/events", "html_url": "https://github.com/fabric/fabric/issues/345", "id": 1438042, "node_id": "MDU6SXNzdWUxNDM4MDQy", "number": 345, "title": "contrib.files.contains() should not return combined stdout and stderr", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 3, "created_at": "2011-08-19T02:00:54Z", "updated_at": "2012-02-29T01:54:49Z", "closed_at": "2011-08-19T02:12:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n`contrib.files.contains()` returns output of 'egrep' command as a result. If you have hostname misconfigured sudo can put following line to 'stderr':\n\n<pre>sudo: unable to resolve host hosname</pre>\n\n\nEven if 'succeeded' flag is 'False' the result will be evaluated as 'True' because combined 'stdout' and 'stderr' is not empty.\n\nThis approach affects also 'append()' function.\n\nOne solution would be to return just `stdout` instead of combined streams but I failed to achieve that.\n\nOther solution just uses `succeeded` flag as a result of `contains()`. My fix is [here](https://github.com/drapichrust/fabric/commit/c4808db2806e6bc79200064e5f5f39bda5a98480).\n\n---\n\nOriginally submitted by **Szymon Reichmann** ([drapichrust](https://github.com/drapichrust)) on **2011-04-27** at **05:01am EDT**\n### Relations\n- Related to #324: Stderr possibly not capturing correctly\n\n---\n\nClosed as _Done_ on **2011-06-24** at **01:21am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/343", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/343/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/343/events", "html_url": "https://github.com/fabric/fabric/issues/343", "id": 1438040, "node_id": "MDU6SXNzdWUxNDM4MDQw", "number": 343, "title": "put() fails with Paramiko \"Channel closed.\" SSHException", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:00:53Z", "updated_at": "2018-12-28T20:53:43Z", "closed_at": "2012-03-02T01:36:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHere is the interactive session that explains the problem:\n\n<pre>\nIn [1]: import paramiko\n\nIn [2]: from fabric.api import *\n\nIn [3]: from django.conf import settings as djsettings\n\nIn [4]: paramiko.common.logging.basicConfig(level=paramiko.common.DEBUG)\n\nIn [5]: env.key_filename = djsettings.SSH_PRIVATE_KEY\n\nIn [6]: with settings(host_string='framebox.org', user='turutanov'):\n   ...:         run('whoami')\n   ...:     put('README', '~')\n   ...: \n[framebox.org] run: whoami\nDEBUG:paramiko.transport:starting thread (client mode): 0x238a750L\nINFO:paramiko.transport:Connected (version 2.0, client OpenSSH_5.6)\nDEBUG:paramiko.transport:kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes256-ctr', 'aes192-ctr', 'aes128-ctr', 'arcfour256', 'arcfour128', 'blowfish-cbc', 'aes256-cbc', 'aes192-cbc', 'aes128-cbc', '3des-cbc', 'cast128-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes256-ctr', 'aes192-ctr', 'aes128-ctr', 'arcfour256', 'arcfour128', 'blowfish-cbc', 'aes256-cbc', 'aes192-cbc', 'aes128-cbc', '3des-cbc', 'cast128-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False\nDEBUG:paramiko.transport:Ciphers agreed: local=aes128-ctr, remote=aes128-ctr\nDEBUG:paramiko.transport:using kex diffie-hellman-group1-sha1; server key type ssh-rsa; cipher: local aes128-ctr, remote aes128-ctr; mac: local hmac-sha1, remote hmac-sha1; compression: local none, remote none\nDEBUG:paramiko.transport:Switch to new keys ...\nDEBUG:paramiko.transport:Trying key deaaf8134bb5b9f28fb15bc3f7e4fec1 from /Users/dgl/Workspace/42-deploy/keys/id_rsa\nDEBUG:paramiko.transport:userauth is OK\nINFO:paramiko.transport:Authentication (publickey) successful!\nDEBUG:paramiko.transport:[chan 1] Max packet in: 34816 bytes\nDEBUG:paramiko.transport:[chan 1] Max packet out: 32768 bytes\nINFO:paramiko.transport:Secsh channel 1 opened.\nDEBUG:paramiko.transport:[chan 1] Sesch channel 1 request ok\nDEBUG:paramiko.transport:[chan 1] Sesch channel 1 request ok\n[framebox.org] out: turutanov\n[framebox.org] out: DEBUG:paramiko.transport:[chan 1] EOF received (1)\nDEBUG:paramiko.transport:[chan 1] EOF sent (1)\n\nOut[6]: 'turutanov'\nDEBUG:paramiko.transport:[chan 2] Max packet in: 34816 bytes\nDEBUG:paramiko.transport:[chan 2] Max packet out: 32768 bytes\nINFO:paramiko.transport:Secsh channel 2 opened.\nDEBUG:paramiko.transport:[chan 2] EOF sent (2)\n---------------------------------------------------------------------------\nSSHException                              Traceback (most recent call last)\n\n/Users/dgl/Workspace/42-deploy/<ipython console> in <module>()\n\n/Users/dgl/.virtualenvs/deploy-env/src/fabric/fabric/network.pyc in host_prompting_wrapper(*args, **kwargs)\n    301             host_string = raw_input(\"No hosts found. Please specify (single) host string for connection: \")\n    302             interpret_host_string(host_string)\n--> 303         return func(*args, **kwargs)\n    304     return host_prompting_wrapper\n    305 \n\n/Users/dgl/.virtualenvs/deploy-env/src/fabric/fabric/operations.pyc in put(local_path, remote_path, use_sudo, mirror_local_mode, mode)\n    376         and callable(local_path.read))\n    377 \n--> 378     ftp = SFTP(env.host_string)\n    379 \n    380     with closing(ftp) as ftp:\n\n/Users/dgl/.virtualenvs/deploy-env/src/fabric/fabric/sftp.pyc in __init__(self, host_string)\n     16     \"\"\"\n     17     def __init__(self, host_string):\n---> 18         self.ftp = connections[host_string].open_sftp()\n     19 \n     20 \n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/client.pyc in open_sftp(self)\n    388         @rtype: L{SFTPClient}\n    389         \"\"\"\n--> 390         return self._transport.open_sftp_client()\n    391 \n    392     def get_transport(self):\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/transport.pyc in open_sftp_client(self)\n    825         @rtype: L{SFTPClient}\n    826         \"\"\"\n--> 827         return SFTPClient.from_transport(self)\n    828 \n    829     def send_ignore(self, bytes=None):\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in from_transport(cls, t)\n    103         if chan is None:\n    104             return None\n--> 105         chan.invoke_subsystem('sftp')\n    106         return cls(chan)\n    107     from_transport = classmethod(from_transport)\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/channel.pyc in invoke_subsystem(self, subsystem)\n    238         self._event_pending()\n    239         self.transport._send_user_message(m)\n--> 240         self._wait_for_event()\n    241 \n    242     def resize_pty(self, width=80, height=24):\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/channel.pyc in _wait_for_event(self)\n   1082         if e is None:\n   1083             e = SSHException('Channel closed.')\n-> 1084         raise e\n   1085 \n   1086     def _set_closed(self):\n\nSSHException: Channel closed.\n\nIn [7]: import fabric\n\nIn [8]: fabric.version.VERSION\nOut[8]: (1, 0, 1, 'final', 0)\n\nIn [9]: paramiko.__version__\nOut[9]: '1.7.6 (Fanny)'\n</pre>\n\n\nMain points are:\n1. Code above works for other hosts;\n2. The same error appears on two ALTLinux setups, maybe it's distro specific;\n3. run() works, but put() doesn't;\n4. Tried both Fabric 1.0.1 from PyPI and lastest version from GitHub repo\n\n---\n\nOriginally submitted by **David Leadbeater** ([dgl](https://github.com/dgl)) on **2011-04-26** at **11:58am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/342", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/342/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/342/events", "html_url": "https://github.com/fabric/fabric/issues/342", "id": 1438039, "node_id": "MDU6SXNzdWUxNDM4MDM5", "number": 342, "title": "cd() and put(use_sudo=True) do not play nice together", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 2, "created_at": "2011-08-19T02:00:52Z", "updated_at": "2012-02-29T01:54:47Z", "closed_at": "2011-11-23T05:19:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen wrapping a `put(x, y, use_sudo=True)` call within a `with cd():` block, the hidden `sudo(mv)` call inside `put` (which moves the file from its temp location to the final destination) is honoring the `cd` prefix. The `mv` call uses a relative path in its first argument (I assume because we didn't want to specify an absolute remote temporary location?) and is thus in the wrong directory when it actually runs.\n\nThe obvious solution is to use an absolute path for the `use_sudo=True` temporary location. So either assume the remote system has a `/tmp`, or (probably better) determine the remote user's home directory as an absolute path, and then use that explicitly instead of implicitly.\n\nSubmitted by irc user `dsx4ever` / Egor M.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-04-25** at **09:06pm EDT**\n### Relations\n- Duplicated by #398: operations.put with use_sudo=True does not work inside \"cd\" context manager\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/341", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/341/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/341/events", "html_url": "https://github.com/fabric/fabric/issues/341", "id": 1438038, "node_id": "MDU6SXNzdWUxNDM4MDM4", "number": 341, "title": "append reappends existing lines (or: exists() not passing use_sudo)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/17", "html_url": "https://github.com/fabric/fabric/milestone/17", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/17/labels", "id": 56270, "node_id": "MDk6TWlsZXN0b25lNTYyNzA=", "number": 17, "title": "1.3.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-11-16T22:16:45Z", "updated_at": "2011-11-23T21:03:58Z", "due_on": null, "closed_at": "2011-11-23T20:56:28Z"}, "comments": 9, "created_at": "2011-08-19T02:00:52Z", "updated_at": "2017-05-30T08:56:45Z", "closed_at": "2011-11-23T07:33:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n...at least in my environment.\n\nWhen run this multiple times :\n\n```\nappend('/var/lib/pgsql/data/pg_hba.conf', text='local all all trust', use_sudo=True)\n```\n\nI get :\n    ...\n    # IPv6 local connections:\n    host    all         all         ::1/128               ident\n    local all all trust\n    local all all trust\n    local all all trust\n\nIt's probably just me because it seems too big to be true, but I cannot find what I might be doing wrong.\n\n---\n\nOriginally submitted by ***\\* ([dperetti](https://github.com/dperetti)) on **2011-04-22** at **03:08pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/339", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/339/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/339/events", "html_url": "https://github.com/fabric/fabric/issues/339", "id": 1438036, "node_id": "MDU6SXNzdWUxNDM4MDM2", "number": 339, "title": "fabric.utils.indent (and fabric.colors.*) listed in --list", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/19", "html_url": "https://github.com/fabric/fabric/milestone/19", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/19/labels", "id": 63267, "node_id": "MDk6TWlsZXN0b25lNjMyNjc=", "number": 19, "title": "1.3.4 etc", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-12-07T18:24:54Z", "updated_at": "2012-01-11T02:21:16Z", "due_on": null, "closed_at": "2012-01-11T02:21:16Z"}, "comments": 9, "created_at": "2011-08-19T02:00:50Z", "updated_at": "2012-02-29T01:54:45Z", "closed_at": "2012-01-11T02:21:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nNot 100% sure if this is a bug, but it would appear to me that this isn't set as `_internal` and is therefore showing up in `fab --list`.\n\nWouldn't normally be an issue, but I'm trying to make `--list` tidy enough for some completely non-tech staff to be able to look at it and use defined tasks.\n\nFYI, the same happens with `fabric.colors`. Again, not sure if this is actually a bug.\n\n---\n\nOriginally submitted by **Nick Trew** ([vxnick](https://github.com/vxnick)) on **2011-04-20** at **08:42am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/338", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/338/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/338/events", "html_url": "https://github.com/fabric/fabric/issues/338", "id": 1438035, "node_id": "MDU6SXNzdWUxNDM4MDM1", "number": 338, "title": "normalizing the resetting of env.user in the presence of hosts", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:50Z", "updated_at": "2012-03-02T01:35:44Z", "closed_at": "2012-03-02T01:35:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nPlease see the pull request published here:\nhttps://github.com/bitprophet/fabric/pull/17\n\ntext:\nI'm pretty sure this should work. If state.env.user == username, then it's the same value retrieved from interpret_host_string(), and we can revert it safely... despite a few side cases:\n\nIf a user sets env.user (e.g., env.user = 'foo'), and then this user is specified in a host string \"foo@bar.com\". Then, env.user will not be preserved appropriately. However, in this case it doesn't matter, since the username for foo@bar.com will always take precedence.\n\nIf env.hosts are mixed (e.g., env.hosts=['foo@bar.com','bar.com']), then the new env.user will be set appropriately the first time that a user is not specified by a host (for 'bar.com').\n\nThe diff is available here, it's a simple change:\nhttps://github.com/bitprophet/fabric/pull/17/files\n\nI'll check this site for feedback, etc.\n\n---\n\nOriginally submitted by ***\\* ([jdonaldson](https://github.com/jdonaldson)) on **2011-04-18** at **04:43pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/337", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/337/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/337/events", "html_url": "https://github.com/fabric/fabric/issues/337", "id": 1438034, "node_id": "MDU6SXNzdWUxNDM4MDM0", "number": 337, "title": "fabric.api.put() ignores mode attribute on file-like objects", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 2, "created_at": "2011-08-19T02:00:49Z", "updated_at": "2012-02-29T01:54:43Z", "closed_at": "2011-08-19T02:12:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIt turns out that when one uploads a non-local file (file-like object), the `mode` attribute takes no effect. It looks like a typo in code. Please consider applying [this patch](https://github.com/imankulov/fabric/commit/4b2d2d62a823ccd5ab53c42774a9a77df2aeb1ad).\n\n---\n\nOriginally submitted by **Roman Gonzalez** ([roman](https://github.com/roman)) on **2011-04-11** at **10:52pm EDT**\n\n---\n\nClosed as _Done_ on **2011-04-24** at **09:43pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/336", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/336/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/336/events", "html_url": "https://github.com/fabric/fabric/issues/336", "id": 1438033, "node_id": "MDU6SXNzdWUxNDM4MDMz", "number": 336, "title": "\"append\" adding the same line in every execution", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 5, "created_at": "2011-08-19T02:00:49Z", "updated_at": "2012-02-29T01:54:43Z", "closed_at": "2011-08-19T02:12:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n`fabric.contrib.files.append` is adding the same line in every execution, as for example the following instruction:\n\n```\nappend(\n    '/etc/hosts',\n    text=(\n      '\\n'\n      '# example.com\\n'\n      '127.1.1.1\\texample.com\\texample\\n'\n      '\\n'\n    )\n    use_sudo=True,\n)\n```\n\nI think it is because of the `\\n`\n\n---\n\nOriginally submitted by **Guilherme Gondim** ([semente](https://github.com/semente)) on **2011-04-06** at **11:24am EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-04-07** at **07:11pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/332", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/332/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/332/events", "html_url": "https://github.com/fabric/fabric/issues/332", "id": 1438029, "node_id": "MDU6SXNzdWUxNDM4MDI5", "number": 332, "title": "Send notifications with prompts or on completion", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:00:46Z", "updated_at": "2012-02-29T01:54:40Z", "closed_at": "2011-08-19T02:12:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nBasically, sometimes processes will be happily doing their thing when a prompt will come up, and by that time some other mega-urgent request has come in, and the poor fabric session gets forgotten about. Upon return, the connection to the remote machine has timed out (e.g. when waiting for passwords) and then you have to start alllll over again.\n\nI sorta fixed this here : https://github.com/stringfellow/fabric\n\n---\n\nOriginally submitted by **Steve Pike** ([stringfellow](https://github.com/stringfellow)) on **2011-03-31** at **11:17am EDT**\n### Attachments\n- [notify.patch](https://gist.github.com/261d14a8b7dbf70dd08a)\n\n---\n\nClosed as _Wontfix_ on **2011-04-19** at **12:16pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/330", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/330/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/330/events", "html_url": "https://github.com/fabric/fabric/issues/330", "id": 1438027, "node_id": "MDU6SXNzdWUxNDM4MDI3", "number": 330, "title": "please highlight the with ", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:45Z", "updated_at": "2012-02-29T01:54:39Z", "closed_at": "2011-08-19T02:12:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI created a fabfile.py using with, there is always has errors:\n\n<pre>\n............\n    with cd('/tmp'):\n          ^\nSyntaxError: invalid syntax\n............\n</pre>\n\nuntil added the <pre> from __future__ import with_statement </pre>.\n\n---\n\nOriginally submitted by **Jumping Qu** ([jumping](https://github.com/jumping)) on **2011-03-31** at **12:07am EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-03-31** at **08:14am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/329", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/329/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/329/events", "html_url": "https://github.com/fabric/fabric/issues/329", "id": 1438026, "node_id": "MDU6SXNzdWUxNDM4MDI2", "number": 329, "title": "run() after reboot() fails", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/13", "html_url": "https://github.com/fabric/fabric/milestone/13", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/13/labels", "id": 29496, "node_id": "MDk6TWlsZXN0b25lMjk0OTY=", "number": 13, "title": "0.9.7", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2011-08-19T02:00:44Z", "updated_at": "2011-08-19T02:12:13Z", "due_on": null, "closed_at": "2011-08-19T02:12:13Z"}, "comments": 8, "created_at": "2011-08-19T02:00:44Z", "updated_at": "2016-06-14T04:56:25Z", "closed_at": "2011-08-19T02:12:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nEven after waiting long enough for the box to come up, the next command after reboot fails like:\n\n```\n[somehost.example.com] Waiting for reboot: ........................done.\n[somehost.example.com] run: rm thatfile.txt\nTraceback (most recent call last):\nFile \"/Users/brainsik/.virtualenvs/sauce/lib/python2.7/site-packages/fabric/main.py\", line 546, in main\ncommands[name](*args, **kwargs)\nFile \"/Users/brainsik/src/sauce/admin/fabfile.py\", line 571, in pre_install_node\nrun(\"rm pre-install-node.sh\")\nFile \"/Users/brainsik/.virtualenvs/sauce/lib/python2.7/site-packages/fabric/network.py\", line 303, in host_prompting_wrapper\nreturn func(*args, **kwargs)\nFile \"/Users/brainsik/.virtualenvs/sauce/lib/python2.7/site-packages/fabric/operations.py\", line 918, in run\nreturn _run_command(command, shell, pty, combine_stderr)\nFile \"/Users/brainsik/.virtualenvs/sauce/lib/python2.7/site-packages/fabric/operations.py\", line 841, in _run_command\nstdout, stderr, status = _execute(default_channel(), wrapped_command, pty,\nFile \"/Users/brainsik/.virtualenvs/sauce/lib/python2.7/site-packages/fabric/state.py\", line 274, in default_channel\nreturn connections[env.host_string].get_transport().open_session()\nAttributeError: 'NoneType' object has no attribute 'open_session'\nDisconnecting from somehost.example.com... done.\n```\n\n---\n\nOriginally submitted by **jeremy avnet / @brainsik** ([brainsik](https://github.com/brainsik)) on **2011-03-28** at **04:49pm EDT**\n\n---\n\nClosed as _Done_ on **2011-06-23** at **09:19pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/328", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/328/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/328/events", "html_url": "https://github.com/fabric/fabric/issues/328", "id": 1438025, "node_id": "MDU6SXNzdWUxNDM4MDI1", "number": 328, "title": "fabric.contrib.files.upload_template should respect lcd() and template_dir", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2011-08-19T02:00:43Z", "updated_at": "2014-06-18T19:52:33Z", "closed_at": "2013-04-29T04:39:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nupload_template respects template_dir only if jinja2 is used, otherwise it simply tries to open file in current dir:\n\nwith open(filename) as inputfile:\n            text = inputfile.read()\n        if context:\n            text = text % context\n\n---\n\nOriginally submitted by **Dmitry Guyvoronsky** ([dreamiurg](https://github.com/dreamiurg)) on **2011-03-26** at **06:44pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/327", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/327/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/327/events", "html_url": "https://github.com/fabric/fabric/issues/327", "id": 1438024, "node_id": "MDU6SXNzdWUxNDM4MDI0", "number": 327, "title": "lcd fails on Windows", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/12", "html_url": "https://github.com/fabric/fabric/milestone/12", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/12/labels", "id": 29495, "node_id": "MDk6TWlsZXN0b25lMjk0OTU=", "number": 12, "title": "0.9.6", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2011-08-19T02:00:42Z", "updated_at": "2011-08-19T02:12:16Z", "due_on": null, "closed_at": "2011-08-19T02:12:16Z"}, "comments": 6, "created_at": "2011-08-19T02:00:43Z", "updated_at": "2013-04-12T19:58:13Z", "closed_at": "2011-08-19T02:12:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI\u2019ve been trying out fabric 1.0 on Windows XP with Python 2.7.  This simple script fails:\n\n<pre>\nfrom fabric.api import lcd, local, env\ndef test():\n    with lcd(\"d:\\\\\"):\n        print env.lcwd\n        local(\"dir\")\n</pre>\n \n\nHere\u2019s the output:\n\n<pre>\n>fab test\nd:\\\n[localhost] local: dir\nThe filename, directory name, or volume label syntax is incorrect.\nFatal error: local() encountered an error (return code 1) while executing 'dir'\nAborting.\n</pre>\n\n\nAs you can see, env.lcwd is set correctly, but is not used properly.  It looks like there\u2019s some Unix specific path manipulation in the function _change_cwd() in context_managers.py.\n\n---\n\nOriginally submitted by **Robin Palotai** ([RobinP](https://github.com/robinp)) on **2011-03-24** at **06:11am EDT**\n### Relations\n- Duplicates #258: Quoting path names with spaces for local() fails on Windows\n\n---\n\nClosed as _Duplicate_ on **2011-04-27** at **04:30pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/326", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/326/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/326/events", "html_url": "https://github.com/fabric/fabric/issues/326", "id": 1438023, "node_id": "MDU6SXNzdWUxNDM4MDIz", "number": 326, "title": "Test SSH server no longer returning 'bad command' well", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:42Z", "updated_at": "2013-05-27T01:19:54Z", "closed_at": "2013-05-27T01:19:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen a command not found in RESPONSES/responses is sent to the test SSH server, for some reason the client never gets the `send_exit_status()` call (i.e. the server thread thinks everything is fine but the client's call to `exit_status_ready()` never returns True. This is perplexing as everything that occurs during normal calls vs failed ones appears identical re: calls to `send_exit_status()` and related mechanisms (e.g. presence of _any_ vs _no_ stdout or stderr data).\n\nLook harder at what the successful calls are doing and see if we can work backwards from that to see why the other branch isn't working.\n\nEDIT: This may not be as comparatively simple as it appeared -- even successful returns are not working now. The key is using `put(xxx, use_sudo=True)`. Normal individual calls to `sudo` still test OK as always. Very strange.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-22** at **07:45pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/324", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/324/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/324/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/324/events", "html_url": "https://github.com/fabric/fabric/issues/324", "id": 1438021, "node_id": "MDU6SXNzdWUxNDM4MDIx", "number": 324, "title": "Stderr possibly not capturing correctly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 4, "created_at": "2011-08-19T02:00:41Z", "updated_at": "2012-02-29T01:54:36Z", "closed_at": "2011-08-19T02:12:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nSee [this ML thread](http://lists.nongnu.org/archive/html/fab-user/2011-03/msg00042.html) -- a user reports that even with `pty=False, combine_stderr=False` he's still getting combined stdout/stderr.\n- Double check his assumptions / reproduce locally\n- Make sure this is not a case of other options forcing an implicit `pty=True` (there's at least one or two of these IIRC)\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-20** at **12:53am EDT**\n### Relations\n- Related to #345: contrib.files.contains() should not return combined stdout and stderr\n\n---\n\nClosed as _Done_ on **2011-05-31** at **07:44pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/324/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/323", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/323/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/323/events", "html_url": "https://github.com/fabric/fabric/issues/323", "id": 1438020, "node_id": "MDU6SXNzdWUxNDM4MDIw", "number": 323, "title": "put() not expanding tildes correctly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2011-08-19T02:00:40Z", "updated_at": "2021-01-07T18:35:23Z", "closed_at": "2011-10-07T19:23:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIRC user `mercurial` reports that when he calls `put('blah.tar.gz', '~/target_existing_directory')`, Fabric spits out [a \"File not found\" IOError abort](https://gist.github.com/877024). Replacing the tilde with an absolute path works correctly. This implies that the tilde replacement is broken.\n\nFor reference, his local system is OS X 10.6 and his remote is Ubuntu 10.04.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-18** at **07:37pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/321", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/321/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/321/events", "html_url": "https://github.com/fabric/fabric/issues/321", "id": 1438018, "node_id": "MDU6SXNzdWUxNDM4MDE4", "number": 321, "title": "Prompted for password when PAgeant is running and public key is available", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T02:00:39Z", "updated_at": "2012-02-29T20:41:39Z", "closed_at": "2012-02-29T20:41:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI started using the PuTTY PAgeant (an SSH agent for the PuTTY suite of SSH tools) today. When I did, I found my fabric scripts no longer work. Where before Fabric would use the private keys found in ~/.ssh, it now prompts for a password when connecting. If I supply -a to the command, it works around the issue and uses public key auth.\n\nThe issue is probably due to [a defect in Paramiko](https://bugs.launchpad.net/paramiko/+bug/736955), but I wanted to report it here as well for completeness.\n\n---\n\nOriginally submitted by **Jason R. Coombs** ([jaraco](https://github.com/jaraco)) on **2011-03-17** at **11:45pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/320", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/320/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/320/events", "html_url": "https://github.com/fabric/fabric/issues/320", "id": 1438017, "node_id": "MDU6SXNzdWUxNDM4MDE3", "number": 320, "title": "Issue with buffering input with sudo", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 28, "created_at": "2011-08-19T02:00:38Z", "updated_at": "2012-02-29T01:54:33Z", "closed_at": "2011-08-19T02:12:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAfter updating to 1.0.0 I am having trouble with a task that uses sudo. The command looks something like this:\n\n<pre>\n\ndef set_permissions():\n    require('path', 'project_name', 'version', provided_by=environment_list)\n    with cd(env.path):\n        sudo('chown -R :mygroup releases/next' % env)\n\n</pre>\n\n\nOnce run I get something like this:\n\n<pre>\n$ fab dev set_permissions\n[XX.XX.XX.XX] Executing task 'set_permissions'\n[XX.XX.XX.XX] sudo: chown -R :mygroup releases/next\n[XX.XX.XX.XX] out: sudo password: \n[XX.XX.XX.XX] out: \n[XX.XX.XX.XX] out: Sorry, try again.\n[XX.XX.XX.XX] out: sudo password: \n</pre>\n\n\nIf I change the sudo command to `sudo('chown -R :mygroup releases/next' % env, pty=False)` And then type \"123456789012345678901234567890\" for a password I get this output:\n\n<pre>\n$ fab dev set_permissions\n[XX.XX.XX.XX] Executing task 'set_permissions'\n[XX.XX.XX.XX] sudo: chown -R :mygroup releases/next\n[XX.XX.XX.XX] out: sudo password: 342356057\n</pre>\n\n\nMy understanding is that this should echo every key I press back to me locally and it looks like it is losing many of them. I am on OS X connecting to a Rackspace ubuntu linux server and have:\n\nFabric==1.0.0\n\nparamiko==1.7.6\n\n---\n\nOriginally submitted by **Paul Oswald** ([poswald](https://github.com/poswald)) on **2011-03-17** at **09:12pm EDT**\n### Relations\n- Duplicated by #359: sudo password input sometimes doesn't work\n- Related to #312: Heavy CPU usage due to new interactivity behavior\n- Related to #352: Intermittent output freezing\n\n---\n\nClosed as _Done_ on **2011-06-24** at **08:35pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/319", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/319/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/319/events", "html_url": "https://github.com/fabric/fabric/issues/319", "id": 1438016, "node_id": "MDU6SXNzdWUxNDM4MDE2", "number": 319, "title": "operations.local fails under Python 2.7.1 in Windows", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:36Z", "updated_at": "2012-02-29T01:54:32Z", "closed_at": "2011-08-19T02:12:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOS: Windows 7 Ultimate 64-bit\nPython 2.7 32-bit\n\nProblem: After upgrading from Python 2.7 to 2.7.1, the 'local' function stopped working with the error:\n\nFatal error: local() encountered an error (return code 1) while executing 'rsync...[truncated]\n\nFurther investigation by setting capture=False shows the error:\n\nThe specified path is invalid.\n\nHowever, I was able to run the rsync command just fine directly in the windows command line.\n\nTo work around the bug, I had to change this line in operations.py from:\n\n```\np = subprocess.Popen([real_command], shell=True, stdout=out_stream,\n        stderr=err_stream)\n```\n\nto\n\n```\np = subprocess.Popen(real_command, shell=True, stdout=out_stream,\n        stderr=err_stream)\n```\n\nIt seems to me that this is a bug in fabric.  I imagine it could be resolved by either implementing the change above or by properly breaking up the parts of the command into a list, as is described in the Popen documentation.\n\nI am happy to test any patches.\n\n---\n\nOriginally submitted by ***\\* ([joelryan2k](https://github.com/joelryan2k)) on **2011-03-17** at **09:56am EDT**\n### Relations\n- Duplicates #258: Quoting path names with spaces for local() fails on Windows\n\n---\n\nClosed as _Duplicate_ on **2011-03-17** at **11:09am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/318", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/318/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/318/events", "html_url": "https://github.com/fabric/fabric/issues/318", "id": 1438015, "node_id": "MDU6SXNzdWUxNDM4MDE1", "number": 318, "title": "Potential put() problems", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T02:00:36Z", "updated_at": "2012-03-02T00:20:05Z", "closed_at": "2012-03-02T00:20:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIRC user `milind` reported the following:\n- 2 remote servers.\n- 6mb file to upload.\n- when host list is `[remote1, remote2]`, `remote1` uploads in a reasonable amount of time, but `remote2` then runs forever.\n- inspection of the remote file on `remote2` shows it growing past its real size, i.e. up to 20mb and growing.\n- this second run also had a slower transfer speed.\n- individual runs of just `remote` or `remote2` work fine with no problems.\n\nRegrettably I did not have time before he signed off to ask him what version he was using.\n\nI also recall another user claiming a similar issue but they did not specify what size their host list was, just that \"a 6mb file was taking like 30minutes\". Also no version number on that report.\n\nTentatively marking this 1.0.1 on the assumption it's 1.0.0 being used.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-15** at **06:52pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/317", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/317/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/317/events", "html_url": "https://github.com/fabric/fabric/issues/317", "id": 1438014, "node_id": "MDU6SXNzdWUxNDM4MDE0", "number": 317, "title": "Fabric 1.0 fails to install on CentOs Python 2.4 using Buildout", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-08-19T02:00:35Z", "updated_at": "2012-02-29T01:54:31Z", "closed_at": "2011-08-19T02:12:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI created a buildout that uses Fabric 1.0. Everything worked fine on Python 2.6 that's on my Mac OS X local, but it does not install on the production server.\n\nWhen I execute buildout I get the following error\n\n```\n-bash-3.2$ ./bin/buildout \nInstalling fabric.\nGetting distribution for 'fabric'.\nTraceback (most recent call last):\nFile \"<string>\", line 1, in ?\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 1712, in main\nwith_ei_usage(lambda:\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 1700, in with_ei_usage\nreturn f()\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 1716, in <lambda>\ndistclass=DistributionWithoutHelpCommands, **kw\nFile \"/usr/lib/python2.4/distutils/core.py\", line 149, in setup\ndist.run_commands()\nFile \"/usr/lib/python2.4/distutils/dist.py\", line 946, in run_commands\nself.run_command(cmd)\nFile \"/usr/lib/python2.4/distutils/dist.py\", line 966, in run_command\ncmd_obj.run()\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 211, in run\nself.easy_install(spec, not self.no_deps)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 427, in easy_install\nreturn self.install_item(None, spec, tmpdir, deps, True)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 476, in install_item\ndists = self.install_eggs(spec, download, tmpdir)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 655, in install_eggs\nreturn self.build_and_install(setup_script, setup_base)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 930, in build_and_install\nself.run_setup(setup_script, setup_base, args)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/command/easy_install.py\", line 919, in run_setup\nrun_setup(setup_script, args)\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/sandbox.py\", line 61, in run_setup\nDirectorySandbox(setup_dir).run(\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/sandbox.py\", line 105, in run\nreturn func()\nFile \"/home/ps/sites/dnh/eggs/setuptools-0.6c12dev_r88124-py2.4.egg/setuptools/sandbox.py\", line 64, in <lambda>\n{'__file__':setup_script, '__name__':'__main__'}\nFile \"setup.py\", line 7, in ?\nFile \"/tmp/easy_install-A1h6Xs/Fabric-1.0.0/fabric/version.py\", line 51\nsha1 = (\" (%s)\" % sha) if sha else \"\"\n^\nSyntaxError: invalid syntax\nAn error occurred when trying to install Fabric 1.0.0. Look above this message for any errors that were output by easy_install.\nWhile:\nInstalling fabric.\nGetting distribution for 'fabric'.\nError: Couldn't install: Fabric 1.0.0\n```\n\nThe priority is very high for me, so I would really appreciate some feedback.\n\nThank you very much,\nTaras\n\n---\n\nOriginally submitted by **Taras Mankovski** (tarasm) on **2011-03-15** at **05:36pm EDT**\n\n---\n\nClosed as _Wontfix_ on **2011-03-16** at **03:11pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/316", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/316/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/316/events", "html_url": "https://github.com/fabric/fabric/issues/316", "id": 1438013, "node_id": "MDU6SXNzdWUxNDM4MDEz", "number": 316, "title": "settings context_manager fails if you try to introduce a new setting", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 2, "created_at": "2011-08-19T02:00:35Z", "updated_at": "2012-02-29T01:54:31Z", "closed_at": "2011-08-19T02:12:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe settings context manager smartly saves and restores the previous env state when you use it. However if you attempt to introduce a new key into env using settings, it fails when the manager exits as it tries to restore from the \"previous\" dictionary and the key doesn't exist (since it didn't in the original env).\n\ne.g.\n\n```\ndef deploy():\n    with settings(new_setting='blah'):\n        run(\"ls\")\n# crashes after running ls\n```\n\n---\n\nOriginally submitted by ***\\* ([adamjernst](https://github.com/adamjernst)) on **2011-03-14** at **10:16pm EDT**\n\n---\n\nClosed as _Done_ on **2011-03-19** at **11:59pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/314", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/314/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/314/events", "html_url": "https://github.com/fabric/fabric/issues/314", "id": 1438011, "node_id": "MDU6SXNzdWUxNDM4MDEx", "number": 314, "title": "update mocking in unit tests to use with_patched_state_env", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 4, "created_at": "2011-08-19T02:00:34Z", "updated_at": "2012-02-29T01:54:29Z", "closed_at": "2011-08-19T02:12:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn ticket 113 we hit a bug in mocking out the state.env for tests. There's an updated decorator in test.utils to use for tests. Updating the tests to use that decorator vs the direct calls to fudge's with_patched_object\n\n---\n\nOriginally submitted by **Rick Harding** ([mitechie](https://github.com/mitechie)) on **2011-03-14** at **03:54pm EDT**\n### Relations\n- Related to #113: Make sure host lists can be iterables, not just lists\n\n---\n\nClosed as _Done_ on **2011-04-21** at **09:37pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/313", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/313/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/313/events", "html_url": "https://github.com/fabric/fabric/issues/313", "id": 1438010, "node_id": "MDU6SXNzdWUxNDM4MDEw", "number": 313, "title": "setting port in .fabricrc won't work", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 1, "created_at": "2011-08-19T02:00:34Z", "updated_at": "2012-02-29T01:54:29Z", "closed_at": "2011-08-19T02:12:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAfter setting port in .fabricrc in the following fashion:\n\nport = 26754\n\nThe port is not used in the connection. Tracing suggest that in network.py, the port is either retrieved from commandline or was hardcoded to be 22:\n\nport = r['port'] or '22'\n\nIMHO, this behavior should either be mentioned in the documentation or fixed by adding more code to get port from env.\n\n---\n\nOriginally submitted by ***\\* ([xiaket](https://github.com/xiaket)) on **2011-03-14** at **04:10am EDT**\n### Relations\n- Duplicates #138: env.port not honored if host string lacks port specification\n\n---\n\nClosed as _Duplicate_ on **2011-06-21** at **07:03pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/312", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/312/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/312/events", "html_url": "https://github.com/fabric/fabric/issues/312", "id": 1438009, "node_id": "MDU6SXNzdWUxNDM4MDA5", "number": 312, "title": "Heavy CPU usage due to new interactivity behavior", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 14, "created_at": "2011-08-19T02:00:33Z", "updated_at": "2012-03-29T15:35:49Z", "closed_at": "2011-08-19T02:12:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nProbably due to our looping/selecting on stdin, Fabric now uses a ton of CPU on some (all?) systems when waiting for remote commands to execute.\n\nIt'd be nice if we could find a different solution for the stdin/stdout/stderr polling which avoids this, but given the difficulty of simply getting that feature implemented at all (including experiments with async libraries) it might not be doable.\n1. Investigate whether switching to an async library would help any and would be possible.\n2. Possibly allow control over the interactivity (which would also be useful for parallelism in terms of preventing bytewise interweaving of output) so folks at least have the option of saying \"I'm not using that feature and want to not be polling constantly\".\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-10** at **05:10pm EST**\n### Attachments\n- [fab_load_fix.diff](https://gist.github.com/f232df87befa0fd0bf95)\n### Relations\n- Related to #320: Issue with buffering input with sudo\n\n---\n\nClosed as _Done_ on **2011-03-22** at **05:53pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/311", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/311/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/311/events", "html_url": "https://github.com/fabric/fabric/issues/311", "id": 1438008, "node_id": "MDU6SXNzdWUxNDM4MDA4", "number": 311, "title": "Default for append's \"partial\" arg still listed as True in docs", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 4, "created_at": "2011-08-19T02:00:32Z", "updated_at": "2012-02-29T01:54:28Z", "closed_at": "2011-08-19T02:12:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nUnder fabric.contrib.files.append in the online docs:\n\n```\nChanged in version 1.0: Changed default value of partial kwarg to be False.\n```\n\nHowever the method signature says different:\n\n```\nfabric.contrib.files.append(filename, text, use_sudo=False, partial=True, escape=True)\n```\n\n---\n\nOriginally submitted by ***\\* ([adamjernst](https://github.com/adamjernst)) on **2011-03-10** at **03:11pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-10** at **05:40pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/310", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/310/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/310/events", "html_url": "https://github.com/fabric/fabric/issues/310", "id": 1438007, "node_id": "MDU6SXNzdWUxNDM4MDA3", "number": 310, "title": "put() with use_sudo=True incorrectly formats file access modes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 2, "created_at": "2011-08-19T02:00:32Z", "updated_at": "2012-02-29T01:54:27Z", "closed_at": "2011-08-19T02:12:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIf you specify both use_sudo=True _and_ an explicit file mode using the mode kwarg, Fabric fails with an incorrectly formatted call to chmod.\n\n```\nput(\"test.py\", \"/bin/test.py\", use_sudo=True, mode=0755)\n```\n\nThe bug is in this relatively recent code:\n\n```\nif use_sudo:\n    with hide('everything'):\n        sudo('chmod %s \\\"%s\\\"' % (lmode, remote_path))\nelse:\n        self.ftp.chmod(remote_path, lmode)\n```\n\nThe file mode is being formatted using %s meaning it is printed as a decimal. It should be printed with %o, for octal.\n\n---\n\nOriginally submitted by ***\\* ([adamjernst](https://github.com/adamjernst)) on **2011-03-10** at **12:09pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-22** at **08:47pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/310/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/309", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/309/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/309/events", "html_url": "https://github.com/fabric/fabric/issues/309", "id": 1438006, "node_id": "MDU6SXNzdWUxNDM4MDA2", "number": 309, "title": "1.0.0 autodoc incorrectly lists recursive kwarg for put/get", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 6, "created_at": "2011-08-19T02:00:31Z", "updated_at": "2012-02-29T01:54:26Z", "closed_at": "2011-08-19T02:12:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI am getting the following error (snippet incomplete) when running a `get` operation in Fabric 1.0.\n\n<pre>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.6/dist-packages/fabric/main.py\", line 537, in main\n    commands[name](*args, **kwargs)\n  File \"/home/manoj/work/trunk/util/fabfile.py\", line 103, in fabfile\n    copy_logs(remote_dir, directory)\n  File \"/home/manoj/work/trunk/util/fabfile.py\", line 73, in copy_logs\n    return get('build/flex/*.log', local_path = local_dir, recursive = True)\n  File \"/usr/lib/python2.6/contextlib.py\", line 34, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/lib/python2.6/dist-packages/fabric/context_managers.py\", line 92, in _setenv\n    yield\n  File \"/home/manoj/work/trunk/util/fabfile.py\", line 73, in copy_logs\n    return get('build/flex/*.swf', local_path = local_dir, recursive = True)\n  File \"/usr/local/lib/python2.6/dist-packages/fabric/network.py\", line 304, in host_prompting_wrapper\n    return func(*args, **kwargs)\nTypeError: get() got an unexpected keyword argument 'recursive'\n</pre>\n\n\nAm I missing something? \n\n---\n\nOriginally submitted by **Manoj Govindan** ([egmanoj](https://github.com/egmanoj)) on **2011-03-10** at **05:11am EST**\n\n---\n\nClosed as _Done_ on **2011-03-10** at **05:40pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/308", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/308/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/308/events", "html_url": "https://github.com/fabric/fabric/issues/308", "id": 1438005, "node_id": "MDU6SXNzdWUxNDM4MDA1", "number": 308, "title": "@roles and @hosts decorators ignore command line options", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T02:00:31Z", "updated_at": "2012-02-29T01:54:26Z", "closed_at": "2011-08-19T02:12:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nGiven a fabfile:\n\n```\nfrom fabric.api import *\nfrom fabric.decorators import hosts, roles\n\nenv.roledefs = {\n    'frontend': ['fe1', 'fe2', 'fe3'],\n}\n\n@roles('frontend')\ndef test():\n    run('whoami')\n```\n\nPassing -H or -R on the command line has no effect:\n\n```\n$ fab -H fe999 test\n[fe1] Executing task 'test'\n[fe1] run: whoami\n[fe1] out: produser\n[fe1] out: \n[fe3] Executing task 'test'\n[fe3] run: whoami\n[fe3] out: produser\n[fe3] out: \n[fe2] Executing task 'test'\n[fe2] run: whoami\n[fe2] out: produser\n[fe2] out: \n```\n\nEh?\n\n---\n\nOriginally submitted by **Ian Langworth \u2620** ([statico](https://github.com/statico)) on **2011-03-09** at **01:51pm EST**\n\n---\n\nClosed as _Wontfix_ on **2011-03-09** at **02:03pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/307", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/307/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/307/events", "html_url": "https://github.com/fabric/fabric/pull/307", "id": 1438004, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0ODk2", "number": 307, "title": "some PEP 8 love needed", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 4, "created_at": "2011-08-19T02:00:30Z", "updated_at": "2014-06-13T10:55:41Z", "closed_at": "2011-08-19T02:12:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fabric/fabric/pulls/307", "html_url": "https://github.com/fabric/fabric/pull/307", "diff_url": "https://github.com/fabric/fabric/pull/307.diff", "patch_url": "https://github.com/fabric/fabric/pull/307.patch", "merged_at": null}, "body": "### Description\n\nrunning the `pep8` tool shows this:\n\n```\nsa@sub:~/0/python/fabric/fabric$ alias acsn; acsn pep8; pep8 *py\nalias acsn='apt-cache search --names-only'\npep8 - Python PEP 8 code style checker\nauth.py:10:1: E302 expected 2 blank lines, found 1\ncolors.py:19:80: E501 line too long (97 characters)\nio.py:21:24: E225 missing whitespace around operator\nio.py:97:63: E202 whitespace before ')'\nmain.py:17:23: E261 at least two spaces before inline comment\nnetwork.py:25:1: E303 too many blank lines (3)\nnetwork.py:55:1: W291 trailing whitespace\nnetwork.py:299:5: E301 expected 1 blank line, found 0\nsftp.py:275:42: E231 missing whitespace after ','\nversion.py:95:24: W602 deprecated form of raising exception\nsa@sub:~/0/python/fabric/fabric$ \n```\n\nWe should probably update `requirements.txt` and `fabfile.py` to include `pep8` and have a task for running it automatically on every commit. For more info on pep8: http://pypi.python.org/pypi/pep8\n\n---\n\nOriginally submitted by **Markus Gattol** ([markusgattol](https://github.com/markusgattol)) on **2011-03-09** at **04:08am EST**\n\n---\n\nClosed as _Done_ on **2011-04-21** at **08:45pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/307/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fabric/fabric/issues/306", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/306/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/306/events", "html_url": "https://github.com/fabric/fabric/issues/306", "id": 1438003, "node_id": "MDU6SXNzdWUxNDM4MDAz", "number": 306, "title": "Don't use os.path.join for remote paths", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2011-08-19T02:00:29Z", "updated_at": "2012-02-29T01:54:25Z", "closed_at": "2012-02-27T18:29:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn most places (SFTP-ly speaking) we assume the remote end uses Unix style forward slashes because there is no reliable way to detect the remote OS, and (AFAIK) even Windows-based remote SSH/SFTP clients use forward slashes anyway.\n\nThus, our `os.path.join` policy should be to use `os.path.join` for _local_ paths but **not** for remote paths, which should always use `/`.\n\nUnfortunately, we do not do this consistently, leading Windows client users to run into problems when using `put` and `get`. `fabric/sftp.py` is littered with `os.path.join`.\n\nSo, we should:\n- Develop (or copy, ideally) our own version of `os.path.join` hardcoded to use a Unix-style separator\n- Use that instead of `os.path.join` for all remote contexts\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-07** at **06:30pm EST**\n### Attachments\n- [posixpath.patch](https://gist.github.com/a3dfba88d1f72dc23dba)\n### Relations\n- Duplicated by #356: put command incorrectly assembles remote_path on Windows\n- Duplicated by #405: Put is using the local machines Path functions instead of the remote machine's.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/305", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/305/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/305/events", "html_url": "https://github.com/fabric/fabric/issues/305", "id": 1438002, "node_id": "MDU6SXNzdWUxNDM4MDAy", "number": 305, "title": "trailing whitespace in IP addresses causes error", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 2, "created_at": "2011-08-19T02:00:28Z", "updated_at": "2012-02-29T01:54:24Z", "closed_at": "2011-08-19T02:12:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nTrailing whitespace in IP address values causes name lookup failure, which is counterintuitive and should be cared for. NB: leading whitespace doesn't seem to matter.\n\nTest case:\n\n<pre>\npantouflejr:tmp mbravo$ cat fabfile.py\nfrom fabric.api import *\n\nenv.hosts = ['127.0.0.1 ']\n\ndef test():\n    run('uname -r');\npantouflejr:tmp mbravo$ fab test\n[127.0.0.1 ] Executing task 'test'\n[127.0.0.1 ] run: uname -r\n\nFatal error: Name lookup failed for 127.0.0.1 \n\nAborting.\npantouflejr:tmp mbravo$ \n\n</pre>\n\n\nTested with fabric 0.9.4\n\n---\n\nOriginally submitted by ***\\* ([mbravo](https://github.com/mbravo)) on **2011-03-07** at **05:33pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-20** at **05:00pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/303", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/303/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/303/events", "html_url": "https://github.com/fabric/fabric/issues/303", "id": 1438000, "node_id": "MDU6SXNzdWUxNDM4MDAw", "number": 303, "title": "Possible pty detection bug", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140140, "node_id": "MDU6TGFiZWwxNDAxNDA=", "url": "https://api.github.com/repos/fabric/fabric/labels/Wart", "name": "Wart", "color": "e10c02", "default": false, "description": null}, {"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/15", "html_url": "https://github.com/fabric/fabric/milestone/15", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/15/labels", "id": 30551, "node_id": "MDk6TWlsZXN0b25lMzA1NTE=", "number": 15, "title": "1.0.4, etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-08-23T19:15:24Z", "updated_at": "2011-09-01T22:15:31Z", "due_on": null, "closed_at": "2011-09-01T22:15:31Z"}, "comments": 9, "created_at": "2011-08-19T02:00:27Z", "updated_at": "2012-02-29T01:54:23Z", "closed_at": "2011-08-31T20:46:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIRC user `djill_` encounters problems in 1.0 (but not 0.9) when piping Fabric output to `tee`, e.g. `fab [options] [task names] | tee [filename]`.\n\nThis is his traceback:\n\n```\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/main.py\", line 537, in main\n09:32 < djill_>     commands[name](*args, **kwargs)\n09:32 < djill_>   File \"/home/fabric/fabsys.py\", line 15, in date\n09:32 < djill_>     run('date')\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/network.py\", line 304, in host_prompting_wrapper\n09:32 < djill_>     return func(*args, **kwargs)\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/operations.py\", line 916, in run\n09:32 < djill_>     return _run_command(command, shell, pty, combine_stderr)\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/operations.py\", line 840, in _run_command\n09:32 < djill_>     combine_stderr)\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/operations.py\", line 726, in _execute\n09:32 < djill_>     rows, cols = _pty_size()\n09:32 < djill_>   File \"/usr/lib/python2.5/site-packages/Fabric-1.0.0-py2.5.egg/fabric/operations.py\", line 50, in _pty_size\n09:32 < djill_>     buffer)\n09:32 < djill_> IOError: [Errno 22] Invalid argument\n```\n\nThat says to me that it's a bug in how we try to update the remote pty based on the local one; if one's stdout/stderr is going to a shell pipe and not a terminal, that could definitely be causing that IOError.\n\nHopefully a quick fix; though given that it's an IOError with \"invalid argument\" (which is kind of generic) we may need to find a way of testing beforehand and skipping the pty stuff, instead of simply adding a try/catch.\n\nEDIT: Michael Bravo has a similar/same issue when piping Fabric to `grep`, though his error was `IOError: [Errno 25] Inappropriate ioctl for device` (on the exact same line). Not sure if that's an argument for or against the test-first vs catch-IOErrors approach...\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-03-07** at **10:25am EST**\n### Attachments\n- [operations.patch](https://gist.github.com/0bef63adb41547dbb72b)\n### Relations\n- Duplicated by #349: Inappropriate ioctl for device\n- Duplicated by #197: Handle running without any controlling tty\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/302", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/302/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/302/events", "html_url": "https://github.com/fabric/fabric/issues/302", "id": 1437999, "node_id": "MDU6SXNzdWUxNDM3OTk5", "number": 302, "title": "local variable 'dev_null' referenced before assignment", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 1, "created_at": "2011-08-19T02:00:26Z", "updated_at": "2012-02-29T01:54:22Z", "closed_at": "2011-08-19T02:12:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nCommit 834ace (https://github.com/bitprophet/fabric/commit/834ace42deb0381c8d036689ff2c25c551649a38) introduced a bug in scenarios where you execute local() with capture=True.  Specifically the dev_null variable isn't initialized in the preceding if block for it to be closed in the finally block.\n\n---\n\nOriginally submitted by ***\\* ([ericbuckley](https://github.com/ericbuckley)) on **2011-03-06** at **01:47pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-06** at **03:12pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/301", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/301/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/301/events", "html_url": "https://github.com/fabric/fabric/issues/301", "id": 1437998, "node_id": "MDU6SXNzdWUxNDM3OTk4", "number": 301, "title": "local() raises an UnboundLocalError if output.stdout or output.stderr is unset", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/11", "html_url": "https://github.com/fabric/fabric/milestone/11", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/11/labels", "id": 29494, "node_id": "MDk6TWlsZXN0b25lMjk0OTQ=", "number": 11, "title": "1.0.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T02:00:25Z", "updated_at": "2011-08-19T02:12:15Z", "due_on": null, "closed_at": "2011-08-19T02:12:15Z"}, "comments": 2, "created_at": "2011-08-19T02:00:25Z", "updated_at": "2012-02-29T01:54:21Z", "closed_at": "2011-08-19T02:12:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n<pre>\nimport fabric.api as fabric\n\nfabric.output.stdout = False\n\nprint fabric.local('ls')\n</pre>\n\n\nResults:\n\n<pre>\n\n[localhost] local: ls\nTraceback (most recent call last):\n  File \"quick.py\", line 5, in <module>\n    print fabric.local('ls')\n  File \"/Users/crose/virtualenv/release/lib/python2.7/site-packages/fabric/operations.py\", line 1001, in local\n    p = subprocess.Popen([wrapped_command], shell=True, stdout=out_stream,\nUnboundLocalError: local variable 'out_stream' referenced before assignment\n</pre>\n\n---\n\nOriginally submitted by **Eric Hanchrow** ([offby1](https://github.com/offby1)) on **2011-03-05** at **12:36pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-05** at **02:05pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/300", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/300/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/300/events", "html_url": "https://github.com/fabric/fabric/issues/300", "id": 1437997, "node_id": "MDU6SXNzdWUxNDM3OTk3", "number": 300, "title": "get fails (via glob) on Windows", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 2, "created_at": "2011-08-19T02:00:24Z", "updated_at": "2012-02-29T01:54:21Z", "closed_at": "2011-08-19T02:12:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI just tried [a 1.0a snapshot](http://code.fabfile.org/repositories/revision/fabric/2b639b67616ea03b1c51efee07c1e8ff87d787a9), but get() broke in my existing fabfiles.  It appears SFTP.glob() is using os.path.join() for remote paths, causing output like this:\n\n<pre>\n>>> from fabric.sftp import SFTP\n>>> s = SFTP(\"redacted\")\n>>> print s.glob(\"/proc/sys/kernel\")\n['/proc/sys\\\\kernel']\n</pre>\n\n\nI'm attaching two patches: one that fixes the problem on my system, and another to (hopefully) add it to your test suite.\n\n(Sadly, I haven't figured out how to execute the method in my second patch because \"python setup.py test\" got stuck at \"get() should honor env.cwd for relative remote paths ...\" and installing nose didn't give me a nosetests binary).\n\n---\n\nOriginally submitted by **Ed Brannin** ([edbrannin](https://github.com/edbrannin)) on **2011-03-03** at **05:48pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-05** at **12:19am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/296", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/296/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/296/events", "html_url": "https://github.com/fabric/fabric/issues/296", "id": 1437993, "node_id": "MDU6SXNzdWUxNDM3OTkz", "number": 296, "title": "Audit usage of `replace` in code", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 2, "created_at": "2011-08-19T02:00:22Z", "updated_at": "2012-02-29T01:54:18Z", "closed_at": "2011-08-19T02:12:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nRecent testing of fabric has come across some `replace` calls that are intended to replace just the left-most occurrence of a string, but because the calls are missing a third parameter limit they potentially make multiple replacements.\n\nExample problematic usage:\n`path.replace(leftmost_content_to_strip, '')`\n\nLikely intent:\n`path.replace(leftmost_content_to_strip, '', 1)`\n\nThe code should be audited to ensure any use of `replace` has the third parameter when only left-stripping is intended. \nIt also might be worthwhile having a utility method to do this work, since it's error-prone.\n\n---\n\nOriginally submitted by **James Murty** ([jmurty](https://github.com/jmurty)) on **2011-02-26** at **08:56pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-03** at **09:27pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/296/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/295", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/295/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/295/events", "html_url": "https://github.com/fabric/fabric/issues/295", "id": 1437992, "node_id": "MDU6SXNzdWUxNDM3OTky", "number": 295, "title": "get fails (via glob) for remote relative path", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 2, "created_at": "2011-08-19T02:00:22Z", "updated_at": "2012-02-29T01:54:18Z", "closed_at": "2011-08-19T02:12:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nPer the documentation for the `get` operation: \"Relative paths will be considered relative to the remote user\u2019s home directory\"\n\nThis currently does not work for paths unless the tilde is included, because STFP.glob fails to get results from a listdir.\n\nFor example, a remote_path of '~/remote_dir' will find 'remote_dir' in the remote user's home directory. A remote_path of 'remote_dir' will not find this directory.\n\n---\n\nOriginally submitted by **James Murty** ([jmurty](https://github.com/jmurty)) on **2011-02-26** at **07:34pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-04** at **10:17pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/294", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/294/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/294/events", "html_url": "https://github.com/fabric/fabric/issues/294", "id": 1437991, "node_id": "MDU6SXNzdWUxNDM3OTkx", "number": 294, "title": "Tests fail in Linux / Python 2.6.6 writing to root folder '/'", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 4, "created_at": "2011-08-19T02:00:21Z", "updated_at": "2012-02-29T01:54:17Z", "closed_at": "2011-08-19T02:12:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe failing tests are test_put_returns_list_of_remote_paths and test_put_returns_list_of_remote_paths_with_stringio . I will upload a patch shortly that makes sure to use temp folders.\n\n---\n\nOriginally submitted by **Stephen Goss** (postfuturist) on **2011-02-26** at **04:37pm EST**\n### Attachments\n- [fabric_294.patch](https://gist.github.com/e776ab03837cb8a90f23)\n\n---\n\nClosed as _Done_ on **2011-03-03** at **09:23pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/293", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/293/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/293/events", "html_url": "https://github.com/fabric/fabric/issues/293", "id": 1437990, "node_id": "MDU6SXNzdWUxNDM3OTkw", "number": 293, "title": "TestFileTransfers.test_put_from_empty_directory_uses_cwd fails in Linux / Python 2.6.6", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 4, "created_at": "2011-08-19T02:00:20Z", "updated_at": "2012-02-29T01:54:17Z", "closed_at": "2011-08-19T02:12:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nnose output:\n\n```\nput() expands empty local arg to local cwd ...\nFatal error: get() encountered an exception while downloading 'tmp26iXAW/file.txt'\nUnderlying exception message:\nNo such file\nAborting.\n```\n\nfailing on the call to get():\n\n```\nremote = os.path.join(os.path.basename(self.tmpdir), 'file.txt')\nget(remote, 'file2.txt')\n```\n\n---\n\nOriginally submitted by **Stephen Goss** (postfuturist) on **2011-02-26** at **02:43pm EST**\n### Attachments\n- [fabric_293.patch](https://gist.github.com/76070ff51030903e4d83)\n\n---\n\nClosed as _Done_ on **2011-03-03** at **09:15pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/287", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/287/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/287/events", "html_url": "https://github.com/fabric/fabric/issues/287", "id": 1437984, "node_id": "MDU6SXNzdWUxNDM3OTg0", "number": 287, "title": "NameError: global name 'base_password_prompt' is not defined", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 6, "created_at": "2011-08-19T02:00:15Z", "updated_at": "2012-02-29T01:54:13Z", "closed_at": "2011-08-19T02:12:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen using `append()` with `use_sudo=True`, I get the following traceback:\n\n```\n[myhost.mydomain] sudo: sudo -S -p 'sudo password:'  /bin/bash -l -c \"egrep \\\"^mytext\\\" \\\"/mypath/myfile.ext\\\"\"\n[myhost.mydomain] out: sudo password: \nSorry, you can't enter an empty password. Please try again.\nTraceback (most recent call last):\n  File \"fabric/main.py\", line 537, in main\n    commands[name](*args, **kwargs)\n  File \"myproject/fabfile.py\", line 202, in my_operation\n    append('/mypath/myfile.ext', ['mytext'], use_sudo=True)\n  File \"fabric/contrib/files.py\", line 286, in append\n    and contains(filename, regex, use_sudo=use_sudo)):\n  File \"fabric/contrib/files.py\", line 248, in contains\n    filename.replace('\"', r'\\\"')\n  File \"fabric/network.py\", line 304, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \"fabric/operations.py\", line 742, in sudo\n    user=user)\n  File \"fabric/operations.py\", line 638, in _run_command\n    combine_stderr)\n  File \"fabric/thread_handling.py\", line 11, in wrapper\n    callable(*args, **kwargs)\n  File \"fabric/io.py\", line 97, in output_loop\n    prompt=\" \", no_colon=True, stream=pipe\n  File \"fabric/network.py\", line 275, in prompt_for_password\n    password_prompt = base_password_prompt + \": \"\nNameError: global name 'base_password_prompt' is not defined\nDisconnecting from myhost.mydomain... done.\n```\n\nIn Fabric's codebase, the only appearance of the identifier `base_password_prompt` is at `fabric.network:275`. The code was committed in:\n\n```\ncommit 22900eae8f3d38e27369d2e3eaab3927b3765b36\nAuthor: Jeff Forcier <jeff@bitprophet.org>\nDate:   Thu Apr 16 14:56:30 2009 -0400\n\n    Factored out password prompting, sudo() works a bit better now.\n\n    Need to apply that method to the connection (vs sudo) prompting;\n    also need to figure out why, during connection prompting, something\n    (can't figure out what!) is splitting e.g. 'sys-dev' to just be 'sys'.\n```\n\n---\n\nOriginally submitted by **Antti Kaihola** ([akaihola](https://github.com/akaihola)) on **2011-02-11** at **04:00pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-16** at **04:42pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/287/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/286", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/286/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/286/events", "html_url": "https://github.com/fabric/fabric/issues/286", "id": 1437983, "node_id": "MDU6SXNzdWUxNDM3OTgz", "number": 286, "title": "Use __call__ instead of __init__ for classes that define one", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T02:00:14Z", "updated_at": "2012-02-29T01:54:12Z", "closed_at": "2011-08-19T02:12:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nA classname is callable as a task, with the arguments being passed to the **init** function. Not sure if this is by-design or just a consequence of Python syntax.\n\nBut if classes are meant to be callable, it might be more useful if **call** was passed the parameters, so \"class task: def **init**(self):.... def **call**(self, args, kwargs)\" would create an instance using the no-arg constructor, then pass processed command-line args into call. This would allow tasks to be derived from a base class, pass stuff to init for inheritance, then expose either custom or the base class's **call** method for actually running the task.\n\n---\n\nOriginally submitted by **Adam Vandenberg** ([adamv](https://github.com/adamv)) on **2011-02-05** at **12:53am EST**\n### Relations\n- Duplicates #21: Make execution model more robust/flexible\n- Related to #76: Use decorator to define tasks\n\n---\n\nClosed as _Duplicate_ on **2011-02-05** at **10:52am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/284", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/284/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/284/events", "html_url": "https://github.com/fabric/fabric/issues/284", "id": 1437981, "node_id": "MDU6SXNzdWUxNDM3OTgx", "number": 284, "title": "Add \"build/\" to .gitignore", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 2, "created_at": "2011-08-19T02:00:13Z", "updated_at": "2012-02-29T01:54:11Z", "closed_at": "2011-08-19T02:12:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI did a \"python setup.py install\" from my git checkout, and ended up with a \"build/\" folder.\n\nSo \"build/\" should be in .gitignore.\n\n---\n\nOriginally submitted by **Adam Vandenberg** ([adamv](https://github.com/adamv)) on **2011-02-05** at **12:32am EST**\n\n---\n\nClosed as _Done_ on **2011-02-26** at **05:12pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/273", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/273/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/273/events", "html_url": "https://github.com/fabric/fabric/issues/273", "id": 1437969, "node_id": "MDU6SXNzdWUxNDM3OTY5", "number": 273, "title": "upload_template should support backup_file=True", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 5, "created_at": "2011-08-19T02:00:05Z", "updated_at": "2012-02-29T01:54:04Z", "closed_at": "2011-08-19T02:11:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHello Jeff,\n\nI've added backup_file kwarg to upload_template, so it's possible to turn off creating automatic backup files when using upload_template.\n\nIt's especially need when uploading files to all kinds of /etc/..../conf.d directories, where all files (disregarding the name and extension) are being included.\n\nThanks,\n\nAles\n\n[GH pull request](https://github.com/bitprophet/fabric/pull/6#issuecomment-676343)\n\n---\n\nOriginally submitted by **Ales Zoulek** ([aleszoulek](https://github.com/aleszoulek)) on **2011-01-13** at **06:49pm EST**\n\n---\n\nClosed as _Done_ on **2011-04-22** at **06:23pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/272", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/272/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/272/events", "html_url": "https://github.com/fabric/fabric/issues/272", "id": 1437968, "node_id": "MDU6SXNzdWUxNDM3OTY4", "number": 272, "title": "Clean up mechanism for prefixing commands", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/24", "html_url": "https://github.com/fabric/fabric/milestone/24", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/24/labels", "id": 742771, "node_id": "MDk6TWlsZXN0b25lNzQyNzcx", "number": 24, "title": "2.0", "description": "Initial 2.0 release, backwards incompatible with 1.x, based heavily on use of https://github.com/pyinvoke/invoke", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2014-08-04T21:50:58Z", "updated_at": "2018-07-10T18:35:19Z", "due_on": null, "closed_at": "2018-07-10T18:35:19Z"}, "comments": 0, "created_at": "2011-08-19T02:00:05Z", "updated_at": "2015-12-11T02:08:18Z", "closed_at": "2015-12-11T02:08:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nRight now `_prefix_commands` in `operations.py` is pretty gross and does two things at once (`env.command_prefixes` gets prefixed _and_ `env.cwd/lcwd` are examined depending on caller). There should be a much cleaner way to go about this, even if it's just breaking those two components apart somehow.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2011-01-13** at **03:27pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/268", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/268/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/268/events", "html_url": "https://github.com/fabric/fabric/issues/268", "id": 1437964, "node_id": "MDU6SXNzdWUxNDM3OTY0", "number": 268, "title": "Using email as a login for host_string fails.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 2, "created_at": "2011-08-19T02:00:01Z", "updated_at": "2012-02-29T01:54:01Z", "closed_at": "2011-08-19T02:11:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI need to access an SSH site that the username is an email address.\n\nWhen passing host_string as\n\n```\n me@email.com:mypass@example.com:22\n```\n\nIt gets confused and tries to connect with \"email.com@example.com\" to the SSH client.\n\nI attempted to encode the @ into its urlencoded equivalent (%40) which did not work.\n\nI spoke on the mailing list with goosemo...\n\ngoosemo: yeah it's just an issue with normalize() as it's a regex to parse out the host_string vars\ngoosemo: host_pattern = r'((?P<user>[^@]+)@)?(?P<host>[^:]+)(?P<port>\\d+))?'\ngoosemo: so if you have suggestions on how to make it so that'll match properly for your use case, that'd be awesome\n\nI don't have any suggestions as of right now (not a regex guru).\n\nThanks.\n\n---\n\nOriginally submitted by **Thadeus Burgess** ([thadeusb](https://github.com/thadeusb)) on **2010-12-23** at **11:18am EST**\n\n---\n\nClosed as _Done_ on **2011-02-27** at **12:05am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/265", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/265/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/265/events", "html_url": "https://github.com/fabric/fabric/issues/265", "id": 1437961, "node_id": "MDU6SXNzdWUxNDM3OTYx", "number": 265, "title": "Cannot use public key authentication", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/10", "html_url": "https://github.com/fabric/fabric/milestone/10", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/10/labels", "id": 29493, "node_id": "MDk6TWlsZXN0b25lMjk0OTM=", "number": 10, "title": "0.9.4", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2011-08-19T01:59:59Z", "updated_at": "2011-08-19T02:12:03Z", "due_on": null, "closed_at": "2011-08-19T02:12:03Z"}, "comments": 12, "created_at": "2011-08-19T01:59:59Z", "updated_at": "2012-02-29T01:53:59Z", "closed_at": "2011-08-19T02:11:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nMachine Fabric runs on: Windows 7  \nMachine I try to connect to: Ubuntu 10.04.1\n\nI'm trying to use public key authentication with a freshly generated keypair.\n\nThis is my fabfile:\n\n```\nfrom fabric.api import *\nfrom fabric.operations import *\n\nenv.host = ['user@host']\nenv.key_filename = r'S:\\server.priv.ppk'\n\ndef ver():\n    run('uname -a')\n```\n\nAnd this is what I see when I run it:\n\n```\nS:\\Fabric>fab --show=debug ver\nUsing fabfile 'S:\\Fabric\\fabfile.py'\nCommands to run: ver\n[user@host] Executing task 'ver'\n[user@host] run: /bin/bash -l -c \"uname -a\"\nPlease enter passphrase for private key:\nPassword for user@host [Enter for previous]:\nStopped.\n```\n\nI aborted when I was asked for the password.\n\nWhen I point PuTTY to this private key and connect, typing my passphrase once incorrectly and once correctly, it looks like this:\n    Using username \"user\".\n    Authenticating with public key \"rsa-key-20101205\"\n    Passphrase for key \"rsa-key-20101205\":\n    Wrong passphrase\n    Authenticating with public key \"rsa-key-20101205\"\n    Passphrase for key \"rsa-key-20101205\":\n    Linux MyHostName 2.6.32-25-server #45-Ubuntu SMP Sat Oct 16 20:06:58 UTC 2010 x86_64 GNU/Linux\n    Ubuntu 10.04.1 LTS\n\n```\nWelcome to the Ubuntu Server!\n* Documentation:  http://www.ubuntu.com/server/doc\n```\n\nNote that:\n- I cannot tell if it has picked up the right private key, because the path to the key is not displayed (PuTTY doesn't either), not even on debug. Can I turn this on?\n- I cannot tell if it has picked up the right private key, because the name of the key is not displayed (PuTTY does), not even on debug. Can I turn this on?\n- It doesn't say that my passphrase is invalid when I enter the wrong one intentionally (PuTTY does).\n- What it does is complain if the private key file is not accessible.\n\nI tried to pass the path to the private key...\n- ... as a command line argument (-i)\n- ... in my code (`env.key_filename = r'S:\\server.priv.ppk'`)\n- ... in an rcfile (`key_filename = S:\\server.priv.ppk`)\n\nAll have exactly the same effect, as described above.\n\nI'm not really sure where to go from here. Is there anyway to tell Fabric to display what it is trying to do and why it fails?\n\n---\n\nOriginally submitted by **Henrik Heimbuerger** ([hheimbuerger](https://github.com/hheimbuerger)) on **2010-12-05** at **02:33pm EST**\n### Relations\n- Related to #269: Improve display/debugging of key authentication mechanisms\n\n---\n\nClosed as _Worksforme_ on **2010-12-30** at **02:25pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/264", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/264/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/264/events", "html_url": "https://github.com/fabric/fabric/issues/264", "id": 1437960, "node_id": "MDU6SXNzdWUxNDM3OTYw", "number": 264, "title": "reboot(wait) operation crashes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 10, "created_at": "2011-08-19T01:59:58Z", "updated_at": "2012-02-29T01:53:58Z", "closed_at": "2011-08-19T02:11:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nTrying to use the reboot() operation. The reboot occurs, but then the script errors out. No waiting or continuing. \n\nThe reboot(180) call is the very first thing in my function, so I don't suspect anything else is causing the issue.\n\nMy environment:\n\nMac OS X, Python 2.7, Fabric 0.9.3\n\noutput from my last try:\n\n```\n[encrypt1] Executing task 'reboot_encrypted_server'\n[encrypt1] sudo: reboot\nTraceback (most recent call last):\nFile \"/usr/local/Cellar/python/2.7/lib/python2.7/site-packages/Fabric-0.9.3-py2.7.egg/fabric/main.py\", line 540, in main\ncommands[name](*args, **kwargs)\nFile \"/Users/jgerry/pdx/svn/trunk/jkg/fab/fabfile.py\", line 71, in reboot_encrypted_server\nreboot(180) \nFile \"/usr/local/Cellar/python/2.7/lib/python2.7/site-packages/Fabric-0.9.3-py2.7.egg/fabric/operations.py\", line 662, in reboot\ndel connections[env.host_string]\nKeyError: 'encrypt1'\nDisconnecting from encrypt1... done.\n```\n\n---\n\nOriginally submitted by **Jason Gerry** ([jgerry](https://github.com/jgerry)) on **2010-12-02** at **02:48pm EST**\n\n---\n\nClosed as _Done_ on **2011-03-23** at **03:49pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/261", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/261/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/261/events", "html_url": "https://github.com/fabric/fabric/issues/261", "id": 1437957, "node_id": "MDU6SXNzdWUxNDM3OTU3", "number": 261, "title": "contrib.files.comment strips trailing $ incorrectly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 2, "created_at": "2011-08-19T01:59:56Z", "updated_at": "2012-02-29T01:53:56Z", "closed_at": "2011-08-19T02:11:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIf the regex for `comment()` has a trailing `$`, the regex is truncated to one character.\n\nBug present in both 0.9.3 and the current git head (from github).\n\nPatch included.\n\n---\n\nOriginally submitted by **Antti Kaihola** ([akaihola](https://github.com/akaihola)) on **2010-11-22** at **08:22am EST**\n### Attachments\n- [fabric-contrib-comment-trailing-dollar-fix.diff](https://gist.github.com/b6d9d72a4bacf2bf03d0)\n\n---\n\nClosed as _Done_ on **2011-03-16** at **07:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/260", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/260/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/260/events", "html_url": "https://github.com/fabric/fabric/issues/260", "id": 1437956, "node_id": "MDU6SXNzdWUxNDM3OTU2", "number": 260, "title": "incorrect results with contrib.files.contains/append and backslashes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:59:55Z", "updated_at": "2012-02-29T05:18:49Z", "closed_at": "2012-02-29T05:18:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen doing this:\n\n```\nappend(r'LogFormat \"%A %{X_FORWARDED_FOR}i %l %u %t %D \\\"%r\\\" %>s %O \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" mylog',\n       '/etc/apache2/apache2.conf',\n       use_sudo=True)\n```\n\nwhat I get in `apache2.conf` is:\n\n```\nLogFormat \"%A %{X_FORWARDED_FOR}i %l %u %t %D \\%r\\ %>s %O \\%{Referer}i\\ \\%{User-Agent}i\\\" mylog\n```\n\n(all escaped double quotes missing), and it gets appended to the file over and over, too.\n\nI created this simple test:\n\n```\nfrom fabric.api import env\nfrom fabric.contrib.files import append\n\ndef backslashes():\n    append([r'\\1', r'\\\\2', r'\\\\\\3', r'\\\\\\\\4', r'\\\\\\\\\\5', r'\\\\\\\\\\\\6', r'\\\\\\\\\\\\\\7', r'\\\\\\\\\\\\\\\\8'], 'test.txt')\n    append([r'\\\\\\\\\\\\\\\\x', r'\\\\\\\\\\\\\\x', r'\\\\\\\\\\\\x', r'\\\\\\\\\\x', r'\\\\\\\\x', r'\\\\\\x', r'\\\\x', r'\\x'], 'test.txt')\n\ndef foo():\n    env.hosts = ['foo.bar.com']\n```\n\nIt runs like this:\n\n```\n$ fab foo backslashes\n[foo.bar.com] Executing task 'backslashes'\n[foo.bar.com] run: echo '\\1' >> test.txt\n[foo.bar.com] run: echo '\\\\2' >> test.txt\n[foo.bar.com] run: echo '\\\\\\3' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\4' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\5' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\6' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\7' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\\\8' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\x' >> test.txt\nDone.\nDisconnecting from foo.bar.com... done.\n$ fab foo backslashes\n[foo.bar.com] Executing task 'backslashes'\n[foo.bar.com] run: echo '\\1' >> test.txt\n[foo.bar.com] run: echo '\\\\2' >> test.txt\n[foo.bar.com] run: echo '\\\\\\3' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\4' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\5' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\6' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\7' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\\\8' >> test.txt\n[foo.bar.com] run: echo '\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\x' >> test.txt\nDone.\nDisconnecting from foo.bar.com... done.\n$ fab foo backslashes\n[foo.bar.com] Executing task 'backslashes'\n[foo.bar.com] run: echo '\\1' >> test.txt\n[foo.bar.com] run: echo '\\\\2' >> test.txt\n[foo.bar.com] run: echo '\\\\\\3' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\4' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\5' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\6' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\7' >> test.txt\n[foo.bar.com] run: echo '\\\\\\\\\\\\\\\\8' >> test.txt\n[foo.bar.com] run: echo '\\\\x' >> test.txt\n[foo.bar.com] run: echo '\\x' >> test.txt\nDone.\n```\n\nAnd what I get on the server is this:\n\n```\nfoo:~$ cat test.txt\n\\1\n\\2\n\\\\3\n\\\\4\n\\\\\\5\n\\\\\\6\n\\\\\\\\7\n\\\\\\\\8\n\\\\\\\\x\n\\\\\\\\x\n\\\\\\x\n\\\\\\x\n\\\\x\n\\\\x\n\\x\n\\x\n\\1\n\\2\n\\\\3\n\\\\4\n\\\\\\5\n\\\\\\6\n\\\\\\\\7\n\\\\\\\\8\n\\x\n\\x\n\\1\n\\2\n\\\\3\n\\\\4\n\\\\\\5\n\\\\\\6\n\\\\\\\\7\n\\\\\\\\8\n\\x\n\\x\n```\n\n---\n\nOriginally submitted by **Antti Kaihola** ([akaihola](https://github.com/akaihola)) on **2010-11-22** at **07:57am EST**\n### Relations\n- Related to #118: Single quotes in append() don't work, or: goddamn quoting\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/258", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/258/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/258/events", "html_url": "https://github.com/fabric/fabric/issues/258", "id": 1437954, "node_id": "MDU6SXNzdWUxNDM3OTU0", "number": 258, "title": "Quoting path names with spaces for local() fails on Windows", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/9", "html_url": "https://github.com/fabric/fabric/milestone/9", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/9/labels", "id": 29492, "node_id": "MDk6TWlsZXN0b25lMjk0OTI=", "number": 9, "title": "1.0.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2011-08-19T01:59:52Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 18, "created_at": "2011-08-19T01:59:54Z", "updated_at": "2012-02-29T01:53:55Z", "closed_at": "2011-08-19T02:11:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nEnvironment: Windows 7, Python 2.7, Fabric 0.9.2 final\n\nWhen using path names with spaces on Windows, you usually wrap the whole path into double quotes. I just can't make this work with Fabric and local(), and the results are quite strange.\n\nHere is my example script:\n\n```\nfrom fabric.api import *\n\ndef demo():\n    cmd = r'dir \"sub directory with spaces\"'\n    print('Command: {}'.format(cmd))\n    local(cmd, capture=False)\n```\n\nAnd the output is:\n\n```\nD:\\temp>fab demo\nCommand: dir \"sub directory with spaces\"\n[localhost] run: dir \"sub directory with spaces\"\nThe system cannot find the file specified.\n\nFatal error: local() encountered an error (return code 1) while executing 'dir \"sub directory with spaces\"'\n\nAborting.\n```\n\nOf course, copy/pasting the command into the console works just fine. (Output omitted for boringness.)\n\nThis seems to be somehow related to some strange behaviour of the `subprocess.Popen` class and the `subprocess.list2cmdline` function it uses.\n\nI extracted the local() implementation from the 0.9 branch (source:/entry/fabric/0.9/fabric/operations.py) and removed the in-place list creation on the `Popen` constructor call and then it works fine (example code attached). That is, I replaced\n\n```\np = subprocess.Popen([real_command], shell=True, stdout=out_stream, stderr=err_stream)\n```\n\nwith\n\n```\np = subprocess.Popen(real_command, shell=True, stdout=out_stream, stderr=err_stream)\n```\n\nNo idea if this is valid for all other platforms as well.\n\n---\n\nOriginally submitted by **Henrik Heimbuerger** ([hheimbuerger](https://github.com/hheimbuerger)) on **2010-11-16** at **05:47am EST**\n### Attachments\n- [fabfile.py](https://gist.github.com/2add11c2971d7f51f7cb)\n- [fabfile_with_local_workaround_and_win32_check.py](https://gist.github.com/f49a9de060810d8db8a3)\n### Relations\n- Duplicated by #319: operations.local fails under Python 2.7.1 in Windows\n- Duplicated by #327: lcd fails on Windows\n\n---\n\nClosed as _Done_ on **2011-05-02** at **01:31pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/256", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/256/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/256/events", "html_url": "https://github.com/fabric/fabric/issues/256", "id": 1437952, "node_id": "MDU6SXNzdWUxNDM3OTUy", "number": 256, "title": "Potential incorrect sys.path munging inside tasks", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 12, "created_at": "2011-08-19T01:59:43Z", "updated_at": "2013-12-04T11:21:11Z", "closed_at": "2011-08-19T02:11:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nProblem:\n- sys.path at fabfile module level seems to be fine\n- However, inside fabfile tasks/functions, sometimes sys.path appears to lose the first element, possibly only when that element is the empty string (i.e. when your cwd is in sys.path)\n- This does not appear reproducible all the time, but was noticed by an IRC user and confirmed by (IIRC) Morgan shortly thereafter.\n- The only place in the code Fabric modifies or mentions sys.path is `fabric.main.load_fabfile`.\n\nTo do:\n- Test `load_fabfile` (right now, seems best way is to use dependency injection so we don't have to try mocking eg `__import__` [which doesn't appear to work anyway]) to try and nail down the edge case\n- If bug is found, fix it!\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-11-12** at **09:18pm EST**\n\n---\n\nClosed as _Worksforme_ on **2011-03-10** at **01:08pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/256/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/252", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/252/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/252/events", "html_url": "https://github.com/fabric/fabric/issues/252", "id": 1437948, "node_id": "MDU6SXNzdWUxNDM3OTQ4", "number": 252, "title": "Allow new values in settings context manager.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/15", "html_url": "https://github.com/fabric/fabric/milestone/15", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/15/labels", "id": 30551, "node_id": "MDk6TWlsZXN0b25lMzA1NTE=", "number": 15, "title": "1.0.4, etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2011-08-23T19:15:24Z", "updated_at": "2011-09-01T22:15:31Z", "due_on": null, "closed_at": "2011-09-01T22:15:31Z"}, "comments": 2, "created_at": "2011-08-19T01:59:39Z", "updated_at": "2012-02-29T01:53:51Z", "closed_at": "2011-09-01T22:15:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHi all-\n\nCurrently, settings() can only override values already set in env. This seems to be an arbitrary limitation, so the \n\n---\n\nOriginally submitted by **Will Maier** ([wcmaier](https://github.com/wcmaier)) on **2010-11-11** at **02:47pm EST**\n### Attachments\n- [settings-0.patch](https://gist.github.com/119f731f038ebd789835)\n- [settings-1.patch](https://gist.github.com/ea5436e85960df773f79)\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/250", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/250/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/250/events", "html_url": "https://github.com/fabric/fabric/issues/250", "id": 1437945, "node_id": "MDU6SXNzdWUxNDM3OTQ1", "number": 250, "title": "Escape slashes/quotes in files.sed's limit arg", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T01:59:31Z", "updated_at": "2012-03-02T00:11:31Z", "closed_at": "2012-03-02T00:11:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAs outlined in [this mailing list thread](http://lists.nongnu.org/archive/html/fab-user/2010-11/msg00004.html), we escape slashes and quotes in `contrib.files.sed`, but only in the before/after kwargs, not in the limit kwarg. However, the limit kwarg is just as likely to have regular expressions in it, and should probably also get escaped just so all the kwargs are treated equally.\n\nIn the ML thread, Dan mentions the possibility of trying to be more intelligent about the escaping, i.e. only escaping slashes which are not themselves already escaped, though I'm leery of going down that road for now. May be safest to just be uniform first, and then consider adding intelligence later.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-11-08** at **12:53pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/248", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/248/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/248/events", "html_url": "https://github.com/fabric/fabric/issues/248", "id": 1437943, "node_id": "MDU6SXNzdWUxNDM3OTQz", "number": 248, "title": "fab --list should only show functions, not classes", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:59:29Z", "updated_at": "2012-02-29T01:53:48Z", "closed_at": "2011-08-19T02:11:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWith this sample fabfile snippet:\n\nclass IShowUp:\n    pass\n\n`fab --list` will show IShowUp as an available command. It is in principle callable (to construct an object), but I am hard-pressed to think of a case in which one would want to. Seems to me `fab --list` should exclude classes by default.\n\n---\n\nOriginally submitted by **Josh Snyder** ([josharian](https://github.com/josharian)) on **2010-10-28** at **09:49am EDT**\n### Relations\n- Duplicates #76: Use decorator to define tasks\n\n---\n\nClosed as _Duplicate_ on **2010-10-28** at **10:37am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/247", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/247/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/247/events", "html_url": "https://github.com/fabric/fabric/issues/247", "id": 1437942, "node_id": "MDU6SXNzdWUxNDM3OTQy", "number": 247, "title": "KeyboardInterrupts swallowed during run(); run() hangs when stdin input is required", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:59:29Z", "updated_at": "2012-02-29T01:53:48Z", "closed_at": "2011-11-15T20:37:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nTry this:\n\nfabfile snippet:\n\ndef get_stuck()\n  run(\"read\")\n\nRunning this on a remote host causes the shell to wait for input, which there is no way to provide. In this state, fabric ignores KeyboardInterrupts, so it must be kill -9'd.\n\nThere are actually two bugs here:\n\n(1) Handle stdin requirements more gracefully.\n(2) Don't swallow KeyboardInterrupts (ever!).\n\nThe workaround is not to use anything that could require user input, but that can happen unexpectedly; for example, a command that only requires input in exceptional situations can lead to an apparent sudden failure in a fabfile that has worked perfectly for a long time.\n\n---\n\nOriginally submitted by **Josh Snyder** ([josharian](https://github.com/josharian)) on **2010-10-28** at **09:05am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/243", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/243/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/243/events", "html_url": "https://github.com/fabric/fabric/issues/243", "id": 1437938, "node_id": "MDU6SXNzdWUxNDM3OTM4", "number": 243, "title": "Consider not using set() when merging hosts/roles", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 3, "created_at": "2011-08-19T01:59:26Z", "updated_at": "2012-02-29T01:53:45Z", "closed_at": "2011-08-19T02:11:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nPresently we use `set()` for easy deduping of hosts/roles/etc when merging the various sources together, in `fabric/main.py:_merge()`. This makes for very simple code, but also removes any ordering in, for example, one's role definitions.\n\nThis is somewhat unintuitive for users; however, any fix to it would require us to determine the ordering of the various sources, which itself may well end up unintuitive anyway.\n\nI.e. if you have a role `myrole` mapping to `['host1', 'host2']` and a task `mytask` defined with `@hosts('host3')`, and call `fab --roles=myrole mytask`, what should the final in-order host list look like? Should it be ordered (per-task hosts, role hosts) and thus `['host3', 'host1', 'host2']`? Or should it be (role hosts, per-task hosts) and thus `['host1', 'host2', 'host3']`?\n\nNaturally, that question gets even more complicated as we add in the handful of additional possible sources.\n\n---\n\nHad a thought; we _could_ possibly check to see if a user has only specified one role from one source type, and then skip the deduping. However, this strikes me as not a great idea, as that's only one of many possible use cases, and would also add more exceptions/branches to the code.\n\n---\n\nAnother approach: perhaps when we set up the hypothetical `execute(task_obj, specify_hosts_here_somehow)` function, we can take `*args` and say that we'll use everything you pass in, in order. E.g.  in the above scenario, `execute(mytask, 'myrole', 'host3')` would always evaluate to the task list of `['host1', 'host2', 'host3']`.\n\nThat should remove much of the ordering ambiguity one gets when using the builtin top-level task runner, and deduping can be easily done without set() as well (simply a loop plus test).\n\nOnly real problem with this approach is confusion between role names and actual host strings. Obviously, we'd implement it by testing each string given to see if it's a roledefs key, but the problem comes up if a user has a role name that shadows a real host name -- they'd never be able to specify that host name in a host string (unless they tacked on a `user@` or `:port`). Don't think this is a huge deal, though.\n\n---\n\nThis may need to wait until we update the overall execution model (#21), and otherwise, it definitely doesn't seem like there is an easy solution here that is amenable to being updated anytime soon -- unless I'm missing something.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-10-14** at **10:00am EDT**\n### Relations\n- Related to #21: Make execution model more robust/flexible\n- Duplicates #115: Preserving order of hosts\n\n---\n\nClosed as _Duplicate_ on **2011-03-09** at **10:48pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/242", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/242/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/242/events", "html_url": "https://github.com/fabric/fabric/issues/242", "id": 1437937, "node_id": "MDU6SXNzdWUxNDM3OTM3", "number": 242, "title": "Parameter parsing - unexpected behavior", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/8", "html_url": "https://github.com/fabric/fabric/milestone/8", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/8/labels", "id": 29491, "node_id": "MDk6TWlsZXN0b25lMjk0OTE=", "number": 8, "title": "0.9.3", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2011-08-19T01:59:19Z", "updated_at": "2011-08-19T02:11:55Z", "due_on": null, "closed_at": "2011-08-19T02:11:55Z"}, "comments": 4, "created_at": "2011-08-19T01:59:26Z", "updated_at": "2012-02-29T01:53:44Z", "closed_at": "2011-08-19T02:11:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen using empty strings in named parameters, it seems that the parameters are being parsed incorrectly.\n\nFor example: \n\n```\ndef test(foo, bar=\"Nothing\", baz=\"Bazy\"):\n    print \"foo: %s\" % foo\n    print \"bar: %s\" % bar\n    print \"baz: %s\" % baz\n```\n\nRun:\n\n```\n> fab test:1,'',baz=''\nfoo: 1\nbar: \nbaz: baz\n\nDone.\n```\n\nMore test cases here: http://gist.github.com/615785\n\n---\n\nOriginally submitted by **Aaron Levy** ([aaronlevy](https://github.com/aaronlevy)) on **2010-10-07** at **04:29pm EDT**\n\n---\n\nClosed as _Done_ on **2010-11-12** at **01:43pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/235", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/235/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/235/events", "html_url": "https://github.com/fabric/fabric/issues/235", "id": 1437930, "node_id": "MDU6SXNzdWUxNDM3OTMw", "number": 235, "title": "ActiveState Python 2.5 pypm install broken", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/8", "html_url": "https://github.com/fabric/fabric/milestone/8", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/8/labels", "id": 29491, "node_id": "MDk6TWlsZXN0b25lMjk0OTE=", "number": 8, "title": "0.9.3", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2011-08-19T01:59:19Z", "updated_at": "2011-08-19T02:11:55Z", "due_on": null, "closed_at": "2011-08-19T02:11:55Z"}, "comments": 9, "created_at": "2011-08-19T01:59:22Z", "updated_at": "2012-02-29T01:53:40Z", "closed_at": "2011-08-19T02:11:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAttempting to run pypm install fabric results in the following:\n\nC:\\Users\\bob>pypm install fabric\nerror: \"fabric\" indirectly depends on multiple versions of \"pycrypto\" (2.0.1-1;\n2.3-1). Whereas PyPM can only install a single version.\n\nThis is running in 32-bit mode on a Windows 7 desktop. \n\nAt the moment I'm unable to figure out how to install fabric on a Windows 7 machine. \nThought ActiveState would be a simple solution, but the package fails. \nAny help or guidance is appreciated. \n\n--Ray\n\n---\n\nOriginally submitted by **Raymond Cote** (rgacote) on **2010-09-15** at **01:03pm EDT**\n### Relations\n- Related to #228: PyCrypto >=2.1 has issues with pip\n\n---\n\nClosed as _Done_ on **2010-12-08** at **06:50pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/233", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/233/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/233/events", "html_url": "https://github.com/fabric/fabric/issues/233", "id": 1437928, "node_id": "MDU6SXNzdWUxNDM3OTI4", "number": 233, "title": "Make get() return retrieved file path", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:59:21Z", "updated_at": "2012-02-29T01:53:39Z", "closed_at": "2011-08-19T02:11:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIt'd be very helpful for get() to return the retrieved file name and/or path, especially in a multi-host environment where it's appending the hostname.\n\nOptionally or also, it'd be awesome to have a keyword that would prevent the appending of hostnames to retrieved files, as that can actually be pretty annoying.\n\n---\n\nOriginally submitted by **Greg Taylor** ([gtaylor](https://github.com/gtaylor)) on **2010-09-13** at **12:51pm EDT**\n### Relations\n- Related to #274: See if it makes sense to have get/put return values\n- Duplicates #79: Optional host prefix for get\n\n---\n\nClosed as _Duplicate_ on **2010-09-13** at **01:12pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/231", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/231/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/231/events", "html_url": "https://github.com/fabric/fabric/issues/231", "id": 1437926, "node_id": "MDU6SXNzdWUxNDM3OTI2", "number": 231, "title": "Documentation code example fix (usage/execution.rst)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/8", "html_url": "https://github.com/fabric/fabric/milestone/8", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/8/labels", "id": 29491, "node_id": "MDk6TWlsZXN0b25lMjk0OTE=", "number": 8, "title": "0.9.3", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2011-08-19T01:59:19Z", "updated_at": "2011-08-19T02:11:55Z", "due_on": null, "closed_at": "2011-08-19T02:11:55Z"}, "comments": 2, "created_at": "2011-08-19T01:59:20Z", "updated_at": "2012-02-29T01:53:37Z", "closed_at": "2011-08-19T02:11:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nthe output does not match the code around line 118.\nsee attachment for fix.\n\n---\n\nOriginally submitted by **Pradeep Gowda** ([btbytes](https://github.com/btbytes)) on **2010-09-08** at **11:58pm EDT**\n### Relations\n- Duplicated by #239: Typo in documentation example\n\n---\n\nClosed as _Done_ on **2010-11-12** at **12:44pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/230", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/230/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/230/events", "html_url": "https://github.com/fabric/fabric/issues/230", "id": 1437925, "node_id": "MDU6SXNzdWUxNDM3OTI1", "number": 230, "title": "Arbitrary commands (fab -- mycommandhere) break without fabfile", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/8", "html_url": "https://github.com/fabric/fabric/milestone/8", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/8/labels", "id": 29491, "node_id": "MDk6TWlsZXN0b25lMjk0OTE=", "number": 8, "title": "0.9.3", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2011-08-19T01:59:19Z", "updated_at": "2011-08-19T02:11:55Z", "due_on": null, "closed_at": "2011-08-19T02:11:55Z"}, "comments": 2, "created_at": "2011-08-19T01:59:19Z", "updated_at": "2012-02-29T01:53:37Z", "closed_at": "2011-08-19T02:11:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn other words, this feature was never tested outside of a Fabric project tree. It occurs in both 0.9.2 and master. Should hopefully be a simple reordering or logic fix in main.py.\n\nReported by orkaa @ Freenode.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-09-06** at **01:59pm EDT**\n\n---\n\nClosed as _Done_ on **2010-09-06** at **03:28pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/223", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/223/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/223/events", "html_url": "https://github.com/fabric/fabric/issues/223", "id": 1437918, "node_id": "MDU6SXNzdWUxNDM3OTE4", "number": 223, "title": "Full stack tests choking on passphrase-vs-password issue", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 2, "created_at": "2011-08-19T01:59:16Z", "updated_at": "2012-02-29T01:53:32Z", "closed_at": "2011-08-19T02:11:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOn my own dev Macs, where I have an agent running and key files in my SSH dir, I get the `Passphrase for private key` prompt when logging into a server (including the test server); however on a \"pristine\" Ubuntu install with no keys or agents, those prompts are all `Login password` ones. This is #85 in action, obviously.\n\nIn lieu of fixing #85 right now (since it's likely nontrivial) we need to sort out how to ensure the tests bypass the problem somehow.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-09-03** at **01:52pm EDT**\n### Relations\n- Related to #85: Prompts for \"passphrase\" instead of \"password\" in some situations\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Done_ on **2010-09-03** at **02:16pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/220", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/220/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/220/events", "html_url": "https://github.com/fabric/fabric/issues/220", "id": 1437915, "node_id": "MDU6SXNzdWUxNDM3OTE1", "number": 220, "title": "test_version has a bug", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140153, "node_id": "MDU6TGFiZWwxNDAxNTM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Tests", "name": "Tests", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 6, "created_at": "2011-08-19T01:59:15Z", "updated_at": "2012-02-29T01:53:30Z", "closed_at": "2011-08-19T02:11:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe testing function test_get_version in tests/test_version.py is broken. It builds strings for comparing 1.0 alpha releases in a way different from how fabric/version.py get_version() builds the same string. As a result testing spits errors for those versions.\n\n---\n\nOriginally submitted by **Erich Heine** ([sophacles](https://github.com/sophacles)) on **2010-08-25** at **01:57am EDT**\n\n---\n\nClosed as _Done_ on **2010-09-03** at **03:16pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/219", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/219/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/219/events", "html_url": "https://github.com/fabric/fabric/issues/219", "id": 1437914, "node_id": "MDU6SXNzdWUxNDM3OTE0", "number": 219, "title": "Blank lines after silent commands", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:59:14Z", "updated_at": "2012-02-29T01:53:29Z", "closed_at": "2011-08-19T02:11:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAfter the #7 work, noticed spurious blank lines occurring between run commands; pattern is that it only happens for silent commands such as `mkdir` or `test`.\n\nLooks to be largely due to the \"safety\" newline printed near the end of `fabric.operations._execute`. Adapt that clause further to test for output, hopefully arriving at a place where it will work in all combos of [output, no output, hidden output, non-hidden output].\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-24** at **04:00pm EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Done_ on **2010-08-24** at **05:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/218", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/218/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/218/events", "html_url": "https://github.com/fabric/fabric/issues/218", "id": 1437913, "node_id": "MDU6SXNzdWUxNDM3OTEz", "number": 218, "title": "Update get(), env.all_hosts to work for library users", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:59:14Z", "updated_at": "2012-03-01T23:54:25Z", "closed_at": "2012-03-01T23:54:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n- `get` currently uses `env.all_hosts` (which is updated by `fabric/main.py` at runtime) to determine whether it should be doing something with downloaded files to avoid clobbering.\n- This doesn't work in library use because `env.all_hosts` is thus never set (and currently defaults to an empty list so at least there's no AttributeErrors from using None as the earlier default). So clobbering will occur.\n- We'll probably need `execute(task, host_list)` or a similar approach (see #21 or related) in order to solve this for good.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-24** at **12:52pm EDT**\n### Relations\n- Related to #21: Make execution model more robust/flexible\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/214", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/214/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/214/events", "html_url": "https://github.com/fabric/fabric/issues/214", "id": 1437909, "node_id": "MDU6SXNzdWUxNDM3OTA5", "number": 214, "title": "Potential Paramiko forking bug", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/16", "html_url": "https://github.com/fabric/fabric/milestone/16", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/16/labels", "id": 49135, "node_id": "MDk6TWlsZXN0b25lNDkxMzU=", "number": 16, "title": "1.3", "description": "Parallel execution and related changes", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2011-10-23T01:16:25Z", "updated_at": "2011-10-23T19:03:44Z", "due_on": null, "closed_at": "2011-10-23T19:03:44Z"}, "comments": 6, "created_at": "2011-08-19T01:59:12Z", "updated_at": "2012-02-29T01:53:26Z", "closed_at": "2011-10-23T08:26:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nBastih from the Django community pinged me on IRC to say he had an error message like the following:\n\n```\n<type 'exceptions.AssertionError'> PID check failed. RNG must be re-initialized after fork(). Hint: Try Random.atfork()\n```\n\nand had fixed it using [this patch](http://github.com/sugarc0de/fabric/commit/ec39e90f5ffaaf5d2dd6a653f5f6ddef30a6b150).\n\nThe specific patch doesn't appear to exist in the latest Paramiko upstream source, but the code is also a bit different overall, so I'd not be surprised if it was fixed in 1.7.6.\n\nI don't have any more specifics on when or how he got the error, but really just noting it here in case others encounter the same thing; aside from the patcher and bastih I've not heard anybody else with the problem. Given that fact, I'm assuming it's either A) a new version of PyCrypto triggering this error in Paramiko, or B) some semi-esoteric combination of versions/platforms that hasn't been seen before.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-15** at **08:51am EDT**\n### Relations\n- Related to #275: Consider forking Paramiko\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/212", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/212/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/212/events", "html_url": "https://github.com/fabric/fabric/issues/212", "id": 1437907, "node_id": "MDU6SXNzdWUxNDM3OTA3", "number": 212, "title": "Hitting Ctrl-C during I/O still requires shell reset", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:59:11Z", "updated_at": "2012-02-29T01:53:24Z", "closed_at": "2011-08-19T02:11:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nTest failure no longer blows up -- but real actual usage will require a `reset` if you Ctrl-C in the middle of a `run` or `sudo`. Fix this.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-10** at **02:30pm EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Worksforme_ on **2010-08-27** at **05:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/212/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/211", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/211/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/211/events", "html_url": "https://github.com/fabric/fabric/issues/211", "id": 1437906, "node_id": "MDU6SXNzdWUxNDM3OTA2", "number": 211, "title": "rsync options", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2011-08-19T01:59:10Z", "updated_at": "2012-02-29T01:53:24Z", "closed_at": "2012-02-13T20:14:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe default options that rsync_project passes to rsync do not work in some cases (e.g. when a user has write permissions but do not own a certain directory -t does not work).\nHow about allowing to override the default options, or removing the default options all together? (i.e. allow users to specify options via argument, maybe with a default value)\n\n---\n\nOriginally submitted by ***\\* ([ec](https://github.com/ec)) on **2010-08-09** at **11:12am EDT**\n### Relations\n- Related to #184: allow local_dir to be a list in rsync\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/211/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/210", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/210/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/210/events", "html_url": "https://github.com/fabric/fabric/issues/210", "id": 1437905, "node_id": "MDU6SXNzdWUxNDM3OTA1", "number": 210, "title": "setting context manager", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 1, "created_at": "2011-08-19T01:59:09Z", "updated_at": "2012-02-29T01:53:23Z", "closed_at": "2011-08-19T02:11:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHi,\n\nWith fabric 0.9.0 (not sure if still an issue with 0.9.1 but didn't see it in the list of changes for 0.9.1) the settings context manager can be used to change the user and host for the with scope.\n\nHowever it should be fixed or documented that changing the host has no effect unless you also set the host_string.  This was quite misleading as the files.exists fn with verbose on reports an obscure error when the target file on the remote host doesn't exist.  Once I figured out that files.exists itself was ok, I then found that it was actually going to the wrong host.\n\n:)\n\n---\n\nOriginally submitted by ***\\* ([memedough](https://github.com/memedough)) on **2010-08-09** at **07:14am EDT**\n\n---\n\nClosed as _Worksforme_ on **2010-08-09** at **10:10am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/210/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/209", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/209/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/209/events", "html_url": "https://github.com/fabric/fabric/issues/209", "id": 1437904, "node_id": "MDU6SXNzdWUxNDM3OTA0", "number": 209, "title": "Some password prompts no longer specify the user", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 7, "created_at": "2011-08-19T01:59:09Z", "updated_at": "2012-03-31T17:21:40Z", "closed_at": "2011-08-19T02:11:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nNow that we rely largely on remote-end passthrough for password prompts, some -- like connection passwords -- no longer specify which user's password is being prompted for. (Furthermore, I don't think we _ever_ specified which key is being prompted for when it's a passphrase -- though that's more in #85's camp.)\n\nFurthermore, some (all?) passphrase prompts don't even have the host leader printed out, perhaps only when many/all output levels are silenced.\n\nSee what can be done about these so they work in all circumstances -- output levels hidden or no.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-06** at **09:22pm EDT**\n### Relations\n- Related to #190: Sudo prompt mixed up a bit\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Done_ on **2010-08-24** at **02:19pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/207", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/207/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/207/events", "html_url": "https://github.com/fabric/fabric/issues/207", "id": 1437902, "node_id": "MDU6SXNzdWUxNDM3OTAy", "number": 207, "title": "Ghostwheel needs", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:59:08Z", "updated_at": "2012-02-29T01:53:21Z", "closed_at": "2011-08-19T02:11:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nA short list:\n1. <del>TODO list made for it</del>\n2. Temporal memory to not repeat itself when #num is said often in conversation.\n\n---\n\nOriginally submitted by **Morgan Goose** ([goosemo](https://github.com/goosemo)) on **2010-08-04** at **08:05pm EDT**\n### Relations\n- Duplicates #169: Add a bot or two to the IRC channel\n\n---\n\nClosed as _Duplicate_ on **2010-08-04** at **08:07pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/207/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/204", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/204/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/204/events", "html_url": "https://github.com/fabric/fabric/issues/204", "id": 1437899, "node_id": "MDU6SXNzdWUxNDM3ODk5", "number": 204, "title": "Better in-thread exception handling", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 5, "created_at": "2011-08-19T01:59:06Z", "updated_at": "2012-02-29T01:53:19Z", "closed_at": "2011-08-19T02:11:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nNeed to figure out the best way to ensure that all threads terminate when any of them encounter an exception; currently exceptions raise and display but do not trickle upwards to the primary thread, and instead result in other, less-than-helpful errors when some other condition or timeout isn't met. This occurs both in test and regular use cases.\n\nHopefully it's as simple as updating the `daemon_thread` helper to detect exceptions within the thread and re-raise them, though I fear it'll require big try/except blocks in all functions that become threaded, plus yet another Event object for coordination.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-08-01** at **10:16pm EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n- Related to #192: Per-user/host password memory (was: Possible issue in password memory)\n\n---\n\nClosed as _Done_ on **2010-08-03** at **10:30pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/201", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/201/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/201/events", "html_url": "https://github.com/fabric/fabric/issues/201", "id": 1437896, "node_id": "MDU6SXNzdWUxNDM3ODk2", "number": 201, "title": "Ambiguous sudo call in reboot function", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T01:59:05Z", "updated_at": "2012-03-01T23:47:34Z", "closed_at": "2012-03-01T23:47:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe first thing the reboot function of operations.py does is call sudo('reboot').  It is conceivable that a host may not require sudo to reboot, or may need sudo as another user.\n\nIn addition, it is possible someone may want to pass arguments to the reboot command.\n\nI propose adding two optional arguments to the reboot function, the first which is the user with which to run the reboot command (root by default), and the second of which is the arguments to pass to the command (empty by default).\n\n---\n\nOriginally submitted by ***\\* ([meinwald](https://github.com/meinwald)) on **2010-07-31** at **09:01pm EDT**\n### Relations\n- Related to #12: Overhaul reboot operation\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/198", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/198/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/198/events", "html_url": "https://github.com/fabric/fabric/issues/198", "id": 1437893, "node_id": "MDU6SXNzdWUxNDM3ODkz", "number": 198, "title": "Test server does not shut down cleanly", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 9, "created_at": "2011-08-19T01:59:03Z", "updated_at": "2012-02-29T01:53:16Z", "closed_at": "2011-08-19T02:11:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOn Ubuntu 8.04 and OS X 10.5, the Python process exits cleanly, but the network sockets stick around in `TIME_WAIT` for a good ~30s afterwards. (This holds true even if one Ctrl-C's out of the Python process -- the Python process sticks around, and then once it is killed, the sockets do their `TIME_WAIT` bit.)\n\nOn Ubuntu 10.04, the Python process doesn't even exit cleanly, it just hangs once everything is done. I am hoping this is related to the `TIME_WAIT` or at least that the issues are somewhat nearby each other.\n\nUsing `lsof` I verified that the processes are absolutely terminating, and according to `man netstat`, `TIME_WAIT` means that the socket is waiting around _at the kernel level_ because it needs to get an ACK from the remote end. So this still makes it sound like our code isn't closing everything up correctly.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-07-22** at **01:50pm EDT**\n### Relations\n- Related to #192: Per-user/host password memory (was: Possible issue in password memory)\n\n---\n\nClosed as _Done_ on **2010-07-30** at **04:19pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/197", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/197/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/197/events", "html_url": "https://github.com/fabric/fabric/issues/197", "id": 1437892, "node_id": "MDU6SXNzdWUxNDM3ODky", "number": 197, "title": "Handle running without any controlling tty", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/4", "html_url": "https://github.com/fabric/fabric/milestone/4", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/4/labels", "id": 29487, "node_id": "MDk6TWlsZXN0b25lMjk0ODc=", "number": 4, "title": "1.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2011-08-19T01:57:17Z", "updated_at": "2011-08-19T02:11:43Z", "due_on": null, "closed_at": "2011-08-19T02:11:43Z"}, "comments": 2, "created_at": "2011-08-19T01:59:03Z", "updated_at": "2012-02-29T01:53:15Z", "closed_at": "2011-08-19T02:11:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nMostly re #19 and #7, when run via multiprocessing in sub-processes that have no TTYs attached, Fabric falls down. Mostly in the new force-stdin-to-be-bytewise code, but possibly elsewhere too.\n\n[Example output](http://pastebin.com/ZTLpSwqd)\n\nSpecifically,\n\n```\nFile \"fabric/context_managers.py\", line 297, in char_buffered\nold_settings = termios.tcgetattr(pipe)\nerror: (25, 'Inappropriate ioctl for device')\n```\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-07-21** at **12:41pm EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n- Related to #19: Implement parallelism/thread-safety\n- Duplicates #303: Possible pty detection bug\n\n---\n\nClosed as _Duplicate_ on **2011-08-01** at **05:33pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/194", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/194/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/194/events", "html_url": "https://github.com/fabric/fabric/issues/194", "id": 1437889, "node_id": "MDU6SXNzdWUxNDM3ODg5", "number": 194, "title": "Windows + fab = ImportError: cannot import name output", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 6, "created_at": "2011-08-19T01:59:01Z", "updated_at": "2012-02-29T01:53:13Z", "closed_at": "2011-08-19T02:11:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nGetting the following when trying to do anything with Fabric. This same fabfile.py that I'm using works just fine on Linux and Mac. I've got Paramiko and PyCrypto installed. Python 2.6 amd64, Windows 7 64-bit, Fabric 0.9.1. Any help would be greatly appreciated. I think there were a few other Windows users running into this, too.\n\n([Here's another user with the same problem that is also a 64-bit guy](http://stackoverflow.com/questions/3051387/importerror-cannot-import-name-output))\n\n```\n(coursebook_env) C:\\Users\\Greg Taylor\\workspace\\coursebook>fab -l\nTraceback (most recent call last):\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\Scripts\\fab-script.py\", line 8, in <module>\nload_entry_point('Fabric==0.9.1', 'console_scripts', 'fab')()\nFile \"build\\bdist.win-amd64\\egg\\pkg_resources.py\", line 318, in load_entry_point\nFile \"build\\bdist.win-amd64\\egg\\pkg_resources.py\", line 2221, in load_entry_point\nFile \"build\\bdist.win-amd64\\egg\\pkg_resources.py\", line 1954, in load\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\main.py\", line 17, in <module>\nfrom fabric import api # For checking callables against the API\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\api.py\", line 9, in <module>\nfrom fabric.context_managers import cd, hide, settings, show\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\context_managers.py\", line 12, in <module>\nfrom fabric.state import env, output\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\state.py\", line 9, in <module>\nfrom fabric.network import HostConnectionCache\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\network.py\", line 19, in <module>\nabort(\"paramiko is a required module. Please install it:\\n\\t$ sudo easy_install paramiko\")\nFile \"C:\\Users\\Greg Taylor\\workspace\\coursebook_env\\lib\\site-packages\\fabric\\utils.py\", line 21, in abort\nfrom fabric.state import output\nImportError: cannot import name output\n(coursebook_env) C:\\Users\\Greg Taylor\\workspace\\coursebook>\n```\n\n---\n\nOriginally submitted by **Greg Taylor** ([gtaylor](https://github.com/gtaylor)) on **2010-07-14** at **01:27pm EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-05-23** at **09:18am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/192", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/192/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/192/events", "html_url": "https://github.com/fabric/fabric/issues/192", "id": 1437887, "node_id": "MDU6SXNzdWUxNDM3ODg3", "number": 192, "title": "Per-user/host password memory (was: Possible issue in password memory)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 22, "created_at": "2011-08-19T01:59:00Z", "updated_at": "2012-02-29T01:53:12Z", "closed_at": "2011-08-19T02:11:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThis may only occur when one switches out the user to connect as in the middle of a session (by changing `env.host_string`), but a successful connection password is not carried over for use as a sudo password (it's automatically tried and then fails). See what's up and figure out if it's fixable without moving to a more serious per-user/host memory setup as seen in some other ticket.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-07-14** at **12:50pm EDT**\n### Relations\n- Related to #198: Test server does not shut down cleanly\n- Related to #204: Better in-thread exception handling\n- Related to #213: Password memory edge case: passphrase vs password\n- Related to #7: Improved prompt detection and passthrough\n- Related to #97: In some situations, pressing Enter does _not_ reuse the previous password\n\n---\n\nClosed as _Done_ on **2010-08-06** at **09:08pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/190", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/190/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/190/events", "html_url": "https://github.com/fabric/fabric/issues/190", "id": 1437885, "node_id": "MDU6SXNzdWUxNDM3ODg1", "number": 190, "title": "Sudo prompt mixed up a bit", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:58:59Z", "updated_at": "2012-02-29T01:53:11Z", "closed_at": "2011-08-19T02:11:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nExample of sudo password prompt when `env.password` is non-empty:\n\n```\n[jforcier@192.168.0.180] out: sudo password: [Enter for previous]\n```\n\nOn master, it looks like this instead:\n\n```\nPassword for jforcier@localhost [Enter for previous]: \n```\n\nObviously things have to change somewhat do deal with the fact that we're printing the \"real\" sudo prompt instead of our own, thus the host prefix. However, note how the colon has been swapped around -- that's kind of ugly.\n\nI'm not sure there's a way to fix this given that the `sudo password:` part is \"real\" stdout/stderr, and the `[Enter for previous]` part is printed by the local Python. May be as simple as changing `env.sudo_prompt` to drop the colon and add it into the local Python side of things; but make sure that works with the various combinations of settings re: pty/combine_streams/etc.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-07-14** at **10:39am EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n- Related to #209: Some password prompts no longer specify the user\n\n---\n\nClosed as _Done_ on **2010-08-14** at **10:48pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/188", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/188/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/188/events", "html_url": "https://github.com/fabric/fabric/issues/188", "id": 1437883, "node_id": "MDU6SXNzdWUxNDM3ODgz", "number": 188, "title": "add grep_options to contrib.files.contains", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T01:58:58Z", "updated_at": "2015-12-06T23:02:21Z", "closed_at": "2015-12-06T23:02:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nsome time ago i needed contrib.files.contains with grep -f instead of grep.\nhad to copypaste it though.\n\n---\n\nOriginally submitted by **Axel Rutz** ([aexl](https://github.com/aexl)) on **2010-07-10** at **07:44pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/187", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/187/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/187/events", "html_url": "https://github.com/fabric/fabric/issues/187", "id": 1437882, "node_id": "MDU6SXNzdWUxNDM3ODgy", "number": 187, "title": "make run use_sudo", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 4, "created_at": "2011-08-19T01:58:57Z", "updated_at": "2012-02-29T01:53:09Z", "closed_at": "2011-08-19T02:11:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nrun should also honour use_sudo.,\n\n---\n\nOriginally submitted by **Axel Rutz** ([aexl](https://github.com/aexl)) on **2010-07-10** at **07:36pm EDT**\n\n---\n\nClosed as _Wontfix_ on **2010-07-12** at **07:54am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/186", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/186/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/186/events", "html_url": "https://github.com/fabric/fabric/issues/186", "id": 1437881, "node_id": "MDU6SXNzdWUxNDM3ODgx", "number": 186, "title": "rsync to non-standard port not working", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T01:58:57Z", "updated_at": "2012-02-29T01:53:08Z", "closed_at": "2011-08-19T02:11:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\ncurrently the rsycn command line is constructed using env.host (which does not contain the port set in env.hosts) so non-22 port does not work.\n\nThis fixes it:\n    # Create and run final command string\n    cmd = \"rsync %s %s %s@%s:%s:%s\" % (options, local_dir, env.user,\n        env.host, env.port, remote_dir)\n\n---\n\nOriginally submitted by **Jan Ingvoldstad** ([jani](https://github.com/jani)) on **2010-07-06** at **11:08am EDT**\n### Relations\n- Duplicates #44: rsync_project to a different ssh port\n\n---\n\nClosed as _Duplicate_ on **2010-07-06** at **11:24am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/183", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/183/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/183/events", "html_url": "https://github.com/fabric/fabric/issues/183", "id": 1437878, "node_id": "MDU6SXNzdWUxNDM3ODc4", "number": 183, "title": "Prompts appear to kill capturing (now with bonus test server!)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 13, "created_at": "2011-08-19T01:58:55Z", "updated_at": "2012-02-29T01:53:06Z", "closed_at": "2011-08-19T02:11:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn the #7 feature branch, I noticed that when testing the prompt features, it seems that all output post-prompt-handling is no longer captured.\n\nThis should be easy enough to fix, but the real reason for this ticket is to come up with a decent way to test this.\n\nWe have limited testing of the SSH stuff with a fake Channel object in `tests/test_network.py`, but what's needed now is a way to mock the stop-start-stop-start jazz that happens when a real user is present. I'm assuming this is a solved problem and need to look it up, or think about it sometime when I'm not burnt out at the end of a long day :)\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-06-21** at **10:46pm EDT**\n### Relations\n- Related to #185: Get better SSH testing infrastructure\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Done_ on **2010-07-13** at **07:16pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/182", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/182/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/182/events", "html_url": "https://github.com/fabric/fabric/issues/182", "id": 1437877, "node_id": "MDU6SXNzdWUxNDM3ODc3", "number": 182, "title": "New I/O mechanisms print \"extra\" blank lines on \\r", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 4, "created_at": "2011-08-19T01:58:55Z", "updated_at": "2012-02-29T01:53:05Z", "closed_at": "2011-09-26T21:45:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen rewriting the I/O loop I had it print the line prefix after any line ending, meaning `\\n` OR `\\r`. I believe I did this because even during testing I ran into cases where a `\\r` was present without a `\\n`, though I'm not sure. It may have simply been pre-emptive on the assumption that somewhere, some program might be using `\\r` as a newline terminator, or someone might be `cat`-ing such a file.\n\nHowever, because at least some applications -- such as colorized `ls` output -- appear to use `\\r` as, well, a carriage return without a newline, we end up with spurious blank, prefixed lines. This looks pretty bizarre, if not downright ugly.\n\nNow, given that the captured text shouldn't have this problem (since the only issue here is that we're printing an extra prefix) it may not be a problem other than cosmetically, but even so, investigate whether a carriage return should be considered a valid line terminator on its own for our prefix-printing purposes. I'm thinking it shouldn't be.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-06-21** at **10:32pm EDT**\n### Relations\n- Related to #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Worksforme_ on **2010-07-13** at **08:56pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/180", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/180/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/180/events", "html_url": "https://github.com/fabric/fabric/issues/180", "id": 1437874, "node_id": "MDU6SXNzdWUxNDM3ODc0", "number": 180, "title": "--version breaks with no git", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:58:54Z", "updated_at": "2012-02-29T01:53:04Z", "closed_at": "2011-08-19T02:11:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIf the user does not have Git installed / is not working off a git cloned version of the source, `fab --version` works but spits out \"hey, what's this 'git' thing?\" errors. Fix this.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-06-18** at **01:03pm EDT**\n\n---\n\nClosed as _Done_ on **2010-06-18** at **02:06pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/179", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/179/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/179/events", "html_url": "https://github.com/fabric/fabric/issues/179", "id": 1437873, "node_id": "MDU6SXNzdWUxNDM3ODcz", "number": 179, "title": "run behaviour changed in 0.9.1", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2011-08-19T01:58:54Z", "updated_at": "2012-02-29T01:53:03Z", "closed_at": "2011-11-09T00:48:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen upgrading from 0.9.0 to 0.9.1 some of my scripts stopped working.\n\nThe idea is to activate a virtualenv and execute some command (e.g. syncdb for Django)\n     def syncdb()\n         with cd(env.path):\n             run('. /home/gvangool/env/crawler/bin/activate; python manage.py syncdb --noinput')\n\n---\n\nOriginally submitted by **Gert Van Gool** ([gvangool](https://github.com/gvangool)) on **2010-06-17** at **11:04am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/174", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/174/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/174/events", "html_url": "https://github.com/fabric/fabric/issues/174", "id": 1437868, "node_id": "MDU6SXNzdWUxNDM3ODY4", "number": 174, "title": "I can not get fabric installed", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:58:48Z", "updated_at": "2012-02-29T01:53:01Z", "closed_at": "2011-08-19T02:11:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHi,\n\nOn all servers it installed well, but now, on one of them I get error (will attach as text file).\n\n---\n\nOriginally submitted by **Arthur Klepchukov** ([avk](https://github.com/avk)) on **2010-06-04** at **04:01am EDT**\n### Attachments\n- [fab_install_error.txt](https://gist.github.com/f12c1428a6faa092daf7)\n\n---\n\nClosed as _Wontfix_ on **2010-06-04** at **11:57am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/173", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/173/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/173/events", "html_url": "https://github.com/fabric/fabric/issues/173", "id": 1437867, "node_id": "MDU6SXNzdWUxNDM3ODY3", "number": 173, "title": "readme typo", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/7", "html_url": "https://github.com/fabric/fabric/milestone/7", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/7/labels", "id": 29490, "node_id": "MDk6TWlsZXN0b25lMjk0OTA=", "number": 7, "title": "0.9.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:32Z", "updated_at": "2011-08-19T02:11:47Z", "due_on": null, "closed_at": "2011-08-19T02:11:47Z"}, "comments": 2, "created_at": "2011-08-19T01:58:47Z", "updated_at": "2012-02-29T01:53:00Z", "closed_at": "2011-08-19T02:11:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nfrom the README:\n\n\"In addition to use via the `fab` **fool**, Fabric's components may be imported\ninto other Python code, providing a Pythonic interface to the SSH protocol\nsuite at a higher level than that provided by e.g. Paramiko (which\nFabric itself leverages.)\n\nI changed 'fool' to 'tool' in this absolutely MAJOR fork -- > http://github.com/tnm/fabric ;)\n\n---\n\nOriginally submitted by **Ted Nyman** ([tnm](https://github.com/tnm)) on **2010-06-02** at **11:41pm EDT**\n\n---\n\nClosed as _Done_ on **2010-06-03** at **10:05am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/168", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/168/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/168/events", "html_url": "https://github.com/fabric/fabric/issues/168", "id": 1437862, "node_id": "MDU6SXNzdWUxNDM3ODYy", "number": 168, "title": "fabric.contrib.files.exists  path expansion", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/7", "html_url": "https://github.com/fabric/fabric/milestone/7", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/7/labels", "id": 29490, "node_id": "MDk6TWlsZXN0b25lMjk0OTA=", "number": 7, "title": "0.9.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:32Z", "updated_at": "2011-08-19T02:11:47Z", "due_on": null, "closed_at": "2011-08-19T02:11:47Z"}, "comments": 1, "created_at": "2011-08-19T01:58:44Z", "updated_at": "2014-04-24T14:00:41Z", "closed_at": "2011-08-19T02:11:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nexists on a path with ~ in it does not work, returns 1 even if it exists, because test is called with the path in \"%s\" so it does not expand.\nChanging that to simply be %s works but may break something else\n\n---\n\nOriginally submitted by **Jan Ingvoldstad** ([jani](https://github.com/jani)) on **2010-05-25** at **04:46am EDT**\n\n---\n\nClosed as _Duplicate_ on **2010-05-27** at **10:56pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/166", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/166/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/166/events", "html_url": "https://github.com/fabric/fabric/issues/166", "id": 1437860, "node_id": "MDU6SXNzdWUxNDM3ODYw", "number": 166, "title": "cd() should overwrite non-empty env.cwd when given absolute path", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 1, "created_at": "2011-08-19T01:58:43Z", "updated_at": "2012-02-29T01:52:55Z", "closed_at": "2011-08-19T02:11:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nCurrently, `cd` only overwrites `env.cwd` if `env.cwd` is empty -- meaning there is an edge case of calling `cd` with an absolute path within another `cd` block (or any other time that `env.cwd` is non-empty) and having it not work correctly.\n\nCan't think of any downsides to changing this so it behaves more naturally, and logic should be simple to add.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-05-23** at **08:39am EDT**\n\n---\n\nClosed as _Done_ on **2010-05-27** at **10:31pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/164", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/164/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/164/events", "html_url": "https://github.com/fabric/fabric/issues/164", "id": 1437858, "node_id": "MDU6SXNzdWUxNDM3ODU4", "number": 164, "title": "puts show_prefix", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:58:42Z", "updated_at": "2015-12-06T23:02:17Z", "closed_at": "2015-12-06T23:02:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWould you consider adding an env variable to control globally whether to show the prefix for puts() output?\n\nEspecially frustrating as I'm supressing most of the output levels, and this seems to ignore that.\n\n---\n\nOriginally submitted by **Nick Trew** ([vxnick](https://github.com/vxnick)) on **2010-05-19** at **04:43am EDT**\n### Relations\n- Related to #163: Formattable output prefix.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/161", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/161/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/161/events", "html_url": "https://github.com/fabric/fabric/issues/161", "id": 1437855, "node_id": "MDU6SXNzdWUxNDM3ODU1", "number": 161, "title": "sudo adduser seems stuck", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 4, "created_at": "2011-08-19T01:58:41Z", "updated_at": "2012-02-29T01:52:52Z", "closed_at": "2011-08-19T02:11:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen running this command: \n\n```\nsudo('adduser %s' % username)\n```\n\nI'm seeing this output:\n\n```\nout: Adding user `dumdum' ...\nout: Adding new group `dumdum' (1004) ...\nout: Adding new user `dumdum' (1003) with group `dumdum' ...\nout: Creating home directory `/home/dumdum' ...\nout: Copying files from `/etc/skel' ...\n```\n\nThe command seems to be stuck after the last line, never terminating.\n\nI'm running fab locally on Windows XP, and the server is Ubuntu 10.04\n\nThis does not happen for other sudo commands, or when sudo adduser returns an error message.\n\n---\n\nOriginally submitted by ***\\* ([ishirav](https://github.com/ishirav)) on **2010-05-06** at **03:55am EDT**\n\n---\n\nClosed as _Wontfix_ on **2010-05-10** at **11:17am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/159", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/159/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/159/events", "html_url": "https://github.com/fabric/fabric/issues/159", "id": 1437853, "node_id": "MDU6SXNzdWUxNDM3ODUz", "number": 159, "title": "sed doesn't work when there is single quote", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 3, "created_at": "2011-08-19T01:58:39Z", "updated_at": "2013-11-11T15:02:07Z", "closed_at": "2011-08-19T02:11:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThis code doesn't work.\n    sed(settings_local, \"DATABASE_ENGINE = ''\", \"DATABASE_ENGINE = 'sqlite3'\")\n\nresult\n    run: sed -i.bak -r -e 's/DATABASE_ENGINE = ''/DATABASE_ENGINE = 'sqlite3'/g' settings_local.py\n    err: sed: \u7121\u6cd5\u8b80\u53d6 settings_local.py: no such file or directory\n\nThis code works.\n    local(\"sed \\\"s/DATABASE_ENGINE = ''/DATABASE_ENGINE = 'sqlite3'/\\\" settings_local.py > %s\" % tmpfile)\n\nresult\n    run: sed \"s/DATABASE_ENGINE = ''/DATABASE_ENGINE = 'sqlite3'/\" settings_local.py > **tmp**\n\n---\n\nOriginally submitted by **fcamel** ([fcamel](https://github.com/fcamel)) on **2010-04-25** at **08:05am EDT**\n\n---\n\nClosed as _Done_ on **2010-06-18** at **11:22pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/158", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/158/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/158/events", "html_url": "https://github.com/fabric/fabric/issues/158", "id": 1437852, "node_id": "MDU6SXNzdWUxNDM3ODUy", "number": 158, "title": "Slow disconnects at end of session", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/7", "html_url": "https://github.com/fabric/fabric/milestone/7", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/7/labels", "id": 29490, "node_id": "MDk6TWlsZXN0b25lMjk0OTA=", "number": 7, "title": "0.9.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:32Z", "updated_at": "2011-08-19T02:11:47Z", "due_on": null, "closed_at": "2011-08-19T02:11:47Z"}, "comments": 13, "created_at": "2011-08-19T01:58:39Z", "updated_at": "2013-04-30T07:07:48Z", "closed_at": "2011-08-19T02:11:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nMultiple users have now exhibited a problem where the tail end of their Fabric session hangs for 1-2 minutes, after the 'Disconnecting from x' message appears. It's unclear yet whether the hang is occurring during the call to `SSHClient.close()` or between those calls and the `sys.exit()`.\n\n---\n\nAt least one user (mdr22 on IRC) [SO question here](http://stackoverflow.com/questions/2685788/why-does-fabric-display-the-disconnect-from-server-message-for-almost-2-minutes/2698960#2698960) was able to make the problem go away by upgrading from the bundled Paramiko 1.7.4 to 1.7.6. He was on OS X 10.6.3 and had recently upgraded to MacPython 2.6.5 from MacPython 2.6.4, but it's unclear if that Python upgrade was the cause.\n\nAdditionally, he exhibited the problem on servers running Ubuntu 6.10 and 9.10, which implies the issue is not likely to be on the server end -- 6.10 is not LTS and thus hasn't had any package upgrades in years. Could still be a remote config issue I suppose.)\n\n---\n\nIRC user vxnick had a possibly related issue which went away after shuffling various components around -- see IRC logs for more info, can't remember details but I don't think we ran into anything conclusive.\n\n---\n\nYet another user (IRC: cortex) is having the issue, local OS is Ubuntu 10.04, Python 2.6.5, Paramiko 1.7.4, remote OS is Ubuntu 9.10. He's trying Paramiko 1.7.6 as I type this.\n\n---\n\nSo far, the only pattern is Python 2.6.5, so I wonder if 2.6.5 + Paramiko 1.7.4 is what's causing this. Will have to see.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-04-23** at **09:46am EDT**\n### Relations\n- Related to #86: Explore move back to external Paramiko dependency\n\n---\n\nClosed as _Done_ on **2010-09-05** at **11:13pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/157", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/157/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/157/events", "html_url": "https://github.com/fabric/fabric/issues/157", "id": 1437851, "node_id": "MDU6SXNzdWUxNDM3ODUx", "number": 157, "title": "Fabfile can't be a hidden file", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 2, "created_at": "2011-08-19T01:58:38Z", "updated_at": "2012-02-29T01:52:50Z", "closed_at": "2011-08-19T02:11:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI made a .fabricrc and added a line\n\nfabfile = ~/.fab_types.py\n\nand it would cause a python error     \n\nTraceback (most recent call last):\n  File \"build/bdist.linux-x86_64/egg/fabric/main.py\", line 363, in main\n  File \"build/bdist.linux-x86_64/egg/fabric/main.py\", line 108, in load_fabfile\nValueError: Empty module name\n\nwhen I tried to run any of the commands\n\n---\n\nOriginally submitted by **Adam** ([gekitsuu](https://github.com/gekitsuu)) on **2010-04-21** at **05:44pm EDT**\n\n---\n\nClosed as _Wontfix_ on **2010-04-21** at **10:54pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/156", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/156/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/156/events", "html_url": "https://github.com/fabric/fabric/issues/156", "id": 1437850, "node_id": "MDU6SXNzdWUxNDM3ODUw", "number": 156, "title": "put() will try to chmod, even though this is not always possible. There is no way to turn this off", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 3, "created_at": "2011-08-19T01:58:37Z", "updated_at": "2012-02-29T01:52:49Z", "closed_at": "2011-08-19T02:11:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI use multiple deployment users and use ACL to give them all the right rights. However, as fabric.operations.put insists on chmodding the file, I get a permission denied.\n\nIt should be possible to turn chmodding off, as with ACL it is possible to be able to write the file, but not chmod it.\n\nI propose having \"mode = None\" do nothing (no chmodding, safest), have \"mode = True\" copy the mode back (as it now does), and finally have the other modes work as normal.\n\nCurrent work-around is to copy the put method and remove the chmod code completely, or write my own put method.\n\n---\n\nOriginally submitted by **A. Bram Neijt** ([bneijt](https://github.com/bneijt)) on **2010-04-19** at **10:15am EDT**\n### Relations\n- Duplicates #121: Make put() more flexible re: file modes\n- Related to #140: Recursive put() and get()\n\n---\n\nClosed as _Duplicate_ on **2010-09-17** at **02:15pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/155", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/155/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/155/events", "html_url": "https://github.com/fabric/fabric/issues/155", "id": 1437849, "node_id": "MDU6SXNzdWUxNDM3ODQ5", "number": 155, "title": "Possible quoting related issues in contrib.files.exists", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2011-08-19T01:58:36Z", "updated_at": "2012-02-29T01:52:49Z", "closed_at": "2012-02-02T19:43:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\ntried with folder and files... always returns False.\n\n---\n\nOriginally submitted by **Patrick Lauber** ([digi604](https://github.com/digi604)) on **2010-04-15** at **04:43pm EDT**\n### Relations\n- Related to #118: Single quotes in append() don't work, or: goddamn quoting\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/153", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/153/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/153/events", "html_url": "https://github.com/fabric/fabric/issues/153", "id": 1437847, "node_id": "MDU6SXNzdWUxNDM3ODQ3", "number": 153, "title": "Hangs When Encountering an Invalid Security Certificate", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 0, "created_at": "2011-08-19T01:58:35Z", "updated_at": "2012-02-29T01:52:47Z", "closed_at": "2011-08-19T02:11:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nDo something like\n\n```\nlocal(\"svn checkout https://serverwithinvalidcertificate.com\")\n```\n\nAnd fab will hang there indefinitely without any information provided. This is probably because the \"accept temporarily, accept permanently, or reject\" prompt is up and waiting for user action, but it's hidden behind the scenes. A quick solution to this would be to abort and report what's going on to the user. The best solution would be to pass through the prompt and allow the user to respond.\n\n---\n\nOriginally submitted by **Brendan Doms** ([bdoms](https://github.com/bdoms)) on **2010-03-31** at **05:46pm EDT**\n### Relations\n- Duplicates #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Duplicate_ on **2010-04-01** at **11:55am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/147", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/147/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/147/events", "html_url": "https://github.com/fabric/fabric/issues/147", "id": 1437841, "node_id": "MDU6SXNzdWUxNDM3ODQx", "number": 147, "title": "Installing pre-release via pip causes git_sha() error ", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:58:31Z", "updated_at": "2014-08-26T00:21:16Z", "closed_at": "2011-08-19T02:11:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nInstall a pre-release version using pip: `pip install git+git://github.com/bitprophet/fabric.git#egg=Fabric`\n\nEvery run of fab causes `fatal: Not a git repository (or any of the parent directories): .git` to be displayed twice.\n\nI think that git_sha() should fail silently if a git repository is not found.\n\n---\n\nOriginally submitted by ***\\* ([reavis](https://github.com/reavis)) on **2010-02-23** at **09:44pm EST**\n\n---\n\nClosed as _Wontfix_ on **2010-05-27** at **11:47pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/147/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/146", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/146/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/146/events", "html_url": "https://github.com/fabric/fabric/issues/146", "id": 1437840, "node_id": "MDU6SXNzdWUxNDM3ODQw", "number": 146, "title": "windows port needs pywin32", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:58:31Z", "updated_at": "2012-02-29T01:52:43Z", "closed_at": "2011-08-19T02:11:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOn the page: \n   http://docs.fabfile.org/0.9.0/installation.html\nyou list dependencies. I did installation on win32 with easy_install. \n\nBut when I start fab, this error I get:\n\n  File \"build\\bdist.win32\\egg\\fabric\\state.py\", line 74, in _get_system_username\n  ImportError: No module named win32api\n\nThe library needed is http://sourceforge.net/projects/pywin32/, and references in fabric/paramiko I found are:\n\nfabric/state.py\n    def _get_system_username():\n        ...\n        import win32api\n        import win32security\n        import win32profile\n        return win32api.GetUserName()\n\n```\ndef _rc_path():\n    ...\n    from win32com.shell.shell import SHGetSpecialFolderPath\n    from win32com.shell.shellcon import CSIDL_PROFILE\n    return \"%s/%s\" % (\n        SHGetSpecialFolderPath(0,CSIDL_PROFILE),\n        rc_file\n    )\n```\n\nparamiko\\win_pageant.py\n    also uses win32 package\n\nMy suggestions: \n- please write down the dependency in http://docs.fabfile.org/0.9.0/installation.html\n- put dependency in easy_install - only check if exists will do, in the case if pulling/installing it from PyPi is not possible (most probably)\n- if possible - can you remove this dependency - it would be more convenient to use standard Python (2.5+) ctypes library (http://docs.python.org/library/ctypes.html, http://python.net/crew/theller/ctypes/). Personally I don't like how Pywin32 installation (saves something to system32, to registry, 4 directories in site_packages, start menu ...). \n\n---\n\nOriginally submitted by ***\\* ([trebor74hr](https://github.com/trebor74hr)) on **2010-02-23** at **11:34am EST**\n### Relations\n- Duplicates #123: ImportError in _get_system_username on cyqwin without win32api installed\n\n---\n\nClosed as _Duplicate_ on **2010-06-18** at **01:50pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/143", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/143/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/143/events", "html_url": "https://github.com/fabric/fabric/issues/143", "id": 1437837, "node_id": "MDU6SXNzdWUxNDM3ODM3", "number": 143, "title": "context manager PATH errors when using with run operation", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 2, "created_at": "2011-08-19T01:58:29Z", "updated_at": "2012-02-29T01:52:41Z", "closed_at": "2011-08-19T02:11:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFor example, the following code always errors out for me:\n\n<pre>\ndirectory = \"/tmp\"\ncmd = \"ls\"\n\ndef test1():\n    with path(directory):\n        run(cmd)\n</pre>\n\n\nwith the following:\n\n<pre>\n[user@host] run: /bin/bash -l -c \"PATH=\\$PATH:\\\"/tmp\\\" ls\"\n[user@host] err: Unmatched \".\n\nWarning: run() encountered an error (return code 1) while executing 'ls'\n\nNone\n</pre>\n\n\nI'm working my way through the code right now and am currently looking at the _prefix_env_vars function to try and isolate a fix.  Shells are quite finicky beasts and escaping commands is not always simple.\n\nAttached is a test fabfile to illustrate more thoroughly what I'm seeing.\n\n---\n\nOriginally submitted by ***\\* ([jpittman](https://github.com/jpittman)) on **2010-02-10** at **04:06pm EST**\n### Attachments\n- [fabtest.py](https://gist.github.com/4e44a8a5d0ad8504f974)\n\n---\n\nClosed as _Worksforme_ on **2011-04-05** at **11:09am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/142", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/142/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/142/events", "html_url": "https://github.com/fabric/fabric/issues/142", "id": 1437836, "node_id": "MDU6SXNzdWUxNDM3ODM2", "number": 142, "title": "disconnect_all doesnt delete closed connection from connections cache", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 3, "created_at": "2011-08-19T01:58:27Z", "updated_at": "2012-02-29T01:52:40Z", "closed_at": "2011-08-19T02:11:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nhi,\n\ni use fabric version 1.0a.\n\nafter a network.disconnect_all() the connections cache is not empty. if you call run (or something similar) again it is raise an exception:\n\n <pre>\n    @needs_host\n    def run(command, shell=True, pty=False):\n        \"\"\"\n        Run a shell command on a remote host.\n\n```\n    If ``shell`` is True (the default), `run` will execute the given command\n    string via a shell interpreter, the value of which may be controlled by\n    setting ``env.shell`` (defaulting to something similar to ``/bin/bash -l -c\n    \"<command>\"``.) Any double-quote (``\"``) or dollar-sign (``$``) characters\n    in ``command`` will be automatically escaped when ``shell`` is True.\n\n    `run` will return the result of the remote program's stdout as a single\n    (likely multiline) string. This string will exhibit ``failed`` and\n    ``succeeded`` boolean attributes specifying whether the command failed or\n    succeeded, and will also include the return code as the ``return_code``\n    attribute.\n\n    Standard error will also be attached, as a string, to this return value as\n    the ``stderr`` attribute.\n\n    You may pass ``pty=True`` to force allocation of a pseudo tty on\n    the remote end. This is not normally required, but some programs may\n    complain (or, even more rarely, refuse to run) if a tty is not present.\n\n    Examples::\n\n        run(\"ls /var/www/\")\n        run(\"ls /home/myuser\", shell=False)\n        output = run('ls /var/www/site1')\n\n    .. versionchanged:: 1.0\n        Added the ``succeeded`` attribute.\n    .. versionchanged:: 1.0\n        Added the ``stderr`` attribute.\n    \"\"\"\n```\n\n> ```\n>   return _run_command(command, shell, pty)\n> ```\n\n/usr/local/lib/python2.6/dist-packages/Fabric-1.0a-py2.6.egg/fabric/operations.py:567: \n\n---\n\ncommand = 'cat /etc/deskcloudclient/config.cfg', shell = True, pty = False\nsudo = False, user = None\n\n```\ndef _run_command(command, shell=True, pty=False, sudo=False, user=None):\n    \"\"\"\n    Underpinnings of `run` and `sudo`. See their docstrings for more info.\n    \"\"\"\n    # Set up new var so original argument can be displayed verbatim later.\n    given_command = command\n    # Handle context manager modifications, and shell wrapping\n    wrapped_command = _shell_wrap(\n        _prefix_commands(_prefix_env_vars(command)),\n        shell,\n        _sudo_prefix(user) if sudo else None\n    )\n    which = 'sudo' if sudo else 'run'\n    if output.debug:\n        print(\"[%s] %s: %s\" % (env.host_string, which, wrapped_command))\n    elif output.running:\n        print(\"[%s] %s: %s\" % (env.host_string, which, given_command))\n```\n\n> ```\n>   channel = connections[env.host_string]._transport.open_session()\n> ```\n> \n> E       AttributeError: 'NoneType' object has no attribute 'open_session'\n\n/usr/local/lib/python2.6/dist-packages/Fabric-1.0a-py2.6.egg/fabric/operations.py:484: AttributeError\n</pre>\n\n---\n\nOriginally submitted by **Christian** ([chassing](https://github.com/chassing)) on **2010-02-10** at **11:52am EST**\n\n---\n\nClosed as _Worksforme_ on **2011-03-14** at **04:56pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/139", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/139/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/139/events", "html_url": "https://github.com/fabric/fabric/issues/139", "id": 1437833, "node_id": "MDU6SXNzdWUxNDM3ODMz", "number": 139, "title": "Connection refused showing up as a timeout error", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 1, "created_at": "2011-08-19T01:58:26Z", "updated_at": "2012-02-29T01:52:38Z", "closed_at": "2011-08-19T02:11:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAlso from sm0ke in IRC -- the problems in #138 were exacerbated by a timeout error message being shown instead of connection refused.\n\nI assume this is due to a too-wide Paramiko exception, but should double check this assumption. We may be making assumptions about what a given exception means.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-02-05** at **09:27am EST**\n\n---\n\nClosed as _Wontfix_ on **2010-02-05** at **09:33am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/138", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/138/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/138/events", "html_url": "https://github.com/fabric/fabric/issues/138", "id": 1437832, "node_id": "MDU6SXNzdWUxNDM3ODMy", "number": 138, "title": "env.port not honored if host string lacks port specification", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/18", "html_url": "https://github.com/fabric/fabric/milestone/18", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/18/labels", "id": 56630, "node_id": "MDk6TWlsZXN0b25lNTY2MzA=", "number": 18, "title": "1.4", "description": "Networky things.", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2011-11-18T05:12:29Z", "updated_at": "2012-02-14T02:20:59Z", "due_on": null, "closed_at": "2012-02-14T02:20:40Z"}, "comments": 8, "created_at": "2011-08-19T01:58:25Z", "updated_at": "2012-02-29T01:52:37Z", "closed_at": "2012-02-03T01:34:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nUser sm0ke in IRC says he had a problem where his remote system had a nonstandard SSH port, and his use of `env.port` was ignored -- only specifying the port number in the host string worked.\n\nI seem to recall this being fixed before but don't see a ticket, so check this out -- it's quite possible it's slipped by due to my usual emphasis on host strings over env vars.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2010-02-05** at **09:11am EST**\n### Relations\n- Duplicated by #313: setting port in .fabricrc won't work\n- Related to #4: Allow for storing/using metadata about hosts\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/138/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/137", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/137/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/137/events", "html_url": "https://github.com/fabric/fabric/issues/137", "id": 1437831, "node_id": "MDU6SXNzdWUxNDM3ODMx", "number": 137, "title": "Allow escaped commas in command line", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/7", "html_url": "https://github.com/fabric/fabric/milestone/7", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/7/labels", "id": 29490, "node_id": "MDk6TWlsZXN0b25lMjk0OTA=", "number": 7, "title": "0.9.2", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:32Z", "updated_at": "2011-08-19T02:11:47Z", "due_on": null, "closed_at": "2011-08-19T02:11:47Z"}, "comments": 9, "created_at": "2011-08-19T01:58:24Z", "updated_at": "2012-02-29T01:52:37Z", "closed_at": "2011-08-19T02:11:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIt sometimes comes up that a comma will be needed as part of an argument passed on the command line. In such a case an escaped comma option would be nice.  There is a solution at http://paste.pocoo.org/show/174044/ if  you want that.\n\n---\n\nOriginally submitted by **Erich Heine** ([sophacles](https://github.com/sophacles)) on **2010-02-04** at **06:53pm EST**\n### Relations\n- Related to #69: Investigate translation of CLI per-task args to Python types\n\n---\n\nClosed as _Done_ on **2010-09-03** at **05:48pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/132", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/132/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/132/events", "html_url": "https://github.com/fabric/fabric/issues/132", "id": 1437826, "node_id": "MDU6SXNzdWUxNDM3ODI2", "number": 132, "title": "run()/sudo() strip the output, local() does not", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 1, "created_at": "2011-08-19T01:58:22Z", "updated_at": "2012-02-29T01:52:33Z", "closed_at": "2011-08-19T02:11:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nJust a little inconsistency that can be surprising: I ran run('mktemp') and was able to use the output directly, local('mktemp') caused me all sorts of problems with the trailing newline until I realized what was going on.\n\nFixed [here](http://github.com/carljm/fabric/commit/ebb8083a4829a4be092eb9a40bff9770b7695833).\n\n---\n\nOriginally submitted by **Carl Meyer** ([carljm](https://github.com/carljm)) on **2010-01-08** at **11:30pm EST**\n\n---\n\nClosed as _Done_ on **2010-05-27** at **09:34pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/130", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/130/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/130/events", "html_url": "https://github.com/fabric/fabric/issues/130", "id": 1437824, "node_id": "MDU6SXNzdWUxNDM3ODI0", "number": 130, "title": "Context managers don't account for exceptions", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 4, "created_at": "2011-08-19T01:58:21Z", "updated_at": "2012-02-29T01:52:32Z", "closed_at": "2011-08-19T02:11:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn general, Fabric's context managers fail to clean up after themselves in case an exception is raised within them. This makes it difficult to use them if you're trying to do exception handling. For instance, take the following code:\n\n```\n try:\n   # ... do some stuff here ...\n   with cd('something'):\n     # ... do more work here ...\n except:\n   with cd('somewhere'):\n     # ... do cleanup here ...\n```\n\nIf an exception is raised inside `with cd('something')`, any commands inside the `with cd('somewhere')` will fail, because they will actually try to cd to `something/somewhere`, because the first `cd` never cleaned up after itself.\n\nI think the solution to this is fairly simple, I've implemented it (with a test) here: http://github.com/carljm/fabric/commit/e6eba334a80951c9f3510622f93be8ce6ed9de39\n\n---\n\nOriginally submitted by **Carl Meyer** ([carljm](https://github.com/carljm)) on **2010-01-05** at **08:51pm EST**\n\n---\n\nClosed as _Done_ on **2010-05-27** at **09:19pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/123", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/123/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/123/events", "html_url": "https://github.com/fabric/fabric/issues/123", "id": 1437817, "node_id": "MDU6SXNzdWUxNDM3ODE3", "number": 123, "title": "ImportError in _get_system_username on cyqwin without win32api installed", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 12, "created_at": "2011-08-19T01:58:17Z", "updated_at": "2012-02-29T01:52:28Z", "closed_at": "2011-08-19T02:11:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nfunction _get_system_username() fails when using cygwin without win32api installed.  \n\n`\n/usr/lib/python2.5/site-packages/fabric/state.py in _get_system_username()\n     72         return pwd.getpwuid(os.getuid())[0]\n     73     else:\n---> 74         import win32api\n     75         import win32security\n     76         import win32profile\n\nImportError: No module named win32api\n`\n\nPossibly use this instead:\n`import os\n\nreturn os.getlogin()`\n\n---\n\nSee also #146 for another report on the same general issue (and a patch from Ali Saifee which looks like the same suggestion as Nate's -- that `os.getlogin` works under at least some Windows Python platforms. Guessing Ali was also on Cygwin.\n\n---\n\nOriginally submitted by **Nathan Sutton** ([nate](https://github.com/nate)) on **2009-12-17** at **03:03pm EST**\n### Relations\n- Duplicated by #146: windows port needs pywin32\n\n---\n\nClosed as _Done_ on **2010-06-18** at **01:49pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/118", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/118/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/118/events", "html_url": "https://github.com/fabric/fabric/issues/118", "id": 1437812, "node_id": "MDU6SXNzdWUxNDM3ODEy", "number": 118, "title": "Single quotes in append() don't work, or: goddamn quoting", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2011-08-19T01:58:14Z", "updated_at": "2012-02-29T01:52:24Z", "closed_at": "2012-01-20T01:43:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFor some reason `fabric.contrib.files.append` tries to escape single-quotes in order to behave better given that it wraps the text to append in single quotes -- despite this not being legal Bash syntax (says right in the manpage, can't have single quotes between single quotes, even if it's escaped with a backslash.)\n\nIf we attempt to reverse this to use double-quotes (meaning wrap in, and escape, double-quotes) then we run into problems due to how `run`/`sudo` do their own auto-escaping of quotes (mostly, I think, a nesting problem -- one ends up with the backslash doubled up, and so thus the innermost, single double-quote ends up not truly escaped.)\n\nI think this is symptomatic of a larger problem: quoting is freakin' difficult. It would be easier for us if we never did any auto-escaping at all, but there are at least some spots where that would make life very difficult for some use cases / users.\n\nPerhaps any client code of `run`/`sudo` (such as `append`) should be barred from auto-escaping -- leave it on for operations and make everything else subject to the \"if you use quotes in your strings, be careful\".\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-12-13** at **04:45pm EST**\n### Relations\n- Related to #290: Allow control over escaping of quotes in append()\n- Related to #238: Push-and-run helper\n- Related to #260: incorrect results with contrib.files.contains/append and backslashes\n- Duplicated by #346: Bug in operations._shell_escape()\n- Duplicated by #392: contrib.files.contains does not properly quote text argument\n- Related to #155: Possible quoting related issues in contrib.files.exists\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/115", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/115/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/115/events", "html_url": "https://github.com/fabric/fabric/issues/115", "id": 1437809, "node_id": "MDU6SXNzdWUxNDM3ODA5", "number": 115, "title": "Preserving order of hosts", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/2", "html_url": "https://github.com/fabric/fabric/milestone/2", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/2/labels", "id": 29485, "node_id": "MDk6TWlsZXN0b25lMjk0ODU=", "number": 2, "title": "1.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2011-08-19T01:56:57Z", "updated_at": "2011-08-19T02:12:18Z", "due_on": null, "closed_at": "2011-08-19T02:12:18Z"}, "comments": 11, "created_at": "2011-08-19T01:58:12Z", "updated_at": "2012-02-29T01:52:22Z", "closed_at": "2011-08-19T02:11:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nHi,\nI have a task which requires the same operation to be done on a bunch of servers in a particular order. I set the env.hosts accordingly but I noticed that the command was being executed on the servers in a different order than the one I specified. I hunted down the problem to line 309 of fabric.main where you are a creating a unique list using the set object. Using a order preserving duplicate remover would be better, imho. So I think it should be avoided in this case. A possible solution from http://code.activestate.com/recipes/52560/ :\n\n```\ndef uniq(alist):\n    lst = {}\n    return [lst.setdefault(e, e) for e in alist if e not in lst]\n```\n\nThanks\n\n---\n\nOriginally submitted by ***\\* ([ducky427](https://github.com/ducky427)) on **2009-11-30** at **10:22am EST**\n### Relations\n- Duplicated by #243: Consider not using set() when merging hosts/roles\n\n---\n\nClosed as _Done_ on **2011-04-25** at **08:58pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/114", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/114/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/114/events", "html_url": "https://github.com/fabric/fabric/issues/114", "id": 1437808, "node_id": "MDU6SXNzdWUxNDM3ODA4", "number": 114, "title": "Ctrl-D causes hanging", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:58:12Z", "updated_at": "2012-03-01T03:13:04Z", "closed_at": "2012-03-01T03:13:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFrom tvon, while troubleshooting a semi-related issue:\n\n```\n[~/Development/cahoots]\ntvon@bender> fab test2\n[spitball@spitballlocal.com] Executing task 'test2'\n[spitball@spitballlocal.com] run: ls\nPassword for spitball@spitballlocal.com: Exception in thread [spitball@spitballlocal.com] err:\nTraceback (most recent call last):\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/threading.py\", line 522, in __bootstrap_inner\nself.run()\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/threading.py\", line 477, in run\nself.__target(*self.__args, **self.__kwargs)\nFile \"build/bdist.macosx-10.6-universal/egg/fabric/network.py\", line 327, in outputter\nenv.password = password = prompt_for_password(password)\nFile \"build/bdist.macosx-10.6-universal/egg/fabric/network.py\", line 274, in prompt_for_password\nnew_password = getpass.getpass(password_prompt)\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/getpass.py\", line 68, in unix_getpass\npasswd = _raw_input(prompt, stream, input=input)\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/getpass.py\", line 130, in _raw_input\nraise EOFError\nEOFError\n```\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-11-19** at **01:38pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/110", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/110/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/110/events", "html_url": "https://github.com/fabric/fabric/issues/110", "id": 1437804, "node_id": "MDU6SXNzdWUxNDM3ODA0", "number": 110, "title": "Reorder fab CLI arguments list to be alphabetical", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 2, "created_at": "2011-08-19T01:58:09Z", "updated_at": "2012-02-29T01:52:19Z", "closed_at": "2011-08-19T02:11:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nCreated it in the order I found the arguments defined in-code and neglected to reorder them afterwards. Makes it very hard to navigate, especially given lack of sidebar nav (e.g. #65.)\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-11-14** at **06:16pm EST**\n\n---\n\nClosed as _Done_ on **2010-05-27** at **08:55pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/109", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/109/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/109/events", "html_url": "https://github.com/fabric/fabric/issues/109", "id": 1437803, "node_id": "MDU6SXNzdWUxNDM3ODAz", "number": 109, "title": "put() raising \"NoneType has no attribute 'st_mode'\" exception", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:58:09Z", "updated_at": "2012-03-01T03:13:22Z", "closed_at": "2012-03-01T03:13:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nReported by user `harobed` (Klein St\u00e9phane) in IRC. He's on Ubuntu 9.04 targeting a Debian system, using Fabric 0.9.0, and the only Paramiko installed is our bundled 1.7.4.\n\nError output:\n\n```\n[root@exemple.com:2031] put: /tmp/foobar_doc.tar.gz -> /tmp/foobar.tar.gz\n\nFatal error: put() encountered an exception while uploading '/tmp/foobar.tar.gz'\n\nUnderlying exception message:\n    'NoneType' object has no attribute 'st_mode'\n\nAborting.\nDisconnecting from exemple.com:2031... done.\n```\n\nThis would appear to be reslting from line 299 of source:fabric/operations.py :\n\n```\nrattrs = ftp.put(lpath, _remote_path)\n```\n\nwhich should never really be returning None, as it appears to be.\n\nWill need to try and replicate myself on an Ubuntu 9.04 vm.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-11-13** at **10:57am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/109/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/100", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/100/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/100/events", "html_url": "https://github.com/fabric/fabric/issues/100", "id": 1437794, "node_id": "MDU6SXNzdWUxNDM3Nzk0", "number": 100, "title": "UnicodeDecodeError on some output (or, implement Unicode support)", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/24", "html_url": "https://github.com/fabric/fabric/milestone/24", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/24/labels", "id": 742771, "node_id": "MDk6TWlsZXN0b25lNzQyNzcx", "number": 24, "title": "2.0", "description": "Initial 2.0 release, backwards incompatible with 1.x, based heavily on use of https://github.com/pyinvoke/invoke", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2014-08-04T21:50:58Z", "updated_at": "2018-07-10T18:35:19Z", "due_on": null, "closed_at": "2018-07-10T18:35:19Z"}, "comments": 6, "created_at": "2011-08-19T01:58:02Z", "updated_at": "2014-08-27T00:58:40Z", "closed_at": "2014-08-27T00:58:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI had a misconfigured PostgreSQL server.\nsomewhere in the configuration file this line:\n`log_filename = \"/dev/null\"\nbut, it only support single quote.\n\nThe consequence is, when trying to stop/start it, this appear:\n\n`root@domU-xxxx-C1:~# /etc/init.d/postgresql-8.3 stop\n` \\* Stopping PostgreSQL 8.3 database server\n`* Error: Invalid line 248 in /etc/postgresql/8.3/main/postgresql.conf: \u00bblog_filename = \"/dev/null\"\u00ab\n`                                                                       [fail]\n\nMy fabric script was trying to sudo('/etc/init.d/postgresql-8.3 stop'), when this occur:\n\n[xxxx.compute-1.amazonaws.com] out:  \\* Stopping PostgreSQL 8.3 database server\nException in thread [ec2-75-101-247-151.compute-1.amazonaws.com] out:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/threading.py\", line 525, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.6/threading.py\", line 477, in run\n    self.__target(_self.__args, *_self.__kwargs)\n  File \"build/bdist.linux-x86_64/egg/fabric/network.py\", line 351, in outputter\n    out_stream.write(\"%s: %s\\n\" % (prefix, line)),\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc2 in position 72: ordinal not in range(128)\n\nPostgreSQL use the character \u00bb which raise an exception.\n\n---\n\nOriginally submitted by **Bruno Clermont** (brunoc) on **2009-11-11** at **05:28pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/97", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/97/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/97/events", "html_url": "https://github.com/fabric/fabric/issues/97", "id": 1437791, "node_id": "MDU6SXNzdWUxNDM3Nzkx", "number": 97, "title": "In some situations, pressing Enter does *not* reuse the previous password", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:58:00Z", "updated_at": "2012-02-29T01:52:10Z", "closed_at": "2011-08-19T02:11:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIn commit:22900ea, while redoing some of the password/auth stuff, I updated the password memory functionality to only overwrite env.password when it was empty. This was in an attempt to fix problems with multiple hosts with different (usually sudo) passwords, though it's unclear to me right now what the exact problem was -- it had to do with remembering the \"wrong\" password and making it kind of clunky to move down such a list of hosts.\n\nHowever, what this means is that in the following scenario can occur:\n- User enters incorrect password; since env.password is empty, it gets the incorrect password.\n- User is prompted again (because previous password failed)\n- User enters correct password; since env.password is non-empty, it is NOT updated, only the local (to the current operation) password var is updated.\n- TIme passes, other operations execute, sudo timer expires (or whatever)\n- User is prompted again and hits Enter, expecting Fab to use the previously entered, correct, password\n- Fab uses env.password, which is still set to the first, incorrect password.\n- Wailing and gnashing of teeth ensues\n\nWhich is pretty bad and hard to understand.\n\nFor now, fix this by reverting to the old \"always update env.password when user enters something at a prompt\", which I think is a lesser evil and should line up closer with user expectations.\n\nRegarding the per-host passwords, that should be handled in #4, which would be a better solution than this current behavior anyways.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-11-10** at **11:42am EST**\n### Relations\n- Related to #192: Per-user/host password memory (was: Possible issue in password memory)\n- Related to #4: Allow for storing/using metadata about hosts\n\n---\n\nClosed as _Done_ on **2009-11-10** at **11:44am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/88", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/88/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/88/events", "html_url": "https://github.com/fabric/fabric/issues/88", "id": 1437782, "node_id": "MDU6SXNzdWUxNDM3Nzgy", "number": 88, "title": "Switch default behavior of local() to not capture", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 4, "created_at": "2011-08-19T01:57:56Z", "updated_at": "2012-02-29T01:52:04Z", "closed_at": "2011-08-19T02:11:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe decision about `local`'s default behavior was tough and I went back and forth a few times during 0.9's development.\n\nUnfortunately I think I did end up making the wrong decision -- every time I use `local` I find myself having to switch `capture=False`, plus other users have the same confusion (or aren't even aware of `capture` at all) which causes pain there. This seems to clearly illustrate that having `local` behave intuitively is probably more important than having it be consistent with `run` and `sudo` in terms of the default return value.\n\nIdeally, of course, we'd capture _and_ print at the same time, but for now that doesn't appear easy to accomplish.\n\nSadly I am locked into this unfortunate setup due to backwards compatibility, but this should definitely change in 1.0.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-11-08** at **03:29pm EST**\n### Relations\n- Related to #70: some lines of the output  are missing\n- Related to #299: Allow local() to capture and print simultaneously, like run()\n\n---\n\nClosed as _Done_ on **2011-03-03** at **02:48pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/88/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/88/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/84", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/84/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/84/events", "html_url": "https://github.com/fabric/fabric/issues/84", "id": 1437778, "node_id": "MDU6SXNzdWUxNDM3Nzc4", "number": 84, "title": "fabric.contrib.files.sed uses \"non-standard\" flag '-r'", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2011-08-19T01:57:54Z", "updated_at": "2013-03-19T21:10:47Z", "closed_at": "2013-03-19T21:10:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFor example, using OS X it's `-E` and thus all contrib.files commands that depend on `sed` fail.\n\nNot sure if there are any good solutions to this problem. Perhaps using a named argument such as \"sed_extended_regexps_flag='-r'\"?\n\n---\n\nOriginally submitted by **Jonas Nockert** ([lemonad](https://github.com/lemonad)) on **2009-11-08** at **06:43am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/84/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/82", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/82/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/82/events", "html_url": "https://github.com/fabric/fabric/issues/82", "id": 1437776, "node_id": "MDU6SXNzdWUxNDM3Nzc2", "number": 82, "title": "fabric.contrib.files.append checks beginning of lines rather than discrete lines", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 4, "created_at": "2011-08-19T01:57:53Z", "updated_at": "2012-02-29T01:52:00Z", "closed_at": "2011-08-19T02:11:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe documentation for 0.9 states that:\n\n<blockquote>\nIf text is already found as a discrete line in filename, the append is not run, and None is returned immediately. Otherwise, the given text is appended to the end of the given filename via e.g. echo '$text' >> $filename.\n</blockquote>\n\n\nHowever, it seems that's not the case. See the following pseudo code:\n    $ echo \"hello world\" > test.txt\n    $ fab fabric.contrib.files.append(\"hello\", \"test.txt\")\n    $ cat test.txt\n    hello world\n\n---\n\nOriginally submitted by **Jonas Nockert** ([lemonad](https://github.com/lemonad)) on **2009-11-08** at **05:02am EST**\n### Relations\n- Related to #172: Make default function arg values more sensible\n\n---\n\nClosed as _Done_ on **2010-05-27** at **10:50pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/82/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/77", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/77/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/77/events", "html_url": "https://github.com/fabric/fabric/issues/77", "id": 1437771, "node_id": "MDU6SXNzdWUxNDM3Nzcx", "number": 77, "title": "If remote and local files are same: empty file as a result", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T01:57:50Z", "updated_at": "2012-03-01T02:23:33Z", "closed_at": "2012-03-01T02:23:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIf the remote file is **get** to the same location (easy to reproduce with localhost -connection),\nthe outcome is empty file. See attached test file.\n\n---\n\nOriginally submitted by ***\\* ([jmu](https://github.com/jmu)) on **2009-11-01** at **01:07pm EST**\n### Attachments\n- [fabfile.py](https://gist.github.com/a32afbe75e99d38d71ba)\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/77/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/75", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/75/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/75/events", "html_url": "https://github.com/fabric/fabric/issues/75", "id": 1437769, "node_id": "MDU6SXNzdWUxNDM3NzY5", "number": 75, "title": "\"fab\" with no arguments and no fabfiles should display help", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/3", "html_url": "https://github.com/fabric/fabric/milestone/3", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/3/labels", "id": 29486, "node_id": "MDk6TWlsZXN0b25lMjk0ODY=", "number": 3, "title": "0.9.1", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2011-08-19T01:57:11Z", "updated_at": "2011-08-19T02:11:42Z", "due_on": null, "closed_at": "2011-08-19T02:11:42Z"}, "comments": 5, "created_at": "2011-08-19T01:57:49Z", "updated_at": "2012-02-29T01:51:55Z", "closed_at": "2011-08-19T02:11:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen no fabfiles are present, just `$ fab` (with no arguments) complains about a lack of fabfiles. It should instead display the `--help` message.\n\nI note that when fabfiles **are** present, it works correctly and displays the help. Hopefully this is a simple ordering issue and not something that will be a pain to disentangle.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-10-25** at **11:06pm EDT**\n\n---\n\nClosed as _Done_ on **2010-05-27** at **08:01pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/75/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/70", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/70/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/70/events", "html_url": "https://github.com/fabric/fabric/issues/70", "id": 1437764, "node_id": "MDU6SXNzdWUxNDM3NzY0", "number": 70, "title": "some lines of the output  are missing", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 5, "created_at": "2011-08-19T01:57:46Z", "updated_at": "2012-02-29T01:51:52Z", "closed_at": "2011-08-19T02:11:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI found out that in some situation fabric do not report some lines of the output when using :\n- pint local(...)\n\nHere it is an example in my application : \n- http://bitbucket.org/yml/fabric_factory/src/tip/fabfile.py#cl-40\n\nI get this output :\n------8<--------------\n$ fab run_test_suite \n[localhost] run: fabric_factory_sandbox/ve/bin/python fabric_factory_sandbox/fabric_factory/src/project/manage.py test --settings=project.settings\nCreating test database...\nCreating table auth_permission\nCreating table auth_group\nCreating table auth_user\nCreating table auth_message\nCreating table django_content_type\nCreating table django_session\nCreating table django_site\nCreating table django_admin_log\nCreating table factory_fabfilerecipe\nCreating table factory_build\nInstalling index for auth.Permission model\nInstalling index for auth.Message model\nInstalling index for admin.LogEntry model\nInstalling index for factory.FabfileRecipe model\nInstalling index for factory.Build model\nDestroying test database...\n\nDone.\n\n---\n\nInstead of this : \n------8<-------------\n$ fabric_factory_sandbox/ve/bin/python fabric_factory_sandbox/fabric_factory/src/project/manage.py test --settings=project.settings\nCreating test database...\nCreating table auth_permission\nCreating table auth_group\nCreating table auth_user\nCreating table auth_message\nCreating table django_content_type\nCreating table django_session\nCreating table django_site\nCreating table django_admin_log\nCreating table factory_fabfilerecipe\nCreating table factory_build\nInstalling index for auth.Permission model\nInstalling index for auth.Message model\nInstalling index for admin.LogEntry model\nInstalling index for factory.FabfileRecipe model\nInstalling index for factory.Build model\n## ...................................................\n\nRan 51 tests in 4.085s\n\nOK\n## Destroying test database...\n\n Do you have any idea on how to fix this ?\n\nRegards,\nYann\n\n---\n\nOriginally submitted by ***\\* ([yml](https://github.com/yml)) on **2009-10-23** at **04:24pm EDT**\n### Relations\n- Related to #88: Switch default behavior of local() to not capture\n\n---\n\nClosed as _Done_ on **2009-11-08** at **04:59pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/70/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/70/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/66", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/66/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/66/events", "html_url": "https://github.com/fabric/fabric/issues/66", "id": 1437760, "node_id": "MDU6SXNzdWUxNDM3NzYw", "number": 66, "title": "Consider making `--hosts` always override `env.hosts`", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-19T01:57:44Z", "updated_at": "2012-02-29T02:06:13Z", "closed_at": "2012-02-29T02:06:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nRight now, `--hosts` sets `env.hosts`, but it's easily overridden if the fabfile itself ever decides to assign to `env.hosts` destructively.\n\nWhile this makes sense from a \"just have CLI args transparently update `env`\" perspective, it breaks the desired/usual pattern of \"command line should always trump internal settings\". See, for example, how we deal with the per-task host lists: the CLI args `mytask:host=foo` always overrides `@hosts('foo')`.\n\nIt may make sense to expand this ticket's scope to be \"Make host specification more flexible\" (e.g. right now if either hosts OR roles are specified for a given \"source\", that's it -- but what if we kept looking \"upwards\" for the \"missing\" one? etc) but for now, leaving it at this -- at the very least it's probably good to make the current system internally consistent.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-10-11** at **08:14pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/66/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/64", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/64/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/64/events", "html_url": "https://github.com/fabric/fabric/issues/64", "id": 1437758, "node_id": "MDU6SXNzdWUxNDM3NzU4", "number": 64, "title": "Officially-blessed downloads don't have stable md5 checksums", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140147, "node_id": "MDU6TGFiZWwxNDAxNDc=", "url": "https://api.github.com/repos/fabric/fabric/labels/Packaging", "name": "Packaging", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 10, "created_at": "2011-08-19T01:57:43Z", "updated_at": "2012-02-29T01:51:47Z", "closed_at": "2011-08-19T02:11:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen I installed Fabric a few weeks ago, I created [an Arch Linux package](http://github.com/xiongchiamiov/AUR--python-fabric/) for it, because, well, that's what I do when something isn't already in the AUR.  When installing on a new machine today, I got an error about the checksums not matching, and a little investigation showed that git.fabfile.org dynamically creates archives for download in such a way that the md5 checksums change on each download.\n\nThe fine folks at GitHub got some complaints about this a while back, and have it all fixed up.  So then, you should probably:\n1. Talk to them (defunkt especially) and see if you can get their solution.\n2. Submit a bug to cgit's author.\n3. Make sure to push your tags to the GitHub mirror (`git push --tags`), so that someone (ok, maybe just me :) ) can use those for downloads, rather than the hacky \"download this specific commit\" thing I've currently got set up.\n\nIf the cheeseshop had a bit more flexibility, you could just keep everything on there, too, but it's not really designed for having beta versions of modules hosted.\n\n---\n\nOriginally submitted by **James Pearson** (xiong.chiamiov) on **2009-09-29** at **03:02pm EDT**\n### Relations\n- Related to #67: Prepare for packaging on PyPI, etc\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:32am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/64/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/62", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/62/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/62/events", "html_url": "https://github.com/fabric/fabric/issues/62", "id": 1437756, "node_id": "MDU6SXNzdWUxNDM3NzU2", "number": 62, "title": "backticks in run() don't work as expected", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 8, "created_at": "2011-08-19T01:57:42Z", "updated_at": "2017-02-04T04:04:16Z", "closed_at": "2011-08-19T02:11:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n```\nIn [2]: run('touch test.pid && kill `cat test.pid`')\nNo hosts found. Please specify (single) host string for connection: xyzhomework.com\n[xyzhomework.com] run: touch test.pid && kill `cat test.pid`\nPlease enter passphrase for private key: \n[xyzhomework.com] err: cat: test.pid: No such file or directory\n```\n\nThe file is created as expected.\n\nInterestingly,\n    run('echo `touch test.pid`')\ndoesn't error out, and creates test.pid in my home directory, as expected (yes, I did delete it after the previous run first).\n\nAlso,\n    In [4]: run('kill `cat test.pid`')\n    [xyzhomework.com] run: kill `cat test.pid`\n    [xyzhomework.com] err: kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]\nseems right, and after echoing a nonexistant PID into test.pid, I get\n    In [5]: run('kill `cat test.pid`')\n    [xyzhomework.com] run: kill `cat test.pid`\n    [xyzhomework.com] err: /bin/bash: line 0: kill: (999) - No such process\nwhich is also right.\n\nMy guess, then, is that there's something odd going on with subshells and whatnot.\n\n[30 seconds of experimentation later]\n\nYep, 'cause\n    run('touch test.pid && kill `cd && cat test.pid`')\nworks just fine.  So, something along the same lines as when you're cd-ed into a directory, delete and recreate said directory from another shell, and then do an ls in the original - you get nothing, because of some things that I learned in my systems programming class and promptly forgot.\n\nI'm not really sure what the best way to handle this is (if at all, and if it is in fact a fabric problem, and not paramiko), so you're on your own there.\n\n---\n\nOriginally submitted by **James Pearson** (xiong.chiamiov) on **2009-09-17** at **07:33pm EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:45am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/62/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/59", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/59/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/59/events", "html_url": "https://github.com/fabric/fabric/issues/59", "id": 1437753, "node_id": "MDU6SXNzdWUxNDM3NzUz", "number": 59, "title": "Exists produces \"ls: illegal option -- -\" error on mac os x", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 3, "created_at": "2011-08-19T01:57:40Z", "updated_at": "2012-02-29T01:51:44Z", "closed_at": "2011-08-19T02:11:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI'm using exists to check if file exists on remote host.\nRemote host is Mac OS X.\n\nexists command generates following command line: ls -d --color=never /opt/local/bin/python2.5\n\nIf I run this command in terminal I get\n\n$ ls -d --color=never /opt/local/bin/python2.5\nls: illegal option -- -\nusage: ls [-ABCFGHLPRSTWabcdefghiklmnopqrstuwx1] [file ...]\n\nwithout --color=never, it works\n$ ls -d /opt/local/bin/python2.5\n/opt/local/bin/python2.5\n\nWhat are the implications of removing --color=never?\n\n---\n\nOriginally submitted by **Taras Mankovski** (tarasm) on **2009-09-13** at **01:17pm EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:44am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/59/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/59/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/58", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/58/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/58/events", "html_url": "https://github.com/fabric/fabric/issues/58", "id": 1437752, "node_id": "MDU6SXNzdWUxNDM3NzUy", "number": 58, "title": "Add 'show_stderr' to local() as per fabric's own fabfile.py", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 1, "created_at": "2011-08-19T01:57:40Z", "updated_at": "2012-02-29T01:51:44Z", "closed_at": "2011-08-19T02:11:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nAs it says in the fabfile.py for fabric itself:\n\ndef test():\n    \"\"\"\n    Run all unit tests and doctests.\n    \"\"\"\n    # **Need show_stderr=True because the interesting output of nosetests is\n    # actually sent to stderr, not stdout.**\n    print(local('nosetests -sv --with-doctest', capture=False))\n\nI'm using fabric in place of Paver, which seems broken on OS X 10.6, as a kind of project level makefile and not being to capture the \"interesting output\" of nosetests during an automated run of my unit tests is a real drag.\n\nS\n\n---\n\nOriginally submitted by **Steve Steiner** (ssteiner) on **2009-09-12** at **08:34pm EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:45am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/58/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/58/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/53", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/53/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/53/events", "html_url": "https://github.com/fabric/fabric/issues/53", "id": 1437747, "node_id": "MDU6SXNzdWUxNDM3NzQ3", "number": 53, "title": "Add command-line option to abort if input is needed", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-19T01:57:37Z", "updated_at": "2012-02-29T01:51:40Z", "closed_at": "2011-08-19T02:11:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThe needs_host decorator contains a \"raw_input\" call internally.\n\nIt would be great if there was a command-line option that aborted if input was needed; this would make Fabric more amenable to automated use (instead of hanging in a console waiting for input that will never come.)\n\n---\n\nOriginally submitted by **Adam Vandenberg** ([adamv](https://github.com/adamv)) on **2009-08-14** at **08:11pm EDT**\n### Relations\n- Duplicates #189: Add option: skip password prompting upon failure\n\n---\n\nClosed as _Duplicate_ on **2011-03-15** at **10:12am EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/53/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/50", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/50/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/50/events", "html_url": "https://github.com/fabric/fabric/issues/50", "id": 1437744, "node_id": "MDU6SXNzdWUxNDM3NzQ0", "number": 50, "title": "upload_template: wrong handling of source filename and generation of remote path", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 1, "created_at": "2011-08-19T01:57:36Z", "updated_at": "2012-02-29T01:51:38Z", "closed_at": "2011-08-19T02:11:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nWhen `upload_template` is trying to upload temporary file to remote host builds wrong path if source `filename` is not local file name.\n\n```\n>>> upload_template('/foo/bar/file.name', '/remote/path')\n\n[X.X.X.X] put: /tmp/tmpBDQ5yh -> /tmp//foo/bar/file.name\n\nFatal error: put() encountered an exception while uploading '/tmp/tmpBDQ5yh'\n\nUnderlying exception message:\n    No such file\n```\n\nPatch is attached.\n\n---\n\nOriginally submitted by **Alex Koshelev** ([daevaorn](https://github.com/daevaorn)) on **2009-08-10** at **12:04pm EDT**\n### Attachments\n- [ut.diff](https://gist.github.com/c056c909b9777382354b)\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:31am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/50/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/49", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/49/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/49/events", "html_url": "https://github.com/fabric/fabric/issues/49", "id": 1437743, "node_id": "MDU6SXNzdWUxNDM3NzQz", "number": 49, "title": "Fabric does not prompt for input when the host does.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-08-19T01:57:35Z", "updated_at": "2012-02-29T01:51:38Z", "closed_at": "2011-08-19T02:11:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI am running pg_dump on the host and it prompts me for a password. Shouldn't Fabric pass this prompt on to the local machine? I don't want to have to enter the password in the command line...\n\n---\n\nOriginally submitted by **Stavros Kalapothas** ([stavros](https://github.com/Stavros)) on **2009-08-09** at **12:21pm EDT**\n### Relations\n- Duplicates #7: Improved prompt detection and passthrough\n\n---\n\nClosed as _Duplicate_ on **2009-11-08** at **11:45am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/49/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/48", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/48/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/48/events", "html_url": "https://github.com/fabric/fabric/issues/48", "id": 1437742, "node_id": "MDU6SXNzdWUxNDM3NzQy", "number": 48, "title": "Specifying two hosts throws fabric into an infinite loop.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 6, "created_at": "2011-08-19T01:57:35Z", "updated_at": "2012-02-29T01:51:37Z", "closed_at": "2011-08-19T02:11:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nThis code throws fabric into an infinite loop:\n\n```\nfrom fabric.api import env\n\nenv.hosts = []\n\ndef production():\n    env.hosts.append(\"test.com\")\n    print env.hosts\n\ndef staging():\n    env.hosts.append(\"staging.test.com\")\n    print env.hosts\n```\n\nThe servers keep getting appended to the list for ever. I would imagine that this code runs once per host, so it keeps running. How can I make each one run once?\n\n---\n\nOriginally submitted by **Stavros Kalapothas** ([stavros](https://github.com/Stavros)) on **2009-08-09** at **10:46am EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:44am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/48/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/48/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/47", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/47/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/47/events", "html_url": "https://github.com/fabric/fabric/issues/47", "id": 1437741, "node_id": "MDU6SXNzdWUxNDM3NzQx", "number": 47, "title": "env.hosts should be a list initially.", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140145, "node_id": "MDU6TGFiZWwxNDAxNDU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Core", "name": "Core", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 6, "created_at": "2011-08-19T01:57:34Z", "updated_at": "2012-02-29T01:51:36Z", "closed_at": "2011-08-19T02:11:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI would like to have commands to append hosts in the host env variable, sort of like:\n\n```\ndef production():\n    env.hosts.append(\"production.com\")\n\ndef staging():\n    env.hosts.append(\"staging.com\")\n```\n\nRight now, however, env.hosts is None, so I need to check and assign a list to it every time. It should be a list initially so we can just append to it.\n\n---\n\nOriginally submitted by **Stavros Kalapothas** ([stavros](https://github.com/Stavros)) on **2009-08-09** at **07:26am EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:44am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/47/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/46", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/46/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/46/events", "html_url": "https://github.com/fabric/fabric/issues/46", "id": 1437740, "node_id": "MDU6SXNzdWUxNDM3NzQw", "number": 46, "title": "installation doc: does not list setuptool dependency", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 2, "created_at": "2011-08-19T01:57:34Z", "updated_at": "2012-02-29T01:51:36Z", "closed_at": "2011-08-19T02:11:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI install packages from tarballs (tgz) and use setup.py normally.\n\nThere is a dependency on setuptool in the setup.py script.  \nI don't know if this is a documentation bug or a setup script bug.\n\n---\n\nOriginally submitted by **Anonymous** () on **2009-08-06** at **06:40pm EDT**\n### Relations\n- Duplicates #67: Prepare for packaging on PyPI, etc\n\n---\n\nClosed as _Duplicate_ on **2009-11-08** at **11:32am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/46/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/45", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/45/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/45/events", "html_url": "https://github.com/fabric/fabric/issues/45", "id": 1437739, "node_id": "MDU6SXNzdWUxNDM3NzM5", "number": 45, "title": "0.9 doc first example is wrong", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 1, "created_at": "2011-08-19T01:57:33Z", "updated_at": "2012-02-29T01:51:35Z", "closed_at": "2011-08-19T02:11:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nhttp://docs.fabfile.org/0.9/\n\nThe about demo's command line reads\n  $ fab -H localhost,linuxbox uname\nand should read\n$ fab -H localhost,linuxbox host_type\n\n---\n\nOriginally submitted by **Anonymous** () on **2009-08-05** at **02:12pm EDT**\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:32am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/45/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/42", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/42/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/42/events", "html_url": "https://github.com/fabric/fabric/issues/42", "id": 1437736, "node_id": "MDU6SXNzdWUxNDM3NzM2", "number": 42, "title": "No documentation for ~/.fabricrc", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140154, "node_id": "MDU6TGFiZWwxNDAxNTQ=", "url": "https://api.github.com/repos/fabric/fabric/labels/Docs", "name": "Docs", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 4, "created_at": "2011-08-19T01:57:31Z", "updated_at": "2016-02-16T13:09:56Z", "closed_at": "2011-08-19T02:11:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nIt is noted at http://docs.fabfile.org/0.9/compatibility.html#other-backwards-incompatible-changes that it is possible to configure fabric via a ~/.fabricrc file, but searching the documentation yieds no explanation as to how that's accomplished.\n\n---\n\nOriginally submitted by **Mikkel H\u00f8gh** ([mikl](https://github.com/mikl)) on **2009-07-28** at **04:13pm EDT**\n\n---\n\nClosed as _Wontfix_ on **2009-11-08** at **11:32am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/42/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/41", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/41/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/41/events", "html_url": "https://github.com/fabric/fabric/issues/41", "id": 1437735, "node_id": "MDU6SXNzdWUxNDM3NzM1", "number": 41, "title": "get() not using remote filename when downloading to a directory", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 1, "created_at": "2011-08-19T01:57:31Z", "updated_at": "2012-02-29T01:51:33Z", "closed_at": "2011-08-19T02:11:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nInstead, the filename is simply \".hostname_suffix\", implying that a string is empty or some string building logic is off.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-07-28** at **02:32pm EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-03-10** at **11:43am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/41/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/40", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/40/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/40/events", "html_url": "https://github.com/fabric/fabric/issues/40", "id": 1437734, "node_id": "MDU6SXNzdWUxNDM3NzM0", "number": 40, "title": "get() not correctly detecting number of hosts", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/1", "html_url": "https://github.com/fabric/fabric/milestone/1", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/1/labels", "id": 29484, "node_id": "MDk6TWlsZXN0b25lMjk0ODQ=", "number": 1, "title": "1.0", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2011-08-19T01:56:47Z", "updated_at": "2011-09-26T21:45:31Z", "due_on": null, "closed_at": "2011-09-26T21:45:31Z"}, "comments": 3, "created_at": "2011-08-19T01:57:30Z", "updated_at": "2012-02-29T01:51:32Z", "closed_at": "2011-08-19T02:11:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nScenario is the use of one task to set `env.hosts`, then a 2nd task called after it without any `@hosts` usage (so that the previous set of `env.hosts` takes effect.)\n\n`get()`, in this case, is appending hostnames as if there were more than one host. Either there's a bug in how it looks at `env.all_hosts`, or `env.all_hosts` is not being set correctly.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-07-28** at **02:30pm EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-03-10** at **11:43am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/37", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/37/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/37/events", "html_url": "https://github.com/fabric/fabric/issues/37", "id": 1437731, "node_id": "MDU6SXNzdWUxNDM3NzMx", "number": 37, "title": "Use of _transport instead of the more appropriate get_transport()", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/6", "html_url": "https://github.com/fabric/fabric/milestone/6", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/6/labels", "id": 29489, "node_id": "MDk6TWlsZXN0b25lMjk0ODk=", "number": 6, "title": "0.9.5", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2011-08-19T01:57:27Z", "updated_at": "2011-08-19T02:12:11Z", "due_on": null, "closed_at": "2011-08-19T02:12:11Z"}, "comments": 5, "created_at": "2011-08-19T01:57:28Z", "updated_at": "2012-02-29T01:51:30Z", "closed_at": "2011-08-19T02:10:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nFabric depends on Paramiko > 1.7. In all the 1.7 releases of Paramiko the suggested way of accessing the transport is the use of `get_transport()` instead of `_transport`. The main benefit is being able to interchangeably use Channels or SSHClients as generic 'client' objects.\n\nFrom what I see there are 2 occurrences of `_transport` in the code and both are in operations.py. Incidentally again this would increase freedom to implement extensions to Fabric since it wouldn't rely on a specific _private_ interface but on a public interface that Paramiko uses across multiple objects.\n\n---\n\nOriginally submitted by **Anonymous** () on **2009-07-27** at **04:13pm EDT**\n\n---\n\nClosed as _Done_ on **2011-03-16** at **02:53pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/37/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/36", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/36/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/36/events", "html_url": "https://github.com/fabric/fabric/issues/36", "id": 1437730, "node_id": "MDU6SXNzdWUxNDM3NzMw", "number": 36, "title": "Incorrect import of state.connections", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140151, "node_id": "MDU6TGFiZWwxNDAxNTE=", "url": "https://api.github.com/repos/fabric/fabric/labels/Refactoring", "name": "Refactoring", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-08-19T01:57:27Z", "updated_at": "2012-02-29T01:51:30Z", "closed_at": "2011-08-19T02:10:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nCurrently fabric.operations is importing state.connections at module level like this:\n\nfrom state import connections\n\nthis is most probably not wanted and a silent subtle bug waiting to explode. The reason is that Python rebinds names when imports happen in that way. You can try yourself by comparing with 'is' the 2 connections variables after startup and you'll see that they compare to false. Given the shared nature of the variable and the fact that it's immutable you are basically asking for trouble by rebinding it.\n\nThe fix is to never use that import and instead access connections through state. The even better fix is to not use this way of creating new connections but favor a connect() function that can access a cache instead. Also instead of importing the connect function it should pass it as an argument so that users can override it to implement custom behavior on connect (like tunnelling).\n\n---\n\nOriginally submitted by **Anonymous** () on **2009-07-27** at **04:08pm EDT**\n\n---\n\nClosed as _Worksforme_ on **2011-04-24** at **11:12pm EDT**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/36/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/34", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/34/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/34/events", "html_url": "https://github.com/fabric/fabric/issues/34", "id": 1437728, "node_id": "MDU6SXNzdWUxNDM3NzI4", "number": 34, "title": "upload_template produces \"Permission denied\".", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 12, "created_at": "2011-08-19T01:57:26Z", "updated_at": "2012-02-29T01:51:28Z", "closed_at": "2011-08-19T02:10:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\n```\ndef add_django_site():\n    upload_template(\"template.txt\", context[\"short_name\"])\n```\n\nThis produces:\n\n```\nUnderlying exception message:\n    Permission denied\n```\n\nput() works fine.\n\n---\n\nOriginally submitted by **Anonymous** () on **2009-07-26** at **08:15am EDT**\n### Attachments\n- [files.py](https://gist.github.com/b2c0bb0c3c70843e2006)\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:31am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/34/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/32", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/32/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/32/events", "html_url": "https://github.com/fabric/fabric/issues/32", "id": 1437726, "node_id": "MDU6SXNzdWUxNDM3NzI2", "number": 32, "title": "Occasional dropped lines of output", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140143, "node_id": "MDU6TGFiZWwxNDAxNDM=", "url": "https://api.github.com/repos/fabric/fabric/labels/Network", "name": "Network", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 22, "created_at": "2011-08-19T01:57:24Z", "updated_at": "2012-02-29T01:51:27Z", "closed_at": "2011-08-19T02:10:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nOne or two users (at least) are experiencing dropped lines of output (usually the last line in an expected return value from a `run()` or `sudo()`) after the patch to fix output-dropping issues from about a month ago.\n\nA good example of this is Xinan Wu with a series of emails to the list, most recently on July 13th, with a suggested fix. Also, the \"Beta 1\" thread has mails from Niklas Lindstrom who has the verifiable \"works prior to recent fix, doesn't work after\" issue.\n\nTake a look at that email, find the others if possible, and see what's up. Would be nice to have this fixed before 0.9 final, so marking it as such, but if it's an edge case and isn't affecting the majority of users, might be able to wait for an 0.9.x release.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-07-24** at **09:48pm EDT**\n### Attachments\n- [fabfile.py](https://gist.github.com/78ada36e39f5522d006d)\n\n---\n\nClosed as _Done_ on **2009-11-08** at **12:04pm EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/32/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/31", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/31/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/31/events", "html_url": "https://github.com/fabric/fabric/issues/31", "id": 1437725, "node_id": "MDU6SXNzdWUxNDM3NzI1", "number": 31, "title": "--roles doesn't work", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140146, "node_id": "MDU6TGFiZWwxNDAxNDY=", "url": "https://api.github.com/repos/fabric/fabric/labels/UI", "name": "UI", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/fabric/fabric/milestones/5", "html_url": "https://github.com/fabric/fabric/milestone/5", "labels_url": "https://api.github.com/repos/fabric/fabric/milestones/5/labels", "id": 29488, "node_id": "MDk6TWlsZXN0b25lMjk0ODg=", "number": 5, "title": "0.9", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2011-08-19T01:57:22Z", "updated_at": "2011-08-19T02:11:46Z", "due_on": null, "closed_at": "2011-08-19T02:11:46Z"}, "comments": 2, "created_at": "2011-08-19T01:57:23Z", "updated_at": "2012-02-29T01:51:27Z", "closed_at": "2011-08-19T02:10:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Description\n\nI recall this coming up before and thought it was fixed, but perhaps not. asksol is finding that \"fab task:roles=foo\" works but \"fab --roles=foo task\" prompts for a host.\n\nBeen a while since I mucked with the hosts/roles stuff, but not seeing anything obviously wrong right now (though I also don't see anywhere that env.roles is being referenced; but nor is env.hosts, implying that -H shouldn't work, and I know it does...).\n\nThis is as good a spot as any to start beefing up the test suite. Write tests for this and hosts, then fix when it doesn't pass.\n\n---\n\nOriginally submitted by **Jeff Forcier** ([bitprophet](https://github.com/bitprophet)) on **2009-07-24** at **09:48am EDT**\n### Relations\n- Related to #33: Look into adding \"*\" support for hosts/roles\n\n---\n\nClosed as _Done_ on **2009-11-08** at **11:31am EST**\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/31/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fabric/fabric/issues/1", "repository_url": "https://api.github.com/repos/fabric/fabric", "labels_url": "https://api.github.com/repos/fabric/fabric/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/fabric/fabric/issues/1/comments", "events_url": "https://api.github.com/repos/fabric/fabric/issues/1/events", "html_url": "https://github.com/fabric/fabric/issues/1", "id": 1437693, "node_id": "MDU6SXNzdWUxNDM3Njkz", "number": 1, "title": "Dummy issue, ignore", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 140149, "node_id": "MDU6TGFiZWwxNDAxNDk=", "url": "https://api.github.com/repos/fabric/fabric/labels/Contrib", "name": "Contrib", "color": "ededed", "default": false, "description": null}, {"id": 140155, "node_id": "MDU6TGFiZWwxNDAxNTU=", "url": "https://api.github.com/repos/fabric/fabric/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-08-19T01:56:46Z", "updated_at": "2011-08-19T02:10:51Z", "closed_at": "2011-08-19T02:10:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This issue intentionally left blank.\n", "reactions": {"url": "https://api.github.com/repos/fabric/fabric/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fabric/fabric/issues/1/timeline", "performed_via_github_app": null, "state_reason": "completed"}]